!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["stream.common"]=t():e["stream.common"]=t()}(window,(function(){return n={},e.m=t={127:function(e,t,n){(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([["jumper.common"],{"../../../../../.BtCxCache/MediaUx.Ng-Dialog.0.5.6/node_modules/ng-dialog/css/ngDialog-theme-default.css":function(e,t){},"../../../../../.BtCxCache/MediaUx.Ng-Dialog.0.5.6/node_modules/ng-dialog/css/ngDialog.css":function(e,t){},"../../../../../.BtCxCache/MediaUx.Ng-Dialog.0.5.6/node_modules/ng-dialog/js/ngDialog.js":function(e,t,n){var i;i=function(e){"use strict";var t=e.module("ngDialog",[]),n=e.element,i=e.isDefined,r=(document.body||document.documentElement).style,o=i(r.animation)||i(r.WebkitAnimation)||i(r.MozAnimation)||i(r.MsAnimation)||i(r.OAnimation),s="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",a={html:!1,body:!1},c={},l=[],u=!1;return t.provider("ngDialog",(function(){var t=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceHtmlReload=function(e){a.html=e||!1},this.setForceBodyReload=function(e){a.body=e||!1},this.setDefaults=function(n){e.extend(t,n)};var i,r=0,d=0,p={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(m,A,h,f,g,v,y,S,b,C){var E=[],w={onDocumentKeydown:function(e){27===e.keyCode&&T.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",w.onTrapFocusKeydown),E.body.on("keydown",w.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",w.onTrapFocusKeydown),E.body.off("keydown",w.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,(function(t){t=e.element(t),w.deactivate(t)}))},setBodyPadding:function(e){var t=parseInt(E.body.css("padding-right")||0,10);E.body.css("padding-right",t+e+"px"),E.body.data("ng-dialog-original-padding",t),v.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=E.body.data("ng-dialog-original-padding");e?E.body.css("padding-right",e+"px"):E.body.css("padding-right",""),v.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n,r=e.data("$ngDialogOptions"),a=e.attr("id"),m=c[a];m&&(void 0!==S.Hammer?((n=m.hammerTime).off("tap",i),n.destroy&&n.destroy(),delete m.hammerTime):e.unbind("click"),1===d&&E.body.unbind("keydown",w.onDocumentKeydown),e.hasClass("ngdialog-closing")||--d,(n=e.data("$ngDialogPreviousFocus"))&&n.focus&&n.focus(),v.$broadcast("ngDialog.closing",e,t),d=d<0?0:d,o&&!r.disableAnimation?(m.$destroy(),e.unbind(s).bind(s,(function(){w.closeDialogElement(e,t)})).addClass("ngdialog-closing")):(m.$destroy(),w.closeDialogElement(e,t)),p[a]&&(p[a].resolve({id:a,value:t,$dialog:e,remainingDialogs:d}),delete p[a]),c[a]&&delete c[a],l.splice(l.indexOf(a),1),l.length||(E.body.unbind("keydown",w.onDocumentKeydown),u=!1))},closeDialogElement:function(e,t){e.remove(),0===d&&(E.html.removeClass("ngdialog-open"),E.body.removeClass("ngdialog-open"),w.resetBodyPadding()),v.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,n){var i=t.data("$ngDialogPreCloseCallback");i&&e.isFunction(i)?(i=i.call(t,n),e.isObject(i)?i.closePromise?i.closePromise.then((function(){w.performCloseDialog(t,n)})):i.then((function(){w.performCloseDialog(t,n)}),(function(){})):!1!==i&&w.performCloseDialog(t,n)):w.performCloseDialog(t,n)},onTrapFocusKeydown:function(t){var n;if((r=e.element(t.currentTarget)).hasClass("ngdialog"))n=r;else if(null===(n=w.getActiveDialog()))return;var i=9===t.keyCode,r=!0===t.shiftKey;i&&w.handleTab(n,t,r)},handleTab:function(e,t,n){var i,r,o,s=w.getFocusableElements(e);0!==s.length?(r=document.activeElement,i=-1===(o=Array.prototype.indexOf.call(s,r)),e=0===o,r=o===s.length-1,o=!1,n?(i||e)&&(s[s.length-1].focus(),o=!0):(i||r)&&(s[0].focus(),o=!0),o&&(t.preventDefault(),t.stopPropagation())):document.activeElement&&document.activeElement.blur()},autoFocus:function(e){var t=e[0],i=t.querySelector("*[autofocus]");null!==i&&(i.focus(),document.activeElement===i)||(0<(e=w.getFocusableElements(e)).length?e[0].focus():0<(t=w.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"))).length&&(t=t[0],n(t).attr("tabindex","-1").css("outline","0"),t.focus()))},getFocusableElements:function(e){return e=e[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),e=w.filterTabbableElements(e),w.filterVisibleElements(e)},filterTabbableElements:function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];"-1"!==n(r).attr("tabindex")&&t.push(r)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];(0<i.offsetWidth||0<i.offsetHeight)&&t.push(i)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:n(e[e.length-1])},applyAriaAttributes:function(e,t){var n;t.ariaAuto&&(t.ariaRole||(n=0<w.getFocusableElements(e).length?"dialog":"alertdialog",t.ariaRole=n),t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")),t.ariaRole&&e.attr("role",t.ariaRole),w.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),w.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,i,r){if(i&&e.attr(t,i),r&&(i=e.attr("id"),r=e[0].querySelector(r)))return i=i+"-"+t,n(r).attr("id",i),e.attr(t,i),i},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return w.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},T={__PRIVATE__:w,open:function(o){var s,a,m,P=e.copy(t),_=++r,B="ngdialog"+_;l.push(B),o=o||{},e.extend(P,o),p[B]=o=f.defer(),c[B]=s=(e.isObject(P.scope)?P.scope:v).$new();var I=e.extend({},P.resolve);return e.forEach(I,(function(t,n){I[n]=e.isString(t)?C.get(t):C.invoke(t,null,null,n)})),f.all({template:function(t){return t?e.isString(t)&&P.plain?t:"boolean"!=typeof P.cache||P.cache?D(t,{cache:A}):D(t,{cache:!1}):"Empty template"}(P.template||P.templateUrl),locals:f.all(I)}).then((function(t){var r=t.template,o=t.locals;P.showClose&&(r+='<div class="ngdialog-close"></div>');var c,l;t=P.overlay?"":" ngdialog-no-overlay";return(a=n('<div id="ngdialog'+_+'" class="ngdialog'+t+'"></div>')).html(P.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+r+"</div>":'<div class="ngdialog-content" role="document">'+r+"</div>"),a.data("$ngDialogOptions",P),s.ngDialogId=B,P.data&&e.isString(P.data)?(r=P.data.replace(/^\s*/,"")[0],s.ngDialogData="{"===r||"["===r?e.fromJson(P.data):P.data,s.ngDialogData.ngDialogId=B):P.data&&e.isObject(P.data)&&(s.ngDialogData=P.data,s.ngDialogData.ngDialogId=B),P.className&&a.addClass(P.className),P.disableAnimation&&a.addClass("ngdialog-disabled-animation"),m=P.appendTo&&e.isString(P.appendTo)?e.element(document.querySelector(P.appendTo)):E.body,w.applyAriaAttributes(a,P),P.preCloseCallback&&(e.isFunction(P.preCloseCallback)?c=P.preCloseCallback:e.isString(P.preCloseCallback)&&s&&(e.isFunction(s[P.preCloseCallback])?c=s[P.preCloseCallback]:s.$parent&&e.isFunction(s.$parent[P.preCloseCallback])?c=s.$parent[P.preCloseCallback]:v&&e.isFunction(v[P.preCloseCallback])&&(c=v[P.preCloseCallback])),c&&a.data("$ngDialogPreCloseCallback",c)),s.closeThisDialog=function(e){w.closeDialog(a,e)},P.controller&&(e.isString(P.controller)||e.isArray(P.controller)||e.isFunction(P.controller))&&(P.controllerAs&&e.isString(P.controllerAs)&&(l=P.controllerAs),l=b(P.controller,e.extend(o,{$scope:s,$element:a}),!0,l),P.bindToController&&e.extend(l.instance,{ngDialogId:s.ngDialogId,ngDialogData:s.ngDialogData,closeThisDialog:s.closeThisDialog}),a.data("$ngDialogControllerController",l())),y((function(){var e=document.querySelectorAll(".ngdialog");w.deactivateAll(e),h(a)(s),e=S.innerWidth-E.body.prop("clientWidth"),E.html.addClass("ngdialog-open"),E.body.addClass("ngdialog-open"),0<(e-=S.innerWidth-E.body.prop("clientWidth"))&&w.setBodyPadding(e),m.append(a),w.activate(a),P.trapFocus&&w.autoFocus(a),P.name?v.$broadcast("ngDialog.opened",{dialog:a,name:P.name}):v.$broadcast("ngDialog.opened",a)})),u||(E.body.bind("keydown",w.onDocumentKeydown),u=!0),P.closeByNavigation&&(l=w.getRouterLocationEventName(),v.$on(l,(function(){w.closeDialog(a)}))),P.preserveFocus&&a.data("$ngDialogPreviousFocus",document.activeElement),i=function(e){var t=!!P.closeByDocument&&n(e.target).hasClass("ngdialog-overlay");e=n(e.target).hasClass("ngdialog-close");(t||e)&&T.close(a.attr("id"),e?"$closeButton":"$document")},void 0!==S.Hammer?(s.hammerTime=S.Hammer(a[0])).on("tap",i):a.bind("click",i),d+=1,T})),{id:B,closePromise:o.promise,close:function(e){w.closeDialog(a,e)}};function D(e,t){return v.$broadcast("ngDialog.templateLoading",e),g.get(e,t||{}).then((function(t){return v.$broadcast("ngDialog.templateLoaded",e),t.data||""}))}},openConfirm:function(t){var i=f.defer(),r={closeByEscape:!1,closeByDocument:!1};e.extend(r,t),r.scope=(e.isObject(r.scope)?r.scope:v).$new(),r.scope.confirm=function(e){i.resolve(e);var t=n(document.getElementById(o.id));w.performCloseDialog(t,e)};var o=T.open(r);return o.closePromise.then((function(e){return e?i.reject(e.value):i.reject()})),i.promise},isOpen:function(e){return 0<n(document.getElementById(e)).length},close:function(e,t){var i=n(document.getElementById(e));return i.length?w.closeDialog(i,t):"$escape"===e?(e=l[l.length-1],(i=n(document.getElementById(e))).data("$ngDialogOptions").closeByEscape&&w.closeDialog(i,"$escape")):T.closeAll(t),T},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),i=t.length-1;0<=i;i--){var r=t[i];w.closeDialog(n(r),e)}},getOpenDialogs:function(){return l},getDefaults:function(){return t}};return e.forEach(["html","body"],(function(e){var t;E[e]=m.find(e),a[e]&&(t=w.getRouterLocationEventName(),v.$on(t,(function(){E[e]=m.find(e)})))})),T}]})),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,i,r){i.on("click",(function(i){i.preventDefault();var o=e.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";e.isDefined(r.ngDialogClosePrevious)&&t.close(r.ngDialogClosePrevious),i=t.getDefaults(),t.open({template:r.ngDialog,className:r.ngDialogClass||i.className,controller:r.ngDialogController,controllerAs:r.ngDialogControllerAs,bindToController:r.ngDialogBindToController,scope:o,data:r.ngDialogData,showClose:"false"!==r.ngDialogShowClose&&("true"===r.ngDialogShowClose||i.showClose),closeByDocument:"false"!==r.ngDialogCloseByDocument&&("true"===r.ngDialogCloseByDocument||i.closeByDocument),closeByEscape:"false"!==r.ngDialogCloseByEscape&&("true"===r.ngDialogCloseByEscape||i.closeByEscape),overlay:"false"!==r.ngDialogOverlay&&("true"===r.ngDialogOverlay||i.overlay),preCloseCallback:r.ngDialogPreCloseCallback||i.preCloseCallback})}))}}}]),t},e.exports?("undefined"==typeof angular?i(n("angular")):i(angular),e.exports="ngDialog"):(n=[n("angular")],void 0===(i="function"==typeof(i=i)?i.apply(t,n):i)||(e.exports=i))},"../../../../../.BtCxCache/MediaUx.V-Accordion.1.6.0/node_modules/v-accordion/dist/v-accordion.js":function(e,t){!function(e){"use strict";function t(t){return{restrict:"E",transclude:!0,controller:n,scope:{control:"=?",expandCb:"&?onexpand",collapseCb:"&?oncollapse",id:"@?"},link:{pre:function(t,n,i){t.allowMultiple=e.isDefined(i.multiple)&&(""===i.multiple||"true"===i.multiple)},post:function(n,i,r,o,s){s(n.$parent.$new(),(function(e,t){t.$accordion=n.internalControl,n.id&&(t.$accordion.id=n.id),i.append(e)})),r.$set("role","tablist"),n.allowMultiple&&r.$set("aria-multiselectable","true"),e.isDefined(n.control)?(e.forEach(["toggle","expand","collapse","expandAll","collapseAll","hasExpandedPane"],(function(e){if(n.control[e])throw new Error("The `"+e+"` method can not be overwritten")})),r=e.extend({},n.internalControl,n.control),n.control=n.internalControl=r):n.control=n.internalControl,t((function(){var t=e.isDefined(o.getAccordionId())?o.getAccordionId()+":onReady":"vAccordion:onReady";n.$emit(t)}),0)}}}}function n(t){var n=this,i=!1;t.panes=[],t.expandCb=e.isFunction(t.expandCb)?t.expandCb:e.noop,t.collapseCb=e.isFunction(t.collapseCb)?t.collapseCb:e.noop,n.hasExpandedPane=function(){for(var e=!1,n=0,i=t.panes.length;n<i;n++)if(t.panes[n].isExpanded){e=!0;break}return e},n.getPaneByIndex=function(n){var i;return e.forEach(t.panes,(function(t){t.$parent&&e.isDefined(t.$parent.$index)&&t.$parent.$index===n&&(i=t)})),i||t.panes[n]},n.getPaneIndex=function(n){var i;return e.forEach(t.panes,(function(t){t.$parent&&e.isDefined(t.$parent.$index)&&t===n&&(i=t.$parent.$index)})),e.isDefined(i)?i:t.panes.indexOf(n)},n.getPaneById=function(n){var i;return e.forEach(t.panes,(function(e){e.id&&e.id===n&&(i=e)})),i},n.getPaneId=function(e){return e.id},n.getAccordionId=function(){return t.id},n.disable=function(){i=!0},n.enable=function(){i=!1},n.addPane=function(e){if(!t.allowMultiple&&n.hasExpandedPane()&&e.isExpanded)throw new Error("The `multiple` attribute can't be found");t.panes.push(e),e.isExpanded&&t.expandCb({index:n.getPaneIndex(e),id:e.id,pane:e})},n.focusNext=function(){for(var e=t.panes.length,n=0;n<e;n++)if(t.panes[n].isFocused){var i=n+1;i>t.panes.length-1&&(i=0),t.panes[i].paneElement.find("v-pane-header")[0].focus();break}},n.focusPrevious=function(){for(var e=t.panes.length,n=0;n<e;n++)if(t.panes[n].isFocused){var i=n-1;i<0&&(i=t.panes.length-1),t.panes[i].paneElement.find("v-pane-header")[0].focus();break}},n.toggle=function(e){!i&&e&&(t.allowMultiple||n.collapseAll(e),e.isExpanded=!e.isExpanded,e.isExpanded?t.expandCb({index:n.getPaneIndex(e),id:e.id,pane:e}):t.collapseCb({index:n.getPaneIndex(e),id:e.id,pane:e}))},n.expand=function(e){!i&&e&&(t.allowMultiple||n.collapseAll(e),e.isExpanded||(e.isExpanded=!0,t.expandCb({index:n.getPaneIndex(e),id:e.id,pane:e})))},n.collapse=function(e){!i&&e&&e.isExpanded&&(e.isExpanded=!1,t.collapseCb({index:n.getPaneIndex(e),id:e.id,pane:e}))},n.expandAll=function(){if(!i){if(!t.allowMultiple)throw new Error("The `multiple` attribute can't be found");e.forEach(t.panes,(function(e){n.expand(e)}))}},n.collapseAll=function(r){i||e.forEach(t.panes,(function(e){e!==r&&n.collapse(e)}))},t.internalControl={toggle:function(t){e.isString(t)?n.toggle(n.getPaneById(t)):n.toggle(n.getPaneByIndex(t))},expand:function(t){e.isString(t)?n.expand(n.getPaneById(t)):n.expand(n.getPaneByIndex(t))},collapse:function(t){e.isString(t)?n.collapse(n.getPaneById(t)):n.collapse(n.getPaneByIndex(t))},expandAll:n.expandAll,collapseAll:n.collapseAll,hasExpandedPane:n.hasExpandedPane}}function i(t,n,i){return{restrict:"E",require:"^vAccordion",transclude:!0,controller:r,scope:{isExpanded:"=?expanded",isDisabled:"=?ngDisabled",id:"@?"},link:function(t,r,o,s,a){a(t.$parent.$new(),(function(e,n){n.$pane=t.internalControl,t.id&&(n.$pane.id=t.id),r.append(e)})),e.isDefined(t.isExpanded)||(t.isExpanded=e.isDefined(o.expanded)&&""===o.expanded),e.isDefined(o.disabled)&&(t.isDisabled=!0);var c=i.states,l=r.find("v-pane-header"),u=r.find("v-pane-content"),d=(o=u.find("div"),s.getAccordionId());if(!l[0])throw new Error("The `v-pane-header` directive can't be found");if(!u[0])throw new Error("The `v-pane-content` directive can't be found");function p(n){n=e.isDefined(d)?d+":"+n:"vAccordion:"+n,t.$emit(n)}t.paneElement=r,t.paneContentElement=u,t.paneInnerElement=o,(t.accordionCtrl=s).addPane(t),t.$evalAsync((function(){t.isExpanded?(r.addClass(c.expanded),u.css("max-height","none").attr("aria-hidden","false"),l.attr({"aria-selected":"true","aria-expanded":"true"})):(u.css("max-height","0px").attr("aria-hidden","true"),l.attr({"aria-selected":"false","aria-expanded":"false"}))})),t.$watch("isExpanded",(function(e,t){return e===t||void(e?(s.disable(),u.attr("aria-hidden","false"),l.attr({"aria-selected":"true","aria-expanded":"true"}),p("onExpand"),n.addClass(r,c.expanded).then((function(){s.enable(),p("onExpandAnimationEnd")}))):(s.disable(),u.attr("aria-hidden","true"),l.attr({"aria-selected":"false","aria-expanded":"false"}),p("onCollapse"),n.removeClass(r,c.expanded).then((function(){s.enable(),p("onCollapseAnimationEnd")}))))}))}}}function r(e){var t=this;t.isExpanded=function(){return e.isExpanded},t.toggle=function(){e.isAnimating||e.isDisabled||e.accordionCtrl.toggle(e)},t.expand=function(){e.isAnimating||e.isDisabled||e.accordionCtrl.expand(e)},t.collapse=function(){e.isAnimating||e.isDisabled||e.accordionCtrl.collapse(e)},t.focusPane=function(){e.isFocused=!0},t.blurPane=function(){e.isFocused=!1},e.internalControl={toggle:t.toggle,expand:t.expand,collapse:t.collapse,isExpanded:t.isExpanded}}e.module("vAccordion.config",[]).constant("accordionConfig",{states:{expanded:"is-expanded"},expandAnimationDuration:.5}).animation(".is-expanded",["$animateCss","accordionConfig",function(t,n){return{addClass:function(i,r,o){var s=e.element(i[0].querySelector("v-pane-content"));i=e.element(s[0].querySelector("div"))[0].offsetHeight;return t(s,{easing:"ease",from:{maxHeight:"0px"},to:{maxHeight:i+"px"},duration:n.expandAnimationDuration}).start().done((function(){s.css("max-height","none"),o()})),function(e){e&&s.css("max-height","none")}},removeClass:function(i,r,o){var s=e.element(i[0].querySelector("v-pane-content"));i=e.element(s[0].querySelector("div"))[0].offsetHeight;return t(s,{easing:"ease",from:{maxHeight:i+"px"},to:{maxHeight:"0px"},duration:n.expandAnimationDuration}).start().done(o),function(e){e&&s.css("max-height","0px")}}}}]),e.module("vAccordion.directives",[]),e.module("vAccordion",["vAccordion.config","vAccordion.directives"]),e.module("vAccordion.directives").directive("vAccordion",t),t.$inject=["$timeout"],n.$inject=["$scope"],e.module("vAccordion.directives").directive("vPane",i),i.$inject=["$timeout","$animate","accordionConfig"],r.$inject=["$scope"],e.module("vAccordion.directives").directive("vPaneContent",(function(){return{restrict:"E",require:"^vPane",transclude:!0,template:"<div ng-transclude></div>",scope:{},link:function(e,t,n){n.$set("role","tabpanel"),n.$set("aria-hidden","true")}}})),e.module("vAccordion.directives").directive("vPaneHeader",(function(){return{restrict:"E",require:["^vPane","^vAccordion"],transclude:!0,template:"<div ng-transclude></div>",scope:{},link:function(t,n,i,r){i.$set("role","tab"),i.$set("tabindex","0");var o=r[0],s=r[1],a=e.isDefined(i.inactive);function c(){if(a)return!1;t.$apply((function(){o.toggle()}))}function l(e){32===e.keyCode||13===e.keyCode?(t.$apply((function(){o.toggle()})),e.preventDefault()):39===e.keyCode||40===e.keyCode?(t.$apply((function(){s.focusNext()})),e.preventDefault()):37!==e.keyCode&&38!==e.keyCode||(t.$apply((function(){s.focusPrevious()})),e.preventDefault())}n[0].onfocus=function(){o.focusPane()},n[0].onblur=function(){o.blurPane()},n.bind("click",c),n.bind("keydown",l),t.$on("$destroy",(function(){n.unbind("click",c),n.unbind("keydown",l),n[0].onfocus=null,n[0].onblur=null}))}}}))}(angular)},"../../../../../.BtCxCache/MediaUx.V-Accordion.1.6.0/node_modules/v-accordion/index.js":function(e,t,n){n("../../../../../.BtCxCache/MediaUx.V-Accordion.1.6.0/node_modules/v-accordion/dist/v-accordion.js"),e.exports="vAccordion"},"../../../../../.BtCxCache/Microsoft.AspNet.SignalR.JS.2.2.2/content/Scripts/jquery.signalR-2.2.2.min.js":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return e+".hubProxy"}function r(e){return l.isFunction(e)||"undefined"===l.type(e)?null:e}function o(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function s(e,t){var n,i,r=e._.invocationCallbacks;for(i in o(r)&&e.log("Clearing hub invocation callbacks with error: "+t+"."),e._.invocationCallbackId=0,delete e._.invocationCallbacks,e._.invocationCallbacks={},r)(n=r[i]).method.call(n.scope,{E:t})}function a(e,t){return new a.fn.init(e,t)}function c(e,t){var n={qs:null,logging:!1,useDefaultPath:!0};return l.extend(n,t),e&&!n.useDefaultPath||(e=(e||"")+"/signalr"),new c.fn.init(e,n)}var l,u,d,p,m,A,h,f,g,v,y,S,b,C,E,w,T,P,_,B,I,D,k,F,M,U,N,L,x,R,O,V,Q,H,$,j,Y;function G(){var e=y.document.createElement("iframe");return e.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),e}function K(e){B.clearTimeout(e._.reconnectAttemptTimeoutHandle),delete e._.reconnectAttemptTimeoutHandle}function z(e){var t,n,i;e._.keepAliveData.monitoring&&(i=(t=e)._.keepAliveData,t.state===H.connectionState.connected&&((n=(new Date).getTime()-t._.lastMessageAt)>=i.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):n>=i.timeoutWarning?i.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),O(t).triggerHandler($.onConnectionSlow),i.userNotified=!0):i.userNotified=!1)),Q.markActive(e)&&(e._.beatHandle=V.setTimeout((function(){z(e)}),e._.beatInterval))}function W(e,t){return t=e.url+t,e.transport&&(t+="?transport="+e.transport.name),Q.prepareQueryString(e,t)}function q(e){this.connection=e,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}(function(e,t){function n(e,t){return t.match(/:\d+$/)?t:t+":"+("http:"===(e=e)?80:"https:"===e?443:void 0)}function i(t,n){var i=[];this.tryBuffer=function(n){return t.state===e.signalR.connectionState.connecting&&(i.push(n),!0)},this.drain=function(){if(t.state===e.signalR.connectionState.connected)for(;0<i.length;)n(i.shift())},this.clear=function(){i=[]}}var r={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof e)throw new Error(r.nojQuery);function o(t,n,i){return n===t.state&&(t.state=i,e(t).triggerHandler(A.onStateChanged,[{oldState:n,newState:i}]),!0)}function s(e){return e._.keepAliveData.activated&&e.transport.supportsKeepAlive(e)}var a,c,l,u,d="complete"===t.document.readyState,p=e(t),m="__Negotiate Aborted__",A={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"};(a=function(e,t,n){return new a.fn.init(e,t,n)})._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:("Microsoft Internet Explorer"===t.navigator.appName&&(u=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent))&&(l=t.parseFloat(u[1])),l),error:function(e,t,n){return(e=new Error(e)).source=t,void 0!==n&&(e.context=n),e},transportError:function(e,t,n,i){return(i=this.error(e,n,i)).transport=t?t.name:void 0,i},format:function(e){for(var t=e,n=0;n<arguments.length-1;n++)t=t.replace("{"+n+"}",arguments[n+1]);return t},firefoxMajorVersion:function(e){return!(e=e.match(/Firefox\/(\d+)/))||!e.length||e.length<2?0:parseInt(e[1],10)},configurePingInterval:function(n){function i(t){e(n).triggerHandler(A.onError,[t])}var r=n._.config;r&&!n._.pingIntervalId&&r.pingInterval&&(n._.pingIntervalId=t.setInterval((function(){a.transports._logic.pingServer(n).fail(i)}),r.pingInterval))}},a.events=A,a.resources=r,a.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1},a.changeState=o,a.isDisconnecting=function(e){return e.state===a.connectionState.disconnected},a.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},a.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.")}},"function"==typeof p.on?p.on("load",(function(){d=!0})):p.load((function(){d=!0})),a.fn=a.prototype={init:function(t,n,r){var o=e(this);this.url=t,this.qs=n,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new i(this,(function(e){o.triggerHandler(A.onReceived,[e])})),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof r&&(this.logging=r)},_parseResponse:function(e){return e&&("string"==typeof e?this.json.parse(e):e)},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(i,r){var o;return i=e.trim(i),r=r||t.location,0===i.indexOf("http")&&((o=t.document.createElement("a")).href=i,o.protocol+n(o.protocol,o.host)!==r.protocol+n(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:a.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(n,i){var c,l,u,h,f,g=this,v={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},y=g._deferral||e.Deferred(),S=t.document.createElement("a");if(g.lastError=null,g._deferral=y,!g.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===e.type(n)?i=n:"object"===e.type(n)&&(e.extend(v,n),"function"===e.type(v.callback)&&(i=v.callback)),v.transport=function(t,n){var i,r;if(e.isArray(t)){for(i=t.length-1;0<=i;i--)r=t[i],"string"===e.type(r)&&a.transports[r]||(n.log("Invalid transport: "+r+", removing it from the transports list."),t.splice(i,1));0===t.length&&(n.log("No transports remain within the specified transport array."),t=null)}else if(a.transports[t]||"auto"===t){if("auto"===t&&a._.ieVersion<=8)return["longPolling"]}else n.log("Invalid transport: "+t.toString()+"."),t=null;return t}(v.transport,g),!v.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return g._.config=v,d||!0!==v.waitForPageLoad?g.state===a.connectionState.connecting||(!1===o(g,a.connectionState.disconnected,a.connectionState.connecting)?y.resolve(g):((u=g)._.configuredStopReconnectingTimeout||(f=function(t){var n=a._.format(a.resources.reconnectTimeout,t.disconnectTimeout);t.log(n),e(t).triggerHandler(A.onError,[a._.error(n,"TimeoutException")]),t.stop(!1,!1)},u.reconnecting((function(){var e=this;e.state===a.connectionState.reconnecting&&(h=t.setTimeout((function(){f(e)}),e.disconnectTimeout))})),u.stateChanged((function(e){e.oldState===a.connectionState.reconnecting&&t.clearTimeout(h)})),u._.configuredStopReconnectingTimeout=!0),S.href=g.url,S.protocol&&":"!==S.protocol?(g.protocol=S.protocol,g.host=S.host):(g.protocol=t.document.location.protocol,g.host=S.host||t.document.location.host),g.baseUrl=g.protocol+"//"+g.host,g.wsProtocol="https:"===g.protocol?"wss://":"ws://","auto"===v.transport&&!0===v.jsonp&&(v.transport="longPolling"),0===g.url.indexOf("//")&&(g.url=t.location.protocol+g.url,g.log("Protocol relative URL detected, normalizing it to '"+g.url+"'.")),this.isCrossDomain(g.url)&&(g.log("Auto detected cross domain url."),"auto"===v.transport&&(v.transport=["webSockets","serverSentEvents","longPolling"]),void 0===v.withCredentials&&(v.withCredentials=!0),v.jsonp||(v.jsonp=!e.support.cors,v.jsonp&&g.log("Using jsonp because this browser doesn't support CORS.")),g.contentType=a._.defaultContentType),g.withCredentials=v.withCredentials,g.ajaxDataType=v.jsonp?"jsonp":"text",e(g).bind(A.onStart,(function(){"function"===e.type(i)&&i.call(g),y.resolve(g)})),g._.initHandler=a.transports._logic.initHandler(g),c=function(n,i){var l=a._.error(r.noTransportOnInit);if((i=i||0)>=n.length)return 0===i?g.log("No transports supported by the server were selected."):1===i?g.log("No fallback transports were selected."):g.log("Fallback transports exhausted."),e(g).triggerHandler(A.onError,[l]),y.reject(l),void g.stop();if(g.state!==a.connectionState.disconnected){function u(){c(n,i+1)}l=n[i];var d=a.transports[l];g.transport=d;try{g._.initHandler.start(d,(function(){var n=11<=a._.firefoxMajorVersion(t.navigator.userAgent),i=!!g.withCredentials&&n;g.log("The start request succeeded. Transitioning to the connected state."),s(g)&&a.transports._logic.monitorKeepAlive(g),a.transports._logic.startHeartbeat(g),a._.configurePingInterval(g),o(g,a.connectionState.connecting,a.connectionState.connected)||g.log("WARNING! The connection was not in the connecting state."),g._.connectingMessageBuffer.drain(),e(g).triggerHandler(A.onStart),p.bind("unload",(function(){g.log("Window unloading, stopping the connection."),g.stop(i)})),n&&p.bind("beforeunload",(function(){t.setTimeout((function(){g.stop(i)}),0)}))}),u)}catch(n){g.log(d.name+" transport threw '"+n.message+"' when attempting to start."),u()}}},S=g.url+"/negotiate",l=function(t,n){t=a._.error(r.errorOnNegotiate,t,n._.negotiateRequest),e(n).triggerHandler(A.onError,t),y.reject(t),n.stop()},e(g).triggerHandler(A.onStarting),S=a.transports._logic.prepareQueryString(g,S),g.log("Negotiating with '"+S+"'."),g._.negotiateRequest=a.transports._logic.ajax(g,{url:S,error:function(e,t){t!==m?l(e,g):y.reject(a._.error(r.stoppedWhileNegotiating,null,g._.negotiateRequest))},success:function(t){var n,i,o=[],s=[];try{n=g._parseResponse(t)}catch(t){return void l(a._.error(r.errorParsingNegotiateResponse,t),g)}if(i=g._.keepAliveData,g.appRelativeUrl=n.Url,g.id=n.ConnectionId,g.token=n.ConnectionToken,g.webSocketServerUrl=n.WebSocketServerUrl,g._.pollTimeout=1e3*n.ConnectionTimeout+1e4,g.disconnectTimeout=1e3*n.DisconnectTimeout,g._.totalTransportConnectTimeout=g.transportConnectTimeout+1e3*n.TransportConnectTimeout,n.KeepAliveTimeout?(i.activated=!0,i.timeout=1e3*n.KeepAliveTimeout,i.timeoutWarning=i.timeout*g.keepAliveWarnAt,g._.beatInterval=(i.timeout-i.timeoutWarning)/3):i.activated=!1,g.reconnectWindow=g.disconnectTimeout+(i.timeout||0),!n.ProtocolVersion||n.ProtocolVersion!==g.clientProtocol)return i=a._.error(a._.format(r.protocolIncompatible,g.clientProtocol,n.ProtocolVersion)),e(g).triggerHandler(A.onError,[i]),void y.reject(i);e.each(a.transports,(function(e){return 0===e.indexOf("_")||"webSockets"===e&&!n.TryWebSockets||void s.push(e)})),e.isArray(v.transport)?e.each(v.transport,(function(t,n){0<=e.inArray(n,s)&&o.push(n)})):"auto"===v.transport?o=s:0<=e.inArray(v.transport,s)&&o.push(v.transport),c(o)}}))):(g._.deferredStartHandler=function(){g.start(n,i)},p.bind("load",g._.deferredStartHandler)),y.promise()},starting:function(t){var n=this;return e(n).bind(A.onStarting,(function(){t.call(n)})),n},send:function(e){var t=this;if(t.state===a.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===a.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,e),t},received:function(t){var n=this;return e(n).bind(A.onReceived,(function(e,i){t.call(n,i)})),n},stateChanged:function(t){var n=this;return e(n).bind(A.onStateChanged,(function(e,i){t.call(n,i)})),n},error:function(t){var n=this;return e(n).bind(A.onError,(function(e,i,r){n.lastError=i,t.call(n,i,r)})),n},disconnected:function(t){var n=this;return e(n).bind(A.onDisconnect,(function(){t.call(n)})),n},connectionSlow:function(t){var n=this;return e(n).bind(A.onConnectionSlow,(function(){t.call(n)})),n},reconnecting:function(t){var n=this;return e(n).bind(A.onReconnecting,(function(){t.call(n)})),n},reconnected:function(t){var n=this;return e(n).bind(A.onReconnect,(function(){t.call(n)})),n},stop:function(n,i){var c=this,l=c._deferral;return c._.deferredStartHandler&&p.unbind("load",c._.deferredStartHandler),delete c._.config,delete c._.deferredStartHandler,d||c._.config&&!0!==c._.config.waitForPageLoad?c.state!==a.connectionState.disconnected?(c.log("Stopping connection."),t.clearTimeout(c._.beatHandle),t.clearInterval(c._.pingIntervalId),c.transport&&(c.transport.stop(c),!1!==i&&c.transport.abort(c,n),s(c)&&a.transports._logic.stopMonitoringKeepAlive(c),c.transport=null),c._.negotiateRequest&&(c._.negotiateRequest.abort(m),delete c._.negotiateRequest),c._.initHandler&&c._.initHandler.stop(),delete c._deferral,delete c.messageId,delete c.groupsToken,delete c.id,delete c._.pingIntervalId,delete c._.lastMessageAt,delete c._.lastActiveAt,c._.connectingMessageBuffer.clear(),e(c).unbind(A.onStart),o(c,c.state,a.connectionState.disconnected),e(c).triggerHandler(A.onDisconnect),c):void 0:(c.log("Stopping connection prior to negotiate."),void(l&&l.reject(a._.error(r.stoppedWhileLoading))))},log:function(e){e=e,!1!==this.logging&&void 0!==t.console&&(e="["+(new Date).toTimeString()+"] SignalR: "+e,t.console.debug?t.console.debug(e):t.console.log&&t.console.log(e))}},a.fn.init.prototype=a.fn,a.noConflict=function(){return e.connection===a&&(e.connection=c),a},e.connection&&(c=e.connection),e.connection=e.signalR=a})(window.jQuery,window),O=window.jQuery,V=window,H=O.signalR,$=O.signalR.events,j=O.signalR.changeState,Y="__Start Aborted__",H.transports={},q.prototype={start:function(e,t,n){var i=this,r=i.connection,o=!1;i.startRequested||i.connectionStopped?r.log("WARNING! "+e.name+" transport cannot be started. Initialization ongoing or completed."):(r.log(e.name+" transport starting."),e.start(r,(function(){o||i.initReceived(e,t)}),(function(t){return o||(o=!0,i.transportFailed(e,t,n)),!i.startCompleted||i.connectionStopped})),i.transportTimeoutHandle=V.setTimeout((function(){o||(o=!0,r.log(e.name+" transport timed out when trying to connect."),i.transportFailed(e,void 0,n))}),r._.totalTransportConnectTimeout))},stop:function(){this.connectionStopped=!0,V.clearTimeout(this.transportTimeoutHandle),H.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(e,t){var n=this,i=n.connection;n.startRequested?i.log("WARNING! The client received multiple init messages."):n.connectionStopped||(n.startRequested=!0,V.clearTimeout(n.transportTimeoutHandle),i.log(e.name+" transport connected. Initiating start request."),H.transports._logic.ajaxStart(i,(function(){n.startCompleted=!0,t()})))},transportFailed:function(e,t,n){var i=this.connection,r=i._deferral;this.connectionStopped||(V.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(t=H._.error(H.resources.errorDuringStartRequest,t),i.log(e.name+" transport failed during the start request. Stopping the connection."),O(i).triggerHandler($.onError,[t]),r&&r.reject(t),i.stop()):(e.stop(i),i.log(e.name+" transport failed to connect. Attempting to fall back."),n()))}},Q=H.transports._logic={ajax:function(e,t){return O.ajax(O.extend(!0,{},O.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:e.withCredentials},contentType:e.contentType,dataType:e.ajaxDataType},t))},pingServer:function(e){var t,n,i=O.Deferred();return e.transport?(t=e.url+"/ping",t=Q.addQs(t,e.qs),n=Q.ajax(e,{url:t,success:function(t){var r;try{r=e._parseResponse(t)}catch(t){return i.reject(H._.transportError(H.resources.pingServerFailedParse,e.transport,t,n)),void e.stop()}"pong"===r.Response?i.resolve():i.reject(H._.transportError(H._.format(H.resources.pingServerFailedInvalidResponse,t),e.transport,null,n))},error:function(t){401===t.status||403===t.status?(i.reject(H._.transportError(H._.format(H.resources.pingServerFailedStatusCode,t.status),e.transport,t,n)),e.stop()):i.reject(H._.transportError(H.resources.pingServerFailed,e.transport,t,n))}})):i.reject(H._.transportError(H.resources.noConnectionTransport,e.transport)),i.promise()},prepareQueryString:function(e,t){return t=Q.addQs(t,"clientProtocol="+e.clientProtocol),t=Q.addQs(t,e.qs),e.token&&(t+="&connectionToken="+V.encodeURIComponent(e.token)),e.data&&(t+="&connectionData="+V.encodeURIComponent(e.data)),t},addQs:function(e,t){var i,r=-1!==e.indexOf("?")?"&":"?";if(!t)return e;if("object"==n(t))return e+r+O.param(t);if("string"==typeof t)return"?"!==(i=t.charAt(0))&&"&"!==i||(r=""),e+r+t;throw new Error("Query string property must be either a string or object.")},getUrl:function(e,t,n,i,r){var o=("webSockets"===t?"":e.baseUrl)+e.appRelativeUrl;t="transport="+t;return!r&&e.groupsToken&&(t+="&groupsToken="+V.encodeURIComponent(e.groupsToken)),n?(o+=i?"/poll":"/reconnect",!r&&e.messageId&&(t+="&messageId="+V.encodeURIComponent(e.messageId))):o+="/connect",o+="?"+t,o=Q.prepareQueryString(e,o),r||(o+="&tid="+Math.floor(11*Math.random())),o},maximizePersistentResponse:function(e){return{MessageId:e.C,Messages:e.M,Initialized:void 0!==e.S,ShouldReconnect:void 0!==e.T,LongPollDelay:e.L,GroupsToken:e.G}},updateGroups:function(e,t){t&&(e.groupsToken=t)},stringifySend:function(e,t){return"string"==typeof t||null==t?t:e.json.stringify(t)},ajaxSend:function(e,t){function n(e,n){O(n).triggerHandler($.onError,[H._.transportError(H.resources.sendFailed,n.transport,e,i),t])}var i,r=Q.stringifySend(e,t),o=W(e,"/send");return i=Q.ajax(e,{url:o,type:"jsonp"===e.ajaxDataType?"GET":"POST",contentType:H._.defaultContentType,data:{data:r},success:function(t){var i;if(t){try{i=e._parseResponse(t)}catch(t){return n(t,e),void e.stop()}Q.triggerReceived(e,i)}},error:function(t,i){"abort"!==i&&"parsererror"!==i&&n(t,e)}})},ajaxAbort:function(e,t){var n;void 0!==e.transport&&(t=void 0===t||t,n=W(e,"/abort"),Q.ajax(e,{url:n,async:t,timeout:1e3,type:"POST"}),e.log("Fired ajax abort async = "+t+"."))},ajaxStart:function(e,t){function n(t){var n=e._deferral;n&&n.reject(t)}function i(t){e.log("The start request failed. Stopping the connection."),O(e).triggerHandler($.onError,[t]),n(t),e.stop()}e._.startRequest=Q.ajax(e,{url:W(e,"/start"),success:function(n,r,o){var s;try{s=e._parseResponse(n)}catch(r){return void i(H._.error(H._.format(H.resources.errorParsingStartResponse,n),r,o))}"started"===s.Response?t():i(H._.error(H._.format(H.resources.invalidStartResponse,n),null,o))},error:function(t,r,o){r!==Y?i(H._.error(H.resources.errorDuringStartRequest,o,t)):(e.log("The start request aborted because connection.stop() was called."),n(H._.error(H.resources.stoppedDuringStartRequest,null,t)))}})},tryAbortStartRequest:function(e){e._.startRequest&&(e._.startRequest.abort(Y),delete e._.startRequest)},tryInitialize:function(e,t,n){t.Initialized&&n?n():t.Initialized&&e.log("WARNING! The client received an init message after reconnecting.")},triggerReceived:function(e,t){e._.connectingMessageBuffer.tryBuffer(t)||O(e).triggerHandler($.onReceived,[t])},processMessages:function(e,t,n){Q.markLastMessage(e),t&&(t=Q.maximizePersistentResponse(t),Q.updateGroups(e,t.GroupsToken),t.MessageId&&(e.messageId=t.MessageId),t.Messages&&(O.each(t.Messages,(function(t,n){Q.triggerReceived(e,n)})),Q.tryInitialize(e,t,n)))},monitorKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring?e.log("Tried to monitor keep alive but it's already being monitored."):(t.monitoring=!0,Q.markLastMessage(e),e._.keepAliveData.reconnectKeepAliveUpdate=function(){Q.markLastMessage(e)},O(e).bind($.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e.log("Now monitoring keep alive with a warning timeout of "+t.timeoutWarning+", keep alive timeout of "+t.timeout+" and disconnecting timeout of "+e.disconnectTimeout))},stopMonitoringKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring&&(t.monitoring=!1,O(e).unbind($.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e._.keepAliveData={},e.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(e){e._.lastActiveAt=(new Date).getTime(),z(e)},markLastMessage:function(e){e._.lastMessageAt=(new Date).getTime()},markActive:function(e){return!!Q.verifyLastActive(e)&&(e._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(e){return e.state===H.connectionState.connected||e.state===H.connectionState.reconnecting},ensureReconnectingState:function(e){return!0===j(e,H.connectionState.connected,H.connectionState.reconnecting)&&O(e).triggerHandler($.onReconnecting),e.state===H.connectionState.reconnecting},clearReconnectTimeout:function(e){e&&e._.reconnectTimeout&&(V.clearTimeout(e._.reconnectTimeout),delete e._.reconnectTimeout)},verifyLastActive:function(e){if((new Date).getTime()-e._.lastActiveAt>=e.reconnectWindow){var t=H._.format(H.resources.reconnectWindowTimeout,new Date(e._.lastActiveAt),e.reconnectWindow);return e.log(t),O(e).triggerHandler($.onError,[H._.error(t,"TimeoutException")]),e.stop(!1,!1),!1}return!0},reconnect:function(e,t){var n=H.transports[t];Q.isConnectedOrReconnecting(e)&&!e._.reconnectTimeout&&Q.verifyLastActive(e)&&(e._.reconnectTimeout=V.setTimeout((function(){Q.verifyLastActive(e)&&(n.stop(e),Q.ensureReconnectingState(e)&&(e.log(t+" reconnecting."),n.start(e)))}),e.reconnectDelay))},handleParseFailure:function(e,t,n,i,r){r=H._.transportError(H._.format(H.resources.parseFailed,t),e.transport,n,r),i&&i(r)?e.log("Failed to parse server response while attempting to connect."):(O(e).triggerHandler($.onError,[r]),e.stop())},initHandler:function(e){return new q(e)},foreverFrame:{count:0,connections:{}}},M=window.jQuery,U=window,N=M.signalR,L=M.signalR.events,x=M.signalR.changeState,R=N.transports._logic,N.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(e,t){var n=R.stringifySend(e,t);try{e.socket.send(n)}catch(n){M(e).triggerHandler(L.onError,[N._.transportError(N.resources.webSocketsInvalidState,e.transport,n,e.socket),t])}},start:function(e,t,n){var i,r=!1,o=this,s=!t,a=M(e);U.WebSocket?e.socket||(i=e.webSocketServerUrl||e.wsProtocol+e.host,i+=R.getUrl(e,this.name,s),e.log("Connecting to websocket endpoint '"+i+"'."),e.socket=new U.WebSocket(i),e.socket.onopen=function(){r=!0,e.log("Websocket opened."),R.clearReconnectTimeout(e),!0===x(e,N.connectionState.reconnecting,N.connectionState.connected)&&a.triggerHandler(L.onReconnect)},e.socket.onclose=function(t){var i;this===e.socket&&(r&&void 0!==t.wasClean&&!1===t.wasClean?(i=N._.transportError(N.resources.webSocketClosed,e.transport,t),e.log("Unclean disconnect from websocket: "+(t.reason||"[no reason given]."))):e.log("Websocket closed."),n&&n(i)||(i&&M(e).triggerHandler(L.onError,[i]),o.reconnect(e)))},e.socket.onmessage=function(i){var r;try{r=e._parseResponse(i.data)}catch(r){return void R.handleParseFailure(e,i.data,r,n,i)}r&&(M.isEmptyObject(r)||r.M?R.processMessages(e,r,t):R.triggerReceived(e,r))}):n()},reconnect:function(e){R.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},stop:function(e){R.clearReconnectTimeout(e),e.socket&&(e.log("Closing the Websocket."),e.socket.close(),e.socket=null)},abort:function(e,t){R.ajaxAbort(e,t)}},_=window.jQuery,B=window,I=_.signalR,D=_.signalR.events,k=_.signalR.changeState,F=I.transports._logic,I.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(e,t,n){var i,r=this,o=!1,s=_(e),a=!t;if(e.eventSource&&(e.log("The connection already has an event source. Stopping it."),e.stop()),B.EventSource){i=F.getUrl(e,this.name,a);try{e.log("Attempting to connect to SSE endpoint '"+i+"'."),e.eventSource=new B.EventSource(i,{withCredentials:e.withCredentials})}catch(i){return e.log("EventSource failed trying to connect with error "+i.Message+"."),void(n?n():(s.triggerHandler(D.onError,[I._.transportError(I.resources.eventSourceFailedToConnect,e.transport,i)]),a&&r.reconnect(e)))}a&&(e._.reconnectAttemptTimeoutHandle=B.setTimeout((function(){!1===o&&e.eventSource.readyState!==B.EventSource.OPEN&&r.reconnect(e)}),r.timeOut)),e.eventSource.addEventListener("open",(function(){e.log("EventSource connected."),K(e),F.clearReconnectTimeout(e),!1!==o||(o=!0)===k(e,I.connectionState.reconnecting,I.connectionState.connected)&&s.triggerHandler(D.onReconnect)}),!1),e.eventSource.addEventListener("message",(function(i){var r;if("initialized"!==i.data){try{r=e._parseResponse(i.data)}catch(r){return void F.handleParseFailure(e,i.data,r,n,i)}F.processMessages(e,r,t)}}),!1),e.eventSource.addEventListener("error",(function(t){var i=I._.transportError(I.resources.eventSourceError,e.transport,t);this===e.eventSource&&(n&&n(i)||(e.log("EventSource readyState: "+e.eventSource.readyState+"."),t.eventPhase===B.EventSource.CLOSED?(e.log("EventSource reconnecting due to the server connection ending."),r.reconnect(e)):(e.log("EventSource error."),s.triggerHandler(D.onError,[i]))))}),!1)}else n&&(e.log("This browser doesn't support SSE."),n())},reconnect:function(e){F.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){F.ajaxSend(e,t)},stop:function(e){K(e),F.clearReconnectTimeout(e),e&&e.eventSource&&(e.log("EventSource calling close()."),e.eventSource.close(),e.eventSource=null,delete e.eventSource)},abort:function(e,t){F.ajaxAbort(e,t)}},v=window.jQuery,y=window,C=v.signalR,E=v.signalR.events,w=v.signalR.changeState,T=C.transports._logic,S=null,b=0,P={prevent:function(){C._.ieVersion<=8&&(0===b&&(S=y.setInterval((function(){var e=G();y.document.body.appendChild(e),y.document.body.removeChild(e)}),1e3)),b++)},cancel:function(){1===b&&y.clearInterval(S),0<b&&b--}},C.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(e,t,n){function i(){e.log("Forever frame iframe finished loading and is no longer receiving messages."),n&&n()||o.reconnect(e)}var r,o=this,s=T.foreverFrame.count+=1,a=G();y.EventSource?n&&(e.log("Forever Frame is not supported by SignalR on browsers with SSE support."),n()):(a.setAttribute("data-signalr-connection-id",e.id),P.prevent(),r=T.getUrl(e,this.name),r+="&frameId="+s,y.document.documentElement.appendChild(a),e.log("Binding to iframe's load event."),a.addEventListener?a.addEventListener("load",i,!1):a.attachEvent&&a.attachEvent("onload",i),a.src=r,(T.foreverFrame.connections[s]=e).frame=a,e.frameId=s,t&&(e.onSuccess=function(){e.log("Iframe transport started."),t()}))},reconnect:function(e){var t=this;T.isConnectedOrReconnecting(e)&&T.verifyLastActive(e)&&y.setTimeout((function(){var n,i;T.verifyLastActive(e)&&e.frame&&T.ensureReconnectingState(e)&&(n=e.frame,i=T.getUrl(e,t.name,!0)+"&frameId="+e.frameId,e.log("Updating iframe src to '"+i+"'."),n.src=i)}),e.reconnectDelay)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){T.ajaxSend(e,t)},receive:function(e,t){var n,i;if(e.json!==e._originalJson&&(t=e._originalJson.stringify(t)),t=e._parseResponse(t),T.processMessages(e,t,e.onSuccess),e.state===v.signalR.connectionState.connected&&(e.frameMessageCount=(e.frameMessageCount||0)+1,e.frameMessageCount>C.transports.foreverFrame.iframeClearThreshold&&(e.frameMessageCount=0,(n=e.frame.contentWindow||e.frame.contentDocument)&&n.document&&n.document.body)))for(i=n.document.body;i.firstChild;)i.removeChild(i.firstChild)},stop:function(e){var t=null;if(P.cancel(),e.frame){if(e.frame.stop)e.frame.stop();else try{(t=e.frame.contentWindow||e.frame.contentDocument).document&&t.document.execCommand&&t.document.execCommand("Stop")}catch(t){e.log("Error occurred when stopping foreverFrame transport. Message = "+t.message+".")}e.frame.parentNode===y.document.documentElement&&y.document.documentElement.removeChild(e.frame),delete T.foreverFrame.connections[e.frameId],e.frame=null,e.frameId=null,delete e.frame,delete e.frameId,delete e.onSuccess,delete e.frameMessageCount,e.log("Stopping forever frame.")}},abort:function(e,t){T.ajaxAbort(e,t)},getConnection:function(e){return T.foreverFrame.connections[e]},started:function(e){!0===w(e,C.connectionState.reconnecting,C.connectionState.connected)&&v(e).triggerHandler(E.onReconnect)}},d=window.jQuery,p=window,m=d.signalR,A=d.signalR.events,h=d.signalR.changeState,f=d.signalR.isDisconnecting,g=m.transports._logic,m.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(e,t,n){function i(t){return!!n(t)&&(e.log("LongPolling failed to connect."),!0)}function r(e){p.clearTimeout(a.reconnectTimeoutId),!(a.reconnectTimeoutId=null)===h(e,m.connectionState.reconnecting,m.connectionState.connected)&&(e.log("Raising the reconnect event"),d(e).triggerHandler(A.onReconnect))}var o=this,s=function(){s=d.noop,e.log("LongPolling connected."),t?t():e.log("WARNING! The client received an init message after reconnecting.")},a=e._,c=0;e.pollXhr&&(e.log("Polling xhr requests already exists, aborting."),e.stop()),e.messageId=null,a.reconnectTimeoutId=null,a.pollTimeoutId=p.setTimeout((function(){!function t(n,l){var u=!(null===n.messageId),h=!l,v=g.getUrl(n,o.name,u,h,!0);h={};n.messageId&&(h.messageId=n.messageId),n.groupsToken&&(h.groupsToken=n.groupsToken),!0!==f(n)&&(e.log("Opening long polling request to '"+v+"'."),n.pollXhr=g.ajax(e,{xhrFields:{onprogress:function(){g.markLastMessage(e)}},url:v,type:"POST",contentType:m._.defaultContentType,data:h,timeout:e._.pollTimeout,success:function(o){var l,u,m,A=0;e.log("Long poll complete."),c=0;try{l=e._parseResponse(o)}catch(l){return void g.handleParseFailure(n,o,l,i,n.pollXhr)}null!==a.reconnectTimeoutId&&r(n),l&&(u=g.maximizePersistentResponse(l)),g.processMessages(n,l,s),u&&"number"===d.type(u.LongPollDelay)&&(A=u.LongPollDelay),!0===f(n)||(m=u&&u.ShouldReconnect)&&!g.ensureReconnectingState(n)||(0<A?a.pollTimeoutId=p.setTimeout((function(){t(n,m)}),A):t(n,m))},error:function(r,s){var l=m._.transportError(m.resources.longPollFailed,e.transport,r,n.pollXhr);p.clearTimeout(a.reconnectTimeoutId),a.reconnectTimeoutId=null,"abort"!==s?i(l)||(c++,e.state!==m.connectionState.reconnecting&&(e.log("An error occurred using longPolling. Status = "+s+".  Response = "+r.responseText+"."),d(n).triggerHandler(A.onError,[l])),!(e.state!==m.connectionState.connected&&e.state!==m.connectionState.reconnecting||g.verifyLastActive(e))||g.ensureReconnectingState(n)&&(a.pollTimeoutId=p.setTimeout((function(){t(n,!0)}),o.reconnectDelay))):e.log("Aborted xhr request.")}}),u&&!0===l&&(a.reconnectTimeoutId=p.setTimeout((function(){r(n)}),Math.min(1e3*(Math.pow(2,c)-1),36e5))))}(e)}),250)},lostConnection:function(e){e.pollXhr&&e.pollXhr.abort("lostConnection")},send:function(e,t){g.ajaxSend(e,t)},stop:function(e){p.clearTimeout(e._.pollTimeoutId),p.clearTimeout(e._.reconnectTimeoutId),delete e._.pollTimeoutId,delete e._.reconnectTimeoutId,e.pollXhr&&(e.pollXhr.abort(),e.pollXhr=null,delete e.pollXhr)},abort:function(e,t){g.ajaxAbort(e,t)}},l=window.jQuery,window,u=l.signalR,a.fn=a.prototype={init:function(e,t){this.state={},this.connection=e,this.hubName=t,this._={callbackMap:{}}},constructor:a,hasSubscriptions:function(){return o(this._.callbackMap)},on:function(e,t){var n=this,r=n._.callbackMap;return r[e=e.toLowerCase()]||(r[e]={}),r[e][t]=function(e,i){t.apply(n,i)},l(n).bind(i(e),r[e][t]),n},off:function(e,t){var n,r=this._.callbackMap;return(n=r[e=e.toLowerCase()])&&(n[t]?(l(this).unbind(i(e),n[t]),delete n[t],o(n)||delete r[e]):t||(l(this).unbind(i(e)),delete r[e])),this},invoke:function(e){var t=this,n=t.connection,i=function(e,t,n){for(var i=e.length,r=[],o=0;o<i;o+=1)e.hasOwnProperty(o)&&(r[o]=t.call(undefined,e[o],o,e));return r}(l.makeArray(arguments).slice(1),r),o=(i={H:t.hubName,M:e,A:i,I:n._.invocationCallbackId},l.Deferred());return n._.invocationCallbacks[n._.invocationCallbackId.toString()]={scope:t,method:function(i){var r=t._maximizeHubResponse(i);l.extend(t.state,r.State),r.Progress?o.notifyWith?o.notifyWith(t,[r.Progress.Data]):n._.progressjQueryVersionLogged||(n.log("A hub method invocation progress update was received but the version of jQuery in use ("+l.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),n._.progressjQueryVersionLogged=!0):r.Error?(r.StackTrace&&n.log(r.Error+"\n"+r.StackTrace+"."),i=r.IsHubException?"HubException":"Exception",(i=u._.error(r.Error,i)).data=r.ErrorData,n.log(t.hubName+"."+e+" failed to execute. Error: "+i.message),o.rejectWith(t,[i])):(n.log("Invoked "+t.hubName+"."+e),o.resolveWith(t,[r.Result]))}},n._.invocationCallbackId+=1,l.isEmptyObject(t.state)||(i.S=t.state),n.log("Invoking "+t.hubName+"."+e),n.send(i),o.promise()},_maximizeHubResponse:function(e){return{State:e.S,Result:e.R,Progress:e.P?{Id:e.P.I,Data:e.P.D}:null,Id:e.I,IsHubException:e.H,Error:e.E,StackTrace:e.T,ErrorData:e.D}}},a.fn.init.prototype=a.fn,c.fn=c.prototype=l.connection(),c.fn.init=function(e,t){var n={qs:null,logging:!1,useDefaultPath:!0},r=this;l.extend(n,t),l.signalR.fn.init.call(r,e,n.qs,n.logging),r.proxies={},r._.invocationCallbackId=0,r._.invocationCallbacks={},r.received((function(e){var t,n;e&&(void 0!==e.P?(t=e.P.I.toString(),(n=r._.invocationCallbacks[t])&&n.method.call(n.scope,e)):void 0!==e.I?(t=e.I.toString(),(n=r._.invocationCallbacks[t])&&(r._.invocationCallbacks[t]=null,delete r._.invocationCallbacks[t],n.method.call(n.scope,e))):(t=this._maximizeClientHubInvocation(e),r.log("Triggering client hub event '"+t.Method+"' on hub '"+t.Hub+"'."),n=t.Hub.toLowerCase(),e=t.Method.toLowerCase(),n=this.proxies[n],l.extend(n.state,t.State),l(n).triggerHandler(i(e),[t.Args])))})),r.error((function(e,t){var n;t&&(n=t.I,(t=r._.invocationCallbacks[n])&&(r._.invocationCallbacks[n]=null,delete r._.invocationCallbacks[n],t.method.call(t.scope,{E:e})))})),r.reconnecting((function(){r.transport&&"webSockets"===r.transport.name&&s(r,"Connection started reconnecting before invocation result was received.")})),r.disconnected((function(){s(r,"Connection was disconnected before invocation result was received.")}))},c.fn._maximizeClientHubInvocation=function(e){return{Hub:e.H,Method:e.M,Args:e.A,State:e.S}},c.fn._registerSubscribedHubs=function(){var e=this;e._subscribedToHubs||(e._subscribedToHubs=!0,e.starting((function(){var t=[];l.each(e.proxies,(function(n){this.hasSubscriptions()&&(t.push({name:n}),e.log("Client subscribed to hub '"+n+"'."))})),0===t.length&&e.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),e.data=e.json.stringify(t)})))},c.fn.createHubProxy=function(e){e=e.toLowerCase();var t=this.proxies[e];return t||(t=a(this,e),this.proxies[e]=t),this._registerSubscribedHubs(),t},c.fn.init.prototype=c.fn,l.hubConnection=c,window.jQuery.signalR.version="2.2.2"},"./Embed/Utility/appUtil.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/appUtil.ts");function a(){$("body")[0].className.split(/\s+/).forEach((function(e){0===e.indexOf(r.Constants.Themes.Prefix)&&$("body").removeClass(e)}))}t.getParentHostName=function(){var e=s.getReferrer();if(e)try{var t=o.urlResolve(e);if(t&&t.hostname)return t.hostname}catch(e){return""}return""},t.removeAllThemes=a,t.setTheme=function(e){a(),$("body").addClass(e)},t.isWarningStatus=function(e){return e&&e.status&&(e.status==r.Constants.HttpStatusCode.ClientNetworkError||e.status==r.Constants.HttpStatusCode.Unauthorized||e.status==r.Constants.HttpStatusCode.Forbidden||e.status==r.Constants.HttpStatusCode.NotFound)},t.getSortByValue=function(e,t){var n=Object.keys(r.Constants.VideoSortQueryParams).map((function(e){return r.Constants.VideoSortQueryParams[e]})),i=t||(e[r.Constants.QueryStringKeys.SearchTerm]||e[r.Constants.QueryStringKeys.SearchTermLongKey]?r.Constants.VideoSortOptions.Relevance:r.Constants.VideoSortOptions.Trending);if(e.hasOwnProperty(r.Constants.QueryStringKeys.Sort)&&-1<n.indexOf(e[r.Constants.QueryStringKeys.Sort]))switch(e[r.Constants.QueryStringKeys.Sort]){case r.Constants.VideoSortQueryParams.Relevance:i=r.Constants.VideoSortOptions.Relevance;break;case r.Constants.VideoSortQueryParams.Trending:i=r.Constants.VideoSortOptions.Trending;break;case r.Constants.VideoSortQueryParams.PublishDate:i=r.Constants.VideoSortOptions.PublishDate;break;case r.Constants.VideoSortQueryParams.Views:i=r.Constants.VideoSortOptions.Views;break;case r.Constants.VideoSortQueryParams.Likes:i=r.Constants.VideoSortOptions.Likes;break;case r.Constants.VideoSortQueryParams.Name:i=r.Constants.VideoSortOptions.Name}return i},t.getDefaultRenderSettings=function(e,t){void 0===t&&(t={});var n=!1,i=!1;return e&&(0<=e.toLowerCase().indexOf("/channel")||0<=e.toLowerCase().indexOf("/group"))&&(i=n=!0),{displaymode:r.Constants.embedDisplayModes.buttonsMode,showdescription:n,showheader:i,open:r.Constants.embedOpenQueryValues.inline,sort:t[r.Constants.QueryStringKeys.SearchTerm]||t[r.Constants.QueryStringKeys.SearchTermLongKey]?r.Constants.VideoSortOptions.Relevance:r.Constants.lists.Trending}},t.getScreenName=function(e){var t=i.ScreenName.EmbedBrowsePage;switch(e){case r.Constants.ResourceNames.Channel:t=i.ScreenName.EmbedChannelPage;break;case r.Constants.ResourceNames.Group:t=i.ScreenName.EmbedGroupPage}return t},t.getTelemetryEventName=function(e){var t=i.TelemetryEventNames.embedBrowseSummary;switch(e){case r.Constants.ResourceNames.Channel:t=i.TelemetryEventNames.embedChannelSummary;break;case r.Constants.ResourceNames.Group:t=i.TelemetryEventNames.embedGroupSummary}return t},t.isCookiesSupported=function(){try{var e,t="__cookie_test_key_"+s.generateSmallId(),n="secure; samesite=none";return document.cookie=t+"=1; "+n,document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t),document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT; "+n,document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},t.getCookieByName=function(e){return(e=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)")))?e[2]:null},t.isIOSDevice=function(){return!!navigator.platform.match(/iPhone|iPod|iPad/)},t.addQueryParmsToUrl=function(e,t,n){var i=new RegExp("([?&]"+t+"=)[^&]+","");function r(i){e+=i+t+"="+encodeURIComponent(n)}return-1===e.indexOf("?")?r("?"):i.test(e)?e=e.replace(i,"$1"+encodeURIComponent(n)):r("&"),e}},"./app/Controls/Dialogs/BaseDialog/BaseDialog.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./common/components/MediaPlayer/MediaPlayerController.ts");s.prototype.playerStartedHandler=function(){this.dialogInterruptionHandler.pauseVideoAndSaveContext(!0)},s.prototype.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},s.prototype.openDialog=function(e){var t=this;return e.disableAnimation=!!e.disableAnimation||this.isIE11(),this.dialog=this.ngDialog.open(e),this.pauseRecoverVideo&&(this.eventHandler=this.$rootScope.$on(i.Constants.Events.PlayerStarted,this.playerStartedHandler.bind(this)),this.dialogInterruptionHandler.pauseVideoAndSaveContext()),this.dialog.closePromise.then((function(e){e.value&&e.value.closeMessage?r.alertScreenReader(e.value.closeMessage+". "+t.resources.DialogClosedAria):r.alertScreenReader(t.resources.DialogClosedAria)})).finally((function(){t.pauseRecoverVideo&&(t.eventHandler(),t.dialogInterruptionHandler.recover())})),this.dialog},s.$inject=["ngDialog","$rootScope","resources"],n=s;function s(e,t,n){var i=this;this.ngDialog=e,this.$rootScope=t,this.resources=n,this.pauseRecoverVideo=!0,this.dialogInterruptionHandler={wasPaused:!1,autoPlay:!0,recover:function(){var e=o.getAllAMPPlayers();e&&_.forEach(e,(function(e){e&&e.controls()&&!i.dialogInterruptionHandler.wasPaused&&(e.play(),e.autoplay(i.dialogInterruptionHandler.autoPlay))}))},pauseVideoAndSaveContext:function(e){void 0===e&&(e=!1);var t=o.getAllAMPPlayers();t&&_.forEach(t,(function(t){t&&t.controls()&&(i.dialogInterruptionHandler.wasPaused=t.paused()&&!e,t.paused()||t.pause(),e&&t.autoplay&&t.autoplay()&&(i.dialogInterruptionHandler.autoPlay=!0,t.autoplay(!1)))}))}}}t.BaseDialog=n},"./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html":function(e,t){e.exports='<div class=confirmation-dialog ng-keydown=ConfirmationDialog.watchForEscape($event)> <div class=dialog-content role=dialog aria-label={{ConfirmationDialog.dialogModel.title}}> <div role=document> <h2 class=dialog-title>{{ConfirmationDialog.dialogModel.title}}</h2> <p class="c-paragraph dialog-body" ng-if=ConfirmationDialog.dialogModel.messageHeading>{{ConfirmationDialog.dialogModel.messageHeading}} </p> <p class="c-paragraph dialog-body">{{ConfirmationDialog.dialogModel.message}}</p> <p class="c-paragraph dialog-body" ng-if="ConfirmationDialog.dialogModel.linkLabel && ConfirmationDialog.dialogModel.linkUrl"> <a class=c-hyperlink external-link ng-href={{ConfirmationDialog.dialogModel.linkUrl}} target=_blank>{{ConfirmationDialog.dialogModel.linkLabel}}</a> </p> <div class="c-checkbox ct-checkbox" ng-if=ConfirmationDialog.dialogModel.confirmCheckboxText ng-init=ConfirmationDialog.setCheckboxFocus()> <label class="c-label ct-label-compact"> <input class=ct-textbox-compact type=checkbox id=confirmationCheckbox ng-model=ConfirmationDialog.checkboxModel /> <span class=ct-confirmationDialogModel>{{ConfirmationDialog.dialogModel.confirmCheckboxText}}</span> </label> </div> <div class="c-group action-buttons" ng-class="{\'flex-buttons\': ConfirmationDialog.dialogModel.useFlex}"> <button class="stream-btn btn-primary dialog-confirm-button" type=submit ng-click=ConfirmationDialog.onConfirm() ng-disabled=ConfirmationDialog.confirmButtonEnabled() ng-if=!ConfirmationDialog.dialogModel.hideConfirmButton ng-init="!ConfirmationDialog.dialogModel.confirmCheckboxText && ConfirmationDialog.setConfirmButtonFocus()"> {{ConfirmationDialog.dialogModel.confirmButtonLabel}} </button> <button class="stream-btn dialog-cancel-button" type=button ng-click=ConfirmationDialog.onCancel() ng-if=!ConfirmationDialog.dialogModel.hideCancelButton> {{ConfirmationDialog.dialogModel.cancelButtonLabel}} </button> </div> </div> </div> </div>'},"./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.less":function(e,t){},"./app/Controls/Dialogs/ConfirmationDialog/VideoDeleteConfirmationDialog.html":function(e,t){e.exports='<div class=confirmation-dialog ng-keydown=ConfirmationDialog.watchForEscape($event)> <div class=dialog-content role=dialog tabindex=-1 aria-label={{ConfirmationDialog.dialogModel.title}}> <div role=document> <h2 class=dialog-title>{{ConfirmationDialog.dialogModel.title}}</h2> <p class="c-paragraph dialog-body" ng-if=ConfirmationDialog.dialogModel.messageHeading>{{ConfirmationDialog.dialogModel.messageHeading}} </p> <p class="c-paragraph dialog-body">{{ConfirmationDialog.dialogModel.message}}</p> <p class="c-paragraph dialog-body dialog-indent"> <span class=sub-heading>{{ConfirmationDialog.dialogModel.videoNameLabel}}:</span><br/> {{ConfirmationDialog.dialogModel.resourceName}} </p> <p class="c-paragraph dialog-body dialog-indent"> <span class=sub-heading>{{ConfirmationDialog.dialogModel.publishedLocationsLabel}}:</span><br/> {{ConfirmationDialog.dialogModel.groupsLabel}}: {{ConfirmationDialog.dialogModel.groupCount}}<br/> {{ConfirmationDialog.dialogModel.channelLabel}}: {{ConfirmationDialog.dialogModel.channelCount}} </p> <p class="c-paragraph dialog-body" ng-if="ConfirmationDialog.dialogModel.linkLabel && ConfirmationDialog.dialogModel.linkUrl"> <a class=c-hyperlink external-link ng-href={{ConfirmationDialog.dialogModel.linkUrl}} target=_blank>{{ConfirmationDialog.dialogModel.linkLabel}}</a> </p> <div class="c-checkbox ct-checkbox" ng-if=ConfirmationDialog.dialogModel.confirmCheckboxText> <label class="c-label ct-label-compact"> <input type=checkbox class=ct-textbox-compact ng-model=ConfirmationDialog.checkboxModel /> <span class=ct-confirmationDialogModel>{{ConfirmationDialog.dialogModel.confirmCheckboxText}}</span> </label> </div> <div class="dialog-footer action-buttons" ng-class="{\'flex-buttons\': ConfirmationDialog.dialogModel.useFlex}"> <div class=left> <button class="stream-btn dialog-cancel-button" type=button ng-click=ConfirmationDialog.onCancel() ng-if=!ConfirmationDialog.dialogModel.hideCancelButton> {{ConfirmationDialog.dialogModel.cancelButtonLabel}} </button> </div> <div class=right> <button class="stream-btn btn-primary dialog-confirm-button" type=submit ng-click=ConfirmationDialog.onConfirm() ng-disabled=ConfirmationDialog.confirmButtonEnabled() ng-if=!ConfirmationDialog.dialogModel.hideConfirmButton ng-init=ConfirmationDialog.setConfirmButtonFocus()> {{ConfirmationDialog.dialogModel.confirmButtonLabel}} </button> </div> </div> </div> </div> </div>'},"./app/Controls/Dialogs/DialogBox/DialogBox.html":function(e,t){e.exports='<section class="section section-size0 dialog-section"> <div class="dialog-container-outer row row-size0" role=dialog aria-labelledby=dialog-header-content aria-modal=true> <div class="dialog-container column large-centered large-8 medium-centered medium-10 small-centered small-11"> <div ng-if=!$ctrl.hideHeader> <div class=dialog-header ng-if="!$ctrl.errorHeading && !$ctrl.inProgress"> <div id=dialog-header-content role=heading aria-level=1 class="dialog-header-content c-heading-6 absolute-y-center"> {{::$ctrl.heading}} </div> <button ng-if=$ctrl.showCloseInHeader type=button class="c-action-trigger close-button" ng-click=$ctrl.onCloseClicked()> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> </button> </div> <div class=dialog-error-header ng-if=$ctrl.errorHeading> <div role=alert class="dialog-header-content c-heading-6 absolute-y-center">{{::$ctrl.errorHeading}}</div> </div> <div class=dialog-header ng-if=$ctrl.inProgress> <div class="dialog-header-content c-heading-6 absolute-y-center">{{::$ctrl.progressHeading}}</div> </div> </div> <div class=dialog-content> <ng-transclude></ng-transclude> </div> <div class=dialog-footer ng-if=!$ctrl.hideFooter> <div class=left> <button type=submit class="stream-btn left-dialog-button" ng-disabled=!$ctrl.leftButtonEnabled ng-click=$ctrl.onLeftButtonClicked()> {{$ctrl.leftButtonText}} </button> </div> <div class=right> <button type=submit class="stream-btn right-dialog-button" ng-disabled=!$ctrl.rightButtonEnabled ng-class="{\'btn-primary\': !$ctrl.rightButtonNotPrimary}" ng-click=$ctrl.onRightButtonClicked()> {{$ctrl.rightButtonText}} </button> </div> </div> </div> </div> </section> '},"./app/Controls/Dialogs/DialogBox/DialogBox.less":function(e,t){},"./app/Controls/Dialogs/DialogBox/DialogBox.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/Controls/Dialogs/DialogBox/DialogBoxController.ts");function o(){this.restrict="E",this.link=function(e,t,n,i){i.autoFocusSelector&&setTimeout((function(){var e=t.find(i.autoFocusSelector);e.length&&e.focus()}),0),i.hideFooter||setTimeout((function(){var e=angular.element(".left-dialog-button",t),n=angular.element(".right-dialog-button",t),i=Math.max(e.outerWidth(),n.outerWidth());e.outerWidth(i),n.outerWidth(i)}),0)},this.controller=r.DialogBoxController,this.bindToController=!0,this.template=n("./app/Controls/Dialogs/DialogBox/DialogBox.html"),this.controllerAs="$ctrl",this.transclude=!0,this.scope={heading:"@",errorHeading:"<?",progressHeading:"<?",inProgress:"<",leftButtonText:"<",rightButtonText:"<",leftButtonEnabled:"<",rightButtonEnabled:"<",onLeftButtonClicked:"&",onCloseClicked:"&",onRightButtonClicked:"&",autoFocusSelector:"@?",hideHeader:"<",hideFooter:"<",showCloseInHeader:"<",rightButtonNotPrimary:"<"}}n("./app/Controls/Dialogs/DialogBox/DialogBox.less"),t.DialogBox=o,i.registerDirective("dialogBox",o,angular.module("jumper"))},"./app/Controls/Dialogs/DialogBox/DialogBoxController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.$inject=["$scope","resources"],n=r;function r(e,t){var n=this;this.$scope=e,this.resources=t;var r=function(e){e.keyCode===i.Constants.KeyCodes.Esc&&(e.isDefaultPrevented()||(n.onLeftButtonClicked(),e.stopPropagation()))}.bind(this);$("body").on("keydown",r),e.$on("$destroy",(function(){$("body").off("keydown",r)}))}t.DialogBoxController=n},"./app/Controls/Dialogs/RecordVideoFailedDialog/RecordVideoFailedDialog.html":function(e,t){e.exports='<dialog-box class=failed-videoupload-dialog heading={{::$ctrl.resources.VideoUpdateFailedUploadDialogTitle}} hide-footer=true> <div class=row> <div class="column x-small-12"> {{::$ctrl.resources.VideoUpdateFailedUploadDialogDesc}} </div> </div> <div class="row buttons-row"> <div class="column x-small-12"> <button ng-click=closeThisDialog() class="stream-btn btn-primary close-dialog-button" type=button>{{::$ctrl.resources.OK}}</button> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.html":function(e,t){e.exports='<dialog-box> <section class=session-expired> <div class=row> <div class="column x-small-12"> <div class=icon-container> <svg-src svg-name=stream-icon></svg-src> </div> <div class=data-container> <h4>{{::$ctrl.resources.SessionExpiredDialogTitle}}</h4> <div>{{::$ctrl.resources.SessionExpiredDialogDescription}}</div> </div> </div> </div> <div class=row> <div class="column x-small-12"> <button ng-click=$ctrl.okayClicked() class="c-button ct-button-compact close-dialog-button" type=button>{{::$ctrl.resources.OK}}</button> </div> </div> </section> </dialog-box>'},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.less":function(e,t){},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.less");var a;r(c,a=s.BaseDialog),c.prototype.open=function(e){return this.openDialog({template:n("./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.html"),plain:!0,controller:o.SessionExpiredDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box session-expired-dialog-box",ariaRole:"dialog"})},c.$inject=["ngDialog","$rootScope","resources"],r=c;function c(e,t,n){return a.call(this,e,t,n)||this}t.SessionExpiredDialog=r,angular.module("jumper.controls").service("sessionExpiredDialog",r)},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts");r.prototype.okayClicked=function(){this.$window.location.reload(!0),this.$scope.closeThisDialog()},r.$inject=["$scope","$window","resources","telemetryService"],n=r;function r(e,t,n,r){this.$scope=e,this.$window=t,this.resources=n,this.telemetryService=r,this.telemetryService.getTracker(i.ScreenName.SessionExpiredDialog).trackEvent(i.TelemetryEventNames.sessionExpiredEvent)}t.SessionExpiredDialogController=n},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.html":function(e,t){e.exports='<section class=video-edit-dialog-content> <div class="large-12 medium-12 small-12 xsmall-12 editor-host"> <stream-loading ng-if=!$ctrl.isVideoEditorLoaded></stream-loading> <office-media-video-editor ng-show=$ctrl.isVideoEditorLoaded source=::$ctrl.source source-type=::$ctrl.sourceType video-id=::$ctrl.videoId video-content-source=::$ctrl.videoContentSource video-content-version=::$ctrl.videoContentVersion video-name=::$ctrl.videoName video-type=::$ctrl.videoType video-dimensions=::$ctrl.videoDimensions close=::$ctrl.close is-in-admin-mode=::$ctrl.isInAdminMode></office-media-video-editor> </div> </section>'},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.less":function(e,t){},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialogController.ts");n("./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.less");var r=(o.prototype.open=function(e){return this.openOptions.className="video-edit-dialog",this.openOptions.data=e,this.ngDialog.open(this.openOptions)},o.$inject=["ngDialog"],o);function o(e){this.ngDialog=e,this.openOptions={template:n("./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.html"),controller:i.VideoEditorDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,data:null,ariaRole:"dialog",overlay:!1,trapFocus:!1}}t.VideoEditorDialog=r,angular.module("jumper.controls").service("videoEditorDialog",r)},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./node_modules/@msstream/core/esm/index.js");o.$inject=["$rootScope","$scope","$timeout","$element","$window","resources","navigationService"],n=o;function o(e,t,n,o,s,a,c){var l=this;this.$rootScope=e,this.$scope=t,this.$timeout=n,this.$element=o,this.$window=s,this.resources=a,this.navigationService=c,this.isVideoEditorLoaded=!1,this.originalTitle=this.$window.document.title,this.source=this.$scope.ngDialogData.source,this.sourceType=this.$scope.ngDialogData.sourceType,this.videoContentSource=this.$scope.ngDialogData.videoContentSource,this.videoContentVersion=this.$scope.ngDialogData.videoContentVersion,this.videoType=this.$scope.ngDialogData.videoType,this.videoId=this.$scope.ngDialogData.videoId,this.videoName=this.$scope.ngDialogData.videoName,this.videoDimensions=this.$scope.ngDialogData.videoDimensions,this.isInAdminMode=this.$scope.ngDialogData.isInAdminMode,this.close=function(){l.$scope.$broadcast(i.Constants.Events.videoEditorClosed),l.$scope.$applyAsync((function(){return l.$scope.closeThisDialog(!0)})),l.isVideoEditorLoaded=!1,l.$window.document.title=l.originalTitle},this.$element.attr("aria-modal","true"),n((function(){l.navigationService.addQueryParam({isInVideoTrimMode:"true",videoId:l.videoId}),l.$rootScope.$on(i.Constants.Events.videoEditorLoaded,(function(){l.isVideoEditorLoaded=!0,l.$window.document.title=r.formatString(l.resources.BrowserTitle.TrimVideo,i.Constants.ProductName,l.videoName)}))})),this.$scope.$on("$locationChangeStart",(function(e,t,n){l.isVideoEditorLoaded&&t!==n&&t!==s.location.origin+"/"&&(t=l.resources.VideoEditorUnSavedChangeConfirmationMessage,confirm(t)||(e.preventDefault(),e.stopPropagation()))}))}t.VideoEditorDialogController=n},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.html":function(e,t){e.exports='<section class="section section-size0 dialog-section"> <div class="video-share-embed-dialog row row-size0"> <div class="dialog-container column large-centered large-8 medium-centered medium-10 small-centered small-10"> <div class=dialog-header> <tab-navigation class=tab-navigation-horiz-padding model=$ctrl.tabOptions value=$ctrl.selectedTabOption onselect="" init-focus=true></tab-navigation> </div> <div class=dialog-error-header ng-if=$ctrl.errorHeader> <div class="dialog-header-content c-heading-6">{{::$ctrl.errorHeader}}</div> </div> <div class=dialog-content> <div ng-if="($ctrl.isEmailEnabled() || !$ctrl.emailSelected)" class=note> {{$ctrl.videoShareNote}} <div ng-if="$ctrl.embedSelected && $ctrl.shouldShowPublicAnonymous" class="c-checkbox public-link-toggle-container"> <toggle name=public-link-toggle value=$ctrl.publicAnonEmbedLink on-toggle-click=$ctrl.onEmbedPublicAnonToggleClick() disabled=$ctrl.shouldDisablePublicAnonEmbedToggle hide-labels=true /> <span>{{::$ctrl.resources.PublicAnonymous.EmbedToggleLabel}}</span> <tooltip message=$ctrl.resources.PublicAnonymous.EmbedToggleTooltip ng-if="$ctrl.embedSelected && $ctrl.shouldShowPublicAnonymous" button-aria-label={{::$ctrl.resources.PublicAnonymous.EmbedToggleAriaLabel}}> </tooltip> </div> </div> <div ng-if=$ctrl.emailSelected class=email-tab> <principal-selector ng-if=$ctrl.isEmailEnabled() principals=$ctrl.principals telemetry-tracker=$ctrl.telemetryTracker email-needed=true /> <div ng-if=!$ctrl.isEmailEnabled() class=email-disabled-message> <a class=c-hyperlink external-link target=_blank href={{::$ctrl.serviceUpdatesLink}}> {{::$ctrl.resources.FeatureUnavailable}} </a> </div> </div> <div ng-if=$ctrl.shareSelected class=share-tab> <div class="c-checkbox ct-checkbox time-stamp" ng-if=$ctrl.shouldShowTimeStamp> <label class="c-label ct-label-compact"> <input type=checkbox class="time-stamp-checkbox ct-textbox-compact" ng-model=$ctrl.timeStamp ng-change=$ctrl.timeStampChanged() /> <span>{{::$ctrl.resources.Dialogs.VideoShare.StartAt}}</span> </label> <input type=text ng-model=$ctrl.videoStartAt value={{$ctrl.videoStartAt}} class="c-text-field ct-textbox-compact time-stamp-text" ng-change=$ctrl.timeStampChanged() ng-disabled=!$ctrl.timeStamp /> </div> <div class="link-container row"> <div class=column ng-class="$ctrl.clipBoardSupported ? [\'xsmall-8\', \'small-9\', \'large-10\'] : \'xsmall-12\'"> <div> <label class="c-label ct-label-compact"> {{$ctrl.directShareLinkLabel}} <tooltip message=$ctrl.resources.PublicAnonymous.ShareDialogInternalLinkTooltip ng-if=$ctrl.shouldShowPublicAnonymous button-aria-label={{::$ctrl.resources.PublicAnonymous.InternalLinkAriaLabel}}> </tooltip> <input class="c-text-field ct-textbox-compact video-url" type=text value={{$ctrl.shareLink}} autocomplete=off autocorrect=off autocapitalize=off spellcheck=false /> </label> </div> </div> <div class="column xsmall-4 small-3 large-2 link-container-col2" ng-if=$ctrl.clipBoardSupported ng-class="$ctrl.shouldShowPublicAnonymous ? \'internal-link-copy\' : \'\'"> <button clipboard text=$ctrl.shareLink on-copied=$ctrl.onShareLinkCopied() class="stream-btn btn-primary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class=public-anonymous-container ng-if=$ctrl.shouldShowPublicAnonymous> <div class="column public-anonymous-button-container xsmall-4 small-3 large-2 row"> <button class="stream-btn btn-primary" ng-if=$ctrl.shouldShowCreatePublicLinkButton ng-disabled="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.ManifestNotGenerated" ng-click=$ctrl.createPublicAnonymousLink()> {{::$ctrl.resources.PublicAnonymous.CreateLinkButton}} </button> </div> <div class="public-anonymous-link-container row" ng-if="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.LinkAvailable"> <div class=column ng-class="$ctrl.clipBoardSupported ? [\'xsmall-8\', \'small-9\', \'large-10\'] : \'xsmall-12\'"> <div> <label class="c-label ct-label-compact"> {{::$ctrl.resources.PublicAnonymous.PublicLinkLabel}} <tooltip message=$ctrl.resources.PublicAnonymous.ShareDialogPublicLinkTooltip button-aria-label={{::$ctrl.resources.PublicAnonymous.PublicLinkAriaLabel}}> </tooltip> <input class="c-text-field ct-textbox-compact video-url" type=text value={{$ctrl.publicAnonymousLink}} autocomplete=off autocorrect=off autocapitalize=off aria-label={{::$ctrl.resources.PublicAnonymous.TextboxAriaLabel}} spellcheck=false /> </label> </div> <div>{{::$ctrl.resources.PublicAnonymous.PublicLinkWarningText}}</div> </div> <div class="column xsmall-4 small-3 large-2 public-link-container-col2"> <button type=submit class="restore-button c-action-trigger" ng-click=$ctrl.refreshPublicAnonymousLink() aria-label={{::$ctrl.resources.PublicAnonymous.RefreshLinkTooltip}} custom-title={{::$ctrl.resources.PublicAnonymous.RefreshLinkTooltip}} light-style=true> <svg-src svg-name=icon_restore></svg-src> </button> <button clipboard text=$ctrl.publicAnonymousLink on-copied=$ctrl.onPublicAnonymousLinkCopied() class="stream-btn btn-primary public-anon-clipboard" ng-if=$ctrl.clipBoardSupported>{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class="public-anonymous-link-loading row" ng-if="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.ManifestNotGenerated"> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div class="public-anonymous-error row" ng-if="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.FailedToCreate"> <span>{{::$ctrl.resources.PublicAnonymous.LinkFailErrorText}}</span> </div> </div> <div> <label class="c-label share-with-label"> {{::$ctrl.resources.Dialogs.VideoShare.ShareWithLabel}} </label> <div class=share-buttons ng-init=$ctrl.initializeShareControls()> <div ng-show=$ctrl.isShareToTeamsLoaded ng-if=$ctrl.isShareToTeamsEnabled() ng-click=$ctrl.onTeamsShareClicked()> <span class=teams-share-button data-href={{$ctrl.shareLink}} data-icon-px-size=32></span> </div> <div ng-click=$ctrl.onYammerShareClicked() class=yammer-custom-share-button> <svg-src class=yammer-share-icon svg-name=icon_yammer_share inline-with-text=true></svg-src> </div> <div ng-if=!$ctrl.isEmailEnabled() ng-click=$ctrl.onEmailShareClicked()> <svg-src class=email-share-icon svg-name=icon_email_share inline-with-text=true></svg-src> </div> </div> </div> </div> <div ng-if=$ctrl.embedSelected class=embed-tab> <div class=video-size> <div class=video-size-selector> <label class="c-label ct-label-compact" for=videoSizeSelector> {{::$ctrl.resources.Dialogs.VideoShare.VideoSizeLabel}} </label> <div class=embed-size-selector dir=ltr> <drop-down class=ct-dropdown-compact ltr-content=true name=videoSizeSelector options=$ctrl.playerSizeOptions value=$ctrl.selectedSize aria-label={{::$ctrl.resources.Dialogs.VideoShare.VideoSizeLabel}}> </drop-down> </div> </div> <div> <div class="c-checkbox autoplay"> <label class="c-label ct-label-compact" id=auto-play-toggle> {{::$ctrl.resources.Dialogs.VideoShare.AutoplayLabel}} </label> <toggle name=auto-play-toggle value=$ctrl.autoplay on-toggle-click=$ctrl.onAutoplayToggleClick() /> </div> <div class="c-checkbox responsive-selector"> <label class="c-label ct-label-compact" id=responsive-player-toggle> {{::$ctrl.resources.Dialogs.VideoShare.ResponsiveToggleLabel}} </label> <toggle name=responsive-player-toggle value=$ctrl.responsivePlayer on-toggle-click=$ctrl.onResponsivePlayerToggleClick() /> </div> <div class="c-checkbox show-info responsive-selector"> <label class="c-label ct-label-compact" id=info-toggle> {{::$ctrl.resources.Dialogs.VideoShare.ShowInfoLabel}} </label> <toggle name=info-toggle value=$ctrl.showInfo on-toggle-click=$ctrl.onshowInfoClick() disabled="$ctrl.publicAnonEmbedLink && $ctrl.shouldShowPublicAnonymous"/> </div> </div> <div class="c-checkbox ct-checkbox time-stamp" ng-if=$ctrl.shouldShowTimeStamp> <label class="c-label ct-label-compact"> <input type=checkbox ng-model=$ctrl.timeStamp ng-change=$ctrl.timeStampChanged() /> <span>{{::$ctrl.resources.Dialogs.VideoShare.StartAt}}</span> </label> <input dir=ltr type=text ng-model=$ctrl.videoStartAt value={{$ctrl.videoStartAt}} class="c-text-field ct-textbox-compact time-stamp-text" ng-blur=$ctrl.timeStampChanged() ng-disabled=!$ctrl.timeStamp /> </div> </div> <div class="c-textarea embed-code row"> <div class=column ng-class="$ctrl.clipBoardSupported ? [\'xsmall-8\', \'small-9\', \'large-10\'] : \'xsmall-12\'"> <label class="c-label ct-label-compact"> {{::$ctrl.resources.Dialogs.VideoShare.EmbedCodeLabel}} <textarea dir=ltr class="f-no-resize f-scroll ct-textarea-compact" rows=4 autocomplete=off autocorrect=off autocapitalize=off spellcheck=false>{{$ctrl.embedCode}}</textarea> </label> </div> <div class="column xsmall-4 small-3 large-2 copy-button" ng-if=$ctrl.clipBoardSupported> <button clipboard text=$ctrl.embedCode on-copied=$ctrl.onEmbedCodeCopied() class="stream-btn btn-primary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class="preview-player-container large-9"> <div class=iframe-container> <iframe id=player-container-frame name=player-container-frame ng-src={{$ctrl.embedSrcLink}} class=player-container-iframe></iframe> </div> </div> </div> </div> <div class=dialog-footer> <div ng-if="!($ctrl.emailSelected) || !$ctrl.isEmailEnabled()"> <button type=submit class="stream-btn close-button only-close-button" ng-click=$ctrl.onCloseClicked()> {{::$ctrl.resources.Dialogs.VideoShare.Close}} </button> </div> <div ng-if="$ctrl.emailSelected && $ctrl.isEmailEnabled()"> <div class=left> <button type=submit class="stream-btn close-button" ng-click=$ctrl.onCloseClicked()> {{::$ctrl.resources.Dialogs.VideoShare.Close}} </button> </div> <div class=right> <button type=submit class="stream-btn btn-primary send-close-button" ng-click=$ctrl.onSendAndCloseClicked() ng-disabled=!$ctrl.principals.length> {{::$ctrl.resources.Dialogs.VideoShare.SendAndClose}} </button> </div> </div> </div> </div> </div> </section> '},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.less":function(e,t){},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/VideoShareDialog/VideoShareDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.less");var a;r(c,a=s.BaseDialog),c.prototype.open=function(e,t,i){var r=this;return(i=this.openDialog({template:n("./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.html"),plain:!0,controller:o.VideoShareDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"video-share-dialog",data:{video:e,playerOptions:t,playerCurrentTime:i},ariaRole:"dialog"})).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),i},c.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],r=c;function c(e,t,n,i,r){return(r=a.call(this,n,i,r)||this).telemetry=e,r.navigation=t,r}t.VideoShareDialog=r,angular.module("jumper.controls").service("videoShareDialog",r)},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts"),a=n("./app/models/TelemetryEventModels.ts"),c=n("./app/utility/appUtil.ts"),l=n("./app/utility/LiveEventUtils.ts"),u=n("./app/utility/appUtil.ts");function d(e,t,n,o,l,u,d,p){var m=this;this.$scope=e,this.$element=t,this.resources=n,this.videoService=o,this.principalService=l,this.telemetryService=u,this.featureFlagsService=d,this.$location=p,this.autoplay=!1,this.showInfo=!0,this.principals=[],this.errorHeader="",this.videoStartAt="00:00",this.timeStamp=!1,this.timeInSeconds=0,this.playerCurrentTime=0,this.responsivePlayer=!1,this.isStreamAdmin=!1,this.isInAdminMode=!1,this.publicAnonEmbedLink=!1,this.publicAnonymousLink="",this.directShareLinkLabel=this.resources.Dialogs.VideoShare.ShareLinkLabel,this.refreshedPublicAnonLink=!1,this.previewSizeTemplate="{0} x {1}",this.embedCodeTemplate='<iframe width="{0}" height="{1}" src="{2}" allowfullscreen {3}></iframe>',this.publicAnonymousShareLinkTemplate="{0}://{1}/embed/video/{2}?tenant={3}&publicPlaybackUrl={4}&contentSource={5}{6}",this.publicAnonEmbedSrcTemplate="{0}&autoplay={1}{2}",this.responsivePlayerPrefixTemplate="<div style='max-width: {0}px'><div style='position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;'>",this.responsivePlayerPostfix="</div></div>",this.responsiveIframeStyle='style="border:none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; max-width: 100%;"',this.nonResponsiveIframeStyle='style="border:none;"',this.largeSize=this.buildPreviewSizeOption(s.Constants.EmbedPreviewSizes.large),this.mediumSize=this.buildPreviewSizeOption(s.Constants.EmbedPreviewSizes.medium),this.smallSize=this.buildPreviewSizeOption(s.Constants.EmbedPreviewSizes.small),this.extraSmallSize=this.buildPreviewSizeOption(s.Constants.EmbedPreviewSizes.extraSmall),this.selectedSize=this.smallSize,this.playerSizeOptions=[],this.clipBoardSupported=!1,this.isShareToTeamsLoaded=!1,this.serviceUpdatesLink=s.Constants.ServiceUpdatesLink,this.playerSizeOptions.push({text:this.largeSize.displayValue,value:this.largeSize},{text:this.mediumSize.displayValue,value:this.mediumSize},{text:this.smallSize.displayValue,value:this.smallSize},{text:this.extraSmallSize.displayValue,value:this.extraSmallSize}),this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.resources.Dialogs.VideoShare.AriaLabel),this.$element.attr("aria-modal","true"),this.isStreamAdmin=this.principalService.getIsStreamAdmin(),this.isInAdminMode=this.principalService.getAdminModeStatus(),this.clipBoardSupported=document.queryCommandSupported&&document.queryCommandSupported("copy"),this.telemetryTracker=this.telemetryService.getTracker(a.ScreenName.VideoShareDialog,a.ResourceType.Video,this.video?this.video.id:null),this.telemetryTracker.tagScreen(),this.video=this.$scope.ngDialogData.video,this.playerOptions=this.$scope.ngDialogData.playerOptions,this.playerOptions?this.playerOptions.autoplay=!1:(this.playerOptions={playbackUrls:_.map(this.video.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}})),autoplay:!1,disableLogo:!0,aesToken:"Bearer "+sessionInfo.AccessToken},this.video.posterImage&&this.video.posterImage.large&&(this.playerOptions.poster=this.video.posterImage.large.url)),this.playerCurrentTime=Math.floor(this.$scope.ngDialogData.playerCurrentTime),this.playerCurrentTime&&(this.videoStartAt=c.convertTimeInSecondsToTimeString(this.playerCurrentTime)),(this.isPublicAnonymousVODEnabled()||this.isPublicAnonymousLiveEnabled())&&this.isStreamAdmin&&this.isInAdminMode&&this.videoService.get(this.video.id).then((function(e){m.video=e.data,m.publicAnonLinkState=m.video.options&&m.video.options.allowPublicPlayback?r.CanCreateLink:r.NoPermissions,m.directShareLinkLabel=m.shouldShowPublicAnonymous?m.resources.PublicAnonymous.InternalLink:m.resources.Dialogs.VideoShare.ShareLinkLabel,m.publicAnonLinkState==r.CanCreateLink&&m.shouldShowPublicAnonymous&&m.telemetryTracker.succeed(a.FeatureName.PublicShareOptionShown)})),this.video.state!==s.Constants.VideoStatus.Completed?this.videoService.get(this.video.id).then((function(e){m.video=e.data,m.playerOptions.playbackUrls=_.map(m.video.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}})),m.video.posterImage&&m.video.posterImage.large&&(m.playerOptions.poster=m.video.posterImage.large.url),m.telemetryTracker.succeed(a.FeatureName.ShareVideo)}),(function(e){m.telemetryTracker.fail(a.FeatureName.ShareVideo,a.SubFeatureName.VideoService_GetVideo,e)})):this.telemetryTracker.succeed(a.FeatureName.ShareVideo),this.populateTabOptions(),this.$scope.$watch((function(){return m.emailSelected}),(function(e,t){t!==e&&e&&setTimeout((function(){var e=angular.element(".close-button",m.$element),t=angular.element(".send-close-button ",m.$element),n=Math.max(e.outerWidth(),t.outerWidth());e.outerWidth(n),t.outerWidth(n)}),0)})),setTimeout((function(){m.$scope.$watch((function(){return m.selectedTabOption}),(function(e,t){t!==e&&(e===i.Share?$(".time-stamp-checkbox").focus():e===i.Email?$(".autoComplete input.c-text-field").focus():e===i.Embed&&$(".drop-down .selector").focus())}))}),0);var A=function(e){e.keyCode===s.Constants.KeyCodes.Esc&&(e.isDefaultPrevented()||(m.onCloseClicked(),e.stopPropagation()))}.bind(this);$("body").on("keydown",A),this.$scope.$on("$destroy",(function(){$("body").off("keydown",A)}))}(n=i=t.VideoShareDialogTab||(t.VideoShareDialogTab={}))[n.Email=0]="Email",n[n.Share=1]="Share",n[n.Embed=2]="Embed",(n=r=t.PublicAnonLinkStates||(t.PublicAnonLinkStates={}))[n.NoPermissions=0]="NoPermissions",n[n.CanCreateLink=1]="CanCreateLink",n[n.ManifestNotGenerated=2]="ManifestNotGenerated",n[n.LinkAvailable=3]="LinkAvailable",n[n.FailedToCreate=4]="FailedToCreate",Object.defineProperty(d.prototype,"publicAnonLinkStates",{get:function(){return r},enumerable:!0,configurable:!0}),d.prototype.buildPreviewSizeOption=function(e){return{width:e.width,height:e.height,displayValue:o.formatString(this.previewSizeTemplate,e.width.toString(),e.height.toString())}},d.prototype.populateTabOptions=function(){var e=[];e.push({value:i.Share,text:this.resources.Dialogs.VideoShare.Share}),this.isEmailEnabled()&&this.video.state===s.Constants.VideoStatus.Completed&&e.push({value:i.Email,text:this.resources.Dialogs.VideoShare.Email}),e.push({value:i.Embed,text:this.resources.Dialogs.VideoShare.Embed}),this.tabOptions={options:e},this.selectedTabOption=i.Share},d.prototype.initializeShareControls=function(){var e=this;yam.platform.yammerShare(this.yammOptions),this.isShareToTeamsEnabled()&&portalConfiguration.ShareToTeamsSdkUrl&&$.getScript(portalConfiguration.ShareToTeamsSdkUrl,(function(){e.$scope.$evalAsync((function(){e.isShareToTeamsLoaded=!0}))})).fail((function(){e.$scope.$evalAsync((function(){e.isShareToTeamsLoaded=!1}))}))},d.prototype.onCloseClicked=function(){clearTimeout(this.pollingPlaybackUrl);var e={action:"DialogClosed"};e.resourceId=this.video.id,e.resourceType=a.ResourceType[a.ResourceType.Video],this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,e),this.$scope.closeThisDialog()},Object.defineProperty(d.prototype,"shouldShowTimeStamp",{get:function(){return!l.isEndedVodlessLiveEvent(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"shouldDisablePublicAnonEmbedToggle",{get:function(){return this.publicAnonymousLink.length<=0},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"embedCode",{get:function(){if(this.selectedSize){var e=this.embedSrcLink;return this.responsivePlayer?o.formatString(this.responsivePlayerPrefixTemplate,this.selectedSize.width.toString())+o.formatString(this.embedCodeTemplate,this.selectedSize.width.toString(),this.selectedSize.height.toString(),e,this.responsiveIframeStyle)+this.responsivePlayerPostfix:o.formatString(this.embedCodeTemplate,this.selectedSize.width.toString(),this.selectedSize.height.toString(),e,this.nonResponsiveIframeStyle)}return""},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isLargePlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.largeSize)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isMediumPlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.mediumSize)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isSmallPlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.smallSize)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isExtraSmallPlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.extraSmallSize)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"yammOptions",{get:function(){return{customButton:!0,classSelector:"yammer-custom-share-button",groupId:null,pageUrl:this.shareLink}},enumerable:!0,configurable:!0}),d.prototype.onSendAndCloseClicked=function(){var e=this,t={action:"EmailShare"};t.resourceId=this.video.id,t.resourceType=a.ResourceType[a.ResourceType.Video],t.shareCount=this.principals.length,this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,t),this.videoService.share(this.video.id,_.map(this.principals,(function(e){return e.mail}))).then((function(){e.telemetryTracker.succeed(a.FeatureName.EmailShare,{resourceId:e.video.id,SharedResourceType:a.ResourceType[a.ResourceType.Video],SharedCount:e.principals.length}),e.$scope.closeThisDialog({closeMessage:e.resources.EmailSent})}),(function(t){e.telemetryTracker.fail(a.FeatureName.EmailShare,a.SubFeatureName.VideoService_Share,t),t&&t.data&&t.data.error&&_.isString(t.data.error.message)&&0<t.data.error.message.length&&t.status<500?e.errorHeader=e.resources.Dialogs.VideoShare.ErrorHeader+" "+t.data.error.message:e.errorHeader=e.resources.Dialogs.VideoShare.ErrorHeader}))},d.prototype.onShareLinkCopied=function(){angular.element(document.querySelector(".share-tab .link-container .stream-btn")).focus(),u.alertScreenReader(this.resources.LinkCopiedAlertLabel);var e={action:"LinkCopied"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,e)},d.prototype.onPublicAnonymousLinkCopied=function(){angular.element(document.querySelector(".share-tab .public-anonymous-link-container .stream-btn")).focus(),u.alertScreenReader(this.resources.LinkCopiedAlertLabel);var e={action:"PublicAnonymousLinkCopied"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,e)},d.prototype.onYammerShareClicked=function(){var e={action:"YammerShareClicked"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,e),this.$scope.closeThisDialog()},d.prototype.onTeamsShareClicked=function(){var e={action:"TeamsShareClicked"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,e),this.$scope.closeThisDialog()},d.prototype.onEmailShareClicked=function(){var e={action:"EmailShareClicked"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,e),e=this.shareLink,e="mailto:?body="+encodeURIComponent(e),window.location.href=e,this.$scope.closeThisDialog()},d.prototype.onEmbedCodeCopied=function(){angular.element(document.querySelector(".embed-tab .copy-button .stream-btn")).focus(),u.alertScreenReader(this.resources.EmbedCopiedAlertLabel);var e={action:"EmbedCodeCopied"};e.resourceId=this.video.id,e.width=this.selectedSize.width,e.height=this.selectedSize.height,e.responsive=this.responsivePlayer,e.autoPlay=this.autoplay,e.showInfo=this.showInfo,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(a.TelemetryEventNames.ShareDialog,e)},Object.defineProperty(d.prototype,"emailSelected",{get:function(){return this.selectedTabOption===i.Email},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"shareSelected",{get:function(){return this.selectedTabOption===i.Share},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"embedSelected",{get:function(){return this.selectedTabOption===i.Embed},enumerable:!0,configurable:!0}),d.prototype.timeStampChanged=function(){var e=c.playBackTimeStringtoSeconds(this.videoStartAt);e&&this.timeStamp?this.timeInSeconds=e:this.timeInSeconds=0},Object.defineProperty(d.prototype,"shareLink",{get:function(){var e="{0}://{1}/video/{2}";return this.timeStamp&&this.timeInSeconds&&(e=this.addQueryStringParameter(e,"st",this.timeInSeconds.toString())),this.isGuestAccessEnabled()&&(e=this.addQueryStringParameter(e,"tenantId",sessionInfo.UserClaim.TenantId)),o.formatString(e,this.$location.protocol(),this.$location.host(),this.video.id)},enumerable:!0,configurable:!0}),d.prototype.refreshPublicAnonymousLink=function(){this.createPublicAnonymousLink(),this.refreshedPublicAnonLink=!0,u.alertScreenReader(this.resources.PublicAnonymous.RefreshLinkConfirmationOfAction)},d.prototype.createPublicAnonymousLink=function(){var e=this;this.publicAnonLinkState=r.ManifestNotGenerated;var t,n=sessionInfo.UserClaim.TenantId;e.videoService.getPublicAnonymous(e.video.id,n,e.isInAdminMode).then((function(i){if(i&&200===i.status){var o=i&&i.data?i.data.playbackUrls:void 0;if(o&&o.length)for(var c=0;c<o.length;c++)o[c].mimeType===s.Constants.PublicAnonymous.mimeType&&(t=o[c].playbackUrl,e.generatePublicAnonymousLink(t,n),e.telemetryTracker.succeed(a.FeatureName.CreatePublicAnonymousLink,{resourceId:e.video.id}),e.publicAnonLinkState=r.LinkAvailable,e.refreshedPublicAnonLink&&setTimeout((function(){$(".restore-button").focus(),e.refreshedPublicAnonLink=!1}),0),clearTimeout(e.pollingPlaybackUrl));else e.publicAnonLinkState=r.ManifestNotGenerated}else e.publicAnonLinkState=e.publicAnonLinkStates.FailedToCreate,clearTimeout(e.pollingPlaybackUrl)}),(function(t){e.publicAnonLinkState=e.publicAnonLinkStates.FailedToCreate,e.telemetryTracker.fail(a.FeatureName.CreatePublicAnonymousLink,a.SubFeatureName.VideoService_GetPublicPlaybackUrl,t,{resourceId:e.video.id}),clearTimeout(e.pollingPlaybackUrl)})),e.publicAnonymousLink=""},d.prototype.generatePublicAnonymousLink=function(e,t){var n="";return this.timeStamp&&this.timeInSeconds&&(n="&amp;st="+this.timeInSeconds.toString()),this.publicAnonymousLink=o.formatString(this.publicAnonymousShareLinkTemplate,this.$location.protocol(),this.$location.host(),this.video.id,t,e,this.video.contentSource,n)},Object.defineProperty(d.prototype,"embedSrcLink",{get:function(){var e="{0}://{1}/embed/video/{2}?autoplay={3}&amp;showinfo={4}";if(this.timeStamp&&this.timeInSeconds&&(e=this.addQueryStringParameter(e,"amp;st",this.timeInSeconds.toString())),this.publicAnonEmbedLink&&this.shouldShowPublicAnonymous&&this.publicAnonymousLink){var t="";return this.timeStamp&&this.timeInSeconds&&(t="&amp;st="+this.timeInSeconds.toString()),o.formatString(this.publicAnonEmbedSrcTemplate,this.publicAnonymousLink,this.autoplay.toString(),t)}return this.isGuestAccessEnabled()&&(e=this.addQueryStringParameter(e,"amp;tenantId",sessionInfo.UserClaim.TenantId)),o.formatString(e,this.$location.protocol(),this.$location.host(),this.video.id,this.autoplay.toString(),this.showInfo.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"videoShareNote",{get:function(){return this.shouldShowPublicAnonymous?this.embedSelected?this.resources.PublicAnonymous.EmbedShareDialogDescription:this.resources.PublicAnonymous.ShareDialogDescription:this.resources.Dialogs.VideoShare.Note},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"shouldShowCreatePublicLinkButton",{get:function(){return this.shouldShowPublicAnonymous&&this.publicAnonLinkState!==this.publicAnonLinkStates.LinkAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"shouldShowPublicAnonymous",{get:function(){var e=this.isStreamAdmin&&this.isInAdminMode&&this.video.published&&this.publicAnonLinkState!==this.publicAnonLinkStates.NoPermissions;if(this.isPublicAnonymousLiveEnabled()&&this.isPublicAnonymousVODEnabled())return e;if(this.video.contentSource){if(this.isPublicAnonymousLiveEnabled())return e&&this.video.contentSource===s.Constants.VideoContentSource.liveStream;if(this.isPublicAnonymousVODEnabled())return e&&this.video.contentSource!==s.Constants.VideoContentSource.liveStream}return!1},enumerable:!0,configurable:!0}),d.prototype.onAutoplayToggleClick=function(){this.autoplay=!this.autoplay},d.prototype.onEmbedPublicAnonToggleClick=function(){this.publicAnonEmbedLink=!this.publicAnonEmbedLink,this.publicAnonEmbedLink&&(this.showInfo=!1)},d.prototype.onshowInfoClick=function(){this.showInfo=!this.showInfo},d.prototype.onResponsivePlayerToggleClick=function(){this.responsivePlayer=!this.responsivePlayer},d.prototype.isEmailEnabled=function(){return this.featureFlagsService.Values.EmailEnabled},d.prototype.isShareToTeamsEnabled=function(){return this.featureFlagsService.Values.ShareToTeams},d.prototype.isPublicAnonymousLiveEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousLive},d.prototype.isPublicAnonymousVODEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousVOD},d.prototype.isGuestAccessEnabled=function(){return this.featureFlagsService.Values.GuestAccess},d.prototype.addQueryStringParameter=function(e,t,n){var i=-1===e.indexOf("?")?"?":"&";return e+i+t+"="+n},d.$inject=["$scope","$element","resources","videoService","principalService","telemetryService","featureFlagsService","$location"],n=d,t.VideoShareDialogController=n},"./app/Filters/LiveEventFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts");function s(){return function(e){if(e){var t=moment();e=new Date(e);if(moment(e).isAfter(t))return e.toLocaleString(sessionInfo.UserRegion,{hour12:!0,hour:"numeric",minute:"numeric",timeZoneName:"short"})}return""}}function a(e){return function(t){if(!t)return"";var n=moment(t);return n?n.isBefore(r.endOfToday())?e.LiveEventToday:n.isBefore(r.endOfTomorrow())?e.LiveEventTomorrow:o.formatString(e.LiveEventStartingOnDate,r.formatISODateTimeToDate(t)):""}}function c(e){return function(t){return t&&t.contentSource===i.Constants.VideoContentSource.liveStream&&t.state!==i.Constants.VideoStatus.Completed?t.state===i.Constants.VideoStatus.Live?e.LiveEventNow:e.LiveEventUpcoming:""}}function l(e){return function(t){return t&&t.contentSource===i.Constants.VideoContentSource.liveStream?t.state===i.Constants.VideoStatus.Live?e.LiveEventLiveNow:t.state===i.Constants.VideoStatus.Completed?e.LiveEventCompleted:e.LiveEventUpcoming:""}}t.liveEventStartTimeWithTimezone=s,(t.liveEventStartDate=a).$inject=["resources"],(t.liveEventThumbnailTime=c).$inject=["resources"],(t.liveEventListTime=l).$inject=["resources"],r.registerFilter("liveEventStartTimeWithTimezone",s,angular.module("jumper.filters")),r.registerFilter("liveEventStartDate",a,angular.module("jumper.filters")),r.registerFilter("liveEventThumbnailTime",c,angular.module("jumper.filters")),r.registerFilter("liveEventListTime",l,angular.module("jumper.filters"))},"./app/Filters/channelFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts");function s(e){return function(t){return t?r.formatString(e.Components.SingleChannel.CreateMessage,o.formatISODateTimeToDate(t)):""}}function a(e){return function(t){return i.handleStringCardinality(t,e.Components.ChannelStatistics.Video.Singular,e.Components.ChannelStatistics.Video.Plural)}}function c(e){return function(t){return i.handleStringCardinality(t,e.Controllers.Video.Channel.Message.Singular,e.Controllers.Video.Channel.Message.Plural)}}function l(e){return function(t){return i.handleStringCardinality(t,e.Components.ChannelStatistics.Follow.Singular,e.Components.ChannelStatistics.Follow.Plural)}}function u(e){return function(t){return t?r.formatString(e.Components.ChannelEdit.Edit,t):r.formatString(e.Components.ChannelEdit.Edit,"")}}function d(e){return function(t){return t?e.Components.ChannelStatistics.Isfollowed:e.Components.ChannelStatistics.FollowAction}}function p(e){return function(t){return t&&t.length?r.formatString(e.Components.ChannelDetail.Creator,t):""}}(t.channelCreateMessage=s).$inject=["resources"],(t.channelVideos=a).$inject=["resources"],(t.channelCount=c).$inject=["resources"],(t.channelFollows=l).$inject=["resources"],(t.channelEdit=u).$inject=["resources"],(t.channelFollowAction=d).$inject=["resources"],(t.channelCreator=p).$inject=["resources"],i.registerFilter("channelCreateMessage",s,angular.module("jumper.filters")),i.registerFilter("channelVideos",a,angular.module("jumper.filters")),i.registerFilter("channelFollows",l,angular.module("jumper.filters")),i.registerFilter("channelEdit",u,angular.module("jumper.filters")),i.registerFilter("channelFollowAction",d,angular.module("jumper.filters")),i.registerFilter("channelCount",c,angular.module("jumper.filters")),i.registerFilter("channelCreator",p,angular.module("jumper.filters"))},"./app/Filters/commentFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/string.ts");function o(e){return function(t){return _.isNumber(t)?1===t?r.formatString(e.Components.Comment.Text.CommentTitleSingular,t.toString()):r.formatString(e.Components.Comment.Text.CommentTitlePlural,t.toString()):""}}function s(e){return function(t){if(!t)return"";var n,i=Date.parse(t);return i?(t=i,((new Date).getTime()-3e5<t?e.Components.Comment.Time.MomentsAgo:"")||function(t){var n=(new Date).getTime();return n-354e4<t?(t=Math.round((n-t)/6e4),r.formatString(e.Components.Comment.Time.MinutesAgo,t.toString())):""}(i)||function(t){var n=(new Date).getTime();return n-864e5<t?1===(t=Math.round((n-t)/36e5))?r.formatString(e.Components.Comment.Time.HourAgo,t.toString()):r.formatString(e.Components.Comment.Time.HoursAgo,t.toString()):""}(i)||(n=i,(new Date).getTime()-1728e5<n?e.Components.Comment.Time.Yesterday:"")||function(t){var n=(new Date).getTime();return n-5184e5<t?(t=Math.round((n-t)/864e5),r.formatString(e.Components.Comment.Time.DaysAgo,t.toString())):""}(i)||function(t){var n=(new Date).getTime();return n-24192e5<t?1===(t=Math.round((n-t)/6048e5))?r.formatString(e.Components.Comment.Time.WeekAgo,t.toString()):r.formatString(e.Components.Comment.Time.WeeksAgo,t.toString()):""}(i)||function(t){var n=(new Date).getTime();return n-31536e6<t?1===(t=Math.round((n-t)/2592e6))?r.formatString(e.Components.Comment.Time.MonthAgo,t.toString()):r.formatString(e.Components.Comment.Time.MonthsAgo,t.toString()):""}(i)||(n=i,i=(new Date).getTime(),1===(n=Math.round((i-n)/31536e6))?r.formatString(e.Components.Comment.Time.YearAgo,n.toString()):r.formatString(e.Components.Comment.Time.YearsAgo,n.toString()))):""}}(t.commentCount=o).$inject=["resources"],(t.commentCreateTime=s).$inject=["resources"],i.registerFilter("commentCreateTime",s,angular.module("jumper.filters")),i.registerFilter("commentCount",o,angular.module("jumper.filters"))},"./app/Filters/common.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/NumberUtils.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts");function a(){function e(e,t,n){return t+'<a class="c-hyperlink" href="/browse?'+s.Constants.QueryStringKeys.SearchTerm+"="+encodeURIComponent("#"+n)+'">'+n+"</a>"}return function(t){return t?t.replace(/(^|\s)#([a-z\d][\w-]*)/gi,e):""}}function c(e){return function(t,n,i){function r(t){t&&c.push(e(t))}for(var a,c=[],l=t=o.htmlEncode(t);a=l.match(s.Constants.LinkRegExp);){var u=a.index;r(l.substring(0,u)),function(e,t){if(c.push("<a external-link "),angular.isFunction(i))i=i(e);else if(angular.isObject(i))for(var o in i)c.push(o+'="'+i[o]+'" ');else i={};!angular.isDefined(n)||"target"in i||c.push('target="',n,'" '),RegExp("^http(s)?://").test(e)||(e="http://"+e),c.push('href="',e.replace(/"/g,"&quot;"),'">'),r(t),c.push("</a>")}(a[0],a[0]),l=l.substring(u+a[0].length)}return r(l),c.join("")}}function l(){return function(e,t){var r=n("moment");return r(e,r.ISO_8601).local().format(i.getUserRegionInfo().shortDateformats)}}function u(){return function(e){if(e&&0<=e){var t=i.getUserRegionInfo(),n=t.numberDigitSeperator||",";return t.numberSperatorPosition?3<e.toString().length?(t=n+e.toString().substring(e.toString().length-3),e.toString().substring(0,e.toString().length-3).replace(/\B(?=(\d{2})+(?!\d))/g,n)+t):e.toString():e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)}return"0"}}function d(e){return function(t,n,o){var s=i.getUserRegionInfo();s=o||s.numberSperatorPosition;return r.convertNumberToShortNumber(e,t,n,s)}}t.hashTag=a,i.registerFilter("hashTag",a,angular.module("jumper.filters")),t.linkIt=c,t.localDate=l,t.localNumber=u,d.$inject=["resources"],t.shortNumber=d,c.$inject=["$sanitize"],i.registerFilter("localDate",l,angular.module("jumper.filters")),i.registerFilter("linkIt",c,angular.module("jumper.filters")),i.registerFilter("localNumber",u,angular.module("jumper.filters")),i.registerFilter("shortNumber",d,angular.module("jumper.filters"))},"./app/Filters/videoFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");function o(){return function(e){return i.formatISODuration(e)}}function s(){return function(e){return e===r.Constants.privacyMode.private}}function a(){return function(e){return e===r.Constants.privacyMode.organization}}function c(){return function(e){return e===r.Constants.privacyMode.custom}}function l(){return function(e){return e===r.Constants.privacyMode.public}}function u(){return function(e){return e===r.Constants.privacyMode.organization}}function d(){return function(e){return e===r.Constants.privacyMode.private}}function p(e){return function(t){return i.handleStringCardinality(t,e.VideoMeta.View.Singular,e.VideoMeta.View.Plural)}}function m(e){return function(t){return i.handleStringCardinality(t,e.VideoMeta.Like.Singular,e.VideoMeta.Like.Plural)}}function A(e){return function(t){return i.handleStringCardinality(t,e.VideoMeta.Comment.Singular,e.VideoMeta.Comment.Plural)}}function h(e){return function(t){return i.handleStringCardinality(t,e.VideoMetaLiveCurrentViewersSingular,e.VideoMetaLiveCurrentViewersPlural)}}function f(e){return function(t){switch(t){case r.Constants.privacyMode.organization:return e.PermissionsCompany;case r.Constants.privacyMode.private:return e.PermissionsLimited;default:return""}}}t.videoDuration=o,t.isVideoPrivacyPrivate=s,t.isVideoPrivacyOrganization=a,t.isVideoPrivacyCustom=c,t.isVideoPrivacyPublic=l,t.isVideoPrivacyCompany=u,t.isVideoPrivacyLimited=d,(t.videoViews=p).$inject=["resources"],(t.videoLikes=m).$inject=["resources"],(t.videoComments=A).$inject=["resources"],(t.videoLiveCurrentViewers=h).$inject=["resources"],(t.videoPrivacyText=f).$inject=["resources"],i.registerFilter("videoDuration",o,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyPrivate",s,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyCustom",c,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyOrganization",a,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyPublic",l,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyCompany",u,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyLimited",d,angular.module("jumper.filters")),i.registerFilter("videoPrivacyText",f,angular.module("jumper.filters")),i.registerFilter("videoViews",p,angular.module("jumper.filters")),i.registerFilter("videoLikes",m,angular.module("jumper.filters")),i.registerFilter("videoComments",A,angular.module("jumper.filters")),i.registerFilter("videoLiveCurrentViewers",h,angular.module("jumper.filters"))},"./app/appStartup.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/TelemetryPayloads/SettingsStatusPayload.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/utility/string.ts"),c=n("./node_modules/@msstream/core/esm/index.js");angular.module("jumper").config([function(){window.portalConfiguration||(window.portalConfiguration={EnableMockApiGateway:!0,AzureMediaPlayerVersion:"1.8.0",FeatureFlags:"",IsDevelopmentMode:!0,BuildNumber:"someNumber"},window.isUnitTest=!0),!window.sessionInfo&&window.isUnitTest&&(window.sessionInfo={UserLanguage:"en",UserClaim:{UserInfo:{DisplayableId:"test@account.com",FamilyName:"Account",GivenName:"Test",UniqueId:"33333333-aaaa-bbbb-cccc-ddddddddd555"},TenantId:"00000000-ba46-4b1d-be18-a7e3340bfb9c"}}),!window.initLocalytics&&window.isUnitTest&&(window.initLocalytics=function(){})}]).run(["$router","$q","$location",function(e,t,n){portalConfiguration.EnableMockApiGateway&&n.search().login&&(window.sessionInfo.UserClaim.UserInfo.UniqueId=n.search().login)}]).run(["$router","$q","$location",function(e,t,n){e.navigate=function(e){return"/"+e!==n.path()||e.startsWith("/")?r.call(this,e).then((function(e){var t;e&&((t=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/.exec(e))[2]||t[5]?n.url(e):n.path(e),n.search(i.Constants.QueryStringKeys.NoSignUpCheck,null))})):t.when()};var r=function(e){var n=this;if(this.navigating)return t.when();this.lastNavigationAttempt=e;var i=this.recognize(e);if(!i)return t.reject();this.lastInstructionCanonicalUrl=i.canonicalUrl,this._startNavigating(),i.router=this;var r=t.defer();return this.pipeline.process(i).then((function(){n._finishNavigating(),r.resolve(i.canonicalUrl)}),(function(){n._finishNavigating(),r.reject()})),r.promise}}]).run(["principalService","$location","telemetryService","$timeout","loggingService",function(e,t,n,i,s){var a,l,u;window.isUnitTest?s.enableLogging(!1):(n.getTracker().trackEvent(o.TelemetryEventNames.siteLoaded),t=t.search(),a=n.getTracker(o.ScreenName.Startup),l=function(){i((function(){$(".topbar-container").css("background-color","#B22222")}),0)},t&&"true"===t.DisableTelemetry?(u={web:{disableTelemetry:!0}},a.succeed(o.FeatureName.EnableOrDisableTelemetry,{subFeature:o.SubFeatureName[o.SubFeatureName.DisablingTelemetry]}),s.enableLogging(!1),l(),e.patchMySettings(u).then((function(e){}),(function(e){a.fail(o.FeatureName.UpdatePrincipalSettings,o.SubFeatureName.DisablingTelemetry,e)}))):t&&"false"===t.DisableTelemetry?(u={web:{disableTelemetry:null}},a.succeed(o.FeatureName.EnableOrDisableTelemetry,{subFeature:o.SubFeatureName[o.SubFeatureName.EnablingTelemetry]}),s.enableLogging(!0),e.patchMySettings(u).then((function(e){}),(function(e){a.fail(o.FeatureName.UpdatePrincipalSettings,o.SubFeatureName.EnablingTelemetry,e)}))):_.isNull(sessionInfo.UserClaim)||e.getMyPrincipalInfo().then((function(e){var t=!(t=e.data.settings).web||void 0===t.web.disableTelemetry||!0!==t.web.disableTelemetry;s.enableLogging(t),t||l(),e={payloadTypeName:r.SettingsStatusPayloadNames.SettingsCommonPayload,isEmailNotificationEnabled:_.get(e,"data.settings.system.notifications.email.enabled",!1)},c.StreamLoggingService.appLogicThin("EmailNotificationState",e)}),(function(e){a.fail(o.FeatureName.GetPrincipalSettings,o.SubFeatureName.PrincipalService_GetMyInfo,e)})))}]).run(s.setOutlineOnlyForKeyboardUse).run(s.decodeUserInfo).run(["$location","$rootScope","$router","$timeout","resources","$window",function(e,t,n,i,r,o){t.$on("$locationChangeSuccess",(function(e,t){i((function(){var e=o.document.title.split("|");e=a.formatString(r.PageLoaded,e[0].trim());s.alertScreenReader(e)}))}))}])},"./app/components/AutoComplete/AutoComplete.html":function(e,t){e.exports='<div class=autoComplete action-list> <label ng-if=!$ctrl.hideLabel for={{$ctrl.inputId}} class=shareWith>{{::$ctrl.resources.VideoUpdate.sharedWith}}</label> <tooltip ng-if=!$ctrl.hideLabel class=shareWith message=$ctrl.resources.ToolTip.SharedWith button-aria-label={{::$ctrl.resources.VideoUpdate.sharedWithMoreInformationAriaLabel}}></tooltip> <input type=text id={{::$ctrl.inputId}} ng-disabled=$ctrl.customDisabled placeholder="{{::$ctrl.placeHolder || $ctrl.resources.VideoUpdate.typeToSearchUser}}" aria-label="{{::$ctrl.placeHolder || $ctrl.resources.VideoUpdate.typeToSearchUser}}" ng-focus=$ctrl.updateAriaLabelwithSearchLabel() ng-model=$ctrl.searchParams ng-model-options="{ debounce: $ctrl.inputTimeInterval}" ng-change=$ctrl.onInputChange($ctrl.searchParams) class="c-text-field ct-textbox-compact search-box" maxlength={{::$ctrl.pickerInputMaxLength}} ng-paste=$ctrl.onInputPaste($event) ng-class="{ \'error-border\': $ctrl.noPrincipalsFound }"/> <span id={{$ctrl.placeholderID}} style=display:none>{{::$ctrl.placeHolder || $ctrl.resources.VideoUpdate.typeToSearchUser}}</span> <ul ng-show="$ctrl.suggestions.length && $ctrl.searchParams" class=search-results escape-hide> <li ng-repeat="suggestion in $ctrl.suggestions" class=result-line> <button role=button ng-click=$ctrl.select(suggestion)> <div class=profile-image-col> <img class=profile-image ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-image ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=name-col> <div class="row column row-size0 name-line"> {{$ctrl.displayedName(suggestion)}} </div> <div class="row column row-size0 email-line"> {{suggestion.mail}} </div> </div> </button> </li> </ul> <custom-error-message ng-if=$ctrl.noPrincipalsFound error-message=$ctrl.resources.AutoComplete.InvalidUserErrorMsg></custom-error-message> </div>'},"./app/components/AutoComplete/AutoComplete.less":function(e,t){},"./app/components/AutoComplete/AutoComplete.ts":function(e,t,n){function i(){this.controller=o.AutoCompleteController,this.template=n("./app/components/AutoComplete/AutoComplete.html"),this.bindings={id:"@",searchMinInput:"@",searchProvider:"<",lastSelectedItem:"=",principalsSearched:"&",principalsAdded:"&",hideLabel:"<?",getReference:"&",customDisabled:"<",placeHolder:"<",labelId:"<?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/AutoComplete/AutoComplete.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/AutoComplete/AutoCompleteController.ts");t.AutoComplete=i,r.registerComponent("autoComplete",i,angular.module("jumper"))},"./app/components/AutoComplete/AutoCompleteController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts");o.prototype.onInputPaste=function(e){var t=e.originalEvent.clipboardData.getData("text"),n=/.+@.+\..+/.test(t),i=t.match(/<(.*?)>/);t=t.match(/[^<]*/);n&&t&&t.length&&i&&1<i.length&&(e.preventDefault(),this.searchParams=t[0].trim(),this.onInputChange(i[1]))},o.prototype.onInputChange=function(e){var t=this;e.length>=this.searchMinInput?(this.noPrincipalsFound=!1,$(".search-results").show(),this.principalsSearched&&this.principalsSearched(),this.searchProvider.search(e).then((function(e){(t.suggestions=e).length<=0?t.noPrincipalsFound=!0:r.alertScreenReader(t.resources.SuggestionsReminderLabel)}))):(this.suggestions=[],this.noPrincipalsFound=!1)},o.prototype.select=function(e){this.searchParams="",this.suggestions=[],this.lastSelectedItem=e,this.principalsAdded&&this.principalsAdded()},o.prototype.displayedName=function(e){return e.name||e.mail},o.prototype.clear=function(){this.searchParams=""},Object.defineProperty(o.prototype,"inputTimeInterval",{get:function(){return i.Constants.DropdownList.InputTimeInterval},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputId",{get:function(){var e=this.$element[0].id;return e?"input"+e:""},enumerable:!0,configurable:!0}),o.prototype.updateAriaLabelwithSearchLabel=function(){null!=this.$element.attr("label-id")&&$("input",this.$element).attr("aria-labelledby",this.$element.attr("label-id")+" "+this.placeholderID)},o.$inject=["$scope","resources","$window","$element"],n=o;function o(e,t,n,o){var s=this;this.$scope=e,this.resources=t,this.$window=n,this.$element=o,this.searchMinInput=1,this.suggestions=[],this.pickerInputMaxLength=i.Constants.MaxLengths.PickerSearch,this.noPrincipalsFound=!1,this.placeholderID="autoCompletePlaceholderText"+r.generateSmallId();var a=function(){s.suggestions=[],s.$scope.$apply()}.bind(this),c=function(e){e.keyCode===i.Constants.KeyCodes.Esc&&(0<s.searchParams.length&&e.preventDefault(),s.searchParams="",s.suggestions=[],s.$scope.$apply())}.bind(this);n.document.body.addEventListener("click",a),o.on("keydown",c),e.$on("$destroy",(function(){n.document.body.removeEventListener("click",a),o.off("keydown",c)})),this.getReference&&this.getReference({obj:this})}t.AutoCompleteController=n},"./app/components/Channel/FollowActionTrigger/FollowActionTrigger.html":function(e,t){e.exports='<div class=follow-unfollow> <button type=button ng-mouseover="$ctrl.hoverUnfollow = true" ng-mouseleave="$ctrl.hoverUnfollow = false" ng-focus="$ctrl.hoverUnfollow = true" ng-blur="$ctrl.hoverUnfollow = false" class="c-glyph c-action-trigger follow-unfollow-btn following" ng-class="$ctrl.isFollowing ? \'\' : \'init-hide\'" ng-click=$ctrl.doUnfollow() aria-label={{$ctrl.resources.Components.ChannelStatistics.ChannelAction.UnfollowAriaLabel}}> {{$ctrl.UnfollowText}} </button> <button type=button class="c-glyph c-action-trigger follow-unfollow-btn follow" ng-class="$ctrl.isFollowing ? \'init-hide\' : \'\'" ng-click=$ctrl.doFollow() aria-label={{::$ctrl.resources.Components.ChannelStatistics.ChannelAction.FollowAriaLabel}}> {{::$ctrl.resources.Components.ChannelStatistics.FollowAction}} </button> </div>'},"./app/components/Channel/FollowActionTrigger/FollowActionTrigger.less":function(e,t){},"./app/components/Channel/FollowActionTrigger/FollowActionTrigger.ts":function(e,t,n){function i(){this.controller=r.FollowActionTriggerController,this.template=n("./app/components/Channel/FollowActionTrigger/FollowActionTrigger.html"),this.bindings={channel:"=",hideOnUnfollow:"<",numFollowClick:"=?",numUnfollowClick:"=?",onFeatureSuccess:"&",onFeatureFailure:"&",onUnfollow:"&"},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Channel/FollowActionTrigger/FollowActionTrigger.less");var r=n("./app/components/Channel/FollowActionTrigger/FollowActionTriggerController.ts"),o=n("./app/utility/appUtil.ts");t.FollowActionTrigger=i,o.registerComponent("followActionTrigger",i,angular.module("jumper"))},"./app/components/Channel/FollowActionTrigger/FollowActionTriggerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts");Object.defineProperty(o.prototype,"UnfollowText",{get:function(){return this.hoverUnfollow?this.resources.Components.ChannelStatistics.UnfollowAction:this.resources.Components.ChannelStatistics.Isfollowed},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isFollowing",{get:function(){return!!this.channel.userData&&this.channel.userData.isFollowed},enumerable:!0,configurable:!0}),o.prototype.doUnfollow=function(){var e=this;this.numUnfollowClick=this.numUnfollowClick+1,this.channelService.unfollow(this.channel.id).then((function(){e.channel.userData.isFollowed=!1,e.channel.metrics.follows--,e.onUnfollow&&e.onUnfollow(),e.hideOnUnfollow||e.$timeout((function(){e.followBtn.focus()}),r.Constants.showAnimationPeriod),e.onFeatureSuccess({featureName:i.FeatureName.UnFollow})}),(function(t){e.onFeatureFailure({featureName:i.FeatureName.UnFollow,subFeatureName:i.SubFeatureName.ChannelService_Unfollow,err:t})}))},o.prototype.doFollow=function(){var e=this;this.numFollowClick=this.numFollowClick+1,this.channelService.follow(this.channel.id).then((function(){e.channel.userData.isFollowed=!0,e.channel.metrics.follows++,e.onFeatureSuccess({featureName:i.FeatureName.Follow}),e.$timeout((function(){e.unfollowBtn.focus()}),r.Constants.showAnimationPeriod)}),(function(t){e.onFeatureFailure({err:t,featureName:i.FeatureName.Follow,subFeatureName:i.SubFeatureName.ChannelService_Follow})}))},o.$inject=["$scope","$element","resources","channelService","$timeout"],n=o;function o(e,t,n,i,r){var o=this;this.$scope=e,this.$element=t,this.resources=n,this.channelService=i,this.$timeout=r,this.hoverUnfollow=!1,this.followBtn=this.$element.find(".follow"),this.unfollowBtn=this.$element.find(".following"),this.$timeout((function(){o.numFollowClick||(o.numFollowClick=0),o.numUnfollowClick||(o.numUnfollowClick=0)}),0)}t.FollowActionTriggerController=n},"./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts");o.prototype.setPrivacyMode=function(e){this.channel.privacyMode=e?i.Constants.privacyMode.custom:i.Constants.privacyMode.organization},o.prototype.canModifyContributor=function(){return!this.channel.userData||this.channel.userData.permissions.canManageRoleAssignments},o.prototype.onPrincipalsRemoved=function(){this.principalsRemoved&&this.principalsRemoved(),this.checkIfSearchNeedToBeDisabled()},o.prototype.checkIfSearchNeedToBeDisabled=function(){this.searchDisabled=this.principals.length>=i.Constants.MaxLengths.PrincipleAssignmentsLimit},o.$inject=["$q","$scope","resources","channelService","principalService","telemetryService","navigationService"],n=o;function o(e,t,n,o,s,a,c){var l=this;this.$q=e,this.$scope=t,this.resources=n,this.channelService=o,this.principalService=s,this.telemetryService=a,this.navigationService=c,this.searchMinInput=1,this.searchDisabled=!1;var u=this;this.principalSearch={search:function(t){u.featureTelemetryTracker=u.telemetryService.getTracker(u.channel.id?r.ScreenName.ChannelUpdate:r.ScreenName.ChannelCreateDialog);var n=e.defer();return u.principalService.searchPrincipals(t,i.Constants.MaxLengths.PrincipleSearchOutput).then((function(e){u.featureTelemetryTracker.succeed(r.FeatureName.SearchPrincipals),n.resolve(e.data.value)}),(function(e){u.channel.id,u.featureTelemetryTracker.fail(r.FeatureName.SearchPrincipals,r.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},t.$watch((function(){return l.lastSelectedPrincipal}),(function(e,t){e&&(l.principals||(l.principals=[]),0===l.principals.filter((function(t,n,i){return t.id===e.id})).length&&(l.principals.push(e),l.checkIfSearchNeedToBeDisabled()))})),t.$watch((function(){return l.channel}),(function(e,t){e&&(l.isRestricted=e.privacyMode===i.Constants.privacyMode.custom)}))}t.ChannelUpdateContributorController=n},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.html":function(e,t){e.exports="<div class=ended-background> <img ng-if=$ctrl.posterUrl src={{$ctrl.posterUrl}} class=poster alt={{::$ctrl.resources.LivePosterImageAlt}} /> <div class=info-panel-container> <div class=info-panel> <div class=info-panel-wrapper> <div class=end-event-message>{{$ctrl.endEventMessage}}</div> </div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> </div> "},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.less":function(e,t){},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.ts":function(e,t,n){function i(){this.controller=o.EndedLivePlayerOverlayController,this.template=n("./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.html"),this.bindings={message:"<",video:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlayController.ts");t.EndedLivePlayerOverlay=i,r.registerComponent("endedLivePlayerOverlay",i,angular.module("jumper"))},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlayController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"posterUrl",{get:function(){return this.hasTriedToGetPosterImage||this.imageUrl||!this.video||(this.imageUrl=_.get(this.video,"posterImage.large.url"),this.hasTriedToGetPosterImage=!0),this.imageUrl},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endEventMessage",{get:function(){return this.message||this.resources.VideoDefaultEndLiveEventMessage},enumerable:!0,configurable:!0}),i.$inject=["resources"],i);function i(e){this.resources=e,this.hasTriedToGetPosterImage=!1}t.EndedLivePlayerOverlayController=n},"./app/components/ErrorBox/ErrorBox.html":function(e,t){e.exports='<div class=error-box ng-class="{\'not-player\': !$ctrl.playerPage, \'slate\': $ctrl.slate}" ng-if=!$ctrl.fullScreen> <div class=error-box-content> <div class=error-message-container> <div class=errortitle flex-style=4.5 flex-style-min=16 flex-style-target=font-size> {{::$ctrl.titleStr}} </div> <div class=message ng-if="::($ctrl.message && !$ctrl.hideMessage)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <span ng-if=::!$ctrl.messageLink>{{::$ctrl.message}}</span> <a ng-if=::$ctrl.messageLink external-link ng-href={{$ctrl.messageLink}} target=_blank class=c-hyperlink> {{::$ctrl.message}} </a> <a ng-if=::$ctrl.learnMoreLink external-link ng-href={{$ctrl.learnMoreLink}} target=_blank class=c-hyperlink> {{::$ctrl.resources.LearnMore}} </a> </div> <div class=message ng-if="(!$ctrl.message && !$ctrl.hideMessage || !$ctrl.noActions)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <div class=button-container ng-if=::!$ctrl.encoderError> <button type=button ng-if="!$ctrl.customPrimaryButtonLabel || !$ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.reload()> {{::$ctrl.resources.TryAgain}} </button> <button type=button ng-if="$ctrl.customPrimaryButtonLabel && $ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.customPrimaryButtonClicked()> {{::$ctrl.customPrimaryButtonLabel}} </button> <button type=button class=stream-btn ng-if="$ctrl.customSecondaryButtonClicked && $ctrl.customSecondaryButtonLabel" ng-click=$ctrl.customSecondaryButtonClicked()> {{::$ctrl.customSecondaryButtonLabel}} </button> </div> <a ng-if=::$ctrl.encoderError external-link ng-href={{$ctrl.communityLink}} target=_blank class=c-hyperlink> {{::$ctrl.resources.VideoPlayer.EncoderErrorCode}} </a> </div> <div class=session-info ng-if=!$ctrl.hideSessionInfo> <div class=session-id ng-if=::$ctrl.sessionId> <span>{{::$ctrl.sessionIdText}}</span> </div> <div class=message-error-code ng-if=::$ctrl.errorCode>{{::$ctrl.errorCodeMessage}}</div> </div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> </div> <div class="error-box full-height" ng-if=$ctrl.fullScreen> <div class="error-box-content full-screen request-container" ng-if=::$ctrl.permissionError> <div class=request-access-container> <div class=no_access_icon ng-if=!$ctrl.accessRequestSent> <svg-src svg-name=icon_no_access inline-with-text=false aria-hidden=true /> </div> <div class=video_not_found_icon ng-if=!$ctrl.videoExist> <svg-src svg-name=icon_video_not_found inline-with-text=false aria-hidden=true /> </div> <div class=warning_icon ng-if=$ctrl.permissionExist> <svg-src svg-name=icon_request_warning inline-with-text=false aria-hidden=true /> </div> <div class=waiting_icon ng-if=$ctrl.requestSucceed> <svg-src svg-name=icon_waiting inline-with-text=false aria-hidden=true /> </div> <div class=request-access-errortitle flex-style=3 flex-style-min=12 flex-style-target=font-size> {{$ctrl.titleStr}} </div> <div class=request-access-message flex-style=1.5 flex-style-min=12 flex-style-target=font-size> <span ng-if=$ctrl.message>{{$ctrl.message}}</span> </div> <div class=request-button-container ng-if="$ctrl.requestButtonEnabled && !$ctrl.accessRequestSent"> <button type=button class="stream-btn btn-primary" ng-click=$ctrl.requestAccessButtonClicked()> {{::$ctrl.resources.RequestAccess}} </button> </div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> <div class="error-box-content full-screen" ng-if=::!$ctrl.permissionError> <div class=error-message-container> <div class=errortitle flex-style=4.5 flex-style-target=font-size> {{::$ctrl.titleStr}} </div> <div class=message ng-if="::($ctrl.message && !$ctrl.hideMessage)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <span ng-if=::!$ctrl.messageLink>{{::$ctrl.message}}</span> <a ng-if=::$ctrl.messageLink external-link ng-href={{$ctrl.messageLink}} target=_blank class=c-hyperlink> {{::$ctrl.message}} </a> <a ng-if=::$ctrl.learnMoreLink external-link ng-href={{$ctrl.learnMoreLink}} target=_blank class=c-hyperlink> {{::$ctrl.resources.LearnMore}} </a> </div> <div class=message ng-if=$ctrl.displaySessionId flex-style=2.5 flex-style-min=12 flex-style-target=font-size><span>{{::$ctrl.sessionIdText}}</span></div> <div class=message ng-if="::(!$ctrl.message && !$ctrl.hideMessage || !$ctrl.noActions)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <div class=button-container ng-if=::!$ctrl.encoderError> <button type=button ng-if="!$ctrl.customPrimaryButtonLabel || !$ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.reload()> {{::$ctrl.resources.TryAgain}} </button> <button type=button ng-if="$ctrl.customPrimaryButtonLabel && $ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.customPrimaryButtonClicked()> {{::$ctrl.customPrimaryButtonLabel}} </button> <button type=button class=stream-btn ng-if="$ctrl.customSecondaryButtonClicked && $ctrl.customSecondaryButtonLabel" ng-click=$ctrl.customSecondaryButtonClicked()> {{::$ctrl.customSecondaryButtonLabel}} </button> </div> </div> <div class="message full-screen-links" ng-if="::($ctrl.noActions && $ctrl.fallBackLinks)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <a class=c-hyperlink href=/ >{{::$ctrl.resources.Controller.Fallback.LinkLabel.Home}}</a> <a class=c-hyperlink href=/browse>{{::$ctrl.resources.Controller.Fallback.LinkLabel.Search}}</a> </div> <div class=message-error-code ng-if=::$ctrl.errorCode flex-style=2.5 flex-style-target=font-size>{{::$ctrl.errorCodeMessage}}</div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> </div>'},"./app/components/ErrorBox/ErrorBox.less":function(e,t){},"./app/components/ErrorBox/ErrorBox.ts":function(e,t,n){function i(){this.controller=r.ErrorBoxController,this.template=n("./app/components/ErrorBox/ErrorBox.html"),this.bindings={titleStr:"@",message:"@?",messageLink:"<?",learnMoreLink:"<?",errorCode:"@",hideMessage:"<",hideSessionInfo:"<",playerPage:"<",slate:"<",requestButtonEnabled:"<",accessRequestSent:"<",requestSucceed:"<",videoExist:"<",permissionError:"<",permissionExist:"<",noActions:"<?",fullScreen:"@?",encoderError:"@?",fallBackLinks:"<",displaySessionId:"<",customPrimaryButtonLabel:"@",customPrimaryButtonClicked:"&",customSecondaryButtonClicked:"&",requestAccessButtonClicked:"&",customSecondaryButtonLabel:"@",isServerError:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ErrorBox/ErrorBox.less");var r=n("./app/components/ErrorBox/ErrorBoxController.ts"),o=n("./app/utility/appUtil.ts");t.ErrorBox=i,o.registerComponent("errorBox",i,angular.module("jumper"))},"./app/components/ErrorBox/ErrorBoxController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts");Object.defineProperty(s.prototype,"errorCodeMessage",{get:function(){return o.formatString(this.resources.VideoPlayer.ErrorCode,this.errorCode)},enumerable:!0,configurable:!0}),s.prototype.reload=function(){this.$window.location.reload()},Object.defineProperty(s.prototype,"sessionId",{get:function(){return this.isServerError?sessionInfo.SessionId:sessionInfo.ClientSessionId},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sessionIdText",{get:function(){return this.isServerError?o.formatString(this.resources.SessionIDText,this.sessionId):o.formatString(this.resources.ClientSessionIDText,this.sessionId)},enumerable:!0,configurable:!0}),s.$inject=["resources","$window"],n=s;function s(e,t){this.resources=e,this.$window=t,this.communityLink=r.generateFwLink(i.Constants.ExternalLinkIds.Community),$("body").css("overflowY","auto")}t.ErrorBoxController=n},"./app/components/Fallback/Fallback.html":function(e,t){e.exports="<section aria-label={{$ctrl.description}}> <error-box title-str={{$ctrl.title}} message={{$ctrl.description}} learn-more-link=$ctrl.learnMoreLink full-screen=true no-actions=$ctrl.isNoAction fall-back-links=!$ctrl.hideLinks display-session-id=$ctrl.displaySessionId is-server-error=$ctrl.isServerError custom-primary-button-label={{$ctrl.customPrimaryButtonLabel}} custom-primary-button-clicked=$ctrl.customPrimaryButtonClicked() /> </section>"},"./app/components/Fallback/Fallback.less":function(e,t){},"./app/components/Fallback/Fallback.ts":function(e,t,n){function i(){this.controller=r.FallbackController,this.template=n("./app/components/Fallback/Fallback.html"),this.bindings={hideLinks:"<",isServerError:"<",statusCode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Fallback/Fallback.less");var r=n("./app/components/Fallback/FallbackController.ts"),o=n("./app/utility/appUtil.ts");t.Fallback=i,o.registerComponent("fallback",i,angular.module("jumper"))},"./app/components/Fallback/FallbackController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Fallback/Fallback.less");var i=n("./app/utility/Constants.ts");Object.defineProperty(r.prototype,"displaySessionId",{get:function(){return!_.isNil(sessionInfo)&&!_.isNil(sessionInfo.SessionId)&&!_.isEmpty(sessionInfo.SessionId)},enumerable:!0,configurable:!0}),r.$inject=["resources","$location","$window"],n=r;function r(e,t,n){var r=this;switch(this.resources=e,this.$location=t,this.$window=n,this.learnMoreLink=null,this.isNoActions=!0,$("body").css("overflowY","auto"),this.statusCode){case 401:this.title=this.resources.Controller.Fallback.Message.Head.Unauthorized,this.description=this.resources.Controller.Fallback.Message.Detail.Unauthorized;break;case 403:this.title=this.resources.Controller.Fallback.Message.Head.Forbidden,this.description=this.resources.Controller.Fallback.Message.Detail.Unauthorized;break;case 500:this.title=this.resources.Controller.Fallback.Message.Head.ServerError,this.description=this.resources.Controller.Fallback.Message.Detail.ServerError;break;case 50103:this.title=this.resources.Controller.Fallback.Message.Head.Terminated,this.description=this.resources.Controller.Fallback.Message.Detail.Terminated;break;case 50104:this.title=this.resources.ControllerFallbackMessageTitleInvalidCookies,this.description=this.resources.Controller.Fallback.Message.Detail.InvalidCookies,this.learnMoreLink="https://go.microsoft.com/fwlink/?linkid=2048919",this.isNoActions=!1,this.customPrimaryButtonClicked=function(){var e=_.isString(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom])?decodeURI(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom]):t.absUrl();e.replace("skipSignIn=1",""),-1===e.indexOf("?")?e+="?forceServerAuth=true":e+="&forceServerAuth=true",r.$window.open(e)},this.customPrimaryButtonLabel=this.resources.OpenInNewWindow;break;case 50105:this.title=this.resources.Controller.Fallback.Message.Head.FeatureBlockedError,this.description=this.resources.Controller.Fallback.Message.Detail.FeatureBlockedError;break;case 50106:this.title=this.resources.Controller.Fallback.Message.Head.FeatureBlockedError,this.description=this.resources.ControllerFallbackMessageContentServiceDisabled,this.learnMoreLink="https://go.microsoft.com/fwlink/?linkid=2132374";break;case 50107:this.title=this.resources.ControllerFallbackMessageTitleInvalidCookies,this.description=this.resources.ControllerFallbackMessageIOS13Error,this.learnMoreLink="https://go.microsoft.com/fwlink/?linkid=2048919",this.customPrimaryButtonClicked=function(){var e=_.isString(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom])?decodeURI(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom]):t.absUrl();e.replace("skipSignIn=1",""),-1===e.indexOf("?")?e+="?forceServerAuth=true":e+="&forceServerAuth=true",r.$window.open(e)},this.isNoActions=!1,this.customPrimaryButtonLabel=this.resources.OpenInNewWindow;break;case 50108:this.title=this.resources.ControllerFallbackMessageTitleGuestUserAccessDisabled,this.description=this.resources.ControllerFallbackMessageGuestUserAccessDisabled;break;case 404:this.title=this.resources.Controller.Fallback.Message.Head.NotFound,this.description=this.resources.Controller.Fallback.Message.Detail.Default;break;case 400:default:this.title=this.resources.Controller.Fallback.Message.Head.Default,this.description=this.resources.Controller.Fallback.Message.Detail.Default}}t.FallbackController=n},"./app/components/ItemsList/ItemsList.html":function(e,t){e.exports='<div class=items-list-container> <div class=items-list-info-message ng-if=$ctrl.infoMessage ng-class="{\'error-message-content\':$ctrl.isFailed}"> {{$ctrl.infoMessage}} </div> <div class=items-list-info-message ng-transclude=noDataMessage ng-if="$ctrl.showCustomNoDataMessage && !$ctrl.isLoading"></div> <ng-transclude ng-transclude-slot=header ng-if=$ctrl.currentList.length> </ng-transclude> <item-sizer ng-transclude=item class={{$ctrl.itemClass}} ng-class="{\'items-list-hidden\':!$ctrl.initCompleted}" ng-if=!$ctrl.initCompleted item=$ctrl.mockItem on-render-complete=$ctrl.loadData(rowsCount,itemsPerRow)> <ng-transclude></ng-transclude> </item-sizer> <div class={{$ctrl.itemClass}} ng-transclude=prependItem ng-class="{\'items-list-hidden\':!$ctrl.initCompleted}" ng-if=$ctrl.hasAPrependedItem></div> <div infinite-scroll=$ctrl.displayDataPage() infinite-scroll-container="\'window\'" ng-if="$ctrl.initCompleted && !$ctrl.isRefreshing && !$ctrl.disableInfiniteScolling()"> <div ng-transclude=item class="{{$ctrl.itemClass}} item-animate" ng-repeat="item in $ctrl.currentList"> <ng-transclude></ng-transclude> </div> </div> <div ng-if=$ctrl.disableInfiniteScolling()> <div ng-transclude=item class="{{$ctrl.itemClass}} item-animate" ng-repeat="item in $ctrl.currentList"> <ng-transclude></ng-transclude> </div> </div> <div class={{$ctrl.itemClass}} ng-transclude=appendItem ng-class="{\'items-list-hidden\':!$ctrl.initCompleted}" ng-if=$ctrl.hasAppendedItem></div> <div class=loading-page-progress> <div class=loading-spin-container ng-hide=!$ctrl.isLoading> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> <span class=loading-message aria-label={{$ctrl.loadingMessage}}>{{$ctrl.loadingMessage}}</span> </div> <div ng-hide=$ctrl.disableShowMoreOption()> <button class="show-more c-hyperlink c-action-trigger" aria-label={{$ctrl.showMoreButtonTitle}} ng-click=$ctrl.showMoreItems()>{{$ctrl.showMoreButtonTitle}}</button> </div> </div> </div>'},"./app/components/ItemsList/ItemsList.less":function(e,t){},"./app/components/ItemsList/ItemsList.ts":function(e,t,n){function i(){this.controller=o.ItemsListController,this.restrict="E",this.template=n("./app/components/ItemsList/ItemsList.html"),this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"item",header:"?header",appendItem:"?appendItem"},this.scope={loadDataPage:"&",onMoreDataLoad:"&",onDataChange:"&",onInit:"&",fullPageList:"<",refreshData:"=",removeItem:"=",newItem:"=",listEvents:"<",itemsPerRowLarge:"<",resourceName:"<",screenName:"<",hasAPrependedItem:"<",itemIdentifier:"<",additionalSuccessTelemetry:"&",additionalFailureTelemetry:"&"},this.controllerAs="$ctrl",this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ItemsList/ItemsList.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/ItemsList/ItemsListController.ts");t.ItemsList=i,r.registerDirective("itemsList",i,angular.module("jumper"))},"./app/components/ItemsList/ItemsListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ItemsList/ItemsList.less");var i=n("./app/utility/string.ts"),r=n("./app/components/ItemsList/ListBase/DataListEvents.ts"),o=n("./app/components/ItemsList/ListBase/DataListSummaryProperties.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/Constants.ts"),c=n("./app/utility/appUtil.ts");l.prototype.loadData=function(e,t){var n=this;this.currentList=[],this.skipRecords=0,e=Math.max(8,e*t),this.pageSize=e,this.listEvents.adjustDataPageSize=e,this.isFailed=!1,this.showCustomNoDataMessage=!1,this.fullPageList&&!angular.element(".search-filter-bar").hasClass("fixedposition")&&angular.element("items-list").css("min-height",angular.element("body").height()-$("header").height()-$(".loading-page-progress").height()),this.loadDataInternal(2*this.pageSize).then((function(e){n.isRefreshing=!1,e.data&&e.data.value&&(e.data.value.length?(e=n.buffer.splice(0,Math.min(n.buffer.length,n.pageSize-(n.hasAPrependedItem&&0===n.currentList.length?1:0))),n.dataLoaded=n.dataLoaded.concat(e),n.onMoreDataLoad&&n.onMoreDataLoad({dataLoaded:n.dataLoaded}),n.appendToCurrentList(e),n.infoMessage="",n.showCustomNoDataMessage=!1):n.showNoDataMessage())}),(function(e){n.infoMessage&&(n.showCustomNoDataMessage=!1)})),this.initCompleted=!0},l.prototype.displayDataPage=function(e,t){var n=this;if(void 0===e&&(e=this.pageSize),void 0===t&&(t=!1),this.scrollingPaused||this.enableEndOfResultSet&&this.endOfData&&this.browseGroupPage)return this.IsEndOfDataReached(),null;if(this.buffer&&0<this.buffer.length){var i=this.buffer.splice(0,Math.min(e,this.buffer.length));return this.appendToCurrentList(i),!t&&this.buffer&&this.buffer.length<=this.pageSize?this.isCustomFetchForBrowseGroupEnabled()?this.loadDataInternal(e).then((function(e){n.listEvents&&(n.listEvents.infiniteScrollCount++,n.listEvents.maxPageDepth++,n.IsEndOfDataReached())})):this.loadDataInternal().then((function(e){n.listEvents&&(n.listEvents.infiniteScrollCount++,n.listEvents.maxPageDepth++)})):this.$q.resolve()}return this.loadDataInternal(2*this.pageSize).then((function(e){n.isRefreshing=!1,e&&e.data&&e.data.value&&(e.data.value.length?(n.resetNoDataMessage(),n.displayDataPage(n.pageSize,!0)):n.showNoDataMessage())}))},l.prototype.isCustomFetchForBrowseGroupEnabled=function(){return this.browseGroupPage&&this.enableShowMoreOption&&this.fetchDoubleTopRecords},Object.defineProperty(l.prototype,"loadingMessage",{get:function(){return i.formatString(this.Resources.ItemList.LoadingMessage,this.resourceName)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showMoreButtonTitle",{get:function(){return this.Resources.ItemList.ShowMoreButtonTitle},enumerable:!0,configurable:!0}),l.prototype.removeListAnimation=function(){angular.element(".item-animate").removeClass("item-animate")},l.prototype.showMoreItems=function(){var e=this;this.scrollingPaused=!1;var t=1;this.fetchDoubleTopRecords&&(t=2),this.browseGroupPage&&this.enableShowMoreOption?this.displayDataPage(this.pageSize*t).then((function(){e.IsEndOfDataReached()})):this.displayDataPage()},l.prototype.disableShowMoreOption=function(){return this.browseGroupPage&&this.enableShowMoreOption?this.isLoading||this.endOfData:this.isLoading||!this.scrollingPaused||this.endOfData},l.prototype.disableInfiniteScolling=function(){return!(!this.browseGroupPage||!this.enableShowMoreOption)},l.prototype.appendToCurrentList=function(e){var t=this,n=_.isEmpty(this.currentList),r=this.currentList.length;this.allowDuplicates?this.currentList=this.currentList.concat(e):this.currentList=_.unionBy(this.currentList,e,(function(e){return void 0!==e.id?e.id:e[t.itemIdentifier]})),r=this.currentList.length-r,this.currentList&&0!==this.currentList.length||this.telemetryProperties.numEmptyResults++,c.alertScreenReader(i.formatString(n?this.Resources.ItemList.ItemsLoaded:this.Resources.ItemList.MoreItemsLoaded,r.toString(),this.resourceName))},l.prototype.loadDataInternal=function(e){var t=this;void 0===e&&(e=this.pageSize);var n,r=this.$q.defer();return this.dataLoadLock?r.resolve({data:{value:null}}):(this.isLoading=!this.endOfData,this.isLoading&&c.alertScreenReader(this.loadingMessage),n=Math.max(0,e-a.Constants.QueryConfigDefaults.MaxTop),this.dataLoadLock=!0,this.isFailed=!1,this.infoMessage="",this.loadDataPage({skip:this.skipRecords,top:e}).then((function(i){var o;i&&i.data||r.resolve(i),t.$attrs.additionalSuccessTelemetry&&t.additionalSuccessTelemetry(),null!=i.config?(o={orderBy:c.getUrlParamValueFromUrl("$orderby",i.config.url)},t.telemetryTracker.succeed(t.searchFeature,o)):t.telemetryTracker.succeed(t.searchFeature),t.listEvents.dataLoadEvents++,t.isLoading=!1,t.dataLoadLock=!1,i.data&&i.data.value&&(t.skipRecords+=i.data.value.length,t.endOfData=i.data.value.length<e,t.endOfData&&(t.scrollingPaused=!1),0<i.data.value.length&&i.data.value[0].video&&(i.data.value=i.data.value.map((function(e){var t=e.video;return e.video&&(t.creator=e.creator),t}))),t.buffer=t.buffer?t.buffer.concat(i.data.value):i.data.value),0<n?t.loadDataInternal(n).then((function(e){r.resolve(e)})):r.resolve(i)}),(function(e){t.isLoading=!1,t.dataLoadLock=!1,t.telemetryTracker.fail(t.searchFeature,t.searchSubfeature,e),t.$attrs.additionalFailureTelemetry&&t.additionalFailureTelemetry({err:e}),e.status&&(e.status===a.Constants.HttpResponseCodes.Unauthorized?(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.UnauthorizedMessage,t.resourceName)):e.status===a.Constants.HttpResponseCodes.Forbidden?(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.AuthErrorMessage,t.resourceName)):e.status===a.Constants.HttpResponseCodes.TooManyRequests||e.status===a.Constants.HttpResponseCodes.Unavailable?(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.ServerBusyMessage,t.resourceName)):(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.SearchFailureMessage,t.resourceName))),r.reject(e)}))),r.promise},l.prototype.showNoDataMessage=function(){void 0!==this.currentList&&0!==this.currentList.length||(this.$transclude.isSlotFilled("noDataMessage")?this.showCustomNoDataMessage=!0:this.infoMessage=i.formatString(this.Resources.ItemList.NoMatchingResultsMessage,this.resourceName),this.scrollingPaused=!1)},l.prototype.resetNoDataMessage=function(){void 0!==this.currentList&&0!==this.currentList.length||(this.$transclude.isSlotFilled("noDataMessage")?this.showCustomNoDataMessage=!1:this.infoMessage="")},l.prototype.onItemDeleted=function(e){var t=this;this.listEvents&&this.listEvents.deletedFromList++;var n=_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]}));-1<n&&(this.currentList.splice(n,1),this.skipRecords--,this.displayDataPage(1)),0===this.currentList.length&&this.showNoDataMessage()},l.prototype.onItemDeletedWithoutFetching=function(e){var t=this;this.listEvents&&this.listEvents.deletedFromList++;var n=_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]}));-1<n&&(this.currentList.splice(n,1),this.skipRecords--),0===this.currentList.length&&this.showNoDataMessage(),this.onDataChange&&this.onDataChange({changedData:this.currentList})},l.prototype.onMoveItemDown=function(e){var t,n=this;!this.currentList||this.currentList.length<2||(t=_.findIndex(this.currentList,(function(t){return t[n.identifier]===e[n.identifier]})))!==this.currentList.length-1&&(this.move(this.currentList,t,t+1),this.onDataChange&&this.onDataChange({changedData:this.currentList}))},l.prototype.onMoveItemUp=function(e){var t,n=this;!this.currentList||this.currentList.length<2||0!==(t=_.findIndex(this.currentList,(function(t){return t[n.identifier]===e[n.identifier]})))&&(this.move(this.currentList,t,t-1),this.onDataChange&&this.onDataChange({changedData:this.currentList}))},l.prototype.isLastItem=function(e){var t=this;return!(!this.currentList||(!this.currentList||1!==this.currentList.length)&&_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]}))!==this.currentList.length-1)},l.prototype.isFirstItem=function(e){var t=this;return!(!this.currentList||(!this.currentList||1!==this.currentList.length)&&0!==_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]})))},l.prototype.onItemAdded=function(e){this.listEvents&&this.listEvents.addedToList++,this.skipRecords++;var t=this.currentList;this.currentList=angular.isArray(e)?e:[e],this.appendToCurrentList(t),this.showCustomNoDataMessage=!1,this.infoMessage=""},l.prototype.onItemChanged=function(e){this.listEvents&&this.listEvents.changedInList++},l.prototype.move=function(e,t,n){!e||t<0||t>e.length||n<0||n>e.length||e.splice(n,0,e.splice(t,1)[0])},l.prototype.setupWatchers=function(){var e=this;this.$scope.$watch((function(){return e.refreshData&&e.initCompleted}),(function(){e.refreshData&&(e.isRefreshing=!0,e.currentList=[],e.buffer=[],e.skipRecords=0,e.refreshData=!1,e.endOfData=!1,angular.element(".search-filter-bar").hasClass("fixedposition")&&angular.element("body").scrollTop(0),e.scrollingPaused=!1,e.displayDataPage(e.pageSize,!1))})),this.$scope.$watch((function(){return e.removeItem}),(function(){e.removeItem&&(e.onItemDeleted(e.removeItem),e.removeItem=null)})),this.$scope.$watch((function(){return e.newItem}),(function(){e.newItem&&(e.onItemAdded(e.newItem),e.newItem=null)}))},l.prototype.initItemLayout=function(){var e=this;this.skipRecords=0,this.pageSize=a.Constants.DefaultQueryCounts.top,this.itemsPerRowLarge&&1!==this.itemsPerRowLarge?(this.breakPoints=_.map(this.breakPoints,(function(t,n){return t+"-"+Math.floor(12/(e.itemsPerRowLarge-n))})),this.breakPoints.unshift("column","end","list-item"),this.hasAPrependedItem=this.hasAPrependedItem||this.$transclude.isSlotFilled("prependItem"),this.itemClass=_.join(this.breakPoints," ")):this.itemClass=" list-item row row-size1 column list-item-fixed-margin",this.hasAppendedItem=this.$transclude.isSlotFilled("appendItem"),this.itemClass=this.itemClass||"row row-size1"},l.prototype.initTelemetry=function(){var e=this;this.telemetryTracker=this.telemetryService.getTracker(this.screenName);var t=this.flushTelemetry.bind(this);this.$scope.$on("$destroy",(function(){t(),e.$window.removeEventListener("beforeunload",t)})),this.$window.addEventListener("beforeunload",t),this.$timeout((function(){var t=e.navigationService.getPreviousUrl();t=e.navigationService.getPageName(t);e.resourceName===e.Resources.ItemList.ResourceName.Videos?(e.searchFeature=s.FeatureName.SearchVideos,e.searchSubfeature=s.SubFeatureName.VideoService_Search,e.telemetryProperties=new o.DataListSummaryProperties(!0,!1,!1,!1,t,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.Channels?(e.searchFeature=s.FeatureName.SearchChannels,e.searchSubfeature=s.SubFeatureName.ChannelService_Search,e.telemetryProperties=new o.DataListSummaryProperties(!1,!0,!1,!1,t,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.People?(e.searchFeature=s.FeatureName.SearchPrincipals,e.searchSubfeature=s.SubFeatureName.PrincipalService_SearchPrincipals,e.telemetryProperties=new o.DataListSummaryProperties(!1,!1,!0,!1,t,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.Groups?(e.searchFeature=s.FeatureName.ListGroups,e.searchSubfeature=s.SubFeatureName.GroupService_Search,e.telemetryProperties=new o.DataListSummaryProperties(!1,!1,!1,!0,t,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.GroupMembers&&(e.searchFeature=s.FeatureName.ListGroupMembers,e.searchSubfeature=s.SubFeatureName.GroupService_ListMembers,e.telemetryProperties=new o.DataListSummaryProperties(!1,!1,!1,!0,t,e.screenName))}),0)},l.prototype.flushTelemetry=function(){this.isTelemetrySent||(this.telemetryTracker.trackEvent(s.TelemetryEventNames.searchSummaryEventName,this.telemetryProperties,{}),this.listEvents&&this.telemetryTracker.trackEvent(s.getTelemetryEventName(this.screenName),{},r.DataListEvents.flatten(this.listEvents)),this.isTelemetrySent=!0)},l.prototype.initFeatureFlags=function(){this.enableEndOfResultSet=this.featureFlagsService.Values.EndOfResultSet||!1,this.fetchDoubleTopRecords=this.featureFlagsService.Values.FetchDoubleTopRecords||!1,this.enableShowMoreOption=this.featureFlagsService.Values.EnableShowMoreOption||!1,this.browseGroupPage=void 0!==this.screenName&&this.screenName==s.ScreenName.BrowseGroups},l.prototype.IsEndOfDataReached=function(){var e;this.enableEndOfResultSet&&this.endOfData&&this.browseGroupPage&&this.buffer&&0<this.buffer.length&&(e=this.buffer.splice(0,this.buffer.length),this.appendToCurrentList(e))},l.$inject=["$scope","resources","$timeout","$transclude","navigationService","telemetryService","featureFlagsService","$window","$q","$attrs"],n=l;function l(e,t,n,i,r,o,a,c,l,u){var d=this;this.$scope=e,this.Resources=t,this.$timeout=n,this.$transclude=i,this.navigationService=r,this.telemetryService=o,this.featureFlagsService=a,this.$window=c,this.$q=l,this.$attrs=u,this.isLoading=!0,this.isRefreshing=!1,this.allowDuplicates=!1,this.hasAPrependedItem=!1,this.hasAppendedItem=!1,this.isFailed=!1,this.showCustomNoDataMessage=!1,this.enableShowMoreOption=!1,this.browseGroupPage=!1,this.fetchDoubleTopRecords=!1,this.enableEndOfResultSet=!1,this.telemetryProperties=null,this.mockItem={name:"..."},this.dataLoaded=[],this.fullPageList=!0,this.endOfData=!1,this.scrollingPaused=!0,this.searchFeature=s.FeatureName.NotApplicable,this.searchSubfeature=s.SubFeatureName.NotApplicable,this.breakPoints=["large","medium","small","xsmall"],this.initCompleted=!1,this.dataLoadLock=!1,this.isTelemetrySent=!1,this.identifier=this.itemIdentifier||"id",this.initFeatureFlags(),this.initItemLayout(),this.setupWatchers(),this.initTelemetry(),this.onInit&&this.onInit({itemsListController:this}),this.$scope.$watch((function(){return d.currentList}),(function(){d.onDataChange&&d.onDataChange({changedData:d.currentList})}))}t.ItemsListController=n},"./app/components/ItemsList/ListBase/DataListEvents.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.flatten=function(e){var t={};return e.sortEvents&&delete(t=_.extend(e,e.sortEvents)).sortEvents,e.stateFilterEvents&&delete(t=_.extend(e,e.stateFilterEvents)).stateFilterEvents,e.videoScopeFilterEvents&&delete(t=_.extend(e,e.videoScopeFilterEvents)).videoScopeFilterEvents,e.privacyFilterEvents&&delete(t=_.extend(e,e.privacyFilterEvents)).privacyFilterEvents,e.itemsEvents&&delete(t=_.extend(e,e.itemsEvents)).itemsEvents,t},i);function i(){this.dataLoadEvents=0,this.infiniteScrollCount=0,this.maxPageDepth=0,this.adjustDataPageSize=0,this.searchEvents=0,this.addedToList=0,this.deletedFromList=0,this.changedInList=0,this.sortEvents={},this.stateFilterEvents={},this.videoScopeFilterEvents={},this.privacyFilterEvents={},this.itemsEvents={}}t.DataListEvents=n},"./app/components/ItemsList/ListBase/DataListSummaryProperties.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts");n=function(e,t,n,r,o,s,a,c){void 0===o&&(o=i.ScreenName.Auto),void 0===s&&(s=i.ScreenName.Auto),void 0===a&&(a=""),void 0===c&&(c=0),this.isVideo=e,this.isChannel=t,this.isPrincipal=n,this.isGroup=r,this.fromPageName=o,this.onPageName=s,this.fromPageUrl=a,this.numEmptyResults=c};t.DataListSummaryProperties=n},"./app/components/ItemsList/ListBase/ListBase.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/components/ItemsList/ListBase/DataListEvents.ts"),r=n("./app/models/TelemetryEventModels.ts");o.prototype.onAdminModeChanged=function(e){this.isInAdminMode!=(this.isStreamAdmin&&e)&&(this.isInAdminMode=this.isStreamAdmin&&e,this.refreshData=!0,this.telemetryService.getTracker(r.ScreenName.Auto).trackEvent(r.TelemetryEventNames.adminModeToggled,{active:e}))},o.$inject=["$scope","telemetryService","featureFlagsService","principalService"],n=o;function o(e,t,n,r,o){void 0===o&&(o=!1);var s=this;this.$scope=e,this.telemetryService=t,this.featureFlagsService=n,this.principalService=r,this.itemsPerRow=1,this.listEvents=new i.DataListEvents,this.refreshData=!1,this.removeItem=null,this.isStreamAdmin=!1,this.isInAdminMode=!1,this.$scope.$watch((function(){return s.hideSearchAndFilter}),(function(e,t){e?$("search-and-filter").hide():$("search-and-filter").show()}),!0),o&&this.principalService.getMyPrincipalInfo().then((function(e){s.isStreamAdmin=s.principalService.getIsStreamAdmin(),s.isInAdminMode=s.isStreamAdmin&&s.principalService.getAdminModeStatus(),s.$scope.$watch(s.principalService.getAdminModeStatus,(function(e,t){e!=t&&s.onAdminModeChanged(e)}))}))}t.ListBase=n},"./app/components/ItemsList/ListBase/ListItemBase.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/ItemsList/ItemsListController.ts"),a=n("./app/utility/ComponentBase.ts"),c=n("./app/utility/appUtil.ts");r(l,o=a.ComponentBase),Object.defineProperty(l.prototype,"item",{get:function(){for(var e=this.$scope;e&&!e.item;)e=e.$parent;return e?e.item:null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"listScope",{get:function(){for(var e=this.$scope;e&&!(e.$ctrl instanceof s.ItemsListController);)e=e.$parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"telemetryTracker",{get:function(){return this.listScope?this.listScope.$ctrl.telemetryTracker:null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"screenName",{get:function(){return this.listScope.$ctrl.screenName},enumerable:!0,configurable:!0}),l.prototype.onItemDeleted=function(e){var t=this.listScope.$ctrl,n=t.currentList.indexOf(e);return t.onItemDeleted(e),n},l.prototype.onItemChanged=function(e){this.listScope.$ctrl.onItemChanged(e)},l.prototype.onFollowedChannelDeleted=function(e){var t,n=this.listScope.$ctrl,i=n.currentList.indexOf(e);return n.currentList&&1!==n.currentList.length?(t=(t=i)>=n.currentList.length-1?i-1:i+1,t=n.currentList[t],document.getElementById(t.id).focus()):$("button.f-active:visible:enabled",$("[ng-viewport]")).first().focus(),n.onItemDeleted(e),i},l.$inject=["$scope","$timeout"],r=l;function l(e,t,n){var i=o.call(this,n)||this;return i.$scope=e,i.$timeout=t,i.itemUxId=c.generateGuid().split("-")[0],i.$timeout((function(){i.itemUniqueClass=[i.itemBaseClass,"-",i.itemUxId].join("")}),0),i}t.ListItemBase=r},"./app/components/LivePlayerOverlay/LivePlayerOverlay.html":function(e,t){e.exports="<div class=live-player-overlay> <img ng-if=$ctrl.posterUrl ng-src={{$ctrl.posterUrl}} class=live-poster-image alt={{::$ctrl.resources.LivePosterImageAlt}} /> <div class=info-panel-container ng-class=\"{'producer-view':$ctrl.isProducerView}\"> <div class=info-panel> <div class=info-panel-wrapper> <div class=video-title>{{$ctrl.videoItem.name}}</div> <div class=video-date-time> <div class=date-text>{{$ctrl.videoItem.liveEvent.startTime | liveEventStartDate}}</div> <div class=time-text>{{$ctrl.videoItem.liveEvent.startTime | liveEventStartTimeWithTimezone}}</div> </div> </div> </div> </div> </div> "},"./app/components/LivePlayerOverlay/LivePlayerOverlay.less":function(e,t){},"./app/components/LivePlayerOverlay/LivePlayerOverlay.ts":function(e,t,n){function i(){this.controller=o.LivePlayerOverlayController,this.template=n("./app/components/LivePlayerOverlay/LivePlayerOverlay.html"),this.bindings={videoItem:"<",videoEditStateInfo:"<",isProducerView:"<"},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LivePlayerOverlay/LivePlayerOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LivePlayerOverlay/LivePlayerOverlayController.ts");t.LivePlayerOverlay=i,r.registerComponent("livePlayerOverlay",i,angular.module("jumper"))},"./app/components/LivePlayerOverlay/LivePlayerOverlayController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"posterUrl",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.localPosterUrl?this.videoEditStateInfo.localPosterUrl:_.get(this.videoItem,"posterImage.large.url")},enumerable:!0,configurable:!0}),i.$inject=["$scope","resources"],i);function i(e,t){this.$scope=e,this.resources=t}t.LivePlayerOverlayController=n},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.html":function(e,t){e.exports='<div class=producer-action-bar> <div class=status-panel> <div class=status-panel-info ng-if=$ctrl.showGenericError role=dialog> <div role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.LiveGenericErrorMessageTitle}}</div> <div class=content>{{$ctrl.errorMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.errorOkButton()> {{::$ctrl.resources.OK}} </button> </div> </div> </div> <div ng-switch=$ctrl.liveStatus class=status-panel-info ng-if=!$ctrl.showGenericError role=dialog> <div ng-switch-when=1 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.PreparingLiveMessageTitle}}</div> <div class=content>{{$ctrl.preparingLiveMessage}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=2 role=alert class="status-content column xsmall-12 small-7" ng-if="!$ctrl.playerLoaded && !$ctrl.playerErrored" trap-focus> <div ng-if="!$ctrl.isStartTimePassed || !$ctrl.showStatus || $ctrl.videoEditStateInfo.isLiveEventScheduledToNow"> <div class=title>{{::$ctrl.resources.ConnectEncoderMessageTitle}}</div> <div class=content>{{::$ctrl.resources.ConnectEncoderMessageContent}}</div> </div> <div ng-if="$ctrl.isStartTimePassed && $ctrl.showStatus && !$ctrl.videoEditStateInfo.isLiveEventScheduledToNow"> <div class=title>{{::$ctrl.resources.ConnectEncoderPassedStartTimeMessageTitle}}</div> <div class=content>{{::$ctrl.resources.ConnectEncoderPassedStartTimeMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.okButton()> {{::$ctrl.resources.OK}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEncoderLearnMore() auto-focus> {{::$ctrl.resources.LiveEventControlBarLearnMore}} </button> </div> </div> </div> <div ng-switch-when=4 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.LiveStartingMessageContent}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=6 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.EndLiveMessageTitle}}</div> <div class=content>{{::$ctrl.resources.EndLiveMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.cancelStopButton() auto-focus> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.stopBroadcast()> {{::$ctrl.resources.EndEvent}} </button> </div> </div> <div ng-switch-when=7 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.EndingLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.EndingLiveMessageContent}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=9 role=alert class="status-content column xsmall-12 small-7" ng-if="$ctrl.showVideoEditOption && $ctrl.isVideoEditorEnabled" trap-focus> <div class=title>{{::$ctrl.resources.VideoEditMessageTitle}}</div> <div class=content>{{::$ctrl.resources.VideoEditMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.yesVideoEdit()> {{::$ctrl.resources.Yes}} </button> <button type=button class="producer-button stream-btn" ng-click=$ctrl.noVideoEdit() auto-focus> {{::$ctrl.resources.No}} </button> </div> </div> <div ng-switch-when=11 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.DisconnectingLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.DisconnectingLiveMessageContent}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=12 role=alert class="status-content column xsmall-12 small-7" trap-focus> <div class=title>{{::$ctrl.resources.DisconnectLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.DisconnectLiveMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickCancelDisconnect() auto-focus> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.disconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> </div> </div> <div ng-switch-when=14 role=alert class="status-content column xsmall-12 small-7" trap-focus> <div class=title>{{::$ctrl.resources.AutoEndingLiveMessageTitle}}</div> <div class=content>{{$ctrl.autoEndingMessage}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.cancelStopButton()> {{::$ctrl.resources.OK}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() auto-focus> {{::$ctrl.resources.EndNow}} </button> </div> </div> <div ng-switch-when=15 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.LiveQuotaReachedMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveQuotaReachedMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.quotaErrorCloseButton()> {{::$ctrl.resources.CloseButton}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.connectEncoder() auto-focus> {{::$ctrl.resources.TryAgain}} </button> </div> </div> <div ng-switch-when=16 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.LiveEncoderNotConnectedConfirmMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveEncoderNotConnectedMessageConfirmMessageContent}}</div> <div class="c-checkbox ct-checkbox"> <label class="c-label ct-label-compact"> <input type=checkbox class=ct-textbox-compact ng-model=$ctrl.canStartLiveWithoutEncoder auto-focus/> <span>{{::$ctrl.resources.LiveEncoderNotConnectedCheckboxDescription}}</span> </label> </div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickCancelStartEventOnIdle()> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=!$ctrl.canStartLiveWithoutEncoder> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> </div> <div ng-switch-when=17 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.DisconnectLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveEncoderDisconnectedPreviewMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickCancelDisconnect()> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickDisconnect() auto-focus> {{::$ctrl.resources.DisconnectNow}} </button> </div> </div> <div ng-switch-when=18 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.EndLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveEncoderDisconnectedEventStartedMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.cancelStopButton()> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() auto-focus> {{::$ctrl.resources.EndNow}} </button> </div> </div> </div> </div> <div class=live-player-control-bar> <div class=status-bar-container> <div ng-switch=$ctrl.liveStatus class=producer-status-info> <div ng-switch-when=0 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=1 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=2 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=3 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=4 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=5 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=6 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=7 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=11 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=12 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=9 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventEnded}}</span> </div> <div ng-switch-when=10 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=13 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=14 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=15 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=16 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=17 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=18 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> </div> <volume-button media-player-id=$ctrl.videoEditStateInfo.mediaPlayerId ng-if="$ctrl.playerLoaded && !$ctrl.isLiveEnded" class=producer-volume-button></volume-button> </div> <div class=label-container ng-if=$ctrl.isEmbed custom-title={{::$ctrl.resources.LiveOpenInStreamTooltip}}> <a href={{$ctrl.videoUrl}} class=powered-by-container target=_blank aria-label={{::$ctrl.resources.LiveOpenInStreamAriaLabel}}> <svg-src svg-name=stream-icon-white class=stream-icon inline-with-text=true></svg-src> <span class=powered-by-label>{{::$ctrl.resources.LivePoweredByLabel}}</span> </a> </div> <div class=right-container> <caption-button video-id=$ctrl.video.id media-player-id=$ctrl.videoEditStateInfo.mediaPlayerId ng-if="$ctrl.playerLoaded && $ctrl.embeddedCaptionButtonShown" class=producer-caption-button></caption-button> <div ng-switch=$ctrl.liveStatus class=producer-controls> <div ng-if=!$ctrl.isPartner> <div ng-switch-when=0 ng-show=$ctrl.showStartSetupCoachMark class="coach-mark xsmall-12 small-7"> <div class=inner-container> <button class=delete-button role=button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelSetupCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{$ctrl.startSetupCoachMarkTitle}}</strong></div> <div class=content>{{::$ctrl.resources.LiveEventControlBarStartSetupCoachMarkContent}}</div> </div> </div> <div ng-switch-when=0 ng-show=$ctrl.showScheduledToSetupCoachMark class="coach-mark xsmall-12 small-7" ng-class="{\'stopped-state-time-passed\': $ctrl.showScheduledToSetupCoachMark}"> <div class=inner-container> <button class=delete-button role=button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelSetupCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.LiveEventControlBarStartSetupTitle}}</strong></div> <div class=content>{{::$ctrl.resources.LiveEventControlBarStartSetupContent}}</div> </div> </div> <div ng-switch-when=0 class=producer-action-container> <button type=button class="producer-button start-setup-button stream-btn btn-primary2" ng-click=$ctrl.connectEncoder() auto-focus> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=1 class=producer-action-container> <button type=button class="producer-button stream-btn" ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=2 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEventOnIdle()> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=3 class="coach-mark xsmall-12 small-7" ng-show=$ctrl.showStartEventCoachMark ng-class="{\'encoder-connected-state\': $ctrl.showStartEventCoachMark}"> <div class=inner-container> <button class=delete-button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelStartEventCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.StartLiveMessageTitle}}</strong></div> <div class=content><strong>{{::$ctrl.resources.StartLiveMessageContent}}</strong></div> </div> </div> <div ng-switch-when=3 class="coach-mark xsmall-12 small-7" ng-show=$ctrl.showScheduledToStartEventCoachMark ng-class="{\'encoder-connected-state-time-passed\': $ctrl.showScheduledToStartEventCoachMark}"> <div class=inner-container> <button class=delete-button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelStartEventCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.StartLivePassedStartTimeMessageTitle}}</strong></div> <div class=content><strong>{{::$ctrl.resources.StartLivePassedStartTimeMessageContent}}</strong></div> </div> </div> </div> <div ng-switch-when=3 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent()> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=4 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.disconnect() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=5 class=producer-action-container> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent()> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=6 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() disabled=disabled> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=7 class=producer-action-container> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickEndEvent() disabled=disabled> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=9 class=producer-action-container> </div> <div ng-switch-when=10 class=producer-action-container> <button type=button class="producer-button stream-btn" ng-click=$ctrl.connectEncoder() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=11 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.disconnect() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=12 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.disconnect() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=13 class="coach-mark xsmall-12 small-7" ng-show=$ctrl.shouldDisplayAutoCancelCoachMark ng-class="{\'auto-disconnect-state\': $ctrl.shouldDisplayAutoCancelCoachMark}"> <div class=inner-container> <button class=delete-button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelAutoDisconnectCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.AutoDisconnectingLiveMessageTitle}}</strong></div> <div class=content>{{::$ctrl.autoDisconnectingMessage}}</div> </div> </div> <div ng-switch-when=13 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=14 class=producer-action-container> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent()> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=15 class=producer-action-container> <button type=button class="producer-button stream-btn btn-primary2" ng-click=$ctrl.connectEncoder() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=16 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=17 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=18 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() disabled=disabled> {{::$ctrl.resources.EndEvent}} </button> </div> </div> <div ng-if=!$ctrl.isPartner> <flex-drawer drawer-items=$ctrl.drawerItems flex-mode=false class=producer-more-actions always-open-up=true> <transcludebutton> <button class="c-action-trigger drawer-button drawer-button-stream more-actions-button drawer-button-without-label producer-more-items-button" aria-label={{::$ctrl.resources.PlayerSkin.Settings}} custom-title={{::$ctrl.resources.PlayerSkin.Settings}}> <svg-src svg-name=icon_settings></svg-src> </button> </transcludebutton> </flex-drawer> </div> </div> </div> </div> '},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.less":function(e,t){},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.ts":function(e,t,n){function i(){this.controller=o.ProducerActionBarController,this.template=n("./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.html"),this.bindings={video:"<",videoEditStateInfo:"<",stopLiveEvent:"&",producerSessionId:"<",playerLoaded:"<",playerErrored:"<",showVolumeButton:"<",isEmbed:"<?",reportAnIssue:"&",embeddedCaptionButtonShown:"<",isAdminMode:"<",showEndOfEventOverlay:"&",isPartner:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/ProducerActionBar/ProducerActionBarController.ts");t.ProducerActionBar=i,r.registerComponent("producerActionBar",i,angular.module("jumper"))},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBarController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts"),a=n("./app/utility/Constants.ts"),c=n("./app/services/NavigationService.ts"),l=n("./common/Directives/Drawer/Drawer.ts"),u=n("./app/utility/LiveEventUtils.ts"),d=n("./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts");function p(e,t,n,o,c,d,p,m,A,h,f){var g=this;this.$scope=e,this.$q=t,this.$http=n,this.videoService=o,this.resources=c,this.$filter=d,this.$window=p,this.$interval=m,this.telemetryService=A,this.featureFlagsService=h,this.videoEditorDialog=f,this.showStatus=!0,this.liveStatus=i.notCreated,this.manifestAvailable=void 0,this.showVideoEditOption=!0,this.isPartner=!1,this.canStartLiveWithoutEncoder=!1,this.shouldDisplayStartSetupCoachMark=!1,this.shouldDisplayStartEventCoachMark=!1,this.shouldDisplayAutoCancelCoachMark=!1,this.ingestStopDelay="0:15:0.0000",this.preparingLiveStartTime=new Date,this.minutesToShutdown=5,this.reportBroadcastEndSuccess=!1,this.videoTelemetryProperties={videoId:this.video.id,producerSessionId:this.producerSessionId,serverIngestUrl:this.videoEditStateInfo.mainIngestUrl},this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.LiveUpdate),this.$scope.$watchGroup([function(){return g.videoEditStateInfo.videoState},function(){return g.videoEditStateInfo.ingestState}],(function(e,t){t[0];var n=t[1];e[0],e[1],g.videoEditStateInfo.videoState===a.Constants.VideoState.creating&&(g.liveStatus=i.notCreated),g.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.stopped&&g.videoEditStateInfo.videoState===a.Constants.VideoState.created?(g.showStatus=!0,g.liveStatus=i.stopped,g.shouldDisplayStartSetupCoachMark=!0):g.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.starting&&g.videoEditStateInfo.videoState===a.Constants.VideoState.created?(g.liveStatus=i.starting,g.preparingLiveStartTime=new Date):g.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.idle&&g.videoEditStateInfo.videoState===a.Constants.VideoState.created?g.liveStatus=i.idle:g.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.processing&&g.videoEditStateInfo.videoState===a.Constants.VideoState.created?_.isNil(n)||g.playerLoaded?(g.featureTelemetryTracker.setResourceId(g.video?g.video.id:null),g.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.setupStarted,g.videoTelemetryProperties),g.liveStatus=i.encoderConnected,g.shouldDisplayStartEventCoachMark=!0):(g.playerDelayTimer&&g.$interval.cancel(g.playerDelayTimer),g.playerDelayTimer=g.$interval((function(){g.showStatus=!0,g.liveStatus===i.idle&&(g.featureTelemetryTracker.setResourceId(g.video?g.video.id:null),g.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.setupStarted,g.videoTelemetryProperties),g.liveStatus=i.encoderConnected,g.shouldDisplayStartEventCoachMark=!0)}),portalConfiguration.PlayerLiveInitTimeInMS,1)):g.videoEditStateInfo.ingestState!==a.Constants.VideoIngestState.idle&&g.videoEditStateInfo.ingestState!==a.Constants.VideoIngestState.processing||g.videoEditStateInfo.videoState!==a.Constants.VideoState.live?g.videoEditStateInfo.ingestState!==a.Constants.VideoIngestState.stopping||g.liveStatus===i.afterLive||g.videoEditStateInfo.videoState!==a.Constants.VideoState.live&&g.videoEditStateInfo.videoState!==a.Constants.VideoState.completed?g.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.stopping&&g.videoEditStateInfo.videoState===a.Constants.VideoState.created?g.liveStatus=i.disconnecting:g.videoEditStateInfo.videoState===a.Constants.VideoState.completed&&(t=function(){g.liveStatus=i.afterLive,g.reportBroadcastEndSuccess&&(g.featureTelemetryTracker.setResourceId(g.video?g.video.id:null),g.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.eventEnded,g.videoTelemetryProperties),g.featureTelemetryTracker.succeed(r.FeatureName.LiveProducerPostprocess),g.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.VideoEditOptionDisplayedForLive,{shouldDisplayDialog:g.isVideoEditorEnabled}),g.reportBroadcastEndSuccess=!1)},e=g.video&&g.video.playbackUrls&&!_.isEmpty(g.video.playbackUrls),n=g.video.playbackUrls.filter((function(e){return"application/dash+xml"===e.mimeType}))[0],g.isVideoEditorEnabled&&void 0===g.manifestAvailable&&e&&!_.isEmpty(n.playbackUrl)?(n={method:"GET",url:n.playbackUrl},g.$http(n).then((function(e){return g.manifestAvailable=e.status&&e.status.toString()===a.Constants.HttpStatusCode.OK})).catch((function(e){return g.manifestAvailable=!1})).finally(t)):(t(),u.isVodlessLiveEvent(g.video)&&(g.showEndOfEventOverlay(),g.liveStatus===i.afterLive&&(t=s.formatString(a.Constants.Routes.Update,g.video.id).toLowerCase(),window.location.href.toLowerCase().endsWith(t)||window.open(t,"_self"))))):g.liveStatus=i.endLive:g.liveStatus=i.live})),this.$scope.$on(a.Constants.Events.Notification_LiveAutoShutdown,(function(e,t){t&&t.videoId===g.video.id&&(g.videoEditStateInfo.videoState!==a.Constants.VideoState.live?(g.liveStatus=i.autoDisconnecting,g.shouldDisplayAutoCancelCoachMark=!0):g.liveStatus=i.autoEndingLive,(t=moment.duration(t.shutdownTime))&&(g.minutesToShutdown=t.asMinutes()),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.eventAutoShutdown}))})),this.$scope.$on("producerEncoderDisconnect",(function(){g.videoEditStateInfo.videoState!==a.Constants.VideoState.live?g.liveStatus=i.encoderDisconnectedPreview:g.liveStatus=i.encoderDisconnectedLive,g.showStatus=!0})),this.$scope.$on("producerEncoderConnect",(function(){g.liveStatus!==i.encoderDisconnectedPreview&&g.liveStatus!==i.encoderDisconnectedLive||(g.liveStatus=i.encoderConnected)})),this.$scope.$on("$destroy",(function(){g.playerDelayTimer&&g.$interval.cancel(g.playerDelayTimer)})),this.drawerItems=[],this.telemetryService.isUserFeedbackSupported()&&this.drawerItems.push(new l.DrawerItem("producer-action-bar-report-issue",this.resources.PlayerSkin.ReportAnIssueButtonText,this.reportAnIssueClicked.bind(this),null))}(n=i=t.LiveStatus||(t.LiveStatus={}))[n.stopped=0]="stopped",n[n.starting=1]="starting",n[n.idle=2]="idle",n[n.encoderConnected=3]="encoderConnected",n[n.startLive=4]="startLive",n[n.live=5]="live",n[n.toEndLive=6]="toEndLive",n[n.endLive=7]="endLive",n[n.unhealthy=8]="unhealthy",n[n.afterLive=9]="afterLive",n[n.notCreated=10]="notCreated",n[n.disconnecting=11]="disconnecting",n[n.toDisconnect=12]="toDisconnect",n[n.autoDisconnecting=13]="autoDisconnecting",n[n.autoEndingLive=14]="autoEndingLive",n[n.quotaReachedError=15]="quotaReachedError",n[n.encoderNotConnected=16]="encoderNotConnected",n[n.encoderDisconnectedPreview=17]="encoderDisconnectedPreview",n[n.encoderDisconnectedLive=18]="encoderDisconnectedLive",p.prototype.connectEncoder=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectStartSetup}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectStartSetup,this.videoTelemetryProperties),this.liveStatus=i.starting,this.videoService.startIngest(this.video.id).then((function(t){t.status&&t.status.toString()===a.Constants.HttpStatusCode.Accepted&&(t=a.Constants.VideoIngestState.starting,e.videoEditStateInfo.ingestState=t,e.featureTelemetryTracker.succeed(r.FeatureName.LiveProducerSetup))}),(function(t){var n=_.get(t,"data.error.message"),o=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.ingestState!==a.Constants.VideoIngestState.stopped})).then((function(c){c?e.featureTelemetryTracker.warn(r.FeatureName.LiveProducerSetup,r.SubFeatureName.VideoService_StartIngest,t):(s==a.Constants.HttpStatusCode.BadRequest&&o===a.Constants.ApiErrorCodes.QuotaExceeded?(e.liveStatus=i.quotaReachedError,e.showStatus=!0):e.liveStatus===i.starting&&(e.liveStatus=i.stopped,e.showGenericError=!0,e.errorMessageContent=n,e.shouldDisplayStartSetupCoachMark=!1),e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectStartSetupFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(r.FeatureName.LiveProducerSetup,r.SubFeatureName.VideoService_StartIngest,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectStartSetupFailed,message:n,errorcode:o,responsecode:s}))}))}))},p.prototype.cancelSetupCoachMark=function(){this.shouldDisplayStartSetupCoachMark=!1},p.prototype.cancelStartEventCoachMark=function(){this.shouldDisplayStartEventCoachMark=!1},p.prototype.cancelAutoDisconnectCoachMark=function(){this.shouldDisplayAutoCancelCoachMark=!1},Object.defineProperty(p.prototype,"showStartSetupCoachMark",{get:function(){return this.shouldDisplayStartSetupCoachMark&&(!this.showStatus||!this.shouldShowStartSetupReminder)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showScheduledToSetupCoachMark",{get:function(){return this.shouldDisplayStartSetupCoachMark&&this.showStatus&&this.shouldShowStartSetupReminder},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showStartEventCoachMark",{get:function(){return this.shouldDisplayStartEventCoachMark&&(!this.isStartTimePassed||this.videoEditStateInfo.isLiveEventScheduledToNow)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showScheduledToStartEventCoachMark",{get:function(){return this.shouldDisplayStartEventCoachMark&&this.isStartTimePassed&&!this.videoEditStateInfo.isLiveEventScheduledToNow},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isVideoEditorEnabled",{get:function(){return this.featureFlagsService.Values.VideoEditor&&!d.isBrowserBlacklisted(navigator&&navigator.userAgent||"")&&(void 0===this.isEmbed||!1===this.isEmbed)&&!u.isVodlessLiveEvent(this.video)&&(void 0===this.manifestAvailable||this.manifestAvailable)},enumerable:!0,configurable:!0}),p.prototype.startEvent=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectStartEvent}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectStartEvent,this.videoTelemetryProperties),this.videoService.startBroadcast(this.video.id,{autopublish:!0}).then((function(t){t.status&&t.status.toString()===a.Constants.HttpStatusCode.OK&&(e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.eventStarted,e.videoTelemetryProperties),e.featureTelemetryTracker.succeed(r.FeatureName.LiveProducerBroadcast),e.$scope.$emit(a.Constants.Events.videoPublished,{id:e.video.id}))}),(function(t){var n=_.get(t,"data.error.message"),o=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.videoState===a.Constants.VideoStatus.Live})).then((function(c){c?e.featureTelemetryTracker.warn(r.FeatureName.LiveProducerBroadcast,r.SubFeatureName.VideoService_StartBroadcast,t):(e.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.idle?e.liveStatus=i.idle:e.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.processing&&(e.liveStatus=i.encoderConnected,e.shouldDisplayStartEventCoachMark=!0),e.showGenericError=!0,e.errorMessageContent=n,e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectStartEventFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(r.FeatureName.LiveProducerBroadcast,r.SubFeatureName.VideoService_StartBroadcast,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectStartEventFailed,message:n,errorcode:o,responsecode:s}))}))})),this.liveStatus=i.startLive,this.showStatus=!0},p.prototype.disconnect=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectDisconnect}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectDisconnect,this.videoTelemetryProperties),this.videoService.stopIngest(this.video.id).then((function(t){t.status&&t.status.toString()===a.Constants.HttpStatusCode.Accepted&&(e.liveStatus=i.disconnecting,t=a.Constants.VideoIngestState.stopping,e.videoEditStateInfo.ingestState=t,e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.setupDisconnected,e.videoTelemetryProperties),e.featureTelemetryTracker.succeed(r.FeatureName.LiveUpdatePage))}),(function(t){var n=_.get(t,"data.error.message"),o=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.ingestState!==a.Constants.VideoIngestState.idle&&e.videoEditStateInfo.ingestState!==a.Constants.VideoIngestState.processing})).then((function(c){c?e.featureTelemetryTracker.warn(r.FeatureName.LiveUpdatePage,r.SubFeatureName.VideoService_StopIngest,t):(e.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.idle?e.liveStatus=i.idle:e.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.processing&&(e.liveStatus=i.encoderConnected,e.shouldDisplayStartEventCoachMark=!0),e.showGenericError=!0,e.errorMessageContent=n,e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectDisconnectFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(r.FeatureName.LiveUpdatePage,r.SubFeatureName.VideoService_StopIngest,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectDisconnectFailed,message:n,errorcode:o,responsecode:s}))}))}))},p.prototype.stopBroadcast=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectEndEvent}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectEndEvent,this.videoTelemetryProperties),this.videoService.stopIngest(this.video.id,this.isAdminMode,this.isVideoEditorEnabled?this.ingestStopDelay:void 0).then((function(t){t.status&&t.status.toString()===a.Constants.HttpStatusCode.Accepted&&(e.liveStatus=i.endLive,e.stopLiveEvent(),e.videoEditStateInfo.ingestState=a.Constants.VideoIngestState.stopping,e.reportBroadcastEndSuccess=!0)}),(function(t){var n=_.get(t,"data.error.message"),o=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.videoState===a.Constants.VideoStatus.Completed||e.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.stopping||e.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.stopped})).then((function(c){c?e.featureTelemetryTracker.warn(r.FeatureName.LiveProducerPostprocess,r.SubFeatureName.VideoService_StopIngest,t):(e.liveStatus===i.endLive&&(e.liveStatus=i.live),e.showGenericError=!0,e.errorMessageContent=n,e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.selectEndEventFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(r.FeatureName.LiveProducerPostprocess,r.SubFeatureName.VideoService_StopIngest,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(a.Constants.PostMessages.producerEvent,{eventname:a.Constants.PostMessageSubEventNames.selectendeventFailed,message:n,errorcode:o,responsecode:s}))}))}))},p.prototype.okButton=function(){this.showStatus=!1},p.prototype.quotaErrorCloseButton=function(){this.liveStatus=i.stopped,this.shouldDisplayStartSetupCoachMark=!1},p.prototype.errorOkButton=function(){this.showGenericError=!1},p.prototype.cancelStopButton=function(){this.liveStatus=i.live},p.prototype.noVideoEdit=function(){var e=this,t={resourceId:this.video.id,shouldOpen:!1,durationInSec:this.video.media&&this.video.media.duration?o.formatISODurationToSeconds(this.video.media.duration):-1,playbackUrls:this.video.playbackUrls,videoType:this.video.contentType,videoContentSource:this.video.contentSource};this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.VideoEditorLoadOptionSelected,t),this.videoService.edit(this.video.id,{}).then((function(){e.featureTelemetryTracker.succeed(r.TelemetryEventNames.VideoEditorPostProcess,t)})).catch((function(n){e.featureTelemetryTracker.fail(r.TelemetryEventNames.VideoEditorPostProcess,r.SubFeatureName.ProcessingVideo,n.data.error.code,t)})),this.showVideoEditOption=!1},p.prototype.yesVideoEdit=function(){var e;this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.VideoEditorLoadOptionSelected,{resourceId:this.video.id,shouldOpen:!0,durationInSec:this.video.media&&this.video.media.duration?o.formatISODurationToSeconds(this.video.media.duration):-1,videoType:this.video.contentType,videoContentSource:this.video.contentSource}),!this.video||!this.video.playbackUrls||_.isEmpty(this.video.playbackUrls)||(e=this.video.playbackUrls.filter((function(e){return"application/dash+xml"===e.mimeType})))&&!_.isEmpty(e)&&(e=e[0],this.videoEditorDialog.open({source:e.playbackUrl,sourceType:e.mimeType,videoContentSource:this.video.contentSource,videoContentVersion:this.video.contentVersion,videoType:this.video.contentType,videoId:this.video.id,videoName:this.video.name,videoDimensions:this.video.media&&{height:this.video.media.height,width:this.video.media.width},isInAdminMode:this.isAdminMode}),this.showVideoEditOption=!1)},p.prototype.startEventOnIdle=function(){this.liveStatus=i.encoderNotConnected,this.showStatus=!0},p.prototype.clickCancelStartEventOnIdle=function(){this.liveStatus=i.idle},p.prototype.clickEndEvent=function(){this.liveStatus=i.toEndLive,this.showStatus=!0},p.prototype.clickDisconnect=function(){this.liveStatus=i.toDisconnect,this.showStatus=!0},Object.defineProperty(p.prototype,"videoUrl",{get:function(){return c.generatePathWithQueryStrings(a.Constants.Routes.Update,this.video.id,{})},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"startSetupCoachMarkTitle",{get:function(){return s.formatString(this.resources.LiveEventControlBarStartSetupCoachMarkTitle,this.resources.LiveEventControlBarConnectEncoder)},enumerable:!0,configurable:!0}),p.prototype.clickCancelDisconnect=function(){this.videoEditStateInfo.ingestState===a.Constants.VideoIngestState.idle?this.liveStatus=i.idle:(this.liveStatus=i.encoderConnected,this.shouldDisplayStartEventCoachMark=!1)},p.prototype.clickEncoderLearnMore=function(){this.$window.open(a.Constants.LiveEncoderLearnMoreLink,"_blank")},p.prototype.encoderNotConnectedMessage=function(){return s.formatString(this.resources.EncoderNotConnectedContent+this.$filter("liveEventStartTimeWithTimezone")(this.video.liveEvent.startTime))},Object.defineProperty(p.prototype,"shouldShowStartSetupReminder",{get:function(){var e=moment(this.video.liveEvent.startTime,moment.ISO_8601),t=moment(this.video.created,moment.ISO_8601);e=moment().add(a.Constants.liveStartingSoonThreshold,"minutes").isAfter(e),t=t.add(a.Constants.liveStartingSoonThreshold,"minutes").isAfter(moment());return e&&!t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"preparingLiveMessage",{get:function(){if(this.preparingLiveStartTime){var e=moment(this.preparingLiveStartTime),t=moment();return t<e.add(a.Constants.livePreparingLiveSlowThreshold,"seconds")?this.resources.PreparingLiveMessageContent:t<e.add(a.Constants.livePreparingLiveVerySlowThreshold,"seconds")?this.resources.PreparingLiveMessageContentSlow:this.resources.PreparingLiveMessageContentVerySlow}return this.resources.PreparingLiveMessageContent},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isStartTimePassed",{get:function(){var e=moment(this.video.liveEvent.startTime);return moment().isAfter(e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"autoDisconnectingMessage",{get:function(){return s.formatString(this.resources.AutoDisconnectingLiveMessageContent,this.minutesToShutdown.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"autoEndingMessage",{get:function(){return s.formatString(this.resources.AutoEndingLiveMessageContent,this.minutesToShutdown.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isLiveEnded",{get:function(){return this.liveStatus===i.afterLive},enumerable:!0,configurable:!0}),p.prototype.treatIngestCallErrorAsWarning=function(e,t){var n,i=this,r=this.$q.defer();return e==a.Constants.HttpStatusCode.PreConditionFailed?(n=[],e=this.videoService.get(this.video.id).then((function(e){e=e.data,i.videoEditStateInfo.videoState=e.state})),n.push(e),e=this.videoService.getIngest(this.video.id).then((function(e){e=e.data,i.videoEditStateInfo.ingestState=e.state})),n.push(e),this.$q.all(n).finally((function(){r.resolve(t())}))):this.$q.when((function(){r.resolve(!1)})),r.promise},p.prototype.reportAnIssueClicked=function(){this.reportAnIssue()},p.$inject=["$scope","$q","$http","videoService","resources","$filter","$window","$interval","telemetryService","featureFlagsService","videoEditorDialog"],n=p,t.ProducerActionBarController=n},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.html":function(e,t){e.exports='<div class=video-analytics-container ng-if=!$ctrl.isSmallSize> <div class=empty-state ng-if="!$ctrl.hasData && !$ctrl.isVod"> <svg-src class=empty-state-icon svg-name=icon_info_balloon></svg-src> <span class=empty-state-message>{{::$ctrl.resources.LiveAnalyticsEmptyStateMessage}}</span> </div> <div class=analytics-data-container ng-if="$ctrl.hasData || $ctrl.isVod"> <div class=live-viewers-panel ng-if=!$ctrl.isVod> <div class=live-viewer-value ng-if=!$ctrl.isLiveNow></div> <div class=live-viewer-value ng-if=$ctrl.isLiveNow>{{$ctrl.liveViewerCount | localNumber}}</div> <div class=live-viewer-label>{{::$ctrl.resources.LiveAnalyticsCurrentViewers}}</div> </div> <div class=view-count-panel> <div class=view-count-value>{{$ctrl.videoViews | localNumber}}</div> <div class=view-count-label>{{::$ctrl.resources.LiveAnalyticsViews}}</div> </div> <div class=like-count-panel> <div class=like-count-value>{{$ctrl.videoLikes | localNumber}}</div> <div class=like-count-label> <svg-src class=likes-icon svg-name=icon_likes></svg-src> <span>{{::$ctrl.resources.LiveAnalyticsLikes}}</span> </div> </div> <div class=sdn-analytics-link ng-if=$ctrl.providerUrl> <div class=sdn-analytics-inner-container> <a external-link ng-href={{$ctrl.providerUrl}} ng-click=$ctrl.onProviderReportClick() aria-label={{$ctrl.providerDisplayString}} target=_blank class=c-hyperlink> <span class=link-content> <svg-src class=sdn-analytics-icon svg-name=icon_sdn_analytics></svg-src> <span class=link-text>{{$ctrl.providerDisplayString}}</span> </span> </a> <tooltip message=$ctrl.providerLinkToolTip button-aria-label={{::$ctrl.providerLinkToolTip}}> </tooltip> </div> </div> <div class=download-panel ng-if=$ctrl.isDownloadAnalyticsEnabled> <div class=download-csv> <button type=button ng-disabled=$ctrl.isDownloadingCSV class="c-glyph c-action-trigger download-csv-btn" ng-click=$ctrl.onDownloadCSV() aria-label={{::$ctrl.resources.DownloadCSV}}> {{::$ctrl.resources.DownloadCSV}} </button> </div> </div> </div> </div> <span class=live-analytics-container-small ng-if="$ctrl.isSmallSize && $ctrl.isLiveNow"> <span class="live-viewer-count metric-inline-flex" custom-title="{{$ctrl.liveViewerCount | localNumber | videoLiveCurrentViewers}}" aria-label="{{$ctrl.liveViewerCount | localNumber | videoLiveCurrentViewers}}"> <span aria-hidden=true>{{$ctrl.liveViewerCount | localNumber}}</span> <svg-src svg-name=icon_live_views class=metric-icon aria-hidden=true></svg-src> </span> <span class="like-count metric-inline-flex" custom-title="{{$ctrl.videoLikes | localNumber | videoLikes}}" aria-label="{{$ctrl.videoLikes | localNumber | videoLikes}}"> <span aria-hidden=true>{{$ctrl.videoLikes | localNumber}}</span> <svg-src svg-name=icon_likes class=metric-icon aria-hidden=true></svg-src> </span> </span>'},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.less":function(e,t){},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.ts":function(e,t,n){function i(){this.controller=o.VideoAnalyticsController,this.template=n("./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.html"),this.bindings={video:"<",isInAdminMode:"<",videoEditStateInfo:"<",videoTokens:"<",isProducer:"<",isSmallSize:"<",isVod:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/VideoAnalytics/VideoAnalyticsController.ts");t.VideoAnalytics=i,r.registerComponent("videoAnalytics",i,angular.module("jumper"))},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalyticsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts");Object.defineProperty(a.prototype,"hasData",{get:function(){return this.video.contentSource===i.Constants.VideoContentSource.liveStream&&this.videoState!==i.Constants.VideoStatus.Created&&this.video.id!==i.Constants.preCreationVideoId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isDownloadAnalyticsEnabled",{get:function(){return this.featureFlagsService.Values.DownloadAnalytics&&void 0!==this.downloadCSVUrl},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isLiveNow",{get:function(){return this.video&&this.videoState===i.Constants.VideoStatus.Live},enumerable:!0,configurable:!0}),a.prototype.onProviderReportClick=function(){this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.ProviderReportLinkClicked)},a.prototype.onDownloadCSV=function(){this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.DownloadCSVButtonClicked),void 0!==this.downloadCSVUrl?(this.isDownloadingCSV=!0,this.mediaDownloaderService.downloadFile(this.downloadCSVUrl)):this.featureTelemetryTracker.fail(o.FeatureName.AudienceAnalytics,o.SubFeatureName.AudienceAnalytics_DownloadCSV,"DownloadCSVUrl is undefined onDownloadCSV button click"),this.isDownloadingCSV=!1},a.prototype.setDownloadCSVUrl=function(){var e=this;this.mediaDownloaderService.getAnalyticsFileUrl(this.video.id,this.video.name.toString(),this.featureTelemetryTracker,this.isInAdminMode).then((function(t){e.downloadCSVUrl=t})).catch((function(t){e.featureTelemetryTracker.fail(o.FeatureName.AudienceAnalytics,o.SubFeatureName.VideoService_GetAnalyticsDownloadUrl,t)}))},Object.defineProperty(a.prototype,"videoUserDataToken",{get:function(){return _.find(this.videoTokens,(function(e){return e.type===i.Constants.VideoTokenTypes.videoUserData}))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isVideoTokenExpiring",{get:function(){return moment(r.getLocalDateFromISODateTime(this.videoUserDataToken.expirationDate)).isBefore(moment().add(15,"m"))},enumerable:!0,configurable:!0}),a.prototype.getVideoTokens=function(){var e=this;return this.videoService.getTokens(this.video.id).then((function(t){e.videoTokens=_.get(t,"data.value"),e.featureTelemetryTracker.succeed(o.FeatureName.GetVideo)}),(function(t){e.featureTelemetryTracker.fail(o.FeatureName.GetVideo,o.SubFeatureName.VideoService_GetTokens,t)}))},a.prototype.setupDataPoll=function(){var e=this;this.videoState===i.Constants.VideoStatus.Live&&this.videoUserDataToken&&(this.videoDataPollPromise=this.$interval((function(){e.pollData()}),i.Constants.VideoAnalyticsDataPollInterval),this.pollData())},a.prototype.pollData=function(){var e=this;this.isVideoTokenExpiring&&this.getVideoTokens(),this.videoService.get(this.video.id,!1,!0).then((function(t){(t=t.data).metrics&&e.getAnalyticsData(t),e.videoState=t.state}),(function(t){e.featureTelemetryTracker.warn(o.FeatureName.GetVideo,o.SubFeatureName.VideoService_GetVideo,t)}))},a.prototype.getSdnProviderAnalyticsLink=function(){var e=this;this.tenantService.getSettings().then((function(t){var n=_.get(t.data,"system.networkCaching.providerVideoUrl",null);n&&-1<n.indexOf(i.Constants.sdnAnalyticsReplaceStrings.videoId)&&(-1<(n=n.replace(i.Constants.sdnAnalyticsReplaceStrings.videoId,e.video.id)).indexOf(i.Constants.sdnAnalyticsReplaceStrings.tenantId)&&(n=n.replace(i.Constants.sdnAnalyticsReplaceStrings.tenantId,_.get(t.data,"system.networkCaching.customerId",""))),e.providerUrl=n,e.providerName=_.get(t.data,"system.networkCaching.provider",null),e.providerName=e.providerName.replace(/^\w/,(function(e){return e.toUpperCase()})))})),this.videoIdWatcher&&this.videoIdWatcher()},Object.defineProperty(a.prototype,"providerDisplayString",{get:function(){return this.providerName?s.formatString(this.resources.SdnProviderUrlDisplay,this.providerName):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"providerLinkToolTip",{get:function(){return this.providerName?s.formatString(this.resources.SdnProviderToolTip,this.providerName):null},enumerable:!0,configurable:!0}),a.prototype.getAnalyticsData=function(e){this.liveViewerCount=e.metrics.concurrentViewers,this.videoViews=e.metrics.views>this.liveViewerCount?e.metrics.views:this.liveViewerCount,this.videoLikes=e.metrics.likes},a.$inject=["$scope","resources","telemetryService","featureFlagsService","$interval","videoService","notificationService","tenantService","mediaDownloaderService","$q"],n=a;function a(e,t,n,r,s,a,c,l,u,d){var p=this;this.$scope=e,this.resources=t,this.telemetryService=n,this.featureFlagsService=r,this.$interval=s,this.videoService=a,this.notificationService=c,this.tenantService=l,this.mediaDownloaderService=u,this.$q=d,this.providerUrl=null,this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.Auto,o.ResourceType.Video,this.video.id),this.video.metrics&&this.getAnalyticsData(this.video),this.videoState=this.video.state,this.videoEditStateInfo&&(this.videoState=this.videoEditStateInfo.videoState,e.$watch((function(){return p.videoEditStateInfo.videoState}),(function(e){p.videoState=p.videoEditStateInfo.videoState}))),e.$on(i.Constants.Events.Notification_JoinVideoGroupFailed,(function(e,t){p.video.id===t.videoId&&p.videoService.getTokens(p.video.id)})),setTimeout((function(){!p.videoTokens&&p.video.tokens&&(p.videoTokens=p.video.tokens),p.$scope.$watch((function(){return p.videoTokens}),(function(e){!e||p.video.contentSource!==i.Constants.VideoContentSource.liveStream||p.videoState===i.Constants.VideoStatus.Completed||(e=p.videoUserDataToken)&&p.featureFlagsService.Values.NewNotifications&&c.addOrUpdateJoinVideoGroupList(p.video.id,e.payload)})),p.isProducer&&(p.videoState===i.Constants.VideoStatus.Live&&p.setupDataPoll(),p.$scope.$watch((function(){return p.videoState}),(function(e,t){e!==t&&(e===i.Constants.VideoStatus.Live?p.setupDataPoll():p.videoDataPollPromise&&p.$interval.cancel(p.videoDataPollPromise),t===i.Constants.VideoStatus.Live&&e===i.Constants.VideoStatus.Completed&&p.pollData())}))),p.$scope.$watch((function(){return p.video.metrics.likes}),(function(e,t){e!==t&&(p.videoLikes=p.video.metrics.likes)})),p.$scope.$on(i.Constants.Events.Notification_ConcurrentViewers,(function(e,t){t&&t.videoId===p.video.id&&(p.liveViewerCount=t.concurrentViewers,p.videoViews=p.video.metrics.views>p.liveViewerCount?p.video.metrics.views:p.liveViewerCount)})),p.$scope.$on(i.Constants.Events.Notification_VideoStateChange,(function(e,t){t&&t.videoId===p.video.id&&(p.videoState=t.videoState)}))}),0),this.$scope.$on("$destroy",(function(){p.videoDataPollPromise&&p.$interval.cancel(p.videoDataPollPromise),c.leaveVideoGroup(p.video.id)})),this.featureFlagsService.Values.NetworkCaching&&(this.video.id===i.Constants.preCreationVideoId?this.videoIdWatcher=this.$scope.$watch((function(){return p.video.id}),(function(e){e!==i.Constants.preCreationVideoId&&p.getSdnProviderAnalyticsLink()})):this.getSdnProviderAnalyticsLink()),this.featureFlagsService.Values.DownloadAnalytics&&this.setDownloadCSVUrl()}t.VideoAnalyticsController=n},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.html":function(e,t){e.exports='<div class=video-player-view> <div class=player-content-wrapper> <div id=playerContent class=player-content> <div class=player-inner-content> <div class=video-feedback ng-if=$ctrl.isReportIssueOpen trap-focus> <div ng-if=$ctrl.isReportIssueFormVisible> <div class=video-feedback-brand-header>{{::$ctrl.resources.MicrosoftStream}}</div> <h2 class="video-feedback-title title-heading">{{::$ctrl.resources.VideoFeedbackTitle}}</h2> <div class=video-feedback-container> <div class=video-feedback-subtitle-container> <span>{{::$ctrl.feedbackDialogSubtitle}}</span> <a external-link class=video-feedback-privacy-url ng-href={{::$ctrl.reportPlayerIssuePrivacyUrl}}> {{::$ctrl.resources.VideoFeedbackPrivacyStatement}} </a> </div> <div class=video-feedback-content> <textarea class="f-no-resize ct-textarea-compact video-feedback-message" name=videoFeedbackMessageTextarea auto-focus placeholder={{::$ctrl.resources.VideoFeedbackMessagePlaceholderText}} aria-label={{::$ctrl.resources.VideoFeedbackMessagePlaceholderText}} ng-model=$ctrl.reportPlayerIssueCustomMessage maxlength={{::$ctrl.reportPlayerIssueMaxLength}}>\r\n                                </textarea> <div class="c-checkbox ct-checkbox ct-checkbox-white video-feedback-consent-checkbox"> <label class="c-label ct-label-compact"> <input type=checkbox name=user-consent-to-email-back ng-model=$ctrl.consentToEmail /> <span>{{::$ctrl.resources.UserFeedbackEmailConfirmation}}</span> </label> </div> <input class="ct-textbox-compact video-feedback-email" type=email name=feedbackEmail ng-model=$ctrl.reportPlayerIssueContactEmail ng-disabled=!$ctrl.consentToEmail placeholder={{::$ctrl.resources.VideoFeedbackContactEmailPlaceholderText}} aria-label={{::$ctrl.resources.VideoFeedbackContactEmailPlaceholderText}} maxlength=100>  </div> <div class=video-feedback-action-container> <button class="stream-btn btn-primary submit-button" type=submit ng-click=$ctrl.submitButtonClicked()>{{::$ctrl.resources.SubmitReport}}</button> <button class="stream-btn cancel-button" ng-click=$ctrl.resetAndCloseReportIssue()>{{::$ctrl.resources.Cancel}}</button> </div> </div> </div> <div ng-if=$ctrl.isReportIssueConfirmVisible> <div class=video-feedback-brand-header>{{::$ctrl.resources.MicrosoftStream}}</div> <h2 class="video-feedback-title title-heading">{{::$ctrl.resources.VideoFeedbackReportedTitle}}</h2> <div class=video-feedback-container> <div class=video-feedback-subtitle-container> <span>{{::$ctrl.feedbackReportedDialogSubtitle}}</span> </div> <div class=video-feedback-action-container> <button class="stream-btn btn-primary submit-button" type=submit ng-click=$ctrl.resetAndCloseReportIssue()>{{::$ctrl.resources.VideoFeedbackReportCompletedButton}}</button> </div> </div> </div> </div> <div ng-if="!$ctrl.isVideoPlayerShown && $ctrl.isContentSourceLiveStream && !$ctrl.isErrorOccured"> <live-player-overlay class=player-overlay video-item=$ctrl.videoItem ng-if="!$ctrl.isCompleted && !$ctrl.isStopping && !$ctrl.showFakePlayButton && !$ctrl.isErrorOccured && !$ctrl.isReplacing" video-edit-state-info=$ctrl.videoEditStateInfo is-producer-view=$ctrl.isProducerView></live-player-overlay> </div> <media-player player-options=$ctrl.playerOptions media-player-id=$ctrl.videoEditStateInfo.mediaPlayerId ng-if="$ctrl.isVideoPlayerShown && !$ctrl.showFakePlayButton && !$ctrl.isErrorOccured" on-viewed=$ctrl.onVideoViewed() on-deleted-or-replaced=$ctrl.refreshVideoMetadata() is-live-event-stopped=$ctrl.isLiveEventStopped() summary-heartbeat=$ctrl.summaryHeartbeat(properties) playback-summary=$ctrl.playbackSummary(properties) on-error="$ctrl.onPlayerError(metrics, traceId, isWarning, eventType)" trace-player-logs-and-return-trace-id="$ctrl.tracePlayerLogsAndReturnTraceId(eventName, flushLog, logMediaInternals)" on-player-retry="$ctrl.onPlayerRetry(retryCount, metrics, traceId, isWarning, eventType, enableTelemetry, manualRetry, errorCode, reason)" on-play=$ctrl.onPlayEvent() on-canplaythrough=$ctrl.onCanplaythrough() on-init="$ctrl.onInit({ seekFunction: seekFunction, getCurrentTime: getCurrentTime, play: play, pause: pause, toggleTheaterMode: toggleTheaterMode })" on-time-update=$ctrl.onTimeUpdateEvent(currentTime) preload=$ctrl.preload enable-theater-mode=$ctrl.enableTheaterMode enter-theater-mode="$ctrl.toggleTheaterMode({enable: true})" exit-theater-mode="$ctrl.toggleTheaterMode({enable: false})" on-user-active=$ctrl.onUserActive() player-events-tracker=$ctrl.playerEventsTracker() on-user-inactive=$ctrl.onUserInactive() on-pause=$ctrl.onPause() enable-search=$ctrl.enableSearch on-search=$ctrl.onSearch() on-player-ended=$ctrl.changeVideoStateToCompleted() default-muted=$ctrl.defaultMuted video-link=$ctrl.videoLink on-sdn-init-success=$ctrl.onSdnInitSuccess(details) on-sdn-init-failure=$ctrl.onSdnInitFailure(details) on-sdn-fatal-error=$ctrl.onSdnFatalError(details) on-report-issue=$ctrl.onReportIssue() on-last-amp-error-change=$ctrl.onLastAmpErrorChange(lastAmpError) playback-session-id=$ctrl.playbackSessionId is-producer-view=$ctrl.isProducerView is-live-event-completed=$ctrl.isCompleted timed-events=$ctrl.video.timedEvents on-player-caption-detected=$ctrl.onPlayerCaptionDetected() video-id=$ctrl.video.id content-version=$ctrl.video.contentVersion ng-class=" { \'hide-amp-controlbar\' : $ctrl.isProducerView && !$ctrl.hideControlBar } " on-forms-token-post-message=$ctrl.getFormsAuthToken() on-demand-options=$ctrl.video.liveEvent.liveEventOptions.onDemandOptions show-end-of-event-overlay=$ctrl.onAudienceDidReachEndOfVodlessPlayback() reload-updated-video=$ctrl.reloadUpdatedVideo() is-audio-only=$ctrl.video.media.isAudioOnly> </media-player> <div ng-if=$ctrl.showFakePlayButton class=video-poster-container role=button aria-live=polite aria-label={{::$ctrl.resources.PlayVideo}} ng-click=$ctrl.onPosterImagePlay() style=background-image:url({{$ctrl.video.posterImage.large.url}}) data-ng-src={{$ctrl.videoThumbnailDataUrl}}> <div class="c-action action-button c-glyph big-play-button" ng-style="{\'pointer-events\': $ctrl.fakePlayButonPointerEvents}"> <svg-src svg-name=icon_play_fill inline-with-text=true class=action-button-svg></svg-src> </div> </div> <error-box ng-if=$ctrl.isErrorOccured class=video-error title-str={{$ctrl.resources.VideoPlayer.EncoderErrorCode}} no-actions=true encoder-error=true player-page=true /> <producer-action-bar video=$ctrl.video video-edit-state-info=$ctrl.videoEditStateInfo player-loaded=$ctrl.playerLoaded show-volume-button=$ctrl.showVolumeButton player-errored=$ctrl.playerErrored ng-if="$ctrl.isProducerView && !$ctrl.hideControlBar" stop-live-event=$ctrl.stopLiveEvent() producer-session-id=$ctrl.producerSessionId is-embed=$ctrl.isEmbed is-partner=$ctrl.isPartner embedded-caption-button-shown=$ctrl.embeddedCaptionButtonShown report-an-issue=$ctrl.onReportIssue() is-admin-mode=$ctrl.isInAdminMode show-end-of-event-overlay=$ctrl.onAudienceDidReachEndOfVodlessPlayback()></producer-action-bar> </div> </div> </div> </div>'},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.less":function(e,t){},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.ts":function(e,t,n){function i(){this.controller=o.VideoPlayerViewController,this.template=n("./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.html"),this.bindings={video:"<",videoItem:"<",isProducerView:"<",isPartner:"<",onViewed:"&",onTimeUpdate:"&",preload:"<",videoEditStateInfo:"<",videoIngest:"=",videoTokens:"<",toggleTheaterMode:"&",onInit:"&",enableTheaterMode:"<",isInAdminMode:"<",onUserActive:"&",onUserInactive:"&",onPause:"&",onPlay:"&",enableSearch:"<",onSearch:"&",autoPlay:"<",defaultMuted:"<",onVideoCompleted:"&",videoLink:"<",isYammerAvailable:"<",isYammerLoaded:"<",yammerEvents:"<",producerSessionId:"<",sdnInitSuccess:"&",sdnInitFailure:"&",sdnFatalError:"&",isCompletedOnLoad:"<",screen:"<",isEmbed:"<?",notifyEmbed:"&",app:"<",disableFakePlayButtonPointerEvents:"<",embeddedCaptionButtonShown:"<",onFormsTokenPostMessage:"&",onAudienceDidReachEndOfVodlessPlayback:"&",isReplacing:"<?",reloadUpdatedVideo:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/VideoPlayerView/VideoPlayerViewController.ts");t.VideoPlayerView=i,r.registerComponent("videoPlayerView",i,angular.module("jumper"))},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerViewController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/PlayerOption.ts"),a=n("./app/utility/LiveEventUtils.ts"),c=n("./common/components/MediaPlayer/PlayerPageTelemetryBaseClass.ts"),l=n("./app/utility/Constants.ts"),u=n("./app/models/TelemetryEventModels.ts"),d=n("./app/utility/appUtil.ts"),p=n("./node_modules/@msstream/services-one-customer-voice/index.ts"),m=n("./app/utility/string.ts"),A=n("./node_modules/ua-parser-js/src/ua-parser.js");(n=o=o||{})[n.Closed=0]="Closed",n[n.Form=1]="Form",n[n.Confirm=2]="Confirm";var h;r(f,h=c.PlayerPageTelemetryBaseClass),f.prototype.changeVideoStateToCompleted=function(){var e;this.videoEditStateInfo&&this.videoEditStateInfo.videoState&&(e=l.Constants.VideoStatus.Completed,this.videoEditStateInfo.videoState=e,this.videoEditStateInfo.isReplacingVideo=!1,this.additionalTelemetryProperties.state=e,this.ingestTelemetryProperties.state=e),this.onVideoCompleted()},f.prototype.checkAndSendTelemetry=function(e){this.isSummaryTelemetrySent||(this.sendPlayerTelemetrySummary(e),this.isSummaryTelemetrySent=!0)},f.prototype.pageLeaveAlertCondition=function(){return this.isProducerView&&!this.isVideoDeleted&&this.videoEditStateInfo.ingestState&&this.videoEditStateInfo.ingestState!==l.Constants.VideoIngestState.stopped&&this.videoEditStateInfo.ingestState!==l.Constants.VideoIngestState.stopping&&this.videoEditStateInfo.ingestState!==l.Constants.VideoIngestState.completed},Object.defineProperty(f.prototype,"showVolumeButton",{get:function(){return this.isVideoPlayerShown&&!this.showFakePlayButton&&this.playerLoaded&&!this.playerErrored&&!this.isErrorOccured},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),f.prototype.trackIngestStateChanges=function(e){this.ingestTelemetryProperties.previousIngestState=this.ingestTelemetryProperties.newIngestState,this.ingestTelemetryProperties.newIngestState=e,this.featureTelemetryTracker.setResourceId(this.videoId),this.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.producerIngestStateChanged,this.ingestTelemetryProperties)},f.prototype.setupAttendeeView=function(){this.video.state===l.Constants.VideoStatus.Completed||this.videoEditStateInfo&&this.videoEditStateInfo.videoState===l.Constants.VideoStatus.Completed?this.setMediaPlayerOptions():this.video.state===l.Constants.VideoStatus.Live||this.videoEditStateInfo&&this.videoEditStateInfo.videoState===l.Constants.VideoStatus.Live?this.startOfLiveActions():(this.isReplacing&&this.setMediaPlayerOptions(),this.scheduleNextPollMedia())},f.prototype.setupProducerView=function(){var e,t=this;this.video.id!==l.Constants.preCreationVideoId?(this.video.state!==l.Constants.VideoStatus.Completed&&!this.isReplacing||(this.hideControlBar=!0),this.featureTelemetryTracker.setResourceId(this.videoId),this.video.state!==l.Constants.VideoStatus.Completed&&!this.isReplacing||this.setMediaPlayerOptions(),this.pollMedia()):e=this.$scope.$watch((function(){return t.video.id}),(function(n,i){n!==i&&i===l.Constants.preCreationVideoId&&n!==l.Constants.preCreationVideoId&&(t.pollMedia(),t.additionalTelemetryProperties.resourceId===l.Constants.preCreationVideoId&&(t.additionalTelemetryProperties.resourceId=t.video.id),t.ingestTelemetryProperties.videoId=t.video.id,t.ingestTelemetryProperties.creatorApp=t.getCreationApplication(),t.videoId=t.video.id,t.featureTelemetryTracker.setResourceId(t.videoId),t.additionalTelemetryProperties.creatorApp=t.getCreationApplication(),e())}))},f.prototype.checkManifestUrls=function(e){var t=this.$q.defer();return(e=_.find(e,(function(e){return e.mimeType===l.Constants.VideoMimeTypes.smooth})))?(e={method:"GET",url:e.playbackUrl},this.$http(e).then((function(){t.resolve()}),(function(){t.reject()}))):t.reject(),t.promise},f.prototype.updatePlayerViewBasedOnIngest=function(){var e=this;this.isVideoPlayerShown||(this.videoEditStateInfo.videoState===l.Constants.VideoStatus.Created||this.videoEditStateInfo.videoState===l.Constants.VideoStatus.Live)&&this.videoIngest&&this.videoIngest.previewUrls&&this.videoIngest.previewUrls.length&&this.checkManifestUrls(this.videoIngest.previewUrls).then((function(){var t;e.videoEditStateInfo.ingestState===l.Constants.VideoIngestState.idle?(e.isOverrideIngestIdleToProcessing=!0,t=l.Constants.VideoIngestState.processing,e.videoEditStateInfo.ingestState=t,e.ingestTelemetryProperties.previousIngestState=e.ingestTelemetryProperties.newIngestState,e.ingestTelemetryProperties.newIngestState=t,e.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.producerIngestStateChanged,e.ingestTelemetryProperties)):e.setMediaPlayerOptions()}))},f.prototype.getSdnTelemetryProperties=function(){return{sdnName:this.sdnUtilService.sdnSettings.provider,sdnVersion:this.sdnUtilService.getPluginVersion(),sdnCdnUrl:this.sdnUtilService.getSdnScriptUrl()}},f.prototype.setMediaPlayerOptions=function(e){var t=this;void 0===e&&(e=!1);var n,i,r=[],o=!1,a=!1;!1===this.preload&&!1===this.autoPlay?(this.showFakePlayButton=!0,this.setUpPlayerFunctionsPostMessaging()):(this.isCompletedOnLoad&&(this.textTrackDataService=this.textTrackDataFactory(this.video.id,this.isInAdminMode),n=this.textTrackDataService.query().then((function(e){t.textTracks=e.data.value}),(function(e){t.featureTelemetryTracker.warn(u.FeatureName.LoadVideoPlayer,u.SubFeatureName.TextTrackDataService_Query,e)})),r.push(n)),this.tenantHasSdn?(i=this.sdnUtilService.loadSdnPlugin().then((function(){t.featureTelemetryTracker.succeed(u.FeatureName.LoadSdnPlugin),o=!0}),(function(e){t.featureTelemetryTracker.fail(u.FeatureName.LoadSdnPlugin,u.SubFeatureName.SDN_Plugin_File,e,t.getSdnTelemetryProperties(),!0)})),r.push(i)):this.isSdnEnabled&&(i=this.sdnPluginService.loadPluginScript().then((function(){a=!0}),(function(){})),r.push(i)),this.videoUserDataToken&&!this.isVideoTokenExpiring||(i=this.getVideoTokens(),r.push(i)),this.$q.all(r).finally((function(){var n,i;(i=(n=s.mapToPlayerOptions(t.video,t.textTracks,t.textTrackLanguageService,t.resources,t.isProducerView&&!t.isCompleted&&t.videoIngest?t.videoIngest.previewUrls:t.videoPlaybackUrls||null)).options).previewPlayer=t.isProducerView&&!t.isCompleted&&!t.isReplacing,e?i.autoplay=!1:_.isNil(t.autoPlay)||(i.autoplay=t.autoPlay),t.isProducerView&&t.videoEditStateInfo.videoState!==l.Constants.VideoStatus.Completed&&t.video.state!==l.Constants.VideoStatus.Completed&&!t.isReplacing&&(i.muted=!0),t.playerOptions=o?_.assign(i,t.sdnUtilService.getMediaPlayerOptions(i,t.video.id,t.networkCachingToken)):a?_.assign(i,t.sdnPluginService.getPlayerOptions(i,t.video.id,t.networkCachingToken)):i,t.playerOptions.isLiveContent=t.isContentSourceLiveStream&&!t.isCompleted,t.playerOptions.isContentSourceLiveStream=t.isContentSourceLiveStream,t.playerOptions.isTeamsQSEvent=t.video.liveEvent&&"teams"===t.video.liveEvent.encoderSource,t.playerOptions.ie11AudioDisabled={message:t.resources.IE11AudioDisabled,url:"https://go.microsoft.com/fwlink/?linkid=2093280"},t.playerOptions.audioOnlyMode=!t.featureFlagsService.Values.AudioOnlyModeKillSwitch,t.playerOptions.audioOnlyTimeThreshold=t.featureFlagsService.Values.AudioOnlyTimeThreshold,t.playerOptions.audioOnlyRebufferThreshold=t.featureFlagsService.Values.AudioOnlyRebufferThreshold,t.playerOptions.encodingProfile=t.video.encodingProfile,_.forEach(n.invalidTextTracks,(function(e){t.featureTelemetryTracker.warn(u.FeatureName.LoadVideoPlayer,u.SubFeatureName.TextTrackDataService_Query,"Unknown Language "+e.language+" returned by Backend",{textTrackId:e.id})})),t.showVideoPlayer(),t.setUpPlayerFunctionsPostMessaging(),t.setupLiveHeartBeat(),t.featureFlagsService.Values.SendVideoAnalytics&&t.setupVideoAnalytics()})))},f.prototype.scheduleNextPollMedia=function(e){var t=this;void 0===e&&(e=!0);var n=this.isProducerView?l.Constants.VideoStatusNotificationTimeout:1e3*_.random(l.Constants.AttendeeStatusTimeoutStartInSec,l.Constants.AttendeeStatusTimeoutEndInSec,!1);this.refreshVideoStatusAndIngestPromise=this.$interval((function(){t.pollMedia(e)}),n,1)},f.prototype.pollMedia=function(e,t){var n=this;function i(){return n.videoEditStateInfo.videoState!==l.Constants.VideoStatus.Completed&&(!e||n.videoEditStateInfo.videoState!==l.Constants.VideoStatus.Live)&&n.videoEditStateInfo.videoState!==l.Constants.VideoStatus.Error}void 0===e&&(e=!0),void 0===t&&(t=!1);var r,o=[];return t||(i()&&(_.some(this.video.playbackUrls)&&this.videoEditStateInfo.videoState===l.Constants.VideoStatus.Created?(t=this.checkManifestUrls(this.video.playbackUrls).then((function(){var e=l.Constants.VideoStatus.Live;n.videoEditStateInfo.videoState=e,n.additionalTelemetryProperties.state=e,n.ingestTelemetryProperties.state=e,n.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.manifestAvailable,n.ingestTelemetryProperties)})),o.push(t)):(r=this.videoService.getVideoStatus(this.video.id).then((function(e){(e=_.get(e,"data.state"))&&(n.videoEditStateInfo.videoState=e,n.additionalTelemetryProperties.state=e,n.ingestTelemetryProperties.state=e)}),(function(e){n.featureTelemetryTracker.warn(u.FeatureName.GetVideo,u.SubFeatureName.VideoService_GetVideoStatus,e)})),o.push(r))),!this.isProducerView||this.videoEditStateInfo.ingestState&&!i()||(r=this.videoService.getIngest(this.video.id).then((function(e){(e=_.get(e,"data"))&&(n.videoIngest=e,n.additionalTelemetryProperties.newIngestState!==e.state&&(n.additionalTelemetryProperties.previousIngestState=n.additionalTelemetryProperties.newIngestState,n.additionalTelemetryProperties.newIngestState=e.state,n.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.producerIngestStateChanged,n.additionalTelemetryProperties)),n.videoEditStateInfo.ingestState=e.state,n.videoEditStateInfo.isVideoHealthy=n.videoIngest.encoderStatus&&n.videoIngest.encoderStatus.isHealthy&&n.videoIngest.encoderStatus.connectionState===l.Constants.EncoderConnectionState.connected,n.videoEditStateInfo.encoderConnectionState=n.videoIngest.encoderStatus&&n.videoIngest.encoderStatus.connectionState,n.videoEditStateInfo.ingestState===l.Constants.VideoIngestState.idle&&n.isOverrideIngestIdleToProcessing?n.videoEditStateInfo.ingestState=l.Constants.VideoIngestState.processing:n.videoEditStateInfo.ingestState===l.Constants.VideoIngestState.processing&&(n.isOverrideIngestIdleToProcessing=!1),n.updatePlayerViewBasedOnIngest())}),(function(e){n.featureTelemetryTracker.warn(u.FeatureName.GetVideo,u.SubFeatureName.VideoService_GetIngest,e)})),o.push(r))),this.$q.all(o).finally((function(){n.refreshVideoStatusAndIngestPromise&&n.$interval.cancel(n.refreshVideoStatusAndIngestPromise),i()&&n.scheduleNextPollMedia(e)}))},Object.defineProperty(f.prototype,"videoUserDataToken",{get:function(){return _.find(this.videoTokens,(function(e){return e.type===l.Constants.VideoTokenTypes.videoUserData}))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isVideoTokenExpiring",{get:function(){return moment(d.getLocalDateFromISODateTime(this.videoUserDataToken.expirationDate)).isBefore(moment().add(15,"m"))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"networkCachingToken",{get:function(){var e=_.find(this.videoTokens,(function(e){return e.type===l.Constants.VideoTokenTypes.networkCaching}));return e&&e.payload?e.payload:null},enumerable:!0,configurable:!0}),f.prototype.getVideoTokens=function(){var e=this;return this.videoService.getTokens(this.video.id).then((function(t){e.videoTokens=_.get(t,"data.value"),e.featureTelemetryTracker.succeed(u.FeatureName.GetVideo)}),(function(t){e.featureTelemetryTracker.fail(u.FeatureName.GetVideo,u.SubFeatureName.VideoService_GetTokens,t)}))},f.prototype.getCreationApplication=function(){return this.video.creatorApplication?this.video.creatorApplication.applicationId:l.Constants.noCreatorApp},f.prototype.startOfLiveActions=function(){this.isProducerView||this.reloadPlaybackUrls()},f.prototype.endOfLiveActions=function(){var e=this;this.isProducerView||this.setMediaPlayerOptions(),setTimeout((function(){d.alertScreenReader(e.resources.LiveEventEndedAlert)}))},f.prototype.isLiveEventStopped=function(){var e=this,t=this.$q.defer();return this.pollMedia(!1,!1).finally((function(){t.resolve(e.videoEditStateInfo.ingestState==l.Constants.VideoIngestState.stopped||e.videoEditStateInfo.ingestState===l.Constants.VideoIngestState.stopping)})),t.promise},f.prototype.refreshVideoMetadata=function(){var e=this,t=this.$q.defer();return this.videoService.get(this.video.id,this.isInAdminMode).then((function(n){n=_.get(n,"data"),e.featureTelemetryTracker.succeed(u.FeatureName.GetVideo),t.resolve(n)}),(function(n){e.featureTelemetryTracker.fail(u.FeatureName.GetVideo,u.SubFeatureName.General_ErrorState,n),t.reject(n.status)})),t.promise},f.prototype.reloadPlaybackUrls=function(e){var t=this;_.some(this.video.playbackUrls)?(this.videoPlaybackUrls=this.video.playbackUrls,this.setMediaPlayerOptions(e)):this.videoService.get(this.video.id,this.isInAdminMode).then((function(n){t.videoPlaybackUrls=_.get(n,"data.playbackUrls"),t.setMediaPlayerOptions(e),t.featureTelemetryTracker.succeed(u.FeatureName.GetVideo)}),(function(e){t.featureTelemetryTracker.fail(u.FeatureName.GetVideo,u.SubFeatureName.General_ErrorState,e)}))},f.prototype.hideVideoPlayer=function(){this.isVideoPlayerShown=!1,this.playerLoaded=!1},f.prototype.showVideoPlayer=function(){this.isVideoPlayerShown=!0},f.prototype.onVideoViewed=function(){this.reportPlayerFeatureSuccess(),_.isFunction(this.onViewed)&&this.onViewed()},f.prototype.stopLiveEvent=function(){this.scheduleNextPollMedia(!1)},f.prototype.onPlayEvent=function(){var e=this;this.sendLiveHeartBeat(),this.onPlay(),this.$scope.$evalAsync((function(){e.isProducerView&&e.isCompleted&&!e.hideControlBar&&(e.hideControlBar=!0)}))},f.prototype.onCanplaythrough=function(){var e=this;this.$scope.$evalAsync((function(){e.playerLoaded=!0,0===e.additionalTelemetryProperties.loadTimeSinceStartInMs&&(e.additionalTelemetryProperties.loadTimeSinceStartInMs=performance.now()-e.dataShareService.videoPlaybackLoadStartInMs||0)}))},f.prototype.onPlayerError=function(e,t){this.playerErrored=!0,this.playerLoaded=!1,this.notifyEmbed(),this.onError(e,t)},f.prototype.onPosterImagePlay=function(){this.showFakePlayButton=!1,this.preload=!0,this.autoPlay=!0,this.setMediaPlayerOptions(),this.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.embedVideoPosterClicked),this.dataShareService.videoPlaybackLoadStartInMs=performance.now()},f.prototype.onSdnInitSuccess=function(e){this.sdnInitSuccess({details:e}),this.featureTelemetryTracker.succeed(u.FeatureName.SetUpSDN,e)},f.prototype.onSdnInitFailure=function(e){this.sdnInitFailure({details:e}),this.featureTelemetryTracker.fail(u.FeatureName.SetUpSDN,u.SubFeatureName.SDNInitFailure,"Init failure",e)},f.prototype.onPlayerCaptionDetected=function(){var e=this;this.$scope.$evalAsync((function(){e.embeddedCaptionButtonShown=!0}))},f.prototype.onSdnFatalError=function(e){this.sdnFatalError({details:e}),this.featureTelemetryTracker.fail(u.FeatureName.SetUpSDN,u.SubFeatureName.SDNFatalError,"Fatal error",e)},f.prototype.onReportIssue=function(){var e=this;this.$scope.$evalAsync((function(){e.reportIssuePageState=o.Form}))},f.prototype.resetAndCloseReportIssue=function(){this.reportIssuePageState=o.Closed,this.reportPlayerIssueCustomMessage="";var e=document.querySelector("[data-return-focus='settingsPanel']");e&&e.focus()},Object.defineProperty(f.prototype,"isReportIssueOpen",{get:function(){return this.reportIssuePageState!=o.Closed},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isReportIssueFormVisible",{get:function(){return this.reportIssuePageState===o.Form},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isReportIssueConfirmVisible",{get:function(){return this.reportIssuePageState===o.Confirm},enumerable:!0,configurable:!0}),f.prototype.onTimeUpdateEvent=function(e){this.playerTime=e,this.onTimeUpdate({currentTime:e})},f.prototype.submitButtonClicked=function(){var e=this,t=this.isProducerView?u.TelemetryEventNames.manualProducerFeedback:u.TelemetryEventNames.manualVideoFeedback,n=this.tracePlayerLogsAndReturnTraceId(t),i={videoId:this.video.id,traceId:n,playbackSession_Id:this.playbackSessionId,contentSource:this.contentSource,contentType:this.contentType};this.isProducerView&&(i.producerSession_Id=this.producerSessionId);var r={errorCode:this.lastAMPError&&null!=this.lastAMPError.code?this.lastAMPError.code.toString(16):void 0};this.oneCustomerVoiceDataService.postUIF(p.UserInitiatedFeedbackType.Bug,this.reportPlayerIssueCustomMessage,this.consentToEmail?this.reportPlayerIssueContactEmail:void 0,r,i).then((function(t){return e.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.PetrolSucceeded,{clientFeedbackId:t})}),(function(t){e.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.PetrolFailed,t)})),this.tracePlayerLogs(t,n),this.reportIssuePageState=o.Confirm},Object.defineProperty(f.prototype,"feedbackDialogSubtitle",{get:function(){return m.formatString(this.resources.VideoFeedbackSubTitle,this.video.name)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"feedbackReportedDialogSubtitle",{get:function(){return m.formatString(this.resources.VideoFeedbackReportedSubTitle,this.video.name)},enumerable:!0,configurable:!0}),f.prototype.onLastAmpErrorChange=function(e){this.lastAMPError=e},f.prototype.setupVideoAnalytics=function(){var e,t=this;this.featureFlagsService.Values.SendVideoAnalytics&&this.videoUserDataToken&&(!(e=this.videoUserDataToken.properties)||0<(e=1e3*d.formatISODurationToSeconds(e.reportingInterval))&&(this.analyticsHeartBeatPromise=this.$interval((function(){t.sendVideoAnalyticsHeartBeat()}),e)))},f.prototype.sendVideoAnalyticsHeartBeat=function(){var e,t,n,i=this;this.isVideoTokenExpiring?(this.analyticsHeartBeatPromise&&this.$interval.cancel(this.analyticsHeartBeatPromise),this.getVideoTokens().then((function(){i.setupVideoAnalytics()}))):(e=this.videoUserDataToken.properties,t=new A.UAParser(navigator.userAgent).getOS(),(n={contentSignature:this.videoUserDataToken.payload,version:"1.0",type:"videoAnalytics"}).videoId=this.video.id,n.sessionId=sessionInfo.SessionId,n.clientSessionId=sessionInfo.ClientSessionId,n.tenantId=sessionInfo.UserClaim.TenantId,n.userId=sessionInfo.UserClaim.UserInfo.UniqueId,n.clientTs=(new Date).getTime(),n.isLive=this.isLive,n.osType=t.name,n.osVersion=t.version,n.hostApp=this.app||"portal",Object.keys(this.playbackSummaryData).forEach((function(e){n[e]=i.playbackSummaryData[e]})),this.videoService.sendLiveHeartBeat(e.reportingUrl,e.reportingUrlSignature,n))},f.prototype.setupLiveHeartBeat=function(){var e,t=this;!this.isProducerView&&this.videoEditStateInfo.videoState===l.Constants.VideoStatus.Live&&this.videoUserDataToken&&(!(e=this.videoUserDataToken.properties)||0<(e=1e3*d.formatISODurationToSeconds(e.reportingInterval))&&(this.liveHeartBeatPromise=this.$interval((function(){t.sendLiveHeartBeat()}),e)))},f.prototype.sendLiveHeartBeat=function(){var e,t,n=this;this.isContentSourceLiveStream&&!this.isLive||!this.isContentSourceLiveStream&&!this.featureFlagsService.Values.ResumePlayback?this.liveHeartBeatPromise&&this.$interval.cancel(this.liveHeartBeatPromise):this.isVideoTokenExpiring?(this.liveHeartBeatPromise&&this.$interval.cancel(this.liveHeartBeatPromise),this.getVideoTokens().then((function(){n.setupLiveHeartBeat()}))):(e=this.videoUserDataToken.properties,t={contentSignature:this.videoUserDataToken.payload,version:"1.0",type:"viewing"},this.featureFlagsService.Values.ResumePlayback&&!this.isContentSourceLiveStream&&(t.lastViewPosition=d.convertTimeInMilliSecondsToTimeSpan(1e3*this.playerTime)),this.videoService.sendLiveHeartBeat(e.reportingUrl,e.reportingUrlSignature,t))},f.prototype.setUpPlayerFunctionsPostMessaging=function(){"undefined"==typeof MicrosoftStream||this.readyMessagePosted||(this.readyMessagePosted=!0,MicrosoftStream.addHostMessageHandlers(l.Constants.PostMessages.playerFunction,this.playerPostMessageFunctionHandler.bind(this)),MicrosoftStream.sendMessageToParent(l.Constants.PostMessages.playerEvent,{eventname:l.Constants.PostMessageSubEventNames.ready}))},f.prototype.playerPostMessageFunctionHandler=function(e){if(e&&e.methodname){var t,n=$("#"+this.videoEditStateInfo.mediaPlayerId+" "+l.Constants.MediaPlayerPostLoadSelector);switch(n&&0<n.length&&(t=amp(n[0])),e.methodname){case l.Constants.PostMessagePlayerMethodNames.play:this.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.PlayThroughPostMessaging,null,null),t?t.play():this.showFakePlayButton&&this.onPosterImagePlay();break;case l.Constants.PostMessagePlayerMethodNames.pause:this.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.PauseThroughPostMessaging,null,null),t&&t.pause();break;default:this.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.UnknownPlayerFunction,{functionName:e.methodname},null)}}},f.$inject=["$scope","$rootScope","$q","$http","$interval","resources","videoService","sdnPluginService","telemetryService","featureFlagsService","textTrackDataFactory","textTrackLanguageService","tenantService","sdnUtilService","notificationService","navigationService","$window","$location","videoEventService","oneCustomerVoiceDataService","dataShareService","thumbnailService","$sce"],r=f;function f(e,t,n,i,r,s,c,p,m,A,f,g,v,y,S,b,C,E,w,T,P,B,I){var D=h.call(this,m,A,y,P)||this;function k(){D.checkAndSendTelemetry("unload"),D.unload()}function F(e){D.videoEventService.markFormViewed(e.detail.videoId,e.detail.videoEvent)}function M(e){if(D.pageLeaveAlertCondition()){var t=D.resources.ProducerLiveIngestExitMessage;return(e||window.event).returnValue=t}}return D.$scope=e,D.$rootScope=t,D.$q=n,D.$http=i,D.$interval=r,D.resources=s,D.videoService=c,D.sdnPluginService=p,D.telemetryService=m,D.featureFlagsService=A,D.textTrackDataFactory=f,D.textTrackLanguageService=g,D.tenantService=v,D.sdnUtilService=y,D.notificationService=S,D.navigationService=b,D.$window=C,D.$location=E,D.videoEventService=w,D.oneCustomerVoiceDataService=T,D.dataShareService=P,D.thumbnailService=B,D.$sce=I,D.isVideoPlayerShown=!1,D.hideControlBar=!1,D.playerErrored=!1,D.showFakePlayButton=!1,D.playerLoaded=!1,D.reportIssuePageState=o.Closed,D.consentToEmail=!1,D.embeddedCaptionButtonShown=!1,D.onFormsTokenPostMessage=void 0,D.fakePlayButonPointerEvents="auto",D.shouldShowEndEventMessage=!1,D.isReplacing=!1,D.isSdnEnabled=!1,D.isOverrideIngestIdleToProcessing=!1,D.tenantHasSdn=!1,D.exited=!1,D.isErrorOccured=!1,D.isVideoDeleted=!1,D.readyMessagePosted=!1,D.getFormsAuthToken=D.onFormsTokenPostMessage,D.screen&&D.setScreenName(D.screen),D.featureTelemetryTracker=D.telemetryService.getTracker(u.ScreenName.Auto,u.ResourceType.Video,D.video.id),D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled(),D.videoId=D.video.id,D.featureTelemetryTracker.setResourceId(D.videoId),D.isContentSourceLiveStream=a.isVideoLiveContent(D.video),D.isCompleted=a.isCompleted(D.video,D.videoEditStateInfo),D.isStopping=a.isStopping(D.videoEditStateInfo),D.isLive=a.isVideoCurrentlyLive(D.video),D.sessionID=sessionInfo.ClientSessionId,D.contentSource=D.video.contentSource,D.contentType=D.video.contentType,D.ingestTelemetryProperties={previousIngestState:null,newIngestState:null,videoId:D.videoId,producerSessionId:D.producerSessionId,encoderStatus:null,resourceId:D.videoId,state:D.video.state,creatorApp:D.getCreationApplication()},D.reportPlayerIssuePrivacyUrl=T.privacyUrl,D.reportPlayerIssueMaxLength=T.maxCommentLength,D.reportPlayerIssueContactEmail=sessionInfo.UserClaim.UserInfo.DisplayableId,D.additionalTelemetryProperties={isLive:D.isLive,contentType:D.video.contentType,contentSource:D.video.contentSource,creatorApp:D.getCreationApplication(),yammerConnected:!!D.isYammerAvailable,yammerLoaded:!!D.isYammerLoaded,yammerEvents:D.yammerEvents,viewerPage:D.isProducerView?"producer":"audience",state:D.video.state,resourceId:D.video.id,app:D.app,encoderSource:D.video.liveEvent?D.video.liveEvent.encoderSource:null,loadTimeSinceStartInMs:0,encodingProfile:D.video.encodingProfile},D.video.posterImage&&D.video.posterImage.large&&D.video.posterImage.large.url&&D.thumbnailService.getThumbnailBase64Data(D.video.posterImage.large.url).then((function(e){D.videoThumbnailDataUrl=I.trustAsResourceUrl(e)})),D.$scope.$watch((function(){return D.videoTokens}),(function(e){!e||D.video.contentSource!==l.Constants.VideoContentSource.liveStream||D.videoEditStateInfo.videoState===l.Constants.VideoStatus.Completed||(e=D.videoUserDataToken)&&D.featureFlagsService.Values.NewNotifications&&S.addOrUpdateJoinVideoGroupList(D.video.id,e.payload)})),D.$scope.$watch((function(){return D.isYammerLoaded}),(function(e){D.additionalTelemetryProperties.yammerLoaded=e})),D.$scope.$watch((function(){return D.yammerEvents}),(function(e){D.additionalTelemetryProperties.yammerEvents=e})),D.$scope.$watch((function(){return D.isReplacing}),(function(e,t){!0===D.isReplacing&&(D.hideControlBar=!0,D.setMediaPlayerOptions())})),D.$scope.$on(l.Constants.Events.Notification_VideoStateChange,(function(e,t){t&&t.videoId===D.video.id&&(t=t.videoState,D.videoEditStateInfo.videoState=t,D.additionalTelemetryProperties.state=t)})),e.$on(l.Constants.Events.videoDeleted,(function(e,t){D.video.id===t.id&&(D.isVideoDeleted=!0)})),e.$on(l.Constants.Events.Notification_JoinVideoGroupFailed,(function(e,t){D.video.id===t.videoId&&D.videoService.getTokens(D.video.id)})),setTimeout((function(){D.isProducerView&&D.$scope.$on(l.Constants.Events.Notification_IngestStateChange,(function(e,t){t&&t.videoId===D.video.id&&(D.videoEditStateInfo.ingestState=t.ingestState,t.ingestState===l.Constants.VideoIngestState.idle&&(D.isOverrideIngestIdleToProcessing=!1),D.pollMedia(!0,t.ingestState!==l.Constants.VideoIngestState.idle),D.trackIngestStateChanges(t.ingestState),D.videoEditStateInfo.isVideoHealthy=t.encoderStatus&&t.encoderStatus.isHealthy&&t.encoderStatus.connectionState===l.Constants.EncoderConnectionState.connected,D.videoEditStateInfo.encoderConnectionState=t.encoderStatus&&t.encoderStatus.connectionState)})),D.videoEditStateInfo||(D.videoEditStateInfo={videoState:D.video.id===l.Constants.preCreationVideoId?l.Constants.VideoState.creating:D.video.state,collapseAccordion:!1,newlyUploadedItem:D.video.id===l.Constants.preCreationVideoId}),D.additionalTelemetryProperties.state=D.videoEditStateInfo.videoState,D.videoEditStateInfo.mediaPlayerId=d.generateSmallId(),!D.videoTokens&&D.video.tokens&&(D.videoTokens=D.video.tokens),D.isProducerView?D.setupProducerView():D.featureFlagsService.Values.NetworkCaching&&!D.sdnUtilService.disableSdn?D.tenantService.getSettings().then((function(e){D.featureTelemetryTracker.succeed(u.FeatureName.GetTenantSettings),_.get(e.data,"system.networkCaching.provider","")&&_.get(e.data,"system.networkCaching.licenseId","")?(D.tenantHasSdn=!0,D.sdnUtilService.sdnSettings=e.data.system.networkCaching):D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled()}),(function(e){D.featureTelemetryTracker.fail(u.FeatureName.GetTenantSettings,u.SubFeatureName.TenantService_GetTenantSettings,e),D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled()})).finally((function(){D.setupAttendeeView()})):(D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled(),D.setupAttendeeView()),D.$scope.$watchGroup([function(){return D.videoEditStateInfo.videoState},function(){return D.videoEditStateInfo.ingestState}],(function(e,t){var n=t[0],i=t[1],r=(t=e[0],e[1]);if(n!==t||i!==r){switch(t){case l.Constants.VideoStatus.Created:D.isProducerView&&i!==r&&(r===l.Constants.VideoIngestState.idle?(D.updatePlayerViewBasedOnIngest(),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(l.Constants.PostMessages.producerEvent,{eventname:l.Constants.PostMessageSubEventNames.setupStarted})):r!==l.Constants.VideoIngestState.processing||i?r===l.Constants.VideoIngestState.processing&&i===l.Constants.VideoIngestState.idle?D.isVideoPlayerShown||(D.playerDelayTimer&&D.$interval.cancel(D.playerDelayTimer),D.playerDelayTimer=D.$interval((function(){D.dataShareService.videoPlaybackLoadStartInMs=performance.now(),D.setMediaPlayerOptions()}),portalConfiguration.PlayerLiveInitTimeInMS,1)):r===l.Constants.VideoIngestState.unhealthy||(D.videoEditStateInfo.ingestState==l.Constants.VideoIngestState.stopping?(D.hideVideoPlayer(),D.isOverrideIngestIdleToProcessing=!1):D.videoEditStateInfo.ingestState==l.Constants.VideoIngestState.stopped&&(D.hideVideoPlayer(),D.isOverrideIngestIdleToProcessing=!1,"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(l.Constants.PostMessages.producerEvent,{eventname:l.Constants.PostMessageSubEventNames.setupDisconnected}))):D.isVideoPlayerShown||D.setMediaPlayerOptions());break;case l.Constants.VideoStatus.Live:n===l.Constants.VideoStatus.Created&&(D.startOfLiveActions(),D.isProducerView&&"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(l.Constants.PostMessages.producerEvent,{eventname:l.Constants.PostMessageSubEventNames.eventStarted}),D.trackLiveEventStarted(),setTimeout((function(){d.alertScreenReader(D.resources.LiveEventStartedAlert)}))),i===r||r!==l.Constants.VideoIngestState.stopping&&r!==l.Constants.VideoIngestState.stopped&&r!==l.Constants.VideoIngestState.completed?D.isVideoPlayerShown||D.setMediaPlayerOptions(!1):D.hideVideoPlayer();break;case l.Constants.VideoStatus.Completed:n===l.Constants.VideoStatus.Live&&(D.endOfLiveActions(),D.trackLiveEventEnded()),i===r||r!==l.Constants.VideoIngestState.stopped&&r!==l.Constants.VideoIngestState.completed||(D.reloadPlaybackUrls(!0),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(l.Constants.PostMessages.producerEvent,{eventname:l.Constants.PostMessageSubEventNames.eventEnded}));break;case l.Constants.VideoStatus.Error:}i!==r&&D.trackIngestStateChanges(r)}D.isCompleted=a.isCompleted(D.video,D.videoEditStateInfo),D.isStopping=a.isStopping(D.videoEditStateInfo)}))}),0),D.$window.addEventListener("beforeunload",M),D.$window.addEventListener("beforeunload",k),D.$window.addEventListener(l.Constants.CustomEvents.Interactive.Viewed,F),D.$scope.$on("$destroy",(function(){D.$rootScope.ProducerPageLeaveAlertCondition=null,D.$window.removeEventListener("beforeunload",k),D.$window.removeEventListener("beforeunload",M),D.$window.removeEventListener(l.Constants.CustomEvents.Interactive.Viewed,F),D.isSummaryTelemetrySent||D.checkAndSendTelemetry("destroy"),D.playerDelayTimer&&D.$interval.cancel(D.playerDelayTimer),D.refreshVideoStatusAndIngestPromise&&D.$interval.cancel(D.refreshVideoStatusAndIngestPromise),D.liveHeartBeatPromise&&D.$interval.cancel(D.liveHeartBeatPromise),S.leaveVideoGroup(D.video.id)})),D.$rootScope.ProducerPageLeaveAlertCondition=D.pageLeaveAlertCondition.bind(D),D.disableFakePlayButtonPointerEvents&&(D.fakePlayButonPointerEvents="none"),D}t.VideoPlayerViewController=r},"./app/components/Poster/PosterController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/models/TelemetryEventModels.ts");s.prototype.refreshThumbnails=function(){var e=this;return this.thumbnailService.query(this.resourceName,this.resourceId,this.isInAdminMode).then((function(t){return e.thumbnails=t.data.value,e.selectedThumbnail=_.find(e.thumbnails,(function(e){return e.isPosterImage})),e.thumbnails}),(function(t){return e.featureTelemetryTracker.fail(e.featureName,o.SubFeatureName.ThumbnailService_Query,t),e.$q.reject()}))},s.prototype.getImageSize=function(e){var t=this.$q.defer(),n=new Image;return n.onload=function(){t.resolve({width:n.width,height:n.height})},n.onerror=function(e){t.reject(e)},n.src=window.URL.createObjectURL(e),t.promise},s.prototype.computePosterSize=function(e,t){return e.width<=0||e.height<=0?{width:0,height:0}:e.width/e.height>t.width/t.height?{width:t.width,height:t.width/e.width*e.height}:{width:t.height/e.height*e.width,height:t.height}},s.prototype.getPosterFileNames=function(e){return e=e.name.split(".").pop(),{extraSmall:[i.Constants.PosterFileName.ExtraSmall,e].join("."),small:[i.Constants.PosterFileName.Small,e].join("."),medium:[i.Constants.PosterFileName.Medium,e].join("."),large:[i.Constants.PosterFileName.Large,e].join(".")}},s.prototype.getPosterUploadUrls=function(e,t){var n={extraSmall:"",small:"",medium:"",large:""};if(_.forEach(e.files,(function(i){switch(i.fileName.trim()){case t.extraSmall:n.extraSmall=i.uploadUrl;break;case t.small:n.small=i.uploadUrl;break;case t.medium:n.medium=i.uploadUrl;break;case t.large:n.large=i.uploadUrl;break;default:throw new Error("Unrecognized filename: "+i.fileName+" from: "+e.toString())}})),""===n.extraSmall)throw new Error("Missing extra small poster's uploadUrl with fileName '"+t.extraSmall+"'");if(""===n.small)throw new Error("Missing small poster's uploadUrl with fileName '"+t.small+"'");if(""===n.medium)throw new Error("Missing medium poster's uploadUrl with fileName '"+t.medium+"'");if(""===n.large)throw new Error("Missing large poster's uploadUrl with fileName '"+t.large+"'");return n},s.prototype.startUpload=function(e){var t,n,s=this;return n=s.$q.defer(),s.createImages(e).then((function(e){t=e,n.resolve()}),(function(e){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.General_BrowserCreateImages,e),n.reject()})),n.promise.then((function(){var e=s.$q.defer();return s.thumbnailService.create(s.resourceName,s.resourceId,s.isInAdminMode).then((function(t){e.resolve(t.data.id)}),(function(t){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.ThumbnailService_Create,t),e.reject()})),e.promise})).then((function(e){var n=s.$q.defer();return s.uploadService=s.mediaUploadFactory(r.formatString(i.Constants.ResourceIdStrings.Thumbnail,s.resourceName,s.resourceId,e)),s.uploadService.startUpload([t.extraSmall.name,t.small.name,t.medium.name,t.large.name],s.isInAdminMode).then((function(e){n.resolve(e.data)}),(function(e){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.UploadService_StartUpload,e),n.reject()})),n.promise})).then((function(e){var n=null;try{n=s.getPosterUploadUrls(e,{extraSmall:t.extraSmall.name,small:t.small.name,medium:t.medium.name,large:t.large.name})}catch(n){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.UploadService_StartUpload,e),s.$q.reject(n)}var i=[{sasUrl:n.extraSmall,file:t.extraSmall},{sasUrl:n.small,file:t.small},{sasUrl:n.medium,file:t.medium},{sasUrl:n.large,file:t.large}],r=s.$q.defer();return s.uploadService.uploadFiles(s.$scope,i,s.isInAdminMode).then((function(){r.resolve()}),(function(e){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.UploadService_UploadFiles,e),r.reject()})),r.promise})).then((function(){return s.customPosterUploaded(),s.featureTelemetryTracker.succeed(s.featureName),s.refreshThumbnails()}))},s.prototype.createImages=function(e){var t=this;if(!this.upload.isResizeSupported)throw new Error("Cannot resize image to png format; canvas not supported");return this.getImageSize(e).then((function(n){return t.$q.all([t.resizeUploadImage(e,n,i.Constants.PosterSize.ExtraSmall),t.resizeUploadImage(e,n,i.Constants.PosterSize.Small),t.resizeUploadImage(e,n,i.Constants.PosterSize.Medium),t.resizeUploadImage(e,n,i.Constants.PosterSize.Large)])})).then((function(e){return(e={extraSmall:e[0],small:e[1],medium:e[2],large:e[3]}).extraSmall.name=i.Constants.PosterFileName.ExtraSmall+t.fileExtension,e.small.name=i.Constants.PosterFileName.Small+t.fileExtension,e.medium.name=i.Constants.PosterFileName.Medium+t.fileExtension,e.large.name=i.Constants.PosterFileName.Large+t.fileExtension,e}))},s.prototype.resizeUploadImage=function(e,t,n){return n=this.computePosterSize(t,n),this.upload.resize(e,n.width,n.height,.8)},Object.defineProperty(s.prototype,"customThumbnail",{get:function(){return _.find(this.thumbnails,(function(e){return e.isCustom}))},enumerable:!0,configurable:!0}),s.prototype.isSelected=function(e){return!(!this.selectedThumbnail||!e)&&this.selectedThumbnail.id===e.id},s.prototype.doUpload=function(e){var t=this;return e?(this.uploadStarted=!0,(e=this.startUpload(e)).then((function(){t.uploadStarted=!1})),e):null},n=s;function s(e,t,n,i,r,o,s,a,c,l,u){this.$q=e,this.$scope=t,this.upload=n,this.resources=i,this.thumbnailService=r,this.mediaUploadFactory=o,this.telemetryService=s,this.navigationService=a,this.resourceName=c,this.resourceType=l,this.featureName=u,this.fileExtension=".png",this.uploadStarted=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(this.navigationService.getPageName(),this.resourceType,this.resourceId)}t.PosterController=n},"./app/components/PrincipalGroup/PrincipalGroupController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.onRemove=function(e){_.remove(this.principals,(function(t){return t&&e&&t.id===e.id})),this.principalsRemoved&&this.principalsRemoved({$principal:e})},i.$inject=["$scope","resources"],i);function i(e,t){this.resources=t}t.PrincipalGroupController=n},"./app/components/PrincipalGroupCompact/PrincipalGroupCompact.html":function(e,t){e.exports='<div class="profile-container row" ng-repeat="suggestion in $ctrl.principals track by suggestion.id"> <div class="column delete-col-compact"> <button type=button class="c-glyph c-action-trigger remove-button" ng-click=$ctrl.onRemove(suggestion) aria-label="{{::$ctrl.resources.Delete}} {{suggestion.name || suggestion.mail}}"> </button> </div> <div class="column profile-compact-image-col"> <img class=profile-compact-image alt="{{suggestion.name? suggestion.name : suggestion.mail}}" ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-compact-image alt="{{suggestion.name? suggestion.name : suggestion.mail}}" ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div dir=ltr class="column name-line-compact large-10"> {{suggestion.name? suggestion.name : suggestion.mail}} &nbsp; {{suggestion.mail? "("+suggestion.mail+")":""}} </div> </div>'},"./app/components/PrincipalGroupCompact/PrincipalGroupCompact.less":function(e,t){},"./app/components/PrincipalGroupCompact/PrincipalGroupCompact.ts":function(e,t,n){function i(){this.controller=o.PrincipalGroupController,this.template=n("./app/components/PrincipalGroupCompact/PrincipalGroupCompact.html"),this.bindings={principals:"=",principalsRemoved:"&",isInAdminMode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalGroupCompact/PrincipalGroupCompact.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalGroup/PrincipalGroupController.ts");t.PrincipalGroupCompact=i,r.registerComponent("principalGroupCompact",i,angular.module("jumper"))},"./app/components/PrincipalList/PrincipalList.html":function(e,t){e.exports="<div class=search-box> <auto-complete id=principalInput search-min-input={{$ctrl.searchMinInput}} search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedPrincipal principals-searched=$ctrl.principalsSearched() principals-added=$ctrl.principalsAdded() hide-label=true get-reference=$ctrl.getAutoCompleteReference(obj) custom-disabled=$ctrl.customDisabled> </auto-complete> </div> "},"./app/components/PrincipalList/PrincipalList.less":function(e,t){},"./app/components/PrincipalList/PrincipalList.ts":function(e,t,n){function i(){this.controller=o.PrincipalListController,this.template=n("./app/components/PrincipalList/PrincipalList.html"),this.bindings={principals:"=",searchTerm:"=",principalsSearched:"&",principalsAdded:"&",principalsRemoved:"&",getReference:"&",customDisabled:"<",telemetryTracker:"<",onError:"&",emailNeeded:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalList/PrincipalList.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalList/PrincipalListController.ts");t.PrincipalList=i,r.registerComponent("principalList",i,angular.module("jumper"))},"./app/components/PrincipalList/PrincipalListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts");o.prototype.selectPrincipal=function(e){_.isArray(this.principals)&&!_.find(this.principals,(function(t){return t.mail.toLowerCase()===e.mail.toLowerCase()}))&&this.principals.push(e)},o.prototype.getAutoCompleteReference=function(e){this.autoCompleteController=e},o.$inject=["$q","$scope","resources","principalService","telemetryService","navigationService"],n=o;function o(e,t,n,o,s,a){var c=this;this.$q=e,this.$scope=t,this.resources=n,this.principalService=o,this.telemetryService=s,this.navigationService=a,this.searchMinInput=1,this.emailNeeded=!1;var l=this,u=this;this.principalSearch={search:function(t){u.searchTerm=t;var n=e.defer();return l.principalService.searchPrincipals(t,i.Constants.MaxLengths.PrincipleSearchOutput).then((function(e){var o;l.telemetryTracker.succeed(r.FeatureName.SearchPrincipals),0<e.data.value.length?n.resolve(e.data.value):(o=t+"@"+_.split(sessionInfo.UserClaim.UserInfo.DisplayableId,"@")[1],i.Constants.EmailRegExp.test(o)?n.resolve([{mail:o}]):n.resolve(e.data.value))}),(function(e){l.telemetryTracker.fail(r.FeatureName.SearchPrincipals,r.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},t.$watch((function(){return c.lastSelectedPrincipal}),(function(e,t){e&&(!c.emailNeeded||e.mail?(c.principals||(c.principals=[]),_.find(c.principals,(function(t){return t.id&&e.id?t.id===e.id:!!c.emailNeeded&&t.mail.toLowerCase()===e.mail.toLowerCase()}))?c.onError&&c.onError({errorMessage:c.resources.PrincipalSelector.SelectedAlready}):c.principals.push(e)):c.onError({errorMessage:c.resources.PrincipalSelector.EmailMissing}))})),this.getReference&&this.getReference({obj:this})}t.PrincipalListController=n},"./app/components/PrincipalSelector/PrincipalSelector.html":function(e,t){e.exports='<div class=principal-selector> <div class="row row-size0 column"> <span role=alert ng-if=$ctrl.showError class=error-message>{{$ctrl.errorMessage}}</span> <span ng-show="$ctrl.principals.length===$ctrl.maxRecordCount" class=limit-info><svg-src svg-name=icon_library class=tool-tip-icon></svg-src><span class=limit-info-message>{{::$ctrl.resources.FormValidation.MaxEmailCount}}</span></span> </div> <div class=email-form-container> <div class="row row-size0"> <div class="column xsmall-8 small-9 large-10"> <principal-list principals=$ctrl.principals search-term=$ctrl.emailToAdd get-reference=$ctrl.setPrincipalListReference(obj) custom-disabled="$ctrl.principals.length===$ctrl.maxRecordCount" telemetry-tracker=$ctrl.telemetryTracker on-error=$ctrl.onError(errorMessage) email-needed=$ctrl.emailNeeded></principal-list> </div> <div class="column xsmall-4 small-3 search-col large-2"> <button role=submit class="stream-btn btn-primary add-button" ng-click=$ctrl.addEmail() ng-disabled="$ctrl.principals.length===$ctrl.maxRecordCount">{{::$ctrl.resources.Add}}</button> </div> </div> </div> <div class="list-area column"> <div class=element-invisible aria-live=polite>{{$ctrl.operationAriaLabel}}</div> <div ng-repeat="suggestion in $ctrl.principals track by suggestion.id" class="row row-size1"> <div class="column search-col delete-col"> <button type=button class="c-glyph c-action-trigger remove-button" ng-click=$ctrl.onRemove($index) aria-label="{{::$ctrl.resources.Delete}} {{suggestion.name? suggestion.name : suggestion.mail}}"></button> </div> <div class="column profile-col"> <div class=profile-image-col> <img class=profile-image ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-image ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=name-col> <div class="row column row-size0 name-line"> {{suggestion.name? suggestion.name : suggestion.mail}} </div> <div class="row column row-size0 email-line" ng-if=suggestion.mail> {{suggestion.mail}} </div> </div> </div> </div> </div> </div>'},"./app/components/PrincipalSelector/PrincipalSelector.less":function(e,t){},"./app/components/PrincipalSelector/PrincipalSelector.ts":function(e,t,n){function i(){this.controller=o.PrincipalSelectorController,this.template=n("./app/components/PrincipalSelector/PrincipalSelector.html"),this.bindings={principals:"=",telemetryTracker:"<",emailNeeded:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalSelector/PrincipalSelector.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalSelector/PrincipalSelectorController.ts");t.PrincipalSelector=i,r.registerComponent("principalSelector",i,angular.module("jumper"))},"./app/components/PrincipalSelector/PrincipalSelectorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts");a.prototype.addEmail=function(){var e=this;this.isEmailFormatValid(this.emailToAdd)?this.tenantService.getDomains().then((function(t){var n=t.data;t=e.emailToAdd.replace(/.*@/,"");-1<r.indexOfIgnoreCase(n.values,t)?(_.find(e.principals,(function(t){return!!t.mail&&t.mail.toLowerCase()===e.emailToAdd.toLowerCase()}))?e.onError(e.resources.PrincipalSelector.SelectedAlready):e.principals.push({mail:e.emailToAdd.toLowerCase(),name:""}),e.emailToAdd="",e.principalListReference.autoCompleteController.clear()):e.onError(e.resources.FormValidation.EmailNotInSameOrg)}),(function(t){e.telemetryTracker.fail(o.FeatureName.EmailShare,o.SubFeatureName.TenantService_GetTenantDomains,t),e.onError(e.resources.FormValidation.TenantDomainCallFailed)})):this.onError(this.resources.FormValidation.Email)},a.prototype.isEmailFormatValid=function(e){return this.emailRegex.test(e)},a.prototype.onRemove=function(e){var t=""===this.principals[e].name?this.principals[e].mail:this.principals[e].name;this.principals.splice(e,1),this.operationAriaLabel=s.formatString(this.resources.Principal.Delete.AccessibilityMessage,t)},a.prototype.onError=function(e){this.showError=!0,this.errorMessage=e},a.prototype.setPrincipalListReference=function(e){var t=this;this.principalListReference=e,this.$scope.$watch((function(){return t.principalListReference.autoCompleteController.searchParams}),(function(e,n){t.showError=!1}))},a.$inject=["$scope","resources","tenantService","$element"],n=a;function a(e,t,n,r){var o=this;this.$scope=e,this.resources=t,this.tenantService=n,this.$element=r,this.showError=!1,this.maxRecordCount=i.Constants.MaxLengths.PrincipalSelect,this.principals=[],this.emailRegex=i.Constants.EmailRegExp,this.emailNeeded=!1,this.$scope.$watch((function(){return o.principals}),(function(e,t){o.$element.find("input").focus(),e.length>t.length&&(t=""===o.principals[o.principals.length-1].name?o.principals[o.principals.length-1].mail:o.principals[o.principals.length-1].name,o.operationAriaLabel=s.formatString(o.resources.Principal.Add.AccessibilityMessage,t))}),!0)}t.PrincipalSelectorController=n},"./app/components/PrivacyModeSelector/PrivacyModeSelectorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts");Object.defineProperty(o.prototype,"showChannelSelector",{get:function(){return this.video.privacyMode===i.Constants.privacyMode.organization||this.video.privacyMode===i.Constants.privacyMode.public},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showUserSearch",{get:function(){return this.video.privacyMode===i.Constants.privacyMode.custom},enumerable:!0,configurable:!0}),o.prototype.onPrincipalsRemoved=function(){this.principalsRemoved&&this.principalsRemoved(),this.checkIfSearchNeedToBeDisabled()},o.prototype.updatePrivacyMode=function(e){this.privacyModeChanged&&this.privacyModeChanged();var t=this;if(!(this.video&&this.video.channels&&this.video.channels.length)||this.previousPrivacyMode!==i.Constants.privacyMode.public&&this.previousPrivacyMode!==i.Constants.privacyMode.organization||e!==i.Constants.privacyMode.private&&e!==i.Constants.privacyMode.custom)return t.video.privacyMode=e,t.previousPrivacyMode=e,this.$q((function(e,t){e()}));var n={title:this.resources.VideoUpdate.videoWillbeDeletedFromChannels,message:this.resources.VideoUpdate.confirmationToExcludeFromChannels,confirmButtonLabel:this.resources.Yes,cancelButtonLabel:this.resources.No};return this.confirmationDialogService.show(n).then((function(){t.video.channels=[],t.video.privacyMode=e,t.previousPrivacyMode=e}))},o.prototype.checkIfSearchNeedToBeDisabled=function(){this.searchDisabled=this.principals.length>=i.Constants.MaxLengths.PrincipleAssignmentsLimit},o.$inject=["$q","$scope","resources","confirmationDialogService","principalService","telemetryService","navigationService"],n=o;function o(e,t,n,o,s,a,c){var l=this;this.$q=e,this.$scope=t,this.resources=n,this.confirmationDialogService=o,this.principalService=s,this.telemetryService=a,this.navigationService=c,this.minPrincipalSearch=3,this.lastSelectedPrinciple=null,this.searchDisabled=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(this.navigationService.getPageName());var u=this;this.principalSearch={search:function(t){var n=e.defer();return u.principalService.searchPrincipals(t,i.Constants.MaxLengths.PrincipleSearchOutput,0,u.isInAdminMode).then((function(e){u.featureTelemetryTracker.succeed(r.FeatureName.SearchPrincipals),n.resolve(e.data.value)}),(function(e){u.featureTelemetryTracker.fail(r.FeatureName.SearchPrincipals,r.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},t.$watch((function(){return l.video}),(function(e,t){e&&(l.previousPrivacyMode=e.privacyMode)})),t.$watch((function(){return l.lastSelectedPrinciple}),(function(e,t){e&&(l.principals||(l.principals=[]),0===l.principals.filter((function(t,n,i){return t.id===e.id})).length&&(l.principals.push(e),l.checkIfSearchNeedToBeDisabled()))}))}t.PrivacyModeSelectorController=n},"./app/components/ReadLessReadMore/ReadLessReadMore.html":function(e,t){e.exports="<div class=readlessreadmore custom-title=\"{{$ctrl.enableCustomTitle ? $ctrl.textContent : ''}}\" light-style=true ng-style=\"{'visibility': $ctrl.showContent ? 'visible' : 'hidden'}\"> <div class=contentwrapper ng-class=\"{'show-ellipsis': $ctrl.useEllipsis && ($ctrl.isFolded && $ctrl.isOverflowed)}\"> <tagged-description ng-hide=$ctrl.withoutHashTag text-contents=$ctrl.textContent class=textcontent on-time-tag-clicked=$ctrl.onTimeTagClicked() is-time-tag-startup=$ctrl.isTimeTagStartup telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties></tagged-description> <div ng-show=$ctrl.withoutHashTag class=textcontent> <p class=\"untagged-description c-caption-1\" ng-bind-html=$ctrl.textContent></p> </div> </div> <div ng-if=!$ctrl.useEllipsis> <button class=c-hyperlink ng-class=\"$ctrl.isOverflowed ? '' : 'hide'\" ng-click=$ctrl.doToggle()>{{$ctrl.toggleText}}</button> </div> <div class=ellipsis-label ng-if=\"$ctrl.useEllipsis && ($ctrl.isFolded && $ctrl.isOverflowed)\"> ... </div> </div>"},"./app/components/ReadLessReadMore/ReadLessReadMore.less":function(e,t){},"./app/components/ReadLessReadMore/ReadLessReadMore.ts":function(e,t,n){function i(){this.restrict="E",this.controller=r.ReadLessReadMoreController,this.template=n("./app/components/ReadLessReadMore/ReadLessReadMore.html"),this.scope={textContent:"<",defaultMaxLines:"=",withoutHashTag:"<",isTimeTagStartup:"<",onTimeTagClicked:"&",telemetryTracker:"<",tagClickedTelemetryProperties:"<",useEllipsis:"<",onRender:"&",enableCustomTitle:"<",toggleEvent:"<"},this.controllerAs="$ctrl",this.bindToController=!0,this.link=function(e,t,n,i){i.setHeight()}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ReadLessReadMore/ReadLessReadMore.less");var r=n("./app/components/ReadLessReadMore/ReadLessReadMoreController.ts"),o=n("./app/utility/appUtil.ts");t.ReadLessReadMore=i,o.registerDirective("readLessReadMore",i,angular.module("jumper"))},"./app/components/ReadLessReadMore/ReadLessReadMoreController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.doToggle=function(){this.isFolded=!this.isFolded,this.isFolded?this.doFold():this.doUnfold()},i.prototype.doFold=function(){this.toggleText=this.resources.Components.ReadLessReadMore.ReadMore,this.element.find(".contentwrapper").css("max-height",this.defaultMaxHeight+"px"),this.onRender({actualLines:this.actualLines,isFolded:!0})},i.prototype.doUnfold=function(){this.toggleText=this.resources.Components.ReadLessReadMore.ReadLess,this.element.find(".contentwrapper").css("max-height",""),this.onRender({actualLines:this.actualLines,isFolded:!1})},i.prototype.setHeight=function(){this.textContentElement=this.element.find(".textcontent");var e=this.textContentElement.css("line-height");this.lineHeight=+e.substring(0,e.length-2),this.defaultMaxHeight=this.lineHeight*this.defaultMaxLines},i.prototype.setEllipsis=function(){var e=this;this.$timeout((function(){var t,n,i=e.textContentElement.children(".item-description"),r=e.textContentElement.children(".untagged-description");i=e.withoutHashTag?r:i;e.actualLines=Math.ceil(i.height()/e.lineHeight),0===i.height()&&(n=(t=i.closest("read-less-read-more")).attr("style"),t.css({position:"absolute",visibility:"hidden"}),t.attr("style","display: block !important")),i.height()>e.defaultMaxHeight?(e.isOverflowed=!0,e.isFolded=!0,e.doFold()):(e.isOverflowed=!1,e.onRender({actualLines:e.actualLines,isFolded:!0})),t&&t.attr("style",n||""),e.showContent=!0}),0)},i.prototype.$postLink=function(){this.setEllipsis()},i.$inject=["$element","resources","$timeout","$scope"],i);function i(e,t,n,i){var r=this;this.element=e,this.resources=t,this.$timeout=n,this.$scope=i,this.isFolded=!0,this.isOverflowed=!1,this.toggleText="Read More",this.waitFlag=!1,this.$scope.$watch((function(){return r.toggleEvent}),(function(e,t){e!==t&&r.doToggle()})),this.$scope.$watch((function(){return r.textContent}),(function(e,t){e!==t&&(r.setHeight(),r.setEllipsis())}))}t.ReadLessReadMoreController=n},"./app/components/StreamLoading/StreamLoading.html":function(e,t){e.exports="<div class=stream-loading ng-class=\"$ctrl.embedApp ? 'embed-loading' : 'absolute-center'\"> <div class=loading-spinner> </div> <div class=loading-message> {{::$ctrl.loadingMessage}} </div> </div>"},"./app/components/StreamLoading/StreamLoading.less":function(e,t){},"./app/components/StreamLoading/StreamLoading.ts":function(e,t,n){function i(){this.controller=r.StreamLoadingController,this.template=n("./app/components/StreamLoading/StreamLoading.html"),this.bindings={embedApp:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/StreamLoading/StreamLoading.less");var r=n("./app/components/StreamLoading/StreamLoadingController.ts"),o=n("./app/utility/appUtil.ts");t.StreamLoading=i,o.registerComponent("streamLoading",i,angular.module("jumper"))},"./app/components/StreamLoading/StreamLoadingController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts");Object.defineProperty(o.prototype,"loadingMessage",{get:function(){return i.formatString(this.resources.LoadingStream,r.Constants.ProductName)},enumerable:!0,configurable:!0}),o.$inject=["resources"],n=o;function o(e){this.resources=e}t.StreamLoadingController=n},"./app/components/TaggedDescription/TaggedDescription.html":function(e,t){e.exports="<div class=item-description> <div ng-if=$ctrl.textContents.length ng-bind-html=$ctrl.finalBindingText class=item-description-content role=presentation></div> </div>"},"./app/components/TaggedDescription/TaggedDescription.less":function(e,t){},"./app/components/TaggedDescription/TaggedDescription.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/components/TaggedDescription/TaggedDescriptionController.ts"),o=n("./app/utility/Constants.ts");function s(){this.controller=r.TaggedDescriptionController,this.template=n("./app/components/TaggedDescription/TaggedDescription.html"),this.scope={textContents:"<",onHashTagClicked:"&",onTimeTagClicked:"&",isTimeTagStartup:"<",telemetryTracker:"<",tagClickedTelemetryProperties:"<"},this.restrict="E",this.controllerAs="$ctrl",this.bindToController=!0,this.link=function(e,t,n,i){setTimeout((function(){$(".hash-tags").click((function(t){t.stopImmediatePropagation(),i.onHashTagClickInternal($(t.currentTarget).text()),e.$apply()})),$(".url-in-description").click((function(t){t.stopImmediatePropagation(),e.$apply()})),$(".time-stamp-tag",t).click((function(t){t.stopImmediatePropagation(),i.onTimeStampTagClickedInternal(t.target.textContent),e.$apply()})),$(".time-stamp-tag",t).keypress((function(t){t.which===o.Constants.KeyCodes.Enter&&(t.stopImmediatePropagation(),i.onTimeStampTagClickedInternal(t.target.textContent),e.$apply())}))}),0)}}n("./app/components/TaggedDescription/TaggedDescription.less"),t.TaggedDescription=s,i.registerDirective("taggedDescription",s,angular.module("jumper"))},"./app/components/TaggedDescription/TaggedDescriptionController.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=n("./app/utility/appUtil.ts"),c=n("./app/models/TelemetryEventModels.ts");l.prototype.processDescription=function(e){var t=this;return(e=(e=(e=this.$filter("linkIt")(e,"_blank",{class:"c-hyperlink url-in-description"})).replace(o.Constants.encodedNewLineRegEx,o.Constants.LineBreakHTML)).replace(o.Constants.HashTagsRegExp,(function(e,t,n){var i=sessionInfo.IsEmbed?"/embed/browse":"/browse";return"<span>"+t+"<a dir="+(s.isRTLScript(r.htmlDecode(n))?"rtl":"ltr")+' class="c-hyperlink hash-tags" href="'+i+"?"+o.Constants.QueryStringKeys.SearchTerm+"="+encodeURIComponent("#"+r.htmlDecode(n))+'">#'+n+"</a></span>"}))).replace(o.Constants.TimeStampTagsRegExp,(function(e,n,i){return n+'<span class="c-hyperlink time-stamp-tag" tabindex="0" aria-label="'+t.getTimeStampTagAriaLabel(i)+'">'+i+"</span>"}))},l.prototype.onTimeStampTagClickedInternal=function(e){e=a.taggedTimeStringToSeconds(e),this.$scope.$emit(o.Constants.Events.TimeStampTagClicked,{timeInSeconds:e}),this.logTagClicked(c.TagClickedType.Time,{timeInSecondsFromStart:e}),this.onTimeTagClicked()},l.prototype.onHashTagClickInternal=function(e){this.logTagClicked(c.TagClickedType.Hash,{hashTagLength:e.length}),this.onHashTagClicked({message:e})},l.prototype.logTagClicked=function(e,t){var n=this.telemetryTracker||this.telemetryService.getTracker(),r=i({},t),o=(t=void 0===(t=(o=this.tagClickedTelemetryProperties).id)?"":t,void 0===(o=o.source)?"":o);r.tagSource=o,r.elementId=t,r.tagType=e,n.trackEvent(c.TelemetryEventNames.tagClickedEventName,r)},l.prototype.getTimeStampTagAriaLabel=function(e){return null!==(e=a.taggedTimeStringToSeconds(e))?this.isTimeTagStartup?s.formatString(this.resources.TimeTagStartAtArialLabel,e.toString()):s.formatString(this.resources.TimeTagSeekArialLabel,e.toString()):""},l.$inject=["$filter","$scope","resources","telemetryService"],n=l;function l(e,t,n,i){var r=this;this.$filter=e,this.$scope=t,this.resources=n,this.telemetryService=i,this.finalBindingText="",this.$scope.$watch((function(){return r.textContents}),(function(e){r.finalBindingText=r.processDescription(e)}))}t.TaggedDescriptionController=n},"./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitlesController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/utility/Constants.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/string.ts"),c=n("./app/utility/LiveEventUtils.ts");function l(e,t,n,r,o,s,a,c,l,u,d){var p=this;this.$scope=e,this.resources=t,this.ngDialog=n,this.textTrackDataFactory=r,this.telemetryService=o,this.featureFlagsService=s,this.navigation=a,this.textTrackLanguageService=c,this.videoService=l,this.mediaDownloaderService=u,this.uploadCaptionDialog=d,this.cpationStatus={AutoGenerate:"AutoGenerate",NoCaptionUploaded:"NoCaptionUploaded",CaptionUploaded:"CaptionUploaded"},this.disableAutoGeneratedCaptionCheckbox=!0,this.enableVisibilityToggle=!1,this.autoGeneratedCaptionSyncedWithBE=!0,this.featureTelemetryTracker=this.telemetryService.getTracker(),this.textTrackDataService=this.textTrackDataFactory(this.video.id,this.isInAdminMode),this.videoService.getSupportedAutoTranscriptLanguages().then((function(e){p.supportedLanguages=e.data.languages})).finally((function(){-1<p.supportedLanguages.indexOf(p.video.language)&&(p.disableAutoGeneratedCaptionCheckbox=!1),e.$watch((function(){return p.video.language}),(function(e,t){e!==t&&(p.captionTextTrack?p.captionTextTrack.track.language!==p.video.language?p.languageMatch({$match:!1}):p.languageMatch({$match:!0}):(p.languageMatch({$match:!0}),-1<p.supportedLanguages.indexOf(p.video.language)?(p.disableAutoGeneratedCaptionCheckbox=!1,p.video.options.autoGeneratedCaption=!0,p.video.options.allowTranscript=!0):(p.disableAutoGeneratedCaptionCheckbox=!0,p.video.options.autoGeneratedCaption=!1),p.refreshUI()))}),!1),p.videoEditStateInfo.newlyUploadedItem||p.getTextTracks(p.video.language),e.$watch((function(){return p.captionStatus}),(function(e,t){e!==t&&t===i.saving&&e===i.saved&&(p.autoGeneratedCaptionSyncedWithBE=!0)}),!1),p.refreshCaptionVisibilityToggle()}))}(n=i=t.DisableAutoGeneratedCaptionStatus||(t.DisableAutoGeneratedCaptionStatus={}))[n.saved=0]="saved",n[n.saving=1]="saving",n[n.failed=2]="failed",(n=r=t.CaptionsAndSubtitlesDisableReason||(t.CaptionsAndSubtitlesDisableReason={}))[n.notCompleteLive=0]="notCompleteLive",n[n.endedNonViewableLive=1]="endedNonViewableLive",n[n.endedNonRecordedLive=2]="endedNonRecordedLive",l.prototype.refreshUI=function(){this.video.options&&this.video.options.autoGeneratedCaption?(this.gutterClass="gutter-caption-auto-generate",this.disableAutoGeneratedCaptionCheckbox=!1):this.captionTextTrack?(this.gutterClass="gutter-caption-file-uploaded",this.disableAutoGeneratedCaptionCheckbox=!0):(this.gutterClass="gutter-no-caption-file",-1<this.supportedLanguages.indexOf(this.video.language)?this.disableAutoGeneratedCaptionCheckbox=!1:this.disableAutoGeneratedCaptionCheckbox=!0),this.languageMatch({$match:!0}),this.refreshCaptionVisibilityToggle()},l.prototype.getTextTracks=function(e){var t=this;this.textTrackDataService.query().then((function(n){t.textTracks=n.data.value,t.getCaptionTextTrack(e),t.getSubtitleTextTracks(),1===t.subtitleTextTracks.length?t.subtitlesLabel=t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[0].track.language).name:2===t.subtitleTextTracks.length?t.subtitlesLabel=t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[0].track.language).name+", "+t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[1].track.language).name:2<t.subtitleTextTracks.length&&(t.subtitlesLabel=a.formatString(t.resources.Components.CaptionsAndSubtitles.SubtitlesLabel,t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[0].track.language).name+", "+t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[1].track.language).name,(t.subtitleTextTracks.length-2).toString())),t.refreshUI()}))},l.prototype.getCaptionTextTrack=function(e){var t=_.find(this.textTracks,(function(e){return e.type===o.Constants.TextTrackType.Caption}));t?(this.showCaptionDownloadLink=!0,this.captionUrl=t.url,t.autoGenerated?this.captionFileName=this.video.name+this.resources.AutoGeneratedCaptionFileNameSuffix:(t.language=e,this.captionTextTrack={videoId:this.video.id,track:t,type:o.Constants.TextTrackType.Caption},this.captionFileName=t.name)):this.captionTextTrack=null},l.prototype.getSubtitleTextTracks=function(){var e=this;this.subtitleTextTracks=_.map(_.filter(this.textTracks,(function(e){return e.type===o.Constants.TextTrackType.Subtitle})),(function(t){return{track:t,type:o.Constants.TextTrackType.Subtitle,videoId:e.video.id}}))},l.prototype.onDelete=function(e){var t=this;return this.textTrackDataService.delete(e.track.id).then((function(){t.featureTelemetryTracker.succeed(s.FeatureName.DeleteTextTrack),e.type===o.Constants.TextTrackType.Caption&&e.track.id===t.captionTextTrack.track.id?(t.captionTextTrack=null,t.languageMatch({$match:!0})):e.type===o.Constants.TextTrackType.Subtitle&&_.remove(t.subtitleTextTracks,(function(t){return t.track&&t.track.id===e.track.id}))}),(function(n){e.errorMessage=a.formatString(t.resources.TextTrackDeleteFailed,""),t.featureTelemetryTracker.setResourceId(e.track.id),t.featureTelemetryTracker.fail(s.FeatureName.DeleteTextTrack,s.SubFeatureName.TextTrackDataService_Delete,n)})).finally((function(){t.refreshUI()}))},l.prototype.launchUploadCaption=function(e){var t=this;this.accessibilityOptionsOpened(),this.uploadCaptionDialog.open(this.video.id,this.isInAdminMode,e,this.video.language).closePromise.then((function(e){e.value&&(e.value.trackUploaded&&t.textTrackUploaded(),e.value.trackDeleted&&t.textTrackDeleted(),!e.value.videoLanguage||t.video.language&&t.video.language==e.value.videoLanguage||(t.captionTextTrack||(t.captionTextTrack={type:o.Constants.TextTrackType.Caption,videoId:t.video.id,track:{name:"",language:e.value.videoLanguage,type:o.Constants.TextTrackType.Caption}}),t.video.language=e.value.videoLanguage)),t.getTextTracks(t.video.language)})).finally((function(){t.telemetryService.getTracker(t.navigation.getPageName()).tagScreen()}))},l.prototype.autoGenereateCaptionChanged=function(){var e;this.video.options.autoGeneratedCaption||(e=this.videoEditStateInfo.unsavedChanges||!1,this.autoGeneratedCaptionSyncedWithBE=!1,this.video.id!==o.Constants.preCreationVideoId&&(this.captionStatus=i.saving,this.$scope.$emit(o.Constants.Events.SaveVideoImmediately,{video:{id:this.video.id,options:{autoGeneratedCaption:!1}},type:o.Constants.EventData.DisableAutoGeneratedCaption,unsavedChanges:e}))),this.refreshCaptionVisibilityToggle()},l.prototype.onToggleVisibilityClicked=function(){this.video.options.allowTranscript=!this.video.options.allowTranscript,this.telemetryService.getTracker().trackEvent(s.TelemetryEventNames.toggleStateChanged,{videoId:this.video.id,contentSource:this.video.contentSource,currentState:this.video.options.allowTranscript,toggleType:"visibilityToggle"})},l.prototype.downloadCaption=function(){this.captionTextTrack,this.mediaDownloaderService.downloadFileWithRename(this.captionUrl,this.captionFileName)},Object.defineProperty(l.prototype,"isDisabledForLive",{get:function(){return this.lastDisableReason=void 0,!!c.isVideoLiveContent(this.video)&&(c.isVideoCompleted(this.video)?c.isNonRecordedLiveEvent(this.video)?this.lastDisableReason=r.endedNonRecordedLive:c.isVodlessLiveEvent(this.video)&&(this.lastDisableReason=r.endedNonViewableLive):this.lastDisableReason=r.notCompleteLive,void 0!==this.lastDisableReason)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"captionDisabledNoteString",{get:function(){switch(this.lastDisableReason){case r.endedNonRecordedLive:return this.resources.LiveCaptionsUploadDisabledNoteNonRecorded;case r.endedNonViewableLive:return this.resources.LiveCaptionsUploadDisabledNoteNonViewable;case r.notCompleteLive:default:return this.resources.LiveCaptionsUploadDisabledNoteNotComplete}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"subtitleDisabledNoteString",{get:function(){switch(this.lastDisableReason){case r.endedNonRecordedLive:return this.resources.LiveSubtitlesUploadDisabledNoteNonRecorded;case r.endedNonViewableLive:return this.resources.LiveSubtitlesUploadDisabledNoteNonViewable;case r.notCompleteLive:default:return this.resources.LiveSubtitlesUploadDisabledNoteNotComplete}},enumerable:!0,configurable:!0}),l.prototype.isCaptionVisibilityEnabled=function(){return angular.isDefined(this.video.options.allowTranscript)&&this.featureFlagsService.Values.EnableCaptionVisibilityToggle},l.prototype.refreshCaptionVisibilityToggle=function(){this.enableVisibilityToggle=this.video.options&&this.video.options.autoGeneratedCaption||this.subtitleTextTracks&&0!==this.subtitleTextTracks.length||null!=this.captionTextTrack},l.$inject=["$scope","resources","ngDialog","textTrackDataFactory","telemetryService","featureFlagsService","navigationService","textTrackLanguageService","videoService","mediaDownloaderService","uploadCaptionDialog"],n=l,t.CaptionsAndSubtitlesController=n},"./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./app/utility/appUtil.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts");function a(e,t,n,s,a,c,l,u,d,p,m){var A=this;this.$scope=e,this.resources=t,this.$window=n,this.$q=s,this.principalService=a,this.groupService=c,this.channelService=l,this.featureFlagsService=u,this.groupCreateDialog=d,this.createChannelDialog=p,this.$element=m,this.searchTypes=[],this.searchMinInput=1,this.principalSuggestions=[],this.groupSuggestions=[],this.channelSuggestions=[],this.pickerInputMaxLength=o.Constants.MaxLengths.PickerSearch,this.hideSearchType=!1,this.id="principal-group-search-"+r.generateGuid(),this.loading=!1,this.showList=!1,this.clearSearch=!0,this.featureFlagsService.Values.DefaultShareWithVideoDropDownOptionPeople?(this.searchTypes=[{value:i.AllPrincipals,text:this.resources.PrincipalGroupSearchSearchTypeUsers},{value:i.Channels,text:this.resources.PrincipalGroupSearchSearchTypeChannels},{value:i.MyGroupsWithChannels,text:this.resources.PrincipalGroupSearchSearchTypeGroups}],this.selectedSearchType=i.AllPrincipals):(this.searchTypes=[{value:i.MyGroupsWithChannels,text:this.resources.PrincipalGroupSearchSearchTypeGroups},{value:i.Channels,text:this.resources.PrincipalGroupSearchSearchTypeChannels},{value:i.AllPrincipals,text:this.resources.PrincipalGroupSearchSearchTypeUsers}],this.selectedSearchType=i.MyGroupsWithChannels);var h=function(e){e.target&&e.target.className&&"string"==typeof e.target.className&&-1===e.target.className.indexOf("principal-group-search-textbox")&&-1===e.target.className.indexOf("principal-group-search-button")&&-1===e.target.className.indexOf("principal-group-search-field")&&A.showResultList&&(A.clear(!1),A.$scope.$apply())}.bind(this),f=function(e){e.keyCode===o.Constants.KeyCodes.Esc&&A.searchParams.length&&(e.preventDefault(),A.clear(),A.$scope.$apply(),$(".principal-group-search-textbox",A.$element).first().focus())}.bind(this);n.document.body.addEventListener("click",h),m.on("keydown",f),e.$on("$destroy",(function(){n.document.body.removeEventListener("click",h),m.off("keydown",f),A.searchBoxElement.off("focusout"),A.searchResultsWrapperElement.off("focusout")})),e.$watch((function(){return A.searchTypeList}),(function(){A.searchTypeList&&A.searchTypeList.length&&(A.searchTypes=_.map(A.searchTypeList,(function(e){var t={value:e,text:""};switch(e){case i.AllPrincipals:t.text=A.resources.PrincipalGroupSearchSearchTypeUsers;break;case i.Channels:t.text=A.resources.PrincipalGroupSearchSearchTypeChannels;break;case i.MyGroupsWithChannels:t.text=A.resources.PrincipalGroupSearchSearchTypeGroups}return t})),1===A.searchTypes.length&&(A.hideSearchType=!0),A.selectedSearchType=A.searchTypes[0].value)})),this.featureFlagsService.Values.DisableAutoSearchForGroups||e.$watch((function(){return A.searchParams}),(function(e){A.doSearch(e)})),e.$watch((function(){return A.selectedSearchType}),(function(){A.clearSearch||(A.searchParams=A.currentlySelected?A.currentlySelected.name:A.searchParams),A.clear(A.clearSearch)})),this.onInit&&this.onInit({principalGroupSearchControllerClear:this.clear}),setTimeout((function(){A.hideLabel&&A.idOverride&&(A.id=A.idOverride)}),0),this.searchResultsWrapperElement=this.$element.find(".search-results-wrapper").first(),this.searchResultsWrapperElement.focusout((function(e){A.checkFocus(e)})),this.featureFlagsService.Values.DisableAutoSearchForGroups?(this.searchFieldElement=this.$element.find(".principal-group-search-field").first(),this.searchFieldElement.focusout((function(e){A.checkFocus(e)}))):(this.searchBoxElement=this.$element.find(".principal-group-search-textbox").first(),this.searchBoxElement.focusout((function(e){A.checkFocus(e)})))}(n=i=t.PrincipalSearchType||(t.PrincipalSearchType={}))[n.AllPrincipals=0]="AllPrincipals",n[n.MyGroupsWithChannels=1]="MyGroupsWithChannels",n[n.MyGroups=2]="MyGroups",n[n.Channels=3]="Channels",n[n.PrincipalUsers=4]="PrincipalUsers",a.prototype.infiniteScroll=function(e){var t=this,n=[o.Constants.PrincipalType.User];switch(void 0!==this.includeSecurityGroup&&!this.includeSecurityGroup||n.push(o.Constants.PrincipalType.SecurityGroup),this.selectedSearchType){case i.AllPrincipals:return this.principalSearched(),this.principalService.searchPrincipals(this.searchParams,o.Constants.MaxLengths.PrincipleSearchOutput).then((function(e){return t.selectedSearchType===i.AllPrincipals&&t.IsValidSearchParams(t.searchParams,e.config.url)&&(t.principalSuggestions=e.data.value,t.infoMessage=t.principalSuggestions.length<=0?t.resources.PrincipalGroupSearchNoUersOrGroups:"",t.principalSuggestions.length&&t.alertSuggestionsStringWithNumber(t.principalSuggestions.length)),t.loading=!1,t.$q.resolve(-1)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.AllPrincipals,e)}));case i.PrincipalUsers:return this.principalSearched(),this.principalService.searchPrincipals(this.searchParams,o.Constants.MaxLengths.PrincipleSearchOutput,0,!1,n).then((function(e){return t.selectedSearchType===i.PrincipalUsers&&t.IsValidSearchParams(t.searchParams,e.config.url)&&(t.principalSuggestions=e.data.value,t.infoMessage=t.principalSuggestions.length<=0?s.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.Person):"",t.principalSuggestions.length&&t.alertSuggestionsStringWithNumber(t.principalSuggestions.length)),t.loading=!1,t.$q.resolve(-1)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.PrincipalUsers,e)}));case i.MyGroupsWithChannels:if(this.groupSearched(),this.isGroupSearchDisabled())return this.errorMessage=this.resources.PrincipalGroupSearchFailedSearch,this.defaultErrorAction(i.MyGroups,this.errorMessage);var r=this.isFetchMoreGroupsEnabled?o.Constants.MaxLengths.GroupSearchOutput:e.top;return this.groupService.query(this.searchParams,o.Constants.ChannelsSortOptions.Relevance,o.Constants.SortDirection.Descending,e.skip,r,!0,!0).then((function(n){if(t.selectedSearchType!==i.MyGroupsWithChannels||!t.IsValidSearchParams(t.searchParams,n.config.url))return t.loading=!1,t.$q.resolve(-1);var r=n.data.value.length;return t.groupSuggestions=t.groupSuggestions.concat(n.data.value),t.infoMessage=t.groupSuggestions.length<=0?s.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.ResourceType.Group.LowerSingular):"",t.groupSuggestions.length&&t.alertSuggestionsStringWithNumber(t.groupSuggestions.length),t.loading=!1,r<e.top?t.$q.resolve(-1):t.$q.resolve(r)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.MyGroupsWithChannels,e)}));case i.Channels:return this.channelSearched(),this.channelService.query(e.top,e.skip,o.Constants.ChannelsSortOptions.Relevance,o.Constants.SortDirection.Ascending,this.searchParams,!0,this.isPrivateVideo,!0).then((function(n){if(t.selectedSearchType!==i.Channels||!t.IsValidSearchParams(t.searchParams,n.config.url))return t.loading=!1,t.$q.resolve(-1);var r=n.data.value.length;return t.channelSuggestions=t.channelSuggestions.concat(n.data.value),t.infoMessage=t.channelSuggestions.length<=0?s.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.ResourceType.Channel.LowerSingular):"",t.channelSuggestions.length&&t.alertSuggestionsStringWithNumber(t.channelSuggestions.length),t.loading=!1,r<e.top?t.$q.resolve(-1):t.$q.resolve(r)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.Channels,e)}));case i.MyGroups:return this.groupSearched(),this.isGroupSearchDisabled()?(this.errorMessage=this.resources.PrincipalGroupSearchFailedSearch,this.defaultErrorAction(i.MyGroups,this.errorMessage)):(r=this.isFetchMoreGroupsEnabled?o.Constants.MaxLengths.GroupSearchOutput:e.top,this.groupService.query(this.searchParams,o.Constants.ChannelsSortOptions.Relevance,o.Constants.SortDirection.Descending,e.skip,r,!0,!1).then((function(n){if(t.selectedSearchType!==i.MyGroups||!t.IsValidSearchParams(t.searchParams,n.config.url))return t.loading=!1,t.$q.resolve(-1);var r=n.data.value.length;return t.groupSuggestions=t.groupSuggestions.concat(n.data.value),t.infoMessage=t.groupSuggestions.length<=0?s.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.ResourceType.Group.LowerSingular):"",t.groupSuggestions.length&&t.alertSuggestionsStringWithNumber(t.groupSuggestions.length),t.loading=!1,r<e.top?t.$q.resolve(-1):t.$q.resolve(r)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.MyGroups,e)})))}return this.$q.reject()},a.prototype.defaultErrorAction=function(e,t){return this.selectedSearchType===e&&this.IsValidSearchParams(this.searchParams,t.config.url)?(this.loading=!1,this.$q.reject(t)):(this.loading=!1,this.$q.reject())},a.prototype.checkFocus=function(e){var t=this;(e=e&&e.relatedTarget)&&!this.searchBoxElement.is(e)&&1!==this.searchResultsWrapperElement.find(e).length&&this.$scope.$applyAsync((function(){t.clear(!1)}))},a.prototype.selectChannel=function(e,t){var n=this;this.clear(),this.channelSelected({channel:e||{id:t.id,isDefault:!0},group:t}),setTimeout((function(){return n.$element.find(".search-row input").focus()}))},a.prototype.selectPrincipal=function(e){var t=this;this.currentlySelected=e,this.clear(this.clearSearch),this.principalSelected({principal:e}),setTimeout((function(){return t.$element.find(".search-row input").focus()}))},Object.defineProperty(a.prototype,"allSuggestionsLength",{get:function(){return $(".search-results",this.$element).children().length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"placeHolderText",{get:function(){if(!_.isEmpty(this.placeHolderTextOverride))return this.placeHolderTextOverride;switch(this.selectedSearchType){case i.MyGroupsWithChannels:case i.MyGroups:return this.resources.GroupSearchPlaceHolderText;case i.Channels:return s.formatString(this.resources.PrincipalGroupSearchPlaceHolderText,this.resources.ChannelsLowerCase);case i.PrincipalUsers:return s.formatString(this.resources.PrincipalGroupSearchPlaceHolderText,this.resources.Users);case i.AllPrincipals:return s.formatString(this.resources.PrincipalGroupSearchPlaceHolderText,this.resources.PrincipalGroupSearchSearchTypeUsers);default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dropDownAriaLabel",{get:function(){return this.labelId?this.resources.PrincipalGroupSearchDropdownAriaLabel+this.labelId:this.resources.PrincipalGroupSearchDropdownAriaLabel},enumerable:!0,configurable:!0}),a.prototype.createGroup=function(){var e=this;this.groupCreateDialog.open(null,this.searchParams).closePromise.then((function(t){t&&t.value&&t.value.group&&(t=t.value.group,e.channelSelected({channel:{id:t.id,isDefault:!0},group:t}))}))},a.prototype.createChannel=function(e){var t=this;this.createChannelDialog.open(this.searchParams,e).closePromise.then((function(e){e&&e.value&&e.value.channel&&t.channelSelected({channel:e.value.channel,group:e.value.channel.group})}))},a.prototype.displayedName=function(e){return e.name||e.mail},a.prototype.clear=function(e){void 0===e&&(e=!0),e&&(this.searchParams=""),this.loading=!1,this.showList=!1,this.errorMessage="",this.infoMessage="",this.principalSuggestions=[],this.groupSuggestions=[],this.channelSuggestions=[]},Object.defineProperty(a.prototype,"inputTimeInterval",{get:function(){return this.featureFlagsService.Values.IncreaseGroupSearchInputTimeInterval?1e3:o.Constants.DropdownList.InputTimeInterval},enumerable:!0,configurable:!0}),a.prototype.isPrivateGroup=function(e){return e.privacyMode===o.Constants.privacyMode.private},a.prototype.canCreateGroup=function(){return!this.hideCreate&&this.me&&this.me.permissions.canCreateGroup},a.prototype.canCreateChannel=function(e){return!this.hideCreate&&this.me&&this.me.permissions.canCreateChannel&&(!e||e.userData.permissions.canManageChannels)},Object.defineProperty(a.prototype,"isGroupSelected",{get:function(){return this.selectedSearchType===i.MyGroups||this.selectedSearchType===i.MyGroupsWithChannels},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isChannelSelected",{get:function(){return this.selectedSearchType===i.Channels},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isPrincipalSelected",{get:function(){return this.selectedSearchType===i.PrincipalUsers||this.selectedSearchType===i.AllPrincipals},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"showResultList",{get:function(){var e=!0;return this.isGroupSelected&&void 0!==this.me&&void 0!==this.me.permissions?e=!e||void 0===this.me.permissions.canCreateGroup||this.me.permissions.canCreateGroup:this.isChannelSelected&&void 0!==this.me&&void 0!==this.me.permissions&&(e=!e||void 0===this.me.permissions.canCreateChannel||this.me.permissions.canCreateChannel),(this.showList&&e||this.loading||""!==this.infoMessage||0<this.groupSuggestions.length||0<this.channelSuggestions.length||0<this.principalSuggestions.length)&&""===this.errorMessage},enumerable:!0,configurable:!0}),a.prototype.showResults=function(){null!=this.$element.attr("label-id")&&$("input",this.$element).attr("aria-labelledby",this.$element.attr("label-id")+" principalGroupSearchPlaceholderText"),this.selectedSearchType!==i.MyGroups&&this.selectedSearchType!==i.MyGroupsWithChannels&&this.selectedSearchType!==i.Channels||this.hideCreate||(this.showList=!0)},Object.defineProperty(a.prototype,"loadingMessage",{get:function(){switch(this.selectedSearchType){case i.MyGroupsWithChannels:case i.MyGroups:return s.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Group.LowerPlural);case i.Channels:return s.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Channel.LowerPlural);case i.PrincipalUsers:case i.AllPrincipals:return s.formatString(this.resources.LoadingSearchResults,this.resources.Users);default:return""}},enumerable:!0,configurable:!0}),a.prototype.getGroupSuggestionAriaLabel=function(e){return s.formatString(this.resources.PrincipalGroupSearchGroupSuggestionAriaLabel,e)},a.prototype.getChannelSuggestionAriaLabel=function(e){return s.formatString(this.resources.PrincipalGroupSearchChannelSuggestionAriaLabel,e)},a.prototype.getUserSuggestionAriaLabel=function(e){return s.formatString(this.resources.PrincipalGroupSearchUserSuggestionAriaLabel,this.displayedName(e))},a.prototype.IsValidSearchParams=function(e,t){return this.isNewUserSearchRegex()?e.replace(/'/g,"")===this.getSearchStringFromUrl(t):e===this.getSearchStringFromUrl(t)},a.prototype.getSearchStringFromUrl=function(e){var t;return this.isNewUserSearchRegex()?(t=/.*startswith\(name,[',"]([^\)]*)[',"]\).*/i.exec(e))&&2<=t.length?decodeURIComponent(t[1].replace(/'/g,"")):"":(t=/.*startswith\(name,[',"]([^'"]*)[',"]\).*/i.exec(e))&&2<=t.length?decodeURIComponent(t[1]):""},a.prototype.alertSuggestionsStringWithNumber=function(e){r.alertScreenReader(s.formatString(this.resources.SuggestionsReminderLabelWithNumber,e.toString()))},a.prototype.isGroupSearchDisabled=function(){return this.featureFlagsService.Values.DisableGroupSearch},Object.defineProperty(a.prototype,"isFetchMoreGroupsEnabled",{get:function(){return this.featureFlagsService.Values.FetchMoreGroups},enumerable:!0,configurable:!0}),a.prototype.isNewUserSearchRegex=function(){return this.featureFlagsService.Values.NewUserSearchRegex},a.prototype.doSearch=function(e){this.clear(!1),e&&e.length>=this.searchMinInput&&(this.infiniteScrollRefresh=!0,this.loading=!0),this.onSearchChanges&&this.onSearchChanges()},Object.defineProperty(a.prototype,"isAutoSearchDisabled",{get:function(){return this.featureFlagsService.Values.DisableAutoSearchForGroups},enumerable:!0,configurable:!0}),a.$inject=["$scope","resources","$window","$q","principalService","groupService","channelService","featureFlagsService","groupCreateDialog","createChannelDialog","$element"],n=a,t.PrincipalGroupSearchController=n},"./app/components/Upload/UploadDetail/UploadDetailController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),s=n("./app/utility/Constants.ts"),a=n("./app/services/VideoBgUploaderService.ts"),c=n("./app/utility/string.ts"),l=n("./app/utility/appUtil.ts"),u=n("./app/utility/ServicePlanUtils.ts"),d=n("./app/utility/UserNotificationUtils.ts"),p=n("./app/utility/ComponentBase.ts"),m=n("./app/models/TelemetryEventModels.ts");t.uploadSummaryProperties={source:s.Constants.videoUploadSource.browser,titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",fileExtension:"",error:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1,contentSource:this.video?this.video.contentSource:null,uploadSessionId:""},t.uploadSummaryMetrics={msUntilThumbnailGenerated:0,msUntilUploadComplete:0,fileSize:0,permissionsTotalPermission:0,permissionsTotalPrivateChannels:0,permissionsTotalPublicChannels:0,permissionsChannelsAdded:0,permissionsGroupsAdded:0,permissionsPrincipalsAdded:0};var A;r(h,A=p.ComponentBase),Object.defineProperty(h.prototype,"isUploadNotStarted",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.creating||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.created},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isUploading",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.uploading},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isProcessing",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.processing},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isFailed",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.failedUpload||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.failedProcessing||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.unSupportedType||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.exceededFileSize||this.storageLimitExceeded},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isNotSupported",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.unSupportedType},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isFileSizeExceeded",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.exceededFileSize},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isCompleted",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.completed},enumerable:!0,configurable:!0}),h.prototype.openShare=function(){this.videoShareDialog.open(this.video)},h.prototype.gotoVideo=function(){this.navigationService.navigate(c.formatString(s.Constants.Routes.Video,this.video.id),{list:s.Constants.lists.Studio})},h.prototype.goToSupportedFormats=function(){this.$window.open(l.generateFwLink(s.Constants.ExternalLinkIds.SupportedFormats))},Object.defineProperty(h.prototype,"isDeleteButtonEnabled",{get:function(){return!this.isUploading&&(!this.isFailed||this.isFailed&&!this.isNotSupported&&!this.isFileSizeExceeded)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isCancelButtonEnabled",{get:function(){return this.isUploading||this.isNotSupported||this.isFileSizeExceeded},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"uploadProgressMessage",{get:function(){return this.isUploadNotStarted?this.resources.ProgressDetail2UploadQueued:this.isUploading?this.resources.ProgressDetail2Uploading+" "+this.progressPercentage:this.isProcessing?this.resources.ProgressDetail2Processing+" "+this.progressPercentage:c.formatString(this.resources.ProgressDetail2ProcessingComplete,this.fileInfo.file.name)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"publishedMessage",{get:function(){return this.isProcessing?this.resources.ProgressDetail2Processing:this.resources.ProgressDetail2PublishedProcessed},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"failedMessageShort",{get:function(){return c.formatString(this.resources.ProgressDetail2UploadFailed,this.fileInfo.file.name)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"progressPercentage",{get:function(){return this.isUploading&&!isNaN(this.fileInfo.editStateInfo.uploadProgress)?this.fileInfo.editStateInfo.uploadProgress+"%":this.isProcessing&&!isNaN(this.fileInfo.editStateInfo.processProgress)?this.fileInfo.editStateInfo.processProgress+"%":""},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"uploadDetailSectionAriaLabel",{get:function(){return c.formatString(this.resources.UploadDetailSectionAriaLabel,this.fileInfo.file.name)},enumerable:!0,configurable:!0}),h.prototype.cancelUpload=function(){var e=this;return this.video?this.cancelUploadDialogShow().then((function(){e.videoBgUploaderService.cancelBgUpload(e.video.id),e.videoService.delete(e.video.id).then((function(){e.featureTelemetryTracker.succeed(m.FeatureName.DeleteVideo)}),(function(t){e.handleAndDisplayError(m.SubFeatureName.VideoService_DeleteVideo,t)}))})):(this.onRemove(),this.$q.resolve())},h.prototype.cancelUploadDialogShow=function(){var e={title:this.resources.UploadCancelTitle,message:c.formatString(this.resources.UploadCancelMessage,this.fileInfo.file.name),confirmButtonLabel:this.resources.Yes,cancelButtonLabel:this.resources.No};return this.confirmationDialogService.show(e)},h.prototype.deleteVideo=function(){var e=this;return this.deleteConfirmationDialogService.show(this.resources.ResourceType.Video.LowerSingular,this.fileInfo.file.name,!1,this.video.id,!1).then((function(){e.videoService.delete(e.video.id).then((function(){e.featureTelemetryTracker.succeed(m.FeatureName.DeleteVideo)}),(function(t){e.handleAndDisplayError(m.SubFeatureName.VideoService_DeleteVideo,t)}))}),(function(){}))},h.prototype.onPublishSuccess=function(){this.uploadSummaryProperties.published=!0,this.fileInfo.editStateInfo.published=!0,this.fileInfo.editStateInfo.collapseAccordion=!0},h.prototype.startUploadProcess=function(){var e=this;if(!this.fileInfo.file.name)return this.failedMessage=this.resources.ProgressDetailBlobNotSupported,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.unSupportedType,this.fileInfo.editStateInfo.collapseAccordion=!0,this.$q.reject(this.failedMessage);var t=u.ServicePlanUtils.isUserOnTrialPlan(this.me,!0);if(this.featureFlagsService.Values.DataUsageNotifications&&_.isArray(this.dataShareService.notifications)&&!t&&(this.storageLimitExceeded=!_.isNull(d.getNotificationByType(this.dataShareService.notifications,d.UserNotificationType.StorageUsageOverLimit)),this.storageLimitExceeded))return this.failedMessage=this.resources.UploadStorageLimitExceededMessage,this.fileInfo.editStateInfo.collapseAccordion=!0,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedUpload,this.$q.reject(this.failedMessage);var n=this.fileInfo.file.name.split(".").pop();return this.uploadSummaryProperties.fileExtension=n,this.uploadSummaryMetrics.fileSize=this.fileInfo.file.size,this.uploadSummaryProperties.uploadSessionId=o.createGuid(),this.getSupportedTypes().finally((function(){var i=_.find(e.supportedTypes||[],(function(e){return e.toLocaleLowerCase()==="."+n.toLocaleLowerCase()}));if(e.supportedTypes&&!i)return e.failedMessage=c.formatString(e.resources.ProgressDetailTypeNotSupported,e.fileInfo.file.name),e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.unSupportedType,e.fileInfo.editStateInfo.collapseAccordion=!0,e.$q.reject(e.failedMessage);if(e.featureFlagsService.Values.TrialExperience&&(t&&e.fileInfo.file.size>s.Constants.VideoSizeLimits.trail||!t&&e.fileInfo.file.size>s.Constants.VideoSizeLimits.other))return e.failedMessage=t?e.resources.ProgressDetailFileSizeExceededTrialPlan:e.resources.ProgressDetailFileSizeExceededNonTrialPlan,e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.exceededFileSize,e.fileInfo.editStateInfo.collapseAccordion=!0,e.$q.reject(e.failedMessage);e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.creating;var r={name:e.fileInfo.file.name.replace(/.[^.]+$/,"").substring(0,s.Constants.MaxLengths.VideoTitle-1),privacyMode:e.fileInfo.group?e.fileInfo.group.isDefault?s.Constants.privacyMode.organization:s.Constants.privacyMode.private:e.featureFlagsService.Values.DefaultPrivacyModeTenantSetting&&e.defaultPrivacy||s.Constants.privacyMode.organization};(i=e.$location.search())&&i[s.Constants.QueryStringKeys.OverrideContentType]&&(r.contentType=i[s.Constants.QueryStringKeys.OverrideContentType]);var o={};return e.fileInfo.language?(r.language=e.fileInfo.language,e.featureFlagsService.Values.GenerateNonEnglishAutoTranscript?e.videoService.getSupportedAutoTranscriptLanguages().then((function(t){-1<t.data.languages.indexOf(e.fileInfo.language)&&(o.autoGeneratedCaption=e.setOptionToTrueSpyon())})).finally((function(){return e.videoServiceCreation(r,o)})):(-1<["en","es"].indexOf(e.fileInfo.language)&&(o.autoGeneratedCaption=e.setOptionToTrueSpyon()),e.videoServiceCreation(r,o))):e.videoServiceCreation(r,o)}))},h.prototype.setOptionToTrueSpyon=function(){return!0},h.prototype.videoServiceCreation=function(e,t){var n=this;return"{}"!==JSON.stringify(t)&&(e.options=t),this.videoService.create(e).then((function(e){return n.fileInfo.editStateInfo.videoState=s.Constants.VideoState.created,n.video=e.data,n.formName="form"+n.video.id.replace(/-/g,""),n.uploadSummaryProperties.videoId=n.video.id,n.featureTelemetryTracker.setResourceId(n.video?n.video.id:null),n.savedVideo=angular.copy(e.data),n.fileInfo.channel&&(n.permissionList=n.permissionList||[],n.permissionList.push({id:n.fileInfo.group.id,name:n.fileInfo.group.isDefault?n.resources.VideoPermissionsGroupNameForMyOrgChannels:n.fileInfo.group.name,isPrivate:n.fileInfo.group.privacyMode===s.Constants.privacyMode.private,isSystemGroup:n.fileInfo.group.isDefault,isOwner:!0,showRole:!n.fileInfo.group.isDefault,showVideoAdded:!n.fileInfo.group.isDefault,videoAdded:!0,userType:s.Constants.PrincipalType.StreamGroup,channels:[{id:n.fileInfo.channel.id,name:n.fileInfo.channel.name}]}),n.$timeout((function(){n.$scope.$broadcast(s.Constants.Events.SaveVideoImmediately)}),0)),n.upload()})).catch((function(e){n.handleAndDisplayError(m.SubFeatureName.VideoService_Create,e)}))},h.prototype.upload=function(){var e=this;return this.videoBgUploaderService.startBgUpload(this.video.id,this.fileInfo.file,this.fileInfo.uploadPriority,void 0,void 0,void 0,void 0,this.uploadSummaryProperties).then((function(){e.isDestroyed||(e.fileInfo.editStateInfo.uploadProgress=100,e.fileInfo.editStateInfo.processProgress=0,l.alertScreenReader(c.formatString(e.resources.UploadCompleteAlertMessage,e.fileInfo.file.name)),e.$scope.$emit(s.Constants.Events.UploadProgress,e.fileInfo.editStateInfo.uploadProgress),e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.processing,e.uploadSummaryMetrics.msUntilUploadComplete=Date.now()-e.startTime,e.refreshStatusAfterNotificationIntervalPromise=e.$interval((function(){e.pollMedia()}),s.Constants.VideoStatusNotificationTimeout,1))}),(function(t){var n;e.isDestroyed||(n=m.SubFeatureName.MediaUploaderService_Upload,t.api===s.Constants.VideoActions.CompleteUpload?n=m.SubFeatureName.VideoService_CompleteUpload:t.api===s.Constants.VideoActions.StartUpload&&(n=m.SubFeatureName.VideoService_StartUpload),e.handleAndDisplayError(n,t,!1),e.$q.reject(t))}),(function(t){e.isDestroyed||(t.type===a.UploadNotificationType.UploadStarted?e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.uploading:t.type===a.UploadNotificationType.UploadProgress&&(e.fileInfo.editStateInfo.uploadProgress=Number(t.progress),e.$scope.$emit(s.Constants.Events.UploadProgress,e.fileInfo.editStateInfo.uploadProgress)))}))},h.prototype.pollMedia=function(e){var t=this;void 0===e&&(e=!1),this.featureTelemetryTracker.trackEvent(e?m.TelemetryEventNames.StatusCalledBecauseOfNotification:m.TelemetryEventNames.StatusCalledBecauseOfTimer,{id:this.video.id}),this.videoService.getVideoStatus(this.video.id).then((function(e){e=e.data,_.forEach(e.processingStatus,(function(e){e&&(e.type.trim().toLowerCase()===s.Constants.VideoProcessingStatusType.thumbnail.toLowerCase()?e.state.trim().toLowerCase()===s.Constants.VideoStatus.Completed.toLowerCase()&&(t.fileInfo.editStateInfo.thumbnailsReady||(l.alertScreenReader(c.formatString(t.resources.ThumbnailsReadyAlertMessage,t.fileInfo.file.name)),t.fileInfo.editStateInfo.thumbnailsReady=!0)):e.type.trim().toLowerCase()===s.Constants.VideoProcessingStatusType.encoding.toLowerCase()&&(t.fileInfo.editStateInfo.processProgress=e.progress,e.state.trim().toLowerCase()===s.Constants.VideoStatus.Completed.toLowerCase()?(t.fileInfo.editStateInfo.videoState=s.Constants.VideoState.completed,clearInterval(t.refreshTimerId)):e.state.trim().toLowerCase()===s.Constants.VideoStatus.Error.toLowerCase()&&(t.handleAndDisplayError(m.SubFeatureName.ProcessingVideo,e.error.message,!1),clearInterval(t.refreshTimerId))))})),t.fileInfo.editStateInfo.thumbnailsReady&&!t.uploadSummaryMetrics.msUntilThumbnailGenerated&&(t.uploadSummaryMetrics.msUntilThumbnailGenerated=Date.now()-t.startTime)}),(function(e){t.sendFeatureEvent(m.SubFeatureName.VideoService_GetVideoStatus,e)})).finally((function(){t.refreshStatusAfterNotificationIntervalPromise&&(t.$interval.cancel(t.refreshStatusAfterNotificationIntervalPromise),t.fileInfo.editStateInfo.videoState.toLowerCase()===s.Constants.VideoStatus.Processing.toLowerCase()&&(t.refreshStatusAfterNotificationIntervalPromise=t.$interval((function(){t.pollMedia()}),s.Constants.VideoStatusNotificationTimeout,1)))}))},h.prototype.getSupportedTypes=function(){var e=this,t=this.$q.defer();return this.supportedTypes?(t.resolve(),t.promise):this.videoService.getSupportedExtensions().then((function(t){e.supportedTypes=t.data.extensions}),(function(t){e.sendFeatureEvent(m.SubFeatureName.VideoService_GetSupportedExtensions,t)})).finally((function(){t.resolve()}))},h.prototype.sendTelemetryEvents=function(){this.telemetrySummarySent||(this.featureTelemetryTracker.trackEvent(m.TelemetryEventNames.uploadSummaryEventName,this.uploadSummaryProperties,this.uploadSummaryMetrics),this.telemetrySummarySent=!0)},h.prototype.sendFeatureEvent=function(e,t){var n,i=!1;switch(e){case m.SubFeatureName.VideoService_Create:t&&t.data&&t.data.error&&(i=t.data.error.code.toLowerCase()===s.Constants.ApiErrorCodes.QuotaExceeded.toLowerCase());case m.SubFeatureName.VideoService_StartUpload:case m.SubFeatureName.MediaUploaderService_Upload:case m.SubFeatureName.VideoService_CompleteUpload:n=m.FeatureName.UploadVideo;break;case m.SubFeatureName.VideoService_DeleteVideo:n=m.FeatureName.DeleteVideo;break;case m.SubFeatureName.VideoService_GetSupportedExtensions:n=m.FeatureName.GetSupportedExtensions;break;case m.SubFeatureName.VideoService_GetVideoStatus:n=m.FeatureName.GetVideoStatus;break;default:n=m.FeatureName.NotApplicable}this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),i?this.featureTelemetryTracker.warn(n,e,t):this.featureTelemetryTracker.fail(n,e,t)},h.prototype.handleAndDisplayError=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!0);var r="";switch(e){case m.SubFeatureName.VideoService_DeleteVideo:r=this.resources.VideoDeleteFailed,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedProcessing,this.fileInfo.editStateInfo.collapseAccordion=!0;break;case m.SubFeatureName.VideoService_Create:case m.SubFeatureName.VideoService_CompleteUpload:case m.SubFeatureName.MediaUploaderService_Upload:case m.SubFeatureName.VideoService_StartUpload:r=c.formatString(this.resources.ProgressDetailUploadFailed,this.fileInfo.file.name),this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedUpload,this.fileInfo.editStateInfo.collapseAccordion=!0;break;case m.SubFeatureName.ProcessingVideo:r=t,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedProcessing,this.fileInfo.editStateInfo.collapseAccordion=!0;break;default:r=this.resources.UploadMetadataSaveFailed}var o=this.handleBackendErrorMessage(e,t);this.failedMessage=i&&o?r+". "+o:r+". "+this.resources.DeleteAndTryLater+".",n&&this.sendFeatureEvent(e,t)},h.prototype.handleBackendErrorMessage=function(e,t){var n="";return t&&t.status&&!isNaN(t.status)&&t.status<500&&t.data&&t.data.error&&t.data.error.message&&(n=t.data.error.message),n},Object.defineProperty(h.prototype,"uploadProgessBarAriaLabel",{get:function(){return c.formatString(this.resources.UploadProgressAriaLabel,this.fileInfo.file.name,this.progressPercentage)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"processProgessBarAriaLabel",{get:function(){return c.formatString(this.resources.VideoProcessingProgressAriaLabel,this.fileInfo.file.name,this.progressPercentage)},enumerable:!0,configurable:!0}),h.$inject=["$scope","$q","resources","videoService","videoBgUploaderService","confirmationDialogService","deleteConfirmationDialogService","telemetryService","featureFlagsService","videoShareDialog","navigationService","dataShareService","$window","$timeout","$interval","$location"],h.Events={UploadDetailsPublishAndSave:"uploadDetailsPublishAndSave"},r=h;function h(e,n,i,r,o,a,c,l,u,d,p,f,g,v,y,S){var b=A.call(this,h)||this;b.$scope=e,b.$q=n,b.resources=i,b.videoService=r,b.videoBgUploaderService=o,b.confirmationDialogService=a,b.deleteConfirmationDialogService=c,b.telemetryService=l,b.featureFlagsService=u,b.videoShareDialog=d,b.navigationService=p,b.dataShareService=f,b.$window=g,b.$timeout=v,b.$interval=y,b.$location=S,b.debounceOptions={debounce:300},b.videoTitleMaxLength=s.Constants.MaxLengths.VideoTitle,b.videoDescriptionMaxLength=s.Constants.MaxLengths.VideoDescription,b.refreshTimerId=-1,b.uploadSummaryProperties=angular.copy(t.uploadSummaryProperties),b.uploadSummaryMetrics=angular.copy(t.uploadSummaryMetrics),b.telemetrySummarySent=!1,b.isDestroyed=!1,b.storageLimitExceeded=!1,b.startTime=Date.now(),b.fileInfo&&b.startUploadProcess();var C=b.sendTelemetryEvents.bind(b);return b.$window.addEventListener("beforeunload",C),e.$on("$destroy",(function(){-1!==b.refreshTimerId&&clearInterval(b.refreshTimerId),b.refreshStatusAfterNotificationIntervalPromise&&b.$interval.cancel(b.refreshStatusAfterNotificationIntervalPromise),b.isDestroyed=!0,b.sendTelemetryEvents(),b.$window.removeEventListener("beforeunload",C)})),e.$on(s.Constants.Events.videoDeleted,(function(e,t){e.preventDefault(),b.isDestroyed||b.video.id!==t.id||b.onRemove()})),e.$on(s.Constants.Events.Notification_VideoStatus,(function(e,t){b.video&&t.id===b.video.id&&b.pollMedia(!0)})),b.featureTelemetryTracker=b.telemetryService.getTracker(m.ScreenName.Upload),b}t.UploadDetailController=r},"./app/components/Upload/UploadVideo/UploadVideoController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Upload/UploadDetail/UploadDetailController.ts"),c=n("./app/utility/string.ts"),l=n("./app/utility/Constants.ts"),u=n("./app/utility/ComponentBase.ts"),d=n("./app/models/TelemetryEventModels.ts");r(p,o=u.ComponentBase),Object.defineProperty(p.prototype,"publishButtonDisabled",{get:function(){return this.publishingFiles||this.anyFilesInUpload||this.allVideosPublished},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"shouldLowerPageForBanner",{get:function(){return this.notificationsPresent&&!this.isReactBannerEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isCopyrightBannerVisible",{get:function(){return!this.filesToUpload||this.filesToUpload.length<1},enumerable:!0,configurable:!0}),p.prototype.onBrowseFileClicked=function(){this.fileSelectedToUpload=!0},p.prototype.onLoadCompanyPolicy=function(e){this.companyPolicyAddress=e},p.prototype.publishAll=function(){var e=this;function t(){e.allVideosPublished&&(e.$interval.cancel(n),e.publishingFiles=!1)}this.uploadSessionProperties.publishAllClicked=!0;var n=null;this.publishingFiles=!0,0<this.filesToUpload.length&&this.$scope.$broadcast(a.UploadDetailController.Events.UploadDetailsPublishAndSave),t.bind(this)(),this.publishingFiles&&(n=this.$interval(t.bind(this),100))},Object.defineProperty(p.prototype,"overAllUploadSummary",{get:function(){return 1===this.filesCurrentlyInUploadingstate.length?this.resources.UploadOverAllUploadingSummarySingular:1<this.filesCurrentlyInUploadingstate.length?c.formatString(this.resources.UploadOverAllUploadingSummaryPlural,this.filesCurrentlyInUploadingstate.length.toString()):1===this.filesNotFailed.length?this.resources.UploadOverAllUploadSummarySingular:c.formatString(this.resources.UploadOverAllUploadSummaryPlural,this.filesNotFailed.length.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"anyFilesInUpload",{get:function(){return _.some(this.filesToUpload,(function(e){return e.editStateInfo.videoState===l.Constants.VideoState.creating||e.editStateInfo.videoState===l.Constants.VideoState.created||e.editStateInfo.videoState===l.Constants.VideoState.uploading}))},enumerable:!0,configurable:!0}),p.prototype.goToMyVideos=function(){this.navigationService.navigate(l.Constants.Routes.Studio)},p.prototype.startObserveFocusArea=function(){var e=document.querySelector(".upload-container");e&&this.observer.observe(e,{subtree:!0,childList:!0})},Object.defineProperty(p.prototype,"filesCurrentlyInUploadingstate",{get:function(){return _.filter(this.filesToUpload,(function(e){return e.editStateInfo.videoState===l.Constants.VideoState.uploading||e.editStateInfo.videoState===l.Constants.VideoState.creating||e.editStateInfo.videoState===l.Constants.VideoState.created}))},enumerable:!0,configurable:!0}),p.prototype.uploadFiles=function(e){var t=this;e.forEach((function(e){e={file:e,editStateInfo:{videoState:l.Constants.VideoState.creating,uploadProgress:0,newlyUploadedItem:!0},language:t.defaultLanguage,uploadPriority:t.currentUploadWeight},t.currentUploadWeight++,t.defaultChannel&&(e.channel=t.defaultChannel,e.group=t.defaultGroup),t.filesToUpload.push(e)}))},Object.defineProperty(p.prototype,"filesNotFailed",{get:function(){return _.filter(this.filesToUpload,(function(e){return e.editStateInfo.videoState!==l.Constants.VideoState.failedUpload&&e.editStateInfo.videoState!==l.Constants.VideoState.failedProcessing&&e.editStateInfo.videoState!==l.Constants.VideoState.error&&e.editStateInfo.videoState!==l.Constants.VideoState.unSupportedType&&e.editStateInfo.videoState!==l.Constants.VideoState.exceededFileSize}))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"allVideosPublished",{get:function(){return _.every(this.filesNotFailed,(function(e){return!e.editStateInfo.unsavedChanges&&e.editStateInfo.published}))},enumerable:!0,configurable:!0}),p.prototype.sendTelemetryEvents=function(){this.uploadSessionProperties&&this.uploadSessionMetrics&&(this.telemetryService.getTracker(d.ScreenName.Upload).trackEvent(d.TelemetryEventNames.uploadSessionEventName,this.uploadSessionProperties,this.uploadSessionMetrics),this.uploadSessionProperties=null,this.uploadSessionMetrics=null)},Object.defineProperty(p.prototype,"uploadMoreMessage",{get:function(){return this.defaultChannel?this.defaultGroup&&this.defaultGroup.id===this.defaultChannel.id?c.formatString(this.resources.UploadMoreToGroupOrChannel,this.defaultGroup.name):c.formatString(this.resources.UploadMoreToGroupOrChannel,this.defaultChannel.name):this.resources.UploadMoreMessage},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isReactBannerEnabled",{get:function(){return this.featureFlagsService.Values.ReactBanner},enumerable:!0,configurable:!0}),p.$inject=["$q","$scope","resources","$window","$interval","navigationService","telemetryService","featureFlagsService","dataShareService","videoService","principalService","defaultVideoLanguageDialog","$element"],r=p;function p(e,t,n,i,r,a,u,m,A,h,f,g,v){var y=o.call(this,p)||this;function S(e){y.sendTelemetryEvents()}function b(e){y.sendTelemetryEvents()}return y.$q=e,y.$scope=t,y.resources=n,y.$window=i,y.$interval=r,y.navigationService=a,y.telemetryService=u,y.featureFlagsService=m,y.dataShareService=A,y.videoService=h,y.principalService=f,y.defaultVideoLanguageDialog=g,y.$element=v,y.publishingFiles=!1,y.supportedFormatsLink=s.generateFwLink(l.Constants.ExternalLinkIds.SupportedFormats),y.uploadDisabled=!0,y.policyAcknowledgedNeeded=!0,y.notificationsPresent=!1,y.companyPolicyAddress="",y.uploadSessionProperties={publishAllClicked:!1},y.uploadSessionMetrics={maxUploadsInSession:0},y.currentUploadWeight=0,y.fileSelectedToUpload=!1,y.defaultPrivacy=l.Constants.privacyMode.organization,y.filesToUpload=[],A.files&&(y.files=A.files.splice(0),A.files=null),A.channel&&(y.defaultChannel=A.channel,y.defaultGroup=A.group,A.group=null,A.channel=null),y.$scope.$watchGroup([function(){return y.files},function(){return y.policyAcknowledgedNeeded}],(function(e){function t(){y.uploadFiles(y.files),y.files=[],y.uploadSessionMetrics.maxUploadsInSession=Math.max(y.uploadSessionMetrics.maxUploadsInSession,y.filesToUpload.length)}!y.policyAcknowledgedNeeded&&y.files&&0<y.files.length&&y.principalService.getMyPrincipalInfo().then((function(e){y.me=e.data,y.me.settings.general.hideDefaultVideoLanguageDialog?(y.defaultLanguage=y.me.settings.general.defaultVideoLanguage,t()):y.defaultVideoLanguageDialog.open().closePromise.then((function(e){y.defaultLanguage=e.value&&e.value.lang?e.value.lang:null,t()}))}))})),y.$window.addEventListener("beforeunload",S),y.$window.addEventListener("unload",b),$("body").css("overflowY","auto"),y.$scope.$on("$destroy",(function(e){$("body").css("overflowY",""),y.filesToUpload=[],y.sendTelemetryEvents(),y.$window.removeEventListener("beforeunload",S),y.$window.removeEventListener("unload",b)})),y.featureFlagsService.Values.DataUsageNotifications&&y.$scope.$watch((function(){return y.dataShareService.notifications}),(function(){y.notificationsPresent=_.isArray(y.dataShareService.notifications)&&0<y.dataShareService.notifications.length})),y.$scope.$watch((function(){return y.defaultPrivacy}),(function(e){y.uploadSessionProperties.defaultPrivacy=e})),y.$window.document.title=c.formatString(y.resources.BrowserTitle.UploadVideo,l.Constants.ProductName),y.videoService.getSupportedExtensions().then((function(e){y.supportedTypes=e.data.extensions}),(function(e){y.telemetryService.getTracker(d.ScreenName.Upload).fail(d.FeatureName.GetSupportedExtensions,d.SubFeatureName.VideoService_GetSupportedExtensions,e)})),y.observer=new MutationObserver((function(){y.selectMoreUploadVideoBtn=y.$element.find(".upload-more-btn"),0<y.selectMoreUploadVideoBtn.length&&y.fileSelectedToUpload&&(y.selectMoreUploadVideoBtn.focus(),y.fileSelectedToUpload=!1),y.browseFileBtn=y.$element.find(".browse-file-to-upload-btn"),0<y.selectMoreUploadVideoBtn.length&&0===y.filesToUpload.length&&y.browseFileBtn.focus()})),y.startObserveFocusArea(),t.$on("$destroy",(function(){y.observer.disconnect()})),y}t.UploadVideoController=r},"./app/components/Upload/VideoEdit/VideoEditController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s,a=n("./app/utility/Constants.ts"),c=n("./app/utility/string.ts"),l=n("./app/utility/ComponentBase.ts"),u=n("./app/models/TelemetryEventModels.ts"),d=n("./app/components/Upload/VideoPermissions/VideoPermissionsController.ts"),p=n("./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitlesController.ts"),m=n("./app/utility/appUtil.ts"),A=n("./app/utility/LiveEventUtils.ts");(n=o=t.AutosaveStatus||(t.AutosaveStatus={}))[n.saved=0]="saved",n[n.saving=1]="saving",n[n.unsaved=2]="unsaved",n[n.failed=3]="failed",n[n.manualSaving=4]="manualSaving",n[n.enteringPage=5]="enteringPage",(n=s=t.ManualSaveStatus||(t.ManualSaveStatus={}))[n.succeeded=0]="succeeded",n[n.failed=1]="failed";var h;r(f,h=l.ComponentBase),Object.defineProperty(f.prototype,"publishText",{get:function(){return this.isPublishing?this.resources.VideoPublishingButtonLabel:this.video.published?this.resources.VideoPublishedButtonLabel:this.resources.PublishButton},enumerable:!0,configurable:!0}),f.prototype.videoUploadTabToggled=function(e){this.telemetryService.getTracker(u.ScreenName.Upload).trackEvent(u.TelemetryEventNames.videoUploadTabToggled,{videoId:this.video?this.video.id:null,contentSource:this.video?this.video.contentSource:null,tabName:e})},f.prototype.thumbnailSelect=function(){this.thumbnailSelectionChanged=!0,this.doAutoSaveIfEnabled()},Object.defineProperty(f.prototype,"videoEditSectionAriaLabel",{get:function(){return c.formatString(this.resources.UploadVideoEditDetailSectionAriaLabel,this.video.name)},enumerable:!0,configurable:!0}),f.prototype.openShare=function(){this.videoShareDialog.open(this.video)},f.prototype.permissionsChanged=function(){this.videoPermissionsChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.publish=function(){var e=this,t=this.telemetryService.getTracker();return t.setResourceId(this.video?this.video.id:null),this.isPublishing=!0,this.videoService.patch(this.video.id,{published:!0},this.isInAdminMode).then((function(n){e.video.published=n.data.published,e.isPublishing=!1,e.onPublish(),e.summaryProperties.published=!0,e.$scope.$emit(a.Constants.Events.videoPublished,{id:e.video.id}),e.$scope.$broadcast(a.Constants.Events.videoPublished,{id:e.video.id}),t.succeed(e.getFeatureName())}),(function(n){e.isPublishing=!1,t.fail(e.getFeatureName(),u.SubFeatureName.VideoService_PatchVideo,n)}))},f.prototype.cancelAutoSavedNotification=function(){this.saveOrPublishClickCount++},Object.defineProperty(f.prototype,"shouldDisplayAutosaveNotification",{get:function(){return this.video.id!==a.Constants.preCreationVideoId&&1===this.saveOrPublishClickCount},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isFailed",{get:function(){return this.videoEditStateInfo.videoState===a.Constants.VideoState.failedProcessing||this.videoEditStateInfo.videoState===a.Constants.VideoState.failedUpload||this.videoEditStateInfo.videoState===a.Constants.VideoState.unSupportedType||this.videoEditStateInfo.videoState===a.Constants.VideoState.exceededFileSize},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isUploading",{get:function(){return this.videoEditStateInfo.videoState===a.Constants.VideoState.uploading},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isLiveContent",{get:function(){return A.isVideoLiveContent(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isLiveEventValid",{get:function(){return!this.isLiveContent||this.video.liveEvent&&this.video.liveEvent.startTime&&this.video.liveEvent.endTime&&moment(this.video.liveEvent.startTime).isBefore(this.video.liveEvent.endTime)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"cancelButtonEnabled",{get:function(){return this.video.name&&(this.videoChanged||this.videoPermissionsChanged||this.hasPosterToUpload||this.hasLiveEventUpdate)&&!this.isSaving},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"saveButtonEnabled",{get:function(){return this.video.name&&this.isLiveEventValid&&(this.videoChanged||this.videoPermissionsChanged||this.hasPosterToUpload||this.hasLiveEventUpdate||this.thumbnailSelectionChanged)&&!this.isSaving},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"publishButtonEnabled",{get:function(){return this.video.name&&this.isLiveEventValid&&this.video.liveEvent&&this.video.liveEvent.startTime&&this.video.liveEvent.endTime&&!this.isUploading&&!this.isFailed&&!this.isPublishing},enumerable:!0,configurable:!0}),f.prototype.createOrSave=function(e){this.saveOrPublishClickCount++,this.video.id===a.Constants.preCreationVideoId?this.createLiveEvent(e):(this.autosaveStatus=o.manualSaving,this.saveVideo(e))},f.prototype.cancel=function(){var e=this;this.video.id===a.Constants.preCreationVideoId?this.navigationService.navigate(a.Constants.Routes.StudioVideos):(this.videoWatchCancelFunction&&this.videoWatchCancelFunction(),this.video=angular.copy(this.savedVideo),this.enableVideoWatch(),this.reloadPermissions=!0,this.videoChanged=!1,this.videoPermissionsChanged=!1,this.hasLiveEventUpdate=!1,this.resetPosterFunc&&this.hasPosterToUpload&&this.resetPosterFunc().finally((function(){e.hasPosterToUpload=!1})))},f.prototype.onInit=function(e){e.doUploadFunction&&(this.uploadPosterFunc=e.doUploadFunction),e.resetPoster&&(this.resetPosterFunc=e.resetPoster)},f.prototype.livePosterSelectionChanged=function(){this.hasPosterToUpload=!0},f.prototype.liveEventChanged=function(){this.hasLiveEventUpdate=!0},f.prototype.enableVideoWatch=function(){var e=this;this.videoWatchCancelFunction=this.$scope.$watch((function(){return e.video}),(function(t,n){var i;n&&t&&n!==t&&(i=!0,_.isEqual(n,_.omit(t,["liveEvent"]))&&!n.liveEvent&&(i=!1),t.liveEvent&&t.liveEvent.startTime&&t.liveEvent.endTime&&""!==t.liveEvent.startTime&&""!==t.liveEvent.endTime&&(i=!0),i&&(n.name!=t.name&&e.videoTitleChanged(),n.description!=t.description&&e.videoDescriptionChanged(),n.privacyMode!=t.privacyMode&&e.videoPrivacyModeChanged(t.privacyMode),n.id!=t.id&&e.videoIdChanged(t.id),n.published!=t.published&&e.videoPublishStateChanged(t.published),t.liveEvent&&t.liveEvent.startTime&&t.liveEvent.startTime!=n.liveEvent.startTime&&e.videoIsLiveStartNowChanged(),t.options&&!_.isEqual(n.options,t.options)&&((e.isPublicAnonymousLiveEnabled()||e.isPublicAnonymousVODEnabled())&&(void 0===t.options.allowPublicPlayback||n.options.allowPublicPlayback!==t.options.allowPublicPlayback)&&n.options.allowComments===t.options.allowComments&&_.isEqual(n.options.audioEnhancementOptions,t.options.audioEnhancementOptions)&&n.options.autoGeneratedCaption===t.options.autoGeneratedCaption&&n.options.enableAudioEnhancement===t.options.enableAudioEnhancement&&n.options.faceDetection===t.options.faceDetection||e.videoOptionsChanged())))}),!0)},Object.defineProperty(f.prototype,"isLiveScheduledToStartNow",{get:function(){if(!this.video.liveEvent||!this.video.liveEvent.startTime)return!1;var e=m.formatISODateTime(moment().seconds(0).milliseconds(0).toDate()),t=this.video.liveEvent.startTime;return moment(t).isBefore(e)||e===t},enumerable:!0,configurable:!0}),f.prototype.doAutoSaveIfEnabled=function(){var e=this;this.videoEditStateInfo.unsavedChanges=!0,this.autosaveStatus=o.unsaved,this.autoSave&&(this.deboundedAutosave||(this.deboundedAutosave=_.debounce((function(){e.autosaveStatus=o.saving,e.saveVideo().then((function(){e.autosaveStatus=o.saved}))}),a.Constants.AutoSaveTimeout)),this.deboundedAutosave())},f.prototype.createLiveEvent=function(e){var t=this;this.isSaving=!0;var n=_.cloneDeep(this.video);return delete n.id,e&&(n.published=!0),this.videoService.create(n,this.isInAdminMode).then((function(n){t.videoWatchCancelFunction&&t.videoWatchCancelFunction(),t.video=_.extend(t.video,n.data),t.formName="form"+t.video.id.replace(/-/g,""),t.savedVideo=angular.copy(t.video),t.videoChanged=!1,t.hasLiveEventUpdate=!1,t.summaryProperties.videoId=t.video.id,t.summaryProperties.liveEventStartTime=t.video.liveEvent.startTime,t.summaryProperties.liveEventEndTime=t.video.liveEvent.endTime,t.videoCreated({id:t.video.id}),t.videoSaved({video:angular.copy(t.video)});var i=[];return t.videoPermissionsChanged&&(n=t.saveVideoPermissions(),i.push(n)),t.uploadPosterFunc&&t.hasPosterToUpload&&i.push(t.savePoster()),t.$q.all(i).then((function(){t.autosaveStatus=o.saved,t.videoEditStateInfo.unsavedChanges=!1,e&&t.$scope.$broadcast(a.Constants.Events.videoPublished,{id:t.video.id}),t.featureTelemetryTracker.setResourceId(t.video?t.video.id:null),t.featureTelemetryTracker.succeed(u.FeatureName.LiveProducerCreate,t.summaryProperties)}))}),(function(e){t.handleAndDisplaySaveError(u.SubFeatureName.VideoService_Create,e)})).finally((function(){t.isSaving=!1,t.enableVideoWatch()}))},f.prototype.saveVideo=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=null),null==t&&(t=this.video);var i,r,s,c=[],l={isVideoChanged:!(this.isSaving=!0),isPermissionChanged:!1,isPosterChanged:!1,isLiveEventChanged:!1,isSaveFailed:!1,error:""};return this.thumbnailSelectionChanged&&(this.summaryProperties.thumbnailSelected=!0,i=this.$q.defer(),this.thumbnailService.setAsPosterImage(a.Constants.ResourceNames.Videos,t.id,this.selectedThumbnail.id,this.isInAdminMode).then((function(){n.thumbnailSelectionChanged=!1,i.resolve()}),(function(e){n.handleAndDisplaySaveError(u.SubFeatureName.ThumbnailService_SetAsPosterImage,e),i.reject(e)})),c.push(i.promise)),this.videoChanged?(r=this.$q.defer(),l.isVideoChanged=!0,this.videoService.patchFromDiff(this.savedVideo,t,!1,this.isInAdminMode).then((function(e){n.savedVideo=e,n.videoSaved({video:angular.copy(t)}),n.savedVideo.published&&!t.published&&(t.published=n.savedVideo.published),n.videoEditStateInfo.published||(n.videoEditStateInfo.published=n.savedVideo.published),n.videoChanged=!1,n.videoPermissionsChanged?(l.isPermissionChanged=!0,n.saveVideoPermissions(r)):r.resolve()}),(function(e){n.handleAndDisplaySaveError(u.SubFeatureName.VideoService_PatchVideo,e),r.reject(e)})),c.push(r.promise)):this.videoPermissionsChanged&&(l.isPermissionChanged=!0,s=this.saveVideoPermissions(),c.push(s)),this.uploadPosterFunc&&this.hasPosterToUpload&&(l.isPosterChanged=!0,c.push(this.savePoster())),this.hasLiveEventUpdate&&(l.isLiveEventChanged=!0,c.push(this.updateLiveEvent())),e&&c.push(this.publish()),this.$q.all(c).then((function(){n.featureTelemetryTracker.setResourceId(t?t.id:null),n.videoEditStateInfo.unsavedChanges=!1,n.autosaveStatus=o.saved,n.isLiveContent&&n.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.producerEventStateChanged,l),n.featureTelemetryTracker.succeed(n.getFeatureName(),{descriptionTimeTagsCount:n.descriptionTimeTagsCount})}),(function(e){n.isLiveContent&&(l.isSaveFailed=!0,l.error=e,n.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.producerEventStateChangedSaveFailed,l))})).finally((function(){n.isSaving=!1,n.enableVideoWatch()}))},f.prototype.savePublicAnonymousPermissions=function(e){var t=this;return this.videoService.patchPublicAnonymous(this.video.id,e,this.isInAdminMode).then((function(n){t.featureTelemetryTracker.succeed(t.getFeatureName(),{resourceId:t.video.id}),t.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.PublicAnonymousChanged,{action:"PublicAnonymousPermissionsSaved",publicAnonymousStatus:e})}),(function(e){t.handleAndDisplaySaveError(u.SubFeatureName.VideoService_PatchPublicAnonymous,e)}))},f.prototype.saveVideoPermissions=function(e){var t=this,n=e||this.$q.defer();return d.flatPermissionToSetLinks(this.$q,this.roleService,this.permissionList).then((function(e){t.videoService.setLinks(t.video.id,e,t.isInAdminMode).then((function(){t.videoPermissionsChanged=!1,n.resolve()}),(function(e){t.handleAndDisplaySaveError(u.SubFeatureName.VideoService_SetLinks,e),n.reject(e)}),(function(e){n.resolve(e)}))})),n.promise},f.prototype.savePoster=function(e){var t=this,n=e||this.$q.defer();return this.uploadPosterFunc().then((function(){t.hasPosterToUpload=!1,n.resolve()}),(function(e){n.reject(e)})),n.promise},f.prototype.updateLiveEvent=function(){var e=this,t=this.$q.defer();return this.video.liveEvent&&this.video.liveEvent.liveEventOptions&&this.video.liveEvent.liveEventOptions.onDemandOptions&&!A.isVodlessLiveEvent(this.video)&&(this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback=!0,this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload=!0),this.videoService.setLiveEvent(this.video.id,this.video.liveEvent).then((function(n){e.savedVideo.liveEvent=n.data,e.hasLiveEventUpdate=!1,t.resolve()}),(function(n){e.handleAndDisplaySaveError(u.SubFeatureName.VideoService_SetLiveEvent,n),t.reject(n)})),t.promise},f.prototype.getTenantSettings=function(){var e=this;return this.tenantService.getSettings().then((function(t){e.tenantSettings=t.data}),(function(t){e.handleAndDisplaySaveError(u.SubFeatureName.TenantService_GetTenantSettings,t)}))},f.prototype.getPrincipalSettings=function(){var e=this;return this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data,void 0===t.data.settings.general.showVideoLanguageNote?e.showVideoLanguageNote=!0:e.showVideoLanguageNote=t.data.settings.general.showVideoLanguageNote,e.isInAdminMode=e.principalService.getAdminModeStatus()}),(function(t){e.handleAndDisplaySaveError(u.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)}))},f.prototype.sendFeatureEvent=function(e,t,n){this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.fail(e,t,n),this.isLiveContent&&this.featureTelemetryTracker.trackEvent(u.TelemetryEventNames.producerError,{error:n})},f.prototype.handleAndDisplaySaveError=function(e,t){var n="",i=this.getFeatureName();switch(e){case u.SubFeatureName.ThumbnailService_SetAsPosterImage:n=this.resources.ThumbnailSelectionFailed;break;case u.SubFeatureName.RoleAssignmentService_SetVideoAssignment:n=this.resources.LoadRolesFailed;break;case u.SubFeatureName.RoleService_GetViewerRoleId:case u.SubFeatureName.RoleAssignmentService_GetVideoAssignment:case u.SubFeatureName.VideoService_GetVideoChannels:i=u.FeatureName.LoadVideoUpdatePage,n=this.resources.LoadVideoMetadataFailed;break;default:n=this.resources.UploadMetadataSaveFailed}this.autosaveStatus=o.failed,this.autoSaveFailedMessage=n+". "+this.handleBackendErrorMessage(e,t)+".",this.sendFeatureEvent(i,e,t)},f.prototype.handleBackendErrorMessage=function(e,t){var n="";return t&&t.status&&!isNaN(t.status)&&t.status<500&&t.data&&t.data.error&&t.data.error.message&&(n=t.data.error.message),n},f.prototype.getFeatureName=function(){return this.video&&this.video.id&&this.video.id!=a.Constants.preCreationVideoId?this.isLiveContent?u.FeatureName.LiveProducerUpdate:u.FeatureName.UpdateVideo:u.FeatureName.LiveProducerCreate},f.prototype.videoIsLiveStartNowChanged=function(){this.summaryProperties.isLiveStartNow=this.isLiveScheduledToStartNow,this.videoChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.videoIdChanged=function(e){this.summaryProperties.videoId=e,this.videoChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.videoPublishStateChanged=function(e){this.summaryProperties.published=e,this.videoChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.videoPrivacyModeChanged=function(e){this.summaryProperties.privacyChanged=!0,this.summaryProperties.privacyMode=e,this.videoChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.videoOptionsChanged=function(){this.videoChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.videoTitleChanged=function(){this.summaryProperties.titleChanged=!0,this.videoChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.videoDescriptionChanged=function(){this.summaryProperties.descriptionChanged=!0;var e=this.video.description.match(a.Constants.TimeStampTagsRegExp);this.descriptionTimeTagsCount=null!==e?e.length:0,this.videoChanged=!0,this.doAutoSaveIfEnabled()},f.prototype.languageMatch=function(e){this.languageNotMatch=!e},f.prototype.hideVideoLanguageNote=function(){var e=this;this.principalService.patchMySettings({general:{showVideoLanguageNote:!1}}).then((function(t){t.data,e.showVideoLanguageNote=!1}),(function(t){e.telemetryService.getTracker(u.ScreenName.Hub).fail(u.FeatureName.UpdatePrincipalSettings,u.SubFeatureName.General_ShowVideoLanguageNote,t)}))},f.prototype.isPublicAnonymousLiveEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousLive},f.prototype.isPublicAnonymousVODEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousVOD},f.$inject=["$scope","$q","resources","videoService","thumbnailService","roleService","roleAssignmentService","telemetryService","featureFlagsService","tenantService","videoShareDialog","textTrackLanguageService","principalService","navigationService"],f.Events={UploadDetailsPublishAndSave:"uploadDetailsPublishAndSave"},r=f;function f(e,t,n,i,r,c,l,u,d,m,A,g,v,y){var S=h.call(this,f)||this;return S.$scope=e,S.$q=t,S.resources=n,S.videoService=i,S.thumbnailService=r,S.roleService=c,S.roleAssignmentService=l,S.telemetryService=u,S.featureFlagsService=d,S.tenantService=m,S.videoShareDialog=A,S.textTrackLanguageService=g,S.principalService=v,S.navigationService=y,S.debounceOptions={debounce:300},S.autosaveStatus=o.enteringPage,S.isPublishing=!1,S.isSaving=!1,S.isAccordionDisabled=!1,S.captionStatus=p.DisableAutoGeneratedCaptionStatus.saved,S.detailsTabName="Details",S.optionsTabName="Options",S.permissionsTabName="Permissions",S.videoChanged=!1,S.hasPosterToUpload=!1,S.hasLiveEventUpdate=!1,S.principalsChanged=!1,S.thumbnailSelectionChanged=!1,S.videoPermissionsChanged=!1,S.telemetrySummarySent=!1,S.descriptionTimeTagsCount=0,S.savedVideo=angular.copy(S.video),S.isStreamAdmin=S.principalService.getIsStreamAdmin(),S.languageMappings=g.getAllLanguages(),S.video.id===a.Constants.preCreationVideoId?S.saveOrPublishClickCount=0:S.saveOrPublishClickCount=2,S.getTenantSettings(),S.getPrincipalSettings(),S.$scope.$watch((function(){return S.videoEditStateInfo.collapseAccordion}),(function(e){e&&setTimeout((function(){angular.element("#"+S.video.id+"-details").scope().$accordion.collapseAll(),S.isAccordionDisabled=!0,S.$scope.$apply()}),0)})),S.enableVideoWatch(),e.$watch((function(){return S.principals}),(function(e,t){e&&e!==t&&(S.principalsChanged=!0,S.doAutoSaveIfEnabled())}),!0),e.$watch((function(){return S.failedMessage}),(function(e,t){e&&(S.autosaveStatus=o.failed,S.autoSaveFailedMessage=S.failedMessage,S.failedMessage="")})),e.$on(f.Events.UploadDetailsPublishAndSave,(function(){S.videoEditStateInfo.published||(S.video.published=!0,S.videoChanged=!0,S.saveVideo(!0))})),e.$on(a.Constants.Events.SaveVideoImmediately,(function(e,t){var n=S.video,i=!1,r=t&&t.video&&t.type&&t.type===a.Constants.EventData.DisableAutoGeneratedCaption;r&&(S.deboundedAutosave&&S.deboundedAutosave.cancel(),n=t.video,i=t.unsavedChanges),S.videoChanged=!0,S.videoPermissionsChanged=!0,S.autosaveStatus=o.manualSaving,t=S.video.privacyMode===a.Constants.privacyMode.private?[S.saveVideoPermissions()]:[S.$q.when()],S.$q.all(t).then((function(){S.saveVideo(!1,n).then((function(){S.autosaveStatus=o.saved,S.captionStatus===p.DisableAutoGeneratedCaptionStatus.saving&&(S.captionStatus=p.DisableAutoGeneratedCaptionStatus.saved),r?S.videoEditStateInfo.unsavedChanges=i:S.manualSaveFinished({result:s.succeeded})}),(function(){S.manualSaveFinished({result:s.failed})}))}),(function(){S.manualSaveFinished({result:s.failed})}))})),e.$on(a.Constants.Events.MakeVideoPrivate,(function(){S.video.id===a.Constants.preCreationVideoId||S.video.published||(S.autosaveStatus=o.manualSaving,S.saveVideoPermissions().then((function(){S.saveVideo().then((function(){S.autosaveStatus=o.saved,S.reloadPermissions=!0}))})))})),e.$on(a.Constants.Events.ChangeVideoPublicAnonymous,(function(e,t){S.video.id!==a.Constants.preCreationVideoId&&S.savePublicAnonymousPermissions(t)})),S.$scope.$on(a.Constants.Events.videoPublished,(function(e,t){t&&t.id===S.video.id&&(S.videoWatchCancelFunction&&S.videoWatchCancelFunction(),S.video.published=!0,S.savedVideo.published=!0,S.enableVideoWatch())})),S.featureTelemetryTracker=S.telemetryService.getTracker(),S.featureTelemetryTracker.setResourceId(S.video?S.video.id:null),S}t.VideoEditController=r},"./app/components/Upload/VideoPermissions/VideoPermissionsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts"),a=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts");function c(e,t,n,o,s,c,l,u,d,p){var m=this;function A(){m.permissionWatchCancelHandler=m.$scope.$watch((function(){return m.permissionList}),(function(e,t){e&&e!==t&&m.permissionsChanged()}),!0)}this.$scope=e,this.resources=t,this.$q=n,this.$timeout=o,this.videoService=s,this.roleAssignmentService=c,this.$element=l,this.roleService=u,this.principalService=d,this.confirmationDialogService=p,this.showError=!1,this.permissionsLoading=!0,this.permissionListLength=0,this.deletionId=0,this.addObserver=function(){var e=$(".video-permissions-list",m.$element)[0];e?m.observer.observe(e,{subtree:!0,childList:!0}):setTimeout(m.addObserver,100)},this.disconnectObserverOnDestroy=function(){m.$scope.$on("$destroy",(function(){m.observer.disconnect()}))},this.permissionList||(this.permissionList=[]),this.video.id===i.Constants.preCreationVideoId?(this.permissionList=_.concat(this.permissionList,[{id:this.creator.id,name:this.creator.name,mail:r.removeDomainNameFromEmail(this.creator.mail),profileImageUrl:this.creator.profileImageUrl,isOwner:!0,showRole:!0,showVideoAdded:!1,fakedUser:!0}]),this.me=this.creator,this.permissionsLoading=!1,A()):this.viewerMode?(this.searchTypeList=[a.PrincipalSearchType.MyGroupsWithChannels,a.PrincipalSearchType.Channels],this.permissionsLoading=!1,this.loadTelemetryMetrics(),A()):!this.preloadData||this.permissionList&&this.permissionList.length?(this.creator&&!_.find(this.permissionList,(function(e){return e.fakedUser}))&&(this.permissionList=_.concat(this.permissionList,[{id:this.creator.id,name:this.creator.name,mail:r.removeDomainNameFromEmail(this.creator.mail),profileImageUrl:this.creator.profileImageUrl,isOwner:!0,showRole:!0,showVideoAdded:!1,fakedUser:!0}]),this.me=this.creator),this.permissionsLoading=!1,this.loadTelemetryMetrics(),A()):this.loadPermissions().then((function(){m.loadTelemetryMetrics(),A()})),this.$scope.$watch((function(){return m.reload}),(function(e){e&&(m.permissionWatchCancelHandler(),m.permissionsLoading=!0,m.loadPermissions(!0).then((function(){m.reload=!1,A()})))})),this.observer=new MutationObserver((function(){var e=$(".pgc-row.video-permissions-column").length;e<m.permissionListLength&&(0===e||e===m.deletionId?$("div.dialog-footer button"):$("div.pgc-row.video-permissions-column:eq("+m.deletionId+") button")).first().focus(),m.permissionListLength=e})),this.addObserver(),this.disconnectObserverOnDestroy(),this.summaryProperties.permissionsIsViewerMode=this.viewerMode}t.flatPermissionToSetLinks=function(e,t,n){var i=[],r=[],o=[],s=e.defer();return e.all([t.getOwnerRoleId(),t.getViewerRoleId()]).then((function(e){_.forEach(n,(function(e){var t;e.fakedUser||(e.showRole&&(e.isOwner?r:i).push({principalId:e.id,principalType:e.userType}),(e.isSystemGroup||e.showVideoAdded&&e.videoAdded)&&(t={groupId:e.id,channels:null},e.channels.length?t.channels=_.map(e.channels,(function(e){return{id:e.id}})):t.channels=[{id:e.id}],o.push(t)))})),e={roleAssignments:[{roleId:e[0],principals:r},{roleId:e[1],principals:i}],groupLinks:o},s.resolve(e)}),(function(e){s.reject(e)})),s.promise},Object.defineProperty(c.prototype,"isPrivateVideo",{get:function(){return this.video.privacyMode===i.Constants.privacyMode.private},enumerable:!0,configurable:!0}),c.prototype.addToGroupCheckBoxAriaLabel=function(e){return s.formatString(this.resources.VideoPermissionsVideoToGroupCheckboxAriaLabel,e.name||e.mail)},c.prototype.isOwnerCheckBoxAriaLabel=function(e){return s.formatString(this.resources.VideoPermissionsIsOwnerCheckboxAriaLabel,e.name||e.mail)},c.prototype.isVideoAdded=function(e){return e.videoAdded},c.prototype.changeVideoAdded=function(e,t){var n=this;t.videoAdded&&t.channels.length?(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),e={title:this.resources.VideoPermissionsRemoveVideoFromGroupConfirmationTitle,message:s.formatString(this.resources.VideoPermissionsRemoveVideoFromGroupConfirmationMessage,this.video.name,t.name),confirmButtonLabel:this.resources.Yes,cancelButtonLabel:this.resources.No},this.confirmationDialogService.show(e).then((function(){t.channels=[],t.videoAdded=!1,n.summaryProperties.permissionsVideoAddedCheckboxUnchecked=!0}))):t.videoAdded=!0},c.prototype.ownershipChanged=function(e){!0===e.isOwner&&(e.userType===i.Constants.PrincipalType.User?this.summaryProperties.permissionsUserMadeOwner=!0:e.userType===i.Constants.PrincipalType.SecurityGroup?this.summaryProperties.permissionsSecurityGroupMadeOwner=!0:e.userType===i.Constants.PrincipalType.StreamGroup&&(this.summaryProperties.permissionsStreamGroupMadeOwner=!0))},c.prototype.deletePermissionAriaLabel=function(e){return e.channels&&e.channels.length?e.isSystemGroup?this.resources.VideoPermissionsRemoveFromSystemGroup:s.formatString(this.resources.VideoPermissionsDeleteGroupIncludingChannelsAriaLabel,e.name||e.mail):s.formatString(this.resources.VideoPermissionsDeleteUserAriaLabel,e.name||e.mail)},c.prototype.deleteChannelAriaLabel=function(e){return s.formatString(this.resources.VideoPermissionsDeleteChannelArialLabel,e)},c.prototype.loadPermissions=function(e){var t=this;void 0===e&&(e=!1);var n,o,s,a=[],c=[];return this.$q.all([this.videoService.getLinks(this.video.id,this.isInAdminMode),this.videoService.getChannels(this.video.id,this.isInAdminMode,!0),this.principalService.getMyPrincipalInfo(),this.videoService.getRoleAssignments(this.video.id,this.isInAdminMode),this.roleService.getOwnerRoleId()]).then((function(l){t.videoLinks=l[0].data,o=l[1],t.me=l[2].data,n=l[3],t.creator&&a.push({id:t.creator.id,name:t.creator.name,mail:r.removeDomainNameFromEmail(t.creator.mail),profileImageUrl:t.creator.profileImageUrl,isOwner:!0,showRole:!0,showVideoAdded:!1,fakedUser:!0}),_.forEach(o,(function(e){var n=e.group,r=n&&n.isDefault?s:_.find(c,(function(e){return e.id===n.id}));r?r.channels.push({id:e.id,name:e.isDefault?"":e.name}):((r={id:n.id,name:n.isDefault?t.resources.VideoPermissionsGroupNameForMyOrgChannels:n.name,isSystemGroup:n.isDefault,isPrivate:n.privacyMode===i.Constants.privacyMode.private,showRole:!1,showVideoAdded:!n.isDefault,videoAdded:!0,videoAddedDisabled:!n.userData.permissions.canManageMediaItems,userType:i.Constants.PrincipalType.StreamGroup}).channels=[{id:e.id,name:e.isDefault?"":e.name}],n.isDefault?s=r:c.push(r))})),_.forEach(t.videoLinks.roleAssignments,(function(e){_.forEach(e.principals,(function(o){var s=_.find(n,(function(e){return o.principalId===e.principal.id}));if(o.principalType===i.Constants.PrincipalType.StreamGroup){var l=_.find(c,(function(e){return e.id===o.principalId}));if(l)return l.showRole=!0,void(l.isOwner=t.roleService.isOwner(e.roleId))}s&&a.push({name:s.principal.name,id:s.principal.id,mail:r.removeDomainNameFromEmail(s.principal.mail),isOwner:t.roleService.isOwner(e.roleId),showRole:!0,showVideoAdded:!1,userType:s.principal.type,profileImageUrl:s.principal.profileImageUrl})}))}));var u=_.concat(a,s?[s]:[],c);_.forEach(t.videoLinks.groupLinks,(function(e){var t=_.find(u,(function(t){return t.id===e.groupId}));t?!t.showVideoAdded&&s&&s.id!==t.id&&(t.showVideoAdded=!0,t.videoAdded=!0,t.channels=e.channels):((t={id:e.groupId,showRole:!1,name:null,userType:i.Constants.PrincipalType.StreamGroup,videoAdded:!0,showVideoAdded:!0,videoAddedDisabled:!0,isPrivate:void 0}).channels=e.channels,u.push(t))})),t.permissionList=!e&&t.permissionList||[],t.permissionList=_.concat(t.permissionList,u)}),(function(e){t.showErrorMessage(t.resources.VideoPermissionsLoadFailed),t.searchDisabled=!0})).finally((function(){t.permissionsLoading=!1}))},c.prototype.selectChannel=function(e,t){var n,r=_.findIndex(this.permissionList,(function(e){return e.id===t.id&&!e.fakedUser}));-1===r?(this.permissionList.push({id:t.id,name:t.isDefault?this.resources.VideoPermissionsGroupNameForMyOrgChannels:t.name,showRole:!this.viewerMode&&!t.isDefault,isOwner:!1,showVideoAdded:!t.isDefault,videoAdded:!0,isSystemGroup:t.isDefault,isPrivate:t.isDefault?void 0:t.privacyMode===i.Constants.privacyMode.private,userType:i.Constants.PrincipalType.StreamGroup,channels:[{id:e.id,name:e.isDefault?"":e.name}]}),this.alertPermissionAdded((t.id===e.id?t:e).name),t.isDefault?this.summaryMetrics.permissionsTotalPublicChannels++:this.summaryMetrics.permissionsTotalPermission++,e.isDefault?(this.summaryProperties.permissionsGroupAdded=!0,this.summaryMetrics.permissionsGroupsAdded++):(this.summaryProperties.permissionsChannelAdded=!0,this.summaryMetrics.permissionsChannelsAdded++,t.isDefault||this.summaryMetrics.permissionsTotalPrivateChannels++)):(n=this.permissionList[r]).channels&&n.channels.length?_.find(n.channels,(function(t){return t.id===e.id}))?this.showErrorMessage(s.formatString(this.resources.VideoPermissionsDuplicateItem,this.resources.Channel,e.name),!0):(n.channels.push({id:e.id,name:e.isDefault?"":e.name}),this.alertPermissionAdded(e.name)):(this.permissionList.splice(r,1),n.showVideoAdded=!0,n.videoAdded=!0,n.channels=[{id:e.id,name:e.isDefault?"":e.name}],this.permissionList.push(n),this.alertPermissionAdded((t.id===e.id?t:e).name))},c.prototype.selectPrincipal=function(e){var t,n=_.findIndex(this.permissionList,(function(t){return t.id===e.id}));-1===n?(this.permissionList.push({id:e.id,name:e.name,mail:r.removeDomainNameFromEmail(e.mail),showRole:!0,isOwner:!1,showVideoAdded:!1,userType:e.type,profileImageUrl:e.profileImageUrl,channels:[]}),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsAddedPermissionAlert,e.name||e.mail)),this.summaryProperties.permissionsPrincipalAdded=!0,this.summaryMetrics.permissionsPrincipalsAdded++,this.summaryMetrics.permissionsTotalPermission++):(t=this.permissionList[n]).showRole?this.showErrorMessage(s.formatString(this.resources.VideoPermissionsDuplicateItem,e.type,e.name||e.mail),!0):(this.permissionList.splice(n,1),t.showRole=!0,this.permissionList.push(t),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsAddedPermissionAlert,e.name||e.mail)))},c.prototype.deleteChannel=function(e,t){_.remove(e.channels,(function(e){return e.id===t.id})),0===e.channels.length&&e.isSystemGroup&&_.remove(this.permissionList,(function(t){return t.id===e.id})),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsRemovedPermissionAlert,t.name))},c.prototype.deletePermission=function(e){this.deletionId=_.findIndex(this.permissionList,e),_.remove(this.permissionList,(function(t){return t.id===e.id})),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsRemovedPermissionAlert,e.name||e.mail))},Object.defineProperty(c.prototype,"videoPermissionAddGroupLinkToolTip",{get:function(){return s.formatString(this.resources.VideoPermissionAddGroupLinkToolTip,i.Constants.ProductName)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"videoPermissionMakeOwnerToolTip",{get:function(){return s.formatString(this.resources.VideoPermissionMakeOwnerToolTip,i.Constants.ProductName)},enumerable:!0,configurable:!0}),c.prototype.thumbnailAltTag=function(e){return s.formatString(this.resources.Components.Upload.Permissions.Viewers.altText,e)},c.prototype.showErrorMessage=function(e,t){var n=this;void 0===t&&(t=!1),this.isWarning=t,this.errorMessage=e,this.showError=!0,t&&this.$timeout((function(){n.showError=!1}),i.Constants.WarningMessageTimeout)},c.prototype.alertPermissionAdded=function(e){o.alertScreenReader(s.formatString(this.resources.VideoPermissionsAddedPermissionAlert,e)),this.$element.find("input.search-box").focus()},c.prototype.loadTelemetryMetrics=function(){var e=this;this.summaryMetrics.permissionsTotalPermission=_.filter(this.permissionList,(function(e){return e&&!e.fakedUser&&(e.userType!==i.Constants.PrincipalType.StreamGroup||!1===e.isSystemGroup)})).length,this.summaryMetrics.permissionsTotalPrivateChannels=0,_.forEach(this.permissionList,(function(t){t&&(t.isSystemGroup?e.summaryMetrics.permissionsTotalPublicChannels=t.channels.length:e.summaryMetrics.permissionsTotalPrivateChannels+=_.filter(t.channels,(function(e){return e.id!==t.id&&e.name})).length)}))},c.$inject=["$scope","resources","$q","$timeout","videoService","roleAssignmentService","$element","roleService","principalService","confirmationDialogService"],n=c,t.VideoPermissionsController=n},"./app/components/Upload/VideoPoster/VideoPosterController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/models/TelemetryEventModels.ts");n=n("./app/components/Poster/PosterController.ts"),r(c,o=n.PosterController),Object.defineProperty(c.prototype,"imageAlt",{get:function(){return[this.resources.VideoThumbnails.ImageAlt.First,this.resources.VideoThumbnails.ImageAlt.Second,this.resources.VideoThumbnails.ImageAlt.Third]},enumerable:!0,configurable:!0}),c.prototype.getThumbnailAriaLabel=function(e){var t=0<=e?this.imageAlt[e]:this.resources.VideoThumbnails.AriaLabel.Custom;return(this.selectedThumbnail&&0<=e&&this.generatedThumbnails&&this.selectedThumbnail.id===this.generatedThumbnails[e].id||-1===e&&this.selectedThumbnail.id===this.customThumbnail.id)&&(t+=". "+this.resources.SelectedVideoThumbnail),t},Object.defineProperty(c.prototype,"generatedThumbnails",{get:function(){var e=_.filter(this.thumbnails,(function(e){return!e.isCustom}));return _.sortBy(e,(function(e){return e.index}))},enumerable:!0,configurable:!0}),c.prototype.save=function(){var e=this;return this.selectedThumbnail&&this.selectedThumbnail.id!==_.find(this.thumbnails,(function(e){return e.isPosterImage})).id?this.thumbnailService.setAsPosterImage(this.resourceName,this.resourceId,this.selectedThumbnail.id).then((function(){e.featureTelemetryTracker.succeed(a.FeatureName.SaveVideoCustomThumbnail),e.refreshThumbnails()}),(function(t){e.featureTelemetryTracker.fail(a.FeatureName.SaveVideoCustomThumbnail,a.SubFeatureName.ThumbnailService_SetAsPosterImage,t)})):null},c.prototype.selectThumbnail=function(e,t){var n,i,r;void 0===t&&(t=-1),e&&(this.selectedThumbnail&&(i=n=null,this.customThumbnail&&e.id===this.customThumbnail.id?(n=$($(".custom-thumbnail-clickable",this.$element)).first(),i=this.resources.VideoThumbnails.ImageAlt.Custom):0<=(r=_.findIndex(this.generatedThumbnails,(function(t){return e.id===t.id})))&&(n=$($(".thumbnail-clickable",this.$element)[r]),i=this.imageAlt[r]),n&&n.attr("aria-label",i)),this.selectedThumbnail=e,(this.customThumbnail&&this.customThumbnail.id===e.id?$($(".custom-thumbnail-clickable",this.$element)).first():$($(".thumbnail-clickable",this.$element)[t])).attr("aria-label",this.getThumbnailAriaLabel(t)),this.userSelectionChanged())},c.prototype.doUpload=function(e){return e=o.prototype.doUpload.call(this,e),this.handleUploadResult({$result:e}),e},c.$inject=["$q","$scope","Upload","resources","thumbnailService","mediaUploaderFactory","telemetryService","navigationService","$element"],r=c;function c(e,t,n,i,r,c,l,u,d){var p=o.call(this,e,t,n,i,r,c,l,u,s.Constants.ResourceNames.Videos,a.ResourceType.Video,a.FeatureName.UploadVideoCustomThumbnail)||this;return p.$element=d,t.$watch((function(){return p.thumbnailsReady}),(function(e,t,n){e&&p.refreshThumbnails()})),t.$on(s.Constants.Events.SavePoster,(function(){p.save()})),setTimeout((function(){p.loadInitialThumbnails&&p.refreshThumbnails()}),0),p}t.VideoPosterController=r},"./app/components/Video/Forms/FormPanel/FormPanelController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts");Object.defineProperty(a.prototype,"expanded",{get:function(){return this.formEvent&&this.formEvent.expanded},enumerable:!0,configurable:!0}),a.prototype.openFormsLink=function(){window.open(this.formEvent.isNew?s.Constants.MicrosoftFormsPrefix:this.url,"_blank")},Object.defineProperty(a.prototype,"formsButtonAriaLabel",{get:function(){return this.formEvent.isNew?this.resources.InteractivityFormButtonAriaLabelNew:this.resources.InteractivityFormButtonAriaLabelEdit},enumerable:!0,configurable:!0}),a.prototype.expand=function(){var e=this;this.initialFormEvent=angular.copy(this.formEvent),this.setExpandedState(!0),this.$timeout&&this.$timeout((function(){var t=e.$element.find("[name=url]");t&&t.focus()}))},a.prototype.expandClicked=function(){this.expanded?this.cancel():this.expand()},a.prototype.add=function(){var e=this;this.validate()?(this.formEvent.endTime=this.timeCode,this.formEvent.startTime=this.timeCode,this.formEvent.eventData.formId=this.parseUrlIfNecessary(this.url),this.trackEventForCurrentMediaItem(r.FormsEventType.PanelFormAddedClicked),this.onAddForm&&this.onAddForm({formEvent:this.formEvent}).then((function(){e.setExpandedState(!1),setTimeout((function(){return e.$element.find(".form-title-link").focus()}))}),(function(t){return e.showError(t)}))):this.isUrlValid?this.isTitleValid||this.$element.find("input[name=title]").focus():this.$element.find("input[name=url]").focus()},a.prototype.cancel=function(){this.formEvent=angular.copy(this.initialFormEvent),this.trackEventForCurrentMediaItem(r.FormsEventType.PanelAddCanceledClicked),this.onCancel&&this.onCancel({formEvent:this.formEvent}),this.setExpandedState(!1)},a.prototype.delete=function(){var e=this,t=_.get(this.initialFormEvent||this.formEvent,"eventData.title",this.resources.This);t={title:o.formatString(this.resources.DeleteConfirmTitle,t),message:o.formatString(this.resources.DeleteConfirmMessage,t),confirmButtonLabel:this.resources.Delete,cancelButtonLabel:this.resources.Cancel,useFlex:!0};this.confirmationDialogService.show(t).then((function(){e.trackEventForCurrentMediaItem(r.FormsEventType.PanelDeleteClicked),e.onDelete&&e.onDelete({formEvent:e.formEvent}).then((function(){e.setExpandedState(!1)}),(function(t){return e.showError(t)}))}))},a.prototype.showError=function(e){e={title:o.formatString(this.resources.Error),message:e,confirmButtonLabel:this.resources.OK,hideCancelButton:!0},this.confirmationDialogService.show(e)},a.prototype.jumpTo=function(){this.onJumpTo&&this.onJumpTo({formEvent:this.formEvent})},a.prototype.timeString=function(e){return i.convertTimeInSecondsToTimeString(e).match(/0?(\d+:[0-9:]*).*/)[1]},Object.defineProperty(a.prototype,"formTitleOrId",{get:function(){return this.formEvent.eventData.title||this.formEvent.eventData.formId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"friendlyTimeCode",{get:function(){return this.timeString(-1===this.formEvent.endTime?this.timeCode:this.formEvent.endTime)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"narratorTimeCode",{get:function(){return i.getNarratorFriendlyTime(this.friendlyTimeCode,this.resources.Units.Time)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"viewedLabel",{get:function(){return this.formEvent.eventData.hasBeenShown?this.resources.Viewed:""},enumerable:!0,configurable:!0}),a.prototype.validateUrl=function(e){void 0===e&&(e=!0),!this.formEvent.isNew||!this.url&&e||(this.urlRegex.test(this.url)?(this.formEvent.eventData.formId=this.parseUrlIfNecessary(this.url),this.isUrlValid=!0):(this.formEvent.eventData.formId=null,this.isUrlValid=!1))},a.prototype.validateTitle=function(e){void 0===e&&(e=!0),this.isTitleValid||(e=!1),this.isTitleValid=e||!!this.formEvent&&!!this.formEvent.eventData&&!!this.formEvent.eventData.title},a.prototype.validate=function(){return this.validateUrl(!1),this.validateTitle(!1),this.isValid},Object.defineProperty(a.prototype,"isTimeValid",{get:function(){return!this.formEvent.isNew||this.canAddAtTimeCode},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isDirty",{get:function(){return!!this.initialFormEvent&&(this.formEvent.eventData.title!==this.initialFormEvent.eventData.title||this.formEvent.eventData.formId!==this.initialFormEvent.eventData.formId||this.formEvent.endTime!==this.initialFormEvent.endTime)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isValid",{get:function(){return this.isUrlValid&&this.isTimeValid&&this.isTitleValid},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isAddEnabled",{get:function(){return this.isValid&&this.isDirty},enumerable:!0,configurable:!0}),a.prototype.setExpandedState=function(e){this.formEvent.expanded!==e&&(this.formEvent.expanded=e,this.onExpandChanged&&this.onExpandChanged({formEvent:this.formEvent,isExpanded:e}))},a.prototype.parseUrlIfNecessary=function(e){return e&&this.isUrlValid&&(e.match(this.urlRegex)||[null]).pop()},a.prototype.trackEventForCurrentMediaItem=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=void 0);var i=this.formEvent&&this.formEvent.eventData&&this.formEvent.eventData.formId||null,o=this.formEvent&&this.formEvent.id||null;return!!this.telemetryTracker&&(t=angular.extend({formEventType:e,videoId:this.videoId,formId:i,videoEventId:o},t),this.telemetryTracker.trackEvent.apply(this.telemetryTracker,[r.TelemetryEventNames.InteractiveForm,t,n].filter((function(e){return!!e}))),!0)},a.$inject=["$scope","resources","telemetryService","$timeout","confirmationDialogService","$element"],n=a;function a(e,t,n,o,a,c){var l=this;this.$scope=e,this.resources=t,this.$timeout=o,this.confirmationDialogService=a,this.$element=c,this.isUrlValid=!0,this.isTitleValid=!0,this.uniqueId=i.generateGuid(),this.urlRegex=new RegExp("^("+s.Constants.OfficeFormsPrefix+"|"+s.Constants.MicrosoftFormsPrefix+")[^#?]*?(?:[^=&]*id)=([^=&]*)","i"),this.telemetryTracker=n.getTracker(r.ScreenName.Auto,r.ResourceType.Video,this.videoId),e.$watch((function(){return l.formEvent}),(function(){l.formEvent&&(l.formEvent.isNew?(l.expand(),l.$element.parent().scrollTop(l.$element.position().top),l.trackEventForCurrentMediaItem(r.FormsEventType.PanelAddNewFormClicked)):l.url=""+s.Constants.MicrosoftFormsRootUrl+l.formEvent.eventData.formId)}))}t.FormPanelController=n},"./app/components/Video/RelatedVideos/RelatedVideosController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts");s.prototype.showAutoPlayToggle=function(){return this.featureFlagsService.Values.AutoPlay&&this.$location.search().channelId},s.prototype.updateRelatedVideos=function(){var e=this;return this.getRelatedVideos().then((function(t){return e.relatedVideos=t,e.relatedVideosList({value:e.relatedVideos}),e.featureFlagsService.Values.AutoPlay||_.remove(e.relatedVideos,(function(t){return t.id===e.video.id})),t=Math.ceil(e.relatedVideos.length/e.numberOfColumns),!e.isRelatedFromTrending&&t<e.numberOfColumns?(e.secondaryVideoCount=(e.numberOfColumns-t)*e.itemsPerRow+1,e.getTrendingVideos(e.secondaryVideoCount).then((function(t){e.secondaryRelatedVideoLabel=e.resources.RelatedVideosLabel.FromTrending,_.remove(t,(function(t){return t.id===e.video.id})),e.secondaryRelatedVideos=t,e.updateListForView()}))):(e.updateListForView(),null)}),(function(){}))},s.prototype.getRelatedVideos=function(){var e=this;if(this.queryStrings.channelId){if(this.featureFlagsService.Values.AutoPlay){var t,n=[];return this.defaultOrder=o.Constants.VideoSortOptions.Trending,this.channelService.get(this.queryStrings.channelId).then((function(n){return n.data.settings&&n.data.settings.defaultSortOption&&(e.defaultOrder=n.data.settings.defaultSortOption,e.userSelectedSortOrder=e.$location.search().sort,e.userSelectedSortOrder&&e.defaultOrder!=e.userSelectedSortOrder&&(e.defaultOrder=e.userSelectedSortOrder)),t=n.data.name,e.channelService.getVideos(e.queryStrings.channelId,e.relatedVideosCount,Number(e.queryStrings.skip),e.defaultOrder,o.Constants.VideoSortOptionToSortDirection[e.defaultOrder],void 0,!1).then((function(n){return e.relatedVideoLabel=r.formatString(e.resources.RelatedVideosLabel.FromChannel,t),e.sendFeatureSuccess(i.FeatureName.ChannelVideos),n.data.value}),(function(t){return e.sendFeatureError(i.FeatureName.ChannelVideos,i.SubFeatureName.ChannelService_GetVideos,t),[]}))}),(function(t){return e.sendFeatureError(i.FeatureName.ChannelVideos,i.SubFeatureName.ChannelService_GetChannel,t),[]}))}n=[];var s=this.channelService.get(this.queryStrings.channelId);return n.push(s),s=this.channelService.getVideos(this.queryStrings.channelId,this.relatedVideosCount,0,o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,void 0,!1),n.push(s),this.$q.all(n).then((function(t){return e.relatedVideoLabel=r.formatString(e.resources.RelatedVideosLabel.FromChannel,t[0].data.name),e.sendFeatureSuccess(i.FeatureName.ChannelVideos),t[1].data.value}),(function(t){e.sendFeatureError(i.FeatureName.ChannelVideos,i.SubFeatureName.ChannelService_GetVideos,t)}))}return this.queryStrings.search?(this.relatedVideoLabel=r.formatString(this.resources.RelatedVideosLabel.FromSearch,this.queryStrings.search),this.videoService.search(this.queryStrings.search,o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount).then((function(t){return e.sendFeatureSuccess(i.FeatureName.SearchVideos),t.data.value}),(function(t){e.sendFeatureError(i.FeatureName.SearchVideos,i.SubFeatureName.VideoService_Search,t)}))):this.queryStrings.list?this.queryStrings.list!==o.Constants.lists.User?this.queryStrings.list===o.Constants.lists.Studio?(this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromStudio,this.videoService.getMyVideos(o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount,"",o.Constants.VideoStateOptions.All,this.queryStrings.videoPrivacy||o.Constants.VideoPrivacyOptions.All,o.Constants.VideoStatus.Completed).then((function(t){return e.sendFeatureSuccess(i.FeatureName.SearchVideos),t.data.value}),(function(t){e.sendFeatureError(i.FeatureName.SearchVideos,i.SubFeatureName.VideoService_GetRecentlyViewedVideos,t)}))):this.queryStrings.list===o.Constants.lists.RecentlyViewed?(this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromRecentlyViewed,this.videoService.getRecentlyViewedVideos(o.Constants.VideoSortOptions.LastViewDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount,"",!1).then((function(t){return e.sendFeatureSuccess(i.FeatureName.RecentlyViewedVideos),t.data.value}),(function(t){e.sendFeatureError(i.FeatureName.RecentlyViewedVideos,i.SubFeatureName.VideoService_Search,t)}))):(this.isRelatedFromTrending=!0,this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromTrending,this.getTrendingVideos(this.relatedVideosCount)):(n=[],s=this.principalService.getPrincipalById(this.queryStrings.userId),n.push(s),s=this.videoService.getUserVideos(this.queryStrings.userId,"",o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount),n.push(s),this.$q.all(n).then((function(t){return e.relatedVideoLabel=r.formatString(e.resources.RelatedVideosLabel.FromUser,t[0].data.name),e.sendFeatureSuccess(i.FeatureName.SearchVideos),t[1].data.value}),(function(t){e.sendFeatureError(i.FeatureName.SearchVideos,i.SubFeatureName.VideoService_Search,t)}))):(this.isRelatedFromTrending=!0,this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromTrending,this.getTrendingVideos(this.relatedVideosCount))},s.prototype.updateListForView=function(){this.relatedVideos=this.relatedVideos.slice(0,this.relatedVideosCount-1),this.relatedVideos&&this.relatedVideos.length&&(this.relatedVideos=this.relatedVideos.slice(0,this.relatedVideosCount-1)),this.secondaryRelatedVideos&&this.secondaryRelatedVideos.length&&(this.secondaryRelatedVideos=this.secondaryRelatedVideos.slice(0,this.secondaryVideoCount-1))},s.prototype.getTrendingVideos=function(e){var t=this,n=this.featureFlagsService.Values.LiveEventOptions?o.Constants.DataQueryDefaultFilter:o.Constants.VideosBesidesEndedNonRecordedLiveFilter;return this.videoService.getTrendingVideos(e,0,void 0,n).then((function(e){return t.sendFeatureSuccess(i.FeatureName.TrendingVideos,{featureQueryType:t.getRelatedVideoSource()}),e.data.value}),(function(e){t.sendFeatureError(i.FeatureName.TrendingVideos,i.SubFeatureName.VideoService_GetTrendingVideos,e)}))},s.prototype.sendFeatureSuccess=function(e,t){this.featureTelemetryTracker.succeed(e,t)},s.prototype.sendFeatureError=function(e,t,n){this.featureTelemetryTracker.fail(e,t,n)},s.prototype.onAutoPlayResponsiveToggleClick=function(){this.autoPlayDefault=!this.autoPlayDefault,this.autoPlayToggleStatus({status:this.autoPlayDefault})},s.prototype.videoItemClicked=function(){this.relatedVideoClicked({value:this.getRelatedVideoSource()})},s.prototype.hideRelatedVideoDiv=function(){return!("channelId"in this.queryStrings)||1<this.relatedVideos.length},s.prototype.getRelatedVideoSource=function(){return i.FeatureName[i.FeatureName.TrendingVideos],this.queryStrings.channelId?i.FeatureName[i.FeatureName.ChannelVideos]:this.queryStrings.search?i.FeatureName[i.FeatureName.SearchVideos]:this.queryStrings.list?this.queryStrings.list===o.Constants.lists.User?o.Constants.lists.User.toString():this.queryStrings.list===o.Constants.lists.Studio?o.Constants.lists.Studio.toString():this.queryStrings.list===o.Constants.lists.RecentlyViewed?o.Constants.lists.RecentlyViewed.toString():i.FeatureName[i.FeatureName.TrendingVideos]:i.FeatureName[i.FeatureName.TrendingVideos]},s.$inject=["$scope","$q","resources","$location","videoService","channelService","principalService","featureFlagsService","telemetryService"],n=s;function s(e,t,n,r,o,s,a,c,l){this.$scope=e,this.$q=t,this.resources=n,this.$location=r,this.videoService=o,this.channelService=s,this.principalService=a,this.featureFlagsService=c,this.telemetryService=l,this.autoPlayDefault=!1,this.numberOfColumns=4,this.itemsPerRow=6,this.relatedVideosCount=this.numberOfColumns*this.itemsPerRow+1,this.secondaryVideoCount=0,this.isRelatedFromTrending=!1,this.queryStrings=r.search(),this.autoPlayDefault=this.$location.search().autoplay&&"true"===this.$location.search().autoplay.toLowerCase(),this.autoPlayCustomOnLabelText=this.featureFlagsService.Values.AutoPlay&&this.$location.search().channelId?this.resources.AutoPlayOnMessage:null,this.autoPlayCustomOffLabelText=this.featureFlagsService.Values.AutoPlay&&this.$location.search().channelId?this.resources.AutoPlayOffMessage:null,this.updateRelatedVideos(),this.featureTelemetryTracker=this.telemetryService.getTracker(i.ScreenName.Video)}t.RelatedVideosController=n},"./app/components/Video/SearchEvent/SearchEvent.html":function(e,t){e.exports='<div class=search-event> <div class=search-event-wrapper> <form class="c-search search-event-form"> <input aria-label={{::$ctrl.resources.Components.SearchEvent.SearchInputAriaLabel}} type=search role=search name=search-field class="search-event-input search-field" ng-model=$ctrl.searchString autocomplete=off placeholder={{::$ctrl.resources.Components.SearchEvent.SearchInputPlaceholder}} ng-change=$ctrl.onSearchInputChange($ctrl.searchString) ng-keydown=$ctrl.onSearchInputKeyDown($event) maxlength={{::$ctrl.searchStringMaxLength}}> <button class="c-glyph search-magnifier" name=search-button type=button aria-label={{::$ctrl.resources.Components.SearchEvent.SearchButtonAriaLabel}} ng-click=$ctrl.onSearchButtonClick() custom-title={{::$ctrl.resources.Components.SearchEvent.SearchButtonAriaLabel}} z-index-override=11></button> <button ng-show=$ctrl.showClearButton() class="c-glyph clear-button" name=clear-button type=button ng-click=$ctrl.onClearButtonClick() aria-label={{::$ctrl.resources.Components.SearchBar.ClearButtonAriaLabel}} custom-title={{::$ctrl.resources.Components.SearchEvent.ClearButtonAriaLabel}} z-index-override=11></button> </form> <button ng-show="$ctrl.canEdit && $ctrl.onEditClick" class="edit-event-button c-glyph c-action-trigger {{$ctrl.activeClassName}}" aria-label={{$ctrl.activeAriaLabel}} ng-click=$ctrl.onEditClicked() custom-title={{$ctrl.activeCustomTitle}} z-index-override=11> <svg-src svg-name={{$ctrl.activeSvgName}} inline-with-text=true></svg-src> </button> </div> <div class=content> <div class=search-error ng-if=$ctrl.state.isError> <custom-error-message error-message=$ctrl.resources.Components.SearchEvent.SearchFailureMessage is-compact=true></custom-error-message> </div> <div class=searching ng-show=$ctrl.state.isSearching> <div class=searching-inner> <div class="c-progress f-indeterminate-local f-progress-small" role=progressbar aria-valuetext={{$ctrl.resources.Searching}}> <span></span> <span></span> <span></span> <span></span> <span></span> </div> <h6 class=c-heading-6>{{::$ctrl.resources.Searching + \'...\'}}</h6> </div> </div> <div class=no-search-result ng-show=$ctrl.state.isNoResults> <h6 class=c-heading-6 role=note tabindex=0> {{$ctrl.resources.Components.SearchEvent.NoResultsFound}} </h6> </div> <virtual-list class=search-result ng-show=$ctrl.state.isResultsDisplayed items=$ctrl.events ng-if=$ctrl.events.length list-id=search-result-listbox-{{::$ctrl.searchResultListBoxId}} min-items-for-vlist=20 force-scroll-to-item=$ctrl.forceScrollToItem video-id=$ctrl.video.id scrollable-content-aria-label=$ctrl.eventListAriaLabel> <ul> <li class=search-result-item ng-repeat="e in $vs_renderItems" role=listitem ng-click=$ctrl.onResultItemClick(e) ng-keydown=$ctrl.onResultItemKeyDown($event) vlist-index={{e.index}} aria-posinset="{{e.index + 1}}" aria-setsize={{$ctrl.events.length}} aria-label={{$ctrl.lineAriaLabel(e)}} ng-focus=$ctrl.onSearchLineFocused(e)> <div class=transcript-cell ng-if=$ctrl.isTranscriptCaption(e)> <div class=transcript-icon> <div class=icon-container> <svg-src svg-name=icon-transcript></svg-src> </div> </div> <div class="transcript-text c-caption-1"> <span class=transcript-text-time>{{$ctrl.timeStamp(e)}}</span> "{{e.eventData.text}}" </div> </div> </li> </ul> </virtual-list> <div class=transclude-content ng-show=$ctrl.state.isCollapsed> <ng-transclude></ng-transclude> </div> </div> </div> '},"./app/components/Video/SearchEvent/SearchEvent.less":function(e,t){},"./app/components/Video/SearchEvent/SearchEvent.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/components/Video/SearchEvent/SearchEventController.ts");function o(){this.transclude=!0,this.controller=r.SearchEventController,this.template=n("./app/components/Video/SearchEvent/SearchEvent.html"),this.bindings={video:"<",onSearchClear:"&",isAdmin:"<",canEdit:"<",onEditClick:"&",isEditable:"<",editEventButtonAriaLabel:"<",viewEventButtonAriaLabel:"<",eventListAriaLabel:"<"}}n("./app/components/Video/SearchEvent/SearchEvent.less"),t.SearchEvent=o,i.registerComponent("searchEvent",o,angular.module("jumper"))},"./app/components/Video/SearchEvent/SearchEventController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts"),a=(Object.defineProperty(c.prototype,"isCollapsed",{get:function(){return this.state===this.collapsed},enumerable:!0,configurable:!0}),c.prototype.setCollapsed=function(){this.state=this.collapsed},Object.defineProperty(c.prototype,"isSearching",{get:function(){return this.state===this.searching},enumerable:!0,configurable:!0}),c.prototype.setSearching=function(){this.state=this.searching},Object.defineProperty(c.prototype,"isResultsDisplayed",{get:function(){return this.state===this.resultsDisplayed},enumerable:!0,configurable:!0}),c.prototype.setResultsDisplayed=function(){this.state=this.resultsDisplayed},Object.defineProperty(c.prototype,"isNoResults",{get:function(){return this.state===this.noResults},enumerable:!0,configurable:!0}),c.prototype.setNoResults=function(){this.state=this.noResults},Object.defineProperty(c.prototype,"isError",{get:function(){return this.state===this.error},enumerable:!0,configurable:!0}),c.prototype.setError=function(){this.state=this.error},c);function c(){this.collapsed="collpased",this.searching="searching",this.resultsDisplayed="resultsDisplayed",this.noResults="noResults",this.error="error",this.state=this.collapsed}function l(e,t,n,s,c,l,u){var d=this;this.$scope=e,this.$element=t,this.$q=n,this.resources=s,this.telemetryService=c,this.videoEventService=l,this.$timeout=u,this.isInEditMode=!1,this.isEditable=!0,this.activeSvgName="",this.activeAriaLabel="",this.activeCustomTitle=this.editEventAriaLabel,this.activeClassName="",this.editSvgName="icon_edit",this.checknameSvgName="icon_checkmark",this.editDisabledClassName="edit-disabled",this.startEditClassName="start-edit-button",this.finishEditClassName="finish-edit-button",this.searchStringMaxLength=i.Constants.MaxLengths.SearchInput,this.events=[],this.state=new a,this.searchResultListBoxId=r.generateGuid(),this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.Video,o.ResourceType.VideoEvent,this.video.id,!1),this.$scope.$on(i.Constants.Events.TranscriptEditingDisabled,(function(){d.isEditable=!1,d.toggleEditingDisabled(),d.isInEditMode=!1})),this.$timeout((function(){d.toggleEditingDisabled(),$(".search-magnifier",d.$element).attr("disabled","true")}),0)}l.prototype.toggleEditingDisabled=function(){var e=this.isEditable&&this.state.isCollapsed;this.activeSvgName=this.editSvgName,this.activeAriaLabel=this.editEventAriaLabel,this.activeCustomTitle=this.editEventAriaLabel,e?(this.activeClassName=this.startEditClassName,$(".edit-event-button",this.$element).removeAttr("disabled")):(this.activeClassName=this.editDisabledClassName,$(".edit-event-button",this.$element).attr("disabled","disabled"))},l.prototype.doSearch=function(){var e=this;this.searchString&&(this.state.setSearching(),this.isInEditMode&&this.onEditClicked(),this.toggleEditingDisabled(),this.videoEventService.search(this.video.id,this.searchString,i.Constants.VideoEventType.transcript,this.isAdmin).then((function(t){e.events=_.filter(t.data.value,(function(t){return e.isTranscriptCaption(t)})),e.featureTelemetryTracker.succeed(o.FeatureName.SearchVideoTranscriptEvent,{searchQueryLength:e.searchString.length,searchResultCount:e.events.length}),e.events.length?(e.state.setResultsDisplayed(),r.alertScreenReader(e.resources.Components.SearchEvent.ResultsFound)):(e.state.setNoResults(),r.alertScreenReader(e.resources.Components.SearchEvent.NoResultsFound))}),(function(t){return r.alertScreenReader(e.resources.Components.SearchEvent.SearchFailureMessage),e.featureTelemetryTracker.fail(o.FeatureName.SearchVideoTranscriptEvent,o.SubFeatureName.VideoEvent_Search,t),e.state.setError(),e.$q.reject(t)})))},l.prototype.onSearchButtonClick=function(){this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.ClickSearchTranscriptButton),this.doSearch()},l.prototype.onSearchInputChange=function(e){(this.state.isError||this.state.isNoResults||this.state.isResultsDisplayed&&!e)&&this.state.setCollapsed()},l.prototype.onEditClicked=function(){var e=this;this.onEditClick&&(this.onEditClick(),this.isInEditMode=!this.isInEditMode,this.activeSvgName=this.isInEditMode?this.checknameSvgName:this.editSvgName,this.activeCustomTitle=this.isInEditMode?this.resources.ViewTranscriptTooltip:this.editEventAriaLabel,this.activeAriaLabel=this.isInEditMode?this.viewEventAriaLabel:this.editEventAriaLabel,this.activeClassName=this.isInEditMode?this.finishEditClassName:this.startEditClassName,this.$timeout((function(){$("."+e.activeClassName,e.$element).focus()}),0))},l.prototype.onSearchInputKeyDown=function(e){var t=this;13===(e=e.keyCode)?this.doSearch():27===e?(this.state.setCollapsed(),this.toggleEditingDisabled(),this.onSearchClear()):40===e&&(e=this.$element.find(".search-result-item").first(),(this.state.isNoResults||this.state.isResultsDisplayed)&&e&&e.length&&e.focus()),this.$timeout((function(){var e=$(".search-magnifier",t.$element);t.searchString&&0<t.searchString.length?e.removeAttr("disabled"):(e.attr("disabled","true"),t.toggleEditingDisabled())}),0)},l.prototype.onSearchLineFocused=function(e){this.forceScrollToItem=e},l.prototype.onClearButtonClick=function(){this.searchString="",this.state.setCollapsed(),this.toggleEditingDisabled(),this.$element.find(".search-field").first().focus(),this.onSearchClear()},l.prototype.showClearButton=function(){return this.searchString&&0<this.searchString.length},l.prototype.isTranscriptCaption=function(e){return e.type===i.Constants.VideoEventType.transcript&&e.eventData&&e.eventData.type.toLowerCase()===i.Constants.TextTrackType.Caption.toLowerCase()},l.prototype.isFace=function(e){return e.type===i.Constants.VideoEventType.face},l.prototype.onResultItemClick=function(e){this.state.setCollapsed(),this.onSearchClear(),this.toggleEditingDisabled(),e=r.formatISODurationToSeconds(e.start),this.$scope.$emit(i.Constants.Events.TimeStampTagClicked,{timeInSeconds:e}),this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.timeTagClickedEventName,{source:i.Constants.TagClickSource.SearchEvent,id:this.video.id})},l.prototype.onResultItemKeyDown=function(e){var t,n=e.keyCode,i=$(e.target);38===n?(((t=i.prev(".search-result-item"))&&t.length?t:this.$element.find(".search-event-input").first()).focus(),e.stopPropagation()):40===n&&((i=i.next(".search-result-item"))&&i.length&&i.focus(),e.stopPropagation())},l.prototype.timeStamp=function(e){return"@"+r.formatISODuration(e.start)},l.prototype.lineAriaLabel=function(e){return s.formatString(this.resources.Components.TranscriptSearch.AriaLabel,r.formatISODurationToSeconds(e.start).toString())},Object.defineProperty(l.prototype,"viewEventAriaLabel",{get:function(){return this.viewEventButtonAriaLabel||this.resources.Done},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"editEventAriaLabel",{get:function(){return this.isEditable&&this.state&&this.state.isCollapsed?this.editEventButtonAriaLabel||this.resources.Edit:this.resources.Components.SearchEvent.EditTranscriptDisabledAriaLabel},enumerable:!0,configurable:!0}),l.$inject=["$scope","$element","$q","resources","telemetryService","videoEventService","$timeout"],n=l,t.SearchEventController=n},"./app/components/Video/Transcript/TranscriptController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/utility/appUtil.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/Constants.ts"),c=n("./app/utility/string.ts"),l=n("./app/utility/KeyCodes.ts"),u=n("./common/Directives/Drawer/Drawer.ts");function d(e,t,n,o,a,c,l,u,d){var p=this;this.$scope=e,this.$element=t,this.$timeout=n,this.$q=o,this.resources=a,this.telemetryService=c,this.featureFlagsService=l,this.videoEventService=u,this.isTranscriptEditMode=!1,this.isUserCanEdit=!1,this.displayAutoScroll=!0,this.showRightDrawer=!0,this.transcriptLines=[],this.forceUpdateToIndex=-1,this.isTranscriptModified=!1,this.transcriptSavingStatus=r.None,this.saveMsgStayTime=3e3,this.transcriptUnderEditingContent={id:"",value:""},this.wasAutoScrollOn=!1,this.currentEditIndex=-1,this.failedIndex=-1,this.autoFocus=!1,this.runFromTest=d.search().runFromTest,this.state=i.Loading,this.container=t.find(".transcript-list"),this.featureTelemetryTracker=this.telemetryService.getTracker(s.ScreenName.Video,s.ResourceType.VideoEvent,this.video.id,!1),this.monitorPlayerProgress(),this.loadTranscriptCaption().then((function(){p.state=i.AutoScrolling,p.initDrawer(),p.featureTelemetryTracker.succeed(s.FeatureName.LoadVideoTranscriptEvent)}),(function(e){p.state=i.Error,p.featureTelemetryTracker.fail(s.FeatureName.LoadVideoTranscriptEvent,s.SubFeatureName.VideoEvent_GetTranscriptCaption,e)})),this.onInit&&this.onInit({transcriptController:this}),this.isUserCanEdit=this.video.userData.permissions.canEdit,$(document).mouseup((function(e){var t=$(p.transcriptDomIdUnderEditing);t.is(e.target)||0!==t.has(e.target).length||(p.areTranscriptNewEditButtonsEnabled?p.discard(!0):p.saveAndResume(p.previousTranscript),p.makeCurrentEditableTranscriptNonEditable())}))}(n=i=t.TranscriptState||(t.TranscriptState={}))[n.Loading=0]="Loading",n[n.Error=1]="Error",n[n.AutoScrolling=2]="AutoScrolling",n[n.UserInteraction=3]="UserInteraction",n[n.SeekingVideo=4]="SeekingVideo",(n=r=r||{})[n.Saving=0]="Saving",n[n.Saved=1]="Saved",n[n.Failed=2]="Failed",n[n.StaleAssetFailure=3]="StaleAssetFailure",n[n.None=4]="None",Object.defineProperty(d.prototype,"actionLabel",{get:function(){return this.isTranscriptEditMode?this.resources.Done:this.resources.Edit},enumerable:!0,configurable:!0}),d.prototype.actionHandler=function(e){var t=this;e&&!this.isTranscriptEditMode||(this.isTranscriptEditMode=!this.isTranscriptEditMode,this.transcriptSavingStatus=r.None,this.isTranscriptEditMode?(this.displayAutoScroll=!1,this.wasAutoScrollOn=!this.isUserInteractionState,this.enterUserInteractionMode(),this.activeTranscript&&(this.currentEditIndex=this.activeTranscript.index,this.forceUpdateToIndex=this.currentEditIndex,setTimeout((function(){return t.transcriptEditHandler(null,!0)}),0)),$(".transcript-timestamp",this.$element).attr({tabindex:0,role:"button"}),$(".transcript-text",this.$element).attr({tabindex:0,role:"textbox"}),$(".transcript-line",this.$element).attr("tabindex",null),this.logTranscriptUserAction(s.TranscriptUserActionNames.EnterEditModeClicked)):this.exitEditMode(),this.initDrawer())},d.prototype.exitEditMode=function(){this.isTranscriptEditMode=!1,this.transcriptDomUnderEditing=null,this.transcriptDomIdUnderEditing="",this.transcriptDomIdUnderPreviousEditing="",this.transcriptSavingStatus!=r.StaleAssetFailure&&(this.transcriptSavingStatus=r.None),this.wasAutoScrollOn&&this.enableAutoScroll();var e={tabindex:-1,role:null};$(".transcript-timestamp",this.$element).attr(e),$(".transcript-text",this.$element).attr(e),$(".transcript-line",this.$element).attr("tabindex",0),this.logTranscriptUserAction(s.TranscriptUserActionNames.ExitEditModeClicked)},d.prototype.discard=function(e){void 0===e&&(e=!1),this.transcriptDomUnderEditing&&this.previousTranscript&&this.transcriptDomUnderEditing.text(this.previousTranscript.eventData.text),this.isTranscriptModified=!1;var t=$(this.transcriptDomIdUnderEditing);this.updateActionButtonState(t),e||this.setFocusToEditableBox(),this.logTranscriptUserAction(s.TranscriptUserActionNames.DiscardLineEditClicked)},d.prototype.saveAndResume=function(e){var t,n=this;this.isTranscriptEditMode&&this.transcriptDomUnderEditing&&this.transcriptUnderEditingContent&&(this.displayAutoScroll=!1,0===this.transcriptDomUnderEditing.length&&(this.transcriptDomUnderEditing=$(this.transcriptDomIdUnderEditing+"  .transcript-text")),t=this.transcriptDomUnderEditing.text(),this.previousTranscript&&_.trim(t)!==_.trim(this.previousTranscript.eventData.text)?(this.previousTranscript.eventData.text=_.trim(t),this.transcriptSavingStatus=r.Saving,o.alertScreenReader(this.resources.Saving),this.videoEventService.updateTranscript(this.video.id,e.id,t,this.isAdmin).then((function(){n.featureTelemetryTracker.succeed(s.FeatureName.SaveTranscript),n.transcriptSavingStatus=r.Saved,o.alertScreenReader(n.resources.ChangesSaved)}),(function(e){404==e.status?(n.$scope.$emit(a.Constants.Events.TranscriptEditingDisabled),n.failedIndex=n.currentEditIndex,n.transcriptSavingStatus=r.StaleAssetFailure,n.exitEditMode(),n.transcriptDomUnderEditing.attr("contentEditable","false"),n.transcriptUnderEditingContent.id="",n.transcriptUnderEditingContent.value="",n.currentEditIndex=-1):n.transcriptSavingStatus=r.Failed,n.featureTelemetryTracker.fail(s.FeatureName.SaveTranscript,e,s.SubFeatureName.VideoEvent_SaveTranscript),o.alertScreenReader(n.resources.SaveFailed)})).finally((function(){n.runFromTest||setTimeout((function(){n.displayAutoScroll=!0,n.areTranscriptNewEditButtonsEnabled&&(n.transcriptSavingStatus==r.StaleAssetFailure?r.StaleAssetFailure:r.None,n.isTranscriptModified=!1)}),n.saveMsgStayTime)})),this.$scope.$emit(a.Constants.Events.ResumePlayer)):this.displayAutoScroll=!0)},d.prototype.onTimeKeyDown=function(e,t){this.isTranscriptEditMode&&t.keyCode===l.KeyCodes.Enter&&this.onTranscriptClicked(e)},d.prototype.onTextKeyDown=function(e){var t=this,n=e.keyCode;e=[l.KeyCodes.Tab,l.KeyCodes.Shift,l.KeyCodes.Ctrl,l.KeyCodes.Alt,l.KeyCodes.Break,l.KeyCodes.CapsLock,l.KeyCodes.Escape,l.KeyCodes.PageUp,l.KeyCodes.PageDown,l.KeyCodes.End,l.KeyCodes.Home,l.KeyCodes.ArrowLeft,l.KeyCodes.ArrowUp,l.KeyCodes.ArrowRight,l.KeyCodes.ArrowDown,l.KeyCodes.Print,l.KeyCodes.Insert,l.KeyCodes.Colon2,l.KeyCodes.Equals2,l.KeyCodes.Equals3,l.KeyCodes.Minus2,l.KeyCodes.WindowsLeft,l.KeyCodes.WindowsRight,l.KeyCodes.WindowsOpera,l.KeyCodes.Menu,l.KeyCodes.NumLock,l.KeyCodes.ScrollLock];_.includes(e,n)||(this.playerPausedByKeyDown||(this.$scope.$emit(a.Constants.Events.PausePlayer),this.playerPausedByKeyDown=!0),this.transcriptDomIdUnderEditing&&this.$timeout((function(){var e=$(t.transcriptDomIdUnderEditing),n=(n=_.trim($(".transcript-text",e).text()))&&n.replace(/(\r\n|\n|\r)/gm," ");t.isTranscriptModified=n!==_.trim(_.get(t.previousTranscript,"eventData.text")),t.updateActionButtonState(e)}),0))},d.prototype.replay=function(e,t){e.stopPropagation(),t=o.formatISODurationToSeconds(t.start),this.$scope.$emit(a.Constants.Events.TimeStampTagClicked,{timeInSeconds:t}),this.setFocusToEditableBox(),this.featureTelemetryTracker.trackEvent(s.TranscriptUserActionNames.ReplayLineClicked)},d.prototype.save=function(e,t){e.stopPropagation(),this.saveAndResume(t),t=$(this.transcriptDomIdUnderEditing),this.updateActionButtonState(t),this.logTranscriptUserAction(s.TranscriptUserActionNames.SaveLineEditClicked),$(".transcript-timestamp",t).focus()},d.prototype.resume=function(e,t){e.stopPropagation(),this.saveAndResume(t),this.makeCurrentEditableTranscriptNonEditable()},Object.defineProperty(d.prototype,"isTranscriptEditV3Enabled",{get:function(){return this.featureFlagsService.Values.TranscriptEditV3},enumerable:!0,configurable:!0}),d.prototype.initDrawer=function(){var e;this.isTranscriptEditV3Enabled&&(this[e=(this.showRightDrawer?"right":"bottom")+"DrawerItems"]=[],(this.isUserCanEdit||this.isAdmin)&&(this.state===i.AutoScrolling?this[e].push(new u.DrawerItem("disable-autoscroll-button",this.resources.Components.Transcript.DisableAutoScroll,this.disableAutoScroll.bind(this),"icon_auto_scroll")):this[e].push(new u.DrawerItem("enable-autoscroll-button",this.resources.Components.Transcript.EnableAutoScroll,this.enableAutoScroll.bind(this),"icon_auto_scroll"))))},d.prototype.onTranscriptFocused=function(e,t){var n=this;e.stopPropagation(),t&&(0<=this.currentEditIndex&&this.currentEditIndex!==t.index&&this.discard(!0),this.isTranscriptEditMode&&(this.currentEditIndex=t.index),t.id!==this.transcriptUnderEditingContent.id&&(""===this.transcriptUnderEditingContent.id||this.areTranscriptNewEditButtonsEnabled||this.saveAndResume(this.previousTranscript),this.transcriptUnderEditingContent={id:t.id,value:t.eventData.text},this.isTranscriptEditMode&&(this.isTranscriptModified=!1,setTimeout((function(){return n.transcriptEditHandler(t,!0)}),0)),this.autoFocus=!1))},d.prototype.onTranscriptBlur=function(){this.playerPausedByKeyDown=!1},d.prototype.isActiveEdit=function(e){return this.isTranscriptEditMode&&e.index===this.currentEditIndex},d.prototype.shouldShowActionBar=function(e){var t=this.transcriptSavingStatus==r.StaleAssetFailure&&e.index===this.failedIndex;return this.isActiveEdit(e)||t},Object.defineProperty(d.prototype,"isTranscriptEditFlagEnabled",{get:function(){return this.featureFlagsService.Values.TranscriptEdit},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isLoadingState",{get:function(){return this.state===i.Loading},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isErrorState",{get:function(){return this.state===i.Error},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isAutoScrollingState",{get:function(){return this.state===i.AutoScrolling},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isUserInteractionState",{get:function(){return this.state===i.UserInteraction},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isSeekingVideoState",{get:function(){return this.state===i.SeekingVideo},enumerable:!0,configurable:!0}),d.prototype.updateActionButtonState=function(e){var t=$(".save-btn",e)[0];t&&(t.disabled=!this.isTranscriptModified),(e=$(".discard-btn",e)[0])&&(e.disabled=!this.isTranscriptModified)},d.prototype.monitorPlayerProgress=function(){var e=this;this.$scope.$watch((function(){return e.playerTime}),(function(t){t&&e.scrollToGivenTime(t)}))},d.prototype.scrollToGivenTime=function(e,t){var n=this;void 0===t&&(t=!1),e=e||0;for(var i=this.transcriptLines.length?this.transcriptLines[0]:void 0,r=0,o=0;o<this.transcriptLines.length&&!(e<this.transcriptLines[o].startSeconds);o++)i=this.transcriptLines[o],r=o;this.isAutoScrollingState?i&&(this.activeTranscript!==i||t)&&(this.forceUpdateToIndex=r,this.$timeout((function(){n.forceScrollToItem=i}),0)):this.isSeekingVideoState&&this.seekingTranscript&&e>=this.seekingTranscript.startSeconds&&e<=this.seekingTranscript.endSeconds&&(this.isTranscriptEditMode||(this.seekingTranscript=null)),i&&(this.activeTranscript=i)},d.prototype.enterUserInteractionMode=function(){this.isUserInteractionState||(this.state=i.UserInteraction,this.initDrawer())},d.prototype.mapTranscriptToUIModel=function(e){var t=_.get(e,"eventData.text");return t&&(t=_.trim(t).replace(/(\r\n|\n|\r)/gm," "),e.eventData.text=t),{id:e.id,type:e.type,start:e.start,end:e.end,eventData:e.eventData,startSeconds:o.formatISODurationToSeconds(e.start),endSeconds:o.formatISODurationToSeconds(e.end)}},d.prototype.loadTranscriptCaption=function(){var e=this;return this.videoEventService.getTranscript(this.video.id,this.isAdmin).then((function(t){t=_.filter(t.data.value,(function(e){return e.eventData.type.toLowerCase()===a.Constants.VideoEventTranscriptType.caption.toLowerCase()})),e.transcriptLines=_.map(t,(function(t){return e.mapTranscriptToUIModel(t)}))}))},d.prototype.onTranscriptClicked=function(e){var t;void 0!==this.transcriptDomIdUnderPreviousEditing&&-1<this.transcriptDomIdUnderPreviousEditing.indexOf(e.id)||(this.isTranscriptEditMode?this.transcriptDomIdUnderPreviousEditing=this.transcriptDomIdUnderEditing:this.state=i.SeekingVideo,this.seekingTranscript=e,this.activeTranscript=e,t=o.formatISODurationToSeconds(e.start),e=!this.isTranscriptEditMode,this.$scope.$emit(a.Constants.Events.TimeStampTagClicked,{timeInSeconds:t,seekAndPlay:e}),this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.timeTagClickedEventName,{source:a.Constants.TagClickSource.Transcript,id:this.video.id}))},d.prototype.onTranscriptLineFocused=function(e){this.forceScrollToItem=e},d.prototype.getTimeStamp=function(e){return o.formatISODuration(e)},d.prototype.shouldHighlight=function(e){return this.isSeekingVideoState?this.seekingTranscript&&e.startSeconds<=this.seekingTranscript.startSeconds:e.startSeconds<=this.playerTime},d.prototype.lineAriaLabel=function(e){return c.formatString(this.resources.Components.Transcript.AriaLabel,e.startSeconds.toString())},d.prototype.enableAutoScroll=function(){this.state=i.AutoScrolling,this.initDrawer(),this.scrollToGivenTime(this.playerTime,!0),this.focusOnTabDrawerButton(),this.logTranscriptUserAction(s.TranscriptUserActionNames.EnableAutoscrollClicked)},d.prototype.disableAutoScroll=function(){this.enterUserInteractionMode(),this.initDrawer(),this.focusOnTabDrawerButton(),this.logTranscriptUserAction(s.TranscriptUserActionNames.DisableAutoscrollClicked)},Object.defineProperty(d.prototype,"shouldDisplayAutoScrollButton",{get:function(){return!0},enumerable:!0,configurable:!0}),d.prototype.applyActiveStyleToReplayButton=function(){$(".replay-btn",$(this.transcriptDomIdUnderEditing)).addClass("btn-primary")},d.prototype.applyInactiveStyleToReplayButton=function(){$(".replay-btn",$(this.transcriptDomIdUnderEditing)).removeClass("btn-primary")},Object.defineProperty(d.prototype,"areTranscriptNewEditButtonsEnabled",{get:function(){return this.featureFlagsService.Values.TranscriptEditNewButtons},enumerable:!0,configurable:!0}),d.prototype.focusOnTabDrawerButton=function(){setTimeout((function(){$(".drawer-button.drawer-button-stream",$(".tab-actions-drawer")).focus()}),0)},d.prototype.transcriptEditHandler=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),this.transcriptSavingStatus=r.None,this.transcriptDomIdUnderPreviousEditing=this.transcriptDomIdUnderEditing,e=e||this.activeTranscript,this.transcriptDomIdUnderEditing="#transcript-"+e.id,this.transcriptDomUnderEditing=$(this.transcriptDomIdUnderEditing+"  .transcript-text"),this.previousTranscript=e,this.transcriptDomUnderEditing.attr("contentEditable","true"),this.transcriptDomUnderEditing.addClass("editable"),e=$(".transcript-text-action-bar",$(this.transcriptDomIdUnderEditing)),this.updateActionButtonState($(this.transcriptDomIdUnderEditing)),e.addClass("visible"),t&&this.transcriptDomUnderEditing&&0<this.transcriptDomUnderEditing.length&&this.setFocusToEditableBox()},d.prototype.setFocusToEditableBox=function(){this.autoFocus=!0,this.transcriptDomUnderEditing.focus(),this.moveCursorToEnd(this.transcriptDomUnderEditing.get(0))},d.prototype.makeCurrentEditableTranscriptNonEditable=function(){this.transcriptDomUnderEditing&&(this.transcriptDomUnderEditing.attr("contentEditable","false"),this.transcriptDomUnderEditing.removeClass("editable"),this.areTranscriptNewEditButtonsEnabled&&$(".transcript-text-action-bar",$(this.transcriptDomIdUnderEditing)).removeClass("visible")),this.transcriptUnderEditingContent.id="",this.transcriptUnderEditingContent.value="",this.currentEditIndex=-1},d.prototype.moveCursorToEnd=function(e){var t;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(e=window.getSelection()).removeAllRanges(),e.addRange(t))},d.prototype.logTranscriptUserAction=function(e){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.TranscriptUserAction,{transcriptAction:e})},d.$inject=["$scope","$element","$timeout","$q","resources","telemetryService","featureFlagsService","videoEventService","$location"],n=d,t.TranscriptController=n},"./app/components/Video/VideoPage/VideoPageController.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./common/components/MediaPlayer/MediaPlayerController.ts"),c=n("./app/utility/string.ts"),l=n("./app/utility/Constants.ts"),u=n("./app/utility/KeyCodes.ts"),d=n("./common/Directives/Drawer/Drawer.ts"),p=n("./app/services/NavigationService.ts"),m=n("./app/services/VideoBgUploaderService.ts"),A=n("./Embed/Utility/appUtil.ts"),h=n("./app/components/Video/Transcript/TranscriptController.ts"),f=n("./common/components/TabNavigation/TabNavigationController.ts"),g=n("./app/utility/appUtil.ts"),v=n("./app/utility/videoEventUtils.ts"),y=n("./app/utility/LiveEventUtils.ts"),S=n("./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts"),b="processing",C="completed";function E(e,t,n,i,r,a,u,d,p,m,f,g,y,S,b,C,E,w,T,P,B,I,D){var k=this;function F(e){k.sendTelemetryEvents()}this.$scope=e,this.videoService=t,this.resources=n,this.telemetryService=i,this.featureFlagsService=r,this.textTrackDataFactory=a,this.textTrackLanguageService=u,this.navigationService=d,this.$window=p,this.$location=m,this.deleteConfirmationDialogService=f,this.principalService=g,this.videoBgUploaderService=y,this.dataShareService=S,this.$timeout=b,this.mediaDownloaderService=C,this.$rootScope=E,this.$element=w,this.$q=T,this.inAdminModeService=P,this.tenantService=B,this.videoEventService=I,this.replaceVideoService=D,this.videoSource={},this.autoPlayStatus=!1,this.playerOptions={playbackUrls:null},this.showMetadata=!1,this.showErrorMessage=!1,this.videoEditorInactive=!0,this.errorMessage="",this.isYammerLoaded=!1,this.showFormControls=!1,this.showReplaceBar=!1,this.showTrimBar=!1,this.rightTabDrawerItems=[],this.bottomTabDrawerItems=[],this.isTranscriptEditMode=!1,this.doesAccessRequestSent=!1,this.doesRequestSucceed=!1,this.doesRequestedVideoExist=!0,this.doesPermissionExist=!1,this.userHideTranscript=!1,this.userHidePeople=!1,this.isLiveToVODTransitionHappened=!1,this.forbiddenDivTitle=this.resources.Controllers.Video.Forbidden.Title,this.playerBottomTabOptions={options:[]},this.playerRightTabOptions={options:[]},this.yammerHasError=!1,this.audienceDidReachEndOfVodlessPlayback=!1,this.currentBottomTab=o.Details,this.currentRightTab=o.Yammer,this.yammerEmbedHtmlId="#yammer-embed",this.hideBottomTranscript=!1,this.hideBottomYammer=!0,this.hideBottomForms=!1,this.yammerArtificialError=!1,this.sdnEnabled=!1,this.boundYammerEventCallback=null,this.forms={},this.formFeatureEnabled=!1,this.isCaptionSupported=!1,this.transcriptState=h.TranscriptState.Loading,this.formId="",this.videoPageSessionMetrics={ChannelsAdded:0,SeeMoreClicked:0,SeeLessClicked:0},this.videoPageSessionProperties={ExitBy:l.Constants.ExitBy.other,ShareClicked:!1,LikeClicked:!1,AddToChannelClicked:!1,AddToWatchlist:!1,deleteClicked:!1,RemoveFromWatchlist:!1},this.elevatedVideoSessionProperties={titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",error:!1,userViewedVideoAsAdmin:!1,userLikedVideoAsAdmin:!1,userUnlikedVideoAsAdmin:!1,userPinnedVideoAsAdmin:!1,userUnpinnedVideoAsAdmin:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1},this.dialogInterruptionHandler={wasPaused:!1,recover:function(){k.player&&!k.dialogInterruptionHandler.wasPaused&&k.player.play()},pauseVideoAndSaveContext:function(){k.player&&(k.dialogInterruptionHandler.wasPaused=k.player.paused(),k.player.paused()||k.player.pause())},suppressAutoplay:function(){k.player&&k.player.addEventListener(amp.eventName.loadeddata,k.player.pause,{once:!0})}},this.isWatchList=!1,this.refreshPageLayout=function(){k.screenWidth=k.$window.innerWidth,k.screenWidth<l.Constants.ScreenBreakpoints.Large&&(k.moveRightTabsToBottom(),0==$("#related-videos","#related-videos-container-for-small-screen").length&&$("#related-videos").appendTo($("#related-videos-container-for-small-screen")),k.theaterMode||($("#player-wrapper").removeClass("small-6"),$("#player-wrapper").addClass("small-12")),$("#player-right-container-wrapper").hide()),k.screenWidth>=l.Constants.ScreenBreakpoints.Large&&(k.theaterMode?k.moveRightTabsToBottom():k.moveYammerAndTranscriptToRight(),0==$("#related-videos","#related-videos-container-for-big-screen").length&&$("#related-videos").appendTo($("#related-videos-container-for-big-screen")),$("#player-right-container-wrapper").show(),k.setDefaultBottomTab()),k.transcriptHandler(),k.theaterModeHandler(),k.initTabFocusHandlers(),k.transcriptController&&(k.transcriptController.showRightDrawer=k.showRightContainer)},this.setTabFocusHandler=function(e,t,n){$("button",$("."+e.className)).on("keydown",{controller:k,option:e,parentContainer:t,direction:n},k.tabFocusHandler)},this.featureTelemetryTracker=this.telemetryService.getTracker(s.ScreenName.Video,s.ResourceType.Video,this.videoId),this.featureTelemetryTracker.tagScreen(),this.yammerEvents=[],this.drawerItems=[],this.viewSettings=[],this.UploadingStatusBoxTitle=this.resources.Controllers.Video.Uploading.Title,this.UploadingStatusBoxMessage=this.resources.Controllers.Video.Uploading.Message,this.formFeatureEnabled=v.isFormFeatureEnabled(this.featureFlagsService),m.search().list==l.Constants.lists.WatchList&&(this.isWatchList=!0),this.yammerArtificialError=m.search().yammerArtificialError,this.principalService.getMyPrincipalInfo().then((function(e){k.isStreamAdmin=k.principalService.getIsStreamAdmin(),k.servicePlans=e.data.servicePlans,k.transcriptSearchEnabled=e.data.servicePlans.capabilities.transcriptSearch,k.forms.canView=v.canViewForms(e.data,k.featureFlagsService),k.forms.canManage=v.canAddForm(e.data,k.featureFlagsService),k.isInAdminMode=k.isStreamAdmin&&k.principalService.getAdminModeStatus(),k.$scope.$watch(k.principalService.getAdminModeStatus,(function(e,t){e!=t&&k.onAdminModeClick()}))})).finally((function(){k.isInAdminMode?k.inAdminModeService.videoId=k.videoId:k.inAdminModeService.videoId=null,k.dataInitialize(k.videoId)})),this.$scope.$on(l.Constants.Events.videoEditorLoaded,(function(){k.videoEditorInactive=!1})),this.$scope.$on(l.Constants.Events.videoEditorClosed,(function(){k.videoEditorInactive=!0})),this.$scope.$on(l.Constants.Events.TimeStampTagClicked,(function(e,t){e.stopPropagation(),_.isNumber(t.timeInSeconds)&&0<=t.timeInSeconds&&k.playerSeekFunction(t.timeInSeconds,t.seekAndPlay)})),this.$scope.$on(l.Constants.Events.ResumePlayer,(function(e,t){e.stopPropagation(),k.player&&k.player.paused()&&k.playerPlayFunction()})),this.$scope.$on(l.Constants.Events.PausePlayer,(function(e){e.stopPropagation(),k.player&&!k.player.paused()&&k.playerPauseFunction()})),this.$window.addEventListener("beforeunload",F),this.$window.addEventListener("resize",this.refreshPageLayout),this.$scope.$on("$destroy",(function(e){k.isInAdminMode&&(k.inAdminModeService.videoId=null),k.sendTelemetryEvents(),k.$window.removeEventListener("beforeunload",F),k.$window.removeEventListener("resize",k.refreshPageLayout);var t=window.yam;t&&t.off&&t.off("all",k.boundYammerEventCallback),k.clearTabFocusHandlers(),A.removeAllThemes()})),this.$window.document.title=c.formatString(this.resources.BrowserTitle.WatchVideo.Default,l.Constants.ProductName),A.setTheme("theme-for-videopage"),this.registerConfirmationDialogEvents({onOpen:function(){return k.dialogInterruptionHandler.pauseVideoAndSaveContext()},onClose:function(){return k.dialogInterruptionHandler.recover()}}),this.featureFlagsService.Values.NetworkCaching&&this.tenantService.getSettings().then((function(e){_.get(e.data,"system.networkCaching.provider",null)&&_.get(e.data,"system.networkCaching.providerVideoUrl",null)&&(k.sdnEnabled=!0),k.tenantSettings=e.data})),this.$scope.$watch((function(){return k.currentRightTab}),(function(e,t){-1!==e&&e!==t&&(k.adjustRightContainerHeight(e),k.currentRightTab===o.Transcript&&k.transcriptController?(k.transcriptController.showRightDrawer=!0,k.transcriptController.initDrawer()):k.rightTabDrawerItems=[])})),this.$scope.$watch((function(){return k.currentBottomTab}),(function(e,t){-1!==e&&e!==t&&(k.currentBottomTab===o.Transcript&&k.transcriptController?(k.transcriptController.showRightDrawer=!1,k.transcriptController.initDrawer()):k.bottomTabDrawerItems=[])})),this.autoPlayStatus=this.$location.search().autoplay&&"true"===this.$location.search().autoplay.toLowerCase(),this.initTabFocusHandlers(),this.dataShareService.videoPlaybackLoadStartInMs=performance.now()}(n=o=o||{})[n.Details=0]="Details",n[n.Transcript=1]="Transcript",n[n.People=2]="People",n[n.Yammer=3]="Yammer",n[n.Analytics=4]="Analytics",n[n.Interactivity=5]="Interactivity",E.prototype.jumpToForm=function(e,t){void 0===t&&(t=!0),this.player&&this.player.jumpToEvent&&(this.player.jumpToEvent(e),t&&this.player.pause())},Object.defineProperty(E.prototype,"isTranscriptEditV3Enabled",{get:function(){return this.featureFlagsService.Values.TranscriptEditV3},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isFaceDetectionEnabled",{get:function(){return!this.featureFlagsService.Values.DisableFaceDetection},enumerable:!0,configurable:!0}),E.prototype.setEvents=function(e){var t=this.player;t&&t.setEvents&&t.setEvents(e),this.video.timedEvents=e},Object.defineProperty(E.prototype,"player",{get:function(){return this.ampPlayer||(this.ampPlayer=a.getAMPPlayer()),this.ampPlayer},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"formTabEnabled",{get:function(){return this.routingCase===l.Constants.RoutingCase.Normal&&!this.isLiveNow&&v.isFormTabEnabled(this.featureFlagsService)&&0<this.videoDurationSeconds&&(0<this.timedEvents.length||this.isEditorOrInAdminMode)&&(!this.featureFlagsService.Values.LiveEventOptions||!this.video.liveEvent||this.video.liveEvent.liveEventOptions&&this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"videoDurationSeconds",{get:function(){return this.video&&this.video.media?g.formatISODurationToSeconds(this.video.media.duration):0},enumerable:!0,configurable:!0}),E.prototype.resetLayout=function(){$("#transcript-container, #forms-container").appendTo($("#under-player-container")),this.setViewSettingsDrawerItems()},E.prototype.initTabOptions=function(){this.playerBottomTabOptions={options:[{value:o.Details,text:this.resources.Details,className:"details-bottom-tab"},{hide:this.hideBottomTranscript||!this.showTranscriptOrNotReadyMessage,value:o.Transcript,text:this.resources.VideoPage.ViewSettings.TranscriptMode,className:"transcript-bottom-tab"},{hide:!this.showPeopleOrNotReadyMessage||!_.get(this.tenantSettings,"system.contentManagement.allowFaceDetection")||this.featureFlagsService.Values.DisableFaceDetection,value:o.People,text:this.resources.FaceChart.Title,className:"faces-bottom-tab"},{hide:!this.isYammerAvailable||this.hideBottomYammer,value:o.Yammer,text:c.formatString(this.resources.LiveYammerConversation,l.Constants.ExternalProviders.Yammer.name),className:"yammer-bottom-tab"},{hide:!this.showAnalytics,value:o.Analytics,text:this.resources.Analytics,className:"analytics-bottom-tab"}]},this.setDefaultRightTab(),this.playerRightTabOptions={options:[{hide:!this.isYammerAvailable,value:o.Yammer,text:c.formatString(this.resources.LiveYammerConversation,l.Constants.ExternalProviders.Yammer.name),className:"yammer-right-tab"},{hide:!this.hideBottomTranscript||!this.showTranscriptOrNotReadyMessage,value:o.Transcript,text:this.resources.VideoPage.ViewSettings.TranscriptMode,className:"transcript-right-tab"}]},this.showInteractiveTab()&&(this.playerBottomTabOptions.options.push({hide:this.hideBottomForms,value:o.Interactivity,text:this.resources.Interactivity,className:"forms-bottom-tab"}),this.playerRightTabOptions.options.push({hide:!this.hideBottomForms,value:o.Interactivity,text:this.resources.Interactivity,className:"forms-right-tab"}))},Object.defineProperty(E.prototype,"showMessageBar",{get:function(){return!!this.video&&!!this.video.userData&&this.video.userData.permissions.canEdit&&(this.showReplaceBar||this.showTrimBar)},enumerable:!0,configurable:!0}),E.prototype.showInteractiveTab=function(){return!!this.formTabEnabled&&(this.isEditorOrInAdminMode||0<this.timedEvents.length)},E.prototype.setDefaultRightTab=function(){this.showInteractiveTab()&&this.featureFlagsService.Values.FormsDefaultTab?this.currentRightTab=o.Interactivity:this.isYammerAvailable?this.currentRightTab=o.Yammer:this.showTranscript?this.currentRightTab=o.Transcript:this.formTabEnabled?this.currentRightTab=o.Interactivity:this.currentRightTab=-1},E.prototype.resetRightTab=function(){this.currentRightTab=-1},E.prototype.setDefaultBottomTab=function(){this.currentBottomTab!==o.Details&&this.currentBottomTab!==o.People&&this.currentBottomTab!==o.Analytics&&this.hideBottomTranscript&&this.hideBottomYammer&&(this.currentBottomTab=o.Details)},E.prototype.registerConfirmationDialogEvents=function(e){var t=".ngdialog .confirmation-dialog";this.$scope.$watch((function(){return $(t).length}),(function(n){1<=n&&(e.onOpen(),angular.element($(t)).scope().$on("$destroy",(function(){return e.onClose()})))}))},E.prototype.onTranscriptClick=function(){var e,t=this;this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.ShowHideTranscriptToggle,{videoId:this.videoId}),this.showTranscript?(e=this.viewSettings.indexOf(this.hideTranscriptButton),this.viewSettings[e]=this.showTranscriptButton):(e=this.viewSettings.indexOf(this.showTranscriptButton),this.viewSettings[e]=this.hideTranscriptButton),this.showTranscript=!this.showTranscript,this.userHideTranscript=!this.showTranscript,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.Transcript&&(e.hide=t.hideBottomTranscript||!t.showTranscript)})),this.playerRightTabOptions.options.forEach((function(e){e.value===o.Transcript&&(e.hide=!t.hideBottomTranscript||!t.showTranscript)})),this.transcriptHandler(),this.clearTabFocusHandlers(),this.setRightTabDefaultFocusHandlers(),this.setBottomTabDefaultFocusHandlers()},E.prototype.onVideoCompleted=function(){this.isLiveContent&&!this.isLiveToVODTransitionHappened&&(this.videoEditStateInfo&&(this.videoEditStateInfo.videoState=l.Constants.VideoStatus.Completed),this.isLiveToVODTransitionHappened=!0),this.autoPlayStatus&&this.featureFlagsService.Values.AutoPlay&&this.autoPlayInit()},E.prototype.getListOfChannelVideos=function(e){this.relatedVideos=e},E.prototype.getAutoPlayToggleStatus=function(e){this.autoPlayStatus=e},E.prototype.autoPlayInit=function(){var e=this.video.id,t=null,n=this.relatedVideos.findIndex((function(t){return t.id===e}))+1;n<this.relatedVideos.length&&this.relatedVideos[n]&&(t=this.relatedVideos[n].id,this.videoSource.channelId=this.$location.search().channelId,this.videoSource.sort=this.$location.search().sort,this.videoSource.autoplay=this.autoPlayStatus?"true":"false",this.videoSource.skip=Number(this.$location.search().skip)+1,t=p.generatePathWithQueryStrings(l.Constants.Routes.Video,t,this.videoSource),this.navigationService.navigate(t))},E.prototype.retry=function(){this.$window.location.reload()},Object.defineProperty(E.prototype,"tabHeaderDirection",{get:function(){return f.ITabDirection.horizontal},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isLiveNow",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.videoState.toLowerCase()===l.Constants.VideoStatus.Live&&!this.isReplacing},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isCompletedOnLoad",{get:function(){return!this.isLiveContent||this.isLiveContent&&this.originalState===l.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isCreated",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.videoState.toLowerCase()===l.Constants.VideoStatus.Created},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isCompleted",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.videoState.toLowerCase()===l.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isLiveContent",{get:function(){return this.video&&this.video.contentSource&&this.video.contentSource.toLowerCase()===l.Constants.VideoContentSource.liveStream.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isLiveContentCreatedState",{get:function(){return this.isLiveContent&&this.isCreated},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isReplacing",{get:function(){return this.video.state&&(c.isStringEqual(this.video.state,l.Constants.VideoStatus.Processing)||c.isStringEqual(this.video.state,l.Constants.VideoStatus.Uploading))&&this.video.status&&this.video.status.processingStatus&&(this.videoEditStateInfo.isReplacingVideo=_.some(this.video.status.processingStatus,{type:l.Constants.VideoProcessingStatusType.replacing.toLowerCase(),state:l.Constants.VideoStatus.Processing.toLowerCase()})),this.replaceVideoService.isReplacing(this.videoEditStateInfo)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isTrimming",{get:function(){var e=!1;return this.video.status&&_.forEach(this.video.status.processingStatus,(function(t){t&&t.type.trim().toLowerCase()===l.Constants.VideoProcessingStatusType.trimming.toLowerCase()&&(e=t.state.trim().toLowerCase()===l.Constants.VideoStatus.Processing.toLowerCase())})),e},enumerable:!0,configurable:!0}),E.prototype.isBottomTabSet=function(e){return this.currentBottomTab===e},E.prototype.isRightTabSet=function(e){return this.currentRightTab===e},Object.defineProperty(E.prototype,"display12Column",{get:function(){return!this.showRightContainer&&(this.isLiveNow||this.isLiveContentCreatedState)||this.theaterMode&&this.isLiveNow},enumerable:!0,configurable:!0}),E.prototype.transcriptHandler=function(){var e=this;$("#player-right-container").removeClass("vertical-space"),$("#related-videos").removeClass("vertical-space"),this.theaterMode?(this.moveRightTabsToBottom(),this.moveRelatedVideoDown(),this.screenWidth<=l.Constants.ScreenBreakpoints.Large&&$("#related-videos").addClass("vertical-space")):(this.showTranscript||this.formTabEnabled?this.screenWidth>=l.Constants.ScreenBreakpoints.Large?(this.theaterMode||(this.moveYammerAndTranscriptToRight(),this.moveRelatedVideoDown(),this.$timeout((function(){e.setRightContainerHeight()}))),this.isLiveNow&&($("#player-wrapper").removeClass("medium-12 large-12"),$("#player-wrapper").addClass("medium-8 large-8"))):$("#related-videos").addClass("vertical-space"):this.screenWidth>=l.Constants.ScreenBreakpoints.Small&&this.screenWidth<l.Constants.ScreenBreakpoints.Medium?$("#related-videos").addClass("vertical-space"):this.screenWidth>=l.Constants.ScreenBreakpoints.Medium&&void 0!==this.showTranscript?this.isYammerAvailable?(this.moveRelatedVideoDown(),this.moveYammerToRight()):this.showTranscript||this.formTabEnabled||(this.screenWidth>=l.Constants.ScreenBreakpoints.Large?this.moveRelatedVideoUp():$("#related-videos").addClass("vertical-space")):this.screenWidth<=l.Constants.ScreenBreakpoints.Large&&$("#related-videos").addClass("vertical-space"),this.isLiveContent&&!this.showTranscript&&this.screenWidth>=l.Constants.ScreenBreakpoints.Medium&&this.$timeout((function(){e.setRightContainerHeight()})))},E.prototype.moveRelatedVideoUp=function(){setTimeout((function(){var e=0;e=null===$("div.related-videos .related-video-label").outerHeight()?35:$("div.related-videos .related-video-label").outerHeight(),e=$("#player-wrapper").height()+e;$("#related-videos-container-for-big-screen").css("margin-top","-"+e+"px")}))},E.prototype.moveRelatedVideoDown=function(){$("#related-videos-container-for-big-screen").css("margin-top","0")},E.prototype.onFaceClick=function(){var e,t=this;this.showFaces?(e=this.viewSettings.indexOf(this.hideFacesButton),this.viewSettings[e]=this.showFacesButton):(e=this.viewSettings.indexOf(this.showFacesButton),this.viewSettings[e]=this.hideFacesButton),this.showFaces=!this.showFaces,this.userHidePeople=!this.showFaces,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.People&&(e.hide=!t.showFaces)})),this.setBottomTabDefaultFocusHandlers()},E.prototype.onTheaterModeClick=function(){this.theaterMode=!this.theaterMode,this.theaterModeHandler()},E.prototype.EnableTheaterMode=function(e){var t=this;this.$scope.$evalAsync((function(){t.theaterMode=e,t.theaterModeHandler()}))},E.prototype.showRightInteractiveDrawer=function(){return this.showRightContainer&&!_.isEmpty(this.rightTabDrawerItems)},E.prototype.showBottomInteractiveDrawer=function(){return!this.showRightContainer&&!_.isEmpty(this.bottomTabDrawerItems)},E.prototype.toggleTranscriptEditMode=function(){return i(this,void 0,Promise,(function(){return r(this,(function(e){switch(e.label){case 0:return this.transcriptController?this.transcriptController.isTranscriptEditMode?[3,2]:[4,this.getVideoStatus()]:[3,3];case 1:e.sent(),e.label=2;case 2:this.transcriptController.actionHandler(this.showTrimBar||this.showReplaceBar),e.label=3;case 3:return[2]}}))}))},E.prototype.theaterModeHandler=function(){var e=this;this.changeTheaterModeButton(),this.theaterMode?($(".video-player-container").addClass("video-player-background"),$(".video-player-container").css("padding-top","0px"),this.screenWidth>=l.Constants.ScreenBreakpoints.Medium?this.screenWidth>=l.Constants.ScreenBreakpoints.Large?$("#player-wrapper").hasClass("large-8")&&($("#player-wrapper").removeClass("large-8"),$("#player-wrapper").addClass("large-12"),this.transcriptHandler()):this.screenWidth>=l.Constants.ScreenBreakpoints.Medium&&$("#player-wrapper").hasClass("medium-8")&&($("#player-wrapper").removeClass("medium-8"),$("#player-wrapper").addClass("medium-12")):$("#player-wrapper").hasClass("small-6")&&($("#player-wrapper").removeClass("small-6"),$("#player-wrapper").addClass("small-12"),$("#under-player-container").addClass("vertical-space")),this.moveRightTabsToBottom(),this.moveFormsToBottom(),this.resetRightContainerHeight(),this.setBottomTabDefaultFocusHandlers()):($(".video-player-container").css("padding-top","20px"),$(".video-player-container").removeClass("video-player-background"),this.screenWidth>=l.Constants.ScreenBreakpoints.Large&&this.routingCase===l.Constants.RoutingCase.Normal?(this.$timeout((function(){e.showTranscript||e.isYammerAvailable||e.formTabEnabled||e.moveRelatedVideoUp()})),(this.showRightContainer||this.isCompleted)&&$("#player-wrapper").hasClass("large-12")&&($("#player-wrapper").removeClass("large-12"),$("#player-wrapper").addClass("large-8")),$("#player-wrapper").hasClass("small-12")&&this.showTranscript&&($("#player-wrapper").removeClass("small-12"),$("#player-wrapper").addClass("small-6"),$("#under-player-container").removeClass("vertical-space")),this.moveFormsToRight(),this.moveYammerAndTranscriptToRight(),this.setRightTabDefaultFocusHandlers()):$("#player-wrapper").hasClass("small-12")&&!this.showTranscript&&$("#under-player-container").removeClass("vertical-space"),this.$timeout((function(){e.setRightContainerHeight()})))},E.prototype.moveYammerAndTranscriptToRight=function(){!this.showTranscript&&!this.isYammerAvailable||$("#player-right-container-content #transcript-right-tab-page #transcript-container").length||($("#transcript-container").appendTo("#player-right-container-content #transcript-right-tab-page"),this.switchTranscriptTab(!1)),this.moveYammerToRight(),this.setDefaultRightTab(),this.setDefaultBottomTab()},E.prototype.moveYammerToRight=function(){$("#player-right-container-content #yammer-right-tab-page #yammer-container").length||($("#yammer-container").appendTo("#player-right-container-content #yammer-right-tab-page"),this.switchYammerTab(!1)),this.setDefaultRightTab()},E.prototype.moveFormsToBottom=function(e){void 0===e&&(e=!0),$("#forms-container","#under-player-container #forms-bottom-tab").length||($("#forms-container").appendTo("#under-player-container #forms-bottom-tab"),this.switchFormsTab(!0)),e&&(this.setDefaultBottomTab(),this.setDefaultRightTab())},E.prototype.moveFormsToRight=function(e){void 0===e&&(e=!0),$("#forms-container","#player-right-container-content #forms-right-tab-page").length||($("#forms-container").appendTo("#player-right-container-content #forms-right-tab-page"),this.switchFormsTab(!1)),e&&(this.setDefaultBottomTab(),this.setDefaultRightTab())},E.prototype.moveRightTabsToBottom=function(){$("#transcript-container","#under-player-container #transcript-bottom-tab").length||($("#transcript-container").appendTo("#under-player-container #transcript-bottom-tab"),this.switchTranscriptTab(!0)),$("#yammer-container","#under-player-container #yammer-bottom-tab").length||($("#yammer-container").appendTo("#under-player-container #yammer-bottom-tab"),this.switchYammerTab(!0)),this.moveFormsToBottom(!1),this.setDefaultBottomTab(),this.resetRightTab()},E.prototype.switchTranscriptTab=function(e){var t=this;void 0===e&&(e=!1),this.hideBottomTranscript=!e,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.Transcript&&(e.hide=t.hideBottomTranscript||!t.showTranscriptOrNotReadyMessage)})),this.playerRightTabOptions.options.forEach((function(n){n.value===o.Transcript&&(n.hide=e||!t.showTranscriptOrNotReadyMessage)}))},E.prototype.switchFormsTab=function(e){var t=this;void 0===e&&(e=!1),this.hideBottomForms=!e,this.playerBottomTabOptions.options.filter((function(e){return e.value===o.Interactivity})).forEach((function(e){return e.hide=!t.formFeatureEnabled||t.hideBottomForms})),this.playerRightTabOptions.options.filter((function(e){return e.value===o.Interactivity})).forEach((function(n){return n.hide=e||!t.formFeatureEnabled}))},E.prototype.switchYammerTab=function(e){var t=this;void 0===e&&(e=!1),this.hideBottomYammer=!e,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.Yammer&&(e.hide=!t.isYammerAvailable||t.hideBottomYammer)})),this.playerRightTabOptions.options.forEach((function(n){n.value===o.Yammer&&(n.hide=e||!t.isYammerAvailable)}))},E.prototype.setRightContainerHeight=function(){this.showRightContainer?this.adjustRightContainerHeight(this.currentRightTab):($("#player-right-container-content").height("auto"),$(".video-detail-container").css("margin-top","0"))},E.prototype.adjustRightContainerHeight=function(e){var t,n=$(".video-detail-container"),i=$(".sub-header",$("#player-right-container-wrapper")).height(),r=$("#playerContent").height();this.videoMetadataHeight||(this.videoMetadataHeight=$(".video-meta-container").height()||0),this.isYammerAvailable&&e==o.Yammer?(t=r+(e=$(".bottom-navigation .tab-navigation").height()+this.videoMetadataHeight),e-=10,n.css("margin-top","-"+e+"px")):(t=r,n.css("margin-top","0")),$("#player-right-container-content").height(t-i)},E.prototype.resetRightContainerHeight=function(){$("#player-right-container").height("auto"),$(".video-detail-container").css("margin-top","0")},E.prototype.onInit=function(e){this.playerSeekFunction=e.seekFunction,this.getCurrentTime=e.getCurrentTime,this.playerPlayFunction=e.play,this.playerPauseFunction=e.pause,this.toggleTheaterMode=e.toggleTheaterMode,this.ampPlayer=this.player,this.$location.search(l.Constants.QueryStringKeys.st,null)},Object.defineProperty(E.prototype,"playbackTime",{get:function(){return this.player.currentTime()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isVODLess",{get:function(){return y.isVodlessLiveEvent(this.video)},enumerable:!0,configurable:!0}),E.prototype.onTimeUpdate=function(e){this.playerTime=e,this.$scope.$evalAsync()},E.prototype.onAudienceDidReachEndOfVodlessPlayback=function(){this.audienceDidReachEndOfVodlessPlayback=!0},E.prototype.onAdminModeClick=function(){this.isInAdminMode=!this.isInAdminMode,this.drawerItems=[],this.dataInitialize(this.videoId),this.resetLayout(),this.isInAdminMode?(this.video=null,this.ampPlayer=null):(this.showMetadata=!1,this.video=null,this.ampPlayer=null,this.navigationService.clearQueryParams(),this.$window.location.reload())},Object.defineProperty(E.prototype,"isEditorOrInAdminMode",{get:function(){return _.get(this.video,"userData.permissions.canEdit",!1)||this.isInAdminMode},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"shouldShowEndEventMessage",{get:function(){if(!this.isCompleted||this.isLiveNow)return!1;if(y.isVodlessLiveEvent(this.video)){if(this.video.liveEvent.liveEventOptions.onDemandOptions&&!this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload)return!0;if(this.video.userData&&this.video.userData.permissions&&this.video.userData.permissions.canEdit)return!1;if(y.isEndedVodlessLiveEvent(this.video)||this.audienceDidReachEndOfVodlessPlayback)return!0}return!1},enumerable:!0,configurable:!0}),E.prototype.getVideoStatus=function(){var e=this;return this.videoService.getVideoStatus(this.video.id,this.isInAdminMode).then((function(t){t=t.data,_.forEach(t.processingStatus,(function(t){var n;t&&t.type&&(n=t.type.trim().toLowerCase(),t=t.state.trim().toLocaleLowerCase(),n===l.Constants.VideoProcessingStatusType.replacing.toLowerCase()?t===l.Constants.VideoStatus.Processing.toLowerCase()&&(e.showReplaceBar=!0,e.$scope.$broadcast(l.Constants.Events.TranscriptEditingDisabled)):n===l.Constants.VideoProcessingStatusType.trimming.toLowerCase()&&t===l.Constants.VideoStatus.Processing.toLowerCase()&&e.isTrimVideoEnabled&&(e.showTrimBar=!0,e.$scope.$broadcast(l.Constants.Events.TranscriptEditingDisabled),e.routingCase=l.Constants.RoutingCase.Normal))}))}),(function(t){e.featureTelemetryTracker.fail(s.FeatureName.GetVideoStatus,s.SubFeatureName.VideoService_GetVideoStatus,t)}))},E.prototype.dataInitialize=function(e){var t=this;e&&this.videoService.get(e,this.isInAdminMode,!0).then((function(n){var i;n.data.timedEvents=n.data.timedEvents||[],n.data.state===l.Constants.VideoStatus.Error?t.routingCase=l.Constants.RoutingCase.VideoError:(t.video=n.data,t.isCaptionSupported=!_.isEmpty(_.get(t.video,"language")),t.forms.canView&&v.canVideoHaveForms(t.video)&&t.videoEventService.getForms(e).then((function(e){var i=v.normalizeFormData(e.data.value,t.featureFlagsService,t.video);(e=n.data.timedEvents).push.apply(e,i),t.featureTelemetryTracker.succeed(s.FeatureName.Forms,{videoId:t.videoId})})).catch((function(e){t.featureTelemetryTracker.fail(s.FeatureName.Forms,s.SubFeatureName.Forms_Get,e,{videoId:t.videoId})})).finally((function(){t.setEvents(n.data.timedEvents),t.initTabOptions(),-1===t.currentRightTab&&t.setDefaultRightTab(),t.setRightContainerHeight(),t.transcriptHandler()})),t.originalState=t.video.state,t.videoEditStateInfo={videoState:t.video.state},setTimeout((function(){return t.instantiateYammerEmbed()})),t.videoPageSessionProperties.videoId=t.videoId,t.videoPageSessionProperties.published=t.video.published,t.$window.document.title=c.formatString(t.resources.BrowserTitle.WatchVideo.Loaded,l.Constants.ProductName,t.video.name),t.showMetadata=!0,t.initTabOptions(),n.data.state===l.Constants.VideoStatus.Completed||t.video.contentSource===l.Constants.VideoContentSource.liveStream&&(n.data.state===l.Constants.VideoStatus.Live||n.data.state===l.Constants.VideoStatus.Created)?(t.videoPageSessionProperties.VideoState="Completed",t.routingCase=l.Constants.RoutingCase.Normal,n.data.state===l.Constants.VideoStatus.Completed&&t.onVideoCompleted()):n.data.state===l.Constants.VideoStatus.Uploading?((i=_.find(t.videoBgUploaderService.mediaUploadList,(function(e){return e.resourceId===t.videoId})))?(t.videoEditStateInfo.isReplacingVideo=i.isReplacing,i.status===m.UploadStatus.failed&&(t.UploadingStatusBoxTitle=t.resources.Controllers.Video.Error.Title,t.UploadingStatusBoxMessage=t.resources.Controllers.Video.Error.Message)):!t.isLiveContent&&new Date(t.video.created).getTime()+l.Constants.UploadingStateThreshold<Date.now()&&(t.UploadingStatusBoxTitle=t.resources.Controllers.Video.UploadingStateUnknown.Title,t.UploadingStatusBoxMessage=t.resources.Controllers.Video.UploadingStateUnknown.Message),t.videoPageSessionProperties.VideoState="Uploading",t.isReplacing?(t.videoEditStateInfo.isReplacingVideo=!0,t.showReplaceBar=!0,t.routingCase=l.Constants.RoutingCase.Normal):t.routingCase=l.Constants.RoutingCase.Uploading):(t.videoPageSessionProperties.VideoState="Processing",t.isReplacing?(t.videoEditStateInfo.isReplacingVideo=!0,t.showReplaceBar=!0,t.routingCase=l.Constants.RoutingCase.Normal):t.routingCase=l.Constants.RoutingCase.NotReady),t.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.dataLoaded,{videoId:t.videoId,status:"success"}),t.showFormControls=t.featureFlagsService.Values.Forms&&(t.video.userData.permissions.canEdit||t.isInAdminMode)&&t.forms.canManage),t.isCompleted&&t.video.status&&_.forEach(t.video.status.processingStatus,(function(e){var n,i=e.type.trim().toLowerCase(),r=e.state.trim().toLocaleLowerCase();t.servicePlans&&t.servicePlans.capabilities.transcriptEvent&&i===l.Constants.VideoProcessingStatusType.caption.toLowerCase()?(t.captionReady=r===C&&t.isCaptionSupported,t.captionProcessing=r===b,t.captionProcessing&&(n=t.video.liveEvent?1e3*g.formatISODurationToSeconds(t.video.media.duration)+9e5:1e3*g.formatISODurationToSeconds(t.video.media.duration),e=new Date(t.video.modified).getTime(),t.captionProcessingPastSLA=0!=n&&e+n<Date.now()),t.captionError="error"===r):i===l.Constants.VideoProcessingStatusType.trimming.toLowerCase()&&r===l.Constants.VideoStatus.Processing.toLowerCase()&&t.isTrimVideoEnabled?(t.showTrimBar=!0,t.routingCase=l.Constants.RoutingCase.Normal):t.servicePlans&&t.servicePlans.capabilities.faceEvent&&i===l.Constants.VideoProcessingStatusType.faceDetection.toLowerCase()&&(t.faceReady=r===C,t.faceProcessing=r===b)})),t.setViewSettingsDrawerItems()}),(function(e){e.status==l.Constants.HttpStatusCode.NotFound?(t.routingCase=l.Constants.RoutingCase.NotFound,t.featureTelemetryTracker.warn(s.FeatureName.LoadVideoPage,s.SubFeatureName.VideoService_GetVideo,e)):e.status==l.Constants.HttpStatusCode.Forbidden?(t.routingCase=l.Constants.RoutingCase.Forbidden,t.featureTelemetryTracker.warn(s.FeatureName.LoadVideoPage,s.SubFeatureName.VideoService_GetVideo,e)):(t.routingCase=l.Constants.RoutingCase.ServerError,t.featureTelemetryTracker.fail(s.FeatureName.LoadVideoPage,s.SubFeatureName.General_ErrorState,e),t.navigationService.navigate("fallback"));var n=g.errorMessage(e);t.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.dataLoaded,{videoId:t.videoId,status:"failed",statusCode:e.status,message:n})})).finally((function(){var e=t;t.$timeout((function(){var t;"function"==typeof Event?t=new Event("resize"):(t=document.createEvent("Event")).initEvent("resize",!0,!0),e.$window.dispatchEvent(t)}))}))},E.prototype.setCaptionSupportedToTrueSpyon=function(){return!0},Object.defineProperty(E.prototype,"isYammerAvailable",{get:function(){if(this.yammerEmbedData)return!0;if(!this.video||!_.some(this.video.extensions))return!1;var e=this.video.extensions.filter((function(e){return e.provider.toLowerCase()===l.Constants.ExternalProviders.Yammer.name.toLowerCase()&&e.type.toLowerCase()===l.Constants.ExternalProviders.Yammer.type.toLowerCase()&&e.data&&void 0!==e.data.broadcastId&&e.data.broadcastId}));return!!(_.some(e)&&e[0].data&&e[0].data.broadcastId)&&(this.yammerEmbedData=e[0].data,!0)},enumerable:!0,configurable:!0}),E.prototype.instantiateYammerEmbed=function(){var e,t=this;this.isYammerAvailable&&(this.yammerArtificialError?this.yammerHasError=!0:(e=l.Constants.ExternalProviders.Yammer.url,$.ajax({url:e,dataType:"script",async:!0,cache:!0}).done((function(n,i,r){200==r.status?(t.featureTelemetryTracker.succeed(s.FeatureName.LoadExternalProviderScript),t.yammerConnect()):(t.yammerHasError=!0,t.featureTelemetryTracker.fail(s.FeatureName.LoadVideoPage,s.SubFeatureName.ExternalProvider_Yammer,"Loading yammer script "+e+" returns "+r.status))})).fail((function(n,i,r){t.yammerHasError=!0,t.featureTelemetryTracker.fail(s.FeatureName.LoadVideoPage,s.SubFeatureName.ExternalProvider_Yammer,"Loading yammer script "+e+" returns "+n.status)}))))},E.prototype.logYammerEvents=function(e){e=(e=e.split("/"))[e.length-1],this.yammerEvents.push(e)},E.prototype.yammerConnect=function(){var e=window.yam,t=e&&e.connect&&e.connect.embedFeed?e.connect.embedFeed:null;if(this.boundYammerEventCallback=this.logYammerEvents.bind(this),e&&e.on&&e.on("all",this.boundYammerEventCallback),t)try{t({config:{use_sso:!1,header:!1,footer:!1,showOpenGraphPreview:!1,defaultToCanonical:!1,hideNetworkName:!1,theme:"light"},broadcastId:this.yammerEmbedData.broadcastId,container:this.yammerEmbedHtmlId}),this.isYammerLoaded=!0}catch(e){this.yammerHasError=!0,this.featureTelemetryTracker.fail(s.FeatureName.LoadExternalProviderScript,s.SubFeatureName.ExternalProvider_Yammer,"Instantiating yammer script "+l.Constants.ExternalProviders.Yammer.url+" failed.")}else this.yammerHasError=!0},E.prototype.sendTelemetryEvents=function(){this.videoPageSessionMetrics&&this.videoPageSessionProperties&&(this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.videoPageSessionEventname,this.videoPageSessionProperties,this.videoPageSessionMetrics),this.videoPageSessionMetrics=void 0,this.videoPageSessionProperties=void 0),this.isInAdminMode&&!this.ignoreAdminModeLogging&&(this.elevatedVideoSessionProperties.adminEntryComponent=s.ElevatedItemEntryPoint.AdminAccessOnlyBar,this.elevatedVideoSessionProperties.userViewedVideoAsAdmin=!0,this.elevatedVideoSessionProperties.entryScreen=s.ScreenName.Video,this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.elevatedVideoSession,this.elevatedVideoSessionProperties,{}))},Object.defineProperty(E.prototype,"isNoTranscriptData",{get:function(){return this.isLiveNow||this.isLiveContentCreatedState||!this.showTranscript},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isLiveContentButFaceDetectionNotReady",{get:function(){return(!this.isCompleted||!this.showFaces)&&this.isLiveContent},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showTranscriptOrNotReadyMessage",{get:function(){return!!this.showTranscriptInLive||this.showTranscript},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showPeopleOrNotReadyMessage",{get:function(){return!!this.showPeopleInLive||this.showFaces},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showTranscriptInLive",{get:function(){return this.isCaptionSupported&&this.isLiveContent&&!this.userHideTranscript},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showPeopleInLive",{get:function(){return this.video&&this.video.options&&this.video.options.faceDetection&&this.isLiveContent&&!this.userHidePeople},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showRightContainer",{get:function(){return!this.theaterMode&&(this.showTranscript||this.isYammerAvailable||this.formTabEnabled)},enumerable:!0,configurable:!0}),E.prototype.onVideoViewed=function(){var e=this;return this.videoService.viewed(this.videoId,this.isInAdminMode).then((function(){e.video.metrics.views+=1,e.isInAdminMode&&(e.elevatedVideoSessionProperties.userViewedVideoAsAdmin=!0)}))},E.prototype.relatedVideosClicked=function(e){this.videoPageSessionProperties.ExitBy=l.Constants.ExitBy.relatedVideosClicked,this.videoPageSessionProperties.relatedVideoSource=e},E.prototype.secondaryRelatedVideosClicked=function(){this.videoPageSessionProperties.ExitBy=l.Constants.ExitBy.trendingVideosClicked},Object.defineProperty(E.prototype,"showMIFacesButton",{get:function(){return this.faceReady||this.faceProcessing},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showMITranscriptButton",{get:function(){return this.captionProcessing||this.captionReady||this.captionError},enumerable:!0,configurable:!0}),E.prototype.onTranscriptInit=function(e){this.transcriptController=e},E.prototype.setViewSettingsDrawerItems=function(){var e=this;this.viewSettings=[],this.showTranscriptButton=new d.DrawerItem("show-transcript",this.resources.VideoPage.ViewSettings.ShowTranscript,this.onTranscriptClick.bind(this),"icon_show"),this.hideTranscriptButton=new d.DrawerItem("hide-transcript",this.resources.VideoPage.ViewSettings.HideTranscript,this.onTranscriptClick.bind(this),"icon_hide"),this.showFacesButton=new d.DrawerItem("show-faces",this.resources.VideoPage.ViewSettings.ShowFaces,this.onFaceClick.bind(this),"icon_show"),this.hideFacesButton=new d.DrawerItem("hide-faces",this.resources.VideoPage.ViewSettings.HideFaces,this.onFaceClick.bind(this),"icon_hide"),this.theaterModeOnButton=new d.DrawerItem("theater-mode-on",this.resources.VideoPage.ViewSettings.TheaterModeOn,this.handleTheaterModeClick.bind(this),"icon_theater_on"),this.theaterModeOffButton=new d.DrawerItem("theater-mode-off",this.resources.VideoPage.ViewSettings.TheaterModeOff,this.handleTheaterModeClick.bind(this),"icon_theater_off"),this.screenWidth=this.$window.innerWidth,this.screenWidth<l.Constants.ScreenBreakpoints.Medium&&(this.hideBottomTranscript=!1,this.hideBottomYammer=!1),this.hideBottomYammer?this.switchYammerTab(!1):this.switchYammerTab(!0),this.showMITranscriptButton&&((this.captionReady||this.captionProcessing||this.captionError)&&(this.showTranscript=!0,this.viewSettings.push(this.hideTranscriptButton)),this.screenWidth>=l.Constants.ScreenBreakpoints.Medium&&this.moveRelatedVideoDown(),setTimeout((function(){e.transcriptHandler()}))),this.showMIFacesButton&&this.video.options.faceDetection&&_.get(this.tenantSettings,"system.contentManagement.allowFaceDetection")&&this.isFaceDetectionEnabled&&(this.faceReady?(this.showFaces=!0,this.viewSettings.push(this.hideFacesButton)):(this.showFaces=!1,this.viewSettings.push(this.showFacesButton)),this.playerBottomTabOptions.options.forEach((function(t){t.value===o.People&&(t.hide=!e.showPeopleOrNotReadyMessage)}))),this.video&&!this.shouldShowEndEventMessage&&(this.theaterMode?this.viewSettings.push(this.theaterModeOffButton):this.viewSettings.push(this.theaterModeOnButton)),this.hideBottomTranscript?this.switchTranscriptTab(!1):this.switchTranscriptTab(!0)},Object.defineProperty(E.prototype,"timedEvents",{get:function(){return _.get(this.video,"timedEvents",[])},enumerable:!0,configurable:!0}),E.prototype.handleTheaterModeClick=function(){this.toggleTheaterMode()},E.prototype.changeTheaterModeButton=function(){var e;this.theaterMode?(e=this.viewSettings.indexOf(this.theaterModeOnButton),this.viewSettings[e]=this.theaterModeOffButton):(e=this.viewSettings.indexOf(this.theaterModeOffButton),this.viewSettings[e]=this.theaterModeOnButton)},E.prototype.handleActionError=function(e,t){this.showErrorMessage=!0,this.errorMessage=e,t.status<500&&(this.errorMessage=c.formatString("{0} {1}",this.errorMessage,t.data.error))},E.prototype.initTabFocusHandlers=function(){this.clearTabFocusHandlers(),this.setRightTabDefaultFocusHandlers(),this.setBottomTabDefaultFocusHandlers()},E.prototype.clearTabFocusHandlers=function(){var e=this;[this.playerRightTabOptions,this.playerBottomTabOptions].forEach((function(t){t.options.forEach((function(t){$("button",$("."+t.className)).off("keydown",e.setTabFocusHandler)}))}))},E.prototype.setRightTabDefaultFocusHandlers=function(){var e=this;this.$timeout((function(){e.playerRightTabOptions.options.forEach((function(t){e.setTabFocusHandler(t,"#player-right-container-content","Right")}))}),0)},E.prototype.setBottomTabDefaultFocusHandlers=function(){var e=this;this.$timeout((function(){e.playerBottomTabOptions.options.forEach((function(t){e.setTabFocusHandler(t,"#under-player-container","Bottom")}))}),0)},E.prototype.tabFocusHandler=function(e){e.data.controller.$timeout((function(){e.which===u.KeyCodes.Enter&&e.data.option&&e.data.direction&&e.data.parentContainer&&(e.data.controller["current"+e.data.direction+"Tab"]=e.data.option.value,e.data.controller.$timeout((function(){$("a[href]:visible, area[href]:visible, input:not([disabled]):visible, select:not([disabled]):visible, textarea:not([disabled]):visible, button:not([disabled]):visible, iframe:visible, object:visible, embed:visible, *[tabindex]:visible, *[contenteditable]:visible",$(e.data.parentContainer)).first().focus()}),0))}),0)},Object.defineProperty(E.prototype,"isReadOnlyVideo",{get:function(){return this.video&&this.video.readOnlyMigratedContent},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"showAnalytics",{get:function(){return!(!this.sdnEnabled&&!this.isDownloadAnalyticsEnabled||!this.video.userData.permissions.canEdit&&!this.isInAdminMode)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isVideoVod",{get:function(){return!this.isLiveNow&&!this.isLiveContentCreatedState},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isLiveGAEnabled",{get:function(){return this.featureFlagsService.Values.LiveGA},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isDownloadAnalyticsEnabled",{get:function(){return this.featureFlagsService.Values.DownloadAnalytics},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isTrimVideoEnabled",{get:function(){return this.featureFlagsService.Values.VideoEditor&&!S.isBrowserBlacklisted(navigator&&navigator.userAgent||"")},enumerable:!0,configurable:!0}),E.prototype.addForm=function(e){var t=this,n=this.$q.defer();return this.videoEventService.addForm(this.video.id,e).then((function(i){t.featureTelemetryTracker.succeed(s.FeatureName.Forms,{subFeature:s.SubFeatureName.Forms_Add,videoId:t.video.id,formId:e.eventData.formId,timeCode:e.endTime}),i=i&&i.data,e.id=i.id||e.id,delete e.isNew,t.video.timedEvents=(t.video.timedEvents||[]).filter((function(t){return t.id!==e.id})).concat([e]),n.resolve(e),g.alertScreenReader(c.formatString(t.resources.FormAdded,e.eventData.title,g.getNarratorFriendlyTime(g.convertTimeInSecondsToTimeString(e.endTime),t.resources.Units.Time)))})).catch((function(e){t.featureTelemetryTracker.fail(s.FeatureName.Forms,s.SubFeatureName.Forms_Add,e),n.reject(t.resources.FormAddFailure),g.alertScreenReader(t.resources.FormAddFailure)})).finally((function(){t.video.timedEvents=t.video.timedEvents.sort((function(e,t){return e.endTime-t.endTime})),t.setEvents(t.video.timedEvents)})),n.promise},E.prototype.deleteForm=function(e){var t=this,n=this.$q.defer();return this.videoEventService.deleteForm(this.video.id,e).then((function(){t.featureTelemetryTracker.succeed(s.FeatureName.Forms,{subFeature:s.SubFeatureName.Forms_Delete,videoId:t.video.id,formId:_.get(e,"eventData.formId")}),t.video.timedEvents=(t.video.timedEvents||[]).filter((function(t){return t.id!==e.id})),n.resolve(e),g.alertScreenReader(c.formatString(t.resources.FormDeleted,e.eventData.title))})).catch((function(e){t.featureTelemetryTracker.fail(s.FeatureName.Forms,s.SubFeatureName.Forms_Delete,e),n.reject(t.resources.FormDeleteFailure),g.alertScreenReader(t.resources.FormDeleteFailure)})).finally((function(){t.video.timedEvents=t.video.timedEvents.sort((function(e,t){return e.endTime-t.endTime})),t.setEvents(t.video.timedEvents)})),n.promise},E.prototype.sendRequest=function(){var e=this;this.videoService.createAccessRequest(this.videoId).then((function(t){e.forbiddenDivTitle=e.resources.Controllers.Video.AccessRequestReceived.Title,e.forbiddenDivMsg=e.resources.Controllers.Video.AccessRequestReceived.Message,e.doesAccessRequestSent=!0,e.doesRequestSucceed=!0}),(function(t){"NotFound"==t.data.error.code?(e.forbiddenDivTitle=e.resources.VideoPlayerErrorCode200194Manifest,e.forbiddenDivMsg=e.resources.Controllers.Video.AccessRequestFailed.VideoNotFoundMessage,e.doesRequestedVideoExist=!1):400==t.status||412==t.status?(e.forbiddenDivTitle=e.resources.Controllers.Video.AccessRequestFailed.Title,e.forbiddenDivMsg=e.resources.Controllers.Video.AccessRequestFailed.PermissionExistedMessage,e.doesPermissionExist=!0):e.forbiddenDivMsg=null,e.doesAccessRequestSent=!0}))},E.prototype.requestAccessEnabled=function(){return this.featureFlagsService.Values.RequestAccess},E.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","textTrackDataFactory","textTrackLanguageService","navigationService","$window","$location","deleteConfirmationDialogService","principalService","videoBgUploaderService","dataShareService","$timeout","mediaDownloaderService","$rootScope","$element","$q","inAdminModeService","tenantService","videoEventService","replaceVideoService"],n=E,t.VideoPageController=n},"./app/components/Video/VideoStatistics/VideoStatistics.html":function(e,t){e.exports='<span class=video-statistics ng-if=!$ctrl.showIcons> <span class=view-count> {{$ctrl.views | localNumber | videoViews}} </span> <span class=like-count ng-if=!$ctrl.hideLikes> {{$ctrl.likes | localNumber | videoLikes}} </span> <span class=comment-count ng-if=$ctrl.showComments> {{$ctrl.comments | localNumber | videoComments}} </span> </span> <span class=video-statistics ng-if=$ctrl.showIcons> <span role=img class="view-count metric-inline-flex" custom-title="{{$ctrl.views | localNumber | videoViews}}" light-style=$ctrl.lightCustomTitle aria-label="{{$ctrl.views | localNumber | videoViews}}"> <span aria-hidden=true>{{$ctrl.formattedNumber($ctrl.views)}}</span> <svg-src svg-name=icon_views_new class=metric-icon> </svg-src> </span> <span role=img class="like-count metric-inline-flex" ng-if=!$ctrl.hideLikes custom-title="{{$ctrl.likes | localNumber | videoLikes}}" light-style=$ctrl.lightCustomTitle aria-label="{{$ctrl.likes | localNumber | videoLikes}}"> <span aria-hidden=true>{{$ctrl.formattedNumber($ctrl.likes)}}</span> <svg-src svg-name=icon_likes class=metric-icon> </svg-src> </span> <span role=img class="comment-count metric-inline-flex" ng-if=$ctrl.showComments custom-title="{{$ctrl.comments | localNumber | videoComments}}" light-style=$ctrl.lightCustomTitle aria-label="{{$ctrl.comments | localNumber | videoComments}}"> <span aria-hidden=true>{{$ctrl.formattedNumber($ctrl.comments)}}</span> <svg-src svg-name=icon_comments class=metric-icon></svg-src> </span> </span>'},"./app/components/Video/VideoStatistics/VideoStatistics.less":function(e,t){},"./app/components/Video/VideoStatistics/VideoStatistics.ts":function(e,t,n){function i(){this.controller=r.VideoStatisticsController,this.template=n("./app/components/Video/VideoStatistics/VideoStatistics.html"),this.bindings={videoStatisticsData:"<",showComments:"<",hideLikes:"<",showIcons:"<",lightCustomTitle:"<",useShortNumbers:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/VideoStatistics/VideoStatistics.less");var r=n("./app/components/Video/VideoStatistics/VideoStatisticsController.ts"),o=n("./app/utility/appUtil.ts");t.VideoStatistics=i,o.registerComponent("videoStatistics",i,angular.module("jumper"))},"./app/components/Video/VideoStatistics/VideoStatisticsController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"likes",{get:function(){return this.videoStatisticsData.likes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"views",{get:function(){return this.videoStatisticsData.views},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"comments",{get:function(){return this.videoStatisticsData.comments},enumerable:!0,configurable:!0}),i.prototype.formattedNumber=function(e){var t=this.useShortNumbers?"shortNumber":"localNumber";return this.$filter(t)(e)},i.$inject=["$filter"],i);function i(e){this.$filter=e}t.VideoStatisticsController=n},"./app/components/VideoChannelSearch/VideoChannelSearch.html":function(e,t){e.exports='<div class=video-search dropdown-action-list ng-blur=$ctrl.clear()> <div class="search-bar-container search-row"> <input type=text id={{::$ctrl.id}} placeholder={{$ctrl.placeHolderText}} ng-model=$ctrl.searchParams ng-model-options="{ debounce: $ctrl.inputTimeInterval}" ng-focus=$ctrl.onTextFocus($event) ng-init=$ctrl.setFocus() class="ct-textbox-compact search-box action-list-item video-search-textbox" ng-class="{ \'error-border\': $ctrl.noPrincipalsFound }" autocomplete=off ng-readonly=$ctrl.enableReadOnly /> <custom-error-message ng-if=$ctrl.errorMessage error-message=$ctrl.errorMessage is-compact=true></custom-error-message> </div> <div ng-if=$ctrl.showResultList class=search-results ng-class="{\'scroll-results\': !$ctrl.suggestions.length, \'embed-max-height\': $ctrl.isEmbed, \'normal-max-height\': !$ctrl.isEmbed}" infinite-scroll="$ctrl.infiniteScroll({skip: skip, top: top})" infinite-scroll-refresh=$ctrl.infiniteScrollRefresh> <div role=alert class=loading-row ng-if=$ctrl.loading> <div class="loading-icon spin"> <svg-src svg-name=icon_processing_status></svg-src> </div> <span class=loading-message>{{$ctrl.loadingMessage}}</span> </div> <div ng-repeat="suggestion in $ctrl.suggestions" class="result-line principal-result-line" ng-if=$ctrl.isVideoSearch> <div id={{suggestion.id}} class=action-list-item ng-click=$ctrl.selectItem(suggestion) aria-label={{$ctrl.getUserSuggestionAriaLabel(suggestion)}}> <div class=profile-image-col> <img class=profile-image-video ng-src={{::suggestion.posterImage.medium.url}} ng-if=suggestion.posterImage.medium.url onerror=\'this.src="/bundles/app/generated/icon_broken_camera.svg"\'/> <svg-src class=profile-image-default svg-name=live_video_poster_default ng-if=$ctrl.displayDefaultLivePoster(suggestion)></svg-src> <svg-src class=profile-image-default svg-name=icon_broken_camera ng-if=$ctrl.displayDefaultVODPoster(suggestion)></svg-src> </div> <div class=video-details> <span class=video-name> {{$ctrl.displayedName(suggestion)}} </span> </div> </div> </div> <div ng-if="!$ctrl.isVideoSearch && !$ctrl.loading && $ctrl.suggestions.length" class=item-list> <list-row class=channel-item-row-header tabindex=-1 role=presentation enable-hover=true> <list-cell fill-size=true> <span class=channel-label>Channel</span> </list-cell> <list-cell fill-size=true> <span class=channel-label>Stream group</span> </list-cell> </list-row> <div ng-repeat="suggestion in $ctrl.suggestions"> <list-row class=channel-item-row-body id={{suggestion.id}} tabindex=0 role=presentation ng-click=$ctrl.selectItem(suggestion) enable-hover=true> <list-cell fill-size=true> <div class=name-column> <span> <img class=profile-image-channel ng-if=suggestion.posterImage.extraSmall.url ng-src={{suggestion.posterImage.large.url}} alt={{::$ctrl.resources.Thumbnail}} /> <div class="channel-poster channel-poster-default inline-default-icon" ng-if=!suggestion.posterImage.extraSmall.url> <svg-src svg-name=icon_channel_poster class=channel-poster-default-svg aria-label={{$ctrl.resources.ChannelPosterImageAlt}}></svg-src> </div> </span> <span class=channel-title ng-bind-html=suggestion.name></span> </div> </list-cell> <list-cell fill-size=true> <div class=privacy-container> <div class=privacy-icon> <svg-src svg-name=icon_group_public ng-if="suggestion.group.privacyMode === $ctrl.privacyModes.public || suggestion.group.privacyMode === $ctrl.privacyModes.custom"></svg-src> <svg-src svg-name=icon_group_private ng-if="suggestion.group.privacyMode === $ctrl.privacyModes.private"></svg-src> <svg-src svg-name=icon_group_public ng-if="$ctrl.organizationCheck(suggestion.group.privacyMode) && suggestion.group.name"></svg-src> <svg-src svg-name=icon_group_org ng-if="$ctrl.organizationCheck(suggestion.group.privacyMode) && !suggestion.group.name"></svg-src> </div> <div class=privacy-text ng-if=suggestion.group.name ng-bind-html=suggestion.group.name></div> <div class=privacy-text ng-if=!suggestion.group.name ng-bind-html=$ctrl.resources.CompanyWideGroup></div> </div> </list-cell> </list-row> </div> </div> <div role=alert class=error-row ng-if="$ctrl.infoMessage && !$ctrl.loading"> <span class=error-message>{{$ctrl.infoMessage}}</span> </div> </div> </div>'},"./app/components/VideoChannelSearch/VideoChannelSearch.less":function(e,t){},"./app/components/VideoChannelSearch/VideoChannelSearch.ts":function(e,t,n){function i(){this.controller=o.VideoChannelSearchController,this.template=n("./app/components/VideoChannelSearch/VideoChannelSearch.html"),this.bindings={itemSelected:"&",isAlreadyAdded:"&",isVideoSearch:"<",placeHolderText:"<",changeTabName:"&",groupId:"<",enableSearch:"<?",enableReadOnly:"<?",isEmbed:"<?",isAdminMode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoChannelSearch/VideoChannelSearch.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/VideoChannelSearch/VideoChannelSearchController.ts");t.VideoChannelSearch=i,r.registerComponent("videoChannelSearch",i,angular.module("jumper"))},"./app/components/VideoChannelSearch/VideoChannelSearchController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.$onChanges=function(e){"isVideoSearch"in e?this.searchParams&&this.searchParams.length>=this.searchMinInput&&(this.infiniteScrollRefresh=!0,this.loading=!0):"enableReadOnly"in e&&e.enableReadOnly.currentValue&&this.$element.find("input[readonly]").focus((function(){this.select()}))},a.prototype.setFocus=function(){var e=this;setTimeout((function(){document.getElementById(e.id).focus()}))},a.prototype.onTextFocus=function(e){this.clear(!1)},Object.defineProperty(a.prototype,"showResultList",{get:function(){return(this.loading||""!==this.infoMessage||0<this.suggestions.length)&&""===this.errorMessage},enumerable:!0,configurable:!0}),a.prototype.infiniteScroll=function(e){var t=this;return this.isUrlInput?this.$q.resolve(-1):this.isVideoSearch?this.groupId?this.groupService.getVideos(this.groupId,r.Constants.MaxLengths.VideoSearchOutput,0,r.Constants.VideoSortOptions.Relevance,r.Constants.SortDirection.Ascending,this.searchParams).then((function(e){return t.dataFetchSuccessCallBack(e,s.FeatureName.SearchGroupVideos)}),(function(e){t.dataFetchFailureCallback(e,s.FeatureName.SearchGroupVideos,s.SubFeatureName.VideoService_GetVideo)})):this.videoService.search(this.searchParams,r.Constants.VideoSortOptions.Relevance,r.Constants.SortDirection.Ascending,0,r.Constants.MaxLengths.VideoSearchOutput).then((function(e){return t.dataFetchSuccessCallBack(e,s.FeatureName.SearchVideos)}),(function(e){return t.dataFetchFailureCallback(e,s.FeatureName.SearchVideos,s.SubFeatureName.VideoService_GetVideo)})):this.channelService.search(this.searchParams,r.Constants.ChannelsSortOptions.Relevance,r.Constants.SortDirection.Ascending,0,r.Constants.MaxLengths.ChannelSearchOutput,!0,this.isAdminMode).then((function(e){return t.dataFetchSuccessCallBack(e,s.FeatureName.SearchChannels,t.resources.ChannelSearchByNameNoResult)}),(function(e){return t.featureTelemetryTracker.fail(s.FeatureName.SearchChannels,s.SubFeatureName.ChannelService_Search,e),t.majorErrorHappened(t.resources.SpotlightVideoGetVideoErrorMessage),t.dataFetchFailureCallback(e,s.FeatureName.SearchChannels,s.SubFeatureName.ChannelService_Search)}))},a.prototype.dataFetchSuccessCallBack=function(e,t,n){return void 0===n&&(n=this.resources.VideoSearchByNameNoResult),this.suggestions=e.data.value,this.infoMessage=this.suggestions.length<=0?n:"",this.suggestions.length&&i.alertScreenReader(this.resources.SuggestionsReminderLabel),this.loading=!1,this.featureTelemetryTracker.succeed(t),this.$q.resolve(-1)},a.prototype.dataFetchFailureCallback=function(e,t,n){return this.majorErrorHappened(this.resources.SpotlightVideoGetVideoErrorMessage),this.featureTelemetryTracker.fail(t,n,e),this.$q.reject(e)},a.prototype.selectItem=function(e){var t=this;this.clear(),this.isAlreadyAdded({videoId:e.id})?this.majorErrorHappened(this.resources.SpotlightVideoDuplicateErrorMessage):(this.itemSelected({video:e}),setTimeout((function(){return t.$element.find(".search-row input").focus()})))},Object.defineProperty(a.prototype,"allSuggestionsLength",{get:function(){return $(".search-results",this.$element).children().length},enumerable:!0,configurable:!0}),a.prototype.displayedName=function(e){return e.name||e.description},a.prototype.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),e&&(this.searchParams=""),this.loading=!1,t&&(this.errorMessage=""),this.infoMessage="",this.suggestions=[]},Object.defineProperty(a.prototype,"inputTimeInterval",{get:function(){return r.Constants.DropdownList.InputTimeInterval},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"loadingMessage",{get:function(){return this.isVideoSearch?o.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Video.LowerPlural):o.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Channel.LowerPlural)},enumerable:!0,configurable:!0}),a.prototype.getUserSuggestionAriaLabel=function(e){return o.formatString(this.resources.VideoSearchUserSuggestionAriaLabel,this.displayedName(e))},a.prototype.organizationCheck=function(e){return e===this.privacyModes.organization||e===this.privacyModes.organizationContributor||e===this.privacyModes.organizationViewer},a.prototype.displayDefaultLivePoster=function(e){return!_.get(e,"posterImage.medium.url")&&e.contentSource===r.Constants.VideoContentSource.liveStream},a.prototype.displayDefaultVODPoster=function(e){return!_.get(e,"posterImage.medium.url")&&(e.contentSource===r.Constants.VideoContentSource.file||e.contentSource===r.Constants.VideoContentSource.screenRecording)},a.prototype.validateUrl=function(e){return new RegExp(r.Constants.urlRegEx.source).test(e)},a.prototype.isStartAsAUrl=function(e){return new RegExp(r.Constants.startAsUrlRegEx.source).test(e)},a.prototype.majorErrorHappened=function(e){this.errorMessage=e,this.infoMessage="",this.loading=!1},a.prototype.getVideo=function(e){var t=this;return this.loading=!0,this.videoService.get(e,this.isAdminMode).then((function(e){t.itemSuccessHandler(e)}),(function(e){return t.featureTelemetryTracker.fail(s.FeatureName.GetVideo,s.SubFeatureName.VideoService_GetVideo,e),t.majorErrorHappened(i.errorMessage(e)||t.resources.SpotlightVideoGetVideoErrorMessage),t.$q.reject(e)}))},a.prototype.getChannel=function(e){var t=this;return this.loading=!0,this.channelService.get(e,this.isAdminMode).then((function(e){t.itemSuccessHandler(e)}),(function(e){return t.featureTelemetryTracker.fail(s.FeatureName.GetChannelByName,s.SubFeatureName.ChannelService_GetChannel,e),t.majorErrorHappened(t.resources.SpotlightVideoGetVideoErrorMessage),t.$q.reject(e)}))},a.prototype.itemSuccessHandler=function(e){return this.suggestions=[],this.suggestions.push(e.data),this.loading=!1,this.$q.resolve()},a.$inject=["$scope","resources","$window","$q","$element","videoService","channelService","telemetryService","groupService"],n=a;function a(e,t,n,o,a,c,l,u,d){var p=this;this.$scope=e,this.resources=t,this.$window=n,this.$q=o,this.$element=a,this.videoService=c,this.channelService=l,this.telemetryService=u,this.groupService=d,this.searchTypes=[],this.searchMinInput=1,this.suggestions=[],this.id="video-search-"+i.generateGuid(),this.loading=!1,this.privacyModes=r.Constants.privacyMode,this.isUrlInput=!1,void 0===this.enableSearch&&(this.enableSearch=!0),this.featureTelemetryTracker=this.telemetryService.getTracker(s.ScreenName.EmbedVideoChannelSearch),this.featureTelemetryTracker.tagScreen();var m=function(e){e.target&&e.target.className&&"string"==typeof e.target.className&&-1===e.target.className.indexOf("video-search-textbox")&&p.showResultList&&(p.clear(!1),p.$scope.$apply())}.bind(this),A=function(e){e.keyCode===r.Constants.KeyCodes.Esc&&p.searchParams.length&&(e.preventDefault(),p.clear(),p.$scope.$apply())}.bind(this);n.document.body.addEventListener("click",m),a.on("keydown",A),e.$on("$destroy",(function(){n.document.body.removeEventListener("click",m),a.off("keydown",A)})),e.$watch((function(){return p.searchParams}),(function(e){if(p.enableSearch){if(p.isStartAsAUrl(p.searchParams)){p.isUrlInput=!0;var t,n=new RegExp(r.Constants.videoGuidRegEx.source).exec(p.searchParams);if(!p.validateUrl(p.searchParams)||!n||0===n.length)return p.majorErrorHappened(p.resources.SpotlightVideoUrlErrorMessage),void p.clear(!1,!1);p.clear(!1),t=n[0].toString(),n=0<p.searchParams.indexOf("/video"),p.isVideoSearch!=n&&p.changeTabName({isVideoTabName:n}),(n?p.getVideo(t):p.getChannel(t)).then((function(){p.isUrlInput=!1}))}else p.isUrlInput=!1,p.errorMessage!==p.resources.SpotlightVideoDuplicateErrorMessage&&(p.errorMessage="");e&&e.length>=p.searchMinInput?(p.infiniteScrollRefresh=!0,p.loading=!0):p.clear(!1,!1)}}))}t.VideoChannelSearchController=n},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.html":function(e,t){e.exports='<div class=video-meta-overlay> <div class=pointer-events-auto> <p class=video-title ng-if=!$ctrl.videoLink> <span class=inner-background custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </p> <p class=video-title ng-if=$ctrl.videoLink> <a ng-href={{$ctrl.videoLink}} target=_blank ng-click=$ctrl.videoTitleClicked()> <span class=inner-background custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </a> </p> <video-statistics ng-if="$ctrl.videoItem.metrics && !$ctrl.isLiveNow" video-statistics-data=$ctrl.videoItem.metrics show-comments=!$ctrl.hideComments class=statistics-container show-icons=true></video-statistics> <video-analytics ng-if=$ctrl.isLiveNow video=$ctrl.videoItem is-producer=false is-small-size=true></video-analytics> <div class=actions-container> <button ng-if=!$ctrl.hideShareButton ng-click=$ctrl.onShareClick($event) class="action-button {{::$ctrl.buttonClasses.share}}" aria-label={{::$ctrl.resources.Share}} custom-title={{::$ctrl.resources.Share}}> <svg-src svg-name=icon_share></svg-src> <span class=button-text>{{::$ctrl.resources.Share}}</span> </button> <button ng-if=!$ctrl.hideAddToWatchListButton ng-click=$ctrl.onPinButtonClick($event) class="action-button {{::$ctrl.buttonClasses.watchlist}}" ng-class=$ctrl.addToWatchListClasses() ng-disabled=$ctrl.pinButtonDisabled aria-label="{{$ctrl.videoItem.userData.isPinned ? $ctrl.resources.RemoveFromWatchList : $ctrl.resources.AddToWatchList}}" ng-attr-custom-title={{$ctrl.addToWatchListCustomTitle}}> <svg-src svg-name=icon-remove-from-watchlist ng-if=$ctrl.videoItem.userData.isPinned inline-with-text=true></svg-src> <svg-src svg-name=icon-add-to-watchlist ng-if=!$ctrl.videoItem.userData.isPinned inline-with-text=true></svg-src> <span class=button-text>{{$ctrl.videoItem.userData.isPinned ? $ctrl.resources.RemoveFromWatchList : $ctrl.resources.AddToWatchList}}</span> </button> <button ng-if=!$ctrl.hideLikeButton ng-click=$ctrl.onLikeClick($event) class="action-button {{::$ctrl.buttonClasses.like}}" ng-disabled=$ctrl.likeButtonDisabled aria-label="{{$ctrl.videoItem.userData.isLiked ? $ctrl.resources.UnLikeButtonAriaLabel : $ctrl.resources.LikeButtonAriaLabel}}" custom-title="{{$ctrl.videoItem.userData.isLiked ? $ctrl.resources.UnLikeButtonAriaLabel : $ctrl.resources.LikeButtonAriaLabel}}" ng-class="$ctrl.videoItem.userData.isLiked ? \'unlike\' : \'like\'"> <svg-src svg-name=icon_liked_likes ng-if=$ctrl.videoItem.userData.isLiked></svg-src> <svg-src svg-name=icon_likes ng-if=!$ctrl.videoItem.userData.isLiked></svg-src> <span class=button-text>{{$ctrl.videoItem.userData.isLiked ? $ctrl.resources.UnLikeButtonAriaLabel : $ctrl.resources.LikeButtonAriaLabel}}</span> </button> </div> </div> </div> '},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.less":function(e,t){},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.ts":function(e,t,n){function i(){this.controller=o.VideoMetaOverlayController,this.template=n("./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.html"),this.bindings={videoItem:"=",shareMetrics:"=",likeUnlikeMetrics:"=",addRemoveWatchlistMetrics:"=",onUpdate:"&",screenName:"<",hideShareButton:"<",hideLikeButton:"<",hideAddToWatchListButton:"<",enableHover:"<",hideComments:"<",videoLink:"<",videoTitleClickMetrics:"="},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlayController.ts");t.VideoMetaOverlay=i,r.registerComponent("videoMetaOverlay",i,angular.module("jumper"))},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlayController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts");o.prototype.onShareClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),isFinite(this.shareMetrics)&&(this.shareMetrics+=1),this.videoShareDialog.open(this.videoItem).closePromise.then((function(e){t.featureTelemetryTracker.tagScreen()}),(function(e){})).finally((function(){t.focusOnButton(t.buttonClasses.share)}))},o.prototype.onPinButtonClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),isFinite(this.addRemoveWatchlistMetrics)&&(this.addRemoveWatchlistMetrics+=1),this.pinButtonDisabled=!0,(this.videoItem.userData.isPinned?this.videoService.unPinVideo(this.videoItem.id).then((function(e){t.videoItem.userData.isPinned=!1,t.featureTelemetryTracker.succeed(i.FeatureName.UnpinVideo),t.onUpdate&&t.onUpdate()}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.UnpinVideo,i.SubFeatureName.VideoService_UnpinVideo,e)})):this.videoService.pinVideo(this.videoItem.id).then((function(e){t.videoItem.userData.isPinned=!0,t.featureTelemetryTracker.succeed(i.FeatureName.PinVideo),t.onUpdate&&t.onUpdate()}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.PinVideo,i.SubFeatureName.VideoService_PinVideo,e)}))).finally((function(){t.focusOnButton(t.buttonClasses.watchlist)})),this.pinButtonDisabled=!1},o.prototype.onLikeClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),isFinite(this.likeUnlikeMetrics)&&(this.likeUnlikeMetrics+=1),this.likeButtonDisabled=!0,(this.videoItem.userData.isLiked?this.videoService.unLike(this.videoItem.id).then((function(e){t.videoItem.userData.isLiked=!1,--t.videoItem.metrics.likes,t.featureTelemetryTracker.succeed(i.FeatureName.UnlikeVideo),t.likeButtonDisabled=!1}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.UnlikeVideo,i.SubFeatureName.VideoService_Unlike,e),t.likeButtonDisabled=!1})):this.videoService.like(this.videoItem.id).then((function(e){t.videoItem.userData.isLiked=!0,t.videoItem.metrics.likes+=1,t.featureTelemetryTracker.succeed(i.FeatureName.LikeVideo),t.likeButtonDisabled=!1}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.LikeVideo,i.SubFeatureName.VideoService_Like,e),t.likeButtonDisabled=!1}))).finally((function(){t.focusOnButton(t.buttonClasses.like)}))},o.prototype.videoTitleClicked=function(){isFinite(this.videoTitleClickMetrics)&&(this.videoTitleClickMetrics+=1)},Object.defineProperty(o.prototype,"isLiveNow",{get:function(){return this.videoItem&&this.videoItem.state&&this.videoItem.state.toLowerCase()===r.Constants.VideoStatus.Live},enumerable:!0,configurable:!0}),o.prototype.addToWatchListClasses=function(){var e=this.videoItem&&this.videoItem.userData.isPinned?["unpin"]:["pin"];return this.enableHover&&e.push("animate-button","hidden"),e},Object.defineProperty(o.prototype,"addToWatchListCustomTitle",{get:function(){return this.hideLikeButton&&this.hideShareButton?"":this.videoItem.userData.isPinned?this.resources.RemoveFromWatchList:this.resources.AddToWatchList},enumerable:!0,configurable:!0}),o.prototype.focusOnButton=function(e){setTimeout((function(){$(".action-button."+e).focus()}),0)},o.$inject=["videoShareDialog","videoService","telemetryService","resources"],n=o;function o(e,t,n,r){this.videoShareDialog=e,this.videoService=t,this.telemetryService=n,this.resources=r,this.pinButtonDisabled=!1,this.likeButtonDisabled=!1,this.buttonClasses={like:"like-button",share:"share-button",watchlist:"watchlist-button"},this.screenName||(this.screenName=i.ScreenName.Auto),this.featureTelemetryTracker=this.telemetryService.getTracker(this.screenName)}t.VideoMetaOverlayController=n},"./app/components/VideoUpdate/VideoUpdateController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/utility/string.ts"),c=n("./app/utility/Constants.ts"),l=n("./app/components/Upload/VideoEdit/VideoEditController.ts"),u=n("./app/utility/ComponentBase.ts"),d=n("./app/models/TelemetryEventModels.ts"),p=n("./app/components/VideoUpdate/VideoUpdateErrorHandler.ts"),m=n("./app/models/TelemetryEventModels.ts"),A=n("./app/services/VideoBgUploaderService.ts"),h="Other",f="Delete",g="Discard",v="Apply";r(y,o=u.ComponentBase),Object.defineProperty(y.prototype,"showAdminOnlyErrorMessage",{get:function(){return this.isLoaded&&!this.video&&this.isStreamAdmin&&!this.isInAdminMode},enumerable:!0,configurable:!0}),y.prototype.onLoadEvents=function(){var e=this;function t(){var t=$(".update-card");t&&(e.isVideoCardExpanded=1e3<e.$window.outerWidth,e.$window.outerWidth<=1e3?t.addClass("update-card-accordion"):t.removeClass("update-card-accordion"))}this.saveButtonText=this.resources.ApplyChanges,this.productName=c.Constants.ProductName,this.principalService.getMyPrincipalInfo().then((function(t){e.isStreamAdmin=e.principalService.getIsStreamAdmin(),e.isInAdminMode=e.isStreamAdmin&&e.principalService.getAdminModeStatus(),e.$scope.$watch(e.principalService.getAdminModeStatus,(function(t,n){t!==e.isInAdminMode&&(e.isInAdminMode=t,e.loadAdminMode(e.isInAdminMode,m.FeatureName.LoadVideoUpdatePage))}))}),(function(t){e.isStreamAdmin=!1,e.featureTelemetryTracker.fail(m.FeatureName.GetPrincipalSettings,m.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)})).finally((function(){var t=e.$location.search();e.isInAdminMode&&(e.dataShareService.cache[c.Constants.CacheKey.ElevatedVideoIdKey+e.videoId]&&(e.elevatedVideoSessionProperties=e.dataShareService.cache[c.Constants.CacheKey.ElevatedVideoIdKey+e.videoId],delete e.dataShareService.cache[c.Constants.CacheKey.ElevatedVideoIdKey+e.videoId]),e.elevatedVideoSessionProperties.adminEntryComponent=t.entryPoint||d.ElevatedItemEntryPoint.AdminAccessOnlyBar,e.elevatedVideoSessionProperties.entryScreen=t.srcScreen||m.ScreenName.VideoUpdate,e.elevatedVideoSessionProperties.userViewedVideoAsAdmin=t.hasPlayed||!1,e.adminMessage=e.resources.AdminMode.Video.InAdminModeMessage),e.fetchVideo(m.FeatureName.LoadVideoUpdatePage).then((function(){e.updateProperties.videoId=e.videoId,t.open==c.Constants.Events.ReplaceVideo&&e.replace()})).finally((function(){e.isLoaded=!0}))})),setTimeout((function(){t()}),0),this.$window.addEventListener("resize",t);var n=this.sendTelemetryEvents.bind(this);$("body").css("overflowY","auto"),this.$scope.$on("$destroy",(function(){$("body").css("overflowY",""),-1!==e.refreshTimerId&&clearInterval(e.refreshTimerId),e.refreshStatusAfterNotificationIntervalPromise&&e.$interval.cancel(e.refreshStatusAfterNotificationIntervalPromise),e.sendTelemetryEvents(),e.$window.removeEventListener("resize",t),e.$window.removeEventListener("beforeunload",n)})),this.$window.addEventListener("beforeunload",n),this.$scope.$on(c.Constants.Events.Notification_VideoStatus,(function(t,n){e.video&&n.id===e.video.id&&e.pollMedia(!0)}))},y.prototype.handleVideoUploadedFromRecorder=function(){var e=this,t=this.videoRecorderService.getUploadStatus();t===c.Constants.RecorderVideoUploadStatus.Success?this.videoRecorderService.updateUploadedVideo(this.videoId,this.isInAdminMode).then((function(){e.onLoadEvents()}),(function(t){403===t.status&&e.isStreamAdmin?e.showAdminAccessOnlyMode():500<=t.status?e.navigationService.redirect(c.Constants.Routes.Error):e.videoLoadFailedMessage=e.errorHandler.report(t,m.FeatureName.LoadVideoUpdatePage,m.SubFeatureName.VideoService_CompleteUpload)})):t===c.Constants.RecorderVideoUploadStatus.Fail&&(this.recorderUploadStatusFailed=!0,this.errorHandler.report("recorder_upload_failed",m.FeatureName.UploadVideo,m.SubFeatureName.VideoService_CompleteUpload),this.videoRecorderService.deleteUploadedVideo(this.videoId).then((function(){e.updateProperties.exit=f}),(function(t){e.handleFailedUserFeature(t,m.FeatureName.DeleteVideo,m.SubFeatureName.VideoService_DeleteVideo)})))},y.prototype.sendTelemetryEvents=function(){this.isTelemetrySent||(this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.videoUpdateSummaryEventName,this.updateProperties,this.updateMetrics),this.isInAdminMode&&(this.elevatedVideoSessionProperties=_.merge(this.elevatedVideoSessionProperties,this.updateProperties),this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.elevatedVideoSession,this.elevatedVideoSessionProperties,this.updateMetrics)),this.isTelemetrySent=!0)},y.prototype.checkState=function(e){this.videoEditStateInfo.videoState=e,(a.isStringEqual(e,c.Constants.VideoStatus.Completed)||a.isStringEqual(e,c.Constants.VideoStatus.Error))&&(!0===this.videoEditStateInfo.isReplacingVideo&&(s.alertScreenReader(a.formatString(this.resources.ReplaceCompleteAlertMessage,this.video.name)),this.videoEditStateInfo.isReplacingVideo=!1,this.replaceVideoService.replaceCompletedRefresh(e,this.video.id)),clearInterval(this.refreshTimerId))},y.prototype.startPollingVideo=function(e){var t=this;this.pollMedia().then((function(){t.checkState(t.video.state)}))},y.prototype.fetchVideo=function(e){var t=this;return this.videoService.get(this.videoId,this.isInAdminMode).then((function(e){return e.data.userData&&e.data.userData.permissions&&e.data.userData.permissions.canEdit?(t.video=e.data,t.videoEditStateInfo={videoState:t.video.state,published:t.video.published,newlyUploadedItem:!1},t.originalVideo=angular.copy(e.data),e.data):(t.video=null,t.showAdminAccessOnlyMode(),null)}),(function(n){403===n.status&&t.isStreamAdmin?t.showAdminAccessOnlyMode():500<=n.status?t.navigationService.redirect(c.Constants.Routes.Error):t.videoLoadFailedMessage=t.errorHandler.report(n,e,m.SubFeatureName.VideoService_GetVideo)})).then((function(n){return t.video&&(t.videoEditStateInfo.videoState=n.state,e===m.FeatureName.LoadVideoUpdatePage&&t.refreshTitle(),n.id&&t.video.state===c.Constants.VideoStatus.Uploading.toLowerCase()&&(t.uploadItem=_.find(t.videoBgUploaderService.mediaUploadList,(function(e){return e.resourceId===n.id})),t.uploadItem?t.uploadWatchCancelHandler=t.$scope.$watchGroup([function(){return t.uploadItem.status},function(){return t.uploadItem.uploadProgress}],(function(e,i){if(!_.isEqual(e,i)){switch(t.uploadItem.status){case A.UploadStatus.uploading:t.videoEditStateInfo.videoState=c.Constants.VideoState.uploading,t.videoEditStateInfo.uploadProgress=t.uploadItem.uploadProgress,t.videoEditStateInfo.isReplacingVideo=t.uploadItem.isReplacing,t.replacementFileName=t.uploadItem.fileName;break;case A.UploadStatus.failed:t.videoEditStateInfo.videoState=c.Constants.VideoState.failedUpload,t.videoEditStateInfo.isReplacingVideo=!1,t.uploadWatchCancelHandler();break;default:t.uploadWatchCancelHandler(),t.startPollingVideo(n.id)}t.refreshTitle()}})):t.startPollingVideo(n.id)),n.id&&n.state===c.Constants.VideoStatus.Processing.toLowerCase()&&t.startPollingVideo(n.id),n.id&&n.state===c.Constants.VideoStatus.Completed.toLowerCase()&&(t.videoEditStateInfo.thumbnailsReady=!0),t.video.contentType===c.Constants.VideoContentType.presentation&&t.video.userData.permissions.canDownload&&t.videoService.getFiles(t.video.id,t.isInAdminMode).then((function(e){e=e.data.value,(e=_.find(e,(function(e){return e.type===c.Constants.VideoFileType.presentation})))&&e.downloadUrl?(t.canDownloadPPT=!0,t.pptFileUrl=e.downloadUrl):t.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.presentationFileMissing)}))),t.refreshTitle(),n}))},y.prototype.confirmReload=function(e){this.updateProperties.exit=g,this.navigateToVideoViewPage()},y.prototype.navigateToStudioPage=function(){this.navigationService.navigate(c.Constants.Routes.Studio)},y.prototype.navigateToVideoViewPage=function(){this.navigationService.navigate(a.formatString(c.Constants.Routes.Video,this.video.id))},y.prototype.download=function(){this.mediaDownloaderService.downloadAssetFile(this.video.id,c.Constants.VideoFileType.video,this.featureTelemetryTracker,this.isInAdminMode)},y.prototype.downloadPPT=function(){this.pptFileUrl&&this.mediaDownloaderService.downloadFile(this.pptFileUrl)},Object.defineProperty(y.prototype,"canDownload",{get:function(){return this.video.userData.permissions.canDownload&&this.videoEditStateInfo.videoState===c.Constants.VideoState.completed},enumerable:!0,configurable:!0}),y.prototype.replace=function(){var e=this;this.replaceVideoService.handleReplaceVideoDialog(this.video,this.videoEditStateInfo,!1,this.isInAdminMode,this.companyPolicyAddress).then((function(t){t&&(e.videoEditStateInfo.isReplacingVideo=t.isReplacingVideo,e.isInAdminMode&&e.loadAdminMode(e.isInAdminMode,m.FeatureName.ReplaceVideo))}))},Object.defineProperty(y.prototype,"canReplace",{get:function(){return this.video&&this.replaceVideoService.canReplace(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isReplacing",{get:function(){return this.videoEditStateInfo&&this.replaceVideoService.isReplacing(this.videoEditStateInfo)},enumerable:!0,configurable:!0}),y.prototype.confirmDelete=function(e){var t=this;return this.deleteConfirmationDialogService.show(c.Constants.ResourceNames.Video,this.video.name,!1,this.video.id,this.isInAdminMode).then((function(){t.videoService.delete(t.videoId,t.isInAdminMode).then((function(){t.updateProperties.exit=f,t.navigateToStudioPage(),t.featureTelemetryTracker.setResourceId(t.video.id),t.featureTelemetryTracker.succeed(m.FeatureName.DeleteVideo)}),(function(e){t.handleFailedUserFeature(e,m.FeatureName.DeleteVideo,m.SubFeatureName.VideoService_DeleteVideo)}))})),!1},y.prototype.save=function(e){return e.$valid&&(this.saveButtonText=this.resources.VideoUpdate.savingProgress,this.applyChangesDisabled=!0,this.$scope.$broadcast(c.Constants.Events.SaveVideoImmediately)),null},y.prototype.saveFinished=function(e){this.saveButtonText=this.resources.ApplyChanges,this.applyChangesDisabled=!1,e===l.ManualSaveStatus.succeeded&&(this.updateProperties.exit=v,this.navigateToVideoViewPage())},y.prototype.onPublishSuccess=function(){this.updateProperties.published=!0,this.videoEditStateInfo.published=!0},y.prototype.privacyModeChanged=function(){this.updateProperties.privacyChanged=!0},y.prototype.loadAdminMode=function(e,t){this.isInAdminMode=e,this.isInAdminMode&&(this.adminMessage=this.resources.AdminMode.Video.InAdminModeMessage,e=this.$location.search(),this.elevatedVideoSessionProperties.adminEntryComponent=e.entryPoint||d.ElevatedItemEntryPoint.AdminAccessOnlyBar,this.elevatedVideoSessionProperties.entryScreen=e.srcScreen||m.ScreenName.VideoUpdate,this.elevatedVideoSessionProperties.userViewedVideoAsAdmin=e.hasPlayed||!1),this.fetchVideo(t)},Object.defineProperty(y.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isReadOnlyVideo",{get:function(){return this.video&&this.video.readOnlyMigratedContent},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"processProgress",{get:function(){return this.videoEditStateInfo.processProgress||0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"uploadProgress",{get:function(){return this.videoEditStateInfo.uploadProgress||0},enumerable:!0,configurable:!0}),y.prototype.pollMedia=function(e){var t=this;return void 0===e&&(e=!1),this.featureTelemetryTracker.trackEvent(e?d.TelemetryEventNames.StatusCalledBecauseOfNotification:d.TelemetryEventNames.StatusCalledBecauseOfTimer,{id:this.video.id}),this.videoService.getVideoStatus(this.video.id,this.isInAdminMode).then((function(e){t.processingState=e.data,_.forEach(t.processingState.processingStatus,(function(e){e&&e.type&&(e.type.trim().toLowerCase()===c.Constants.VideoStatus.Uploading.toLowerCase()&&e.state.trim().toLowerCase()===c.Constants.VideoStatus.Processing.toLowerCase()?t.fetchVideo(m.FeatureName.ReplaceVideo):e.type.trim().toLowerCase()===c.Constants.VideoProcessingStatusType.thumbnail.toLowerCase()&&e.state.trim().toLowerCase()===c.Constants.VideoStatus.Completed.toLowerCase()?t.videoEditStateInfo.thumbnailsReady||(s.alertScreenReader(a.formatString(t.resources.ThumbnailsReadyAlertMessage,t.video.name)),t.videoEditStateInfo.thumbnailsReady=!0):e.type.trim().toLowerCase()===c.Constants.VideoProcessingStatusType.replacing.toLowerCase()?e.state.trim().toLowerCase()===c.Constants.VideoStatus.Processing.toLowerCase()?(t.videoEditStateInfo.isReplacingVideo=!0,t.videoEditStateInfo.processProgress=e.progress):e.state.trim().toLowerCase()===c.Constants.VideoStatus.Error.toLowerCase()&&(t.isReplacingFailed=!0,t.videoEditStateInfo.isReplacingVideo=!1,t.featureTelemetryTracker.fail(m.FeatureName.ReplaceVideo,m.SubFeatureName.VideoEvent_ReplaceVideo,e.error||"")):e.type.trim().toLowerCase()===c.Constants.VideoProcessingStatusType.encoding.toLowerCase()&&(t.isReplacing||(t.videoEditStateInfo.processProgress=e.progress)))})),t.checkState(t.processingState.state)}),(function(e){t.handleFailedUserFeature(e,m.FeatureName.GetVideoStatus,m.SubFeatureName.VideoService_GetVideoStatus)})).finally((function(){t.refreshStatusAfterNotificationIntervalPromise&&t.$interval.cancel(t.refreshStatusAfterNotificationIntervalPromise),t.videoEditStateInfo.videoState.toLowerCase()===c.Constants.VideoStatus.Processing.toLowerCase()&&(t.refreshStatusAfterNotificationIntervalPromise=t.$interval((function(){t.pollMedia()}),c.Constants.VideoStatusNotificationTimeout,1),t.refreshTitle())}))},y.prototype.refreshTitle=function(){this.$window.document.title=a.formatString(this.resources.BrowserTitle.UpdateVideo,c.Constants.ProductName,this.video.name);var e,t=a.truncateStringAddEllipses(this.video.name,c.Constants.MaxLengths.VideoTitle);this.isReplacing?this.isReplacingFailed?this.title=a.formatString(this.resources.ReplaceVideo.Failed):(e=void 0,this.videoEditStateInfo.videoState===c.Constants.VideoState.uploading?(e=a.formatString(this.resources.ReplaceVideo.FileNameProgressPercentage,this.replacementFileName?a.truncateStringAddEllipses(this.replacementFileName,c.Constants.MaxLengths.VideoTitle):a.truncateStringAddEllipses(this.video.name,c.Constants.MaxLengths.VideoTitle),this.uploadProgress.toString()),this.title=a.formatString(this.resources.ReplaceVideo.Uploading,e)):this.videoEditStateInfo.videoState===c.Constants.VideoState.processing&&(e=a.formatString(this.resources.ReplaceVideo.FileNameProgressPercentage,t,this.processProgress.toString()),this.title=a.formatString(this.resources.ReplaceVideo.Replacing,e))):this.title=a.formatString(this.resources.VideoUpdate.editTitle,t)},y.prototype.handleFailedUserFeature=function(e,t,n){this.lastErrorMessage=this.errorHandler.report(e,t,n),this.updateProperties.error=!0},y.prototype.showAdminAccessOnlyMode=function(){this.isStreamAdmin&&!this.isInAdminMode?this.adminMessage=this.resources.AdminMode.Video.EditOnlyInAdminModeMessage:this.isInAdminMode?this.adminCannotEditMessage=this.isInAdminMode&&!this.video:this.navigationService.redirect(c.Constants.Routes.Error)},y.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","deleteConfirmationDialogService","$q","navigationService","$window","videoBgUploaderService","$location","$interval","principalService","dataShareService","videoRecorderService","mediaDownloaderService","replaceVideoService","tenantService"],r=y;function y(e,t,n,i,r,s,a,c,l,u,d,A,f,g,v,S,b,C){var E=o.call(this,y)||this;return E.$scope=e,E.videoService=t,E.resources=n,E.telemetryService=i,E.featureFlagsService=r,E.deleteConfirmationDialogService=s,E.$q=a,E.navigationService=c,E.$window=l,E.videoBgUploaderService=u,E.$location=d,E.$interval=A,E.principalService=f,E.dataShareService=g,E.videoRecorderService=v,E.mediaDownloaderService=S,E.replaceVideoService=b,E.tenantService=C,E.video=null,E.originalVideo=null,E.debounceOptions={debounce:300},E.refreshTimerId=-1,E.isReplacingFailed=!1,E.applyChangesDisabled=!1,E.isTelemetrySent=!1,E.recorderUploadStatusFailed=!1,E.isStreamAdmin=!1,E.companyPolicyAddress="",E.adminCannotEditMessage=!1,E.isInAdminMode=!1,E.isLoaded=!1,E.updateProperties={titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",exit:h,error:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1},E.elevatedVideoSessionProperties=E.updateProperties,E.updateMetrics={permissionsTotalPermission:0,permissionsTotalPrivateChannels:0,permissionsTotalPublicChannels:0,permissionsChannelsAdded:0,permissionsGroupsAdded:0,permissionsPrincipalsAdded:0},E.title="",E.lastErrorMessage=null,E.videoLoadFailedMessage=null,E.errorHandler=null,E.errorHandler=new p.VideoUpdateErrorHandler(E.resources,E.telemetryService),E.featureTelemetryTracker=E.telemetryService.getTracker(m.ScreenName.VideoUpdate),E.isInAdminMode=E.principalService.getAdminModeStatus(),E.videoRecorderService.checkURLForVideoUploadSource()?E.handleVideoUploadedFromRecorder():E.onLoadEvents(),E.tenantService.getSettings().then((function(e){E.companyPolicyAddress=_.get(e.data,"system.contentManagement.companyUploadPolicy.url","")}),(function(e){E.featureTelemetryTracker.fail(m.FeatureName.GetUploadPermissions,m.SubFeatureName.TenantService_GetTenantSettings,e)})),E}t.VideoUpdateController=r},"./app/components/VideoUpdate/VideoUpdateErrorHandler.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts");r.prototype.report=function(e,t,n,r){var o="";t=t;switch(n){case i.SubFeatureName.VideoService_DeleteVideo:o=this.resources.VideoDeleteFailed;break;case i.SubFeatureName.VideoService_GetVideoStatus:o=this.resources.PollVideoFailed;break;case i.SubFeatureName.VideoService_GetVideo:o=this.resources.LoadVideoFailed}return e.status&&!isNaN(e.status)&&e.status<500&&e.data&&e.data.error&&e.data.error.message&&(o=o+". "+e.data.error.message+"."),this.telemetryService.getTracker(i.ScreenName.VideoUpdate).fail(t,n,e),o},n=r;function r(e,t){this.resources=e,this.telemetryService=t}t.VideoUpdateErrorHandler=n},"./app/components/WaitingRoomOverlay/WaitingRoomOverlay.html":function(e,t){e.exports="<div class=waiting-room-overlay> <div class=status-panel> <div class=logo-container> <svg-src svg-name=stream-icon class=logo inline-with-text=true /> </div> <div class=title>{{::$ctrl.titleText}}</div> <div class=body>{{::$ctrl.bodyText}}</div> <div class=footer> <span class=stream-app-name>{{::$ctrl.logoText}}</span> </div> </div> </div> "},"./app/components/WaitingRoomOverlay/WaitingRoomOverlay.less":function(e,t){},"./app/components/WaitingRoomOverlay/WaitingRoomOverlay.ts":function(e,t,n){function i(){this.controller=o.WaitingRoomOverlayController,this.template=n("./app/components/WaitingRoomOverlay/WaitingRoomOverlay.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/WaitingRoomOverlay/WaitingRoomOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/WaitingRoomOverlay/WaitingRoomOverlayController.ts");t.WaitingRoomOverlay=i,r.registerComponent("waitingRoomOverlay",i,angular.module("jumper"))},"./app/components/WaitingRoomOverlay/WaitingRoomOverlayController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");Object.defineProperty(r.prototype,"logoText",{get:function(){return this.resources.MicrosoftStream},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"titleText",{get:function(){return this.resources.WaitingRoomBodyTitle},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bodyText",{get:function(){return this.resources.WaitingRoomBodyText},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"copyrightText",{get:function(){return this.resources.MicrosoftCorp+" "+i.CopyrightYear(sessionInfo)+". "+this.resources.AllRightsReserved},enumerable:!0,configurable:!0}),r.$inject=["resources"],n=r;function r(e){this.resources=e}t.WaitingRoomOverlayController=n},"./app/models/TelemetryEventModels.ts":function(e,t){var n,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.ResultType||(t.ResultType={}))[i.Success=0]="Success",i[i.Failure=1]="Failure",i[i.Warning=2]="Warning",(i=n=t.ScreenName||(t.ScreenName={}))[i.Auto=0]="Auto",i[i.NotApplicable=1]="NotApplicable",i[i.Video=2]="Video",i[i.LiveUpdate=3]="LiveUpdate",i[i.CreateLive=4]="CreateLive",i[i.Upload=5]="Upload",i[i.MyVideos=6]="MyVideos",i[i.MyChannels=7]="MyChannels",i[i.Hub=8]="Hub",i[i.VideoUpdate=9]="VideoUpdate",i[i.BrowseChannels=10]="BrowseChannels",i[i.BrowseVideos=11]="BrowseVideos",i[i.Channel=12]="Channel",i[i.ChannelView=13]="ChannelView",i[i.ChannelUpdate=14]="ChannelUpdate",i[i.TopBar=15]="TopBar",i[i.EmbedPlayerPage=16]="EmbedPlayerPage",i[i.Welcome=17]="Welcome",i[i.Watchlist=18]="Watchlist",i[i.RecentlyViewed=19]="RecentlyViewed",i[i.InviteDialog=20]="InviteDialog",i[i.ChannelCreateDialog=21]="ChannelCreateDialog",i[i.UploadCaptionDialog=22]="UploadCaptionDialog",i[i.VideoShareDialog=23]="VideoShareDialog",i[i.AddChannelDialog=24]="AddChannelDialog",i[i.GetStartedVideoDialog=25]="GetStartedVideoDialog",i[i.SessionExpiredDialog=26]="SessionExpiredDialog",i[i.Startup=27]="Startup",i[i.UserVideos=28]="UserVideos",i[i.UserChannels=29]="UserChannels",i[i.BrowsePeople=30]="BrowsePeople",i[i.AdminSettings=31]="AdminSettings",i[i.AdminDownloadVideos=32]="AdminDownloadVideos",i[i.UserSettings=33]="UserSettings",i[i.EmbedChannelPage=34]="EmbedChannelPage",i[i.EmbedGroupPage=35]="EmbedGroupPage",i[i.MicrosoftTeamsTabConfig=36]="MicrosoftTeamsTabConfig",i[i.AccessibilityOptionsDialog=37]="AccessibilityOptionsDialog",i[i.GroupEditDialog=38]="GroupEditDialog",i[i.GroupCreateDialog=39]="GroupCreateDialog",i[i.PrincipalEditDialog=40]="PrincipalEditDialog",i[i.ForgottenUsers=41]="ForgottenUsers",i[i.ChannelsFollowing=42]="ChannelsFollowing",i[i.GroupHome=43]="GroupHome",i[i.GroupVideos=44]="GroupVideos",i[i.Group=45]="Group",i[i.BrowseGroups=46]="BrowseGroups",i[i.StudioGroups=47]="StudioGroups",i[i.GroupChannels=48]="GroupChannels",i[i.EmbedWatchListPage=49]="EmbedWatchListPage",i[i.GroupPrincipals=50]="GroupPrincipals",i[i.GroupMembersAddDialog=51]="GroupMembersAddDialog",i[i.ChannelShareDialog=52]="ChannelShareDialog",i[i.OfficeVideoMigration=53]="OfficeVideoMigration",i[i.EmbedSearchPage=54]="EmbedSearchPage",i[i.EmbedVideoChannelSearch=55]="EmbedVideoChannelSearch",i[i.TrialCountdownDialog=56]="TrialCountdownDialog",i[i.Embed=57]="Embed",i[i.EmbedBrowsePage=58]="EmbedBrowsePage",i[i.EmbedLiveStatistics=59]="EmbedLiveStatistics",i[i.EmbedProducer=60]="EmbedProducer",i[i.CompanyPolicyDialog=61]="CompanyPolicyDialog",i[i.EmbedServerError=62]="EmbedServerError",i[i.LiveEventProducerPage=63]="LiveEventProducerPage",i[i.RecycleBin=64]="RecycleBin",i[i.AdminSettingsRecycleBin=65]="AdminSettingsRecycleBin",i[i.MyMeetings=66]="MyMeetings",i[i.Error=67]="Error",i[i.BgUploadProgress=68]="BgUploadProgress",i[i.loginScreen=69]="loginScreen",i[i.WaitingRoom=70]="WaitingRoom",i[i.AdminSettingsEnableMigration=71]="AdminSettingsEnableMigration",i[i.AdminSettingsMigrationSettings=72]="AdminSettingsMigrationSettings",i[i.AdminSettingsMigrationReports=73]="AdminSettingsMigrationReports",i[i.AdminSettingsUserMigration=74]="AdminSettingsUserMigration",(i=t.ResourceType||(t.ResourceType={}))[i.Video=0]="Video",i[i.Channel=1]="Channel",i[i.Group=2]="Group",i[i.Comment=3]="Comment",i[i.Tenant=4]="Tenant",i[i.VideoEvent=5]="VideoEvent",i[i.WatchList=6]="WatchList",i[i.Browse=7]="Browse",(i=t.ElevatedItemEntryPoint||(t.ElevatedItemEntryPoint={}))[i.DrawerButton=0]="DrawerButton",i[i.AdminAccessOnlyBar=1]="AdminAccessOnlyBar",t.AriaTelemetryEventNames={VideoPlaybackError:"VideoPlaybackError",VideoViewed:"VideoViewed"},t.TagClickedType={Hash:"Hash",Time:"Time"},t.TelemetryEventNames={recordVideo:"RecordVideo",uploadSessionEventName:"UploadSession",uploadSummaryEventName:"UploadSummary",searchSummaryEventName:"SearchSummary",videoUpdateSummaryEventName:"VideoUpdateSummary",videoUploadTabToggled:"VideoUploadTabToggled",toggleStateChanged:"ToggleStateChanged",editVideoEventName:"EditVideo",videoPageSessionEventname:"VideoPageSession",editFailureEventName:"EditFailure",channelCreateEventName:"ChannelCreateSummary",channelSummaryEventName:"ChannelSummary",studioVideosSessionEventName:"StudioVideosSessionSummary",studioMeetingsSessionEventName:"StudioMeetingsSessionSummary",userVideosSessionEventName:"userVideosSessionSummary",userChannelsSessionEventName:"userChannelsSessionSummary",groupChannelsSessionEventName:"groupChannelsSessionSummary",studioChannelsSessionEventName:"StudioChannelsSessionSummary",browseChannelsSessionEventName:"BrowseChannelsSessionSummary",browsePeopleSessionEventName:"BrowsePeopleSessionSummary",browseVideosSessionEventName:"BrowseVideosSessionSummary",channelVideosSessionEventName:"ChannelVideosSessionSummary",myWatchlistVideosSessionEventName:"MyWatchlistVideosSessionSummary",TeamsUpsellClicked:"TeamsUpsellClicked",hubPageEventName:"HubSummary",VideoPlayerSummary:"VideoPlayerPlaybackSummary",VideoPlayerHeartbeat:"VideoPlayerHeartbeat",videoPlayerSourceSet:"VideoPlayerSourceSet",videoPlayerManualBitRateChanged:"videoPlayerManualBitRateChanged",videoplayerLoadStart:"VideoPlayerLoadStart",videoPlayerLoaded:"VideoPlayerLoaded",videoPlayerAnalyticsstreamloaded:"videoPlayerAnalyticsStreamLoaded",videoPlayerStarted:"VideoPlayerStarted",videoPlayerEnded:"VideoPlayerEnded",videoPlayerPlay:"VideoPlayerPlay",videoPlayerPlaying:"VideoPlayerPlaying",videoPlayerPause:"VideoPlayerPause",videoPlayerSeeking:"VideoPlayerSeeking",videoPlayerFullscreen:"VideoPlayerFullScreen",videoPlayerWaiting:"VideoPlayerWaiting",videoCaptionsOn:"videoCaptionsOn",videoCaptionsOff:"videoCaptionsOff",audioEnhancementStateChanged:"AudioEnhancementStateChanged",freClosed:"FreClosed",freOpenedLearnMore:"FreOpenedLearnMore",freShown:"FreShown",failedToChangeAudioTrack:"FailedToChangeAudioTrack",ClickSearchTranscriptButton:"ClickSearchTranscriptButton",liveEventStarted:"LiveEventStarted",liveEventEnded:"LiveEventEnded",VideoPlayerRetryOnError:"VideoPlayerRetryOnError",VideoPlayerError:"VideoPlayerError",VideoPlaybackWarning:"VideoPlaybackWarning",userFeedbackReceived:"UserFeedbackReceived",manualVideoFeedback:"ManualVideoFeedback",manualProducerFeedback:"ManualProducerFeedback",inviteDialogSessionSummary:"inviteDialogSessionSummary",commentsSummary:"CommentsSummary",sessionExpiredEvent:"SessionExpired",AddToChannelDialogSummary:"AddToChannelDialogSummary",AddToGroupChannelDialogSummary:"AddToGroupChannelDialogSummary",InviteEmail:"InviteEmail",adminModeToggled:"AdminModeToggled",administratorSettingsEventName:"AdministratorSettingsSummary",adminSettingsAssignAdminsEventName:"AdminSettingsAssignAdmins",adminSettingsStreamAccessEventName:"AdminSettingsStreamAccess",adminSettingsSpotlightVideosEventName:"AdminSettingsSpotlightVideos",adminSettingsForgottenUsersEventName:"AdminSettingsForgottenUsers",adminSettingsCompanyPoliciesEventName:"AdminSettingsCompanyPolicies",adminSettingsUsageDetailsEventName:"AdminSettingsUsageDetails",adminSettingsGroupEventName:"AdminSettingsGroup",adminSettingsSupportEventName:"AdminSettingsSupport",adminSettingsContentCreationEventName:"AdminSettingsContentCreation",adminDownloadVideosListEventName:"adminDownloadVideosList",adminDownloadVideosLoadVideosEventName:"adminDownloadVideosLoadVideos",adminSettingsLiveEventEventName:"AdminSettingsLiveEvent",adminSettingsCommentsEventName:"AdminSettingsComments",adminSettingsFaceDetectionEventName:"AdminSettingsFaceDetection",adminSettingsSpotlightEventName:"AdminSettingsSpotlight",adminSettingsPersonalDataEventName:"AdminSettingsPersonalData",adminSettingsNetworkCachingEventName:"AdminSettingsNetworkCaching",adminSettingsResetCompanyPolicy:"AdminSettingsResetCompanyPolicy",adminSettingsExternalSharingEventName:"AdminSettingsExternalSharing",adminSettingsEnableMigrationEventName:"AdminSettingsEnableMigration",adminSettingsMigrationSettingsEventName:"AdminSettingsMigrationSettings",adminSettingsMigrationReportsEventName:"AdminSettingsMigrationReports",adminSettingsUserMigrationEventName:"AdminSettingsUserMigration",groupSpotlight:"GroupSpotlight",groupSpotlightVideos:"GroupSpotlightVideos",elevatedVideoSession:"ElevatedVideoSession",elevatedChannelSession:"ElevatedChannelSession",timeTagClickedEventName:"timeTagClicked",tagClickedEventName:"tagClicked",StatusCalledBecauseOfNotification:"StatusCalledBecauseOfNotification",StatusCalledBecauseOfTimer:"StatusCalledBecauseOfTimer",SignalRNotificationReceived:"SignalRNotificaitonReceived",EncoderSetupSummary:"encoderSetupSummary",userScrollTranscriptPane:"userScrollTranscriptPane",ShowHideTranscriptToggle:"ShowHideTranscriptToggle",ProviderReportLinkClicked:"ProviderReportLinkClicked",DownloadCSVButtonClicked:"DownloadCSVButtonClicked",embedSummary:"EmbedSummary",embedVideoSummary:"EmbedPlayerActionBarSummary",embedChannelSummary:"EmbedChannelSummary",embedGroupSummary:"EmbedGroupSummary",embedMSTeamsTabConfig:"EmbedMSTeamsTabConfigSummary",embedWatchListSummery:"EmbedWatchlistSummary",embedBrowseSummary:"EmbedBrowseSummary",embedServerError:"embedservererror",embedLoadingFullResources:"embedLoadingFullResources",embedLoadingMinifiedResources:"embedLoadingMinifiedResources",embedClientResourcesLoaded:"embedClientResourcesLoaded",embedLoginScreenShown:"embedLoginScreenShown",embedLoginButtonClicked:"embedLoginButtonClicked",embedVideoPosterClicked:"EmbedVideoPosterClicked",groupEditSummary:"GroupEditSummary",groupCreateSummary:"GroupCreateSummary",principalEditSummary:"PrincipalEditSummary",channelsFollowingEventName:"ChannelsFollowing",channelUpdateEventName:"ChannelUpdateSummary",groupVideosSessionEventName:"groupVideosSessionEventName",browseGroupsSessionEventName:"BrowseGroupsSession",studioGroupsSessionEventName:"studioGroupsSession",siteLoaded:"SiteLoaded",loggerStarted:"Logger_Started",loggerUserServicePlanFetchedOnClient:"Logger_UserServicePlanFetchedOnClient",loggerUserServicePlanFetchedOnWebrole:"Logger_UserServicePlanFetchedOnWebrole",loggerLogCacheFlushed:"Logger_LogCacheFlushed",loggerAppExited:"Logger_AppExited",loggerScreenTagged:"Logger_ScreenTagged",navigationCompleted:"Navigation_Completed",loggerLLInit:"Logger_LocalyticsInitialized",loggerAICacheManualFlush:"Logger_AICacheManualFlush",groupPrincipalsSessionEventName:"groupPrincipalsSessionEventName",addGroupMembersSummary:"AddGroupMembersSummary",presentationFileMissing:"presentationFileMissing",adminDownloadFilesMissing:"adminDownloadFilesMissing",trialCountdownDialogRead:"trialCountdownDialogRead",userNotificationsReady:"userNotificationsReady",alreadySignedIn:"alreadySignedIn",tokenAuthChosen:"tokenAuthChosen",silentLoginChosen:"silentLoginChosen",connectToParentRequested:"connectToParentRequested",getAuthTokenRequested:"getAuthTokenRequested",createInvitationClicked:"createInvitationClicked",editInTeamsClicked:"editInTeamsClicked",editInYammerClicked:"editInYammerClicked",editInOtherAppClicked:"editInOtherAppClicked",officeTopNavRendered:"officeTopNavRendered",officeTopNavLoaded:"officeTopNavLoaded",producerEventStateChanged:"producerEventStateChanged",producerEventStateChangedSaveFailed:"producerEventStateChangedSaveFailed",producerIngestStateChanged:"producerIngestStateChanged",producerError:"producerError",producerEncoderSelected:"producerEncoderSelected",producerSummary:"producerSummary",manifestAvailable:"manifestAvailable",selectStartSetup:"selectStartSetup",selectStartSetupFailed:"selectStartSetupFailed",selectStartEvent:"selectStartEvent",selectStartEventFailed:"selectStartEventFailed",selectDisconnect:"selectDisconnect",selectDisconnectFailed:"selectDisconnectFailed",selectEndEvent:"selectEndEvent",selectEndEventFailed:"selectEndEventFailed",setupStarted:"setupStarted",eventStarted:"eventStarted",setupDisconnected:"setupDisconnected",eventEnded:"eventEnded",liveEventEmbeddedCaptionClickCount:"liveEventEmbeddedCaptionClickCount",signInSuccessful:"signInSuccessful",signInFailed:"signInFailed",signInIncomplete:"signInIncomplete",dataLoaded:"dataLoaded",sessionInfoUserClaimMissing:"sessionInfoUserClaimMissing",tenantFilter:"tenantFilter",encoderSetupUsed:"encoderSetupUsed",wireCastSDownloaded:"wireCastSDownloaded",localyticsError:"LocalyticsError",formsLoaded:"formsLoaded",ShareDialog:"ShareDialog",InteractiveForm:"InteractiveForm",PlayThroughPostMessaging:"PlayThroughPostMessaging",PauseThroughPostMessaging:"PauseThroughPostMessaging",UnknownPlayerFunction:"UnknownPlayerFunction",VideoEditorLoadOptionSelected:"VideoEditorLoadOptionSelected",VideoEditorLoaded:"VideoEditorLoaded",VideoEdited:"VideoEdited",VideoEditFailed:"VideoEditFailed",VideoEditOptionDisplayedForLive:"VideoEditOptionDisplayedForLive",VideoEditOptionDisplayedOnListView:"VideoEditOptionDisplayedOnListView",VideoEditOptionDisplayedOnVideoPage:"VideoEditOptionDisplayedOnVideoPage",VideoEditorPostProcess:"videoEditorPostProcess",StudioRecycleBinSessionEventName:"StudioRecycleBinSessionSummary",AdminSettingsRecycleBinSessionEventName:"AdminSettingsRecycleBinSessionSummary",TranscriptUserAction:"TranscriptUserAction",TopBarMenuItemClicked:"TopBarMenuItemClicked",TabClicked:"TabClicked",TabChanged:"TabChanged",TabChangedCanceled:"TabChangedCanceled",PetrolSucceeded:"PetrolSucceeded",PetrolFailed:"PetrolFailed",OcvAppWideFeedbackSucceeded:"OcvAppWideFeedbackSucceeded",OcvAppWideFeedbackFailed:"OcvAppWideFeedbackFailed",OcvScreenRecorderFeedbackSucceeded:"OcvScreenRecorderFeedbackSucceeded",OcvScreenRecorderFeedbackFailed:"OcvScreenRecorderFeedbackFailed",PublicAnonymousChanged:"PublicAnonymousChanged",PublicAnonymousConfirmationDialogClosed:"PublicAnonymousConfirmationDialogClosed",O365GroupEditFailed:"O365GroupEditFailed",WaitingRoomEntered:"WaitingRoomEntered",WaitingRoomRetry:"WaitingRoomRetry",WaitingRoomExit:"WaitingRoomExit",WaitingRoomAttemptsExhausted:"WaitingRoomAttemptsExhausted",TenantPatchThrottled:"TenantPatchThrottled",TenantPatchFailure:"TenantPatchFailure",TenantPatchError:"TenantPatchError"},t.ItemMetricEventNames={ItemAddedToChannel:"itemAddedToChannel",ItemAddedToGroupChannel:"itemAddedToGroupChannel",ItemAddedToWatchlist:"itemAddedToWatchlist",ItemClicked:"itemClicked",ItemChanged:"itemChanged",ItemDeleteClicked:"itemDeleteClicked",ItemDeletedFromWatchlist:"itemDeletedFromWatchlist",ItemFollowed:"itemFollowed",ItemPublished:"itemPublished",ItemShared:"itemShared",ItemUnfollowed:"itemUnfollowed",ItemDownloaded:"itemDownloaded",ItemPPTDownloaded:"itemPPTDownload",ItemRestoreClicked:"itemRestoreClicked",ItemReplaced:"itemReplaced"},t.TranscriptUserActionNames={EnterEditModeClicked:"EnterEditModeClicked",ExitEditModeClicked:"ExitEditModeClicked",ReplayLineClicked:"ReplayLineClicked",SaveLineEditClicked:"SaveLineEditClicked",DiscardLineEditClicked:"DiscardLineEditClicked",EnableAutoscrollClicked:"EnableAutoscrollClicked",DisableAutoscrollClicked:"DisableAutoscrollClicked"},t.getTelemetryEventName=function(e){switch(e){case n.BrowseVideos:return t.TelemetryEventNames.browseVideosSessionEventName;case n.BrowseChannels:return t.TelemetryEventNames.browseChannelsSessionEventName;case n.BrowseVideos:return t.TelemetryEventNames.browseVideosSessionEventName;case n.BrowseGroups:return t.TelemetryEventNames.browseGroupsSessionEventName;case n.MyVideos:return t.TelemetryEventNames.studioVideosSessionEventName;case n.StudioGroups:return t.TelemetryEventNames.studioGroupsSessionEventName;case n.MyChannels:return t.TelemetryEventNames.studioChannelsSessionEventName;case n.MyMeetings:return t.TelemetryEventNames.studioMeetingsSessionEventName;case n.Watchlist:return t.TelemetryEventNames.myWatchlistVideosSessionEventName;case n.ChannelView:return t.TelemetryEventNames.channelVideosSessionEventName;case n.UserChannels:return t.TelemetryEventNames.userChannelsSessionEventName;case n.UserVideos:return t.TelemetryEventNames.userVideosSessionEventName;case n.RecycleBin:return t.TelemetryEventNames.StudioRecycleBinSessionEventName;case n.AdminSettingsRecycleBin:return t.TelemetryEventNames.AdminSettingsRecycleBinSessionEventName;case n.AdminDownloadVideos:return t.TelemetryEventNames.adminDownloadVideosListEventName;case n.AdminSettingsEnableMigration:return t.TelemetryEventNames.adminSettingsEnableMigrationEventName;case n.AdminSettingsMigrationSettings:return t.TelemetryEventNames.adminSettingsMigrationSettingsEventName;case n.AdminSettingsMigrationReports:return t.TelemetryEventNames.adminSettingsMigrationReportsEventName;case n.AdminSettingsUserMigration:return t.TelemetryEventNames.adminSettingsUserMigrationEventName;default:return null}},(i=t.SubFeatureName||(t.SubFeatureName={}))[i.NotApplicable=0]="NotApplicable",i[i.MediaUploaderService_CancelUpload=1]="MediaUploaderService_CancelUpload",i[i.AudienceAnalytics_DownloadCSV=2]="AudienceAnalytics_DownloadCSV",i[i.ChannelService_GetVideos=3]="ChannelService_GetVideos",i[i.VideoService_CompleteUpload=4]="VideoService_CompleteUpload",i[i.VideoService_Create=5]="VideoService_Create",i[i.ChannelService_DeleteChannel=6]="ChannelService_DeleteChannel",i[i.VideoService_DeleteVideo=7]="VideoService_DeleteVideo",i[i.ChannelService_Follow=8]="ChannelService_Follow",i[i.ChannelService_GetChannel=9]="ChannelService_GetChannel",i[i.ChannelService_Query=10]="ChannelService_Query",i[i.ChannelService_GetMyFollowingChannels=11]="ChannelService_GetMyFollowingChannels",i[i.VideoService_GetPinnedVideos=12]="VideoService_GetPinnedVideos",i[i.VideoService_GetRecentlyViewedVideos=13]="VideoService_GetRecentlyViewedVideos",i[i.VideoService_GetSupportedExtensions=14]="VideoService_GetSupportedExtensions",i[i.VideoService_GetVideo=15]="VideoService_GetVideo",i[i.VideoService_GetPublicPlaybackUrl=16]="VideoService_GetPublicPlaybackUrl",i[i.VideoService_GetVideoChannels=17]="VideoService_GetVideoChannels",i[i.VideoService_Share=18]="VideoService_Share",i[i.VideoService_GetAll=19]="VideoService_GetAll",i[i.VideoService_GetFiles=20]="VideoService_GetFiles",i[i.ExternalProvider_Yammer=21]="ExternalProvider_Yammer",i[i.PrincipalService_GetMyPrincipalInfo=22]="PrincipalService_GetMyPrincipalInfo",i[i.PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement=23]="PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement",i[i.PrincipalService_PatchMySettings=24]="PrincipalService_PatchMySettings",i[i.PrincipalService_Patch=25]="PrincipalService_Patch",i[i.PrincipalService_PatchFreForAudioEnhancement=26]="PrincipalService_PatchFreForAudioEnhancement",i[i.PrincipalService_Delete=27]="PrincipalService_Delete",i[i.VideoService_GetVideoStatus=28]="VideoService_GetVideoStatus",i[i.VideoService_Like=29]="VideoService_Like",i[i.ChannelService_PatchChannel=30]="ChannelService_PatchChannel",i[i.VideoService_PatchVideo=31]="VideoService_PatchVideo",i[i.VideoService_PatchPublicAnonymous=32]="VideoService_PatchPublicAnonymous",i[i.VideoService_PinVideo=33]="VideoService_PinVideo",i[i.VideoService_GetLinks=34]="VideoService_GetLinks",i[i.VideoService_SetLinks=35]="VideoService_SetLinks",i[i.VideoService_SetLiveEvent=36]="VideoService_SetLiveEvent",i[i.SpotlightService_GetTenantSpotlight=37]="SpotlightService_GetTenantSpotlight",i[i.SpotlightService_GetGroupSpotlight=38]="SpotlightService_GetGroupSpotlight",i[i.LiveEventService_GetTenantLiveEvent=39]="LiveEventService_GetTenantLiveEvent",i[i.ProcessingVideo=40]="ProcessingVideo",i[i.ChannelService_RemoveVideo=41]="ChannelService_RemoveVideo",i[i.ThumbnailService_SetAsPosterImage=42]="ThumbnailService_SetAsPosterImage",i[i.ThumbnailService_Query=43]="ThumbnailService_Query",i[i.ThumbnailService_Create=44]="ThumbnailService_Create",i[i.ChannelService_Search=45]="ChannelService_Search",i[i.PrincipalService_SearchPrincipals=46]="PrincipalService_SearchPrincipals",i[i.PrincipalService_GetforgottenUsers=47]="PrincipalService_GetforgottenUsers",i[i.VideoService_Search=48]="VideoService_Search",i[i.VideoService_StartUpload=49]="VideoService_StartUpload",i[i.MediaUploaderService_Upload=50]="MediaUploaderService_Upload",i[i.VideoService_GetTrendingVideos=51]="VideoService_GetTrendingVideos",i[i.TenantService_GetTenantProvisioningInfo=52]="TenantService_GetTenantProvisioningInfo",i[i.TenantService_GetTenantSettings=53]="TenantService_GetTenantSettings",i[i.TenantService_PatchTenantSettings=54]="TenantService_PatchTenantSettings",i[i.TenantService_GetTenantDomains=55]="TenantService_GetTenantDomains",i[i.TenantService_GetDataExport=56]="TenantService_GetDataExport",i[i.TenantService_ResetCompanyPolicy=57]="TenantService_ResetCompanyPolicy",i[i.ChannelService_Unfollow=58]="ChannelService_Unfollow",i[i.VideoService_UnpinVideo=59]="VideoService_UnpinVideo",i[i.VideoService_Unlike=60]="VideoService_Unlike",i[i.ChannelService_SetPosterImage=61]="ChannelService_SetPosterImage",i[i.General_ShowInviteOthers=62]="General_ShowInviteOthers",i[i.General_ShowGettingStarted=63]="General_ShowGettingStarted",i[i.General_ShowBgUploadNotice=64]="General_ShowBgUploadNotice",i[i.General_ShowVideoLanguageNote=65]="General_ShowVideoLanguageNote",i[i.General_HideDefaultLanguageDialog=66]="General_HideDefaultLanguageDialog",i[i.General_ShowFirstTimeExperienceInVideoEditor=67]="General_ShowFirstTimeExperienceInVideoEditor",i[i.System_PolicyAcknowledgement=68]="System_PolicyAcknowledgement",i[i.System_EmailNotification=69]="System_EmailNotification",i[i.TextTrackDataService_Query=70]="TextTrackDataService_Query",i[i.CommentService_Query=71]="CommentService_Query",i[i.CommentService_Post=72]="CommentService_Post",i[i.CommentService_Patch=73]="CommentService_Patch",i[i.CommentService_Delete=74]="CommentService_Delete",i[i.CommentService_Get=75]="CommentService_Get",i[i.General_BrowserCreateImages=76]="General_BrowserCreateImages",i[i.UploadService_StartUpload=77]="UploadService_StartUpload",i[i.UploadService_UploadFiles=78]="UploadService_UploadFiles",i[i.General_ErrorState=79]="General_ErrorState",i[i.General_PlaybackFailed=80]="General_PlaybackFailed",i[i.ChannelService_Create=81]="ChannelService_Create",i[i.TextTrackDataService_Create=82]="TextTrackDataService_Create",i[i.TextTrackDataService_Delete=83]="TextTrackDataService_Delete",i[i.TextTrackDataService_Patch=84]="TextTrackDataService_Patch",i[i.DisablingTelemetry=85]="DisablingTelemetry",i[i.PrincipalService_GetMyInfo=86]="PrincipalService_GetMyInfo",i[i.PrincipalService_exportData=87]="PrincipalService_exportData",i[i.EnablingTelemetry=88]="EnablingTelemetry",i[i.RoleAssignmentService_GetGlobalAssignment=89]="RoleAssignmentService_GetGlobalAssignment",i[i.RoleAssignmentService_GetChannelAssignment=90]="RoleAssignmentService_GetChannelAssignment",i[i.RoleAssignmentService_GetVideoAssignment=91]="RoleAssignmentService_GetVideoAssignment",i[i.RoleAssignmentService_SetGlobalAssignment=92]="RoleAssignmentService_SetGlobalAssignment",i[i.RoleAssignmentService_SetChannelAssignment=93]="RoleAssignmentService_SetChannelAssignment",i[i.RoleAssignmentService_SetVideoAssignment=94]="RoleAssignmentService_SetVideoAssignment",i[i.RoleAssignmentService_SetGroupAssignment=95]="RoleAssignmentService_SetGroupAssignment",i[i.RoleService_GetViewerRoleId=96]="RoleService_GetViewerRoleId",i[i.RoleService_GetContributorRoleId=97]="RoleService_GetContributorRoleId",i[i.RoleService_GetGlobalRoleId=98]="RoleService_GetGlobalRoleId",i[i.RoleService_GetOwnerRoleId=99]="RoleService_GetOwnerRoleId",i[i.NotificationService_Disconnected=100]="NotificationService_Disconnected",i[i.NotificationService_NotConnected=101]="NotificationService_NotConnected",i[i.NotificationService_ReConnecting=102]="NotificationService_ReConnecting",i[i.NotificationService_ReConnected=103]="NotificationService_ReConnected",i[i.NotificaitonService_SlowConnection=104]="NotificaitonService_SlowConnection",i[i.NotificaitonService_JoinedGroups=105]="NotificaitonService_JoinedGroups",i[i.NotificaitonService_JoinVideoGroups=106]="NotificaitonService_JoinVideoGroups",i[i.NotificaitonService_LeaveVideoGroups=107]="NotificaitonService_LeaveVideoGroups",i[i.VideoEvent_GetTranscriptCaption=108]="VideoEvent_GetTranscriptCaption",i[i.VideoService_GetDownloadUrl=109]="VideoService_GetDownloadUrl",i[i.VideoService_GetAnalyticsDownloadUrl=110]="VideoService_GetAnalyticsDownloadUrl",i[i.VideoService_DownloadVideo=111]="VideoService_DownloadVideo",i[i.VideoService_GetIngest=112]="VideoService_GetIngest",i[i.VideoService_StartIngest=113]="VideoService_StartIngest",i[i.VideoService_StartBroadcast=114]="VideoService_StartBroadcast",i[i.VideoService_StopIngest=115]="VideoService_StopIngest",i[i.VideoService_GetTokens=116]="VideoService_GetTokens",i[i.VideoEvent_Search=117]="VideoEvent_Search",i[i.VideoEvent_HidePerson=118]="VideoEvent_HidePerson",i[i.VideoEvent_UnhidePerson=119]="VideoEvent_UnhidePerson",i[i.VideoEvent_MergePerson=120]="VideoEvent_MergePerson",i[i.VideoEvent_SaveTranscript=121]="VideoEvent_SaveTranscript",i[i.VideoEvent_ReplaceVideo=122]="VideoEvent_ReplaceVideo",i[i.MigrationNoticesService_GetVideoMigrationNotices=123]="MigrationNoticesService_GetVideoMigrationNotices",i[i.MigrationNoticesService_GetTenantMigrationNotices=124]="MigrationNoticesService_GetTenantMigrationNotices",i[i.MigrationNoticesService_GetChannelMigrationNotices=125]="MigrationNoticesService_GetChannelMigrationNotices",i[i.OEmbed_Get=126]="OEmbed_Get",i[i.GroupService_Get=127]="GroupService_Get",i[i.GroupService_Create=128]="GroupService_Create",i[i.GroupService_Patch=129]="GroupService_Patch",i[i.GroupService_Delete=130]="GroupService_Delete",i[i.GroupService_GetMember=131]="GroupService_GetMember",i[i.GroupService_EmailUnique=132]="GroupService_EmailUnique",i[i.GroupService_GetClassifications=133]="GroupService_GetClassifications",i[i.GroupService_GetPolicies=134]="GroupService_GetPolicies",i[i.GroupService_RemoveVideo=135]="GroupService_RemoveVideo",i[i.GroupService_GetPrefixSuffix=136]="GroupService_GetPrefixSuffix",i[i.GroupService_ValidateInGroupCreate=137]="GroupService_ValidateInGroupCreate",i[i.GroupService_ValidateInGroupEdit=138]="GroupService_ValidateInGroupEdit",i[i.GroupService_RemoveMember=139]="GroupService_RemoveMember",i[i.ChannelEvent_DeletePosterImage=140]="ChannelEvent_DeletePosterImage",i[i.GroupService_GetTrendingVideos=141]="GroupService_GetTrendingVideos",i[i.GroupService_GetChannels=142]="GroupService_GetChannels",i[i.GroupService_GetVideos=143]="GroupService_GetVideos",i[i.GroupService_AddMembers=144]="GroupService_AddMembers",i[i.GroupService_Search=145]="GroupService_Search",i[i.PersonService_GetPersons=146]="PersonService_GetPersons",i[i.GroupService_ListMembers=147]="GroupService_ListMembers",i[i.TenantService_GetTenantUsages=148]="TenantService_GetTenantUsages",i[i.UserNotificationService_Query=149]="UserNotificationService_Query",i[i.UserNotificationService_Get=150]="UserNotificationService_Get",i[i.UserNotificationService_Read=151]="UserNotificationService_Read",i[i.UserNotificationService_Dismiss=152]="UserNotificationService_Dismiss",i[i.GetAuthToken_MicrosoftTeams=153]="GetAuthToken_MicrosoftTeams",i[i.GetAuthToken_StreamPostMessageSDK=154]="GetAuthToken_StreamPostMessageSDK",i[i.LiveEvent_ResetPosterImage=155]="LiveEvent_ResetPosterImage",i[i.LiveEvent_CreateInvite=156]="LiveEvent_CreateInvite",i[i.LiveEvent_ReplaceVideo=157]="LiveEvent_ReplaceVideo",i[i.SDN_Plugin_File=158]="SDN_Plugin_File",i[i.SDNInitFailure=159]="SDNInitFailure",i[i.SDNFatalError=160]="SDNFatalError",i[i.Forms_Get=161]="Forms_Get",i[i.Forms_Add=162]="Forms_Add",i[i.Forms_Delete=163]="Forms_Delete",i[i.RecycleBinService_DeleteVideo=164]="RecycleBinService_DeleteVideo",i[i.RecycleBinService_RestoreVideo=165]="RecycleBinService_RestoreVideo",i[i.LocaleHelperService_SettingLocale=166]="LocaleHelperService_SettingLocale",(i=t.VideoPlaybackError||(t.VideoPlaybackError={}))[i.KeyAcquireError=0]="KeyAcquireError",i[i.NetworkTimeoutError=1]="NetworkTimeoutError",i[i.SegmentDecryptError=2]="SegmentDecryptError",i[i.MediaAbortedError=3]="MediaAbortedError",i[i.ClientNetworkError=4]="ClientNetworkError",i[i.ServerNetworkError=5]="ServerNetworkError",i[i.GenericNetworkError=6]="GenericNetworkError",i[i.NoInternetConnectionError=7]="NoInternetConnectionError",i[i.AESDecodeError=8]="AESDecodeError",i[i.SourceNotSupportedError=9]="SourceNotSupportedError",i[i.GenericDecryptError=10]="GenericDecryptError",i[i.PlayerMismatchError=11]="PlayerMismatchError",i[i.UnknownError=12]="UnknownError",(i=t.FeatureName||(t.FeatureName={}))[i.NotApplicable=0]="NotApplicable",i[i.AddVideoToChannel=1]="AddVideoToChannel",i[i.AudienceAnalytics=2]="AudienceAnalytics",i[i.ChannelVideos=3]="ChannelVideos",i[i.ChannelsFollowing=4]="ChannelsFollowing",i[i.CreateChannel=5]="CreateChannel",i[i.DeleteChannel=6]="DeleteChannel",i[i.DeleteVideo=7]="DeleteVideo",i[i.DeleteTextTrack=8]="DeleteTextTrack",i[i.Follow=9]="Follow",i[i.GetVideo=10]="GetVideo",i[i.LoadChannelPage=11]="LoadChannelPage",i[i.LoadEmbedVideoPage=12]="LoadEmbedVideoPage",i[i.LoadEmbedLiveStatisticsPage=13]="LoadEmbedLiveStatisticsPage",i[i.LoadEmbedProducerPage=14]="LoadEmbedProducerPage",i[i.LoadVideoPage=15]="LoadVideoPage",i[i.LoadVideoPlayer=16]="LoadVideoPlayer",i[i.LoadExternalProviderScript=17]="LoadExternalProviderScript",i[i.LoadVideoUpdatePage=18]="LoadVideoUpdatePage",i[i.LoadSdnPlugin=19]="LoadSdnPlugin",i[i.PinVideo=20]="PinVideo",i[i.PopularChannels=21]="PopularChannels",i[i.UnpinVideo=22]="UnpinVideo",i[i.LikeVideo=23]="LikeVideo",i[i.UnlikeVideo=24]="UnlikeVideo",i[i.PublishVideo=25]="PublishVideo",i[i.RemoveVideoFromChannel=26]="RemoveVideoFromChannel",i[i.RemoveVideoFromGroup=27]="RemoveVideoFromGroup",i[i.ReplaceVideo=28]="ReplaceVideo",i[i.ShareVideo=29]="ShareVideo",i[i.CreatePublicAnonymousLink=30]="CreatePublicAnonymousLink",i[i.SearchChannels=31]="SearchChannels",i[i.SearchPrincipals=32]="SearchPrincipals",i[i.SearchVideos=33]="SearchVideos",i[i.SearchGroupVideos=34]="SearchGroupVideos",i[i.TrendingVideos=35]="TrendingVideos",i[i.TenantProvisioning=36]="TenantProvisioning",i[i.UpdateChannel=37]="UpdateChannel",i[i.UpdateVideo=38]="UpdateVideo",i[i.UploadCustomThumbnail=39]="UploadCustomThumbnail",i[i.UploadTextTrack=40]="UploadTextTrack",i[i.UpdateTextTrack=41]="UpdateTextTrack",i[i.UploadVideo=42]="UploadVideo",i[i.UnFollow=43]="UnFollow",i[i.VideoPlayback=44]="VideoPlayback",i[i.VideoPlaybackTrace=45]="VideoPlaybackTrace",i[i.WatchListVideos=46]="WatchListVideos",i[i.RecentlyViewedVideos=47]="RecentlyViewedVideos",i[i.InviteOthers=48]="InviteOthers",i[i.RenewTokenWebTier=49]="RenewTokenWebTier",i[i.RenewApiGatewayTokenCookie=50]="RenewApiGatewayTokenCookie",i[i.RenewTokenAdal=51]="RenewTokenAdal",i[i.GetVideoStatus=52]="GetVideoStatus",i[i.GetVideoChannels=53]="GetVideoChannels",i[i.GetSupportedExtensions=54]="GetSupportedExtensions",i[i.GetPrincipalSettings=55]="GetPrincipalSettings",i[i.UpdatePrincipalSettings=56]="UpdatePrincipalSettings",i[i.GetComments=57]="GetComments",i[i.PostComment=58]="PostComment",i[i.UpdateComment=59]="UpdateComment",i[i.DeleteComment=60]="DeleteComment",i[i.EnableOrDisableTelemetry=61]="EnableOrDisableTelemetry",i[i.DisableTelemetry=62]="DisableTelemetry",i[i.GetUser=63]="GetUser",i[i.GetAdminSettings=64]="GetAdminSettings",i[i.GetForgottenUsers=65]="GetForgottenUsers",i[i.GetUserSettings=66]="GetUserSettings",i[i.GetTenantSpotlightVideos=67]="GetTenantSpotlightVideos",i[i.GetGroupSpotlightVideos=68]="GetGroupSpotlightVideos",i[i.UpdateAdminSettings=69]="UpdateAdminSettings",i[i.UpdateAdminCommentSettings=70]="UpdateAdminCommentSettings",i[i.UpdateAdminFaceDetectionSettings=71]="UpdateAdminFaceDetectionSettings",i[i.UpdateAdminCompanyPolicySettings=72]="UpdateAdminCompanyPolicySettings",i[i.UpdateAdminContentCreationSettings=73]="UpdateAdminContentCreationSettings",i[i.UpdateAdminLiveEventsSettings=74]="UpdateAdminLiveEventsSettings",i[i.UpdateAdminAssignAdminSettings=75]="UpdateAdminAssignAdminSettings",i[i.UpdateAdminSpotlightSettings=76]="UpdateAdminSpotlightSettings",i[i.UpdateAdminNetworkCachingSettings=77]="UpdateAdminNetworkCachingSettings",i[i.UpdateAdminExternalSharingSettings=78]="UpdateAdminExternalSharingSettings",i[i.ResetCompanyPolicy=79]="ResetCompanyPolicy",i[i.GeneratePersonalData=80]="GeneratePersonalData",i[i.UpdateGroupSpotlight=81]="UpdateGroupSpotlight",i[i.UpdateAdminMigrationSettings=82]="UpdateAdminMigrationSettings",i[i.GetVideoForSpotlight=83]="GetVideoForSpotlight",i[i.GetVideosForSpotlight=84]="GetVideosForSpotlight",i[i.GetVideosForLiveEvent=85]="GetVideosForLiveEvent",i[i.PublicShareOptionShown=86]="PublicShareOptionShown",i[i.GetAdminDownloadVideos=87]="GetAdminDownloadVideos",i[i.GetAdminDownloadFiles=88]="GetAdminDownloadFiles",i[i.GetforgottenUsers=89]="GetforgottenUsers",i[i.GetUserExportData=90]="GetUserExportData",i[i.GetUploadPermissions=91]="GetUploadPermissions",i[i.LoadUserSettingsPage=92]="LoadUserSettingsPage",i[i.Topbar=93]="Topbar",i[i.NotificationConnection=94]="NotificationConnection",i[i.NotificationHubsJSLoad=95]="NotificationHubsJSLoad",i[i.UploadChannelCustomThumbnail=96]="UploadChannelCustomThumbnail",i[i.UploadVideoCustomThumbnail=97]="UploadVideoCustomThumbnail",i[i.UploadLiveVideoCustomThumbnail=98]="UploadLiveVideoCustomThumbnail",i[i.SaveVideoCustomThumbnail=99]="SaveVideoCustomThumbnail",i[i.LoadEmbedChannelPage=100]="LoadEmbedChannelPage",i[i.LoadEmbedGroupPage=101]="LoadEmbedGroupPage",i[i.EmailShare=102]="EmailShare",i[i.GetChannelByName=103]="GetChannelByName",i[i.LoadVideoTranscriptEvent=104]="LoadVideoTranscriptEvent",i[i.DownloadVideo=105]="DownloadVideo",i[i.GetVideoDownloadUrl=106]="GetVideoDownloadUrl",i[i.GetAnalyticsDownloadUrl=107]="GetAnalyticsDownloadUrl",i[i.ClickSearchTranscriptButton=108]="ClickSearchTranscriptButton",i[i.SearchVideoTranscriptEvent=109]="SearchVideoTranscriptEvent",i[i.TranscriptSelectedInSearchResult=110]="TranscriptSelectedInSearchResult",i[i.OEmbed=111]="OEmbed",i[i.EmbedVideoSearch=112]="EmbedVideoSearch",i[i.LiveUpdatePage=113]="LiveUpdatePage",i[i.LiveCreateInvite=114]="LiveCreateInvite",i[i.GetTenantSettings=115]="GetTenantSettings",i[i.VideoPlayback_KeyAcquireError=116]="VideoPlayback_KeyAcquireError",i[i.VideoPlayback_NetworkTimeoutError=117]="VideoPlayback_NetworkTimeoutError",i[i.VideoPlayback_SegmentDecryptError=118]="VideoPlayback_SegmentDecryptError",i[i.VideoPlayback_MediaAbortedError=119]="VideoPlayback_MediaAbortedError",i[i.VideoPlayback_ClientNetworkError=120]="VideoPlayback_ClientNetworkError",i[i.VideoPlayback_ServerNetworkError=121]="VideoPlayback_ServerNetworkError",i[i.VideoPlayback_GenericNetworkError=122]="VideoPlayback_GenericNetworkError",i[i.VideoPlayback_AESDecodeError=123]="VideoPlayback_AESDecodeError",i[i.VideoPlayback_SourceNotSupportedError=124]="VideoPlayback_SourceNotSupportedError",i[i.VideoPlayback_GenericDecryptError=125]="VideoPlayback_GenericDecryptError",i[i.VideoPlayback_PlayerMismatchError=126]="VideoPlayback_PlayerMismatchError",i[i.VideoPlayback_UnknownError=127]="VideoPlayback_UnknownError",i[i.Group=128]="Group",i[i.GroupEdit=129]="GroupEdit",i[i.GroupCreate=130]="GroupCreate",i[i.GroupDelete=131]="GroupDelete",i[i.GroupVideos=132]="GroupVideos",i[i.GroupChannels=133]="GroupChannels",i[i.GroupTrendingVideos=134]="GroupTrendingVideos",i[i.GroupPopularChannels=135]="GroupPopularChannels",i[i.GroupRecentVideos=136]="GroupRecentVideos",i[i.PrincipalEdit=137]="PrincipalEdit",i[i.PrincipalDelete=138]="PrincipalDelete",i[i.ListGroups=139]="ListGroups",i[i.ListGroupMembers=140]="ListGroupMembers",i[i.LoadPersons=141]="LoadPersons",i[i.HidePerson=142]="HidePerson",i[i.UnHidePerson=143]="UnHidePerson",i[i.MergePerson=144]="MergePerson",i[i.RenewAntiForgeryToken=145]="RenewAntiForgeryToken",i[i.LoggerInitialization=146]="LoggerInitialization",i[i.SaveTranscript=147]="SaveTranscript",i[i.AddGroupMembers=148]="AddGroupMembers",i[i.AdminManagement_DataUsage=149]="AdminManagement_DataUsage",i[i.UserNotifications=150]="UserNotifications",i[i.TrialSuspensionDialog=151]="TrialSuspensionDialog",i[i.SessionInfoWebTier=152]="SessionInfoWebTier",i[i.ExchangeToken=153]="ExchangeToken",i[i.ExchangeFormsToken=154]="ExchangeFormsToken",i[i.GetAuthToken=155]="GetAuthToken",i[i.ConnectToParent=156]="ConnectToParent",i[i.TokenSSO=157]="TokenSSO",i[i.OfficeTopNav=158]="OfficeTopNav",i[i.SetUpSDN=159]="SetUpSDN",i[i.LiveProducerCreate=160]="LiveProducerCreate",i[i.LiveProducerSetup=161]="LiveProducerSetup",i[i.LiveProducerBroadcast=162]="LiveProducerBroadcast",i[i.LiveProducerPostprocess=163]="LiveProducerPostprocess",i[i.LiveProducerUpdate=164]="LiveProducerUpdate",i[i.LivePlayback=165]="LivePlayback",i[i.LivePlayback_KeyAcquireError=166]="LivePlayback_KeyAcquireError",i[i.LivePlayback_NetworkTimeoutError=167]="LivePlayback_NetworkTimeoutError",i[i.LivePlayback_SegmentDecryptError=168]="LivePlayback_SegmentDecryptError",i[i.LivePlayback_MediaAbortedError=169]="LivePlayback_MediaAbortedError",i[i.LivePlayback_ClientNetworkError=170]="LivePlayback_ClientNetworkError",i[i.LivePlayback_ServerNetworkError=171]="LivePlayback_ServerNetworkError",i[i.LivePlayback_GenericNetworkError=172]="LivePlayback_GenericNetworkError",i[i.LivePlayback_AESDecodeError=173]="LivePlayback_AESDecodeError",i[i.LivePlayback_SourceNotSupportedError=174]="LivePlayback_SourceNotSupportedError",i[i.LivePlayback_GenericDecryptError=175]="LivePlayback_GenericDecryptError",i[i.LivePlayback_PlayerMismatchError=176]="LivePlayback_PlayerMismatchError",i[i.LivePlayback_UnknownError=177]="LivePlayback_UnknownError",i[i.OfficeMigration=178]="OfficeMigration",i[i.OFficeMigration_GetMigrationNotices=179]="OFficeMigration_GetMigrationNotices",i[i.ProducerPlayback=180]="ProducerPlayback",i[i.VideoPlayback_LoadTimeExceededThreshold=181]="VideoPlayback_LoadTimeExceededThreshold",i[i.VideoPlayback_BufferingExceededThreshold=182]="VideoPlayback_BufferingExceededThreshold",i[i.VideoPlayback_ChunkDownloadFailuresExceededThreshold=183]="VideoPlayback_ChunkDownloadFailuresExceededThreshold",i[i.LivePlayback_LoadTimeExceededThreshold=184]="LivePlayback_LoadTimeExceededThreshold",i[i.LivePlayback_BufferingExceededThreshold=185]="LivePlayback_BufferingExceededThreshold",i[i.LivePlayback_ChunkDownloadFailuresExceededThreshold=186]="LivePlayback_ChunkDownloadFailuresExceededThreshold",i[i.Forms=187]="Forms",i[i.PrincipalItemListGroupMembers=188]="PrincipalItemListGroupMembers",i[i.AddForm=189]="AddForm",i[i.ShowHideTranscriptToggle=190]="ShowHideTranscriptToggle",i[i.RecycleBinList=191]="RecycleBinList",i[i.RecycleBinDeleteVideo=192]="RecycleBinDeleteVideo",i[i.RecycleBinRestoreVideo=193]="RecycleBinRestoreVideo",i[i.LocaleHelperService=194]="LocaleHelperService",i[i.GetECSConfig=195]="GetECSConfig",i[i.RetryBgUpload=196]="RetryBgUpload",i[i.SetDefaultSortOption=197]="SetDefaultSortOption",i[i.RenewLokiToken=198]="RenewLokiToken",i[i.RenewMSGraphToken=199]="RenewMSGraphToken",i[i.O365Group=200]="O365Group",i[i.O365GroupLoadedAfterUpdate=201]="O365GroupLoadedAfterUpdate",i[i.ApproveAccessRequest=202]="ApproveAccessRequest",i[i.DenyAccessRequest=203]="DenyAccessRequest",i[i.RedirectToNewVideoPage=204]="RedirectToNewVideoPage",(i=t.FormsEventType||(t.FormsEventType={})).PanelAddNewFormClicked="panelAddNewFormClicked",i.PanelFormAddedClicked="panelFormAddedClicked",i.PanelAddCanceledClicked="panelAddCanceledClicked",i.PanelDeleteClicked="panelDeleteClicked",i.FormUserInteraction="formUserInteraction",i.FormContinueClicked="formContinueClicked",i.FormOpenClicked="formOpenClicked",i.FormVideoMarkerClicked="formVideoMarkerClicked",i.FormClosed="formClosed",i.FormOpened="formOpened"},"./app/models/UserNotificationModels.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.UserNotificationSeverity||(t.UserNotificationSeverity={}))[t.None=0]="None",t[t.Warning=1]="Warning",t[t.Critical=2]="Critical"},"./app/services/ClearQueryParamsService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");r.prototype.init=function(){var e=this;this.$rootScope.$on("$locationChangeStart",(function(t,n,i){var r=e.navigationService.parseURL(i),o=e.navigationService.parseURL(n);e.diffPathName=r.pathname!==o.pathname,i!==n&&o.search&&r.search&&e.diffPathName&&_.forOwn(r.searchObject,(function(t,n){n in o.searchObject||e.$location.search(n,null)}))}))},r.$inject=["$rootScope","$router","$location","navigationService"],n=r;function r(e,t,n,i){this.$rootScope=e,this.$location=n,this.navigationService=i,this.diffPathName=!1,this.init()}t.ClearQueryParamsService=n,i.registerService("clearQueryParamsService",n,angular.module("jumper.services"))},"./app/services/ConfirmationDialogService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.less");var i=function(){};function r(e){this.ngDialog=e}t.ConfirmationDialogModel=i,r.prototype.show=function(e){var t={template:n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html"),controller:"ConfirmationDialogController",controllerAs:"ConfirmationDialog",closeByDocument:!0,plain:!0,className:"c-dialog",showClose:!1,resolve:{dialogModel:function(){return e}}};return this.ngDialog.openConfirm(t)},r.$inject=["ngDialog"],i=r,t.ConfirmationDialogService=i,angular.module("jumper.services").service("confirmationDialogService",i)},"./app/services/CustomProtocolDetectionService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/DetectProtocol.ts");r.prototype.checkStatus=function(e){return this.$q((function(t,n){i.DetectProtocol.dp(e,(function(){t(!1)}),(function(){t(!0)}))}))},r.$inject=["$q"],n=r;function r(e){this.$q=e}t.CustomProtocolDetectionService=n,angular.module("jumper.services").service("customProtocolDetectionService",n)},"./app/services/Data/AccessRequestService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.prototype.get=function(e){return e={id:e},this.dataService.get(i.Constants.AssetPaths.AccessRequest,e)},r.prototype.deny=function(e){return e={id:e},this.dataService.post(i.Constants.AssetPaths.AccessRequest+"/deny",e,{})},r.prototype.approve=function(e){return e={id:e},this.dataService.post(i.Constants.AssetPaths.AccessRequest+"/approve",e,{})},r.$inject=["dataService"],n=r;function r(e){this.dataService=e}t.AccessRequestService=n,angular.module("jumper.services").service("accessRequestService",n)},"./app/services/Data/ChannelService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/services/Data/ServiceUtils.ts");s.prototype.get=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),e={id:e,$expand:"creator"},n&&(e[i.Constants.DataQueryParams.Expand]=e[i.Constants.DataQueryParams.Expand]+",group"),t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Channel,e)},s.prototype.create=function(e,t,n,r){return void 0===r&&(r=!1),e={name:e,description:t},t={},r&&(t[i.Constants.DataQueryParams.AdminMode]=!0),n&&(e["group@odata.bind"]=n),this.dataService.post(i.Constants.AssetPaths.Channels,t,e).then((function(e){if(201===e.status)return e.data;throw e}))},s.prototype.getChannel=function(e,t){return void 0===t&&(t=!1),e={$top:1,$filter:"name eq '"+r.escapeFilterSingleQuote(e)+"'"},t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.Channels,e).then((function(e){return e.data.value&&1===e.data.value.length?e.data.value[0]:null}))},s.prototype.delete=function(e,t){return void 0===t&&(t=!1),e={id:e},t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Channel,e)},s.prototype.patch=function(e,t,n){return void 0===n&&(n=!1),e={id:e},n&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Channel,e,t).then((function(e){return e.data}))},s.prototype.removeVideo=function(e,t,n){return void 0===n&&(n=!1),e={id:e},n&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.RemoveVideo,e,{videoId:t})},s.prototype.query=function(e,t,n,s,a,c,l,u,d){return void 0===a&&(a=""),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===u&&(u=!1),void 0===d&&(d=!1),(u=o.channelFilterConfig(e,t,n,s,"",c,u)).$filter=u.$filter?u.$filter+" and isDefault eq false":"isDefault eq false",l&&(u.$filter+=" and not group/isDefault"),a&&(u.$filter+=" and startswith(name,'"+r.escapeFilterSingleQuote(a)+"')"),d&&(u[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query("/channels",u)},s.prototype.getMyFollowingChannels=function(e,t,n,i,r,o,s){return void 0===i&&(i=""),void 0===r&&(r=0),void 0===o&&(o=!1),void 0===s&&(s=!1),this.searchInternal(i,t,n,r,e,o,s,{$filter:"userData/isFollowed"})},s.prototype.getVideos=function(e,t,n,o,s,a,c,l){return e={id:e,$top:t.toString(),$skip:n.toString(),$filter:i.Constants.VideosInChannelQueryFilter,$expand:"creator"},c&&(e[i.Constants.DataQueryParams.AdminMode]=!0),a&&a.length&&(e[i.Constants.DataQueryParams.Search]=a),_.isFinite(t)?e.$top=0<t?t.toString():i.Constants.QueryConfigDefaults.DefaultTop:e.$top=i.Constants.QueryConfigDefaults.DefaultTop,_.isFinite(n)?e.$skip=0<=n?n.toString():i.Constants.QueryConfigDefaults.DefaultSkip:e.$skip=i.Constants.QueryConfigDefaults.DefaultSkip,o&&o!==i.Constants.VideoSortOptions.Relevance&&(e[i.Constants.DataQueryParams.OrderBy]=r.formatString("{0} {1}",o,s)),l&&(e[i.Constants.DataQueryParams.Expand]=e[i.Constants.DataQueryParams.Expand]+",events"),this.dataService.query(i.Constants.AssetPaths.ChannelVideos,e)},s.prototype.follow=function(e){return this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.Follow,{id:e},{})},s.prototype.unfollow=function(e){return this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.Unfollow,{id:e},{})},s.prototype.search=function(e,t,n,r,o,s,a){return void 0===r&&(r=i.Constants.DefaultQueryCounts.top),void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=!1),void 0===a&&(a=!1),this.searchInternal(e,t,n,r,o,s,a)},s.prototype.getUserChannels=function(e,t,n,r,o,s,a,c){return void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1),e={$filter:"creator/id eq '"+e+"'"},this.searchInternal(t,n,r,o,s,a,c,e)},s.prototype.getMyChannels=function(e,t,n,r,o,s,a){return void 0===r&&(r=i.Constants.DefaultQueryCounts.top),void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=!1),void 0===a&&(a=!1),this.getUserChannels(sessionInfo.UserClaim.UserInfo.UniqueId,e,t,n,r,o,s,a)},s.prototype.setVideoAsPosterImage=function(e,t,n){return void 0===n&&(n=!1),e={id:e},n&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.SetVideoAsPosterImage,e,{videoId:t})},s.prototype.searchInternal=function(e,t,n,o,s,a,c,l){return void 0===o&&(o=0),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1),void 0===l&&(l={}),c&&(l[i.Constants.DataQueryParams.AdminMode]=!0),o&&(l[i.Constants.DataQueryParams.Skip]=o.toString()),l[i.Constants.DataQueryParams.Top]=(s?Math.min(s,i.Constants.QueryConfigDefaults.MaxTop):i.Constants.DefaultQueryCounts.top).toString(),e&&(l[i.Constants.DataQueryParams.Search]=e),t!==i.Constants.VideoSortOptions.Relevance&&(l[i.Constants.DataQueryParams.OrderBy]=r.formatString("{0} {1}",t,n)),a?(l[i.Constants.DataQueryParams.Expand]="creator,group",l[i.Constants.DataQueryParams.Filter]=l[i.Constants.DataQueryParams.Filter]?l[i.Constants.DataQueryParams.Filter]+" and isDefault eq false":"isDefault eq false"):l[i.Constants.DataQueryParams.Expand]="creator",this.dataService.query(i.Constants.AssetPaths.Channels,l)},s.$inject=["dataService","featureFlagsService"],n=s;function s(e,t){this.dataService=e,this.featureFlagsService=t}t.ChannelService=n,angular.module("jumper.services").service("channelService",n)},"./app/services/Data/CommentService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts");o.prototype.get=function(e,t,n){var i=this;return void 0===n&&(n=!1),t={videoId:e,commentId:t,$expand:"creator"},n&&(t[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(this.commentPath,t).then((function(e){return i.$q.resolve(e.data)}),(function(e){return i.$q.reject(e)}))},o.prototype.create=function(e,t,n){var i=this;return void 0===n&&(n=!1),e={videoId:e},n&&(e[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.commentsPath,e,t).then((function(e){return i.$q.resolve(e.data)}),(function(e){return i.$q.reject(e)}))},o.prototype.delete=function(e,t,n){var i=this;return void 0===n&&(n=!1),t={videoId:e,commentId:t},n&&(t[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(this.commentPath,t).then((function(e){return i.$q.resolve()}),(function(e){return i.$q.reject(e)}))},o.prototype.update=function(e,t,n,i){var o=this;return void 0===i&&(i=!1),t={videoId:e,commentId:t},i&&(t[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(this.commentPath,t,n).then((function(e){return o.$q.resolve(e.data)}),(function(e){return o.$q.reject(e)}))},o.prototype.query=function(e,t,n,o){var s=this;void 0===o&&(o=!1);var a=r.Constants.CommentSortOptions.Created,c=r.Constants.SortDirection.Descending;c={videoId:e,$top:t.toString(),$skip:n.toString(),$orderby:i.formatString("{0} {1}",a,c),$expand:"creator"};return o&&(c[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(this.commentsPath,c).then((function(e){return s.$q.resolve(e.data.value)}),(function(e){return s.$q.reject(e)}))},o.$inject=["$q","dataService"],n=o;function o(e,t){this.$q=e,this.dataService=t,this.commentsPath="/videos/:videoId/comments",this.commentPath="/videos/:videoId/comments/:commentId"}t.CommentService=n,angular.module("jumper.services").service("commentService",n)},"./app/services/Data/DataService.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/FormatDottedUrl.ts"),a=n("./app/utility/appUtil.ts"),c=n("./app/utility/Constants.ts"),l=n("./app/utility/ActivityIds.ts"),u=n("./app/utility/appUtil.ts");n=n("./app/services/Data/ResilientDataService.ts"),r(d,o=n.ResilientDataService),d.prototype.get=function(e,t){return this.makeRequest("GET",e,t)},d.prototype.getWithCorsSupport=function(e,t){return this.makeRequest("GET",e,t,null,null,null,!0)},d.prototype.put=function(e,t,n,i){return this.makeRequest("PUT",e,t,n,null,i)},d.prototype.patch=function(e,t,n){return this.makeRequest("PATCH",e,t,n)},d.prototype.post=function(e,t,n){return this.makeRequest("POST",e,t,n)},d.prototype.delete=function(e,t){return this.makeRequest("DELETE",e,t)},d.prototype.query=function(e,t){var n;return void 0!==t.$top&&(n=parseInt(t.$top),_.isFinite(n)?t.$top=Math.min(c.Constants.QueryConfigDefaults.MaxTop,0<n?n:c.Constants.QueryConfigDefaults.DefaultTop).toString():t.$top=c.Constants.QueryConfigDefaults.DefaultTop,t.$top=t.$top.toString()),void 0!==t.$skip&&(n=parseInt(t.$skip),_.isFinite(n)?t.$skip=Math.max(c.Constants.QueryConfigDefaults.DefaultSkip,n):t.$skip=c.Constants.QueryConfigDefaults.DefaultSkip,t.$skip=t.$skip.toString()),this.makeRequest("GET",e,t,null,!0)},d.prototype.makeSkipTokenRequest=function(e){return this.makeSimpleAuthenticatedRequest(e,"GET")},d.prototype.makeWebTierRequest=function(e,t,n,i){var r={"x-ms-client-request-id":a.generateGuid()};return"POST"===t&&(sessionInfo.AntiForgeryToken?r.__RequestVerificationToken=sessionInfo.AntiForgeryToken:r.__RequestVerificationToken=$("#__AjaxAntiForgeryForm input[name=__RequestVerificationToken]").val()),n=s.formatDottedUrl("",e,n,i),this.makeSimpleRequest(n,t,r,i)},d.prototype.makeRequest=function(e,t,n,i,r,o,s){return this.makeRequestWithApiGatewayCheck(e,t,n,i,r,o,s)},d.prototype.makeRequestWithApiGatewayCheck=function(e,t,n,i,r,o,s){var a=this,c=n&&n.apiVersion?n.apiVersion:sessionInfo.ApiGatewayVersion;return sessionInfo.ApiGatewayUri?this.makeRequestInternal(sessionInfo.ApiGatewayUri,c,e,t,n,i,r,o,s):this.makeRequestInternal(portalConfiguration.TenantServiceUri,portalConfiguration.TenantServiceApiVersion,"PATCH","api/tenants/:id",{id:sessionInfo.UserClaim.TenantId},"{}").then((function(l){return sessionInfo.ApiGatewayUri=l.data.apiEndpoint,sessionInfo.DataLocation=l.data.DataLocation,a.makeRequestInternal(sessionInfo.ApiGatewayUri,c,e,t,n,i,r,o,s)}))},d.prototype.makeSimpleRequest=function(e,t,n,i){return e?(i={method:t,url:e,headers:n,data:/^(POST|PUT|PATCH)$/i.test(t)?this.toJson(i):void 0},this.executeWithRetry(i)):this.$q.reject("Url is not specified")},d.prototype.makeSimpleAuthenticatedRequest=function(e,t,n){return e?this.formRequest(t,e,null,null,null,n):this.$q.reject("Url is not specified")},d.prototype.execute=function(e){var t=this.$q.defer();return this.$http(e).then((function(e){t.resolve(e)}),(function(e){t.reject(e)})),t.promise},d.prototype.makeRequestInternal=function(e,t,n,i,r,o,a,l,u){var d=this.navigationService.getLowerCasedQueryParams()||{};if(!e)return this.$q.reject("Url is not specified");var p={};return(d=d[c.Constants.PiiFreeQueryStringKeys.HostCorrelationId])&&(p={hostcorrelationid:d}),t&&(r=angular.extend({},r||{},{apiVersion:t},p)),this.formRequest(n,s.formatDottedUrl(e,i,r,o),l,o,u)},d.prototype.formRequest=function(e,t,n,i,r,o){var s=l.ActivityIds.getCurrentActivityId(this.navigationService);o={method:e,url:t,headers:n=angular.extend({},n||{},{Authorization:"Bearer "+sessionInfo.AccessToken,"x-ms-client-request-id":a.generateGuid(),"x-ms-correlation-request-id":s,"x-ms-client-session-id":sessionInfo.ClientSessionId,"Accept-Language":sessionInfo.UserLanguage}),data:/^(POST|PUT|PATCH)$/i.test(e)?this.toJson(i):void 0,withCredentials:r,responseType:o};return this.executeWithRetry(o)},d.prototype.toJson=function(e){return e&&angular.isFunction(e.toJSON)?e.toJSON():e},d.$inject=["$rootScope","$http","$timeout","$q","navigationService","telemetryService"],r=d;function d(e,t,n,i,r,s){return(n=o.call(this,t,i,n)||this).$rootScope=e,n.navigationService=r,n.telemetryService=s,n}t.DataService=r,u.registerService("dataService",r,angular.module("jumper.services"))},"./app/services/Data/GroupService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/services/Data/ServiceUtils.ts");s.prototype.query=function(e,t,n,o,s,a,c,l){return void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1),o={$skip:o.toString(),$top:s.toString()},s=[],c&&(o.$expand="channels"),e&&s.push("startswith(name,'"+r.escapeFilterSingleQuote(e)+"')"),a&&s.push(i.Constants.GroupFilterMediaOptions.CanAddMediaItemsToChannel),s.length&&(o.$filter=s.join(" and ")),t!==i.Constants.GroupsSortOptions.Relevance&&(o.$orderby=r.formatString("{0} {1}",t,n)),l&&(o.$filterempty=!0),this.dataService.query(i.Constants.AssetPaths.Groups,o)},s.prototype.getMyGroups=function(e,t,n,o,s,a){return void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),s={$skip:o.toString(),$top:s.toString()},e&&(s.$search=e),s.$filter="userData/isMember and isDefault eq false",t!==i.Constants.GroupsSortOptions.Relevance&&(s.$orderby=r.formatString("{0} {1}",t,t===i.Constants.GroupsSortOptions.Name?i.Constants.SortDirection.Ascending:n)),a&&(s.$filterempty=!0),this.dataService.query(i.Constants.AssetPaths.Groups,s)},s.prototype.search=function(e,t,n,o,s,a,c){return void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),s={$skip:o.toString(),$top:s.toString()},e&&(s.$search=e),s.$filter=a?"isDefault eq true":"isDefault eq false",t!==i.Constants.GroupsSortOptions.Relevance&&(s.$orderby=r.formatString("{0} {1}",t,t===i.Constants.GroupsSortOptions.Name?i.Constants.SortDirection.Ascending:n)),c&&(s.$filterempty=!0),this.dataService.query(i.Constants.AssetPaths.Groups,s)},s.prototype.get=function(e,t){return void 0===t&&(t=!1),e={id:e},t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Group,e)},s.prototype.getDefaultGroup=function(e){return void 0===e&&(e=!1),this.search(null,i.Constants.GroupsSortOptions.Relevance,i.Constants.SortDirection.Ascending,0,1,!0)},s.prototype.getDefaultGroupId=function(){var e=this;return this.dataShareService.cache[i.Constants.CacheKey.DefaultGroupIdKey]?this.$q.resolve(this.dataShareService.cache[i.Constants.CacheKey.DefaultGroupIdKey]):this.getDefaultGroup().then((function(t){return t.data&&t.data.value&&t.data.value.length?(t=t.data.value[0],e.dataShareService.cache[i.Constants.CacheKey.DefaultGroupIdKey]=t.id,t.id):Promise.resolve(i.Constants.noDefaultGroups)}))},s.prototype.create=function(e){return e.description||(e.description=null),this.dataService.post(i.Constants.AssetPaths.Groups,{},e)},s.prototype.patch=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return e.description||(e.description=null),t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Group,n,e)},s.prototype.delete=function(e,t){return void 0===t&&(t=!1),e={id:e},t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Group,e)},s.prototype.isEmailUnique=function(e){return e={mailalias:e},this.dataService.post(i.Constants.AssetPaths.Groups+"/isMailAliasUnique",{},e)},s.prototype.getChannelByName=function(e,t,n){return t={id:e,$top:1,$filter:"name eq '"+r.escapeFilterSingleQuote(t)+"'"},n&&(t[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.GroupChannels,t)},s.prototype.getChannels=function(e,t,n,r,s,a,c,l){return(c=o.channelFilterConfig(t,n,r,s,a,c)).id=e,c.$filter=c.$filter?c.$filter+" and isDefault eq false":"isDefault eq false",this.inAdminModeService.groupId!==e&&!l||(c[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.GroupChannels,c)},s.prototype.getTrendingVideos=function(e,t,n,r){return this.searchInternal(e,t,n,i.Constants.VideoSortOptions.Trending,i.Constants.SortDirection.Descending,"",i.Constants.DataQueryDefaultFilter,void 0,r)},s.prototype.getVideos=function(e,t,n,r,o,s,a,c){return void 0===a&&(a=!1),a=a?"creator,events":"creator",this.searchInternal(e,t,n,r,o,s,i.Constants.DataQueryDefaultFilter,a,c)},s.prototype.addOwners=function(e,t,n){return this.addMembers(e,t,i.Constants.GroupMemberType.Owners,n)},s.prototype.addViewers=function(e,t,n){return this.addMembers(e,t,i.Constants.GroupMemberType.Viewers,n)},s.prototype.addContributors=function(e,t,n){return this.addMembers(e,t,i.Constants.GroupMemberType.Contributors,n)},s.prototype.getPrefixSuffix=function(){return this.dataService.get(i.Constants.AssetPaths.Groups+"/validationPolicy",{})},s.prototype.getPolicies=function(){return this.dataService.get(i.Constants.AssetPaths.Groups+"/policies",{})},s.prototype.validate=function(e){return e.description||(e.description=null),this.dataService.post(i.Constants.AssetPaths.Groups+"/$validate",{},e)},s.prototype.validatePatch=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return e.description||(e.description=null),t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Group+"/$validate",n,e)},s.prototype.removeVideo=function(e,t,n){var r={id:e};return this.inAdminModeService.groupId!==e&&!n||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Group+"/"+i.Constants.GroupActions.RemoveVideo,r,{videoId:t})},s.prototype.getOwners=function(e){return this.getMembers(e,i.Constants.GroupMemberType.Owners)},s.prototype.getViewers=function(e){return this.getMembers(e,i.Constants.GroupMemberType.Viewers)},s.prototype.getContributors=function(e){return this.getMembers(e,i.Constants.GroupMemberType.Contributors)},s.prototype.getNextPage=function(e){return this.dataService.makeSkipTokenRequest(e)},s.prototype.removeMember=function(e,t,n,r){var o={};return this.inAdminModeService.groupId!==e&&!r||(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Group+"/"+e+"/"+n+"/"+t,o)},s.prototype.searchInternal=function(e,t,n,r,s,a,c,l,u){return(l=o.videoFilterConfig(t,n,r,s,a,c,l)).id=e,this.inAdminModeService.groupId!==e&&!u||(l[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.GroupVideos,l)},s.prototype.addMembers=function(e,t,n,r){var o={id:e};t={principalIds:t};return this.inAdminModeService.groupId!==e&&!r||(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Group+"/"+n+"/addMembers",o,t)},s.prototype.getMembers=function(e,t,n,r){return void 0===n&&(n=i.Constants.DefaultQueryCounts.top),n={id:e,$top:n,$expand:"Principal"},this.inAdminModeService.groupId!==e&&!r||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Group+"/"+t,n)},s.prototype.getMember=function(e,t,n){var r={id:e,$expand:"Principal"};return this.inAdminModeService.groupId===e&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Group+"/"+t+"/"+n,r)},s.$inject=["dataService","$q","dataShareService","inAdminModeService"],n=s;function s(e,t,n,i){this.dataService=e,this.$q=t,this.dataShareService=n,this.inAdminModeService=i}t.GroupService=n,angular.module("jumper.services").service("groupService",n)},"./app/services/Data/HowToVideoService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getVideos=function(e){var t=this,n=this.$q.defer();return this.cacheVideos.length?n.resolve(this.filterVideos(e)):portalConfiguration.HowToVideosUri?$.getJSON(portalConfiguration.HowToVideosUri).then((function(i){t.cacheVideos=i.value,n.resolve(t.filterVideos(e))}),(function(e){n.reject(e)})):n.reject("Config url not found"),n.promise},i.prototype.filterVideos=function(e){var t=this,n=[];return e.forEach((function(e){var i=_.find(t.cacheVideos,(function(t){return t.id===e}));n.push(i)})),n},i.$inject=["$q"],i);function i(e){this.$q=e,this.cacheVideos=[]}t.HowToVideoService=n,angular.module("jumper.services").service("howToVideoService",n)},"./app/services/Data/InvitationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts");r.prototype.getUsersPayload=function(e){return e.map((function(e){return{EmailAddress:e.mail}}))},r.prototype.invite=function(e){return this.dataService.makeWebTierRequest("/invite","POST",null,{Culture:sessionInfo.UserLanguage,Region:"us",Users:this.getUsersPayload(e),SenderName:i.formatString(this.resources.UserDisplayName,sessionInfo.UserClaim.UserInfo.GivenName,sessionInfo.UserClaim.UserInfo.FamilyName||""),SenderEmailAddress:sessionInfo.UserClaim.UserInfo.DisplayableId})},r.$inject=["dataService","resources"],n=r;function r(e,t){this.dataService=e,this.resources=t}t.InvitationService=n,angular.module("jumper.services").service("invitationService",n)},"./app/services/Data/OneCustomerVoiceDataService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./node_modules/@msstream/services-one-customer-voice/index.ts"),o=n("./app/vNextBridges/reactMappings/ReactUserSession.ts");Object.defineProperty(s.prototype,"privacyUrl",{get:function(){return this.oneCustomerVoiceService.privacyUrl},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"resultsUrl",{get:function(){return this.oneCustomerVoiceService.resultsUrl},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxCommentLength",{get:function(){return this.oneCustomerVoiceService.maxCommentLength},enumerable:!0,configurable:!0}),s.prototype.postUIF=function(e,t,n,i,r,o){return this.oneCustomerVoiceService.postUIF(e,t,n,i,r,o)},s.prototype.postMicroFeedback=function(e,t,n,i,r){return this.oneCustomerVoiceService.postMicroFeedback(e,t,n,i,r)},s.prototype.postSurveyResponse=function(e,t){return this.oneCustomerVoiceService.postSurveyResponse(e,t)},s.prototype.getManifestForSDK=function(){return this.oneCustomerVoiceService.getManifestForSDK()},n=s;function s(){var e=o.getDataToCreateReactUserSession(),t={ECSConfiguration:portalConfiguration.ECSConfiguration,PetrolApiEndpoint:portalConfiguration.PetrolApiEndpoint};this.oneCustomerVoiceService=new r.OneCustomerVoiceService(t,void 0,e)}t.OneCustomerVoiceDataService=n,i.registerService("oneCustomerVoiceDataService",n,angular.module("jumper.services"))},"./app/services/Data/PersonService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");o.prototype.getPersons=function(e,t,n,i){return void 0===i&&(i=!1),n={id:e,$expand:"events",$top:t.toString(),$skip:n.toString()},i&&(n[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.Persons,n)},o.prototype.getPerson=function(e,t,n){var i=this,o=this.$q.defer();t={id:e,$expand:"events",$top:1,$skip:0,$filter:"id eq "+t};return n&&(t[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.Persons,t).then((function(e){1===e.data.value.length?o.resolve(e.data.value[0]):o.reject(i.resources.GetPersonErrorMessage)}),(function(e){o.reject(e)})),o.promise},o.$inject=["dataService","$q","resources"],n=o;function o(e,t,n){this.dataService=e,this.$q=t,this.resources=n}t.PersonService=n,i.registerService("personService",n,angular.module("jumper.services"))},"./app/services/Data/PrincipalService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts");o.prototype.searchPrincipals=function(e,t,n,o,s,a){return void 0===o&&(o=!1),void 0===a&&(a=!1),t={$top:t.toString()},0<n&&(t.$skip=n.toString()),n=[],(e=i.escapeFilterSingleQuote(e))&&n.push("(startswith(name,'"+e+"') or startswith(mail,'"+e+"'))"),s&&s.length&&(s=_.map(s,(function(e){return"type eq '"+e+"'"})).join(" or "),n.push("("+s+")")),a?n.push("aadState eq 'delinked'"):n.push("aadState eq 'active'"),n.length&&(t.$filter=n.join(" and ")),o&&(t[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.Principals,t)},o.prototype.getPrincipal=function(e){return e={$top:"1",$filter:"startswith(mail,'"+e+"') and aadState eq 'active'"},this.dataService.get(r.Constants.AssetPaths.Principals,e)},o.prototype.getPrincipalById=function(e){return e={id:e},this.dataService.get(r.Constants.AssetPaths.Principal,e)},o.prototype.deletePrincipal=function(e){return e={id:e},this.dataService.delete(r.Constants.AssetPaths.Principal,e)},o.prototype.getMyPrincipalInfo=function(e){var t=this;void 0===e&&(e=!1),portalConfiguration.EnableMockApiGateway&&(e=!0);var n=this.$q.defer(),i={id:sessionInfo.UserClaim.UserInfo.UniqueId,$expand:r.Constants.ResourceNames.PrincipalSettings+","+r.Constants.ResourceNames.PrincipalPermissions+","+r.Constants.ResourceNames.PrincipalServicePlans};return e||!this.me||Date.now()>=this.meCacheExpiryTimeInMs?this.dataService.get(r.Constants.AssetPaths.Principal,i).then((function(e){t.me=e,t.meCacheExpiryTimeInMs=Date.now()+r.Constants.CacheExpiryTimeouts.Principal,n.resolve(t.me)}),(function(e){n.reject(e)})):n.resolve(this.me),n.promise},o.prototype.patchMySettings=function(e){var t=this,n=this.$q.defer();return this.dataService.patch(r.Constants.AssetPaths.PrincipalSettings,{id:sessionInfo.UserClaim.UserInfo.UniqueId},e).then((function(e){t.me.data.settings=e.data,t.meCacheExpiryTimeInMs=Date.now()+r.Constants.CacheExpiryTimeouts.Principal,n.resolve(e)}),(function(e){n.reject(e)})),n.promise},o.prototype.patch=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return e.mail="",t&&(n[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(r.Constants.AssetPaths.Principal,n,e)},o.prototype.exportData=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return t&&(n[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.PrincipalExportData,n,e)},o.prototype.getAdminModeStatus=function(){return _.get(this.me,"data.settings.web.adminModeActive",!1)&&this.getIsStreamAdmin()},o.prototype.getIsStreamAdmin=function(){return _.get(this.me,"data.permissions.canManageStream",!1)},o.$inject=["dataService","$q","$rootScope"],n=o;function o(e,t,n){var i=this;if(this.dataService=e,this.$q=t,this.$rootScope=n,sessionInfo.PrincipalInfo&&"null"!==sessionInfo.PrincipalInfo){try{this.me={data:JSON.parse(sessionInfo.PrincipalInfo)}}catch(e){this.me=null}this.meCacheExpiryTimeInMs=Date.now()+r.Constants.CacheExpiryTimeouts.Principal}n.$on(r.Constants.Events.Notification_PrincipalSettings,(function(e,t){i.getMyPrincipalInfo(!0).then((function(e){i.me=e}))})),n.$on(r.Constants.Events.Notification_PrincipalPermissions,(function(e,t){i.getMyPrincipalInfo(!0).then((function(e){i.me=e}))})),this.getAdminModeStatus=this.getAdminModeStatus.bind(this)}t.PrincipalService=n,angular.module("jumper.services").service("principalService",n)},"./app/services/Data/RecycleBinService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts");o.prototype.delete=function(e,t){return e={id:e},t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.DeletedVideo,e)},o.prototype.getDeletedVideos=function(e,t,n,r){var o=i.Constants.SortDirection.Descending;e={$top:t.toString(),$skip:e.toString(),$expand:"creator,deletedby"};return r&&r.length?e[i.Constants.DataQueryParams.Search]=r:e[i.Constants.DataQueryParams.OrderBy]="DeletedDate "+o,n?e[i.Constants.DataQueryParams.AdminMode]=!0:e[i.Constants.DataQueryParams.Filter]="userData/Permissions/canDelete",this.dataService.query(i.Constants.AssetPaths.DeletedVideos,e)},o.prototype.restore=function(e,t){return e={id:e},t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.DeletedVideo+"/"+i.Constants.DeletedVideoActions.Restore,e,{})},o.$inject=["dataService","$q"],n=o;function o(e,t){this.dataService=e,this.$q=t}t.RecycleBinService=n,r.registerService("recycleBinService",n,angular.module("jumper.services"))},"./app/services/Data/ResilientDataService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.prototype.executeWithRetry=function(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=this),r=r||n.$q.defer(),this.$http(e).then((function(e){r.resolve(e)}),(function(o){t+1<i.Constants.HttpRetry.MaxAttemptsCount&&(o.status>=i.Constants.HttpResponseCodes.InternalServerError||o.status===i.Constants.HttpResponseCodes.ClientNetworkError||o.status===i.Constants.HttpResponseCodes.TooManyRequests)?(r.notify("retrying the server call"),n.$timeout((function(){n.executeWithRetry(e,t+1,n,r)}),Math.pow(2,t)*i.Constants.HttpRetry.BaseWaitTimeInMs)):r.reject(o)})),r.promise},n=r;function r(e,t,n){this.$http=e,this.$q=t,this.$timeout=n}t.ResilientDataService=n},"./app/services/Data/RoleAssignmentService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.prototype.getRoleAssignmentsByFilter=function(e,t,n,r,o){return e={$top:n.toString(),$skip:t.toString(),$filter:e,$expand:"Role,Principal"},o&&(e[i.Constants.DataQueryParams.ApiVersion]=o),r&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.RoleAssignments,e).then((function(e){return e.data.value}))},r.prototype.setRoleAssignments=function(e,t,n,r,o,s){void 0===s&&(s=!0);var a={};return o&&(a[i.Constants.DataQueryParams.AdminMode]=!0),r=r.map((function(e){return{scope:i.Constants.RoleAssignmentScope.Principal,principalRef:{id:e.id,type:e.type}}})),s||r.push({scope:i.Constants.RoleAssignmentScope.Organization,principalRef:null}),r={resourceRef:{type:t},roleAssignments:[{roleId:e,assignedTo:r}]},this.dataService.post(i.Constants.AssetPaths.RoleAssignments+"/set",a,r)},r.prototype.addRoleAssignment=function(e,t,n,r,o){return n={ResourceRef:{id:r,type:o},roleId:e,assignedTo:{scope:i.Constants.RoleAssignmentScope.Principal,principalRef:{id:t,type:n}}},this.dataService.post(""+i.Constants.AssetPaths.RoleAssignments,{},n)},r.prototype.getGlobalRoleAssignments=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=50),e="ResourceRef/Type eq 'Global' and RoleId eq "+e,this.getRoleAssignmentsByFilter(e,t,n,!1)},r.prototype.getVideoRoleAssignments=function(e,t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=20),t="ResourceRef/Type eq 'Video' and RoleId eq "+e+" and ResourceId eq "+t,this.getRoleAssignmentsByFilter(t,0,i,n)},r.prototype.getAllVideoRoleAssignments=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=20),e="ResourceRef/Type eq 'Video' and ResourceId eq "+e,this.getRoleAssignmentsByFilter(e,0,n,t)},r.prototype.getChannelRoleAssignments=function(e,t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=20),t="ResourceRef/Type eq 'Channel' and RoleId eq "+e+" and ResourceId eq "+t,this.getRoleAssignmentsByFilter(t,0,i,n)},r.prototype.setGlobalAssignments=function(e,t,n){return void 0===n&&(n=!0),this.setRoleAssignments(e,"Global",null,t,!1,n)},r.prototype.setVideoRoleAssignments=function(e,t,n,i){return void 0===i&&(i=!1),this.setRoleAssignments(e,"Video",t,n,i)},r.prototype.setChannelRoleAssignments=function(e,t,n,i){return void 0===i&&(i=!1),this.setRoleAssignments(e,"Channel",t,n,i)},r.prototype.setMigrationPreviewrAssignments=function(e,t){return this.setRoleAssignments(e,"Global",null,t,!1)},r.prototype.addVideoRoleAssignment=function(e,t,n,i){return this.addRoleAssignment(e,t,n,i,"Video")},r.$inject=["dataService","$q"],n=r;function r(e,t){this.dataService=e,this.$q=t}t.RoleAssignmentService=n,angular.module("jumper.services").service("roleAssignmentService",n)},"./app/services/Data/RoleService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.prototype.getRoleId=function(e){var t,n=this,r=this.$q.defer();return this.roleCache?(t=this.roleCache.get(e))?r.resolve(t):this.dataService.get("/roles",{}).then((function(o){o.data&&o.data.value&&0!==o.data.value.length?(o.data.value.forEach((function(e){e.name===i.Constants.RoleNames.Viewer&&n.roleCache.put(i.Constants.CacheKey.ViewerRoleIdKey,e.id),e.name===i.Constants.RoleNames.Contributor&&n.roleCache.put(i.Constants.CacheKey.ContributorRoleIdKey,e.id),e.name===i.Constants.RoleNames.Owner&&n.roleCache.put(i.Constants.CacheKey.OwnerRoleIdKey,e.id),e.name===i.Constants.RoleNames.StreamAdmin&&n.roleCache.put(i.Constants.CacheKey.StreamAdminRoleIdKey,e.id),e.name===i.Constants.RoleNames.MediaCreator&&n.roleCache.put(i.Constants.CacheKey.MediaCreatorRoleIdKey,e.id),e.name===i.Constants.RoleNames.GroupCreator&&n.roleCache.put(i.Constants.CacheKey.GroupCreatorRoleIdKey,e.id),e.name===i.Constants.RoleNames.LiveEventCreator&&n.roleCache.put(i.Constants.CacheKey.LiveEventCreatorIdKey,e.id),e.name===i.Constants.RoleNames.OfficeVideoMigrationPreviewer&&n.roleCache.put(i.Constants.CacheKey.OfficeVideoMigrationPreviewerIdKey,e.id)})),(t=n.roleCache.get(e))?r.resolve(t):r.reject("No role for '"+e+"' exists in cache")):r.reject("No roles returned from API")}),(function(e){r.reject(e)})):r.reject("Role Cache is not initialized"),r.promise},r.prototype.getViewerRoleId=function(){return this.getRoleId(i.Constants.CacheKey.ViewerRoleIdKey)},r.prototype.getContributorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.ContributorRoleIdKey)},r.prototype.getStreamAdminRoleId=function(){return this.getRoleId(i.Constants.CacheKey.StreamAdminRoleIdKey)},r.prototype.getOwnerRoleId=function(){return this.getRoleId(i.Constants.CacheKey.OwnerRoleIdKey)},r.prototype.getMediaCreatorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.MediaCreatorRoleIdKey)},r.prototype.getGroupCreatorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.GroupCreatorRoleIdKey)},r.prototype.getLiveEventCreatorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.LiveEventCreatorIdKey)},r.prototype.getMigrationPreviewerRoleId=function(){return this.getRoleId(i.Constants.CacheKey.OfficeVideoMigrationPreviewerIdKey)},r.prototype.isOwner=function(e){return this.roleCache.get(i.Constants.CacheKey.OwnerRoleIdKey)===e},r.prototype.isViewer=function(e){return this.roleCache.get(i.Constants.CacheKey.ViewerRoleIdKey)===e},r.$inject=["dataService",i.Constants.CacheId.RoleCache,"$q"],n=r;function r(e,t,n){this.dataService=e,this.roleCache=t,this.$q=n}t.RoleService=n,angular.module("jumper.services").service("roleService",n)},"./app/services/Data/ServiceUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts");t.videoFilterConfig=function(e,t,n,o,s,a,c){var l={};return _.isFinite(e)?l.$top=0<e?e.toString():i.Constants.QueryConfigDefaults.DefaultTop:l.$top=i.Constants.QueryConfigDefaults.DefaultTop,_.isFinite(t)?l.$skip=0<=t?t.toString():i.Constants.QueryConfigDefaults.DefaultSkip:l.$skip=i.Constants.QueryConfigDefaults.DefaultSkip,n&&n!==i.Constants.VideoSortOptions.Relevance&&(l.$orderby=r.formatString("{0} {1}",n,o)),s&&s.length&&(l.$search=s),c&&c.length&&(l.$expand=c),a&&(l.$filter=a),l},t.channelFilterConfig=function(e,t,n,o,s,a,c){return void 0===s&&(s=""),void 0===a&&(a=!1),void 0===c&&(c=!1),t={$top:e.toString(),$skip:t.toString(),$expand:c?"creator,group":"creator"},c=[],s&&(t.$search=s),a&&c.push(i.Constants.ChannelFilterOptions.CanAddMediaItemsToChannel),n!==i.Constants.ChannelsSortOptions.Relevance&&(t.$orderby=r.formatString("{0} {1}",n,o)),c.length&&(t.$filter=c.join(" and ")),t}},"./app/services/Data/SpotlightService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts");o.prototype.getTenantSpotlightVideos=function(e){var t={$expand:"video,creator"};return e&&(t[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(""+i.Constants.AssetPaths.TenantSpotlights,t)},o.prototype.postTenantSpotlightVideos=function(e,t){var n=this.$q.defer();t||n.reject("Posting spotlight video is only allowed in admin mode."),(!e||5<e.length)&&(r=e?e.length+" videos in the list to be spotlighted but only five spotlight videos allowed.":"Spotlight videos list was not provided.",n.reject(r));var r={};return r.values=e.map((function(e){var t={};return t.VideoId=e.id,t})),(e={})[i.Constants.DataQueryParams.AdminMode]=!0,this.dataService.post(i.Constants.AssetPaths.TenantSpotlights+"/setSpotlights",e,r).then((function(){n.resolve()}),(function(e){n.reject(e)})),n.promise},o.prototype.getGroupSpotlightVideos=function(e,t){return e={id:e,$expand:"video,creator"},t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(""+i.Constants.AssetPaths.GroupSpotlights,e)},o.prototype.postGroupSpotlightVideos=function(e,t){var n=this.$q.defer(),r={};return r.values=t.map((function(e){var t={};return t.VideoId=e.id,t})),e={id:e},this.dataService.post(i.Constants.AssetPaths.GroupSpotlights+"/setSpotlights",e,r).then((function(){n.resolve()}),(function(e){n.reject(e)})),n.promise},o.$inject=["dataService","$q"],n=o;function o(e,t){this.dataService=e,this.$q=t}t.SpotlightService=n,r.registerService("spotlightService",n,angular.module("jumper.services"))},"./app/services/Data/TenantService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/FormatDottedUrl.ts");a.prototype.getProvisionedClientInfo=function(e){void 0===e&&(e=!0);var t=angular.extend({},{Authorization:"Bearer "+sessionInfo.AccessToken,"x-ms-client-request-id":o.generateGuid()}),n=this.navigationService.getLowerCasedQueryParams()||{},a=(c=this.getQueryParamBasedOnPageUrl())?r.formatString(i.Constants.TenantProvisioningUrlWithParam,sessionInfo.UserClaim.TenantId,portalConfiguration.TenantServiceApiVersion,c):r.formatString(i.Constants.TenantProvisioningUrl,sessionInfo.UserClaim.TenantId,portalConfiguration.TenantServiceApiVersion),c={};return(n=n[i.Constants.PiiFreeQueryStringKeys.HostCorrelationId])&&(c={hostcorrelationid:n}),t={method:"PATCH",url:s.formatDottedUrl(portalConfiguration.TenantServiceUri,a,c),headers:t,data:"{}"},e?this.dataService.executeWithRetry(t):this.dataService.execute(t)},a.prototype.getSettings=function(e){var t=this;e=e||!1,portalConfiguration.EnableMockApiGateway&&(e=!0);var n=this.$q.defer();return e||!this.myCompanySettings||Date.now()>=this.tenantSettingsCacheExpiryTimeInMs?this.dataService.get(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Settings,{id:sessionInfo.UserClaim.TenantId}).then((function(e){t.myCompanySettings=e,t.tenantSettingsCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.TenantSettings,n.resolve(t.myCompanySettings)}),(function(e){n.reject(e)})):n.resolve(this.myCompanySettings),n.promise},a.prototype.patchSettings=function(e){var t=this,n=this.$q.defer();return this.dataService.patch(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Settings,{id:sessionInfo.UserClaim.TenantId},e).then((function(e){t.myCompanySettings=e,t.tenantSettingsCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.TenantSettings,n.resolve(e)}),(function(e){n.reject(e)})),n.promise},a.prototype.resetCompanyPolicy=function(){return this.dataService.post(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Settings+"/"+i.Constants.Routes.ResetCompanyPolicy,{id:sessionInfo.UserClaim.TenantId},null)},a.prototype.getDomains=function(){return this.dataService.get(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Domains,{id:sessionInfo.UserClaim.TenantId})},a.prototype.getUsages=function(){return this.dataService.get(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Usages,{id:sessionInfo.UserClaim.TenantId})},a.prototype.getExportedData=function(e,t){return t={id:sessionInfo.UserClaim.TenantId,$top:e?e.toString():i.Constants.QueryConfigDefaults.DefaultTop,$skip:t?t.toString():i.Constants.QueryConfigDefaults.DefaultSkip,$orderby:r.formatString("{0} {1}","requestedTime",i.Constants.SortDirection.Descending),$expand:"principal"},this.dataService.get(i.Constants.AssetPaths.Tenant+"/dataExports",t)},a.prototype.deleteExportedData=function(e){var t={id:sessionInfo.UserClaim.TenantId};return this.dataService.delete(i.Constants.AssetPaths.Tenant+"/dataExports/"+e,t)},a.prototype.getQueryParamBasedOnPageUrl=function(){if(!this.featureFlagsService.Values.AllowTenantPatchBackgroundUserSync)return null;var e=window.location.href,t=i.Constants.QueryStringKeys.BackgroundUserSync+"=true";return 0<=e.search(i.Constants.QueryStringKeys.BackgroundUserSync)?t:(e=new RegExp(i.Constants.videoIdExtractRegEx.source).exec(e))?i.Constants.QueryStringKeys.TargetVideoId+"="+e[1].toString():null},a.$inject=["dataService","$q","$rootScope","featureFlagsService","navigationService"],n=a;function a(e,t,n,r,o){var s=this;this.dataService=e,this.$q=t,this.$rootScope=n,this.featureFlagsService=r,this.navigationService=o,n.$on(i.Constants.Events.Notification_TenantSettings,(function(e,t){s.getSettings(!0)}))}t.TenantService=n,angular.module("jumper.services").service("tenantService",n)},"./app/services/Data/TextTrackDataFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.query=function(){return this.dataService.query(this.textTrackUrlBase,this.config)},o.prototype.get=function(e){var t=angular.copy(this.config);return t.id=e,this.dataService.get(this.singleTextTrackUrlBase,t)},o.prototype.patch=function(e,t){var n=angular.copy(this.config);return n.id=e,this.dataService.patch(this.singleTextTrackUrlBase,n,t)},o.prototype.create=function(e){return this.dataService.post(this.textTrackUrlBase,this.config,e)},o.prototype.delete=function(e){var t=angular.copy(this.config);return t.id=e,this.dataService.delete(this.singleTextTrackUrlBase,t)},o);function o(e,t,n){this.dataService=e,this.videoId=t,this.isInAdminMode=n,this.textTrackUrlBase="videos/:videoId/texttracks",this.singleTextTrackUrlBase="/videos/:videoId/texttracks/:id",this.config={videoId:this.videoId},this.isInAdminMode&&(this.config[i.Constants.DataQueryParams.AdminMode]=!0)}t.TextTrackOperations=r,angular.module("jumper.services").factory("textTrackDataFactory",["dataService",function(e){return function(t,n){return new r(e,t,n)}}])},"./app/services/Data/TextTrackLanguageService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");r.prototype.getAllLanguages=function(){return this.languageMappings},r.prototype.getLanguage=function(e){return _.find(this.languageMappings,(function(t){return _.startsWith(e,t.code)}))},r.$inject=["resources"],n=r;function r(e){this.resources=e,this.languageMappings=[{name:this.resources.LanguageEnglish,code:"en"},{name:this.resources.LanguageAmharic,code:"am"},{name:this.resources.LanguageArabic,code:"ar"},{name:this.resources.LanguageAzerbaijani,code:"az-Latn-AZ"},{name:this.resources.LanguageBangla,code:"bn-IN"},{name:this.resources.LanguageBasque,code:"eu"},{name:this.resources.LanguageBosnian,code:"bs-Latn-BA"},{name:this.resources.LanguageBulgarian,code:"bg"},{name:this.resources.LanguageCatalan,code:"ca"},{name:this.resources.LanguageChineseSimplified,code:"zh-Hans"},{name:this.resources.LanguageChineseTraditional,code:"zh-Hant"},{name:this.resources.LanguageCroatian,code:"hr"},{name:this.resources.LanguageCzech,code:"cs"},{name:this.resources.LanguageDanish,code:"da"},{name:this.resources.LanguageDari,code:"prs"},{name:this.resources.LanguageDutch,code:"nl"},{name:this.resources.LanguageEstonian,code:"et"},{name:this.resources.LanguageFilipino,code:"fil"},{name:this.resources.LanguageFinnish,code:"fi"},{name:this.resources.LanguageFrench,code:"fr"},{name:this.resources.LanguageGalician,code:"gl"},{name:this.resources.LanguageGerman,code:"de"},{name:this.resources.LanguageGujarati,code:"gu"},{name:this.resources.LanguageGreek,code:"el"},{name:this.resources.LanguageHebrew,code:"he"},{name:this.resources.LanguageHindi,code:"hi"},{name:this.resources.LanguageHungarian,code:"hu"},{name:this.resources.LanguageIcelandic,code:"is"},{name:this.resources.LanguageIndonesian,code:"id"},{name:this.resources.LanguageIrish,code:"ga-IE"},{name:this.resources.LanguageItalian,code:"it"},{name:this.resources.LanguageJapanese,code:"ja"},{name:this.resources.LanguageKannada,code:"kn"},{name:this.resources.LanguageKazakh,code:"kk"},{name:this.resources.LanguageKiswahili,code:"sw"},{name:this.resources.LanguageKorean,code:"ko"},{name:this.resources.LanguageLatvian,code:"lv"},{name:this.resources.LanguageLithuanian,code:"lt"},{name:this.resources.LanguageMacedonian,code:"mk"},{name:this.resources.LanguageMalay,code:"ms"},{name:this.resources.LanguageMalayalam,code:"ml"},{name:this.resources.LanguageMarathi,code:"mr"},{name:this.resources.LanguageNorwegian,code:"no"},{name:this.resources.LanguageNorwegianNynorsk,code:"nn-NO"},{name:this.resources.LanguageOdia,code:"or"},{name:this.resources.LanguagePersian,code:"fa"},{name:this.resources.LanguagePolish,code:"pl"},{name:this.resources.LanguagePortuguese,code:"pt"},{name:this.resources.LanguagePortuguesePortugal,code:"pt-PT"},{name:this.resources.LanguageRomanian,code:"ro"},{name:this.resources.LanguageRussian,code:"ru"},{name:this.resources.LanguageScottish,code:"gd"},{name:this.resources.LanguageSerbian,code:"sr"},{name:this.resources.LanguageSerbianCyrillic,code:"sr-Cyrl"},{name:this.resources.LanguageSlovak,code:"sk"},{name:this.resources.LanguageSlovenian,code:"sl"},{name:this.resources.LanguageSpanish,code:"es"},{name:this.resources.LanguageSwedish,code:"sv"},{name:this.resources.LanguageTamil,code:"ta"},{name:this.resources.LanguageTelugu,code:"te"},{name:this.resources.LanguageThai,code:"th"},{name:this.resources.LanguageTurkish,code:"tr"},{name:this.resources.LanguageUkrainian,code:"uk"},{name:this.resources.LanguageUrdu,code:"ur"},{name:this.resources.LanguageVietnamese,code:"vi"},{name:this.resources.LanguageWelsh,code:"cy"}]}t.TextTrackLanguageService=n,i.registerService("textTrackLanguageService",n,angular.module("jumper.services"))},"./app/services/Data/ThumbnailService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.prototype.create=function(e,t,n){return void 0===n&&(n=!1),t={resourceName:e,resourceId:t},n&&(t[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.thumbnailsUri,t,{})},r.prototype.delete=function(e,t,n,r){return void 0===r&&(r=!1),n={resourceName:e,resourceId:t,thumbnailId:n},r&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(this.singleThumbnailUri,n)},r.prototype.query=function(e,t,n){return void 0===n&&(n=!1),t={resourceName:e,resourceId:t,$filter:"state eq 'Ready'"},n&&(t[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(this.thumbnailsUri,t)},r.prototype.setAsPosterImage=function(e,t,n,r){return void 0===r&&(r=!1),n={resourceName:e,resourceId:t,thumbnailId:n},r&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.setAsPosterImageUri,n,{})},r.prototype.getThumbnailBase64Data=function(e){var t=this.$q.defer();return this.dataService.makeSimpleAuthenticatedRequest(e,"GET","blob").then((function(e){var n=new FileReader;n.onload=function(e){t.resolve(e.target.result)},n.onerror=function(e){t.reject(e)},n.readAsDataURL(e.data)})),t.promise},r.$inject=["dataService","$q","inAdminModeService"],n=r;function r(e,t,n){this.dataService=e,this.$q=t,this.inAdminModeService=n,this.thumbnailsUri="/:resourceName/:resourceId/thumbnails",this.singleThumbnailUri="/:resourceName/:resourceId/thumbnails/:thumbnailId",this.setAsPosterImageUri=this.singleThumbnailUri+"/setAsPosterImage"}t.ThumbnailService=n,angular.module("jumper.services").service("thumbnailService",n)},"./app/services/Data/UserNotificationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.prototype.updateNotificationCache=function(e){var t=this;void 0===e&&(e=0);var n=this.$q.defer(),r=Object.keys(i.Constants.UserNotificationTypes).map((function(e){return i.Constants.UserNotificationTypes[e]})),o=[];return r.forEach((function(e){o.push("type eq '"+e+"'")})),e=o.join(" or "),this.getNotifications(e,r.length).then((function(e){t.dataShareService.notifications=e,n.resolve()})),n.promise},r.prototype.getNotifications=function(e,t){var n=this.$q.defer();t={$filter:e,$top:t};return this.dataService.get(i.Constants.AssetPaths.Notifications,t).then((function(e){e&&e.data&&e.data.value?n.resolve(e.data.value):n.resolve(null)})),n.promise},r.$inject=["dataService","dataShareService","$q"],n=r;function r(e,t,n){this.dataService=e,this.dataShareService=t,this.$q=n}t.UserNotificationService=n,angular.module("jumper.services").service("userNotificationService",n)},"./app/services/Data/VideoEventService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts");s.prototype.search=function(e,t,n,o){return void 0===o&&(o=!1),t={id:e,$search:i.escapeFilterSingleQuote(t)},n&&(t.$filter="Type eq '"+n+"'"),o&&(t[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.VideoEvents,t)},s.prototype.getForms=function(e){return e={id:e,$filter:"Type eq 'form'"},this.dataService.get(r.Constants.AssetPaths.VideoEvents,e)},s.prototype.addForm=function(e,t){return e={id:e},this.dataService.post(r.Constants.AssetPaths.VideoEvents,e,{start:t.start||o.formatSecondsToISODuration(t.startTime),end:t.end||o.formatSecondsToISODuration(t.endTime),type:t.type,eventData:t.eventData,hidden:t.hidden})},s.prototype.markFormViewed=function(e,t){return t={id:e,eventId:t.id},this.dataService.post(r.Constants.AssetPaths.VideoEventViewed,t,{})},s.prototype.deleteForm=function(e,t){return t={id:e,eventId:t.id},this.dataService.delete(r.Constants.AssetPaths.VideoEvent,t)},s.prototype.getTranscript=function(e,t){return void 0===t&&(t=!1),e={id:e,$filter:"Type eq '"+r.Constants.VideoEventType.transcript+"'"},t&&(e[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.VideoEvents,e)},s.prototype.updateTranscript=function(e,t,n,i){return void 0===i&&(i=!1),e={id:e},i&&(e[r.Constants.DataQueryParams.AdminMode]=!0),n={eventData:{text:n}},this.dataService.patch(r.Constants.AssetPaths.VideoEvents+"/"+t,e,n)},s.prototype.hidePerson=function(e,t,n){return void 0===n&&(n=!1),e={id:e},n&&(e[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.VideoEvents+"/"+r.Constants.VideoEventActions.HidePerson,e,{personId:t})},s.prototype.unhidePerson=function(e,t,n){return void 0===n&&(n=!1),e={id:e},n&&(e[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.VideoEvents+"/"+r.Constants.VideoEventActions.UnHidePerson,e,{personId:t})},s.prototype.mergePersons=function(e,t,n,i){return void 0===i&&(i=!1),e={id:e},i&&(e[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.VideoEvents+"/"+r.Constants.VideoEventActions.MergePersons,e,{sourceIds:t,targetId:n})},s.$inject=["dataService"],n=s;function s(e){this.dataService=e}t.VideoEventService=n,o.registerService("videoEventService",n,angular.module("jumper.services"))},"./app/services/Data/VideoService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/services/Data/ServiceUtils.ts"),s=n("./app/utility/string.ts");a.prototype.create=function(e,t){void 0===t&&(t=!1);var n={};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Videos,n,e)},a.prototype.get=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r={id:e,$expand:"creator,tokens,status"};return n&&(r.$expand+=",liveEvent,extensions"),!t&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video,r)},a.prototype.createAccessRequest=function(e){var t=this;e={videoId:e};return this.dataService.post(this.accessrequestPath,e,{}).then((function(e){return t.$q.resolve(e.data)}),(function(e){return t.$q.reject(e)}))},a.prototype.getVideoStatus=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Status,n)},a.prototype.getPosterImage=function(e,t){void 0===t&&(t=!1);var n={id:e,select:"posterImages"};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video,n).then((function(e){return e.data.posterImage}))},a.prototype.getPublicAnonymous=function(e,t,n){var r={id:e};t=s.formatString(i.Constants.PublicAnonymous.getRequestUrl,e,t);return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(t,r).then((function(e){return e}))},a.prototype.patchPublicAnonymous=function(e,t,n){var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),e=s.formatString(i.Constants.PublicAnonymous.patchRequestUrl,e),this.dataService.patch(e,r,{options:{allowpublicplayback:t}})},a.prototype.getChannels=function(e,t,n,r){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r={}),r.id=e,!t&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),n&&(r.$expand="group"),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.Channels,r).then((function(e){return e.data.value}))},a.prototype.refresh=function(e){return this.get(e)},a.prototype.put=function(e,t){return this.dataService.put(i.Constants.AssetPaths.Video,{id:e},t)},a.prototype.edit=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.VideoEdit,r,t)},a.prototype.patchFromDiff=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o={};t.name!==e.name&&(o.name=t.name),t.description!==e.description&&(o.description=t.description),t.privacyMode!==e.privacyMode&&(o.privacyMode=t.privacyMode),t.options.allowComments!==e.options.allowComments&&(o.options?o.options.allowComments=t.options.allowComments:o.options={allowComments:t.options.allowComments}),null!=t.options.audioEnhancementOptions&&null!=e.options.audioEnhancementOptions&&t.options.audioEnhancementOptions.allowAudioEnhancement!==e.options.audioEnhancementOptions.allowAudioEnhancement&&(o.options?o.options.audioEnhancementOptions?o.options.audioEnhancementOptions.allowAudioEnhancement=t.options.audioEnhancementOptions.allowAudioEnhancement:o.options.audioEnhancementOptions={allowAudioEnhancement:t.options.audioEnhancementOptions.allowAudioEnhancement}:o.options={audioEnhancementOptions:{allowAudioEnhancement:t.options.audioEnhancementOptions.allowAudioEnhancement}}),t.options.faceDetection!==e.options.faceDetection&&(o.options?o.options.faceDetection=t.options.faceDetection:o.options={faceDetection:t.options.faceDetection}),t.options.autoGeneratedCaption!==e.options.autoGeneratedCaption&&(o.options?o.options.autoGeneratedCaption=t.options.autoGeneratedCaption:o.options={autoGeneratedCaption:t.options.autoGeneratedCaption}),null!=t.options.allowTranscript&&null!=e.options.allowTranscript&&t.options.allowTranscript!==e.options.allowTranscript&&(o.options?o.options.allowTranscript=t.options.allowTranscript:o.options={allowTranscript:t.options.allowTranscript}),t.options.allowPublicPlayback!==e.options.allowPublicPlayback&&(o.options?o.options.allowPublicPlayback=t.options.allowPublicPlayback:o.options={allowpublicplayback:t.options.allowPublicPlayback}),t.language!==e.language&&(o.language=t.language),n&&t.published!==e.published&&(o.published=t.published);var s=_.map(t.channels,(function(e){return e.id}));n=_.map(e.channels,(function(e){return e.id}));return JSON.stringify(s.sort())!==JSON.stringify(n.sort())&&t.channels&&0<t.channels.length&&(o[i.Constants.ChannelOdataString]=_.map(t.channels,(function(e){return e.id}))),"{}"!==JSON.stringify(o)?this.patch(t.id,o,r).then((function(e){return(e=e.data).channels=angular.copy(t.channels),e})):this.$q.resolve(e)},a.prototype.patch=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Video,r,t)},a.prototype.delete=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Video,n).then((function(){r.$rootScope.$broadcast(i.Constants.Events.videoDeleted,{id:e})}))},a.prototype.like=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Like,n,{})},a.prototype.unLike=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.UnLike,n,{})},a.prototype.viewed=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Viewed,n,{})},a.prototype.pinVideo=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Pin,n,{})},a.prototype.unPinVideo=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.UnPin,n,{})},a.prototype.getSupportedExtensions=function(e){var t=this;void 0===e&&(e=!1);var n=this.$q.defer();return e||!this.supportedExtensions||Date.now()>=this.supportedExtensionsCacheExpiryTimeInMs?this.dataService.get(i.Constants.AssetPaths.Videos+"/"+i.Constants.VideoActions.SupportedExtensions,{}).then((function(e){t.supportedExtensions=e,t.supportedExtensionsCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.SupportedVideoFormats,n.resolve(t.supportedExtensions)}),(function(e){n.reject(e)})):n.resolve(this.supportedExtensions),n.promise},a.prototype.getSupportedAutoTranscriptLanguages=function(e){var t=this;void 0===e&&(e=!1);var n=this.$q.defer();return e||!this.supportedAutoTranscriptLanguages||Date.now()>=this.supportedAutoTranscriptLanguagesCacheExpiryTimeInMs?this.dataService.get(i.Constants.AssetPaths.Videos+"/"+i.Constants.VideoActions.SupportedAutoTranscriptLanguages,{}).then((function(e){t.supportedAutoTranscriptLanguages=e,t.supportedAutoTranscriptLanguages.data.languages.forEach((function(e,t,n){"zh=ZhCn"===n[t]?n[t]="zh-Hans":n[t]=n[t].split("=")[0]})),t.supportedAutoTranscriptLanguagesCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.SupportedAutoTranscriptLanguages,n.resolve(t.supportedAutoTranscriptLanguages)}),(function(e){n.reject(e)})):n.resolve(this.supportedAutoTranscriptLanguages),n.promise},a.prototype.getMyVideos=function(e,t,n,r,o,s,a,c,l,u,d){var p="creator/id eq '"+sessionInfo.UserClaim.UserInfo.UniqueId+"'";return s!==i.Constants.VideoStateOptions.All&&(p=p+" and published eq "+s),a&&a!==i.Constants.VideoPrivacyOptions.All&&(p=p+" and privacyMode eq '"+a+"'"),c&&(p=p+" and state eq '"+c+"'"),l&&(p=p+" and contentType eq '"+l+"'"),l=[],u&&l.push("events"),d&&l.push("liveEvent"),this.searchInternal(r,n,e,t,o,p,l.join(","))},a.prototype.getLiveEvents=function(e,t,n,r,o,s){return s=s?"liveEvent":"creator",this.searchInternal(r,n,e,t,"",i.Constants.LiveEventsDefaultFilter,s,o,null)},a.prototype.getCreatedLiveEventsByStartTime=function(e,t,n,r,o,s){return s=s?"liveEvent":"creator",this.searchInternal(r,n,e,t,"",i.Constants.LiveEventsCreatedFilter,s,o,null)},a.prototype.getCreatedLiveEvents=function(e,t,n,r,o){return this.searchInternal(r,n,e,t,"",i.Constants.LiveEventsCreatedFilter,"creator",o,null)},a.prototype.getPinnedVideos=function(e,t,n,i,r,o){return o=o?"creator,events":"creator",this.searchInternal(i,n,e,t,r,"userData/isPinned",o)},a.prototype.getRecentlyViewedVideos=function(e,t,n,i,r,o){return o=o?"creator,events":"creator",this.searchInternal(i,n,e,t,r,"userData/isViewed",o)},a.prototype.query=function(e,t,n,r){return void 0===n&&(n=i.Constants.DefaultQueryCounts.top),void 0===r&&(r=0),this.searchInternal(n,r,e,t,"",i.Constants.DataQueryDefaultFilter,"creator")},a.prototype.getTrendingVideos=function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=i.Constants.DataQueryDefaultFilter),n=n?"events":"",this.searchInternal(e,t,i.Constants.VideoSortOptions.Trending,i.Constants.SortDirection.Descending,"",r,n)},a.prototype.search=function(e,t,n,r,o,s,a,c){return void 0===r&&(r=0),void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=!1),void 0===a&&(a=i.Constants.DataQueryDefaultFilter),s=s?"creator,events":"creator",this.searchInternal(o,r,t,n,e,a,s,c)},a.prototype.getAll=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=i.Constants.DefaultQueryCounts.top),void 0===n&&(n=!1),this.searchInternal(t,e,i.Constants.VideoSortOptions.Relevance,i.Constants.SortDirection.Ascending,"","",null,n,null)},a.prototype.getUserVideos=function(e,t,n,r,o,s,a,c){return void 0===o&&(o=0),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1),e="creator/id eq '"+e+"' and "+i.Constants.DataQueryDefaultFilter,a=a?"events":"",this.searchInternal(s,o,n,r,t,e,a,c)},a.prototype.getFiles=function(e,t){void 0===t&&(t=!1);var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.Files,n)},a.prototype.getAudienceAnalyticsUrl=function(e,t,n){return void 0===n&&(n=!1),t={id:e,fileName:t},!n&&this.inAdminModeService.videoId!==e||(t[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.AudienceAnalytics+"/"+i.Constants.AnalyticsActions.GetCSVUrl,t)},a.prototype.patchChannels=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r={});var o={};return o[i.Constants.ChannelOdataString]=t,r.id=e,!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Video,r,o)},a.prototype.searchInternal=function(e,t,n,r,s,a,c,l,u){return c=o.videoFilterConfig(e,t,n,r,s,a,c),u&&(c.apiVersion=u),l&&(c[i.Constants.DataQueryParams.AdminMode]=l),this.dataService.query(i.Constants.AssetPaths.Videos,c)},a.prototype.share=function(e,t){return e={id:e},t={emailAddresses:t},this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Share,e,t)},a.prototype.getLinks=function(e,t){void 0===t&&(t=!1);var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.getLinks,n)},a.prototype.setLinks=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.setLinks,r,t)},a.prototype.setVideoPermissions=function(e,t,n){if(void 0===n&&(n=!1),_.isEmpty(t.videoUrl))throw"Invalid payload";var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.setVideoPermissions,r,t)},a.prototype.getRoleAssignments=function(e,t){void 0===t&&(t=!1);var n={id:e,$expand:"Principal"};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.RoleAssignments,n).then((function(e){return e.data.value}))},a.prototype.getIngest=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.VideoIngest,n)},a.prototype.startIngest=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.VideoIngest+"/"+i.Constants.VideoActions.startIngest,n,{})},a.prototype.stopIngest=function(e,t,n){var r={id:e};return!t&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),n=n?{postProcessingDelay:n}:{},this.dataService.post(i.Constants.AssetPaths.VideoIngest+"/"+i.Constants.VideoActions.stopIngest,r,n)},a.prototype.startBroadcast=function(e,t,n){var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.VideoIngest+"/"+i.Constants.VideoActions.startBroadcast,r,t)},a.prototype.setLiveEvent=function(e,t,n){var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(""+i.Constants.AssetPaths.VideoLiveEvent,r,t)},a.prototype.getTokens=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(""+i.Constants.AssetPaths.VideoTokens,n)},a.prototype.sendLiveHeartBeat=function(e,t,n){return t={Authorization:t},this.dataService.makeSimpleRequest(e,"POST",t,n)},a.$inject=["$rootScope","dataService","inAdminModeService","$q"],n=a;function a(e,t,n,i){this.$rootScope=e,this.dataService=t,this.inAdminModeService=n,this.$q=i,this.accessrequestPath="/videos/:videoId/requestaccess"}t.VideoService=n,r.registerService("videoService",n,angular.module("jumper.services"))},"./app/services/Data/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("./app/services/Data/ChannelService.ts")),i(n("./app/services/Data/GroupService.ts")),i(n("./app/services/Data/ThumbnailService.ts")),i(n("./app/services/Data/PrincipalService.ts")),i(n("./app/services/Data/InvitationService.ts")),i(n("./app/services/Data/TenantService.ts")),i(n("./app/services/Data/CommentService.ts")),i(n("./app/services/Data/RoleAssignmentService.ts")),i(n("./app/services/Data/DataService.ts")),i(n("./app/services/Data/VideoService.ts")),i(n("./app/services/Data/SpotlightService.ts")),i(n("./app/services/Data/TextTrackLanguageService.ts")),i(n("./app/services/Data/TextTrackDataFactory.ts")),i(n("./app/services/Data/RoleService.ts")),i(n("./app/services/Data/VideoEventService.ts")),i(n("./app/services/Data/GroupService.ts")),i(n("./app/services/Data/PersonService.ts")),i(n("./app/services/Data/UserNotificationService.ts")),i(n("./app/services/Data/HowToVideoService.ts")),i(n("./app/services/Data/RecycleBinService.ts")),i(n("./app/services/Data/OneCustomerVoiceDataService.ts")),i(n("./app/services/Data/AccessRequestService.ts"))},"./app/services/DataPollingService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.GetWaitTime=function(e,t){return void 0===t&&(t=i.Constants.Polling.BaseWaitTimeInMs),Math.pow(2,Math.min(e,i.Constants.Polling.MaxExponential))*t},o);function o(){}function s(){}function a(){}function c(e,t){this.$interval=e,this.$q=t}t.ExponentialToConstantTiming=r,s.prototype.GetWaitTime=function(e,t){return void 0===t&&(t=i.Constants.Polling.BaseWaitTimeInMs),Math.min(e,i.Constants.Polling.MaxExponential)*t},n=s,t.LinearToConstantTiming=n,a.prototype.GetWaitTime=function(e,t){return void 0===t&&(t=i.Constants.Polling.BaseWaitTimeInMs),t},n=a,t.ConstantWaitTiming=n,c.prototype.Poll=function(e,t,n,i,o){var s=this;void 0===o&&(o=0),i=i||new r;var a=e();return n=n||this.$q.defer(),a.then((function(r){n.notify(r),r.cancel||t(r)?n.resolve(!0):s.$interval((function(){n.resolve(s.Poll(e,t,n,i,o+1))}),i.GetWaitTime(o),1)})),n.promise},c.$inject=["$interval","$q"],n=c,t.DataPollingService=n,angular.module("jumper.services").service("dataPollingService",n)},"./app/services/DataShareService.ts":function(e,t){function n(){this.cache={}}Object.defineProperty(t,"__esModule",{value:!0}),t.DataShareService=n,angular.module("jumper.services").service("dataShareService",n)},"./app/services/DeleteConfirmationDialogService.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/services/ConfirmationDialogService.ts"),a=n("./app/utility/string.ts"),c=n("./app/utility/Constants.ts");r(l,o=s.ConfirmationDialogModel),r=l;function l(){return null!==o&&o.apply(this,arguments)||this}function u(e,t,n,i,r){this.$q=e,this.resources=t,this.ngDialog=n,this.featureFlagsService=i,this.videoService=r}t.DeleteVideoConfirmationDialogModel=r,u.prototype.getDialogModel=function(e,t,n){var i,r,o,s,l,u;return e===c.Constants.ResourceNames.Channel?(i=this.resources.Components.DeleteConfirmationDialog.DeleteChannelTitle,r=this.resources.Components.DeleteConfirmationDialog.DeleteChannelMessage,s=this.resources.Components.DeleteConfirmationDialog.DeleteChannelConfirmButton,u=this.resources.Cancel):e===c.Constants.ResourceNames.Video?(i=this.resources.Components.DeleteConfirmationDialog.DeleteVideoTitle,r=this.resources.Components.DeleteConfirmationDialog.DeleteVideoMessage,s=this.resources.Components.DeleteConfirmationDialog.DeleteVideoConfirmButton,u=this.resources.Cancel):e===c.Constants.ResourceNames.DeletedVideo?(i=this.resources.Components.DeleteConfirmationDialog.RecycleBinDeleteVideoTitle,r=a.formatString(this.resources.Components.DeleteConfirmationDialog.RecycleBinDeleteVideoMessage,t),s=this.resources.Components.DeleteConfirmationDialog.RecycleBinDeleteVideoConfirmButton,u=this.resources.Cancel):e===c.Constants.ResourceNames.Group?(i=a.formatString(this.resources.GroupDeleteConfirmTitle,t),s=this.resources.Components.DeleteConfirmationDialog.DeleteGroupConfirmButton,u=this.resources.Cancel,o=n?(r=this.resources.GroupDeleteConfirmMessageO365,l=a.formatString(this.resources.GroupDeleteConfirmMessageHeadingO365,t),this.resources.DeleteConfirmCheckboxMessageO365):(r=a.formatString(this.resources.GroupDeleteConfirmMessage,t),l=a.formatString(this.resources.GroupDeleteConfirmMessageHeading,t),this.resources.DeleteConfirmCheckboxMessage)):(i=a.formatString(this.resources.DeleteConfirmTitle,e),r=a.formatString(this.resources.DeleteConfirmMessage,t),s=this.resources.Yes,u=this.resources.No),{title:i,message:r,confirmCheckboxText:o,confirmButtonLabel:s,messageHeading:l,cancelButtonLabel:u}},u.prototype.getVideoDeleteDialogModel=function(e,t,n,i,r){var o=this;return this.getChannelCount(e,i,r).then((function(e){return{title:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinTitle,message:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinMessage,confirmCheckboxText:null,messageHeading:null,cancelButtonLabel:o.resources.Cancel,confirmButtonLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinConfirmButton,resourceName:t,groupCount:e.groups,channelCount:e.channels,publishedLocationsLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinPublishedLocationsLabel,videoNameLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinVideoNameLabel,groupsLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinGroupsLabel,channelLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinChannelsLabel}}))},u.prototype.getChannelCount=function(e,t,n){var i={groups:0,channels:0};return this.videoService.getChannels(t,n,!0).then((function(e){return(e=e||[]).forEach((function(e){e&&(e.name&&i.channels++,e.group&&i.groups++)})),i}))},u.prototype.showInternal=function(e,t){return e={template:e,controller:"ConfirmationDialogController",controllerAs:"ConfirmationDialog",closeByDocument:!0,plain:!0,className:"c-dialog",showClose:!1,resolve:{dialogModel:function(){return t}}},this.ngDialog.openConfirm(e)},u.prototype.show=function(e,t,i,r,o){var s=this;void 0===i&&(i=!1),void 0===r&&(r=void 0),void 0===o&&(o=void 0);var a=n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html"),l=n("./app/Controls/Dialogs/ConfirmationDialog/VideoDeleteConfirmationDialog.html");return e===c.Constants.ResourceNames.Video&&(this.featureFlagsService.Values.RecycleBin||this.featureFlagsService.Values.RecycleBinAdminSettings)?this.getVideoDeleteDialogModel(e,t,i,r,o).then((function(e){return s.showInternal(l,e)})):(i=this.getDialogModel(e,t,i),this.showInternal(a,i))},u.$inject=["$q","resources","ngDialog","featureFlagsService","videoService"],r=u,t.DeleteConfirmationDialogService=r,angular.module("jumper.services").service("deleteConfirmationDialogService",r)},"./app/services/ElementRefocusService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");r.prototype.init=function(){var e=this;this.isEnabled&&(this.focusElem=document.body,this.focusRange=document.createRange(),document.addEventListener("focusin",(function(t){e.focusRange.selectNode(t.target),e.focusRange.collapse(!1),e.focusElem=t.target})),document.addEventListener("focusout",(function(t){e.focusElem=null})),document.addEventListener("keydown",(function(t){if("Tab"===t.key&&e.focusElem&&e.focusElem!==document.activeElement){for(var n=e.focusRange.endContainer.childNodes[e.focusRange.endOffset]||e.getNextNode(e.focusRange.commonAncestorContainer,!1);n&&!e.isFocusable(n);)n=e.getNextNode(n);n&&(t.shiftKey||t.preventDefault(),n.focus())}})))},r.prototype.getNextNode=function(e,t){return void 0===t&&(t=!0),t&&e.firstChild?e.firstChild:e.nextSibling||(e.parentNode?this.getNextNode(e.parentNode,!1):null)},Object.defineProperty(r.prototype,"isEnabled",{get:function(){return i.isIE()},enumerable:!0,configurable:!0}),r.prototype.isFocusable=function(e){var t=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return!!e.focus&&-1!=e.tabIndex&&t.call(e,"a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,[tabindex],[contentEditable=true]")},r.$inject=[],n=r;function r(){this.focusElem=null,this.focusRange=null}t.ElementRefocusService=n,i.registerService("elementRefocusService",n,angular.module("jumper.services"))},"./app/services/FeatureFlagsService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");r.prototype.refreshValues=function(){this.computeFeatureValues()},r.prototype.getValue=function(e){return this.Values[e]},r.prototype.generateQueryStringForFlags=function(){var e=this,t="";return Object.keys(this.Values).forEach((function(n){var i="object"==typeof e.Values[n]?JSON.stringify(e.Values[n]):e.Values[n];i=encodeURIComponent(i);t+="&"+n+"="+i})),0<t.length&&(t=t.substring(1)),t},r.prototype.computeFeatureValues=function(){var e=this;this.featureList=portalConfiguration.FeatureFlags.split(","),this.queryParams=this.$location.search(),Object.keys(this.Values).forEach((function(t){var n=e.getFeatureValue(t,typeof e.Values[t]);n[0]&&(e.Values[t]=n[1])})),this.clearParams=angular.merge(this.queryParams,this.clearParams)},r.prototype.getFeatureValue=function(e,t){var n=this.getFeatureFromQueryString(e,t);if(n[0])return portalConfiguration.ECSConfiguration=portalConfiguration.ECSConfiguration||{},portalConfiguration.ECSConfiguration.telemetryRecord=portalConfiguration.ECSConfiguration.telemetryRecord||{},portalConfiguration.ECSConfiguration.telemetryRecord.isExpSessionOverridden=!0,n;if(portalConfiguration.ECSConfiguration&&portalConfiguration.ECSConfiguration.agents&&portalConfiguration.ECSConfiguration.settings)for(var i=0,r=portalConfiguration.ECSConfiguration.agents;i<r.length;i++){var o=r[i];if(portalConfiguration.ECSConfiguration.settings[o]&&void 0!==(o=portalConfiguration.ECSConfiguration.settings[o][e]))return[!0,o]}if(0<=this.featureList.indexOf(e)){if("number"===t)return[!0,1];if("boolean"===t)return[!0,!0];console.error("Feature flags could not handle hintType: %s",t)}return[!1,void 0]},r.prototype.getFeatureFromQueryString=function(e,t){if(portalConfiguration.EnableQueryStringOverrides&&this.queryParams&&this.queryParams[e]){var n=this.queryParams[e];if("string"===t)return[!0,n];if("number"===t){if(e=Number(n),!isNaN(e))return[!0,e]}else{if("boolean"===t)return[!0,"true"===n.toLowerCase()||1===Number(n.toLowerCase())];if("object"===t)try{var i=decodeURIComponent(n);return[!0,JSON.parse(i)]}catch(e){}}console.error("Query string could not handle hintType: %s",t)}return[!1,void 0]},r.$inject=["$location"],r.FrameworkVersion=1,n=r;function r(e){this.$location=e,this.Values={officevideomigration:!1,noncejanitor:!1,emptynoncethrottler:!1,tokenmonitor:!1,removeresourceparameter:!1,newsignupredirect:!1,AmpVersion:"",taskevents:!1,taskstacktrace:!1,p3pheader:!1,EmbedVideoAdalRedirect:!1,EmbedVideoAdalRedirectCacheLifeHours:4,BotFramework:!1,EmbedVNextRedirect:!1,CookielessAntiForgeryKillSwitch:!1,BotButtons:!1,TeamsAppId:"",UnsupportedBrowserErrorKillSwitch:!1,SDNNamesWithVersions:"",ADFSFallbackKillSwitch:!1,EmbedStopLoadingReactBridgeKillSwitch:!1,TeamsSdkVer:"",ThinEmbed:!1,TenantedAuth:"",WaitingRoomRetryIntervalMs:1e4,IsWaitingRoom503ErrorEnabled:!1,IsTenantPatchThrottledOnPortal:!1,IsTenantPatchThrottledOnEmbed:!1,ShareableGroupCRUDControl:!1,IsAllowMemberToContributeDisabled:!1,AllowTenantPatchBackgroundUserSync:!1,DeleteChannelPoster:!1,TrialExperience:!1,TranscriptEdit:!1,AdminSettingsV2:!1,OfficeVideoMigration:!1,DataUsageNotifications:!1,LocalGroups:!1,MDSLogging:!1,EndOfTrialBar:!1,EndOfTrialDialog:!1,GroupSpotlight:!1,ForgottenUsers:!1,PersonalData:!1,EmbedSearch:!1,TeamsTokenSSO:!1,CreateLive:!1,LiveEventAdminSetting:!1,TokenSSOPostMessage:!1,GroupInAdminMode:!1,SdnPluginPlayer:!1,RecordVideo:!1,BrowseBack:!1,NewNotifications:!1,NetworkCaching:!1,EncoderSetup:!1,EncoderSetupV2:!1,PlayerRetry:!1,VerboseLogs:!1,EnableCEACaptions:!1,PlaybackQualityMonitoring:!1,LiveGA:!1,RemoveMakeVideoPrivateAutoSave:!1,EmailEnabled:!1,TeamsEmbedSortSelector:!1,ResumePlayback:!1,RecentlyViewed:!1,DefaultPrivacyModeTenantSetting:!1,UploadV2:!1,MaxParallelChunkUploads:8,MaxChunkSizeInMB:2,MaxSimultaneousUploads:3,Forms:!1,FormsTab:!1,FormsDefaultTab:!1,FormsIgnoreViewedStatus:!1,VideoEditor:!1,DisableIEPreload:!1,ReplaceVideo:!1,RecycleBinAdminSettings:!1,RecycleBin:!1,RecycleBinSearch:!1,ForceHLSv3:!0,TranscriptEditNewButtons:!1,TranscriptEditV3:!1,HLSToOrigin:!0,ReactBanner:!1,MobileAnnounementBanner:!1,ShareToTeams:!1,AllMeetings:!1,RemoveHelpLinks:!1,LiveEventOptions:!1,SendVideoAnalytics:!1,DownloadAnalytics:!1,AudioEnhancementUI:!1,DefaultAudioTrackIsEnhanced:!1,SortByName:!1,SetDefaultSortOptionChannels:!1,PreRollInWallClockSec:4,LivePlaybackOffsetInWallClockSec:8,UserTextTrackSettings:!1,AudioOnlyModeKillSwitch:!1,AudioOnlyTimeThreshold:3e4,AudioOnlyRebufferThreshold:.1,AutoPlay:!1,UploadMediaInternalsKillSwitch:!1,GenerateNonEnglishAutoTranscript:!0,LogAppInvestigationFields:!1,AppInvestigationEventName:"",ReactShareDialog:!1,ReactMemberList:!1,ReactMemberListForStreamGroups:!1,FilterEmptyGroups:!1,showIOS13ErrorKillSwitch:!1,DisableFaceDetection:!1,MigrationPercentageBar:!1,ScreenRecorder:!1,AudioEnhancementFirstRunExperience:!1,CookieBlockedHandShakeTimeout:5e3,removeCookieErrorKillSwitch:!1,ShowSessionFlagsInAbout:!1,PublicAnonymousVOD:!1,PublicAnonymousLive:!1,ExternalSharingAdminSetting:!1,IncreaseGroupSearchInputTimeInterval:!1,VariableFragmentSizeHeuristicKillSwitch:!1,GuestAccess:!1,AllowMixedContentKillSwitch:!1,UpdateUserInfoIdMismatch:!1,DisableGroupSearch:!1,FetchMoreGroups:!1,EndOfResultSet:!1,EnableShowMoreOption:!1,FetchDoubleTopRecords:!1,DisableAutoSearchForGroups:!1,DefaultShareWithVideoDropDownOptionPeople:!1,StreamOnlyGroupEmptyContributor:!1,EnableCaptionVisibilityToggle:!1,RequestAccess:!1,AudioOnlyUpload:!1,HideM365GroupLabel:!1,WebcamRecording:!1,TrimRecording:!1,WebmDurationMetadataEdit:!1,MixMicAndSystemAudio:!1,NewVideoPage:!1,NewUserSearchRegex:!1,StreamMigration:!1,MigrationSettings:!1,MigrationReports:!1,UserMigration:!1,IsEnvSpecificLokiEndpointEnabled:!1},this.clearParams={},this.computeFeatureValues()}t.FeatureFlagsService=n,i.registerService("featureFlagsService",n,angular.module("jumper.services"))},"./app/services/HttpTelemetryInterceptor.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts");angular.module("jumper").factory("httpTelemetryInterceptor",["$q","telemetryService","navigationService",function(e,t,n){function o(e){return delete(e=e||{}).Authorization,JSON.stringify(e)}function s(e){var t=e.headers;return{headers:o(angular.copy(e.headers)),url:e.url,method:e.method,clientRequestId:t["x-ms-client-request-id"],correlationId:t["x-ms-correlation-request-id"]}}function a(e,t){t&&(e.responseHeaders=o(angular.copy(t())))}var c=t.getTracker(r.ScreenName.Auto);return{request:function(e){return e.utcStartTime=new Date,e},response:function(e){var t,n;return e.config.url&&!_.includes(e.config.url.toLocaleLowerCase(),".html")&&(t=e.config.utcStartTime,(n=s(e.config)).status=e.status,n.statusText=e.statusText,n.responseTime=new Date-t,n.utcStartTime=t,a(n,e.headers),c.trackEvent(i.Constants.TelemetryEvents.HttpResponseSuccess,n,{})),e},responseError:function(t){var n,r;return t.config?(n=t.config.utcStartTime,(r=s(t.config)).status=t.status,r.statusText=t.statusText,r.responseTime=new Date-n,r.utcStartTime=n,a(r,t.headers),t.data&&t.data.error&&(r.error=JSON.stringify(t.data.error))):t.message||(r={error:t}),-1!==t.status||window.navigator.onLine?403===t.status?c.trackEvent(i.Constants.TelemetryEvents.HttpResponseWarning,r,{}):c.trackEvent(i.Constants.TelemetryEvents.HttpResponseError,r,{}):(r.error=i.Constants.NoNetworkErrorString+" "+(r.error||""),c.trackEvent(i.Constants.TelemetryEvents.HttpResponseWarning,r,{})),e.reject(t)}}}]),angular.module("jumper").config(["$httpProvider",function(e){e.interceptors.push("httpTelemetryInterceptor")}])},"./app/services/InAdminModeService.ts":function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.InAdminModeService=n,angular.module("jumper.services").service("inAdminModeService",n)},"./app/services/LoggingService.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/services/TelemetryService.ts"),c=n("./app/utility/TelemetryUtils.ts"),l=n("./node_modules/@msstream/core/esm/index.js");u.prototype.isTraceOn=function(){return u.isTraceOn},u.prototype.enableLogging=function(e){u.isEnabled=e},u.prototype.trackEvent=function(e,t){u.isEnabled&&(u.isMemoryLoggingOn&&u.memoryLogs.push((new Date).toISOString()+" : EventName : "+e+" Properties : "+JSON.stringify(t)),this.validateEventName(e)&&(t=i({},t),this.attachStandardProperties(t,e),t={name:e,data:t},this.cleanPropertiesBeforeSent(t),u.log(t,this.featureFlagsService)))},u.prototype.trackTrace=function(e,t){u.isEnabled&&u.isTraceOn&&(t=i({},t),this.attachStandardProperties(t,"Trace"),t.message=e,u.log({name:"Trace",data:t},this.featureFlagsService))},u.prototype.tagScreen=function(e,t){var n=this;void 0===t&&(t={}),u.isEnabled&&(this.$timeout((function(){n.trackPageView(e)}),0),t.screenName=e,this.trackEvent(o.TelemetryEventNames.loggerScreenTagged,t))},u.prototype.enableLoggingInMemory=function(e){void 0===e&&(e=!0),u.isMemoryLoggingOn=e},u.prototype.getLogsFromMemory=function(e){void 0===e&&(e=!0);var t=u.memoryLogs.join("\n");return e&&(u.memoryLogs=[]),t},u.prototype.trackPageView=function(e){u.isEnabled&&(e={PageTitle:e,url:this.removeUserData(window.location.href)},this.attachStandardProperties(e,"PageView"),u.log({name:"PageView",data:e},this.featureFlagsService))},u.prototype.cleanPropertiesBeforeSent=function(e){e.url&&(e.url=this.removeUserData(e.url)),s.removeNullValues(e)},u.prototype.removeUserData=function(e){var t,n="$filter",i="startswith";return-1<e.indexOf("$search=")&&(e=this.navigationService.replaceQueryParamValue(e,"$search",r.Constants.userDataMask)),-1<e.indexOf(n+"=")&&-1<e.indexOf(i)&&(t=s.getUrlParamValueFromUrl(n,e),e=this.navigationService.removeQueryParamFromUrl(e,n),t&&(t=t.split("and").map((function(e){return 0<e.indexOf(i)?" "+r.Constants.userDataMask+" ":e})).join("and"),e=this.navigationService.addParmeterWithValue(e,n+"="+encodeURI(t)))),e},u.prototype.validateEventName=function(e){var t,n,i=!0;return e?-1!=e.indexOf(" ")?(i=!1,t="event "+e+" contains spaces. This is not allowed by Aria, please rename the event"):(n=e.charAt(0))<"a"&&"z"<n&&(i=!1,t="event "+e+" does not start with character A-Z. This is not allowed by Aria, please rename the event"):(i=!1,t="event name is null or undefined"),i||this.trackEvent("InvalidEventName",{InvalidEventName:e,Issue:t}),i},Object.defineProperty(u.prototype,"performanceTiming",{get:function(){return window.performance?window.performance.timing:null},enumerable:!0,configurable:!0}),u.prototype.attachStandardProperties=function(e,t){e[this.appVersionKey]=portalConfiguration.BuildNumber,e.ringNumber=portalConfiguration.RingNumber,e.dataCenterCluster=portalConfiguration.ClusterName;var n=sessionInfo.UserClaim;e.tenantId=n?n.TenantId:"";var i=n&&n.UserInfo?n.UserInfo.UniqueId:"";e[this.userIdKey]=i,this.featureFlagsService.Values.UpdateUserInfoIdMismatch&&(this.lastSeenUserId==i||(n=l.StreamLoggingService.getStandardContextsDeepCopy())&&n.userContext&&(n.userContext.userId=i,l.StreamLoggingService.userSignedIn&&l.StreamLoggingService.userSignedIn(n.userContext,n.expContext),e.userIdentityChanged=!0),this.lastSeenUserId=i),e.userSessionId=sessionInfo.SessionId,e.clientSessionId=sessionInfo.ClientSessionId,e.servicePlan=sessionInfo.ServicePlanForTelemetry||"0",this.featureFlagsService.Values.LogAppInvestigationFields&&(this.featureFlagsService.Values.AppInvestigationEventName&&this.featureFlagsService.Values.AppInvestigationEventName!==t||(a=(t=!!(o=e.app))&&(0===o.indexOf("http://")||0===o.indexOf("https://")),c=t&&(-1!==o.indexOf(".com")||-1!==o.indexOf(".edu")||-1!==o.indexOf(".net")),e.appInvestigation=JSON.stringify({IsEmbed:sessionInfo.IsEmbed,AppSpecified:t,TrafficSourceSpecified:_.isNil(e.trafficSource),HasProtocol:a,HasCommonTopLevelDomain:c}))),_.isNil(e.trafficSource)&&(e.trafficSource=sessionInfo.IsEmbed?2:0);var o,a=s.getReferrer(),c=this.$window.location!==this.$window.parent.location&&a?a:document.location.href||"unknown";e.pageUrl=c,a&&(e.trafficReferrer=a),e.app||(o=(o=this.appName.value)||(sessionInfo.IsEmbed?"stream embed":"stream portal"),e.app=o),e[this.userLanguageKey]=sessionInfo.UserLanguage,e.userRegion=sessionInfo.UserRegion,e.serviceRegion=sessionInfo.ServiceRegion,e.dataLocation=sessionInfo.DataLocation,portalConfiguration.ECSConfiguration&&portalConfiguration.ECSConfiguration.telemetryRecord&&(e.expContext=portalConfiguration.ECSConfiguration.telemetryRecord),(this.appCorrelation||this.hostCorrelationId)&&(e[r.Constants.PiiFreeQueryStringKeys.HostCorrelationId]=this.hostCorrelationId||this.appCorrelation),this.appPlatform&&(e[r.Constants.PiiFreeQueryStringKeys.AppPlatform]=this.appPlatform),this.refId&&(e[r.Constants.PiiFreeQueryStringKeys.referralId]=this.refId),this.refType&&(e[r.Constants.PiiFreeQueryStringKeys.referralType]=this.refType)},u.log=function(e,t){window.isUnitTest||(l&&l.StreamLoggingService?l.StreamLoggingService.legacy(e):console.log("logger is not defined. Stream is not logging anything!"))},u.isTraceOn=!0,u.isEnabled=!0,u.isMemoryLoggingOn=!1,u.memoryLogs=[],u.$inject=["$rootScope","$window","navigationService","featureFlagsService","$timeout","appName"],n=u;function u(e,t,n,i,s,l){var u=this;this.$rootScope=e,this.$window=t,this.navigationService=n,this.featureFlagsService=i,this.$timeout=s,this.appName=l,this.startTime=Date.now(),this.appExitReported=!1,this.appCorrelation=null,this.appPlatform=null,this.refId=null,this.refType=null,this.lastSeenUserId="",this.userIdKey="userId",this.userLanguageKey="UserLanguage",this.appVersionKey="buildNumber",l=this.navigationService.getLowerCasedQueryParams()||{},this.appCorrelation=l[r.Constants.PiiFreeQueryStringKeys.AppCorrelation],this.hostCorrelationId=l[r.Constants.PiiFreeQueryStringKeys.HostCorrelationId],this.appPlatform=l[r.Constants.PiiFreeQueryStringKeys.AppPlatform],this.refId=l[r.Constants.PiiFreeQueryStringKeys.referralId.toLocaleLowerCase()],this.refType=l[r.Constants.PiiFreeQueryStringKeys.referralType.toLocaleLowerCase()],this.$window.document.addEventListener("spa_navigation_end",(function(e){var t,n;e.detail&&e.detail.url&&e.detail.time&&(t=u.navigationService.getPageName(e.detail.url),n=o.ScreenName[t],c.udpateViewContext(t),e={url:e.detail.url,timeToComplete:e.detail.time,initiator:e.detail.initiator,screenName:n},(n=u.performanceTiming)&&(e.navigationStart=n.navigationStart,e.fetchStart=n.fetchStart,e.redirectStart=n.redirectStart,e.redirectEnd=n.redirectEnd,e.connectStart=n.connectStart,e.connectEnd=n.connectEnd,e.requestStart=n.requestStart,e.responseStart=n.responseStart,e.responseEnd=n.responseEnd,e.domInteractive=n.domInteractive,e.domLoading=n.domLoading,e.domComplete=n.domComplete,e.loadEventStart=n.loadEventStart,e.loadEventEnd=n.loadEventEnd),u.trackEvent(o.TelemetryEventNames.navigationCompleted,e))})),this.featureTelemetryTracker=new a.TelemetryTracker(this,this.navigationService,o.ScreenName.Auto),this.$rootScope.$on(r.Constants.Events.ServicePlanReady,(function(){sessionInfo.ServicePlanForTelemetry&&u.featureTelemetryTracker.succeed(o.FeatureName.LoggerInitialization)})),l=function(){var e=(Date.now()-u.startTime)/1e3;u.appExitReported||(u.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.loggerAppExited,{},{sessionDuration:e}),u.appExitReported=!0)},this.$rootScope.$on("$destroy",l),this.$window.addEventListener("beforeunload",l),setTimeout((function(){sessionInfo.ServicePlanForTelemetry&&u.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.loggerUserServicePlanFetchedOnWebrole),u.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.loggerStarted)}),0)}t.LoggingService=n,s.registerService("loggingService",n,angular.module("jumper.services"))},"./app/services/MdsLoggerService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./app/utility/appUtil.ts"),o=n("./app/models/TelemetryEventModels.ts");function s(e,t,n,i){this.dataService=e,this.$interval=t,this.featureFlagsService=n,this.loggingService=i,this.mdsLogCache=[],this.featureFlagsService.Values.MDSLogging&&(this.mdsLogIntervalId=this.$interval(this.flush.bind(this),15e3,1))}(n=i=t.mdsLogLevel||(t.mdsLogLevel={}))[n.error=0]="error",n[n.warning=1]="warning",n[n.information=2]="information",n[n.verbose=3]="verbose",s.prototype.logTrace=function(e,t,n,r){if(!_.isNumber(r)&&t)switch(t.resultType){case o.ResultType.Failure:r=i.error;break;case o.ResultType.Warning:r=i.warning;break;case o.ResultType.Success:r=i.information;break;default:r=i.verbose}this.mdsLogCache.push({clientTimeUTC:(new Date).toUTCString(),level:r,eventName:e,properties:t,metrics:n}),50<this.mdsLogCache.length&&this.flush()},s.prototype.flush=function(){this.featureFlagsService.Values.MDSLogging&&(this.mdsLogCache.length&&this.sendMdsLogsToWebrole(),this.$interval.cancel(this.mdsLogIntervalId),this.mdsLogIntervalId=this.$interval(this.flush.bind(this),15e3,1))},s.prototype.sendMdsLogsToWebrole=function(){var e=this.mdsLogCache.splice(0);return this.dataService.makeWebTierRequest("/logtrace","POST",null,e)},s.$inject=["dataService","$interval","featureFlagsService","loggingService"],n=s,t.MdsLoggerService=n,r.registerService("mdsLoggerService",n,angular.module("jumper.services"))},"./app/services/MediaDownloaderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts");r.prototype.downloadFile=function(e){var t=document.createElement("a");t.href=e,t.style.display="none",t.setAttribute("download",""),document.body.appendChild(t),t.click(),document.body.removeChild(t)},r.prototype.downloadFileWithRename=function(e,t){var n=this,i=new XMLHttpRequest;i.withCredentials=!0,i.open("GET",e,!0),i.responseType="blob",i.onload=function(){var e=new Blob([i.response],{type:"application/octet-stream"});n.saveDataAsFile(e,t)},i.send()},r.prototype.saveDataAsFile=function(e,t){var n=document.createElement("a");navigator.msSaveBlob?navigator.msSaveBlob(e,t):(n.href=window.URL.createObjectURL(e),n.style.display="none",n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n))},r.prototype.getAssetFileUrl=function(e,t,n,r){void 0===r&&(r=!1);var o=this.$q.defer();return this.videoService.getFiles(e,r).then((function(e){e=e.data.value,(e=_.find(e,(function(e){return e.type===t})))&&e.downloadUrl?(n.succeed(i.FeatureName.GetVideoDownloadUrl),o.resolve(e.downloadUrl)):(n.fail(i.FeatureName.DownloadVideo,null,"download Url of type "+t+" not present in the files API"),o.reject())}),(function(e){throw{subFeatureName:i.SubFeatureName.VideoService_GetDownloadUrl,details:e}})),o.promise},r.prototype.downloadAssetFile=function(e,t,n,r){var o=this;void 0===r&&(r=!1),this.getAssetFileUrl(e,t,n,r).then((function(e){o.downloadFile(e),n.succeed(i.FeatureName.DownloadVideo)})).catch((function(e){n.fail(i.FeatureName.DownloadVideo,e.subFeatureName,e.details)}))},r.prototype.getAnalyticsFileUrl=function(e,t,n,r){void 0===r&&(r=!1);var o=this.$q.defer();return this.videoService.getAudienceAnalyticsUrl(e,t,r).then((function(e){(e=e.data.value)?(n.succeed(i.FeatureName.GetAnalyticsDownloadUrl),o.resolve(e)):(n.fail(i.FeatureName.GetAnalyticsDownloadUrl,null,"download Url for analytics on video not present in the files API"),o.reject())}),(function(e){throw{subFeatureName:i.SubFeatureName.VideoService_GetAnalyticsDownloadUrl,details:e}})),o.promise},r.$inject=["$q","videoService","dataService"],n=r;function r(e,t,n){this.$q=e,this.videoService=t,this.dataService=n}t.MediaDownloaderService=n,angular.module("jumper.services").service("mediaDownloaderService",n)},"./app/services/MediaUploaderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.startUpload=function(e,t){void 0===t&&(t=!1);var n={files:e};e={};return t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.resourceId+"/"+i.Constants.VideoActions.StartUpload,e,n)},o.prototype.uploadFiles=function(e,t,n){var r=this;void 0===n&&(n=!1);var o=[],s=new Array(t.length);_.fill(s,0);var a=0,c=this.$q.defer();return t.forEach((function(n,i){var l=r.$q.defer();(n=r.featureFlagsService.Values.UploadV2?r.azureStorageBlobUploaderService(e,n.file,n.sasUrl):r.azureBlobUploaderService(e,n.file,n.sasUrl)).startUploadToAzureBlob().then((function(){l.resolve()}),(function(e){l.reject(e)}),(function(e){l.notify(e),a+=e-s[i],s[i]=e,c.notify(a/t.length)})),r.azureBlobUploaderList.push(n),o.push(l.promise)})),this.$q.all(o).then((function(){return r.completeUpload(_.map(t,(function(e){return e.file.name})),n).then((function(){c.resolve()}),(function(e){try{e.api=i.Constants.VideoActions.CompleteUpload}catch(e){}c.reject(e)}))}),(function(e){c.reject(e)})),c.promise},o.prototype.cancelUpload=function(){this.azureBlobUploaderList.forEach((function(e){e.cancelUpload()}))},o.prototype.dispose=function(){this.azureBlobUploaderList.forEach((function(e){e.dispose()}))},o.prototype.completeUpload=function(e,t){void 0===t&&(t=!1);var n={files:e};e={};return t&&(e[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.resourceId+"/"+i.Constants.VideoActions.CompleteUpload,e,n)},o);function o(e,t,n,i,r,o,s){this.resourceId=e,this.$q=t,this.dataService=n,this.azureBlobUploaderService=i,this.featureFlagsService=r,this.inAdminModeService=o,this.azureStorageBlobUploaderService=s,this.azureBlobUploaderList=[]}t.MediaUploaderService=r,angular.module("jumper.services").factory("mediaUploaderFactory",["$q","dataService","azureBlobUploaderService","featureFlagsService","inAdminModeService","azureStorageBlobUploaderService",function(e,t,n,i,o,s){return function(a){return new r(a,e,t,n,i,o,s)}}])},"./app/services/NavigationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts");function a(e,t){this.$window=e,this.$location=t,this.locationHistory=[]}t.generatePathWithQueryStrings=function(e,t,n){var i=s.formatString(e,t);if(n){for(var r in n)void 0!==n[r]&&null!==n[r]&&""!==n[r]||delete n[r];!(e=$.param(n))||1<(t=e.split("=")).length&&t[1]&&(i=s.formatString("{0}?{1}",i,e))}return i},a.prototype.navigate=function(e,t){return void 0===t&&(t={}),this.$location.path(e).search(t)},a.prototype.navigateReplaceHistory=function(e,t){return this.navigate(e,t).replace()},a.prototype.getPath=function(){return this.$location.path()},a.prototype.redirect=function(e){this.$window.location.replace(e)},a.prototype.reloadWithExtraQueryString=function(e){var t=this.$location.absUrl();-1!==t.indexOf("?")?t+="&"+e:t+="?"+e,this.redirect(t)},a.prototype.href=function(e){this.$window.location.href=e},a.prototype.getAbsUrl=function(){return this.$location.absUrl()},a.prototype.getQueryParams=function(){return this.$location.search()},a.prototype.addQueryParam=function(e){return this.$location.search(e)},a.prototype.getQueryParamValue=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=void 0);var i={},r=this.makeCaseInsensitiveRegex(e);e=e.toLowerCase();return _.each(this.getQueryParams(),(function(e,n){n=n.toLowerCase().replace("amp;",""),r.test(n)&&(e=_.isArray(e)?_.last(e):e.toString(),i[n.toLowerCase()]=t?e.toLowerCase():e)})),_.isEmpty(i)||!i[e]?n:i[e]},a.prototype.getLowerCasedQueryParams=function(){var e={};return _.each(this.getQueryParams(),(function(t,n){t=_.isArray(t)?_.last(t):t.toString(),e[n.toLowerCase()]=t.toLowerCase()})),_.isEmpty(e)?void 0:e},a.prototype.removeQueryParam=function(e){var t,n=this.makeCaseInsensitiveRegex(e);_.each(this.getQueryParams(),(function(e,i){n.test(i)&&(t=i)})),this.$location.search(t,null)},a.prototype.removeQueryParamFromUrl=function(e,t){if(!t||!e)return"";var n=e.split("?");return n.length<2?e:(e=(e=n[1].split("&")).filter((function(e){return-1===e.indexOf(t)})),n[0]+"?"+e.join("&"))},a.prototype.replaceQueryParamValue=function(e,t,n){if(!t||!e)return"";var i=e.split("?");return i.length<2?e:(e=(e=i[1].split("&")).map((function(e){if(0<=e.indexOf(t)){var i=e.split("=");return 2==i.length&&(i[1]=n),i.join("=")}return e})),i[0]+"?"+e.join("&"))},a.prototype.addParmeterWithValue=function(e,t){return t?0<e.indexOf("?")?e+"&"+t:e+"?"+t:e},a.prototype.logHistory=function(e){var t=this.locationHistory.length;(0===t||0<t&&this.locationHistory[t-1]!==e)&&this.locationHistory.push(e)},a.prototype.parseURL=function(e){var t,n,i,r=document.createElement("a"),o={};for(r.href=e,t=r.search.replace(/^\?/,"").split("&"),i=0;i<t.length;i++)o[(n=t[i].split("="))[0]]=n[1];return{pathname:r.pathname,search:r.search,searchObject:o,hash:r.hash}},a.prototype.getCurrentUrl=function(){var e=this.locationHistory.length;return 0<e?this.locationHistory[e]:""},a.prototype.getPreviousUrl=function(){var e=this.locationHistory.length;return 0<e?this.locationHistory[e-1]:""},a.prototype.getOneBeforePreviousUrl=function(){var e=this.locationHistory.length;return 1<e?this.locationHistory[e-2]:""},a.prototype.clearQueryParams=function(){this.$location.search({})},a.prototype.getPageName=function(e){void 0===e&&(e=null);var t=this.getQueryParams(),n=this.$location.path();switch(!e||(e=s.urlResolve(e))&&e.pathname&&(n=e.pathname),s.getBaseRoute(n)){case s.getBaseRoute(i.Constants.Routes.Browse):return t.view&&t.view.toLowerCase()===i.Constants.BrowseView.Channel?r.ScreenName.BrowseChannels:t.view&&t.view.toLowerCase()===i.Constants.BrowseView.People?r.ScreenName.BrowsePeople:t.view&&t.view.toLowerCase()===i.Constants.BrowseView.Group?r.ScreenName.BrowseGroups:r.ScreenName.BrowseVideos;case s.getBaseRoute(i.Constants.Routes.Group):return t.view&&t.view.toLowerCase()===i.Constants.GroupView.Channels?r.ScreenName.GroupChannels:t.view&&t.view.toLowerCase()===i.Constants.GroupView.Videos?r.ScreenName.GroupVideos:t.view&&t.view.toLowerCase()===i.Constants.GroupView.Members?r.ScreenName.GroupPrincipals:r.ScreenName.GroupHome;case s.getBaseRoute(i.Constants.Routes.User):return t.view&&t.view.toLowerCase()===r.ScreenName[r.ScreenName.UserChannels].toLowerCase()?r.ScreenName.UserChannels:r.ScreenName.UserVideos;case s.getBaseRoute(i.Constants.Routes.Video):return r.ScreenName.Video;case s.getBaseRoute(i.Constants.Routes.VideoUpdate):return r.ScreenName.VideoUpdate;case s.getBaseRoute(i.Constants.Routes.Upload):return r.ScreenName.Upload;case s.getBaseRoute(i.Constants.Routes.StudioVideos):return r.ScreenName.MyVideos;case s.getBaseRoute(i.Constants.Routes.StudioChannels):return r.ScreenName.MyChannels;case s.getBaseRoute(i.Constants.Routes.Watchlist):return r.ScreenName.Watchlist;case s.getBaseRoute(i.Constants.Routes.Channel):return r.ScreenName.Channel;case s.getBaseRoute(i.Constants.Routes.User):return r.ScreenName.UserVideos;case s.getBaseRoute(i.Constants.Routes.StudioGroups):return r.ScreenName.StudioGroups;case s.getBaseRoute(i.Constants.Routes.FollowingChannels):return r.ScreenName.ChannelsFollowing;case s.getBaseRoute(i.Constants.Routes.Meetings):return r.ScreenName.MyMeetings;case s.getBaseRoute(i.Constants.Routes.Welcome):return r.ScreenName.Welcome;case s.getBaseRoute(i.Constants.Routes.Update):return r.ScreenName.LiveUpdate;case s.getBaseRoute(i.Constants.Routes.Create):return r.ScreenName.CreateLive;case s.getBaseRoute(i.Constants.Routes.RecentlyViewed):return r.ScreenName.RecentlyViewed;case s.getBaseRoute(i.Constants.Routes.StudioRecycleBin):return r.ScreenName.RecycleBin;case s.getBaseRoute(i.Constants.Routes.AdminSettings):return r.ScreenName.AdminSettings;default:return r.ScreenName.Hub}},a.prototype.makeCaseInsensitiveRegex=function(e){return new RegExp("(?:^|W)"+e+"(?:$|W)","i")},a.$inject=["$window","$location"],n=a,t.NavigationService=n,o.registerService("navigationService",n,angular.module("jumper.services"))},"./app/services/NotificationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts");o.prototype.setupNotificationService=function(e){var t=this;void 0===e&&(e=!0),this.autoStartSignalR=e,this.$rootScope.$on(r.Constants.Events.TokenRenewedWithApiGateway,(function(){t.apiGatewayTokenReady=!0,t.hubsLoaded?!t.signalRConnected&&t.autoStartSignalR&&t.startConnection():t.loadHubConnection()}))},o.prototype.startNotificationService=function(){this.autoStartSignalR=!0,this.apiGatewayTokenReady&&this.hubsLoaded&&this.startConnection()},o.prototype.addOrUpdateJoinVideoGroupList=function(e,t){var n=this;return this.autoStartSignalR=!0,this.waitForSignalRConnected().finally((function(){var i=_.find(n.videoJoinList,(function(t){return t.videoId===e}));i?i.token=t:n.videoJoinList.push({videoId:e,token:t})}))},o.prototype.joinVideoGroupInternal=function(e,t){var n=this;return this.clientNotifications.server.joinVideoGroup(e,t).then((function(){n.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{subFeatureName:i.SubFeatureName.NotificaitonService_JoinVideoGroups,connectionId:$.connection.hub.id})}),(function(t){t=t&&t.split("<")[0],n.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_JoinVideoGroups,t,{connectionId:$.connection.hub.id}),n.$rootScope.$broadcast(r.Constants.Events.Notification_JoinVideoGroupFailed,{videoId:e})}))},o.prototype.leaveVideoGroup=function(e){if(_.remove(this.videoJoinList,(function(t){return t.videoId===e})),this.signalRConnected)return this.leaveVideoGroupInternal(e);this.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_LeaveVideoGroups,"SignalR is not yet Connected, so skipping leaveVideoGroups",{connectionId:$.connection.hub.id})},o.prototype.leaveVideoGroupInternal=function(e){var t=this;return this.clientNotifications.server.leaveVideoGroup(e).then((function(){t.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{subFeatureName:i.SubFeatureName.NotificaitonService_LeaveVideoGroups,connectionId:$.connection.hub.id})}),(function(e){e=e&&e.split("<")[0],t.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_LeaveVideoGroups,e,{connectionId:$.connection.hub.id})}))},o.prototype.loadHubConnection=function(){var e=this;this.hubsLoadInProgress||this.signalRConnected||(this.hubsLoadInProgress=!0,$.ajaxSetup({cache:!0}),$.getScript(sessionInfo.NotificationEndPoint).then((function(){e.hubsLoaded=!0,e.telemetryTracker.succeed(i.FeatureName.NotificationHubsJSLoad),e.startHubConnection()}),(function(t){e.telemetryTracker.fail(i.FeatureName.NotificationHubsJSLoad,null,t)})).always((function(){e.hubsLoadInProgress=!1})))},o.prototype.startHubConnection=function(){var e=this;function t(t){var n,r;e.signalCache.get(t.notificationId)?e.telemetryTracker.trackEvent(i.TelemetryEventNames.SignalRNotificationReceived,{id:t.notificationId,notification:JSON.stringify(t),duplicated:!0,connectionId:$.connection.hub.id}):(n={id:t.notificationId,cacheSize:e.signalCache.info().size,connectionId:$.connection.hub.id},e.featureFlagsService.Values.NewNotifications?(_.merge(n,t.data),Object.keys(n).forEach((function(e){if(_.isArray(n[e]))for(var t=0;t<n[e].length;t++)n[e][t]=JSON.stringify(n[e][t]);else _.isString(n[e])||_.isNumber(n[e])||(n[e]=JSON.stringify(n[e]))})),r=t.eventType+"NotificationReceived",e.telemetryTracker.trackEvent(r,n)):(n.notification=JSON.stringify(t),e.telemetryTracker.trackEvent(i.TelemetryEventNames.SignalRNotificationReceived,n)),e.signalCache.put(t.notificationId,t.notificationId),e.raiseApplicationEvents(t))}$.connection.hub.url=sessionInfo.NotificationEndPoint,this.clientNotifications=this.featureFlagsService.Values.NewNotifications?$.connection.ClientNotifications:$.connection.EntityChanges,this.featureFlagsService.Values.NewNotifications?this.clientNotifications.client.handleNotification=t.bind(this):this.clientNotifications.client.handleNotification=function(e,n){t(n)},$.connection.hub.connectionSlow((function(){e.telemetryTracker.warn(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_SlowConnection,{},{connectionId:$.connection.hub.id})})),$.connection.hub.reconnecting((function(){e.telemetryTracker.warn(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_ReConnecting,{},{connectionId:$.connection.hub.id})})),$.connection.hub.reconnected((function(){e.telemetryTracker.warn(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_ReConnected,{},{connectionId:$.connection.hub.id}),e.signalRConnected=!0})),$.connection.hub.disconnected((function(){e.$rootScope.$broadcast(r.Constants.Events.NotificationDisconnected);var t=$.connection.hub.lastError?$.connection.hub.lastError.message:"";e.signalRConnected=!1,e.disconnectRetryCounter<r.Constants.NotificationFailureMaxRetries&&e.$timeout((function(){e.disconnectRetryCounter++,e.startConnection()}),r.Constants.NotificationServiceReconnectTimeout),e.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_Disconnected,t,{connectionId:$.connection.hub.id})})),this.autoStartSignalR&&this.startConnection()},o.prototype.waitForSignalRConnected=function(){var e=this.$q.defer();return this.signalRConnected?e.resolve():(this.startSignalRPromise||this.startNotificationService(),this.startSignalRPromise?this.startSignalRPromise.then((function(){e.resolve()}),(function(t){e.reject(t)})):e.reject("hubs not connected yet")),e.promise},o.prototype.startConnection=function(){var e=this,t=this.$q.defer();return this.startSignalRPromise=t.promise,$.connection.hub.start().then((function(){e.hubConnectionStartSuccess(t)}),(function(n){e.hubConnectionStartFail(t,n)})),this.startSignalRPromise},o.prototype.hubConnectionStartSuccess=function(e){var t=this;this.clientNotifications.server.joinGroups().then((function(){t.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{subFeatureName:i.SubFeatureName.NotificaitonService_JoinedGroups,connectionId:$.connection.hub.id}),e.resolve()}),(function(n){n=n&&n.split("<")[0],t.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_JoinedGroups,n,{connectionId:$.connection.hub.id}),$.connection.hub.stop(!0),e.reject(n)})),this.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{connectionId:$.connection.hub.id}),this.signalRConnected=!0,this.videoJoinList.forEach((function(e){t.joinVideoGroupInternal(e.videoId,e.token)}))},o.prototype.hubConnectionStartFail=function(e,t){this.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_NotConnected,{},{connectionId:$.connection.hub.id}),e.reject(t)},o.prototype.raiseApplicationEvents=function(e){function t(e){switch(_.reduce(e,(function(e,t){return e+"/"+t.type+(t.id?"/:id":"")}),"")){case r.Constants.AssetPaths.Video+"/"+r.Constants.VideoActions.Status:n.$rootScope.$broadcast(r.Constants.Events.Notification_VideoStatus,{id:e[0].id});break;case r.Constants.AssetPaths.Principal+"/"+r.Constants.ResourceNames.PrincipalSettings:n.$rootScope.$broadcast(r.Constants.Events.Notification_PrincipalSettings,{id:e[0].id});break;case r.Constants.AssetPaths.Principal+"/"+r.Constants.ResourceNames.PrincipalPermissions:n.$rootScope.$broadcast(r.Constants.Events.Notification_PrincipalPermissions);break;case r.Constants.AssetPaths.Tenant+"/"+r.Constants.TenantActions.Settings:n.$rootScope.$broadcast(r.Constants.Events.Notification_TenantSettings);break;case r.Constants.AssetPaths.Tenant+"/"+r.Constants.ResourceNames.ExportData+"/:id":n.$rootScope.$broadcast(r.Constants.Events.Notification_Principal)}}var n=this;if(this.featureFlagsService.Values.NewNotifications)switch(e.eventType){case r.Constants.NotificationEventTypes.VideoIngestStateChange:this.$rootScope.$broadcast(r.Constants.Events.Notification_IngestStateChange,e.data);break;case r.Constants.NotificationEventTypes.VideoStateChange:this.$rootScope.$broadcast(r.Constants.Events.Notification_VideoStateChange,e.data);break;case r.Constants.NotificationEventTypes.ConcurrentViewers:this.$rootScope.$broadcast(r.Constants.Events.Notification_ConcurrentViewers,e.data);break;case r.Constants.NotificationEventTypes.LiveAutoShutdown:this.$rootScope.$broadcast(r.Constants.Events.Notification_LiveAutoShutdown,e.data);break;case r.Constants.NotificationEventTypes.SendEntityChanges:t(e.data.entityPath)}else t(e.entityPath)},o.$inject=["$rootScope","$q","telemetryService","featureFlagsService","$timeout",r.Constants.CacheId.SignalCache],n=o;function o(e,t,n,r,o,s){var a=this;this.$rootScope=e,this.$q=t,this.featureFlagsService=r,this.$timeout=o,this.signalCache=s,this.hubsLoaded=!1,this.hubsLoadInProgress=!1,this.signalRConnected=!1,this.disconnectRetryCounter=0,this.videoJoinList=[],e.$on("$destroy",(function(){a.signalRConnected&&$.connection.hub.stop()})),this.telemetryTracker=n.getTracker(i.ScreenName.NotApplicable),e.$watchCollection((function(){return a.videoJoinList}),(function(e,t){a.signalRConnected?_.differenceBy(e,t,"videoId").forEach((function(e){a.joinVideoGroupInternal(e.videoId,e.token)})):a.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_JoinVideoGroups,"SignalR is not yet Connected, so skipping joinVideoGroups",{connectionId:$.connection.hub.id})}))}t.NotificationService=n,angular.module("jumper.services").service("notificationService",n)},"./app/services/ReplaceVideoService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/services/VideoBgUploaderService.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/services/NavigationService.ts");c.prototype.handleReplaceVideoDialog=function(e,t,n,r,o){var a=this;return void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=""),this.video=e,this.videoEditStateInfo=t,this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),o=this.replaceVideoDialog.open(this.video,r,o),this.removeReplaceVideoQueryString(),o.closePromise.then((function(e){return e.value?(a.fileInfo=e.value.fileInfo,a.replacementFileName=a.fileInfo.file.name,a.videoEditStateInfo.isReplacingVideo=a.fileInfo.editStateInfo.isReplacingVideo,_.some(a.videoBgUploaderService.mediaUploadList,(function(e){return e.resourceId===a.video.id&&e.status===i.UploadStatus.failed}))&&a.videoBgUploaderService.removeBgUploadItem(a.video.id),a.videoBgUploaderService.startBgUpload(a.video.id,a.fileInfo.file,a.fileInfo.uploadPriority,r,a.fileInfo.editStateInfo.isReplacingVideo,n).then((function(){a.video.state=a.videoEditStateInfo.videoState=a.fileInfo.editStateInfo.videoState,a.featureTelemetryTracker.succeed(s.FeatureName.ReplaceVideo,null,null,s.SubFeatureName.VideoEvent_ReplaceVideo)}),(function(e){return a.featureTelemetryTracker.fail(s.FeatureName.ReplaceVideo,s.SubFeatureName.VideoEvent_ReplaceVideo,e),a.$q.reject(e)})),a.$q.resolve(a.videoEditStateInfo)):a.$q.reject(a.resources.ReplaceVideo.FileInfoNotFound)}),(function(e){return a.videoEditStateInfo.isReplacingVideo=!1,a.featureTelemetryTracker.fail(s.FeatureName.ReplaceVideo,s.SubFeatureName.VideoEvent_ReplaceVideo,e),a.$q.reject(e)}))},c.prototype.canReplace=function(e){return this.isReplaceVideoEnabled&&e&&e.userData&&e.userData.permissions.canEdit&&e.userData.permissions.canDownload&&e.state&&(r.isStringEqual(e.state,o.Constants.VideoState.completed)||r.isStringEqual(e.state,o.Constants.VideoState.error)||this.isInErrorState(e))},c.prototype.isReplacing=function(e){return this.isReplaceVideoEnabled&&e&&e.isReplacingVideo&&e.videoState&&(r.isStringEqual(e.videoState,o.Constants.VideoState.uploading)||r.isStringEqual(e.videoState,o.Constants.VideoState.processing))},c.prototype.replaceCompletedRefresh=function(e,t){!r.isStringEqual(e,o.Constants.VideoStatus.Completed)||(e=this.navigationService.getAbsUrl()).includes(t)&&this.navigationService.redirect(e)},c.prototype.openReplaceVideoDialog=function(e,t){var n={};n[o.Constants.QueryStringKeys.open]=o.Constants.Events.ReplaceVideo;var i=o.Constants.Routes.VideoUpdate;t&&(i=o.Constants.Routes.Update),this.navigationService.redirect(a.generatePathWithQueryStrings(i,e,n))},c.prototype.removeReplaceVideoQueryString=function(){this.navigationService.removeQueryParam(o.Constants.QueryStringKeys.open)},Object.defineProperty(c.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),c.prototype.isInErrorState=function(e){return e&&e.state&&r.isStringEqual(e.state,o.Constants.VideoState.error)||r.isStringEqual(e.state,o.Constants.VideoState.exceededFileSize)||r.isStringEqual(e.state,o.Constants.VideoState.failedProcessing)||r.isStringEqual(e.state,o.Constants.VideoState.failedUpload)||r.isStringEqual(e.state,o.Constants.VideoState.unSupportedType)},c.$inject=["$q","resources","videoBgUploaderService","mediaDownloaderService","telemetryService","featureFlagsService","replaceVideoDialog","navigationService"],n=c;function c(e,t,n,i,r,o,s,a){this.$q=e,this.resources=t,this.videoBgUploaderService=n,this.mediaDownloaderService=i,this.telemetryService=r,this.featureFlagsService=o,this.replaceVideoDialog=s,this.navigationService=a,this.featureTelemetryTracker=this.telemetryService.getTracker()}t.ReplaceVideoService=n,angular.module("jumper.services").service("replaceVideoService",n)},"./app/services/RestoreConfirmationDialogService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.getDialogModel=function(e,t,n){var o,s,a;e=e===r.Constants.ResourceNames.DeletedVideo?(o=this.resources.Components.RestoreConfirmationDialog.VideoRestoredTitle,s=this.resources.Components.RestoreConfirmationDialog.VideoRestoredMessage,a=this.resources.Components.RestoreConfirmationDialog.VideoRestoredConfirmButton,this.resources.Components.RestoreConfirmationDialog.VideoRestoredCancelButton):(o=i.formatString(this.resources.Components.RestoreConfirmationDialog.RestoreConfirmTitle,e),s=this.resources.Components.RestoreConfirmationDialog.RestoreMessage,a=this.resources.Yes,this.resources.No);return{title:o,message:s,confirmButtonLabel:a,cancelButtonLabel:e,hideConfirmButton:n}},s.prototype.show=function(e,t,i){var r=this.getDialogModel(e,t,i);i={template:n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html"),controller:"ConfirmationDialogController",controllerAs:"ConfirmationDialog",closeByDocument:!0,plain:!0,className:"c-dialog",showClose:!1,resolve:{dialogModel:function(){return r}}};return this.ngDialog.openConfirm(i)},s.$inject=["$q","resources","ngDialog"],s);function s(e,t,n){this.$q=e,this.resources=t,this.ngDialog=n}t.RestoreConfirmationDialogService=o,angular.module("jumper.services").service("restoreConfirmationDialogService",o)},"./app/services/SdnUtilService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");o.prototype.setSdnProvidersAndVersions=function(){var e=this,t=portalConfiguration.SDNNamesWithVersions?portalConfiguration.SDNNamesWithVersions.split(","):[];_.forEach(t,(function(t){(t=t.split("/"))&&4===t.length&&(e.sdnNames.push(t[0]),e.sdnDisplayNames[t[0]]=t[1],e.sdnConfigNames[t[0]]=t[2],e.sdnVersions[t[0]]=t[3])}))},o.prototype.getMediaPlayerOptions=function(e,t,n){var i=_.get(this.sdnSettings,"provider",""),r=this.sdnConfigNames[i]||null;return r&&(_.forEach(e.playbackUrls,(function(e){e.sdnList=[{videoId:t,providerAuthenticationToken:n,sdnName:r}]})),e.plugins=e.plugins||{},e.plugins[r]={sessionId:sessionInfo.ClientSessionId,providerConfiguration:_.get(this.sdnSettings,"configuration",""),isSDNDebug:this.isSdnDebug}),e},o.prototype.loadSdnPlugin=function(){var e;return this.promise||((e=this.getSdnScriptUrl())?($.ajaxSetup({cache:!0}),this.promise=this.$q.when($.getScript(e))):this.promise=this.$q.resolve()),this.promise},o.prototype.getSdnScriptUrl=function(){var e=this.isSdnDebug?"pluginscript.js":"pluginscript.min.js";return this.getPluginVersion&&this.sdnSettings.provider.toLowerCase()&&portalConfiguration.PartnerBinariesUri?portalConfiguration.PartnerBinariesUri+"/"+this.sdnSettings.provider.toLowerCase()+"/"+this.getPluginVersion()+"/"+e:null},o.prototype.getPluginVersion=function(){return this.sdnSettings.provider?this.sdnVersions[this.sdnSettings.provider.toLowerCase()]:""},o.$inject=["$q","navigationService"],n=o;function o(e,t){this.$q=e,this.navigationService=t,this.sdnVersions={},this.sdnNames=[],this.isSdnDebug=!1,this.disableSdn=!1,this.sdnConfigNames={},this.sdnDisplayNames={},this.setSdnProvidersAndVersions(),t=this.navigationService.getQueryParamValue(r.Constants.sdnPluginPramTypes.isSDNDebug),this.isSdnDebug=!(!t||"true"!=t),t=this.navigationService.getQueryParamValue(r.Constants.sdnPluginPramTypes.disableSDN),this.disableSdn=!(!t||"true"!=t)}t.SdnUtilService=n,i.registerService("sdnUtilService",n,angular.module("jumper.services"))},"./app/services/SessionExpiredManager.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.$inject=["$rootScope","sessionExpiredDialog"],n=r;function r(e,t){var n=this;this.$rootScope=e,this.sessionExpiredDialog=t,this.sessionExpiredNotified=0,this.$rootScope.$on(i.Constants.Events.SessionExpired,(function(){0==n.sessionExpiredNotified++&&t.open()}))}t.SessionExpiredManager=n,angular.module("jumper.services").service("sessionExpiredManager",n)},"./app/services/SessionManager.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/ServicePlanUtils.ts");a.prototype.renewTokenInternal=function(){return sessionInfo.IsSignedInWithAdal?this.renewTokenInternalAdal():this.renewTokenInternalServer()},a.prototype.renewTokenInternalServer=function(){var e=this,t={tokenExpiryTime:sessionInfo.AccessTokenExpiry,source:"TimerBasedAutoRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.makeWebTierRequest("/RenewToken","POST",null,{}).then((function(n){return sessionInfo.AccessToken=n.data.AccessToken,sessionInfo.AccessTokenExpiry=n.data.TokenExpiry,sessionInfo.ServerTime=n.data.ServerTime,e.featureTelemetryTracker.succeed(r.FeatureName.RenewTokenWebTier,t),e.$q.resolve()}),(function(t){return e.handleTokenRefreshFailure(n,r.FeatureName.RenewTokenWebTier,t),e.$q.reject()}))},a.prototype.renewLokiTokenInternalServer=function(){var e=this,t={tokenExpiryTime:sessionInfo.LokiTokenExpiry,source:"TimerBasedAutoRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.makeWebTierRequest("/RenewLokiToken","POST",null,{}).then((function(n){return sessionInfo.LokiToken=n.data.LokiToken,sessionInfo.LokiTokenExpiry=n.data.LokiTokenExpiry,sessionInfo.ServerTime=n.data.ServerTime,e.featureTelemetryTracker.succeed(r.FeatureName.RenewLokiToken,t),e.$q.resolve()}),(function(t){return e.handleTokenRefreshFailure(n,r.FeatureName.RenewLokiToken,t),e.$q.reject()}))},a.prototype.renewMSGraphTokenInternalServer=function(){var e=this,t={tokenExpiryTime:sessionInfo.MSGraphTokenExpiry,source:"TimerBasedAutoRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.makeWebTierRequest("/RenewMSGraphToken","POST",null,{}).then((function(n){return sessionInfo.MSGraphToken=n.data.MSGraphToken,sessionInfo.MSGraphTokenExpiry=n.data.MSGraphTokenExpiry,sessionInfo.ServerTime=n.data.ServerTime,e.featureTelemetryTracker.succeed(r.FeatureName.RenewMSGraphToken,t),e.$q.resolve()}),(function(t){return e.handleTokenRefreshFailure(n,r.FeatureName.RenewMSGraphToken,t),e.$q.reject()}))},a.prototype.renewTokenInternalAdal=function(){var e=this,t=this.$q.defer();return acquireAccessToken((function(){var n={tokenExpiryTime:sessionInfo.AccessTokenExpiry,source:"TimerBasedAutoRefresh"};e.featureTelemetryTracker.succeed(r.FeatureName.RenewTokenAdal,n),t.resolve()}),(function(n){e.handleTokenRefreshFailure(sessionInfo.ApiGatewayUri,r.FeatureName.RenewTokenAdal,n),t.reject()})),t.promise},a.prototype.callApiGatewayRefreshToken=function(){var e=this,t={tokenExpiryTime:sessionInfo.AccessTokenExpiry,source:"ApiGatewayTokenRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.getWithCorsSupport("refreshtoken",null).then((function(){e.featureTelemetryTracker.succeed(r.FeatureName.RenewApiGatewayTokenCookie,t),e.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway)}),(function(t){e.handleTokenRefreshFailure(n,r.FeatureName.RenewApiGatewayTokenCookie,t)})).finally((function(){e.$rootScope.loadPage||e.$rootScope.showCookieError||(e.$rootScope.loadPage=!0)}))},a.prototype.callApiGatewayRefreshTokenUponSignup=function(){var e=this;this.callApiGatewayRefreshToken().then((function(){e.featureTelemetryTracker.succeed(r.FeatureName.TenantProvisioning)}))},a.prototype.initialize=function(){var e,t=this;return portalConfiguration.EnableMockApiGateway?(this.$rootScope.loadPage||this.$rootScope.showCookieError||(this.$rootScope.loadPage=!0),this.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway),e=this.loadNotifications()):(e=a.isTokenExpired()?this.renewTokenInternal().then((function(){return t.callApiGatewayRefreshToken()})):this.callApiGatewayRefreshToken(),_.isNull(sessionInfo)?this.featureTelemetryTracker.fail(r.FeatureName.SessionInfoWebTier,r.SubFeatureName.NotApplicable,{}):this.featureTelemetryTracker.succeed(r.FeatureName.SessionInfoWebTier),this.requestTimer=this.$interval((function(){t.renewTokenHandler()}),a.defaultTokenCheckInterval,1),e.then((function(){var e=new Array;return sessionInfo.ServicePlanForTelemetry||e.push(t.loadServicePlans()),t.featureFlagsService.Values.DataUsageNotifications&&e.push(t.loadNotifications()),t.$q.all(e)}),this.terminatedUserHandler))},a.prototype.start=function(){var e=this;if(portalConfiguration.EnableMockApiGateway)return this.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway),this.$q.resolve(null);var t=void 0;t=a.isTokenExpired()?this.renewTokenInternal().then((function(){return e.callApiGatewayRefreshToken()})):this.callApiGatewayRefreshToken();return this.requestTimer=this.$interval((function(){e.renewTokenHandler()}),a.defaultTokenCheckInterval,1),sessionInfo.ServicePlanForTelemetry?t:t.then((function(){e.loadServicePlans()}),(function(t){return e.terminatedUserHandler(t)}))},a.prototype.stop=function(){this.requestTimer&&(this.$interval.cancel(this.requestTimer),this.requestTimer=null)},a.prototype.terminatedUserHandler=function(e){e&&e.status&&403===e.status&&(e=s.ServicePlanUtils.getTrialPlanForUser(this.me,!0),!_.isNull(e)&&s.ServicePlanUtils.isTerminatedTrial(e)&&this.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway))},a.prototype.renewTokenHandler=function(){var e=this;a.shouldRenewFormsTokenNow()&&this.$rootScope.$emit(i.Constants.Events.RenewFormsToken),a.shouldRenewTokenNow()?this.renewTokenInternal().then((function(){return e.callApiGatewayRefreshToken()}),(function(){e.$rootScope.$emit(i.Constants.Events.RenewTokenTriedAndFailed)})).finally((function(){a.isTokenExpired()?e.$rootScope.$broadcast(i.Constants.Events.SessionExpired):e.requestTimer=e.$interval((function(){e.renewTokenHandler()}),a.defaultTokenCheckInterval,1)})):this.requestTimer=this.$interval((function(){e.renewTokenHandler()}),a.defaultTokenCheckInterval,1),a.shouldRenewLokiTokenNow(this.featureFlagsService)&&this.renewLokiTokenInternalServer(),a.shouldRenewMSGraphTokenNow(this.featureFlagsService)&&this.renewMSGraphTokenInternalServer()},a.prototype.handleTokenRefreshFailure=function(e,t,n,i){void 0===i&&(i=r.SubFeatureName.NotApplicable),e?this.featureTelemetryTracker.fail(t,i,n):this.featureTelemetryTracker.warn(t,i,n)},a.prototype.loadNotifications=function(){var e=this,t=this.$q.defer();return this.userNotificationService.updateNotificationCache().then((function(){e.$rootScope.$broadcast(i.Constants.Events.UserNotificationsReady),e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.userNotificationsReady),t.resolve()}),(function(n){e.handleTokenRefreshFailure(sessionInfo.ApiGatewayUri,r.FeatureName.UserNotifications,r.SubFeatureName.UserNotificationService_Query,n),t.reject(n)})),t.promise},a.prototype.loadServicePlans=function(){var e=this;if(!this.principalService)return null;var t=this.principalService.getMyPrincipalInfo();return t.then((function(t){e.me=t&&t.data?t.data:null,e.me&&e.me.servicePlans&&e.me.servicePlans.assignedPlans&&(t=1<(t=e.me.servicePlans.assignedPlans.map((function(e){return e.name}))).length?_.orderBy(_.without(t,i.Constants.DefaultServicePlan),["asc"]):t,sessionInfo.ServicePlanForTelemetry=t.join("+"),e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.loggerUserServicePlanFetchedOnClient),e.$rootScope.$broadcast(i.Constants.Events.ServicePlanReady),e.servicePlanRetryTimer&&e.$interval.cancel(e.servicePlanRetryTimer))}),(function(t){e.featureTelemetryTracker.warn(r.FeatureName.LoggerInitialization,r.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t),e.servicePlanRetryTimer||(e.servicePlanRetryTimer=e.$interval(e.loadServicePlans,i.Constants.ServicePlanRetryInterval))})),t},a.shouldRenewTokenNow=function(){return!sessionInfo.AccessTokenExpiry||!sessionInfo.AccessToken||Date.parse(sessionInfo.AccessTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0},a.shouldRenewFormsTokenNow=function(){return sessionInfo.FormsAccessTokenExpiry&&sessionInfo.FormsAccessToken?Date.parse(sessionInfo.FormsAccessTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0:!!sessionInfo.FormsAccessToken},a.isTokenExpired=function(){return!(sessionInfo.AccessToken&&sessionInfo.AccessTokenExpiry&&Date.parse(sessionInfo.AccessTokenExpiry)>=Date.now())},a.isTokenAuth=function(e){return e.Values.TeamsTokenSSO&&window.isTokenSSO_Teams||e.Values.TokenSSOPostMessage&&window.PostMessageConnectedToParent},a.shouldRenewLokiTokenNow=function(e){return!!e.Values.ShareableGroupCRUDControl&&(sessionInfo.LokiTokenExpiry&&sessionInfo.LokiToken?Date.parse(sessionInfo.LokiTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0:!!sessionInfo.LokiToken||!!sessionInfo.LokiTokenExpiry)},a.shouldRenewMSGraphTokenNow=function(e){return!!e.Values.ShareableGroupCRUDControl&&(sessionInfo.MSGraphTokenExpiry&&sessionInfo.MSGraphToken?Date.parse(sessionInfo.MSGraphTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0:!!sessionInfo.MSGraphToken||!!sessionInfo.MSGraphTokenExpiry)},a.$inject=["$rootScope","dataService","telemetryService","featureFlagsService","$interval","$q","navigationService","$location","principalService","userNotificationService"],a.tokenRefreshIntervalOffset=9e5,a.defaultTokenCheckInterval=3e4,n=a;function a(e,t,n,o,s,a,c,l,u,d){var p=this;this.$rootScope=e,this.dataService=t,this.telemetryService=n,this.featureFlagsService=o,this.$interval=s,this.$q=a,this.$navigationService=c,this.$location=l,this.principalService=u,this.userNotificationService=d,this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Auto),this.$rootScope.$on(i.Constants.Events.RenewTokenUponSignup,(function(){p.callApiGatewayRefreshTokenUponSignup(),sessionInfo.ServicePlanForTelemetry||p.loadServicePlans(),p.featureFlagsService.Values.DataUsageNotifications&&p.loadNotifications()}))}t.SessionManager=n,o.registerService("sessionManager",n,angular.module("jumper.services"))},"./app/services/SideBarService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.SideBarSection=n;var i=function(){};function r(e,t){this.resources=e,this.channelService=t}t.SideBarItem=i,r.prototype.getAllItems=function(){var e=[],t=new n;return t.showTitle=!1,t.items=[],t.items.push({text:this.resources.SideBar.Discover,uri:"/",cssClass:"pbi-glyph-home",entityCount:0,isEntityCountVisible:!1}),t.items.push({text:this.resources.SideBar.Studio,uri:"/studio",cssClass:"pbi-glyph-emoji",entityCount:0,isEntityCountVisible:!1}),e.push(t),(t=new n).showTitle=!0,t.text=this.resources.SideBar.Channels,t.uri="/channels",t.items=[],e.push(t),(t=new n).showTitle=!1,t.items=[],t.items.push({text:this.resources.SideBar.WatchLater,uri:"/watchlater",entityCount:5,isEntityCountVisible:!0,cssClass:"pbi-glyph-tvmonitor"}),e.push(t),e},r.prototype.getCollapsedItems=function(){var e=[];return e.push({text:this.resources.SideBar.Discover,uri:"/",cssClass:"pbi-glyph-home",entityCount:0,isEntityCountVisible:!1}),e.push({text:this.resources.SideBar.WatchLater,uri:"/watchlater",entityCount:5,isEntityCountVisible:!0,cssClass:"pbi-glyph-tvmonitor"}),e},r.$inject=["resources","channelService"],i=r,t.SideBarService=i,angular.module("jumper.services").service("sideBarService",i)},"./app/services/StartupDialogLauncher.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/ServicePlanUtils.ts"),a=n("./app/utility/UserNotificationUtils.ts"),c=n("./app/models/TelemetryEventModels.ts");l.prototype.launch=function(){var e=this;this.telemetryTracker=this.telemetryService.getTracker(this.screenName),this.$rootScope.$watch((function(){return e.dataShareService.notifications}),(function(t,n){n!==t&&_.isArray(e.dataShareService.notifications)&&!_.isEmpty(e.dataShareService.notifications)&&e.launchTrialCountdownDialog()}))},l.prototype.launchTrialCountdownDialog=function(){var e=this,t=this.$q.defer();return this.principalService.getMyPrincipalInfo().then((function(n){var i=n&&n.data?n.data:null;e.shouldDisplayTrialCountdown(i)&&(n=a.getNotificationByType(e.dataShareService.notifications,a.UserNotificationType.TrialSuspended)||a.getNotificationByType(e.dataShareService.notifications,a.UserNotificationType.TrialSuspensionWarning),e.shouldDisplayTrialCountdown(i)?(e.trialCountdownDialog.open(i,n),t.resolve(!0)):t.resolve(!1))}),(function(n){e.telemetryTracker.fail(c.FeatureName.TrialSuspensionDialog,c.SubFeatureName.PrincipalService_GetMyPrincipalInfo,n),t.resolve(!1)})),t.promise},l.prototype.shouldDisplayTrialCountdown=function(e){var t=this.dataShareService&&_.isArray(this.dataShareService.notifications)&&(!_.isNull(a.getNotificationByType(this.dataShareService.notifications,a.UserNotificationType.TrialSuspended))&&!e.settings.general.hideTrialSuspensionNotice||!_.isNull(a.getNotificationByType(this.dataShareService.notifications,a.UserNotificationType.TrialSuspensionWarning))&&!e.settings.general.hideTrialSuspensionWarning);return this.featureFlagsService.Values.EndOfTrialDialog&&this.$window.innerWidth>=r.Constants.TrialCountdownDialog.minWidth&&this.$window.innerHeight>=r.Constants.TrialCountdownDialog.minHeight&&s.ServicePlanUtils.isUserOnTrialPlan(e,!0)&&t},Object.defineProperty(l.prototype,"shouldDisplayStartupDialog",{get:function(){return this.screenName=this.navigationService.getPageName(),this.screenName!==i.ScreenName.Video&&!_.isNull(sessionInfo.UserClaim)},enumerable:!0,configurable:!0}),l.$inject=["$rootScope","$window","$q","navigationService","trialCountdownDialog","principalService","telemetryService","featureFlagsService","dataShareService"],n=l;function l(e,t,n,i,r,o,s,a,c){var l,u=this;this.$rootScope=e,this.$window=t,this.$q=n,this.navigationService=i,this.trialCountdownDialog=r,this.principalService=o,this.telemetryService=s,this.featureFlagsService=a,this.dataShareService=c,this.screenName=null,this.telemetryTracker=null,this.shouldDisplayStartupDialog?this.launch():l=this.$rootScope.$on("$locationChangeSuccess",(function(e){u.shouldDisplayStartupDialog&&(l(),u.launch())}))}t.StartupDialogLauncher=n,o.registerService("startupDialogLauncher",n,angular.module("jumper.services"))},"./app/services/TelemetryService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/appUtil.ts");(n=i=i||{})[n.Failure=0]="Failure",n[n.Success=1]="Success";var a=(c.prototype.succeed=function(e,t,n,i){(t=t||{}).resultType=o.ResultType[o.ResultType.Success],t.alertStatus=c.AlertMetric.Success,t.subFeature=i||null,this.resourceId&&(t.resourceId=this.resourceId),this.trackFeatureEvent(e,t,n)},c.prototype.trackFeatureResult=function(e,t,n,r,s){(n=n||{}).featureName=e,n.resultType=o.ResultType[t],n.alertStatus=t===o.ResultType.Success?i.Success:i.Failure,n.subFeature=o.SubFeatureName[s],this.resourceId&&(n.resourceId=this.resourceId),this.resourceType&&(n.resourceType=o.ResourceType[this.resourceType]),this.extractErrorProperties(r,n),this.trackFeatureEvent(e,n,null)},c.prototype.fail=function(e,t,n,i,r,s){void 0===s&&(s=!1),this.trackFeatureUnsuccessfulEvent(o.ResultType.Failure,e,t,n,this.resourceType,this.resourceId,i,r,s)},c.prototype.warn=function(e,t,n,i,r,s){void 0===s&&(s=!1),this.trackFeatureUnsuccessfulEvent(o.ResultType.Warning,e,t,n,this.resourceType,this.resourceId,i,r,s)},c.prototype.setResourceId=function(e){this.resourceId=e},c.prototype.trackFeatureEvent=function(e,t,n){e="string"==typeof e?e:o.FeatureName[e],t=this.addScreenNameToProperties(t),t=this.addMetricsToProperties(t,n),this.loggingService.trackEvent(e,t)},c.prototype.trackEvent=function(e,t,n){t=this.addScreenNameToProperties(t),t=this.addMetricsToProperties(t,n),this.loggingService.trackEvent(e,t)},c.prototype.tagScreen=function(e){(e=o.ScreenName[e]?e:this.screenName)!==o.ScreenName.Auto&&(_.isNumber(e)||_.isNumber(parseInt(e,10))&&isFinite(e)?this.loggingService.tagScreen(o.ScreenName[e]):e?this.loggingService.tagScreen(e):(this.loggingService.tagScreen("undefined"),this.trackEvent(o.TelemetryEventNames.localyticsError,{screenNameUsed:"undefined"}))),isFinite(e)&&!_.isNumber(e)&&this.trackEvent(o.TelemetryEventNames.localyticsError,{screenNameUsed:e})},c.prototype.trackTrace=function(e,t){this.loggingService.trackTrace(e,t)},c.prototype.trackFeatureFailure=function(e,t,n,i){t=t||{},i&&(t.errorCode=i),t.resultType=o.ResultType[o.ResultType.Failure],t.alertStatus=c.AlertMetric.Error,this.trackFeatureEvent(e,t,n)},c.prototype.trackFeatureWarning=function(e,t,n){(t=t||{}).resultType=o.ResultType[o.ResultType.Warning],t.alertStatus=c.AlertMetric.Warning,this.trackFeatureEvent(e,t,n)},c.prototype.trackFeatureUnsuccessfulEvent=function(e,t,n,i,s,a,c,l,u){(c=c||{}).featureName=o.FeatureName[t],c.subFeature=o.SubFeatureName[n],s&&(c.resourceType=o.ResourceType[s]),a&&(c.resourceId=a),this.extractErrorProperties(i,c),u||(401!==c.status&&403!==c.status&&404!==c.status||(e=o.ResultType.Warning),-1===c.status&&(e=o.ResultType.Warning,window.navigator.onLine||(c.reason=r.Constants.NoNetworkErrorString+" "+(c.reason||"")))),e===o.ResultType.Warning?this.trackFeatureWarning(t,c,l):this.trackFeatureFailure(t,c,l,null)},c.prototype.extractErrorProperties=function(e,t){t=t||{},e&&("string"==typeof e?t.reason=e:(t.status=e.status,e.data&&e.data.error?t.reason=JSON.stringify(e.data.error):e.message?t.reason=e.message:t.reason=e.status,e.config&&e.config.headers&&(t.clientRequestId=e.config.headers["x-ms-client-request-id"],t.correlationId=e.config.headers["x-ms-correlation-request-id"])))},c.prototype.addScreenNameToProperties=function(e){var t=this.screenName||this.navigationService.getPageName();return(e=e||{}).screen=o.ScreenName[t],e},c.prototype.addMetricsToProperties=function(e,t){var n={};return e&&Object.keys(e).forEach((function(t){n[t]=e[t]})),this.resourceId&&(n.resourceId=this.resourceId),this.resourceType&&(n.resourceType=o.ResourceType[this.resourceType]),t&&Object.keys(t).forEach((function(e){n[e]=t[e]})),n},c.prototype.getFeatureMetricString=function(e){return("string"==typeof e?e:o.FeatureName[e])+c.AlertMetric.NameSuffix},c.prototype.getFeatureResultString=function(e){return o.FeatureName[e]+c.HealthSuffix},c.AlertMetric={NameSuffix:"Metric",Success:1,Error:2,Warning:1},c.HealthSuffix="Health",c);function c(e,t,n,i,r){this.loggingService=e,this.navigationService=t,this.screenName=n,this.resourceType=i,this.resourceId=r}function l(e,t){this.loggingService=e,this.navigationService=t}t.TelemetryTracker=a,l.prototype.getTracker=function(e,t,n){return new a(this.loggingService,this.navigationService,e,t,n)},l.prototype.isUserFeedbackSupported=function(){return!!(sessionInfo.DataLocation&&portalConfiguration&&portalConfiguration.UserFeedbackSupportedDataLocations)&&-1!==portalConfiguration.UserFeedbackSupportedDataLocations.indexOf(sessionInfo.DataLocation.toLowerCase())},l.$inject=["loggingService","navigationService"],n=l,t.TelemetryService=n,s.registerService("telemetryService",n,angular.module("jumper.services"))},"./app/services/VideoBgUploaderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./common/services/AzureBlobUploaderService/AzureBlobUploader.ts"),o=n("./app/components/Upload/UploadDetail/UploadDetailController.ts"),s=n("./app/utility/Constants.ts"),a=n("./app/models/TelemetryEventModels.ts"),c=n("./app/utility/string.ts");function l(e,n,i,r,c,l,u,d){var p=this;this.$q=n,this.mediaUploaderFactory=i,this.telemetryService=r,this.featureFlagsService=c,this.navigationService=l,this.resources=u,this.$window=d,this.mediaUploadList=[],this.uploadSummaryProperties=angular.copy(o.uploadSummaryProperties),this.$window.addEventListener("beforeunload",(function(e){if(_.some(p.mediaUploadList,(function(e){return e.status===t.UploadStatus.uploading}))){var n=p.resources.Upload.BgUploadNotice.Message;return(e||window.event).returnValue=n}})),e.$on(s.Constants.Events.videoDeleted,(function(e,t){p.removeBgUploadItem(t.id)})),e.$on(s.Constants.Events.videoPublished,(function(e,t){p.removeBgUploadItem(t.id)})),this.featureTelemetryTracker=this.telemetryService.getTracker(a.ScreenName.Auto)}(n=i=t.UploadNotificationType||(t.UploadNotificationType={}))[n.UploadStarted=0]="UploadStarted",n[n.UploadProgress=1]="UploadProgress",t.UploadStatus={notStarted:"notStarted",uploading:"uploading",completed:"completed",failed:"failed"},l.prototype.startBgUpload=function(e,n,i,r,o,a,l,u){void 0===i&&(i=9999),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===l&&(l=!1);var d=this.$q.defer(),p=this.mediaUploaderFactory(c.formatString(s.Constants.ResourceIdStrings.Video,e));l={resourceId:e,fileName:n.name,uploadProgress:0,status:t.UploadStatus.notStarted,mediaUploaderService:p,uploadingFile:n,deferred:d,uploadPriority:i,isInAdminMode:r,isReplacing:o,isLiveEvent:a,isRetriedUpload:l};return this.mediaUploadList.push(l),u&&(this.uploadSummaryProperties=u),this.pickupFirstNotUploadingFromQueue(),d.promise},l.prototype.cancelBgUpload=function(e){var t=_.remove(this.mediaUploadList,(function(t){return t.resourceId===e}));t&&1===t.length&&t[0].mediaUploaderService&&(t[0].mediaUploaderService.cancelUpload(),t[0].mediaUploaderService.dispose(),t[0].mediaUploaderService=null,this.sendFeatureEvent(a.SubFeatureName.MediaUploaderService_CancelUpload,"user Canceled the video upload",e,!0))},l.prototype.removeBgUploadItem=function(e){var t=_.remove(this.mediaUploadList,(function(t){return t.resourceId===e}));t&&1===t.length&&t[0].mediaUploaderService&&(t[0].mediaUploaderService.dispose(),t[0].mediaUploaderService=null)},l.prototype.pickupFirstNotUploadingFromQueue=function(){var e=this.featureFlagsService.Values.MaxSimultaneousUploads||s.Constants.MaxSimultaneousUploads;_.filter(this.mediaUploadList,(function(e){return e.status===t.UploadStatus.uploading})).length<e&&(e=_.find(_.sortBy(this.mediaUploadList,(function(e){return e.uploadPriority})),(function(e){return e.status===t.UploadStatus.notStarted})))&&(e.status=t.UploadStatus.uploading,this.startQueuedBgUpload(e))},l.prototype.startQueuedBgUpload=function(e){var n=this;this.startTime=Date.now(),setTimeout((function(){e.deferred.notify({type:i.UploadStarted,progress:0})}),0),e.mediaUploaderService.startUpload([{name:e.uploadingFile.name,type:s.Constants.VideoFileType.video}],e.isInAdminMode).then((function(o){e.mediaUploaderService.uploadFiles(null,[{sasUrl:o.data.files[0].uploadUrl,file:e.uploadingFile}],e.isInAdminMode).then((function(){e.uploadProgress=100,e.status=t.UploadStatus.completed,n.uploadTime=Date.now()-n.startTime,n.featureTelemetryTracker.succeed(a.FeatureName.UploadVideo,n.uploadSummaryProperties,{uploadTime:n.uploadTime,fileSize:e.uploadingFile.size}),e.deferred.resolve()}),(function(i){e.status=t.UploadStatus.failed;var o=a.SubFeatureName.MediaUploaderService_Upload;i.api===s.Constants.VideoActions.CompleteUpload&&(o=a.SubFeatureName.VideoService_CompleteUpload),i&&i.reason===r.uploadCanceledbyUserError||n.sendFeatureEvent(o,i,e.resourceId),e.deferred.reject(i)}),(function(t){e.uploadProgress=Number(t),e.deferred.notify({type:i.UploadProgress,progress:e.uploadProgress})}))}),(function(i){n.sendFeatureEvent(a.SubFeatureName.VideoService_StartUpload,i,e.resourceId),i.api=s.Constants.VideoActions.StartUpload,e.status=t.UploadStatus.failed,e.deferred.reject(i)})),e.deferred.promise.finally((function(){e.mediaUploaderService.dispose(),e.mediaUploaderService=null,n.pickupFirstNotUploadingFromQueue()}))},l.prototype.sendFeatureEvent=function(e,t,n,i){void 0===i&&(i=!1),this.featureTelemetryTracker.setResourceId(n),i?this.featureTelemetryTracker.warn(a.FeatureName.UploadVideo,e,t,this.uploadSummaryProperties):this.featureTelemetryTracker.fail(a.FeatureName.UploadVideo,e,t,this.uploadSummaryProperties)},l.$inject=["$rootScope","$q","mediaUploaderFactory","telemetryService","featureFlagsService","navigationService","resources","$window"],n=l,t.VideoBgUploaderService=n,angular.module("jumper.services").service("videoBgUploaderService",n)},"./app/services/VideoEditorTelemetryService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");o.prototype.getTelemetryData=function(){var e=window.portalConfiguration,t=window.sessionInfo;if(e&&t){var n=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord?e.ECSConfiguration.telemetryRecord:{};return{ingestionKey:e.VideoEditorConfiguration&&e.VideoEditorConfiguration.AriaConfiguration?e.VideoEditorConfiguration.AriaConfiguration.IngestionKey:"",overrideLoggingEndpointUrl:e.VideoEditorConfiguration&&e.VideoEditorConfiguration.AriaConfiguration?e.VideoEditorConfiguration.AriaConfiguration.OverrideEndpointUrl:"",clientContext:{clientSessionId:t.ClientSessionId,frontEndCluster:e.ClusterName,backEndCluster:t.ServiceRegion,isTestEnvironment:e.IsDevelopmentMode,hostId:r.Constants.ProductName},userContext:{userId:t.UserClaim.UserInfo.UniqueId,tenantId:t.UserClaim.TenantId,userSessionId:t.SessionId,servicePlan:t.ServicePlanForTelemetry},expContext:n}}},n=o;function o(){}t.VideoEditorTelemetryService=n,i.registerService("videoEditorTelemetryService",n,angular.module("jumper.services"))},"./app/services/VideoRecorderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/components/Upload/UploadDetail/UploadDetailController.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=(c.prototype.initialize=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data;var n=e.videoService.create.bind(e.videoService),i={name:"Screen Recording from "+moment().format("YYYY-MM-DD [at] HH:mm:ss"),privacyMode:o.Constants.privacyMode.organization},r={},a=e.me.settings.system.locale.language||"en";i.language=a,e.videoService.getSupportedAutoTranscriptLanguages().then((function(e){-1<e.data.languages.indexOf(a)&&(r.autoGeneratedCaption=!0)})).finally((function(){_.isEmpty(r)||(i.options=r),n(i).then((function(t){e.video=t.data,e.mediaUploaderFactory(s.formatString(o.Constants.ResourceIdStrings.Video,e.video.id)).startUpload([{name:i.name+".mp4",type:o.Constants.VideoFileType.video}]).then((function(n){n="msstream://recordVideo?uploadURL="+encodeURIComponent(n.data.files[0].uploadUrl)+"&callback="+encodeURIComponent(e.$location.protocol()+"://"+e.$location.host()+"/videoupdate/"+t.data.id)+"?filename="+encodeURIComponent(i.name+".mp4")+"&src=recorder",e.customProtocolDetectionService.checkStatus(n).then(e.handleDetectProtocolResponse.bind(e))}),(function(t){e.sendUploadVideoStatusTelemetryUpdates(!0,t)}))})).catch((function(t){e.sendUploadVideoStatusTelemetryUpdates(!0,t)}))}))}))},c.prototype.handleDetectProtocolResponse=function(e){e?this.protocolDetected():this.protocolNotDetected()},c.prototype.protocolDetected=function(){this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.recordVideo,{installed:!0})},c.prototype.protocolNotDetected=function(){this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.recordVideo,{installed:!1}),this.recordVideoDialog.open()},c.prototype.checkURLForVideoUploadSource=function(){var e=this.navigationService.getQueryParams();return!!e[o.Constants.QueryStringKeys.src]&&!!e[o.Constants.QueryStringKeys.fileName]&&!!e[o.Constants.QueryStringKeys.uploadStatus]},c.prototype.getUploadStatus=function(){var e,t=this.navigationService.getQueryParams();return t[o.Constants.QueryStringKeys.uploadStatus]===o.Constants.RecorderVideoUploadStatus.Fail?e=o.Constants.RecorderVideoUploadStatus.Fail:t[o.Constants.QueryStringKeys.uploadStatus]===o.Constants.RecorderVideoUploadStatus.Success&&(e=o.Constants.RecorderVideoUploadStatus.Success),e},c.prototype.completeUploadProcess=function(e,t,n){void 0===n&&(n=!1),s.formatString(o.Constants.ResourceIdStrings.Video,e);var i=[];return i.push(t),this.mediaUploaderFactory(s.formatString(o.Constants.ResourceIdStrings.Video,e)).completeUpload(i,n)},c.prototype.navigateToStudioPage=function(){this.navigationService.navigate(o.Constants.Routes.Studio)},c.prototype.updateUploadedVideo=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.navigationService.getQueryParams();return this.completeUploadProcess(e,i[o.Constants.QueryStringKeys.fileName],t).then((function(e){n.sendUploadVideoStatusTelemetryUpdates(!1)}),(function(e){n.sendUploadVideoStatusTelemetryUpdates(!0,e)}))},c.prototype.deleteUploadedVideo=function(e,t){var i=this;void 0===t&&(t=!1);var r={template:n("./app/Controls/Dialogs/RecordVideoFailedDialog/RecordVideoFailedDialog.html"),controller:"RecordVideoFailedDialogController",plain:!0,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",ariaRole:"dialog"};return this.ngDialog.open(r).closePromise.then((function(e){i.navigateToStudioPage()})),this.videoService.delete(e,t).then((function(){i.sendUploadVideoStatusTelemetryUpdates(!0)}))},c.prototype.sendUploadVideoStatusTelemetryUpdates=function(e,t){void 0===e&&(e=!1),void 0===t&&(t={}),(this.navigationService.getQueryParams()[o.Constants.QueryStringKeys.src].toLowerCase()||o.Constants.videoUploadSource.recorder)===o.Constants.videoUploadSource.recorder&&(this.uploadSummaryProperties.source=o.Constants.videoUploadSource.recorder,this.uploadSummaryProperties.error=e,this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.uploadSummaryEventName,this.uploadSummaryProperties),e?this.featureTelemetryTracker.fail(r.FeatureName.UploadVideo,r.SubFeatureName.VideoService_CompleteUpload,t,this.uploadSummaryProperties):this.featureTelemetryTracker.succeed(r.FeatureName.UploadVideo,this.uploadSummaryProperties))},c.$inject=["videoService","navigationService","mediaUploaderFactory","recordVideoDialog","customProtocolDetectionService","$location","ngDialog","principalService","telemetryService"],c);function c(e,t,n,r,o,s,a,c,l){this.videoService=e,this.navigationService=t,this.mediaUploaderFactory=n,this.recordVideoDialog=r,this.customProtocolDetectionService=o,this.$location=s,this.ngDialog=a,this.principalService=c,this.telemetryService=l,this.uploadSummaryProperties=angular.copy(i.uploadSummaryProperties),this.featureTelemetryTracker=this.telemetryService.getTracker()}t.VideoRecorderService=a,angular.module("jumper.services").service("videoRecorderService",a)},"./app/services/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/services/resources.ts"),i(n("./app/services/SideBarService.ts")),i(n("./app/services/TelemetryService.ts")),i(n("./app/services/LoggingService.ts")),i(n("./app/services/MediaUploaderService.ts")),i(n("./app/services/VideoBgUploaderService.ts")),i(n("./app/services/ConfirmationDialogService.ts")),i(n("./app/services/Data/index.ts")),i(n("./app/services/DeleteConfirmationDialogService.ts")),i(n("./app/services/DataPollingService.ts")),i(n("./app/services/NavigationService.ts")),i(n("./app/services/DataShareService.ts")),i(n("./app/services/SessionManager.ts")),i(n("./app/services/SessionExpiredManager.ts")),i(n("./app/services/FeatureFlagsService.ts")),i(n("./app/services/NotificationService.ts")),i(n("./app/services/StartupDialogLauncher.ts")),i(n("./app/services/MediaDownloaderService.ts")),i(n("./app/services/ElementRefocusService.ts")),i(n("./app/services/MdsLoggerService.ts")),i(n("./app/services/InAdminModeService.ts")),i(n("./app/services/ClearQueryParamsService.ts")),i(n("./app/services/SdnUtilService.ts")),i(n("./app/services/VideoRecorderService.ts")),i(n("./app/services/CustomProtocolDetectionService.ts")),i(n("./app/services/VideoEditorTelemetryService.ts")),i(n("./app/services/RestoreConfirmationDialogService.ts")),i(n("./app/services/ReplaceVideoService.ts")),n("./app/services/HttpTelemetryInterceptor.ts")},"./app/services/resources.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),angular.module("jumper.services").factory("resources",(function(){return window.Resources}))},"./app/utility/ActivityIds.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/models/TelemetryEventModels.ts");o.init=function(){o.baseGuids[r.ScreenName.Hub]="aaaaaaaa",o.baseGuids[r.ScreenName.Upload]="bbbbbbbb",o.baseGuids[r.ScreenName.Video]="cccccccc",o.baseGuids[r.ScreenName.BrowseVideos]="dddddddd",o.baseGuids[r.ScreenName.BrowseChannels]="eeeeeeee",o.baseGuids[r.ScreenName.VideoUpdate]="ffffffff",o.baseGuids[r.ScreenName.MyVideos]="aaaabbbb",o.baseGuids[r.ScreenName.MyChannels]="aaaacccc",o.baseGuids[r.ScreenName.Channel]="aaaadddd",o.baseGuids[r.ScreenName.Welcome]="aaaaeeee",o.baseGuids[r.ScreenName.Watchlist]="bbbbaaaa",o.baseGuids[r.ScreenName.UserVideos]="bbbbcccc",o.baseGuids[r.ScreenName.UserChannels]="bbbbbdddd",o.baseGuids[r.ScreenName.BrowsePeople]="ddddeeee",o.baseGuids[r.ScreenName.AdminSettings]="eeeefff4",o.baseGuids[r.ScreenName.AdminDownloadVideos]="eeeefff5",o.baseGuids[r.ScreenName.UserSettings]="eeeeffff",o.baseGuids[r.ScreenName.BrowseGroups]="eeeefff1",o.baseGuids[r.ScreenName.StudioGroups]="eeeefff2",o.baseGuids[r.ScreenName.ChannelsFollowing]="eeeefff3",o.baseGuids[r.ScreenName.GroupChannels]="ddddffff",o.baseGuids[r.ScreenName.LiveUpdate]="ffffaaaa",o.baseGuids[r.ScreenName.CreateLive]="ffffbbbb",o.baseGuids[r.ScreenName.EmbedProducer]="ffffcccc",o.baseGuids[r.ScreenName.EmbedWatchListPage]="bbbbaabb",o.baseGuids[r.ScreenName.EmbedChannelPage]="aaaaddee",o.baseGuids[r.ScreenName.EmbedPlayerPage]="ccccccdd",o.baseGuids[r.ScreenName.GroupPrincipals]="ccccccde",o.baseGuids[r.ScreenName.EmbedBrowsePage]="ddddaaaa",o.baseGuids[r.ScreenName.OfficeVideoMigration]="ddddbbbb"},o.initActivityId=function(e){o.initialized||(o.init(),o.initialized=!0),o.screenIds[e]=o.baseGuids[e]+"-"+i.generatePartialGuid()},o.getActivityId=function(e){return o.screenIds[e]},o.getCurrentActivityId=function(e){return e=e.getPageName(),o.initialized||o.initActivityId(e),o.getActivityId(e)},o.screenIds={},o.baseGuids={},o.initialized=!1,n=o;function o(){}t.ActivityIds=n},"./app/utility/ComponentBase.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getComponentName=function(e){return/function ([^(]*)/.exec(e.toString()+"")[1]},i.prototype.$onInit=function(){},i.prototype.$postLink=function(){this.componentLoadEndTime=performance.now(),this.componentLoadTime=this.componentLoadEndTime-this.componentLoadStartTime},i);function i(e){this.componentLoadStartTime=performance.now(),this.componentName=this.getComponentName(e),this.componentLoadEndTime=0,this.componentLoadTime=0}t.ComponentBase=n},"./app/utility/Constants.ts":function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=(r.ProductName="Microsoft Stream",r.Microsoft365Name="Microsoft 365",r.M365Name="M365",r.Office365Name="Office 365",r.O365Name="O365",r.AzureName="Azure",r.AADName="Azure Active Directory",r.EmbedAADRetry=15,r.WatchList="watchlist",r.MediaPlayerPreLoadSelector=".azuremediaplayer",r.MediaPlayerPostLoadSelector="div.azuremediaplayer",r.MediaPlayerProgressControlSelector="div.vjs-progress-control",r.MediaPlayerPlaybackSpeedControllerSelector="div.amp-playbackspeed-control-normal",r.MediaPlayerTimeControlSelector="div.vjs-time-control",r.MediaPlayerLiveControlSelector="div.vjs-live-control",r.O365GroupCRUDControlHostId="O365GroupCRUDControlHostId",r.DefaultServicePlan="MicrosoftStream",r.DefaultServicePlanId="acffdce6-c30f-4dc2-81c0-372e33c515ec",r.targetGroupName="name",r.targetGroupEmailAlias="aadGroup.mailAlias",r.preCreationVideoId="preCreationVideoId",r.noCreatorApp="noCreatorApp",r.MaxSimultaneousUploads=3,r.MaxParallelChunkUploads=8,r.MaxChunkSizeInMB=2,r.MaxSpotlightVideos=4,r.RecycleBinRetentionDurationInDays=30,r.MaxTraceMessage=32500,r.MaxWaitingRoomRetries=10,r.userDataMask="SCRUBBED-USER-DATA",r.dataMask="SCRUBBED",r.invalidUrlFormat="INVALID",r.OfficeFormsPrefix="https://forms.office.com",r.MicrosoftFormsRootUrl=(r.MicrosoftFormsPrefix="https://forms.microsoft.com")+"/Pages/ResponsePage.aspx?id=",r.MWFStyleUrl="https://assets.onestore.ms/cdnfiles/external/mwf/long/v1/v1.4.0/css/mwf-{0}-default.min.css",r.SpriteUrl="bundles/{0}/icon.sprite.svg",r.FullLocalizedResourceUrlPrefix="../{0}/bundles/{1}",r.MinifiedLocalizedResourceUrlPrefix="{0}/{1}/bundles/{2}",r.HLSFormatString="format=m3u8-aapl",r.HLSVersion4String="format=m3u8-aapl-v4",r.HLSVersion3String="format=m3u8-aapl-v3",r.IngestRTMP="rtmp",r.LiveEventEncoderSourceForTeams="teams",r.Encoders={ManuallyEncoder:{type:"Manually"},WirecastEncoder:{type:"Wirecast",displayText:"Wirecast S"},FlashEncoder:{type:"Flash",displayText:"Flash Media Live Encoder"},Wirecast:{type:"Wirecast",displayText:"Wirecast",encodingType:"software"},WirecastS:{type:"WirecastS",displayText:"Wirecast S",encodingType:"software"},MakitoX:{type:"MakitoX",displayText:"Haivision Makito X Encoder",encodingType:"hardware"},KBEncoder:{type:"KBEncoder",displayText:"Haivision KB Encoder",encodingType:"hardware"},SwitcherStudio:{type:"SwitcherStudio",displayText:"Switcher Studio",encodingType:"online"},LiveArenaBroadcastRoom:{type:"LiveArenaBroadcastRoom",displayText:"LiveArena Broadcast Room",encodingType:"online"},StreamSRT:{type:"StreamSRT",displayText:"Haivision StreamSRT",encodingType:"online"}},r.EncodingTypes={online:"online",hardware:"hardware",software:"software"},r.InfiniteScroll={DefaultDebounceTimeout:200,ScrollInvokeRange:5},r.ItemsListDefault={RowCount:5,ItemsPerRow:5},r.GroupPageExitBy={groupDeleted:"GroupDeleted",other:"other"},r.SortDirection={Ascending:"asc",Descending:"desc"},r.ChannelsSortOptions={Relevance:"relevance",Subscribers:"metrics/follows",Videos:"metrics/videos",Created:"created",Name:"name"},r.VideoSortOptionToSortDirection=((i={})[(r.VideoSortOptions={Relevance:"relevance",PublishDate:"publishedDate",UploadDate:"created",Published:"published",Trending:"metrics/trendingScore",Views:"metrics/views",Likes:"metrics/likes",PinnedDate:"userData/pinnedDate",LastViewDate:"userData/lastViewDate",Name:"name",StartDate:"liveEvent/startTime"}).Relevance]=r.SortDirection.Descending,i[r.VideoSortOptions.PublishDate]=r.SortDirection.Descending,i[r.VideoSortOptions.UploadDate]=r.SortDirection.Descending,i[r.VideoSortOptions.Published]=r.SortDirection.Descending,i[r.VideoSortOptions.Trending]=r.SortDirection.Descending,i[r.VideoSortOptions.Views]=r.SortDirection.Descending,i[r.VideoSortOptions.Likes]=r.SortDirection.Descending,i[r.VideoSortOptions.PinnedDate]=r.SortDirection.Descending,i[r.VideoSortOptions.LastViewDate]=r.SortDirection.Descending,i[r.VideoSortOptions.Name]=r.SortDirection.Ascending,i[r.VideoSortOptions.StartDate]=r.SortDirection.Descending,i),r.VideoSortQueryParams={Relevance:"relevance",Trending:"trending",PublishDate:"date",Views:"views",Likes:"likes",Name:"name"},r.ExternalProviders={Yammer:{name:"Yammer",type:"Discussion",url:"https://c64.assets-yammer.com/assets/platform_embed.js"}},r.GroupsSortOptions={Relevance:"relevance",Name:"name",CreatedDate:"created",Channels:"metrics/channels",Videos:"metrics/videos"},r.GroupsFilterOptions={HideEmptyGroups:!0,ShowEmptyGroups:!1},r.CommentSortOptions={Created:"created"},r.VideoStateOptions={All:"all",Draft:"false",Published:"true"},r.UserNotificationOptions={Created:"created"},r.UserNotificationTypes={StorageUsageOverThreshold:"storageUsageOverThreshold",StorageUsageOverLimit:"storageUsageOverLimit",TrialSuspensionWarning:"trialSuspensionWarning",TrialSuspended:"trialSuspended"},r.UserNotificationSeverities={None:"none",Warning:"warning",Critical:"critical"},r.UserNotificationSettingKeys={hideTrialSuspensionNotice:"hideTrialSuspensionNotice",hideTrialSuspensionWarning:"hideTrialSuspensionWarning"},r.UserServicePlanKeys={STREAM_O365_K:"STREAM_O365_K",STREAM_O365_E1:"STREAM_O365_E1",STREAM_O365_E3:"STREAM_O365_E3",STREAM_O365_E5:"STREAM_O365_E5",STREAM_P1:"STREAM_P1",STREAM_P2:"STREAM_P2",MicrosoftStream:"MicrosoftStream",STREAM_P2_ADDON:"STREAM_P2_ADDON",STREAM_STORAGE_500:"STREAM_STORAGE_500",STREAM_STORAGE:"STREAM_STORAGE"},r.ClientApplicationId={Teams:"7557eb47-c689-4224-abcf-aef9bd7573df",Yammer:"00000005-0000-0ff1-ce00-000000000000"},r.UserServicePlanIds={STREAM_O365_K:"3ffba0d2-38e5-4d5e-8ec0-98f2b05c09d9",STREAM_O365_E1:"743dd19e-1ce3-4c62-a3ad-49ba8f63a2f6",STREAM_O365_E3:"9e700747-8b1d-45e5-ab8d-ef187ceec156",STREAM_O365_E5:"6c6042f5-6f01-4d67-b8c1-eb99d36eed3e",STREAM_P1:"b1a78878-c813-4a90-b7e3-2181deecd9c0",STREAM_P2:"d3a458d0-f10d-48c2-9e44-86f3f684029e",MicrosoftStream:"acffdce6-c30f-4dc2-81c0-372e33c515ec",STREAM_P2_ADDON:"b4ee5659-e3f2-4553-8c69-cf98bce82580",STREAM_STORAGE_500:"32814133-1795-44b3-825f-0dfda45aa686",STREAM_STORAGE:"83bced11-77ce-4071-95bd-240133796768"},r.GroupPrivacy={Private:(r.privacyMode={organization:"organization",private:"private",custom:"custom",public:"public",organizationViewer:"organizationAsViewers",organizationContributor:"organizationAsContributors"}).private,Organization:r.privacyMode.organization,OrganizationAsViewer:r.privacyMode.organizationViewer,OrganizationAsContributor:r.privacyMode.organizationContributor},r.GroupMemberType={Owners:"owners",Contributors:"contributors",Viewers:"viewers"},r.RoleAssignmentScope={Organization:"organization",Principal:"principal"},r.VideoPrivacyOptions={All:"all",Public:r.privacyMode.public,Organization:r.privacyMode.organization,Custom:r.privacyMode.custom,OnlyMe:r.privacyMode.private,Company:r.privacyMode.organization,Limited:r.privacyMode.private},r.VideoResultsScopeOptions={All:"all",Owned:"owned"},r.ChannelFilterOptions={CanAddMediaItemsToChannel:"UserData/Permissions/CanAddMediaItemsToChannel"},r.GroupFilterMediaOptions={CanAddMediaItemsToChannel:"UserData/Permissions/canManageMediaItems"},r.Studio={RefreshVideoTimeoutInMS:5e3},r.VideoStatus={Created:"created",Uploading:"uploading",Processing:"processing",Error:"error",Completed:"completed",Live:"live"},r.RecorderVideoUploadStatus={Success:"success",Fail:"fail"},r.VideoState={creating:"creating",created:r.VideoStatus.Created,uploading:r.VideoStatus.Uploading,processing:r.VideoStatus.Processing,completed:r.VideoStatus.Completed,live:r.VideoStatus.Live,error:r.VideoStatus.Error,failedUpload:"failedUpload",failedProcessing:"failedProcessing",unSupportedType:"unSupportedType",exceededFileSize:"exceededFileSize"},r.VideoProcessingStatusType={encoding:"Encoding",caption:"Caption",faceDetection:"Face",thumbnail:"Thumbnail",uploading:"Uploading",replacing:"Replacing",trimming:"Trimming"},r.VideoEventType={face:"face",transcript:"transcript"},r.VideoContentType={generic:"generic",presentation:"presentation",meeting:"meeting",howTo:"howTo"},r.VideoContentSource={file:"file",liveStream:"liveStream",screenRecording:"screenRecording"},r.VideoFileType={video:"video",presentation:"presentation"},r.VideoIngestState={stopped:"stopped",starting:"starting",processing:"processing",unhealthy:"unhealthy",stopping:"stopping",startFailed:"startFailed",idle:"idle",completed:"completed"},r.EncoderConnectionState={connected:"connected",intermittent:"intermittent",disconnected:"disconnected"},r.EncoderConnectionHealthStateColor={green:"health-green",yellow:"health-yellow",grey:"health-grey"},r.VideoIngestProtocol={rtmp:"rtmp",rtmps:"rtmps",http:"http",https:"https"},r.VideoIngestType={primary:"primary",secondary:"secondary"},r.VideoCreatorAccessMode={shared:"Shared",exclusive:"Exclusive"},r.ExitBy={editButtonClicked:"EditButtonClicked",relatedVideosClicked:"RelatedVideosClicked",trendingVideosClicked:"TrendingVideosClicked",watchListVideoClicked:"WatchListVideoClicked",channelClicked:"ChannelClicked",groupClicked:"GroupClicked",other:"Other"},r.VideoEventTranscriptType={caption:"caption",subtitle:"subtitle"},r.VideoActions={StartUpload:"startUpload",CompleteUpload:"completeUpload",Publish:"publish",Status:"status",Like:"like",UnLike:"unlike",Viewed:"viewed",Pin:"pin",UnPin:"unpin",SupportedExtensions:"supportedExtensions",SupportedAutoTranscriptLanguages:"autoTranscriptSupportedLanguages",Share:"share",DownloadUrl:"downloadUrl",getLinks:"getLinks",setLinks:"setLinks",setVideoPermissions:"setVideoPermissions",startIngest:"start",stopIngest:"stop",startBroadcast:"startBroadcast"},r.DeletedVideoActions={Restore:"restore"},r.VideoEventActions={HidePerson:"hidePerson",UnHidePerson:"unhidePerson",MergePersons:"mergePersons"},r.ChannelActions={Follow:"follow",Unfollow:"unfollow",RemoveVideo:"removeVideo",SetVideoAsPosterImage:"setVideoAsPosterImage"},r.GroupActions={RemoveVideo:"removeVideo"},r.TenantActions={Settings:"settings",Domains:"domains",Usages:"usages"},r.OfficeVideoActions={StartMigration:"StartMigration"},r.PosterFileName={ExtraSmall:"poster_extrasmall",Small:"poster_small",Medium:"poster_medium",Large:"poster_large"},r.AnalyticsActions={GetCSVUrl:"getCSVUrl"},r.PrincipalType={User:"User",Group:"Group",StreamGroup:"StreamGroup",SecurityGroup:"SecurityGroup"},r.ResourceNames={Channel:"channel",Channels:"channels",Groups:"groups",Group:"group",Video:"video",Videos:"videos",Principals:"principals",PrincipalSettings:"settings",PrincipalPermissions:"permissions",RoleAssignments:"roleassignments",Thumbnails:"thumbnails",TextTracks:"texttracks",Tenants:"tenants",PrincipalServicePlans:"servicePlans",Files:"files",Browse:"browse",ExportData:"dataExports",DeletedVideos:"deletedVideos",DeletedVideo:"deletedVideo",AudienceAnalytics:"audienceAnalytics",AccessRequests:"accessrequests"},r.ResourceDOMIds={Channel:"channel-link-{0}",Video:"video-link-{0}"},r.StorageTypes={InputVideoStorage:"inputVideoStorage",RecycleBinStorage:"recycleBinStorage"},r.ResourceIdStrings={Video:"videos/{0}",Thumbnail:"{0}/{1}/thumbnails/{2}",TextTrack:"videos/{0}/texttracks/{1}"},r.TrialCountdownDialog={minWidth:900,minHeight:300},r.TextTrackType={Caption:"caption",Subtitle:"subtitle"},r.ProfileImageUrl="{0}:444/api/tenants/{1}/users/{2}/profileImage",r.TenantProvisioningUrl="api/tenants/{0}/?api-version={1}",r.TenantProvisioningUrlWithParam="api/tenants/{0}/?api-version={1}&{2}",r.OfficeGroupManagementUrl="https://outlook.office365.com/owa/?path=/group/{0}/people",r.launchWirecastUrl="wirecasts://configureuniqueoutput?url={0}&stream_key=abc",r.wirecastsDownloadURL="https://go.microsoft.com/fwlink/?linkid=2004487",r.streamTrialServicePlanName="stream",r.PosterSizeStrings={ExtraSmall:"extraSmall",Small:"small",Medium:"medium",Large:"large"},r.PosterSize={ExtraSmall:{width:80,height:44},Small:{width:160,height:90},Medium:{width:320,height:180},Large:{width:640,height:360}},r.DataQueryParams={Filter:"$filter",OrderBy:"$orderby",Skip:"$skip",Top:"$top",Select:"$select",Expand:"$expand",AdminMode:"adminmode",ApiVersion:"apiVersion",Id:"id",IsInAdminMode:"isInAdminMode",Search:"$search"},r.QueryConfigDefaults={DefaultSkip:0,DefaultTop:8,DefaultFaceTop:3,MaxTop:100},r.HttpRetry={MaxAttemptsCount:3,BaseWaitTimeInMs:200,TenantPatchWaitTimeInMs:5e3,TenantPatchMaxWaitTimeInMs:18e4,OfficePollWaitTime:5e3,MaxAttemptsForKeyAcquire:3,KeyAcquireWaitTimeInMS:500},r.Polling={MaxExponential:4,BaseWaitTimeInMs:1e3},r.DropdownList={InputTimeInterval:500},r.ScrollBar={ScrollTimeInterval:300},r.DefaultQueryCounts={top:15,one:1},r.ChannelsFollowing={top:50},r.PrincipalsList={top:50},r.VideoUpdatePageConstants={maxTitleToDisplay:100},r.UserExportData={expiryDays:30,createdState:"created",creatingState:"creating"},r.AssetPaths={Videos:"/videos",Video:"/videos/:id",VideoEdit:"/videos/:id/postprocess",VideoIngest:"/videos/:id/ingest",VideoLiveEvent:"/videos/:id/liveEvent",VideoTokens:"/videos/:id/tokens",Principals:"/principals",Principal:"/principals/:id",PrincipalSettings:"/principals/:id/settings",PrincipalExportData:"/principals/:id/exportData",ChannelVideos:"/channels/:id/videos",Channels:"/channels",Channel:"/channels/:id",Groups:"/groups",GroupClassifications:"/groups/classifications",Group:"/groups/:id",VideoRoleAssignments:"videos/:id/roleAssignments?$top=:top&$expand=Principal",ChannelRoleAssignments:"channels/:id/roleAssignments?$top=:top&$expand=Principal",Tenant:"/tenants/:id",RoleAssignments:"/roleassignments",VideoEvent:"/videos/:id/events/:eventId",VideoEventViewed:"/videos/:id/events/:eventId/viewed",VideoEvents:"/videos/:id/events",GroupVideos:"/groups/:id/videos",GroupChannels:"/groups/:id/channels",Persons:"/videos/:id/persons",TenantSpotlights:"/tenantSpotlights",GroupSpotlights:"/groups/:id/spotlights",Notifications:"/notifications",Notification:"/notifications/:id",DeletedVideos:"/deletedvideos",DeletedVideo:"/deletedvideos/:id",AccessRequest:"/accessrequests/:id"},r.OfficeVideoPaths={TenantProperties:"/migration/TenantProperties(':id')",MigrationNotices:"/migration/MigrationNotices"},r.lists={Studio:"studio",Trending:"trending",WatchList:"watchlist",RecentlyViewed:"recentlyviewed",User:"user"},r.Routes={Video:"/video/{0}",VideoUpdate:"/videoupdate/{0}",Studio:"/studio",StudioChannels:"/studio/channels",StudioVideos:"/studio/videos",StudioGroups:"/mygroups",StudioRecycleBin:"/studio/recyclebin",User:"/user/{0}",Upload:"/upload",Browse:"/browse",Channel:"/channel/{0}",Watchlist:"/studio/watchlist",RecentlyViewed:"/studio/recentlyviewed",FollowingChannels:"/studio/followingchannels",Meetings:"/studio/meetings",Error:"/fallback",AdminSettings:"/admin",UserSettings:"/usersettings",ResetCompanyPolicy:"/resetCompanyPolicy",Group:"/group/{0}",Welcome:"/welcome",Update:"/update/{0}",Create:"/create",AccessRequestDeny:"/accessrequest/{0}/deny",AccessRequestApprove:"/accessrequest/{0}/approve"},r.RoutingCase={Normal:"Normal",Uploading:"Uploading",NotReady:"NotReady",NotFound:"NotFound",Forbidden:"Forbidden",VideoError:"Error",ServerError:"ServerError"},r.HttpResponseCodes={ClientNetworkError:-1,Ok:200,Accepted:220,Unauthorized:401,Forbidden:403,NotFound:404,TooManyRequests:429,InternalServerError:500,Unavailable:503},r.HttpStatusCode={ClientNetworkError:"-1",Unauthorized:"401",Forbidden:"403",NotFound:"404",OperationNotAllowed:"405",Conflict:"409",Accepted:"202",OK:"200",BadRequest:"400",PreConditionFailed:"412"},r.CacheKey={ViewerRoleIdKey:"ViewerRoleId",ContributorRoleIdKey:"ContributorRoleId",OwnerRoleIdKey:"OwnerRoleId",StreamAdminRoleIdKey:"StreamAdminRoleId",MediaCreatorRoleIdKey:"MediaCreatorRoleIdKey",ElevatedVideoIdKey:"ElevatedVideoId",ServicePlanKey:"ServicePlanKey",DefaultGroupIdKey:"DefaultGroupIdKey",GroupCreatorRoleIdKey:"GroupCreatorRoleIdKey",LiveEventCreatorIdKey:"LiveEventCreatorIdKey",OfficeVideoMigrationPreviewerIdKey:"OfficeVideoMigrationPreviewerIdKey"},r.CacheId={RoleCache:"roleCache",SignalCache:"signalCache"},r.CacheCapacity={RoleCache:8,SignalCache:100},r.RoleNames={Viewer:"Viewer",Contributor:"Contributor",StreamAdmin:"StreamAdministrator",Owner:"Owner",MediaCreator:"MediaCreator",Member:"Member",GroupCreator:"GroupCreator",LiveEventCreator:"LiveEventCreator",OfficeVideoMigrationPreviewer:"OfficeVideoMigrationPreviewer"},r.HubPage={videosFetchCount:6,source:"homepage"},r.AutoSaveTimeout=3e3,r.VideoStatusNotificationTimeout=3e4,r.VideoStaleDataTimeLimitInSec=30,r.NotificationServiceReconnectTimeout=3e4,r.NotificationFailureMaxRetries=5,r.UploadingStateThreshold=36e5,r.WarningMessageTimeout=3e3,r.showAnimationPeriod=400,r.controllerRedirectionTime=300,r.DebounceDelay=500,r.ServicePlanRetryInterval=1e3,r.LogCacheFirstFlushDelay=3e3,r.EmbedLoadingDelay=15e3,r.SignInIncompleteDelay=15e3,r.ChannelOdataString="channels@odata.bind",r.liveStartingSoonThreshold=15,r.livePreparingLiveSlowThreshold=45,r.livePreparingLiveVerySlowThreshold=120,r.AttendeeStatusTimeoutStartInSec=30,r.AttendeeStatusTimeoutEndInSec=60,r.verifySdnTimeOut=92e3,r.VideoAnalyticsDataPollInterval=12e4,r.LiveEncoderLearnMoreLink="https://go.microsoft.com/fwlink/?linkid=2004436",r.LoadingHeartbeatInterval=1e4,r.PlayerSetSourceLoadTimeout=2e4,r.CookieBlockedTimeout=5e3,r.TopbarComponentRenderDelayInMs=10,r.PlayerConstants={MaxRetryCount:1,RetryResetTimerInSec:15},r.CacheExpiryTimeouts={Principal:6e5,TenantSettings:6e5,SupportedVideoFormats:36e6,MigrationNotices:6e5,SupportedAutoTranscriptLanguages:36e6},r.DataQueryDefaultFilter="published and (state eq 'Completed' or contentSource eq 'livestream')",r.VideosBesidesEndedNonRecordedLiveFilter="published and ((state eq 'Completed' and contentSource ne 'livestream') or (contentSource eq 'livestream' and not (state eq 'Completed' and not liveEvent/LiveEventOptions/OnDemandOptions/EnablePlayback)))",r.LiveEventsDefaultFilter="state eq 'live'",r.LiveEventsCreatedFilter="state eq 'created' and contentSource eq 'liveStream'",r.VideosInChannelQueryFilter="published and (state eq 'completed' or contentSource eq 'livestream')",r.TelemetryEvents={HttpRequestSuccess:"HttpRequestSuccess",HttpResponseSuccess:"HttpResponseSuccess",HttpResponseError:"HttpResponseError",HttpResponseWarning:"HttpResponseWarning"},r.Events={SessionExpired:"SessionExpired",RenewTokenTriedAndFailed:"RenewTokenTriedAndFailed",videoDeleted:"videoDeleted",videoEditorLoaded:"VideoEditorLoaded",videoEditorClosed:"VideoEditorClosed",videoPublished:"videoPublished",UploadProgress:"uploadProgress",SaveVideoImmediately:"saveVideoImmediately",MakeVideoPrivate:"makeVideoPrivate",ChangeVideoPublicAnonymous:"changeVideoPublicAnonymous",SavePoster:"savePoster",EmbedLoginClicked:"embedLoginClicked",TokenRenewedWithApiGateway:"tokenRenewedWithApiGateway",NotificationDisconnected:"notificationServiceDisconnected",Notification_VideoStatus:"videoStatusUpdateNotificaiton",Notification_PrincipalSettings:"principalSettingsUpdateNotification",Notification_PrincipalPermissions:"principalPermissionsUpdateNotification",Notification_TenantSettings:"tenantSetttingsUpdateNotification",Notification_Principal:"principalUpdateNotification",Notification_IngestStateChange:"videoIngestStateUpdateNotificaion",Notification_VideoStateChange:"videoStateUpdateNotificaion",Notification_ConcurrentViewers:"concurrentViewersNotification",Notification_LiveAutoShutdown:"liveAutoShutdownNotification",Notification_JoinVideoGroupFailed:"notificationServiceJoinVideoGroupFailed",SaveTextTracks:"saveTextTracks",TranscriptEditingDisabled:"TranscriptEditingDisabled",TimeStampTagClicked:"timeStampTagClicked",RenewTokenUponSignup:"renewTokenUponSignup",ChannelIdReady:"ChannelIdReady",PlayerStarted:"PlayerStarted",ServicePlanReady:"ServicePlanReady",AdminPrivilegeRevoked:"AdminPrivilegeRevoked",PausePlayer:"PausePlayer",ResumePlayer:"ResumePlayer",UserNotificationsReady:"UserNotificationsReady",EmbeddedLiveEventCaptionNumber:"EmbeddedLiveEventCaptionNumber",GroupInAdminMode:"GroupInAdminMode",ReplaceVideo:"ReplaceVideo",RenewFormsToken:"RenewFormsToken"},r.EventData={DisableAutoGeneratedCaption:"DisableAutoGeneratedCaption"},r.metricsPrefixes={SortBy:"sortBy",StateFilterBy:"stateFilterBy",PrivacyFilterBy:"privacyFilterBy",VideoScopeFilterBy:"videoScopeFilterBy"},r.LargeTile="largeTile",r.SmallTile="smallTile",r.EmbedPreviewSizes={extraLarge:{width:1600,height:900,displayValue:"1600 x 900"},large:{width:1280,height:720,displayValue:"1280 x 720"},mediumLarge:{width:960,height:540,displayValue:"960 x 540"},medium:{width:853,height:480,displayValue:"853 x 480"},small:{width:640,height:360,displayValue:"640 x 360"},extraSmall:{width:560,height:315,displayValue:"560 x 315"}},r.EmailRegExp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r.MailAliasRegEx=/^[\w!#$%&'*+\-\/=?^`{|}~]+([.][\w!#$%&'*+\-\/=?^`{|}~]+)*$/,r.LinkRegExp=/(((http|ftp|https):\/\/)|(www\.)|(http|ftp|https):\/\/www\.)[\w-]+(\.([a-z\.]{2,6}))+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/i,r.HashTagsRegExp=/(\s|<br \/>|^)#([^\s<>=!%^()+.\[\}():"]+)/gi,r.TimeStampTagsRegExp=/(^|[^&])(((\d+):)?([0-5]?[0-9]):([0-5]?[0-9]))/gi,r.PlayBackTimeInputRegExp=/^(((\d+):)?([0-5]?[0-9]):)?([0-5]?[0-9])$/gi,r.encodedNewLineRegEx=/&#10;/g,r.urlRegEx=/(((http|https):\/\/)|(www\.)|(http|https):\/\/www\.)[\w-]+(\.([a-z\.]{2,6}))+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,r.companyPolicyUrlRegEx=/(((http|https):\/\/)|(www\.)|(http|https):\/\/www\.)[\w]+[-]?(?!.*\.\.)(?!.*\-\-)(?!.*\-\.)(?!.*\.\-)([a-z_.]{2,6})+[.]+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,r.startAsUrlRegEx=/^https?:/,r.videoGuidRegEx=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,r.videoChannelGuidRegEx=/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/gi,r.allowedOriginBgAuthRegex=/^https:\/\/.*[(\.microsoftstream\.com)|(\.stream\.azure-test\.net)]$/i,r.videoIdExtractRegEx=/video\/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i,r.ExternalLinkIds={SupportedFormats:809304,Community:809295,StorageUpsell:860464},r.MaxLengths={VideoTitle:100,VideoDescription:4e3,ChannelTitle:30,ChannelDescription:2e3,SearchInput:100,PickerSearch:100,PrincipalSelect:20,PrincipleAssignmentsLimit:50,PrincipleSearchOutput:10,VideoSearchOutput:10,ChannelSearchOutput:10,AdministractorAssignmentsLimit:100,UploaderAssignmentsLimit:100,LiveEventCreatorAssignmentsLimit:100,GroupDescription:1024,GroupEmailAlias:64,LiveVideoTitle:40,CustomEndEventMessage:200,GroupSearchOutput:8},r.QueryStringKeys=n({},r.PiiFreeQueryStringKeys={AdminMode:"adminMode",AppCorrelation:"appcorrelation",HostCorrelationId:"hostcorrelationid",AppPlatform:"appplatform",AutoPlay:"autoPlay",BrowseBack:"BrowseBack",BackgroundUserSync:"backgroundUserSync",ChannelId:"channelId",ChannelMode:"mode",displayMode:"displaymode",entryPoint:"entryPoint",hasPlayed:"hasPlayed",Id:"id",IsInAdminMode:"isInAdminMode",IsInDevMode:"isInDevMode",IsInVideoTrimMode:"isInVideoTrimMode",NoSignUpCheck:"noSignUpCheck",OverrideContentType:"overrideContentType",Popular:"popular",Privacy:"privacy",referralId:"refId",referralType:"refType",ResultsScope:"results",showDescription:"showdescription",ShowHeader:"showheader",ShowScreenRecorder:"showScreenRecorder",signout:"signout",Sort:"sort",srcScreen:"srcScreen",st:"st",top:"top",TargetVideoId:"targetVideoId",uploadStatus:"uploadstatus",vid:"vid",videoId:"videoId",VideoIsPublished:"videoIsPublished",VideoPrivacy:"videoPrivacy"},{App:"app",ChannelName:"channelName",ErrorRedirectedFrom:"errorRedirectedFrom",fileName:"filename",List:"list",open:"open",referrer:"referrer",Scope:"scope",SearchTerm:"q",SearchTermLongKey:"query",Search:"search",Source:"source",State:"state",src:"src",UserId:"userId",UserName:"userName",View:"view"}),r.BrowseView={Video:"video",Channel:"channel",People:"people",Group:"group"},r.GroupView={Highlights:"highlights",Videos:"videos",Channels:"channels",Members:"membership"},r.GroupPrincipalSort={Members:"members"},r.TopBar={StretchBreakPoint:539,ShowMobileMenuBreakPoint:960},r.OfficeTopNavHeight=90,r.KeyCodes={Enter:13,Esc:27,Up:38,Down:40,Tab:9,Space:32},r.OfficeAPI={ResponseCodes:{Success:"success"}},r.UserSettings={ShowInviteOthers:"showInviteOthers",ShowGettingStarted:"showGettingStarted"},r.ApiErrorCodes={QuotaExceeded:"QuotaExceeded"},r.NoNetworkErrorString="Network Lost.",r.VideoPlayerErrorCode={ErrorCode_0000000:"0000000",ErrorCode_0100000:"0100000",ErrorCode_0200000:"0200000",ErrorCode_0200191:"0200191",ErrorCode_0200194:"0200194",ErrorCode_020019C:"020019c",ErrorCode_0200258:"0200258",ErrorCode_0200259:"0200259",ErrorCode_020025B:"020025b",ErrorCode_0300000:"0300000",ErrorCode_0400002:"0400002",ErrorCode_0400003:"0400003",ErrorCode_0400004:"0400004",ErrorCode_0400005:"0400005",ErrorCode_0500004:"0500004",ErrorCode_0500005:"0500005",ErrorCode_0600000:"0600000",ErrorCode_0600001:"0600001",ErrorCode_0600003:"0600003"},r.VideoPlayerErrorMessage={ErrorMessageKeyAcquireAuthFailFlash:"ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR",ErrorMessageKeyAcquireTimeoutFlash:"ENCRYPTIONKEY_DOWNLOAD_TIMEOUT"},r.VideoPlayerErrorMessageLink={PlaybackErrors:"https://docs.microsoft.com/stream/portal-understanding-playback-errors"},r.Plugins={ShockwaveFlash:"Shockwave Flash"},r.TelemetryTrafficSource={MainWebSite:0,Embed:2},r.ECSClientContext={Portal:"portal",Embed:"embed"},r.EmbedApps={MicrosoftTeams:["MicrosoftTeams","MsTeams","MsTeamsBot"]},r.TagClickSource={Comment:"Comment",VideoPageDescription:"VideoPageDescription",ListPageItemDescription:"ListPageItemDescription",WatchlistVideoItem:"WatchlistVideoItem",SpotlightVideoItem:"SpotlightVideoItem",LiveEventVideoItem:"LiveEventVideoItem",ChannelVideoItem:"ChannelVideoItem",BrowseVideoItem:"BrowseVideoItem",Transcript:"Transcript",FaceChart:"FaceChart",SearchEvent:"SearchEvent",ChannelCard:"ChannelCard",ChannelDetails:"ChannelDetails",GroupOverlay:"GroupOverlay",GroupItem:"GroupItem"},r.PlayerAuthOptions={Anonymous:"Anonymous",UseCredentials:"UseCredentials"},r.Themes={Prefix:"theme",TeamsDefault:"theme-teams-default",TeamsDark:"theme-teams-dark",TeamsHighContrast:"theme-teams-high-contrast"},r.LineBreakHTML="<br />",r.ScreenBreakpoints={XSmall:320,Small:540,Medium:768,Large:960},r.ChannelCard={DefaultVideosShown:3},r.ApiVersions={version2:"1.3-private"},r.DefaultSearchResultCount=20,r.UserSettingsFormats={SampleDate:"2017-09-01T00:00:00.000Z",SampleDuarion:"PT1M23S"},r.TrialExperience={BuyNowLink:"https://go.microsoft.com/fwlink/?linkid=851047",LearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=851048",DefaultActiveAccountDays:90,DefaultSuspendedAccountDays:180},r.VideoSizeLimits={trail:1073741824,other:53687091200},r.Time={ONE_DAY:864e5,SEVEN_DAYS:6048e5},r.Data={GB:Math.pow(2,30)},r.VideoAccessibilityTab={Subtitles:"Subtitles",Captions:"Captions"},r.FacesPerRow={SmallScreen:3,BigScreen:7},r.embedDisplayModes={carouselMode:"carousel",scrollMode:"scroll",buttonsMode:"buttons"},r.embedOpenQueryValues={window:"window",inline:"inline",postMessage:"postmessage"},r.PostMessages={UpdateSessionInfo:"updatesessioninfo",GetStreamToken:"getStreamToken",GetStreamTokenLower:"getstreamtoken",resultsFound:"resultsfound",noResultsFound:"noresultsfound",videoLink:"videolink",signInEvent:"signinevent",loadData:"loaddata",playerEvent:"playerevent",producerEvent:"producerevent",ServerError:"servererror",playerFunction:"playerfunction"},r.PostMessageSubEventNames={signInSuccessful:"signinsuccessful",signInFailed:"signinfailed",signInIncomplete:"signinincomplete",dataLoaded:"dataloaded",setSource:"setsource",canPlaythrough:"canplaythrough",error:"error",selectStartSetup:"selectstartsetup",selectStartSetupFailed:"selectstartsetupfailed",selectStartEvent:"selectstartevent",selectStartEventFailed:"selectstarteventfailed",selectDisconnect:"selectdisconnect",selectDisconnectFailed:"selectdisconnectfailed",selectEndEvent:"selectendevent",selectendeventFailed:"selectendeventfailed",setupStarted:"setupstarted",setupDisconnected:"setupdisconnected",eventAutoShutdown:"eventautoshutdown",eventStarted:"eventstarted",eventEnded:"eventended",heartbeat:"heartbeat",timeupdate:"timeupdate",pause:"pause",playing:"playing",ready:"ready"},r.PostMessagePlayerMethodNames={play:"play",pause:"pause"},r.VideoMimeTypes={smooth:"application/vnd.ms-sstr+xml",dash:"application/dash+xm",hls:"application/vnd.apple.mpegurl"},r.NotificationEventTypes={VideoIngestStateChange:"videoIngestStateChange",VideoStateChange:"videoStateChange",ConcurrentViewers:"concurrentViewers",SendEntityChanges:"sendEntityChanges",LiveAutoShutdown:"liveAutoShutdown"},r.VideoTokenTypes={videoUserData:"videoUserData",networkCaching:"networkCaching"},r.sdnPluginPramTypes={isSDNDebug:"isSDNDebug",disableSDN:"disableSDN"},r.videoUploadSource={browser:"browser",recorder:"recorder"},r.sdnAnalyticsReplaceStrings={videoId:"{videoId}",tenantId:"{tenantId}"},r.ServiceUpdatesLink="https://go.microsoft.com/fwlink/?linkid=2043176",r.OfficeMigrationForbiddenLearnMoreLink="https://aka.ms/O365VideoMigrationAdminPermissions",r.OfficeVideoMigrationStates={Preparation:"NotStarted",InProgress:"Processing",Completed:"Completed"},r.MigrationCompletionStates={NA:"NA",InProgress:"InProgress",Blocked:"Blocked",Ready:"Ready"},r.CustomEvents={Interactive:{Viewed:"interactive.viewed",Opened:"interactive.opened",Closed:"Interactive.closed"},AudioOnlyMessageBar:{Closed:"audioOnlyMessageBarClosed",Opened:"audioOnlyMessageBarDisplayed"}},r.AMPTechNames={Html5:"Html5",AzureHtml5JS:"AzureHtml5JS",Flash:"FlashSS"},r.BannerLinks={StorageInfo:"https://go.microsoft.com/fwlink/?linkid=2090103",TrialInfo:"https://go.microsoft.com/fwlink/?linkid=2089914",iOSApp:"https://aka.ms/streamios",AndroidApp:"https://aka.ms/streamandroid"},r.AnalyticsHeartbeatTriggerTypes={IntervalHeartbeat:"intervalHeartbeat",Error:"error",SourceSetTimeout:"sourceSetTimeout",Loading:"loading",Sourceset:"sourceset",CanPlaythrough:"canplaythrough",Ended:"ended",Unload:"unload",Destroy:"destroy"},r.ChromiumEdgeMediaInternalsEditorExtensionId="fikbjbembnmfhppjfnmfkahdhfohhjmg",r.ChromiumEdgeRendererIdAttributeName="_ms_renderer_id",r.ChromiumEdgePlayerIdAttributeName="_ms_player_id",r.AMPErrorCategoryPrefixForNetworkErrors="2",r.AMPErrorCategoryPrefixForSourcePlayerMismatchErrors="6",r.noDefaultGroups="noDefaultGroups",r.authorizedUsersHelpLink="https://docs.microsoft.com/stream/portal-permissions",r.sortBySuffixOptions={Name:"Name",CreatedDate:"DateCreated",Videos:"NumberOfVideos",Channels:"NumberOfChannels",Relevance:"Relevance",Subscribers:"NumberOfFollowers",Views:"NumberOfViews",Likes:"NumberOfLikes",Trending:"Trending",PublishDate:"DatePublished",AddedDate:"AddedDate"},r.filterBySuffixOptions={HideEmptyGroups:"HideEmptyGroups",ShowEmptyGroups:"ShowEmptyGroups",All:"All",Draft:"Draft",Published:"Published",Company:"Company",Limited:"Limited",Owned:"Owned"},r.VideoAvailability={availableToViewersWithPermission:"availableToViewersWithPermission",availableToOwners:"availableToOwners",notRecorded:"notRecorded"},r.PublicAnonymous={getRequestUrl:"/publicvideos/(videoid={0},aadtenantid={1})",patchRequestUrl:"/videos/{0}",mimeType:"application/vnd.ms-sstr+xml"},r.Migration={learnMoreAboutContentMigrationLink:null,migrationDocumentSiteLink:null,migrationVideoLink:null,learnMoreAboutEnablingMigrationLink:null,learnMoreAboutMigrationToolLink:null,moverWebAppLink:"https://app.mover.io/transfer/",learnMoreAboutMigratingOldContentLink:null,learnMoreAboutMessagebarInClassicStreamLink:null,learnMoreAboutMessagebarInNewStreamLink:null,learnMoreAboutDefaultHomeSettingsLink:null,learnMoreAboutMigrationReport:null,migrationReportDownloadLink:null,learnMoreAboutUnusedContentLink:null,unusedContentReportDownloadLink:null,learnMoreAboutOwnershipMatrixLink:null,ownershipMatrixDownloadLink:null,learnMoreAboutUserMigrationLink:null},r);function r(){}t.Constants=i},"./app/utility/DetectProtocol.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),window.MSInputMethodContext=window.MSInputMethodContext||{};var i=(r.dp=function(e,t,n){function i(){t&&t()}function r(){n&&n()}var o;window.navigator.msLaunchUri?this.openUriWithMsLaunchUri(e,t,n):(o=this.checkBrowser()).isFirefox?this.openUriUsingFirefox(e,i,r):o.isChrome?this.openUriWithTimeoutHack(e,i,r):o.isIE?this.openUriUsingIEInOlderWindows(e,i,r):console.log("Not Supported")},r.checkBrowser=function(){var e=window.navigator.userAgent,t=/Edge/i.test(e),n=/IEMobile\/([0-9.]*)/.test(e),i=!t&&/Chrome/i.test(e);return{isFirefox:/Firefox/i.test(e),isSafari:/Safari/i.test(e)&&!i&&!t&&!n,isChrome:i,isIE:!!window.document.documentMode}},r.openUriWithMsLaunchUri=function(e,t,n){window.navigator.msLaunchUri(e,n,t)},r.openUriUsingFirefox=function(e,t,n){window.document.querySelector("#hiddenIframe")||this._createHiddenIframe(window.document.body,"about:blank");try{window.frames.hiddenIframe.location.href=e,n()}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"==e.name&&t()}},r.openUriWithTimeoutHack=function(e,t,n){for(var i=setTimeout((function(){t(),o.remove()}),1e3),r=window;r!=r.parent;)r=r.parent;var o=this._registerEvent(r,"blur",(function(){clearTimeout(i),o.remove(),n()}));window.location=e},r._registerEvent=function(e,t,n){return e.addEventListener?(e.addEventListener(t,n),{remove:function(){e.removeEventListener(t,n)}}):(e.attachEvent(t,n),{remove:function(){e.detachEvent(t,n)}})},r._createHiddenIframe=function(e,t){var n=document.createElement("iframe");return n.src=t,n.id="hiddenIframe",n.name="hiddenIframe",n.style.display="none",e.appendChild(n),n},r.openUriUsingIEInOlderWindows=function(e,t,n){10===this.getInternetExplorerVersion()?this.openUriUsingIE10InWindows7(e,t,n):9===this.getInternetExplorerVersion()||11===this.getInternetExplorerVersion()?this.openUriWithHiddenFrame(e,t,n):this.openUriInNewWindowHack(e,t,n)},r.openUriWithHiddenFrame=function(e,t,n){var i=setTimeout((function(){t(),r.remove()}),1e3),r=(window.document.querySelector("#hiddenIframe")||this._createHiddenIframe(window.document.body,"about:blank"),this._registerEvent(window,"blur",(function(){clearTimeout(i),r.remove(),n()})));window.frames.hiddenIframe.location.href=e},r.openUriInNewWindowHack=function(e,t,n){var i=window.open("","","width=0,height=0");i.document.write("<iframe src='"+e+"'></iframe>"),setTimeout((function(){try{i.location.href,i.setTimeout("window.close()",1e3),n()}catch(e){i.close(),t()}}),1e3)},r.getInternetExplorerVersion=function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?(e=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(e=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))),t},r.openUriUsingIE10InWindows7=function(e,t,n){var i=setTimeout(t,1e3);window.addEventListener("blur",(function(){clearTimeout(i),n()})),window.document.querySelector("#hiddenIframe")||this._createHiddenIframe(document.body,"about:blank");try{window.frames.hiddenIframe.location.href=e}catch(e){t(),clearTimeout(i)}},r);function r(){}t.DetectProtocol=i},"./app/utility/FormatDottedUrl.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Map.ts"),r=n("./app/utility/forEach.ts");t.formatDottedUrl=function(e,t,n,i){return new o(e,t).format(n,i)};var o=(s.prototype.format=function(e,t){var n=this;e=e||{},t=t||{};var i={},o=this._getEndOfPathIndex(),s=this._dottedUrlTemplate.replace(/:(\w+?)(\W|$)/g,(function(r,s,a,c){return c<=o?r:e[s]?("string"==typeof(r=e[s])&&"@"===r[0]&&(r=n._lookupDottedPath(t||{},r)),angular.isFunction(r)&&(r=r()),(i[s]=r)+a):""+a})),a={};r.forEach(e,(function(e){i[e.key]||(a[e.key]=angular.isFunction(e.value)?e.value():e.value)})),s=s.split("://").map((function(e){return e.replace(/[\/]{2,}/g,"/")})).join("://"),s=this._encodeUri(s);var c=this._getQueryString(a);return c&&(s=s+(/\?/.test(s)?"&":"?")+c),s},s.prototype._getEndOfPathIndex=function(){var e=/((https?\:\/\/)([^\/?#]+))(?:[\/?#]|$)/gi.exec(this._dottedUrlTemplate);return!e||e.length<2?0:e[1].length-1},s.prototype._lookupDottedPath=function(e,t){try{return""+(t||"").split(".").reduce((function(e,t){return e[t]}),e)}catch(e){return""}},s.prototype._getQueryString=function(e){var t=this;return i.map(e,(function(e){var n=t._camelCaseToHypens(e.key);return t._encodeQueryStringComponent(n)+"="+t._encodeQueryStringComponent(e.value)})).join("&")},s.prototype._camelCaseToHypens=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},s.prototype._encodeUri=function(e){return encodeURI(e).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+").replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},s.prototype._encodeQueryStringComponent=function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},s);function s(e,t,n){this._dottedUrlTemplate=[e,t].join("/")}},"./app/utility/KeyCodes.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.KeyCodes||(t.KeyCodes={}))[t.Back=8]="Back",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Shift=16]="Shift",t[t.Ctrl=17]="Ctrl",t[t.Alt=18]="Alt",t[t.Break=19]="Break",t[t.CapsLock=20]="CapsLock",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t[t.Print=44]="Print",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Colon2=59]="Colon2",t[t.Equals2=61]="Equals2",t[t.Equals3=107]="Equals3",t[t.Minus2=109]="Minus2",t[t.Period=190]="Period",t[t.WindowsLeft=91]="WindowsLeft",t[t.WindowsRight=92]="WindowsRight",t[t.WindowsOpera=219]="WindowsOpera",t[t.Menu=93]="Menu",t[t.NumPad0=96]="NumPad0",t[t.NumPad1=97]="NumPad1",t[t.NumPad2=98]="NumPad2",t[t.NumPad3=99]="NumPad3",t[t.NumPad4=100]="NumPad4",t[t.NumPad5=101]="NumPad5",t[t.NumPad6=102]="NumPad6",t[t.NumPad7=103]="NumPad7",t[t.NumPad8=104]="NumPad8",t[t.NumPad9=105]="NumPad9",t[t.NumPadMultiply=106]="NumPadMultiply",t[t.NumPadPlus=107]="NumPadPlus",t[t.NumPadMinus=109]="NumPadMinus",t[t.NumPadDot=110]="NumPadDot",t[t.NumPadDivide=111]="NumPadDivide",t[t.Function1=112]="Function1",t[t.Function2=113]="Function2",t[t.Function3=114]="Function3",t[t.Function4=115]="Function4",t[t.Function5=116]="Function5",t[t.Function6=117]="Function6",t[t.Function7=118]="Function7",t[t.Function8=119]="Function8",t[t.Function9=120]="Function9",t[t.Function10=121]="Function10",t[t.Function11=122]="Function11",t[t.Function12=123]="Function12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.Colon=186]="Colon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Minus=189]="Minus",t[t.ForwardSlash=191]="ForwardSlash",t[t.Tilde=192]="Tilde",t[t.OpenBracket=219]="OpenBracket",t[t.BackSlash=220]="BackSlash",t[t.CloseBracket=221]="CloseBracket",t[t.Quote=222]="Quote"},"./app/utility/LiveEventUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/services/NavigationService.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts");function a(e){return e&&e.contentSource&&e.contentSource.toLowerCase()===i.Constants.VideoContentSource.liveStream.toLowerCase()}function c(e){return e&&e.state&&e.state.toLowerCase()===i.Constants.VideoStatus.Completed}function l(e){return e&&e.liveEvent&&e.liveEvent.liveEventOptions&&!e.liveEvent.liveEventOptions.onDemandOptions.enablePlayback&&a(e)}function u(e){return l(e)&&!e.liveEvent.liveEventOptions.onDemandOptions.enableDownload}function d(e){var t=n("moment");return t(e,t.ISO_8601).local().format("YYYYMMDDTHHmm00")}function p(e,t){return e=r.generatePathWithQueryStrings(i.Constants.Routes.Video,e,null),s.formatString("{0}://{1}/{2}",t.protocol(),t.host(),e)}t.createInvitationICSFile=function(e,t,n,i,r,s,a){var c,l,u,m,A,h=s.defer();return c=e,l=r,u=n,i=i,m=a,A=(s=s).defer(),function(e,t,n){var i=n.defer();return e&&e.posterImage&&e.posterImage.medium&&e.posterImage.medium.url?(e=e.posterImage.medium.url+"&1234",t.getThumbnailBase64Data(e).then((function(e){i.resolve(e)}),(function(e){i.reject(e)}))):i.resolve(null),i.promise}(c,i,s).then((function(e){var t,n,i=c.name,r=(c.description,c.creator),s=c.liveEvent,a="";a+="BEGIN:VCALENDAR\r\n",a+="VERSION:2.0\r\n",a+="CALSCALE:GREGORIAN\r\n",a+="PRODID:"+l.MicrosoftStream+"\r\n",a+="BEGIN:VEVENT\r\n",a+="SUMMARY:"+i+"\r\n",m.navigator.platform.match(/^Win/)?a+="X-ALT-DESC;FMTTYPE=text/html:"+function(e,t,n,i){return i=i?'<a href="'+p(e.id,t)+'" target="_blank" style="color:#00ADEF; text-decoration:none;">\n    <img src="'+i+'" width="300" style="max-width: 100%;height: auto;min-width:60px;"/>\n    </a>':"",('<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">\n    <html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" xmlns="http://www.w3.org/TR/REC-html40">\n    <HEAD><META http-equiv=Content-Type content="multipart/alternative; charset=iso-8859-1"></HEAD>\n    <BODY>\n    <table cellpadding="0" cellspacing="0" border="0" width="100%">\n    <tr style="width: 100%;height: 60px;line-height: 60px;background-color: #C30052">\n        <td>\n            <table cellpadding="0" cellspacing="0" border="0">\n                <tr>\n                    <td style="width:26px;height:26px;padding-left:40px;line-height: 12px;"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsSAAALEgHS3X78AAABD0lEQVRIx72W3XWCQBSEP/fwHjqIJdCBdBBLMB3QgViBLZgO7CBYQSwBO8AKxperBxNQ2Z/MOfvA2YW5M3d2l5kkRjAHWiLBPZhbAQ1QpCYCWAA/QA3kKYmuWANHoExNBPAOfAN7H3XOo7gPC0mVmgjgDdhOCYsLDNPLYXG+nk8NizPPjxH2y+Ow6B6VJGwUklr5ofv1rT9EkrSXlNuC3J590VjBg0QyJUWvokphqMdSlxMbI3JjWjcfsq6OGIbVUBg6SWV/wkh9sOs5chsZcACWQBfYhVPvDhvcsGUEko3dyM3YgiyQ4GAq2lSH6hn4NDfaVKf3l9m0m/JSFqvZsRQ9bXaoopeb/Qyz//qBvADFVnEJt0AhrAAAAABJRU5ErkJggg==" style="height:27px;width:27px;"></td>\n                    <td style="font-family:\'Segoe UI Light\', \'Stream Segoe UI Light\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;font-size: 24px;line-height: 12px;color: #FFFFFF; padding: 0 18px; overflow:hidden; text-decoration:none; text-overflow:ellipsis; white-space:nowrap"> \n                        '+n.LiveInvitationMSStreamLiveEvent+'\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n    <tr>\n        <td style="padding: 38px 0 0 30px">\n            <table cellpadding="0" cellspacing="0" border="0">\n                <tr>\n                    <td class="x_thumbnail" style="text-align:center" valign="top">\n                        <table cellpadding="0" cellspacing="10" border="0">\n                            '+i+'\n                        </table>\n                    </td>\n                    <td valign="middle" style="font-family: SegoeUI, \'Stream Segoe UI\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;color: #212121; padding: 0 18px">\n                        <table cellpadding="0" cellspacing="0">\n                            <tr>\n                                <td style="font-size: 28px; overflow:hidden; text-decoration:none; text-overflow:ellipsis">\n                                    '+e.name+'\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style="font-size: 18px;padding-top: 24px;">\n                                    '+o.formatISODateTimeToFullDateTimeLocaleString(e.liveEvent.startTime)+'\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style="font-size: 14px;padding-top: 12px;">\n                                    '+(e.description?e.description.replace(/(\r\n)|\r|\n/g,"<BR/>"):"")+'\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style="padding-top: 12px">\n                                    <a style="font-size: 18px;color: #C30052; text-decoration:none; white-space:nowrap" href="'+p(e.id,t)+'">'+n.LiveInvitationJoinEvent+"</a>                                \n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n    </table>\n    </BODY></HTML>").replace(/(\r\n)|\r|\n/g,"")}(c,u,l,e)+"\r\n":a+="DESCRIPTION:"+(t=c,n=u,((e=l).LiveInvitationMSStreamLiveEvent+": "+t.name+"\n"+o.formatISODateTimeToFullDateTimeLocaleString(t.liveEvent.startTime)+"\n\n"+(t.description||"")+"\n\n"+e.LiveInvitationJoinEvent+": "+p(t.id,n)).replace(/\r\n|\r|\n/g,"\\n").replace(/;/g,"\\;").replace(/:/g,"\\:")+"\r\n"),a+=r?"ORGANIZER;"+(t=r.name,n=r.mail,r="",r+="CN=",r+=t||"Organizer",(r+=n?":mailto:"+n:"")+"\r\n"):"",a+="LOCATION:Online event\r\n",a+=s&&s.startTime?"DTSTART:"+d(s.startTime)+"\r\n":"",a+=s&&s.endTime?"DTEND:"+d(s.endTime)+"\r\n":"",a+="END:VEVENT\r\n",a+="END:VCALENDAR\r\n",A.resolve(a)}),(function(e){A.reject(e)})),A.promise.then((function(e){!function(e,t){e=new Blob([e],{type:"text/calendar"}),t.saveDataAsFile(e,"invitation.ics")}(e,t),h.resolve()}),(function(e){h.reject(e)})),h.promise},t.downloadFlashPreset=function(e,t,n){t=new Blob(['<?xml version="1.0" encoding="UTF-8"?>\n<flashmedialiveencoder_profile>\n    <preset>\n    <name>Azure Media Services (720p Stream)</name>\n    <description></description>\n    </preset>\n    <capture>\n    <video>\n        <frame_rate>30.00</frame_rate>\n        <size>\n        <width>1280</width>\n        <height>720</height>\n        </size>\n    </video>\n    <audio>\n        <sample_rate>44100</sample_rate>\n        <channels>2</channels>\n        <input_volume>75</input_volume>\n    </audio>\n    </capture>\n    <process>\n    <video>\n        <preserve_aspect></preserve_aspect>\n    </video>\n    </process>\n    <encode>\n    <video>\n        <format>H.264</format>\n        <datarate>4000;2000;1000</datarate>\n        <outputsize>1280x720;854x480;640x360</outputsize>\n        <advanced>\n        <profile>Main</profile>\n        <level>4.1</level>\n        <keyframe_frequency>2 Seconds</keyframe_frequency>\n        </advanced>\n        <autoadjust>\n        <enable>false</enable>\n        <maxbuffersize>1</maxbuffersize>\n        <dropframes>\n            <enable>false</enable>\n        </dropframes>\n        <degradequality>\n            <enable>true</enable>\n            <minvideobitrate></minvideobitrate>\n            <preservepfq>false</preservepfq>\n        </degradequality>\n        </autoadjust>\n    </video>\n    <audio>\n        <format>AAC</format>\n        <datarate>96</datarate>\n    </audio>\n    </encode>\n    <output>\n    <rtmp>\n        <url><![CDATA['+e+"]]></url>\n        <backup_url><![CDATA["+t+"]]></backup_url>\n        <stream><![CDATA[mystream%i]]></stream>\n    </rtmp>\n    </output>\n    <preview>\n    <video>\n        <input>\n        <zoom>100%</zoom>\n        </input>\n        <output>\n        <zoom>100%</zoom>\n        </output>\n    </video>\n    <audio></audio>\n    </preview>\n</flashmedialiveencoder_profile>"],{type:"application/xml"}),n.saveDataAsFile(t,"preset.xml")},t.isVideoLiveContent=a,t.isCompleted=function(e,t){return e.state===i.Constants.VideoStatus.Completed||t&&t.videoState===i.Constants.VideoStatus.Completed},t.isStopping=function(e){return e&&e.ingestState===i.Constants.VideoIngestState.stopping},t.isVideoCurrentlyLive=function(e){return e&&e.state&&e.state.toLowerCase()===i.Constants.VideoStatus.Live.toLowerCase()},t.isVideoCompleted=c,t.isVodlessLiveEvent=l,t.isEndedVodlessLiveEvent=function(e){return l(e)&&c(e)},t.isNonRecordedLiveEvent=u,t.isEndedNonRecordedLiveEvent=function(e){return u(e)&&c(e)},t.getMakitoEncoderConfig=function(e,t,n){return"[BNC-1]\nInterfaceType=Auto\n\n[HD Video Encoder 0]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[HD Video Encoder 1]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[HD Video Encoder 2]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[HD Video Encoder 3]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[Audio Encoder 0]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch1+2\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=Yes\n\n[Audio Encoder 1]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch3+4\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 2]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch5+6\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 3]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch7+8\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 4]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 5]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 6]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 7]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[SNAPSHOT]\nQuality=100\nFormat=JPEG\n\n[TALKBACK]\nVolume=10\nPort=9177\n\n[LOGO_0]\nScalingPercentage=100\nScalingIsRelative=Off\nOpacity=100\nFileName=(None)\nDisplay=Off\nPositioning=Bottom-Right\nXPos=0\nYPos=0\n\n[STREAM_98]\nID=98\nName="+e+" (Primary)\nContents=3\nVideoSource=0\nAudioSource=0\nTOS=184\nMTU=1496\nTTL=64\nPort=1935\nAddress=URL:"+t+"\nEncapsulation=RTMP\nRTCPEnabled=No\nAutoStart=Yes\nShaping=No\nStillImage=(None)\nEncrypted=No\nFEC=No\nUserName=(None)\nPassword=(None)\nPublishName=StreamEventName-Primary\n\n[STREAM_99]\nID=99\nName="+e+" (Backup)\nContents=3\nVideoSource=0\nAudioSource=0\nTOS=184\nMTU=1496\nTTL=64\nPort=1935\nAddress=URL:"+n+"\nEncapsulation=RTMP\nRTCPEnabled=No\nAutoStart=Yes\nShaping=No\nStillImage=(None)\nEncrypted=No\nFEC=No\nUserName=(None)\nPassword=(None)\nPublishName=StreamEventName-Secondary\n"},t.getKBEncoderConfig=function(e,t,n){return'{\n  "version": "5.0",\n  "type": "multistream",\n  "label": "'+e+'",\n  "description": "Uses%20SDI1%20for%20audio/video%20input.%0AUses%20SDI%20channels%201%20&%202%20for%20audio%20input.",\n  "kulabytepreset": {\n    "input": {\n      "format": {\n        "videoin_enable": "1",\n        "videoin_width": "1920",\n        "videoin_height": "1080",\n        "videoin_framerate": "29.97",\n        "audioin_enable": "1",\n        "audioin_samplerate": "48000",\n        "audioin_bitspersample": "16",\n        "audioin_channels": "2"\n      },\n      "video_processing": {},\n      "audio_processing": {},\n      "source": [\n        {\n          "parameters": {\n            "videosource": "SDI",\n            "audiosource": "embedded",\n            "audio_gain": "0",\n            "start_time_base": "system",\n            "hquality_deinterlace": "true",\n            "display_name": "Baseband 1",\n            "cardindex": "0",\n            "videoformat": "auto",\n            "capture_closed_captions": "false"\n          },\n          "id": "Device_DeckLink_Baseband_2",\n          "type": "Device_DeckLink_Baseband",\n          "audiolanguages": [\n            {\n              "channels": [\n                0,\n                1\n              ],\n              "mode": "stereo",\n              "language": {\n                "id": "eng",\n                "name": "English",\n                "comment": ""\n              }\n            }\n          ],\n          "close_captioning": [\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            },\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            },\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            },\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            }\n          ]\n        }\n      ]\n    },\n    "preview": {\n      "frame_width": "356",\n      "frame_height": "200",\n      "framerate": "1.0"\n    },\n    "video_encoder": [\n      {\n        "format": {\n          "videoout_enable": "1",\n          "videoout_width": "1280",\n          "videoout_height": "720",\n          "videoout_framerate": "25-30"\n        },\n        "processing": {},\n        "encoder": {\n          "type": "AVC_ENC",\n          "id": "AVC_ENC_4",\n          "parameters": {\n            "name": "AVC_ENC_4",\n            "gop_bcount": "2",\n            "bitrate_avg": "4000",\n            "preset": "h264_high",\n            "level": "auto",\n            "performance_preset": "7",\n            "gop_duration": "2000",\n            "entropy_coding_mode": "cabac",\n            "gop_fixed": "true",\n            "gop_max_duration": "2000"\n          }\n        }\n      }\n    ],\n    "audio_encoder": [\n      {\n        "format": {\n          "audioout_enable": "1",\n          "audioout_samplerate": "48000",\n          "audioout_bitspersample": "16",\n          "audioout_channels": "2"\n        },\n        "processing": {\n          "audio_channel_config": "0:0|1:1"\n        },\n        "encoder": {\n          "type": "AAC_ENC",\n          "id": "AAC_ENC_eng_5",\n          "parameters": {\n            "name": "AAC_ENC_eng_5",\n            "bitrate_avg": "192",\n            "langcode": "eng",\n            "langname": "English",\n            "langcomment": ""\n          }\n        }\n      }\n    ],\n    "output": [\n      {\n        "parameters": {\n          "name": "Stream Primary",\n          "serverurl": "'+t+'",\n          "source_streamname": "null",\n          "username": "",\n          "password": "",\n          "authmode": "auto",\n          "ccincaptioninfo": "false",\n          "ccincuepoint": "false",\n          "ccintextdata": "false",\n          "ccinmetadata": "false",\n          "scte35_adcue": "false",\n          "scte35_cuepoint": "false",\n          "scte35_cuemessage": "false",\n          "videoencoder": "AVC_ENC_4",\n          "audioencoder": "AAC_ENC_eng_5",\n          "streamname": "null",\n          "agent_id": "KulaByte/5.0",\n          "cc_langnames": "|||",\n          "cc_langcodes": "|||",\n          "cc_langcomments": "|||"\n        },\n        "type": "RTMP_Sink",\n        "id": "RTMP_Sink_2"\n      },\n      {\n        "parameters": {\n          "name": "Stream Secondary",\n          "serverurl": "'+n+'",\n          "source_streamname": "null",\n          "username": "",\n          "password": "",\n          "authmode": "auto",\n          "ccincaptioninfo": "false",\n          "ccincuepoint": "false",\n          "ccintextdata": "false",\n          "ccinmetadata": "false",\n          "scte35_adcue": "false",\n          "scte35_cuepoint": "false",\n          "scte35_cuemessage": "false",\n          "videoencoder": "AVC_ENC_4",\n          "audioencoder": "AAC_ENC_eng_5",\n          "streamname": "null",\n          "agent_id": "KulaByte/5.0",\n          "cc_langnames": "|||",\n          "cc_langcodes": "|||",\n          "cc_langcomments": "|||"\n        },\n        "type": "RTMP_Sink",\n        "id": "RTMP_Sink_1"\n      }\n    ]\n  }\n}\n'}},"./app/utility/Map.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/forEach.ts");t.map=function(e,t,n){var r=[];return i.forEach(e,(function(e){null!=(e=t.call(n,e))&&r.push(e)})),r}},"./app/utility/NumberUtils.ts":function(e,t){function n(e,t,n,i){if(null===t)return null;if(t<=0)return"0";(!n||n<0)&&(n=1);var r=Math.abs(t);if(r<1e3)return r.toString();var o=Math.pow(10,n);t="",n=i?[{key:e.thousands,value:1e3},{key:e.lakhs,value:Math.pow(10,5)},{key:e.crores,value:Math.pow(10,7)}]:[{key:e.thousands,value:1e3},{key:e.millions,value:Math.pow(10,6)},{key:e.billions,value:Math.pow(10,9)},{key:e.trillions,value:Math.pow(10,12)}],e=i?r/10:r;return i&&1e6===e&&(e+=.1),i=i?100:1e3,e=Math.floor(Math.log(e)/Math.log(i))-1,n.length<=e&&(e=n.length-1),i=r/n[e].value,t=n[e].key,(r=i<10?Math.floor(i*o)/o:Math.floor(i))+t}Object.defineProperty(t,"__esModule",{value:!0}),t.convertNumberToShortNumber=n,window.convertNumberToShortNumber=n},"./app/utility/PlayerOption.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");t.mapToPlayerOptions=function(e,t,n,r,o){return(o={playbackUrls:_.map(o||e.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}})),autoplay:!0,disableLogo:!0,aesToken:"Bearer "+sessionInfo.AccessToken,enableTelemetry:!0,language:sessionInfo.UserLanguage,showEnhancedAudioTrack:angular.isDefined(e.options.audioEnhancementOptions)?e.options.audioEnhancementOptions.showEnhancedAudioTrack:e.options.enableAudioEnhancement,allowAudioEnhancement:!angular.isDefined(e.options.audioEnhancementOptions)||e.options.audioEnhancementOptions.allowAudioEnhancement}).corsPolicy=i.Constants.PlayerAuthOptions.UseCredentials,e.posterImage&&e.posterImage.large&&(o.poster=e.posterImage.large.url),e=[],t&&t.length&&(r=function(e,t,n){if(!_.isArray(e))return{tracks:[],invalidTextTracks:[]};var r=[];return{tracks:_.map(_.filter(e,(function(e){return e.url})),(function(e){var o=t.getLanguage(e.language);return o&&o.name||r.push(e),{src:e.url,srclang:e.language,label:e.autoGenerated?n.PlayerSkin.CaptionsAuto:(o&&o.name?o:e).name,kind:e.type===i.Constants.TextTrackType.Caption?"captions":"subtitles"}})),invalidTextTracks:r}}(t,n,r),o.tracks=r.tracks,e=r.invalidTextTracks),{options:o,invalidTextTracks:e}}},"./app/utility/ServicePlanUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.isTrialPlan=function(e){return e.toLowerCase()===i.Constants.UserServicePlanKeys.MicrosoftStream.toLowerCase()},r.isAddOnPlan=function(e){return e.toUpperCase()===i.Constants.UserServicePlanKeys.STREAM_P2_ADDON},r.isBasicPaidPlan=function(e){return 0<=r.BasicPaidPlanKeys.indexOf(e.toUpperCase())},r.isSuspendedTrial=function(e){var t=sessionInfo&&sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date;return e&&r.isTrialPlan(e.name)&&t>new Date(e.trialSuspensionDate)},r.isTerminatedTrial=function(e){var t=sessionInfo&&sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date;return e&&r.isTrialPlan(e.name)&&t>new Date(e.trialTerminationDate)},r.getTrialPlanForUser=function(e,t){if(!(e&&e.servicePlans&&e.servicePlans.assignedPlans&&_.isArray(e.servicePlans.assignedPlans)))return null;var n=e.servicePlans.assignedPlans;if(t&&1<n.length)return null;for(var i=null,o=0;o<n.length&&_.isNull(i);o++)r.isTrialPlan(n[o].name)&&(i=n[o]);return i},r.isUserOnTrialPlan=function(e,t){return!_.isNull(r.getTrialPlanForUser(e,t))},r.isUserOnBasicPaidPlan=function(e){var t=!1,n=!1;return e&&e.servicePlans&&_.isArray(e.servicePlans.assignedPlans)&&e.servicePlans.assignedPlans.forEach((function(e){e=e.name,t=t||r.isBasicPaidPlan(e),n=n||r.isAddOnPlan(e)})),t&&!n},r.getTimeDifferenceInDays=function(e,t){return Math.floor((t.getTime()-e.getTime())/i.Constants.Time.ONE_DAY)},r.getRemainingDaysUntilSuspension=function(e){var t=r.getTrialPlanForUser(e,!1);return t?(e=new Date(t.trialSuspensionDate),t=sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date,r.getTimeDifferenceInDays(t,e)):i.Constants.TrialExperience.DefaultActiveAccountDays},r.getRemainingDaysUntilExpirationAfterSuspension=function(e){if(n=r.getTrialPlanForUser(e,!1)){var t=new Date(n.trialTerminationDate),n=(e=new Date(n.trialSuspensionDate),sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date);return r.getTimeDifferenceInDays(_.max(new Array(n,e)),t)}return i.Constants.TrialExperience.DefaultSuspendedAccountDays},r.BasicPaidPlanKeys=[i.Constants.UserServicePlanKeys.STREAM_O365_E1,i.Constants.UserServicePlanKeys.STREAM_O365_E3,i.Constants.UserServicePlanKeys.STREAM_O365_K,i.Constants.UserServicePlanKeys.STREAM_P1],n=r;function r(){}t.ServicePlanUtils=n},"./app/utility/TelemetryPayloads/SettingsStatusPayload.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t.SettingsStatusPayloadNames||(t.SettingsStatusPayloadNames={})).SettingsCommonPayload="SettingsCommonPayload"},"./app/utility/TelemetrySchemas/UserType.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.UserType||(t.UserType={})).Admin="Admin",t.Regular="Regular",t.Unauthenticated="Unauthenticated"},"./app/utility/TelemetryUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/core/esm/index.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./app/models/TelemetryEventModels.ts");function s(e){return e.currentTarget.getAttribute("data-bi-id")||e.currentTarget.id}t.currentViewContext=new r.ViewContext(o.ScreenName[o.ScreenName.NotApplicable]),t.udpateViewContext=function(e){t.currentViewContext=new r.ViewContext(o.ScreenName[e])},t.logUserAction=function(e,n,r,o){n={actionType:r,elementId:s(e),timeStampMs:e.timeStamp,groupings:n,viewContext:t.currentViewContext},i.StreamLoggingService.userActionThin(o,n)},t.getElementId=s,t.getActionType=function(e){var t;switch(e.type){case"click":t=r.ActionType.LeftClick;break;case"tap":t=r.ActionType.Touch;break;default:t=void 0}return t}},"./app/utility/UserNotificationUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./app/models/UserNotificationModels.ts");function o(e){return r.UserNotificationSeverity[e.toUpperCase()]}function s(e){return i[e.toUpperCase()]}t.severityToString=function(e){return r.UserNotificationSeverity[e].toLowerCase()},t.stringToSeverity=o,(n=i=t.UserNotificationType||(t.UserNotificationType={}))[n.StorageUsageOverThreshold=0]="StorageUsageOverThreshold",n[n.StorageUsageOverLimit=1]="StorageUsageOverLimit",n[n.TrialSuspensionWarning=2]="TrialSuspensionWarning",n[n.TrialSuspended=3]="TrialSuspended",t.typeToString=function(e){return i[e].toLowerCase()},t.stringToType=s,t.NotificationComparator=function(e,t){var n=o(e.severity),i=o(t.severity);return n===i?s(e.type)-s(t.type):n-i},t.getNotificationByType=function(e,t){var n=i[t].toLowerCase();e=e.filter((function(e){return _.isString(e.type)&&e.type.toLowerCase()===n}));return _.isEmpty(e)?null:e[0]}},"./app/utility/VisibilityUtils.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t.DocumentVisibilityUtils||(t.DocumentVisibilityUtils={})).getDocumentVisibilityProps=function(){var e={};return void 0!==document.hidden?(e.hiddenPropertyName="hidden",e.visibilityChangeEventName="visibilitychange"):void 0!==document.msHidden?(e.hiddenPropertyName="msHidden",e.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(e.hiddenPropertyName="webkitHidden",e.visibilityChangeEventName="webkitvisibilitychange"),e}},"./app/utility/appUtil.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=n("./node_modules/ua-parser-js/src/ua-parser.js"),c=n("./app/utility/KeyCodes.ts");function l(e,t){return e=e.replace(/\$/g,"\\$"),null===(t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t))?"":decodeURIComponent(t[1].replace(/\+/g," "))}function u(e,t){if(null==e)return e;var n=":";"undefined"!=typeof userRegionInfo&&(n=d(t).timeSeparator);var i=/^P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?))$/.exec(e);if(null==i)return"";var r=new function(){this.alreadyHaveValue=!1,this.retVal=""};function o(e,t,i){void 0===t?1!=e.alreadyHaveValue&&!i||(e.retVal+="00"+n):(e.alreadyHaveValue=!0,i=parseInt(t),e.retVal+=i<10?"0"+i+n:t.substr(0,2)+n)}for(var s=1;s<5;s++)o(r,i[s],!1);for(s=5;s<7;s++)o(r,i[s],!0);return r.retVal.slice(0,r.retVal.length-1)}function d(e){if(!e&&"undefined"!=typeof userRegionInfo)return userRegionInfo;var t,n=regionInfo[(e||sessionInfo.UserRegion||"en-us").toLowerCase()],i=p(regionInfo["en-us"],null);return n&&(t=p(n,i)),t=t||i,e||(userRegionInfo=t),t}function p(e,t){return{shortDateformats:e.d||t.shortDateformats,timeSeparator:e.ts||t.timeSeparator,timeFormat:e.t||t.timeFormat,numberDigitSeperator:e.ns||t.numberDigitSeperator,numberSperatorPosition:void 0!==e.gs?e.gs:t.numberSperatorPosition}}function m(e,t){for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length),o=0;o<r;o++){var s=parseInt(n[o],10)||0,a=parseInt(i[o],10)||0;if(a<s)return!0;if(s<a)return!1}return!0}function A(e){var t="0";switch(e){case"AzureHtml5JS":t="2";break;case"FlashSS":t="3";break;case"Html5":t="5"}return t}t.CopyrightYear=function(e){return(e&&e.ServerTime?new Date(e.ServerTime):new Date).getFullYear()},t.registerComponent=function(e,t,n){n.component(e,new t)},t.registerDirective=function(e,t,n){var i=(t.$inject||[]).splice(0);i.push((function(e,n,i,r,o,s,a,c,l,u,d,p,m,A,h,f){return new t(e,n,i,r,o,s,a,c,l,u,d,p,m,A,h,f)})),n.directive(e,i)},t.registerService=function(e,t,n){n.service(e,t)},t.registerController=function(e,t,n){n.controller(e,t)},t.registerFilter=function(e,t,n){n.filter(e,t)},t.registerFactory=function(e,t,n){n.factory(e,t)},t.getUrlParamValueFromUrl=l,t.printTelemetryToConsoleForDebugging=function(e,t,n){t&&(n=i({eventName:e},t,n=n||{noMetrics:!0}),console.table([n]))},t.hookBoomerang=function(e){function t(){var t=window.BOOMR;return!!t&&(t.plugins&&t.plugins.Angular&&t.plugins.Angular.hook(e,!1),!0)}t()||(document.addEventListener?document.addEventListener("onBoomerangLoaded",t):document.attachEvent&&document.attachEvent("onpropertychange",(function(e){(e=e||window.event)&&"onBoomerangLoaded"===e.propertyName&&t()})))},t.generateGuid=function(){var e="",t=0;for(t=0;t<32;t+=1){var n=16*Math.random()|0;switch(t){case 8:case 12:case 16:case 20:e+="-"}e+=n.toString(16)}return e},t.generatePartialGuid=function(){var e="",t=0;for(t=0;t<24;t+=1){var n=16*Math.random()|0;switch(t){case 4:case 8:case 12:e+="-"}e+=n.toString(16)}return e},t.generateSmallId=function(){return"A"+Math.random().toString(36).substr(2,10)},t.extractResourceId=function(e,t){return t=s.formatString("/{0}/",t),1<(t=e.split(t)).length&&t[1]&&(t=t[1].match(/[(0-9a-zA-Z)|-]*/)).length?t[0]:null},t.getResourceUrlPath=function(e,t){return s.formatString("/api/{0}/{1}",e,t)},t.formatISODuration=u,t.formatISODurationToSeconds=function(e,t){return(e=u(e,t))?(t="undefined"!=typeof userRegionInfo?d(t).timeSeparator:":",(e=e.split(t).reverse())[t=0]&&(t+=parseInt(e[0])),e[1]&&(t+=60*parseInt(e[1])),e[2]&&(t+=60*parseInt(e[2])*60),t):0},t.formatSecondsToISODuration=function(e){var t=Math.floor(e/3600),n=Math.floor((e-60*t*60)/60);e=e-60*t*60-60*n;return t?"PT"+t+"H"+n+"M"+e+"S":"PT"+n+"M"+e+"S"},t.formatISODateTimeToDate=function(e,t){var i=n("moment");return i(e,i.ISO_8601).local().format(d(t).shortDateformats)},t.formatISODateTimeToFullDateTimeLocaleString=function(e){return new Date(e).toLocaleString(sessionInfo.UserRegion,{weekday:"long",year:"2-digit",month:"2-digit",day:"2-digit",hour12:!0,hour:"numeric",minute:"numeric",timeZoneName:"short"})},t.formatISODateTimeToTwoDigitDate=function(e){return new Date(e).toLocaleString(sessionInfo.UserRegion,{year:"2-digit",month:"2-digit",day:"2-digit"})},t.formatISODateTimeToLocalTime=function(e){return new Date(e).toLocaleString(sessionInfo.UserRegion,{hour:"2-digit",minute:"2-digit"})},t.formatISODateTime=function(e){return e.toISOString().split(".")[0]+"Z"},t.getLocalDateFromISODateTime=function(e){var t=n("moment");return t(e,t.ISO_8601).local().toDate()},t.setTimeOnDate=function(e,t){return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e},t.setDateOnDate=function(e,t){return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},t.parseShortDateStringToDate=function(e,t){return t=d(t).shortDateformats,moment(e,t).toDate()},t.endOfToday=function(){return moment().startOf("day").add(1,"days")},t.endOfTomorrow=function(){return console.log(moment()),moment().startOf("day").add(2,"days")},t.convertNumber=function(e,t){for(var n=[{divider:1e18,suffix:"P"},{divider:1e15,suffix:"E"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],i=0;i<n.length;i++)if(e>=n[i].divider)return(e/n[i].divider).toFixed(t)+n[i].suffix;return e.toString()},t.isBigScreen=function(e){return!(e<=560)},t.handleStringCardinality=function(e,t,n,i){void 0===i&&(i=!1);var r=0;if("string"==typeof e){var o=d().numberDigitSeperator||",";o=e.replace(new RegExp(o,"g"),""),r=Number(o)}else{if("number"!=typeof e)return"";r=e}return r<0&&!i&&(r=0),1===r?s.formatString(t,e.toString()):s.formatString(n,e.toString())},t.isItemInView=function(e,t){void 0===t&&(t=!0);var n=$("#"+e),i=$(window).scrollTop()+50,r=i+$(window).height();e=n.offset().top,n=n.offset().top+n.height();return t?e<=r&&i<=n:i<e&&n<r},t.getNarratorFriendlyTime=function(e,t){if(!e)return"";for(var n=[t.Second,t.Minute,t.Hour,t.Day,t.Month,t.Year],i=e.split(":"),r="",o=0,s=i.length-1;o<i.length&&0<=s;o++,s--){var a=parseInt(i[o]);(0===o||0<a)&&(r+=a.toString()+" ",r+=1===a?n[s].Singular:n[s].Plural)," "!==r.charAt(r.length-1)&&(r+=" ")}return" "===r.charAt(r.length-1)?r.substr(0,r.length-1):r},t.getResourceThumbnailAltTag=function(e,t){return e?s.formatString("[{0}] {1}",e,t):t},t.setOutlineOnlyForKeyboardUse=function(){var e=!1,t=function(i){e||(e=!0,$("body").addClass("-mouse -should -not -have -outline"),$("body").on("keydown","*",n),$("body").off("mousedown","*",t))},n=function(i){!e||i.keyCode!==c.KeyCodes.Tab&&i.keyCode!==c.KeyCodes.ArrowUp&&i.keyCode!==c.KeyCodes.ArrowDown&&i.keyCode!==c.KeyCodes.ArrowLeft&&i.keyCode!==c.KeyCodes.ArrowRight&&i.keyCode!==c.KeyCodes.Escape||(e=!1,$("body").removeClass("-mouse -should -not -have -outline"),$("body").off("keydown","*",n),$("body").on("mousedown","*",t))};$(document).ready((function(){$("body").on("keydown","*",n),$("body").on("mousedown","*",t)}))},t.decodeUserInfo=function(){var e,t,n;try{e=JSON.parse('"'+sessionInfo.UserClaim.UserInfo.GivenName+'"'),t=JSON.parse('"'+sessionInfo.UserClaim.UserInfo.FamilyName+'"'),n=JSON.parse('"'+sessionInfo.UserClaim.UserInfo.DisplayableId+'"')}catch(e){}e&&(sessionInfo.UserClaim.UserInfo.GivenName=e),t&&(sessionInfo.UserClaim.UserInfo.FamilyName=t),n&&(sessionInfo.UserClaim.UserInfo.DisplayableId=n)},t.convertTimeInSecondsToTimeString=function(e){var t="",n="00:",i="00",r=angular.copy(e);return 1<=r/3600&&(t=Math.floor(r/3600).toString()+":",r%=3600),1<=r/60&&(n=(e=Math.floor(r/60))<=9?"0"+e.toString():e.toString(),n+=":",r%=60),0<r&&(i=(r=r)<=9?"0"+r.toString():r.toString()),s.formatString("{0}{1}{2}",t,n,i)},t.convertTimeInSecondsToString=function(e){var t=Math.floor(e/3600),n=t%24;return Math.floor(t/24)+"."+n+":"+Math.floor(e%3600/60)+":"+(e%60).toFixed(4)},t.convertTimeInMilliSecondsToTimeSpan=function(e){var t,n,i,r;e=e;return e-=864e5*(r=Math.floor(e/864e5)),e-=36e5*(t=Math.floor(e/36e5)),e-=6e4*(n=Math.floor(e/6e4)),e-=1e3*(i=Math.floor(e/1e3)),r+"."+t+":"+n+":"+i},t.playBackTimeStringtoSeconds=function(e){var t=new RegExp(o.Constants.PlayBackTimeInputRegExp.source).exec(e);e=0;return t&&(e+=parseInt(t[5]),parseInt(t[4])&&(e+=60*parseInt(t[4])),parseInt(t[3])&&(e+=60*parseInt(t[3])*60)),e},t.taggedTimeStringToSeconds=function(e){var t=new RegExp(o.Constants.TimeStampTagsRegExp.source).exec(e),n=0;try{n=parseInt(t[6])+60*parseInt(t[5]),t[4]&&(n+=60*parseInt(t[4])*60)}catch(e){return null}return n},t.getErrorBucket=function(e){var t,n,i=r.VideoPlaybackError.UnknownError;return e&&8===e.length&&("1"===(t=e.charAt(2))?i=r.VideoPlaybackError.MediaAbortedError:"2"===t?i="19"===(n=e.slice(5,7))?r.VideoPlaybackError.ClientNetworkError:"1F"===n?r.VideoPlaybackError.ServerNetworkError:"25"===n&&"8"===e.charAt(e.length-1)?r.VideoPlaybackError.NetworkTimeoutError:"25"===n&&"b"===e.charAt(e.length-1)?r.VideoPlaybackError.NoInternetConnectionError:r.VideoPlaybackError.GenericNetworkError:"3"===t?i=r.VideoPlaybackError.AESDecodeError:"4"===t?i=r.VideoPlaybackError.SourceNotSupportedError:"5"===t?i="4"===(n=e.slice(e.length-1,e.length))?r.VideoPlaybackError.KeyAcquireError:"5"===n?r.VideoPlaybackError.SegmentDecryptError:r.VideoPlaybackError.GenericDecryptError:"6"===t&&(i=r.VideoPlaybackError.PlayerMismatchError)),i},t.alertScreenReader=function(e){setTimeout((function(){var t=e&&e.replace(/\[\%\]/g,"");$("#use-for-screen-reader-alert-only").html(s.htmlEncode(t))}),0)},t.getUserRegionInfo=d,t.castToRegionInfo=p,t.arraySplit=function(e,t){if(t<1||t%1!=0)return null;for(var n=Math.floor(e.length/t),i=e.length%t,r=[],o=0,s=0;s<n;s++)r.push(e.slice(o,o+t)),o+=t;return 0!=i&&r.push(e.slice(o,o+i)),r},t.generateFwLink=function(e){return s.formatString("http://go.microsoft.com/fwlink/?LinkId={0}&clcid={1}",e.toString(),sessionInfo.LCID)},t.errorMessage=function(e){return _.get(e,"data.error.message",null)},t.responseValue=function(e){return _.get(e,"data.value",null)},t.isIE=function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext)},t.getLang=function(e){var t=0<e.indexOf("-"),n=0<e.indexOf("(");return e&&(t||n)?(t?e.split("-"):e.split("("))[0]:e},t.isPosterImageUrlsEmpty=function(e){return!(e&&(e.extraSmall||e.large||e.small||e.medium)&&(e.extraSmall.url||e.small.url||e.medium.url||e.large.url))},t.isTouchDevice=function(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints},t.isMinimumVersionInstalled=m,t.isIOS=function(e){var t=(new a.UAParser).getOS();return e?t&&"iOS"===t.name&&m(t.version,e):t&&"iOS"===t.name},t.isIphone=function(){return!!window.navigator.userAgent.match(/iPhone/i)},t.isUnsupportedFlashVersionInstalled=function(){var e=navigator.plugins[o.Constants.Plugins.ShockwaveFlash];return null!=e&&!0===this.isMinimumVersionInstalled(e.version,"30")&&!1===this.isMinimumVersionInstalled(e.version,"30.0.0.154")},t.getReferrer=function(){return l("referrer",window.location.href)||sessionInfo.ReferrerUrl},t.getAMPErrorPrefixFromTechName=A,t.formatAMPErrorCode=function(e,t){return A(e)+t},t.comparePlaybackUrls=function(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=function(n){var i=e[n];if(0===(n=t.filter((function(e){return e.type==i.type}))).length||n[0].src!==i.src)return{value:!1}}(n);if("object"==typeof i)return i.value}return!0},t.isBrowserAudioDisabled=function(){return(new Audio).muted},t.removeNullValues=function e(t){for(var n in t)void 0!==t[n]&&null!==t[n]||delete t[n],Array.isArray(t[n])&&(t[n]=t[n].filter((function(e){return null!=e})),e(t[n])),"object"!=typeof t[n]||Array.isArray(t[n])||e(t[n])},t.isLanguageSupported=function(e,t){return!!_.find(e,(function(e){return _.startsWith(t,e)}))}},"./app/utility/forEach.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t,n){for(var i in e)e.hasOwnProperty(i)&&t.call(n,{key:i,value:e[i]})}},"./app/utility/regionInfo.js":function(e,t){e.exports={"af-za":{d:"YYYY-MM-DD",ns:""},"am-et":{d:"DD/MM/YYYY"},"ar-ae":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-bh":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-dz":{d:"DD-MM-YYYY",t:"H:mm"},"ar-eg":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-iq":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-jo":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-kw":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-lb":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ly":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ma":{d:"DD-MM-YYYY",t:"H:mm"},"ar-om":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-qa":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-sa":{d:"DD/MM/YY",t:"hh:mm tt"},"ar-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-tn":{d:"DD-MM-YYYY",t:"H:mm"},"ar-ye":{d:"DD/MM/YYYY",t:"hh:mm tt"},"arn-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"as-in":{d:"DD-MM-YYYY",t:"tt h:mm",gs:!0},"az-cyrl-az":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"az-latn-az":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ba-ru":{d:"DD.MM.YY",t:"H:mm",ns:""},"be-by":{d:"DD.MM.YY",t:"HH:mm",ns:""},"bg-bg":{d:"D.M.YYYY '.'",t:"H:mm",ns:""},"bin-ng":{d:"D/M/YYYY",t:"h:mmtt"},"bn-bd":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bn-in":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bo-cn":{d:"YYYY/M/D",t:"HH:mm",gs:!0},"br-fr":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"bs-cyrl-ba":{d:"D.M.YYYY",t:"H:mm",ns:"."},"bs-latn-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"ca-es":{d:"D/M/YYYY",t:"H:mm",ns:"."},"ca-es-valencia":{d:"D/M/YYYY",t:"H:mm",ns:"."},"chr-cher-us":{},"co-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"cs-cz":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"cy-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"da-dk":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"de-at":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"de-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-de":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"de-li":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-lu":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"dsb-de":{d:"D. M. YYYY",t:"HH:mm",ns:"."},"dv-mv":{d:"DD/MM/YY",t:"HH:mm"},"dz-bt":{d:"YYYY-MM-DD",t:" h  mm tt",gs:!0},"el-gr":{d:"D/M/YYYY",ns:"."},"en-029":{d:"DD/MM/YYYY",t:"HH:mm"},"en-au":{d:"D/MM/YYYY"},"en-bz":{d:"DD/MM/YYYY",t:"HH:mm"},"en-ca":{d:"YYYY-MM-DD"},"en-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"en-hk":{d:"D/M/YYYY"},"en-id":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"en-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"en-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"en-jm":{d:"D/M/YYYY"},"en-my":{d:"D/M/YYYY"},"en-nz":{d:"D/MM/YYYY"},"en-ph":{d:"DD/MM/YYYY"},"en-sg":{d:"D/M/YYYY"},"en-tt":{d:"DD/MM/YYYY"},"en-us":{d:"M/D/YYYY",t:"h:mm tt",ts:":",gs:!1,ns:","},"en-za":{d:"YYYY/MM/DD",ns:""},"en-zw":{d:"D/M/YYYY"},"es-419":{d:"D/M/YYYY",t:"HH:mm"},"es-ar":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-bo":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"es-co":{d:"D/MM/YYYY",ns:"."},"es-cr":{d:"D/M/YYYY",t:"HH:mm",ns:""},"es-cu":{d:"D/M/YYYY",t:"HH:mm"},"es-do":{d:"D/M/YYYY"},"es-ec":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-es":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"es-gt":{d:"D/MM/YYYY",t:"HH:mm"},"es-hn":{d:"D/M/YYYY",t:"HH:mm"},"es-mx":{d:"DD/MM/YYYY",t:"hh:mm tt"},"es-ni":{d:"D/M/YYYY",t:"HH:mm"},"es-pa":{d:"MM/DD/YYYY"},"es-pe":{d:"D/MM/YYYY",t:"HH:mm"},"es-pr":{d:"MM/DD/YYYY"},"es-py":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-sv":{d:"D/M/YYYY",t:"HH:mm"},"es-us":{},"es-uy":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-ve":{d:"D/M/YYYY",ns:"."},"et-ee":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"eu-es":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"fa-ir":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ff-latn-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"ff-ng":{d:"D/M/YYYY",t:"H:mm"},"fi-fi":{d:"D.M.YYYY",t:"H.mm",ts:".",ns:""},"fil-ph":{},"fo-fo":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"fr-029":{d:"DD/MM/YYYY",t:"H:mm",ns:""},"fr-be":{d:"DD-MM-YY",t:"HH:mm",ns:"."},"fr-ca":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"fr-cd":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"fr-ci":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-cm":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-ht":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-lu":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-ma":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-mc":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-ml":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-re":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fy-nl":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"ga-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"gd-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"gl-es":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gn-py":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gsw-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"gu-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ha-latn-ng":{d:"D/M/YYYY"},"haw-us":{d:"D/M/YYYY"},"he-il":{d:"DD/MM/YYYY",t:"HH:mm"},"hr-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"hr-hr":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"hsb-de":{d:"D.M.YYYY",t:"H:mm 'hod'.",ns:"."},"hu-hu":{d:"YYYY. MM. DD.",t:"H:mm",ns:""},"hy-am":{d:"DD.MM.YYYY",t:"HH:mm"},"ibb-ng":{d:"D/M/YYYY",t:"h:mmtt"},"id-id":{d:"DD/MM/YYYY",t:"HH.mm",ts:".",ns:"."},"ig-ng":{d:"DD/MM/YYYY"},"ii-cn":{d:"YYYY/M/D",t:"tt h:mm"},"is-is":{d:"D.M.YYYY",t:"HH:mm",ns:"."},"it-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"it-it":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"iu-cans-ca":{d:"D/M/YYYY"},"iu-latn-ca":{d:"D/MM/YYYY"},"ja-jp":{d:"YYYY/MM/DD",t:"H:mm"},"ka-ge":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"kl-gl":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0,ns:"."},"km-kh":{d:"DD/MM/YY",t:"H:mm"},"kn-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ko-kr":{d:"YYYY-MM-DD",t:"tt h:mm"},"kok-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"kr-ng":{d:"D/M/YYYY"},"ks-deva-in":{d:"DD-MM-YYYY",t:"H:mm",gs:!0},"ku-arab-iq":{d:"YYYY/MM/DD",t:"hh:mm tt"},"ky-kg":{d:"D-MMM YY",t:"HH:mm",ns:""},"la-001":{d:"DD/MM/YYYY",t:"H:mm"},"lb-lu":{d:"DD.MM.YY",t:"HH:mm",ns:""},"lo-la":{d:"D/M/YYYY",t:"H:mm",ns:"."},"lt-lt":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"lv-lv":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"mi-nz":{d:"DD/MM/YYYY"},"mk-mk":{d:"DD.M.YYYY",t:"HH:mm",ns:"."},"ml-in":{d:"D/M/YYYY"},"mn-mn":{d:"YYYY-MM-DD",t:"HH:mm"},"mn-mong-cn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mn-mong-mn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mni-in":{d:"DD/MM/YYYY",t:"HH:mm"},"moh-ca":{},"mr-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"mt-mt":{d:"DD/MM/YYYY",t:"HH:mm"},"my-mm":{d:"DD-MM-YYYY",t:"HH:mm"},"nb-no":{d:"DD.MM.YYYY",t:"HH.mm",ts:".",ns:""},"ne-in":{d:"YYYY-MM-DD"},"ne-np":{},"nl-be":{d:"D/MM/YYYY",t:"H:mm",ns:""},"nl-nl":{d:"D-M-YYYY",t:"HH:mm",ns:"."},"nn-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"nso-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"oc-fr":{d:"DD/MM/YYYY",t:"HH' h 'mm",ts:".",ns:""},"om-et":{d:"DD/MM/YYYY"},"or-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"pa-arab-pk":{d:"DD-MM-YY",t:"h.mm tt",ts:"."},"pa-in":{d:"DD-MM-YY",t:"tt hh:mm",gs:!0},"pap-029":{d:"D-M-YYYY",t:"H:mm"},"pl-pl":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"prs-af":{d:"YYYY/M/D",ns:"."},"ps-af":{d:"YYYY/M/D",t:"H:mm",ns:"."},"pt-br":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"pt-pt":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"quc-latn-gt":{d:"DD/MM/YYYY"},"quz-bo":{d:"DD/MM/YYYY",t:"hh:mm tt",ns:"."},"quz-ec":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"quz-pe":{d:"DD/MM/YYYY",t:"hh:mm tt"},"rm-ch":{d:"DD-MM-YYYY",t:"HH:mm",ns:""},"ro-md":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ro-ro":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ru-md":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"ru-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"rw-rw":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"sa-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"sah-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"sd-arab-pk":{d:"DD/MM/YYYY"},"sd-deva-in":{d:"DD/MM/YYYY",t:"H:mm"},"se-fi":{d:"D.M.YYYY",t:"H:mm",ns:""},"se-no":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"se-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"si-lk":{d:"YYYY-MM-DD",t:"HH.mm",ts:"."},"sk-sk":{d:"D.M.YYYY",t:"H:mm",ns:""},"sl-si":{d:"D. MM. YYYY",t:"HH:mm",ns:"."},"sma-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"sma-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"smj-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"smj-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"smn-fi":{d:"D.M.YYYY",t:"H:mm",ns:""},"sms-fi":{d:"D.M.YYYY",t:"H:mm",ns:""},"so-so":{d:"DD/MM/YYYY"},"sq-al":{d:"D.M.YYYY",ns:""},"sr-cyrl-ba":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-me":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-rs":{d:"DD.MM.YYYY.",t:"H:mm",ns:"."},"sr-latn-ba":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-me":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-rs":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"st-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"sv-fi":{d:"DD-MM-YYYY",t:"HH:mm",ns:""},"sv-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"sw-ke":{d:"DD/MM/YYYY",t:"HH:mm"},"syr-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ta-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"ta-lk":{d:"D/M/YYYY",t:"HH:mm",gs:!0},"te-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"tg-cyrl-tj":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"th-th":{d:"D/M/YYYY",t:"H:mm"},"ti-er":{d:"DD/MM/YYYY"},"ti-et":{d:"DD/MM/YYYY"},"tk-tm":{d:"DD.MM.YY '.'",t:"HH:mm",ns:""},"tn-bw":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"tn-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"tr-tr":{d:"D.MM.YYYY",t:"HH:mm",ns:"."},"ts-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"tt-ru":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"tzm-arab-ma":{d:"D/M/YYYY",t:"H:mm",ns:""},"tzm-latn-dz":{d:"DD-MM-YYYY",t:"H:mm",ns:""},"tzm-tfng-ma":{d:"DD-MM-YYYY",t:"H:mm",ns:""},"ug-cn":{d:"YYYY-M-D",t:"H:mm"},"uk-ua":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"ur-in":{d:"D/M/YY",gs:!0},"ur-pk":{d:"DD/MM/YYYY"},"uz-cyrl-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"uz-latn-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"ve-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"vi-vn":{d:"DD/MM/YYYY",ns:"."},"wo-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"xh-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"yi-001":{d:"DD/MM/YYYY",t:"HH:mm"},"yo-ng":{d:"DD/MM/YYYY"},"zh-cn":{d:"YYYY/M/D",t:"H:mm"},"zh-hk":{d:"D/M/YYYY",t:"H:mm"},"zh-mo":{d:"D/M/YYYY",t:"H:mm"},"zh-sg":{d:"D/M/YYYY",t:"tt h:mm"},"zh-tw":{d:"YYYY/M/D",t:"tt hh:mm"},"zu-za":{}}},"./app/utility/string.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n=n("./app/utility/Constants.ts"),t.repeat=function(e,t){for(var n="";1&t&&(n+=e),t>>=1;)e+=e;return n},t.formatString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(e,1);return e[0].replace(/{(\d+)}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))},t.truncateStringAddEllipses=function(e,t){return e.length>t?e.substr(0,t-10)+"":e},t.replaceStringMarkers=function(e,t){return void 0===t&&(t=""),e.replace(/\[%\]/g,t)},t.isStringEqual=function(e,t){return e.trim().toLowerCase()===t.trim().toLowerCase()},t.htmlEncode=function(e){return $("<div/>").text(e).html()},t.htmlDecode=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value};var i=[n.Constants.Routes.StudioChannels,n.Constants.Routes.StudioVideos,n.Constants.Routes.StudioRecycleBin,n.Constants.Routes.Meetings,n.Constants.Routes.RecentlyViewed,n.Constants.Routes.FollowingChannels];t.getBaseRoute=function(e){e&&"/"===e[0]&&(e=0<e.indexOf("embed")?e.slice(7,e.length):e.slice(1,e.length));var t=e.split("/");if(t&&t.length&&0<t.length){for(var n=0,r=i;n<r.length;n++){var o=r[n],s="/"===o[0]?o.slice(1):o;if(e.substring(0,s.length)===s)return o}return t[0].toLowerCase()}return e.toLowerCase()},t.urlResolve=function(e){var t=e;e=document.createElement("a");return document.documentMode&&(e.setAttribute("href",t),t=e.href),e.setAttribute("href",t),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}},t.escapeFilterSingleQuote=function(e){return e&&e.split("'").join("''")},t.indexOfIgnoreCase=function(e,t){return void 0!==e&&e&&void 0!==t&&t?e.map((function(e){return e.toUpperCase()})).indexOf(t.toUpperCase()):-1},t.isRTLScript=function(e){return/[\u0590-\u06FF]/.test(e)},t.removeDomainNameFromEmail=function(e){return e?e.substring(0,e.indexOf("@")+1):null}},"./app/utility/videoEventUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");function o(e){return e.Values.Forms}function s(e){return o(e)&&e.Values.FormsTab}t.normalizeFormData=function(e,t,n){var r=[],o=null;return n&&n.media&&n.media.duration&&(o=i.formatISODurationToSeconds(n.media.duration)),e&&e.filter((function(e){return"form"===e.type})).forEach((function(e){!e.startTime&&e.start&&(e.startTime=i.formatISODurationToSeconds(e.start)),!e.endTime&&e.end&&(e.endTime=i.formatISODurationToSeconds(e.end)),e.eventData&&!t.Values.FormsIgnoreViewedStatus&&(e.eventData.hasBeenShown=_.get(e,"userData.isViewed",!1)),o&&e.endTime>o&&(e.hidden=!0),r.push(e)})),r},t.canViewForms=function(e,t){return _.get(e,"servicePlans.capabilities.viewForm",!1)&&o(t)},t.canAddForm=function(e,t){return _.get(e,"servicePlans.capabilities.manageForm",!1)&&s(t)},t.isFormFeatureEnabled=o,t.isFormTabEnabled=s,t.canVideoHaveForms=function(e){return!(e&&e.state&&e.liveEvent)||e.state.toLowerCase()===r.Constants.VideoStatus.Completed.toLowerCase()}},"./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/ua-parser-js/src/ua-parser.js");t.isBrowserBlacklisted=function(e){for(var t=function(e){for(var t=new Array,n=0,i=e;n<i.length;n++){for(var r={},o=0,s=i[n].split(";");o<s.length;o++){var a=s[o],c=a.indexOf(":");if(-1!==c){var l=a.substring(0,c),u=a.substring(c+1);switch(l){case"osName":r.osName=u;break;case"osVersion":r.osVersion=u;break;case"deviceType":r.deviceType=u;break;case"deviceModel":r.deviceModel=u;break;case"browserName":r.browserName=u;break;case"browserVersion":r.browserVersion=u;break;case"browserVersionOperator":r.browserVersionOperator=u}}}t.push(r)}return t}(portalConfiguration.VideoEditorConfiguration.DisabledBrowsersAndDevices),n=(e=new i.UAParser(e)).getOS(),r=e.getBrowser(),o=e.getDevice(),s=0,a=t;s<a.length;s++){var c=a[s];if((void 0===c.osName||n&&n.name&&c.osName===n.name.toLowerCase())&&(void 0===c.osVersion||n&&n.version&&c.osVersion===n.version.toLowerCase())&&(void 0===c.browserName||r&&r.name&&c.browserName===r.name.toLowerCase())&&(void 0===c.browserVersion||r&&r.version&&function(e,t,n){switch(n){case"equal":return e===t;case"notEqual":return e!==t;case"lessThan":return e<t;case"lessThanOrEqual":return e<=t;case"greaterThan":return t<e;case"greaterThanOrEqual":return t<=e}return!1}(parseInt(r.version),parseInt(c.browserVersion),c.browserVersionOperator))&&(void 0===c.deviceType||o&&o.type&&c.deviceType===o.type.toLowerCase())&&(void 0===c.deviceModel||o&&o.model&&c.deviceModel===o.model.toLowerCase()))return!0}return!1}},"./app/vNextBridges/reactMappings/ReactUserSession.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataToCreateReactUserSession=function(){var e=null;return null!==sessionInfo.UserClaim&&(e=sessionInfo.UserClaim.TenantId),{clientSessionIdFromSession:sessionInfo.ClientSessionId,userSessionIdFromSession:sessionInfo.SessionId,accessToken:sessionInfo.AccessToken,accessTokenExpiry:new Date(sessionInfo.AccessTokenExpiry),tenantId:e,apiGatewayUri:sessionInfo.ApiGatewayUri,apiGatewayVersion:sessionInfo.ApiGatewayVersion,notificationEndPoint:sessionInfo.NotificationEndPoint,userLanguage:sessionInfo.UserLanguage,userRegion:sessionInfo.UserRegion,isRightToLeft:sessionInfo.IsRightToLeft,uniqueId:sessionInfo.UserClaim.UserInfo.UniqueId}}},"./app/vNextBridges/streamCoreInit.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/core/esm/index.js"),r=n("./app/utility/TelemetrySchemas/UserType.ts"),o=n("./app/utility/Constants.ts"),s=n("./node_modules/query-string/index.js");function a(){var e=sessionInfo.UserClaim;return e&&e.UserInfo?e.UserInfo.UniqueId:""}t.initalizeStreamCore=function(e){var t,n,c,l,u,d,p,m,A,h;window.isUnitTest||(l=portalConfiguration.ECSConfiguration&&portalConfiguration.ECSConfiguration.telemetryRecord?portalConfiguration.ECSConfiguration.telemetryRecord:{},i.initLoggingAndUI((h=(A=portalConfiguration.AriaConfiguration).IngestionKey,A=A.OverrideEndpointUrl,{ingestionKey:h,localUserId:function(){var e=a(),t=portalConfiguration.EnableMockApiGateway?"c:":"a:";return e=e&&t+e}(),appName:"Microsoft.Stream",version:portalConfiguration.BuildNumber,overrideEndpointUrl:A||void 0,privacyScrubbingConfig:portalConfiguration.PrivacyScrubbingConfiguration}),{isDevelopmentMode:portalConfiguration.IsDevelopmentMode,expContext:l,environmentContext:(u=s.parse(window.location.search.toLowerCase()),d=u[o.Constants.QueryStringKeys.App.toLocaleLowerCase()]||u.referrer||(sessionInfo&&sessionInfo.IsEmbed?sessionInfo.ReferrerUrl:void 0)||(sessionInfo&&sessionInfo.IsEmbed?"Stream Embed":"Stream Portal"),location.hostname,p=u[o.Constants.PiiFreeQueryStringKeys.referralId.toLocaleLowerCase()],m=u[o.Constants.PiiFreeQueryStringKeys.referralType.toLocaleLowerCase()],u=u[o.Constants.QueryStringKeys.referrer.toLocaleLowerCase()]||(sessionInfo?sessionInfo.ReferrerUrl:void 0),{app:d,hostPlatform:"web",refId:p,refType:m,trafficReferrer:u}),entityContext:{},userContext:function(){var e=a(),t=function(){var e=sessionInfo.UserClaim;return e?e.TenantId:""}(),n=sessionInfo.SessionId,i=sessionInfo.ClientSessionId,o=sessionInfo.ServicePlanForTelemetry||"0",s=sessionInfo.UserRegion,c=sessionInfo.UserLanguage;return{userId:e,clientSessionId:i,userSessionId:n,tenantId:t,servicePlan:o,region:s,userType:e?function(){var e;return sessionInfo&&sessionInfo.PrincipalInfo&&(e=JSON.parse(sessionInfo.PrincipalInfo)),e&&e.permissions&&e.permissions.canManageRoleAssignments}()?r.UserType.Admin:r.UserType.Regular:r.UserType.Unauthenticated,language:c}}(),streamContext:(t=portalConfiguration.BuildNumber,n=portalConfiguration.RingNumber,c=sessionInfo.ServiceRegion,h=portalConfiguration.ClusterName,A=sessionInfo.ServiceRegion,l=sessionInfo.ApiGatewayUri,d=sessionInfo.ApiGatewayVersion,p=portalConfiguration.AzureMediaPlayerVersion,m=sessionInfo.IsEmbed,u=portalConfiguration.IsDevelopmentMode,{buildNumber:t,deploymentRing:n,clusterRegion:c,clusterIdentity:h,serviceRegion:A,apiGatewayUri:l,apiGatewayVersion:d,azureMediaPlayerVersion:p,isEmbed:m,isDevelopmentMode:u,isDebugLoggingEnabled:!1})},(function(e){var t;window.OfficeBrowserFeedback&&window.OfficeBrowserFeedback.floodgate&&(t=window.OfficeBrowserFeedback.floodgate.getEngine())&&((t=t.getActivityListener()).logActivity(e),t.logActivity(e+(sessionInfo.IsEmbed?"Embed":"Portal")))})))}},"./common/Directives/AutoFocus/AutoFocus.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");n=function(){this.restrict="A",this.link=function(e,t,n){setTimeout((function(){t[0].focus()}))}};t.AutoFocus=n,i.registerDirective("autoFocus",n,angular.module("jumper"))},"./common/Directives/BindCompileHtml.ts":function(e,t){angular.module("jumper.common").directive("bindCompileHtml",["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch((function(){return i.bindCompileHtml}),(function(i){n.html(i),e(n.contents())(t)}))}}}])},"./common/Directives/CaptionButton/CaptionButton.html":function(e,t){e.exports="<div class=caption-button aria-expanded=false> <button class=caption-button-control type=button aria-live=off aria-label={{$ctrl.CaptionButtonLabel}} custom-title={{$ctrl.CaptionButtonLabel}} ng-click=$ctrl.CaptionButtonClick() ng-class=\"$ctrl.isCaptionOn? 'caption-indicator' : 'caption-empty'\"> </button> </div>"},"./common/Directives/CaptionButton/CaptionButton.less":function(e,t){},"./common/Directives/CaptionButton/CaptionButton.ts":function(e,t,n){function i(){this.controller=o.CaptionButtonController,this.template=n("./common/Directives/CaptionButton/CaptionButton.html"),this.bindings={videoId:"<",mediaPlayerId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/CaptionButton/CaptionButton.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/CaptionButton/CaptionButtonController.ts");t.CaptionButton=i,r.registerComponent("captionButton",i,angular.module("jumper.common"))},"./common/Directives/CaptionButton/CaptionButtonController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts");Object.defineProperty(o.prototype,"CaptionButtonLabel",{get:function(){return this.isCaptionOn?this.resources.CaptionButtonAriaLabelCaptionsOff:this.resources.CaptionButtonAriaLabelCaptionsOn},enumerable:!0,configurable:!0}),o.prototype.CaptionButtonClick=function(){this.enableCaption=!this.enableCaption,this.captionButtonClickCount++;var e=angular.copy(this.telemetryEvent);e.captionButtonClickCount=this.captionButtonClickCount,this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.liveEventEmbeddedCaptionClickCount,e),this.enableCaption?0<this.textTrackCount&&(this.mediaPlayer.textTracks_.tracks_[0].mode="showing",this.isCaptionOn=!0):this.isCaptionOn&&(this.mediaPlayer.textTracks_.tracks_[0].mode="disabled",this.isCaptionOn=!1)},o.$inject=["$scope","$rootScope","resources","telemetryService"],n=o;function o(e,t,n,o){var s=this;this.$scope=e,this.$rootScope=t,this.resources=n,this.telemetryService=o,this.enableCaption=!1,this.isCaptionOn=!1,this.captionButtonClickCount=0,this.telemetryEvent={captionButtonClickCount:null},(o=$("#"+this.mediaPlayerId+" "+i.Constants.MediaPlayerPostLoadSelector))&&0<o.length&&(this.mediaPlayer=amp(o[0])),this.textTrackCount=this.mediaPlayer.textTracks_.tracks_.length,this.$rootScope.$broadcast(i.Constants.Events.EmbeddedLiveEventCaptionNumber,{textTracksCount:this.textTrackCount}),this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.LiveEventProducerPage),this.featureTelemetryTracker.setResourceId(this.videoId),this.$scope.$on("$destroy",(function(){s.mediaPlayer=null}))}t.CaptionButtonController=n},"./common/Directives/CheckAspectRatio.ts":function(e,t){angular.module("jumper.common").directive("checkAspectRatio",(function(){return{restrict:"A",link:function(e,t,n){t.bind("load",(function(){e.$apply((function(){$(t).width()/$(t).height()<1?$(t).addClass("tall"):$(t).addClass("wide")}))}))}}}))},"./common/Directives/CustomErrorMessage/CustomErrorMessage.html":function(e,t){e.exports="<div role=alert class=custom-error-message ng-class=\"{'compact': isCompact, 'warning-message': isWarning, 'subtle': isSubtle}\"> <svg-src svg-name=icon_error_message inline-with-text=true class=error-icon ng-if=!isWarning></svg-src> <svg-src svg-name=icon_error_status inline-with-text=true class=error-icon ng-if=isWarning></svg-src> <span class=message-container>{{errorMessage}}</span> </div>"},"./common/Directives/CustomErrorMessage/CustomErrorMessage.less":function(e,t){},"./common/Directives/CustomErrorMessage/CustomErrorMessage.ts":function(e,t,n){function i(){this.restrict="E",this.template=n("./common/Directives/CustomErrorMessage/CustomErrorMessage.html"),this.scope={errorMessage:"<",roleType:"<?",isCompact:"<",isWarning:"<",isSubtle:"<"},this.link=function(e){e.roleType||(e.roleType="alert")}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/CustomErrorMessage/CustomErrorMessage.less");var r=n("./app/utility/appUtil.ts");t.CustomErrorMessage=i,r.registerDirective("customErrorMessage",i,angular.module("jumper"))},"./common/Directives/CustomTitle/CustomTitle.less":function(e,t){},"./common/Directives/CustomTitle/CustomTitle.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/CustomTitle/CustomTitle.less");var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/KeyCodes.ts");n=function(){this.restrict="A",this.scope={customTitle:"@",lightStyle:"<",onEllipsisOnly:"@",zIndexOverride:"<"},this.link=function(e,t,n,o){var s,a,c,l;e.customTitle&&(s=function(e){e.css("left",0),e.css("top",0),e.css("height",0),e.css("width",0),e.removeClass("show-tip"),e.removeClass("bottom-pointer"),e.removeClass("light-style")},$(".custom-title-body").length<1&&(a=$('<div class="custom-title-body" collapsed="true"></div>'),s(a),$("body").append(a)),c=["mouseenter"],(a=i.isTouchDevice())&&c.push("touchstart"),c.forEach((function(e){t.bind(e,(function(){l(t)}))})),t.bind("keyup",(function(e){e.keyCode===r.KeyCodes.Tab&&l(t)})),t.bind("keydown",(function(e){e.keyCode===r.KeyCodes.Tab&&(e=$(".custom-title-body"),s(e))})),c=["blur","mousedown","mouseleave"],a&&c.push("touchend"),c.forEach((function(e){t.bind(e,(function(e){var t=$(".custom-title-body");s(t)}))})),e.$on("$destroy",(function(){var t=$(".custom-title-body");t.is(":visible")&&t.text()===e.customTitle&&s(t)})),l=function(t){var n=$(".custom-title-body");if(e.lightStyle&&n.addClass("light-style"),"visible"===n.css("visibility")&&n.text()===e.customTitle)s(n);else if("true"==e.onEllipsisOnly&&t[0].scrollWidth==t[0].offsetWidth)s(n);else{n.text(e.customTitle),n.css("left",""),n.css("height","auto"),n.css("width","auto");var i=t.offset().left+t.outerWidth()/2-n.outerWidth()/2;i<0&&(i=0),i+n.outerWidth()>$("body").width()&&(i=$("body").width()-n.outerWidth()),n.css("left",i),(i=t.offset().top+t.outerHeight()+8)-$(window).scrollTop()+n.outerHeight()>$("body").height()&&(i=t.offset().top-n.outerHeight()-8,n.addClass("bottom-pointer")),n.css("top",i);for(var r=0,o=t;o&&o.prop("tagName")&&"BODY"!==o.prop("tagName");){var a=o.css("z-index");"auto"!==a&&(r=Number(a)),o=o.parent()}e.zIndexOverride&&(r=e.zIndexOverride),n.css("z-index",r+10),n.addClass("show-tip")}})}};t.CustomTitle=n,i.registerDirective("customTitle",n,angular.module("jumper"))},"./common/Directives/Drawer/Drawer.html":function(e,t){e.exports='<div class=drawer action-list> <span ng-show=!$ctrl.transcludeButtonPresent role=presentation> <button name=dropdown role=menu class="c-action-trigger c-glyph drawer-button drawer-button-stream drawer-button-without-label" aria-label={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} custom-title={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} aria-expanded=false ng-click=return;> <span class=x-screen-reader>{{::$ctrl.resources.DrawerMoreButtonAriaLabel}}</span> </button> </span> <span role=presentation ng-show=$ctrl.transcludeButtonPresent ng-transclude=transcludebutton> <ng-transclude></ng-transclude> </span> <ul class="drawer-content collapsed" ng-class="{\'allign-opp\': $ctrl.leftAllign}"> <li ng-repeat="item in $ctrl.drawerItems" role=presentation> <button role=menuitem ng-class=item.iconClassName class="drawer-item-{{::item.iconClassName}} c-glyph c-action-trigger drawer-content-item" aria-label="{{$ctrl.getItemAriaLabel(item, $index)}}" ng-click=$ctrl.onItemClick(item) ng-if=item.isVisible> <svg-src svg-name={{::item.svgSrc}} ng-if=item.svgSrc class=small-icon inline-with-text=true> </svg-src> <span class=icon-text ng-class="item.svgSrc?\'svg-text\':\'glyph-text\'">{{::item.text}}</span> </button> </li> </ul> </div>'},"./common/Directives/Drawer/Drawer.less":function(e,t){},"./common/Directives/Drawer/Drawer.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/Drawer/Drawer.less");var i=n("./app/utility/appUtil.ts"),r=n("./common/Directives/Drawer/DrawerController.ts"),o=n("./app/utility/Constants.ts"),s=function(e,t,n,i,r){void 0===r&&(r=!0),this.iconClassName=e,this.text=t,this.onClick=n,this.svgSrc=i,this.isVisible=r};t.DrawerItem=s,s=function(){this.restrict="E",this.controller=r.DrawerController,this.template=n("./common/Directives/Drawer/Drawer.html"),this.scope={drawerItems:"=",hideDefaultIcon:"<",leftAllign:"<",groupIcon:"@?",tabNavigationDrawer:"<?",fixedElements:"<"},this.transclude={transcludebutton:"?transcludebutton"},this.link=function(e,t,n,i){$(".drawer-button-stream",t).click((function(){a(),$(".drawer-content-item",t).first().focus(),setTimeout((function(){$(".drawer-content-item",t).first().keydown((function(e){e.keyCode!==o.Constants.KeyCodes.Up&&e.keyCode!==o.Constants.KeyCodes.Esc||s(e)})),$(".drawer-content-item",t).not(":first").keydown((function(e){e.keyCode===o.Constants.KeyCodes.Esc&&s(e)}))}),0)})),$(".drawer-button-stream",t).keydown((function(e){e.keyCode===o.Constants.KeyCodes.Down&&(a(),$(".drawer-content-item",t).first().focus(),e.stopPropagation())}));var r=$(".drawer-content",t);function s(e){$(".drawer-content-item",t).focusout(),$(".drawer-content",t).not(".collapsed").addClass("collapsed"),$(".drawer-button-stream[expanded]",t).removeAttr("expanded"),$(".drawer-button-stream",t).focus(),$(".drawer-button-stream",t).attr("aria-expanded","false"),e.stopPropagation()}function a(){$(".drawer-content").not(".collapsed").not($(".drawer-content",t)).addClass("collapsed"),$(".drawer-button-stream[expanded]").not($(".drawer-button-stream",t)).removeAttr("expanded");var e,n,r=$(".drawer-content",t),o=r.hasClass("collapsed");o?($(".drawer-button-stream",t).attr("expanded","true"),r.removeClass("collapsed"),r.css({bottom:""}),e=r.offset().top-r.outerHeight()-t.parent().height(),n=i.documentHeightOffset,!t.attr("tab-navigation-drawer")&&r.offset().top+r.outerHeight()>window.outerHeight+$("body").scrollTop()&&r.offset().top-n>r.outerHeight()&&e>i.documentHeightOffset&&r.css("bottom",t.parent().height()+"px")):(r.addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")),$(".drawer-button-stream",t).attr("aria-expanded",o?"true":"false")}r.mousedown((function(e){t.attr("clicking","true")})),r.click((function(e){t.removeAttr("clicking"),r.addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")})),$(t).focusout((function(){setTimeout((function(){t.attr("clicking")||$.contains(t.get(0),$(":focus").get(0))||($(".drawer-content").not(".collapsed").addClass("collapsed"),$(".drawer-button-stream[expanded]").removeAttr("expanded"),$(".drawer-button-stream",t).attr("aria-expanded","false"))}),0)})),i.drawerItems&&i.drawerItems.length||t.hide()},this.controllerAs="$ctrl",this.bindToController=!0},t.Drawer=s,i.registerDirective("drawer",s,angular.module("jumper"))},"./common/Directives/Drawer/DrawerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts");o.prototype.getItemAriaLabel=function(e,t){return t+=1,[e.text||"",e.text?" ":"",r.formatString(this.resources.DrawerLocationText,t.toString(),this.drawerItems.length.toString())].join("")},o.prototype.onItemClick=function(e){var t=this;(e=e.onClick())&&e.then((function(){t.$timeout((function(){$(".drawer-button-stream",t.$element).focus()}),i.Constants.DebounceDelay)}))},Object.defineProperty(o.prototype,"documentHeightOffset",{get:function(){var e=null;return _.isEmpty(this.fixedElements)||this.fixedElements.forEach((function(t){"fixed"===$(t).css("position")&&(!e||$(e).offset().top<$(t).offset().top)&&(e=t)})),e?$(e).offset().top+$(e).outerHeight():0},enumerable:!0,configurable:!0}),o.$inject=["resources","$timeout","$element","$transclude"],n=o;function o(e,t,n,i){this.resources=e,this.$timeout=t,this.$element=n,this.$transclude=i,this.fixedElements=[],this.transcludeButtonPresent=this.$transclude.isSlotFilled("transcludebutton")}t.DrawerController=n},"./common/Directives/FlexDrawer/FlexDrawer.html":function(e,t){e.exports='<div class=flex-drawer action-list> <ul class=drawer-content-external ng-if=$ctrl.flexMode> <li ng-repeat="item in $ctrl.drawerItems.slice(0,$ctrl.externalItemsCount)" role=presentation class=drawer-item-external ng-if="$ctrl.externalItemsCount>-1"> <button role=button type=button ng-class=item.iconClassName class="drawer-item-{{item.iconClassName}} c-glyph c-action-trigger drawer-content-item" aria-label={{item.text}} custom-title={{item.text}} light-style=$ctrl.lightCustomTitle ng-click="$ctrl.onItemClick(item, $event, true)" aria-pressed=false> <svg-src svg-name={{item.svgSrc}} ng-if=item.svgSrc class=small-icon></svg-src> </button> </li> </ul> <div class=drawer-container role=presentation ng-show=$ctrl.drawerItems.length-$ctrl.externalItemsCount> <span ng-if="!$ctrl.transcludeButtonPresent && !$ctrl.showLabel" role=presentation> <button class="c-action-trigger c-glyph drawer-button drawer-button-stream drawer-button-without-label more-actions-button" aria-expanded=false aria-label={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} custom-title={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} ng-click=return; light-style=$ctrl.lightCustomTitle> <span class=x-screen-reader>{{::$ctrl.resources.DrawerMoreButtonAriaLabel}}</span> </button> </span> <span ng-if="!$ctrl.transcludeButtonPresent && $ctrl.showLabel" role=presentation> <button class="c-action-trigger drawer-button-stream action-button drawer-button-with-label" aria-expanded=false aria-label={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} custom-title={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} ng-click=return;> <svg-src svg-name=icon_more inline-with-text=true class=action-button-svg></svg-src> <span class=drawer-label>{{::$ctrl.resources.More}}</span> </button> </span> <span role=presentation ng-show=$ctrl.transcludeButtonPresent ng-transclude=transcludebutton> <ng-transclude></ng-transclude> </span> <ul class="drawer-content collapsed"> <li ng-repeat="item in $ctrl.drawerItems.slice($ctrl.externalItemsCount==-1?0:$ctrl.externalItemsCount)" role=presentation> <button role=menuitem ng-class=item.iconClassName class="drawer-item-{{item.iconClassName}} c-glyph c-action-trigger drawer-content-item" aria-label={{item.text}} ng-click="$ctrl.onItemClick(item, $event)" ng-if=item.isVisible> <svg-src svg-name={{item.svgSrc}} ng-if=item.svgSrc class=small-icon inline-with-text=true> </svg-src> <span class=icon-text ng-class="item.svgSrc?\'svg-text\':\'glyph-text\'">{{item.text}}</span> </button> </li> </ul> </div> </div>'},"./common/Directives/FlexDrawer/FlexDrawer.less":function(e,t){},"./common/Directives/FlexDrawer/FlexDrawer.ts":function(e,t,n){function i(){this.restrict="E",this.controller=o.FlexDrawerController,this.template=n("./common/Directives/FlexDrawer/FlexDrawer.html"),this.scope={drawerItems:"=",showLabel:"<",flexMode:"<",maxFlexModeItems:"<",widthPercentage:"<",lightCustomTitle:"<",fixedElements:"<",alwaysOpenUp:"<"},this.transclude={transcludebutton:"?transcludebutton"},this.link=function(e,t,n,i){function r(e){e.stopPropagation(),t.removeAttr("clicking"),$(".drawer-content",t).addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")}function o(e){$(".drawer-content").not(".collapsed").not($(".drawer-content",t)).addClass("collapsed"),$(".drawer-button-stream[expanded]").not($(".drawer-button-stream",t)).removeAttr("expanded");var n,r,o=$(".drawer-content",t).hasClass("collapsed");o?($(".drawer-button-stream",t).attr("expanded","true"),$(".drawer-content",t).removeClass("collapsed"),$(".drawer-content",t).removeClass("show-top"),n=$(".drawer-content",t).offset().top-$(".drawer-content",t).outerHeight()-i.showTopBottom,r=i.documentHeightOffset,(i.alwaysOpenUp||$(".drawer-content",t).offset().top+$(".drawer-content",t).outerHeight()>$("body").innerHeight()+$("body").scrollTop()&&$(".drawer-content",t).offset().top-r>$(".drawer-content",t).outerHeight()&&n>i.documentHeightOffset)&&$(".drawer-content",t).addClass("show-top"),$(".drawer-content .drawer-content-item",t).first().focus()):($(".drawer-content",t).addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")),$(".drawer-button-stream",t).attr("aria-expanded",o?"true":"false"),e&&(e.preventDefault(),e.stopPropagation())}function a(){var e=function(e){e.which!==s.KeyCodes.ArrowUp&&e.which!==s.KeyCodes.Escape||(o(e),$(".drawer-button-stream",t).focus())};$(".drawer-content .drawer-content-item",t).first().off("keydown",e),$(".drawer-content .drawer-content-item",t).first().on("keydown",e),e=function(e){e.which===s.KeyCodes.Escape&&(o(e),$(".drawer-button-stream",t).focus())},$(".drawer-content .drawer-content-item",t).not(":first").off("keydown",e),$(".drawer-content .drawer-content-item",t).not(":first").on("keydown",e),$(".drawer-content-item",t).keypress((function(e){e.stopPropagation()}))}setTimeout((function(){$(".drawer-button-stream",t).click((function(e){o(e)})),$(".drawer-button-stream",t).keydown((function(e){e.which!==s.KeyCodes.Enter&&e.which!==s.KeyCodes.ArrowDown||o(e)})),a(),e.$watch((function(){return i.drawerItems}),(function(e,n){n!==e&&(e&&0<e.length?(a(),t.show()):t.hide())}))}),0),$(".drawer-content",t).mousedown((function(e){t.attr("clicking","true")})),t.click((function(e){r(e)})),t.keydown((function(e){e.which===s.KeyCodes.Enter&&r(e)})),$(t).focusout((function(){setTimeout((function(){t.attr("clicking")||$.contains(t.get(0),$(":focus").get(0))||($(".drawer-content").not(".collapsed").addClass("collapsed"),$(".drawer-button-stream[expanded]").removeAttr("expanded"))}),0)})),i.drawerItems&&i.drawerItems.length||t.hide()},this.controllerAs="$ctrl",this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/FlexDrawer/FlexDrawer.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/FlexDrawer/FlexDrawerController.ts"),s=n("./app/utility/KeyCodes.ts");t.FlexDrawer=i,r.registerDirective("flexDrawer",i,angular.module("jumper"))},"./common/Directives/FlexDrawer/FlexDrawerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");r.prototype.onItemClick=function(e,t,n){var r=this;(e=e.onClick())&&e.then((function(){r.$timeout((function(){var e,i;n&&((e=i=t.currentTarget).attributes["aria-pressed"]&&(i="true"===e.getAttribute("aria-pressed")?"false":"true",e.setAttribute("aria-pressed",i)))}),0),r.$timeout((function(){(n?t.currentTarget:$(".drawer-button-stream",r.$element)).focus()}),i.Constants.DebounceDelay)}))},Object.defineProperty(r.prototype,"documentHeightOffset",{get:function(){var e=null;return _.isEmpty(this.fixedElements)||this.fixedElements.forEach((function(t){"fixed"===$(t).css("position")&&(!e||$(e).offset().top<$(t).offset().top)&&(e=t)})),e?$(e).offset().top+$(e).outerHeight():0},enumerable:!0,configurable:!0}),r.$inject=["resources","$scope","$timeout","$element","$transclude"],n=r;function r(e,t,n,i,r){var o,s,a=this;this.resources=e,this.$scope=t,this.$timeout=n,this.$element=i,this.$transclude=r,this.externalItemsCount=-1,this.fixedElements=new Array,this.showTopBottom=32,this.itemWidth=32,this.widthPercentage=15,this.element=i,this.transcludeButtonPresent=this.$transclude.isSlotFilled("transcludebutton"),this.flexMode&&(o=function(){angular.element(".flex-drawer",a.element).css("width",a.itemWidth);var e=((e=a.element.parent()).parent(),a.widthPercentage*e.width()/100);e=Math.max(a.itemWidth,e);e=Math.min(a.itemWidth*((a.maxFlexModeItems||a.drawerItems.length)+1),e),a.externalItemsCount=Math.floor(e/a.itemWidth)-1,a.externalItemsCount=0==a.externalItemsCount?-1:a.externalItemsCount,a.externalItemsCount=Math.min(a.externalItemsCount,a.maxFlexModeItems||a.drawerItems.length),e++,angular.element(".flex-drawer",a.element).css("width",e),a.$scope.$apply()},s=_.debounce((function(){o()}),100),$(window).resize(s),t.$on("$destroy",(function(){$(window).off("resize",s)})),setTimeout((function(){o()}),0))}t.FlexDrawerController=n},"./common/Directives/FlexStyle/FlexStyle.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");n=function(){this.restrict="A",this.link=function(e,t,n){var i=parseFloat(t.attr("flex-style")),r=parseFloat(t.attr("flex-style-min")),o=_.debounce((function(){var e=t.parent().width()*i/100;t.css(t.attr("flex-style-target"),null!=r&&e<r?r:e)}),1);$(window).resize(o),e.$on("$destroy",(function(){$(window).off("resize",o)})),setTimeout((function(){var e=t.parent().width()*i/100;t.css(t.attr("flex-style-target"),null!=r&&e<r?r:e)}),0)}};t.FlexStyle=n,i.registerDirective("flexStyle",n,angular.module("jumper"))},"./common/Directives/InfiniteScroll/InfiniteScroll.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts"),o=n("./common/Directives/InfiniteScroll/InfiniteScrollController.ts");n=function(){this.restrict="A",this.controller=o.InfiniteScrollController,this.controllerAs="$ctrl",this.bindToController=!0,this.scope={infiniteScroll:"&",infiniteScrollContainer:"<",infiniteScrollRefresh:"=",infiniteScrollAllowMultiple:"<"},this.link=function(e,t,n,i){var o,s,a;"window"===i.infiniteScrollContainer?((o=e.$parent).registerEvent=void 0===o.registerEvent||o.registerEvent,o.registerEvent&&(s=_.debounce(i.handler.bind(i),r.Constants.InfiniteScroll.DefaultDebounceTimeout,{leading:!0}).bind(e),$(window).on("scroll",s),e.$parent.$parent.$on("$destroy",(function(){$(window).off("scroll",s),o.registerEvent=!0})),o.registerEvent=!1),i.element=t):(e.$watch((function(){return i.infiniteScrollRefresh}),(function(e){_.isBoolean(e)&&e&&(i.loader.clear(),i.loader.refresh(),i.infiniteScrollRefresh=!1)})),a=_.debounce((function(){80<i.scrollPercent&&i.loader.loadMore()}),r.Constants.ScrollBar.ScrollTimeInterval),t.on("scroll",a),e.$on("$destroy",(function(){t.off("scroll",a)})))}};t.InfiniteScroll=n,i.registerDirective("infiniteScroll",n,angular.module("jumper"))},"./common/Directives/InfiniteScroll/InfiniteScrollController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.refresh=function(){function e(){return t.$ctrl.isScrollable||t.reachedEnd?t.$ctrl.$q.reject():n()}var t=this,n=function(){return t.loadMore().then((function(){return t.$ctrl.$timeout(e,0)}))};n()},i.prototype.loadMore=function(){var e=this;return this.reachedEnd||this.isLoadingData&&!this.$ctrl.infiniteScrollAllowMultiple?this.$ctrl.$q.resolve():(this.isLoadingData=!0,this.$ctrl.infiniteScroll({skip:this.skip,top:this.top}).then((function(t){e.isLoadingData=!1,t<0?e.reachedEnd=!0:e.skip+=t}),(function(){e.isLoadingData=!1,e.reachedEnd=!0})))},i.prototype.clear=function(){this.reachedEnd=!1,this.skip=0},i);function i(e){this.$ctrl=e,this.skip=0,this.top=4,this.reachedEnd=!1,this.isLoadingData=!1}var r=(o.prototype.handler=function(){var e=this,t=$("body")[0],n=document.documentElement&&document.documentElement.scrollTop||t.scrollTop,i=$("div[ng-viewport]");i.outerHeight()-n-window.outerHeight-i.offset().top<$("div[infinite-scroll]").children().last().height()&&!this.loader.reachedEnd&&(this.previousScroll=t.scrollTop,t=this.infiniteScroll(),_.isNil(t)||t.then((function(){}),(function(t){e.loader.reachedEnd=!0})))},Object.defineProperty(o.prototype,"scrollPercent",{get:function(){var e=this.$element.scrollTop(),t=this.$element[0].scrollHeight,n=this.$element[0].clientHeight;return t<=n?0:e/(t-n)*100},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isScrollable",{get:function(){return this.$element[0].scrollHeight>this.$element[0].clientHeight},enumerable:!0,configurable:!0}),o.$inject=["$scope","$timeout","$element","$q"],o);function o(e,t,i,r){this.$scope=e,this.$timeout=t,this.$element=i,this.$q=r,this.previousScroll=0,this.loader=new n(this)}t.InfiniteScrollController=r},"./common/Directives/InfiniteScroll/itemSizer.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");n=function(){this.restrict="E",this.scope={onRenderComplete:"&",item:"="},this.link={pre:function(e,t,n){e.$parent.item=e.item},post:function(e,t,n){window.setTimeout((function(){var n=Math.ceil((document.body.clientHeight-t.parent().offset().top)/t.outerHeight());n=_.isFinite(n)?n:r.Constants.QueryConfigDefaults.DefaultTop;e.onRenderComplete({rowsCount:n,itemsPerRow:Math.max(1,Math.floor(t.parent().width()/t.width()))})}),0)}}};t.itemSizer=n,i.registerDirective("itemSizer",n,angular.module("jumper"))},"./common/Directives/ProgressBar/ProgressBar.html":function(e,t){e.exports="<div class=progress-container role=progressbar aria-valuemin=0 tabindex=0> <div class=progressbar></div> </div>"},"./common/Directives/ProgressBar/ProgressBar.less":function(e,t){},"./common/Directives/ProgressBar/ProgressBar.ts":function(e,t,n){function i(){this.restrict="E",this.template=n("./common/Directives/ProgressBar/ProgressBar.html"),this.scope={value:"<",max:"<",ariaTitle:"<"},this.link=function(e,t,n){var i=t.find(".progressbar"),r=t.find(".progress-container");r.attr("aria-valuemax",e.max),e.ariaTitle&&r.attr("aria-label",e.ariaTitle),e.$watch("value",(function(e){i.width(e+"%"),i.attr("value",e),r.attr("aria-valuenow",e)}))}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/ProgressBar/ProgressBar.less");var r=n("./app/utility/appUtil.ts");t.ProgressBar=i,r.registerDirective("progressBar",i,angular.module("jumper"))},"./common/Directives/ResourceMarkupExtension.ts":function(e,t){function n(e,t,n,i){setTimeout((function(){var e=t.text(),n="",i="",r="",o=e.split("[%]").filter((function(e,t,n){return" "!==e}));1!==o.length&&(2===o.length?e.indexOf("[%]")<e.indexOf(o[0])?(i=o[0],r=o[1]):(n=o[0],i=o[1]):(n=o[0],i=o[1],r=o[2]),t.text(i),n&&t.before("<span>"+_.escape(n)+"</span>"),r&&t.after("<span>"+_.escape(r)+"</span>"))}),0)}angular.module("jumper").directive("button",(function(){return{restrict:"E",link:n}})),angular.module("jumper").directive("a",(function(){return{restrict:"E",link:n}})),angular.module("jumper").directive("strong",(function(){return{restrict:"E",link:n}}))},"./common/Directives/SetImgSrc.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");o.$inject=["$timeout"],n=o;function o(e){var t=this;this.$timeout=e,this.restrict="A",this.link=function(e,n,i){e.$watch((function(){return i.setImgSrc}),(function(e){n.hide(),t.$timeout((function(){if(i.setImgSrc){var e,t=n.parent().innerHeight();try{e=JSON.parse(i.setImgSrc)}catch(e){return}var o="";t&&e&&(o=t<=r.Constants.PosterSize.ExtraSmall.height?e.extraSmall&&e.extraSmall.url?e.extraSmall.url:"":t<=r.Constants.PosterSize.Small.height?e.small&&e.small.url?e.small.url:"":t<=r.Constants.PosterSize.Medium.height?e.medium&&e.medium.url?e.medium.url:"":e.large&&e.large.url?e.large.url:""),o&&n.attr("src",o),n.show()}else n.show()}),0)}))}}t.SetImgSrc=n,i.registerDirective("setImgSrc",n,angular.module("jumper"))},"./common/Directives/SvgSrc/SvgSrc.html":function(e,t){e.exports='<span class=svg-container ng-class="{\'icon-inline\': $ctrl.inlineWithText}"> <svg class=svg-icon focusable=false aria-hidden=true> <use xlink:href="" ng-attr-xlink:href={{$ctrl.getSvgPath}}></use> </svg> </span>'},"./common/Directives/SvgSrc/SvgSrc.less":function(e,t){},"./common/Directives/SvgSrc/SvgSrc.ts":function(e,t,n){function i(){this.controller=o.SvgSrcController,this.template=n("./common/Directives/SvgSrc/SvgSrc.html"),this.bindings={svgName:"@",inlineWithText:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/SvgSrc/SvgSrc.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/SvgSrc/SvgSrcController.ts");t.SvgSrc=i,r.registerComponent("svgSrc",i,angular.module("jumper.common"))},"./common/Directives/SvgSrc/SvgSrcController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"getSvgPath",{get:function(){return"#"+this.svgName},enumerable:!0,configurable:!0}),i);function i(){}t.SvgSrcController=n},"./common/Directives/Tooltip/Tooltip.html":function(e,t){e.exports="<div class=tooltip-container> <button type=button aria-label={{::$ctrl.buttonAriaLabel}} aria-describedby={{$ctrl.id}} aria-expanded=false light-style=$ctrl.lightStyle> <svg-src svg-name=icon_library class=tool-tip-icon style=pointer-events:none></svg-src> </button> </div>"},"./common/Directives/Tooltip/Tooltip.less":function(e,t){},"./common/Directives/Tooltip/Tooltip.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/Tooltip/Tooltip.less");var i=n("./common/Directives/Tooltip/TooltipController.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/KeyCodes.ts"),a=(c.divClassName=".tooltip-body",c.showClass="show-tip",c.hideClass="hide-tip",c.bottomPointerClass="bottom-pointer",c);function c(){this.restrict="E",this.controller=i.TooltipController,this.template=n("./common/Directives/Tooltip/Tooltip.html"),this.scope={message:"<",partialBoldMessage:"<",buttonAriaLabel:"@",customizedMessages:"<",tooltipWidth:"@",isLightStyle:"<",linkUrl:"<",linkText:"<",linkClass:"@"},this.controllerAs="$ctrl",this.bindToController=!0,this.link=function(e,t,n,i){function a(){var e=$(c.divClassName);e.css("left",0),e.css("top",0),e.css("height",0),e.css("width",0),e.removeClass(c.showClass),e.addClass(c.hideClass),$("button",t).attr("aria-label",i.buttonAriaLabel),$("button",t).attr("aria-expanded","false")}var l=r.isTouchDevice();$(c.divClassName).length<1&&(u='<div class="hide-tip tooltip-body" collapsed="true"></div>',i.isLightStyle&&(u='<div class="hide-tip tooltip-body light-style" collapsed="true"></div>'),$("body").append(u));var u=["mouseenter","click"];function d(){a()}l&&u.push("touchstart"),u.forEach((function(e){t.bind(e,(function(){p(t)}))})),["blur"].forEach((function(e){t.bind(e,(function(){a()}))})),t.bind("keydown",(function(e){e.keyCode===s.KeyCodes.Tab&&a()})),$(window).on("click",d),$(window).on("resize",d),e.$on("$destroy",(function(){$(window).off("click",d),$(window).off("resize",d),a()}));var p=function(t){var n,r=$(c.divClassName);if($(r).hasClass(c.showClass))a();else{if($("button",t).attr("aria-label",i.message),r.empty(),i.customizedMessages){r.append("");for(var s,l=0;l<i.customizedMessages.length;l++)i.customizedMessages[l].description&&(s=l!==i.customizedMessages.length-1?"<div class='classification-block-style'><div class='bold-text-style'>"+i.customizedMessages[l].name+"</div><div class='text-style'> - "+i.customizedMessages[l].description+". </div></div>":"<div class='classification-block-style-no-margin'><div class='bold-text-style'>"+i.customizedMessages[l].name+"</div><div class='text-style'> - "+i.customizedMessages[l].description+". </div></div>",r.append(s))}else i.partialBoldMessage?(n=function(e){var t=e.split("[%]");if(-1===e.indexOf("[%]"))return e;var n="",i=!1;e.indexOf("[%]")<e.indexOf(t[0])&&(i=!0);for(var r=0;r<t.length;r++)n+=i?"<strong>"+t[r]+"</strong>":"<span>"+t[r]+"</span>",i=!i;return n}(i.partialBoldMessage),r.html(n)):r.text(i.message);n=r,i.linkUrl&&(u=!1,i.linkUrl.startsWith("http")&&(u=!0),u=$("<a "+(u?'external-link target="_blank" ':"")+'class="'+i.linkClass+'" href="'+i.linkUrl+'">'+o.htmlEncode(i.linkText||i.linkUrl)+"</a>"),n.append(u)),r.css("left",""),r.css("height","auto"),r.css("width","auto");var u=Math.max(0,t.offset().left+t.outerWidth()/2-r.outerWidth()/2);u+r.outerWidth()>$("body").width()&&(u=$("body").width()-r.outerWidth()),r.css("left",u),(u=t.offset().top+t.outerHeight()+8)-$(window).scrollTop()+r.outerHeight()>$("body").height()?(u=t.offset().top-r.outerHeight()-8,r.addClass(c.bottomPointerClass)):r.removeClass(c.bottomPointerClass),r.css("top",u);for(var d=0,p=t;p&&p.prop("tagName")&&"BODY"!==p.prop("tagName");){var m=p.css("z-index");"auto"!==m&&(d=Number(m)),p=p.parent()}e.zIndexOverride&&(d=e.zIndexOverride),r.css("z-index",d+2),r.removeClass(c.hideClass),r.addClass(c.showClass),$("button",t).attr("aria-expanded","true")}event.stopPropagation()}}}t.Tooltip=a,r.registerDirective("tooltip",a,angular.module("jumper"))},"./common/Directives/Tooltip/TooltipController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");Object.defineProperty(r.prototype,"id",{get:function(){return r.bodyId},enumerable:!0,configurable:!0}),r.$inject=["$scope"],n=r;function r(e){this.$scope=e,r.bodyId||(r.bodyId=i.generateGuid()),this.isLightStyle=!0}t.TooltipController=n},"./common/Directives/TrapFocus.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/KeyCodes.ts");o.$inject=["$timeout"],n=o;function o(e){var t=this;this.$timeout=e,this.restrict="A",this.replace=!1,this.link=function(e,n,i){t.$timeout((function(){$(n).bind("keydown",(function(e){for(var t=[],i=n[0].querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]'),o=0;o<i.length;o++)$(n).is(":visible")&&t.push(i[o]);t&&0<t.length&&e.target&&(e.shiftKey&&e.keyCode==r.KeyCodes.Tab?$(t[0])[0]===$(e.target)[0]&&(e.preventDefault(),$(t[t.length-1]).focus()):e.keyCode==r.KeyCodes.Tab&&$(t[t.length-1])[0]===$(e.target)[0]&&(e.preventDefault(),$(t[0]).focus()))}))}),0)}}t.TrapFocus=n,i.registerDirective("trapFocus",n,angular.module("jumper"))},"./common/Directives/VolumeButton/VolumeButton.html":function(e,t){e.exports='<div class=volume-button aria-expanded=false> <button class="c-action-trigger volume-button-control" type=button aria-live=off aria-label={{$ctrl.volumeButtonLabel}} custom-title={{$ctrl.volumeButtonLabel}} ng-click=$ctrl.volumeButtonClick()> <svg-src svg-name={{$ctrl.volumeIcon}} class=volume-icon style=pointer-events:none></svg-src> </button> </div>'},"./common/Directives/VolumeButton/VolumeButton.less":function(e,t){},"./common/Directives/VolumeButton/VolumeButton.ts":function(e,t,n){function i(){this.controller=o.VolumeButtonController,this.template=n("./common/Directives/VolumeButton/VolumeButton.html"),this.bindings={mediaPlayerId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/VolumeButton/VolumeButton.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/VolumeButton/VolumeButtonController.ts");t.VolumeButton=i,r.registerComponent("volumeButton",i,angular.module("jumper.common"))},"./common/Directives/VolumeButton/VolumeButtonController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");Object.defineProperty(r.prototype,"volumeButtonLabel",{get:function(){return this.isMuted?this.resources.VolumeButtonAriaLabelUnMute:this.resources.VolumeButtonAriaLabelMute},enumerable:!0,configurable:!0}),r.prototype.volumeButtonClick=function(){this.isMuted=!this.isMuted,this.isMuted?(this.volumeIcon="icon_volume_mute",this.mediaPlayer.muted(!0)):(this.volumeIcon=this.getVolumeIcon(),this.mediaPlayer.muted(!1))},r.prototype.getVolumeIcon=function(){return this.isMuted||0===this.value?"icon_volume_mute":this.value<.33?"icon_volume_1":this.value<.66?"icon_volume_2":"icon_volume_3"},r.$inject=["$scope","resources"],n=r;function r(e,t){var n=this;this.$scope=e,this.resources=t,this.isMuted=!1,this.$scope.$watch((function(){return n.value}),(function(e){n.volumeIcon=n.getVolumeIcon()})),(t=$("#"+this.mediaPlayerId+" "+i.Constants.MediaPlayerPostLoadSelector))&&0<t.length&&(this.mediaPlayer=amp(t[0]),this.isMuted=this.mediaPlayer.muted(),this.value=this.mediaPlayer.volume()),this.$scope.$on("$destroy",(function(){n.mediaPlayer=null}))}t.VolumeButtonController=n},"./common/Factories/AppNameFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");function o(e,t){if(!(n=(t=t.getLowerCasedQueryParams()||{})&&t[r.Constants.QueryStringKeys.App]?t[r.Constants.QueryStringKeys.App]:void 0)&&0<=e.absUrl().toLowerCase().indexOf("microsoftteams")&&(n=r.Constants.EmbedApps.MicrosoftTeams[0]),!n)if(sessionInfo.IsEmbed)try{var n=i.getReferrer()||""}catch(e){n=""}else n="";for(var o=!1,s=0,a=r.Constants.EmbedApps.MicrosoftTeams;s<a.length;s++){var c=a[s];if(n.toLowerCase()===c.toLowerCase()){o=!0;break}}return{value:n.toLowerCase(),isTeams:o}}(t.appName=o).$inject=["$location","navigationService"],i.registerFactory("appName",o,angular.module("jumper.common"))},"./common/Style/app.less":function(e,t){},"./common/appStartup.ts":function(e,t){angular.module("ngNewRouter").directive("a",["$router",function(e){return{label:"external-link-enabled-anchor",restrict:"E",link:function(t,n){var i;"a"===n[0].nodeName.toLowerCase()&&(i="[object SVGAnimatedString]"===Object.prototype.toString.call(n.prop("href"))?"xlink:href":"href",n.on("click",(function(t){var r;void 0!==n.attr("external-link")||t.ctrlKey||t.metaKey||t.shiftKey||((r=n.attr(i))||t.preventDefault(),e.recognize(r)&&(e.navigate(r),t.preventDefault()))})))}}}]).decorator("aDirective",["$delegate",function(e){for(var t=[],n=0;n<e.length;n++)"ngNewRouter"===e[n].$$moduleName&&"external-link-enabled-anchor"!==e[n].label||t.push(e[n]);return t}]),angular.module("jumper").directive("a",["$router","$location",function(e,t){return{label:"rewrite-click",restrict:"E",link:function(e,n){n.on("click",(function(e){e.isDefaultPrevented()||!e.delegateTarget||!e.delegateTarget.href||0<=e.delegateTarget.href.indexOf("?")||!window.location.search||t.url(t.path())}))}}}])},"./common/commonDependencies.ts":function(e,t,n){n("../../../../../.BtCxCache/MediaUx.V-Accordion.1.6.0/node_modules/v-accordion/index.js"),n("../../../../../.BtCxCache/Microsoft.AspNet.SignalR.JS.2.2.2/content/Scripts/jquery.signalR-2.2.2.min.js"),n("../../../../../.BtCxCache/MediaUx.Ng-Dialog.0.5.6/node_modules/ng-dialog/js/ngDialog.js"),n("../../../../../.BtCxCache/MediaUx.Ng-Dialog.0.5.6/node_modules/ng-dialog/css/ngDialog.css"),n("../../../../../.BtCxCache/MediaUx.Ng-Dialog.0.5.6/node_modules/ng-dialog/css/ngDialog-theme-default.css"),n("./sundog/css/sundog-grid/sundog-grid.less"),n("./common/Style/app.less")},"./common/components/DatePicker/DatePicker.html":function(e,t){e.exports="<div class=picker-outter-container moment-picker=$ctrl.inputDate locale={{::$ctrl.locale}} format={{::$ctrl.format}} min-view=month min-date=$ctrl.minDate max-date=$ctrl.maxDate keyboard=true today=true> <input id={{::$ctrl.label}} class=form-control placeholder={{::$ctrl.resources.DatePickerPlaceholder}} ng-model=$ctrl.inputDate ng-model-options=\"{ updateOn: 'blur' }\"> <span class=svg-wrapper> <svg-src class=calendar-icon svg-name=icon_calendar /> </span> </div>"},"./common/components/DatePicker/DatePicker.less":function(e,t){},"./common/components/DatePicker/DatePicker.ts":function(e,t,n){function i(){this.controller=r.DatePickerController,this.template=n("./common/components/DatePicker/DatePicker.html"),this.bindings={inputDate:"=",minDate:"<",maxDate:"<",label:"@"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/DatePicker/DatePicker.less");var r=n("./common/components/DatePicker/DatePickerController.ts"),o=n("./app/utility/appUtil.ts");t.DatePicker=i,o.registerComponent("datePicker",i,angular.module("jumper.common"))},"./common/components/DatePicker/DatePickerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");r.$inject=["$scope","resources"],n=r;function r(e,t){this.$scope=e,this.resources=t,this.format="MM/DD/YYYY",this.locale=sessionInfo.UserLanguage,(t=i.getUserRegionInfo())&&(this.format=t.shortDateformats)}t.DatePickerController=n},"./common/components/DropDown/DropDown.html":function(e,t){e.exports='<div class="drop-down drop-down-{{$ctrl.id}}"> <span class=drop-down-hidden-label id=drop-down-{{$ctrl.id}}-hidden-label>{{::$ctrl.ariaLabel}}</span> <div aria-labelledby="drop-down-{{$ctrl.id}}-hidden-label drop-down-{{$ctrl.id}}-display-name" ng-click=$ctrl.onSelectorClicked() ng-keydown=$ctrl.onSelectorKeyDown($event) aria-expanded="{{$ctrl.expanded ? true: false}}" tabindex="{{$ctrl.isDisabled ? -1 : 0}}" ng-class="{\'disabled\': $ctrl.isDisabled}" class=selector> <svg-src svg-name={{$ctrl.selectedItem.icon}} inline-with-text=true class=icon-container ng-if=$ctrl.selectedItem.icon></svg-src> <div class=display-name id=drop-down-{{$ctrl.id}}-display-name ng-class="{\'no-icon\': !$ctrl.selectedItem.icon, \'disabled\': $ctrl.isDisabled}" value={{$ctrl.selectedItem.value}} aria-live=polite ng-disabled=$ctrl.isDisabled>{{$ctrl.selectedItem? $ctrl.selectedItem.text: $ctrl.placeholderText}}</div> <svg-src svg-name=icon_see_more inline-with-text=true class="icon-container dropdown-arrow"></svg-src> <div class=drop-down-list-container aria-hidden=false ng-class="{\'scroll-list\': $ctrl.showScroll}" ng-show=$ctrl.expanded role=presentation ng-disabled=$ctrl.isDisabled> <div role=option aria-hidden=false class=option-item dir=\'{{$ctrl.ltrContent?"ltr":""}}\' ng-show=$ctrl.expanded ng-repeat="optionItem in $ctrl.options track by $index" id={{$ctrl.optionId($index)}} ng-mouseover="$ctrl.highlightedIndex = $index" aria-selected="{{$ctrl.selectedIndex === $index }}" aria-label="{{optionItem.description || optionItem.text}}" ng-keydown="$ctrl.onOptionKeyDown($index, $event)" ng-click="$ctrl.onOptionClicked($index, $event)" ng-class="{\'highlighted\': $ctrl.highlightedIndex === $index, \'no-icon\': !optionItem.icon}"> <svg-src svg-name={{optionItem.icon}} inline-with-text=true class=icon-container ng-if=optionItem.icon></svg-src> <span value={{optionItem.value}} id={{$ctrl.optionId($index)}}-span>{{optionItem.description || optionItem.text}}</span> </div> </div> <div class=hidden-options role=presentation aria-hidden="{{$ctrl.expanded ? true : false}}" ng-show=!$ctrl.expanded> <div class=hidden-option ng-repeat="optionItem in $ctrl.options track by $index" aria-label="{{optionItem.description || optionItem.text}}" role=option aria-selected="{{$ctrl.selectedIndex === $index }}">{{optionItem.description || optionItem.text}}</div> </div> </div> </div>'},"./common/components/DropDown/DropDown.less":function(e,t){},"./common/components/DropDown/DropDown.ts":function(e,t,n){function i(){this.restrict="E",this.controller=r.DropDownController,this.template=n("./common/components/DropDown/DropDown.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={options:"<",value:"=?",placeholderText:"<",ariaLabel:"@?",valueChanged:"&",confirmSelectionChange:"&?",showScroll:"<",ltrContent:"<",isDisabled:"<"},this.link=function(e,t,n,i){function r(){var e=t.find(".drop-down .selector");e&&e.length&&e.focus()}i.onSelectorKeyDown=function(e){var t,n;void 0!==i.isDisabled&&i.isDisabled||(40===(t=e.keyCode)?i.displayIndex<i.options.length-1&&(e.preventDefault(),i.displayIndex++,i.selectedItem=i.options[i.displayIndex],i.applyChanges()):38===t&&0<i.displayIndex&&(e.preventDefault(),i.displayIndex--,i.selectedItem=i.options[i.displayIndex],i.applyChanges()),n=document.documentMode,13===t&&n&&(i.onSelectorClicked(),e.stopPropagation()))},i.onSelectorClicked=function(){var e,n;void 0!==i.isDisabled&&!0===i.isDisabled||(i.toggle(),i.expanded&&(e=t[0].getElementsByClassName("option-item"),n=$(e[i.highlightedIndex]),setTimeout((function(){n.focus(),e[i.highlightedIndex].scrollIntoView(!1)}),750)))},i.onOptionClicked=function(t,n){void 0!==i.isDisabled&&!0===i.isDisabled||(i.highlightedIndex=t,i.displayIndex=t,i.selectedItem=i.options[i.displayIndex],n.stopPropagation(),setTimeout((function(){i.collapse(),r(),e.$apply()}),0))},i.onOptionKeyDown=function(e,n){function o(){var e;i.displayIndex!==i.highlightedIndex&&(e=t[0].getElementsByClassName("option-item"),$(e[i.highlightedIndex]).focus(),i.displayIndex=i.highlightedIndex)}var s=n.keyCode;40===s?function(){o();var e=$(":focus").next(".option-item");e&&e.length&&(e.focus(),i.displayIndex++,i.highlightedIndex=i.displayIndex,i.selectedItem=i.options[i.displayIndex]),n.stopPropagation(),n.preventDefault()}():38===s?function(){o();var e=$(":focus").prev(".option-item");e&&e.length&&(e.focus(),i.displayIndex--,i.highlightedIndex=i.displayIndex,i.selectedItem=i.options[i.displayIndex]),n.stopPropagation(),n.preventDefault()}():9===s||27===s?(i.collapse(),r(),n.preventDefault()):13==s&&(i.onOptionClicked(e,n),n.stopPropagation())},$(".drop-down-list-container",t).on("blur",(function(e){i.collapse(),r(),e.preventDefault()}));var o,s=(o=".drop-down-"+i.id,$("body").on("click"+o,(function(t){t=$(t.target),i.expanded&&t.closest(".drop-down-"+i.id).length<=0&&(i.applyChanges(),e.$apply())})),o);e.$on("$destroy",(function(){var e;e=s,$("body").off(e)}))}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/DropDown/DropDown.less");var r=n("./common/components/DropDown/DropDownController.ts"),o=n("./app/utility/appUtil.ts");t.DropDown=i,o.registerDirective("dropDown",i,angular.module("jumper.common"))},"./common/components/DropDown/DropDownController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");r.prototype.confirmChange=function(e){var t,n=this;function i(){var t=n.selectedIndex;n.selectedIndex=n.displayIndex,n.value=n.options[n.selectedIndex].value,n.selectedItem=n.options[n.selectedIndex],_.isFunction(e)&&e(),t!==n.selectedIndex&&n.valueChanged({newValue:n.value})}this.$element.trigger("change"),this.confirmationEnabled?(t=this.options[this.displayIndex].value,t=this.confirmSelectionChange({selectedOption:t}),_.isFunction(t.then)?t.then(i,(function(){n.displayIndex=n.selectedIndex,n.selectedItem=n.options[n.selectedIndex],_.isFunction(e)&&e()})):i()):i()},Object.defineProperty(r.prototype,"displayName",{get:function(){return 0<=this.displayIndex&&this.displayIndex<this.options.length?this.options[this.displayIndex].text:""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"activeDescendantID",{get:function(){return 0<=this.displayIndex&&this.displayIndex<this.options.length?this.optionIdPrefix+"-"+this.id+"-"+this.displayIndex.toString():""},enumerable:!0,configurable:!0}),r.prototype.applyChanges=function(){this.expanded?this.collapse():this.selectedIndex!==this.displayIndex&&this.confirmChange()},r.prototype.collapse=function(){this.expanded&&(this.expanded=!1,this.highlightedIndex=-1,this.selectedIndex!==this.displayIndex&&this.confirmChange())},r.prototype.expand=function(){this.expanded||(this.expanded=!0,this.highlightedIndex=this.displayIndex)},r.prototype.toggle=function(){this.expanded?this.collapse():this.expand()},r.prototype.optionId=function(e){return this.optionIdPrefix+"-"+this.id+"-"+e.toString()},r.$inject=["$scope","$element","resources"],n=r;function r(e,t,n,r){var o=this;this.$scope=e,this.$element=t,this.resources=n,this.$timeout=r,this.showScroll=!1,this.isDisabled=!1,this.selectedIndex=0,this.confirmationEnabled=!1,this.expanded=!1,this.highlightedIndex=-1,this.displayIndex=0,this.optionIdPrefix="option-",this.id=i.generateGuid(),_.isFunction(this.confirmSelectionChange)&&(this.confirmationEnabled=!0),this.$scope.$watch((function(){return o.value}),(function(){if(void 0!==o.value&&null!==o.value&&""!==o.value){if(!o.selectedItem||o.value!==o.selectedItem.value)for(var e=0;e<o.options.length;e++)if(o.options[e].value===o.value){o.selectedIndex=e,o.displayIndex=e,o.selectedItem=o.options[e];break}}else o.placeholderText?(o.selectedIndex=-1,o.displayIndex=-1):o.selectedItem=_.first(o.options)}))}t.DropDownController=n},"./common/components/MediaPlayer/MediaPlayer.html":function(e,t){e.exports='<div class=media-player-controller id={{::$ctrl.mediaPlayerId}}> <video class="azuremediaplayer amp-big-play-centered amp-stream-skin" tabindex=0 crossorigin=anonymous width=100% height=100% preload={{::$ctrl.preloadSetting}} playsinline> <p class=amp-no-js> {{::controller.resources.Directives.Media.Player.noJsMessage}} </p> </video> <error-box ng-if=$ctrl.isErrorOccured class="video-error white-outline-all" title-str={{$ctrl.displayErrorDescription}} no-actions=$ctrl.noActions message={{$ctrl.displayErrorDescriptionSubText}} message-link=$ctrl.displayErrorMessageLink custom-secondary-button-label={{$ctrl.errorBoxSecondaryButtonLabel}} custom-secondary-button-clicked=$ctrl.onReportIssue() error-code={{$ctrl.displayErrorCode}} hide-session-info=$ctrl.hideSessionInfo player-page=true slate=$ctrl.slateShown custom-primary-button-label={{$ctrl.errorBoxPrimaryButtonLabel}} custom-primary-button-clicked=$ctrl.retryMediaPlayer() /> </div> '},"./common/components/MediaPlayer/MediaPlayer.less":function(e,t){},"./common/components/MediaPlayer/MediaPlayer.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./common/components/MediaPlayer/MediaPlayerController.ts"),r=n("./app/utility/appUtil.ts");function o(){this.restrict="E",this.link=function(e,t,n,i){i.loadAzureMediaPlayer(t)},this.controller=i.MediaPlayerController,this.template=n("./common/components/MediaPlayer/MediaPlayer.html"),this.scope={playerOptions:"<",videoLink:"<",enableTheaterMode:"<",enableSearch:"<",onViewed:"&",summaryHeartbeat:"&",playbackSummary:"&",onError:"&",onPlayerRetry:"&",onUserActive:"&",onUserInactive:"&",playerEventsTracker:"&",onPause:"&",onPlay:"&",onCanplaythrough:"&",onInit:"&",onTimeUpdate:"&",enterTheaterMode:"&",exitTheaterMode:"&",preload:"<",onSearch:"&",defaultMuted:"<",onPlayerEnded:"&",onSdnInitSuccess:"&",onSdnInitFailure:"&",onSdnFatalError:"&",onLastAmpErrorChange:"&",mediaPlayerId:"<",onReportIssue:"&",playbackSessionId:"<",isProducerView:"<",isLiveEventCompleted:"<",timedEvents:"<",tracePlayerLogsAndReturnTraceId:"&",videoId:"<",onPlayerCaptionDetected:"&",onFormsTokenPostMessage:"&",onDeletedOrReplaced:"&",onDemandOptions:"<",contentVersion:"<",showEndOfEventOverlay:"&",reloadUpdatedVideo:"&",isLiveEventStopped:"&",isAudioOnly:"<?"},this.controllerAs="$ctrl",this.bindToController=!0}n("./common/components/MediaPlayer/MediaPlayer.less"),t.MediaPlayer=o,r.registerDirective("mediaPlayer",o,angular.module("jumper.common"))},"./common/components/MediaPlayer/MediaPlayerController.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/KeyCodes.ts"),c=n("./common/components/MediaPlayer/PlaybackErrorHandler.ts"),l=n("./app/utility/VisibilityUtils.ts"),u=n("./Embed/Utility/appUtil.ts");t.playerEvents={analyticsstreamstarted:"analyticsstreamstarted",analyticsheartbeat:"analyticsheartbeat",analyticserror:"analyticserror",analyticsplaybackfinished:"analyticsplaybackfinished",analyticsstreamloaded:"analyticsstreamloaded",analyticsplaybackwarning:"analyticsplaybackwarning",userActiveEvent:"useractive",userInactiveEvent:"userinactive",enterTheaterMode:"enterTheaterMode",exitTheaterMode:"exitTheaterMode",searchEvent:"searchPlugin",ended:"ended",sdnInitSuccess:"sdnInitSuccess",sdnInitFailure:"sdnInitFailure",sdnFatalError:"sdnFatalError",videoPlayerStarted:"started",videoPlayerFullscreen:"fullscreen",videoCaptionsOn:"captionOn",videoCaptionsOff:"captionOff",reportIssue:"reportIssue",embeddedCaptionsShow:"embeddedCaptionsShow",decryptorInitialized:"decryptorInitialized",audioEnhancementStateChanged:"audioEnhancementStateChanged",failedToChangeAudioTrack:"failedToChangeAudioTrack",audioEnhancementFreShown:"audioEnhancementFreShown",audioEnhancementFreClosed:"audioEnhancementFreClosed",audioEnhancementFreOpenedLearnMore:"audioEnhancementFreOpenedLearnMore",rebufferRatioReached:"rebufferRatioReached"};var d,p="AudioEnhance";function m(e,n,i,r,s,a,u,d,p,m,A,h,f,g,v,y){var S=this;this.$q=e,this.$scope=n,this.$rootScope=i,this.$location=r,this.navigationService=s,this.sessionManager=a,this.resources=u,this.$anchorScroll=d,this.$interval=p,this.$timeout=m,this.telemetryService=A,this.featureFlagsService=h,this.sdnUtilService=f,this.principalService=g,this.dataShareService=v,this.videoService=y,this.smoothMimeType="application/vnd.ms-sstr+xml",this.defaultProfile="Hybrid",this.noActions=!1,this.onFormsTokenPostMessage=void 0,this.mediaPlayerProperties=null,this.playerLogLevel=0,this.isErrorOccured=!1,this.hideSessionInfo=!1,this.lastCheckedTime=0,this.totalSecondsWatched=0,this.isViewed=!1,this.firstSeekHappenedForStartAt=!1,this.firstSeekHappenedForEndAt=!1,this.startAtInSec=0,this.endAtInSec=0,this.isFirstPlay=!0,this.playerEventsTrackerFunctions={},this.totalRetryCount=0,this.maxRetryCount=0,this.retryResetTimerInSec=0,this.heuristicsPreroll=4,this.heuristicsLivePlaybackOff=8,this.forceMuted=!1,this.isRetrying=!1,this.sdnInitialized=!1,this.slateShown=!1,this.isDeleted=!1,this.isUpdated=!1,this.currentRetryCount=0,this.playbackErrorHandler=null,this.lastAMPError=null,this.isPageVisible=!1,this.wasPageVisible=!1,this.onPlayerEnd=function(){"function"==typeof S.onPlayerEnded&&S.onPlayerEnded(),S.sendPlaybackSummary("ended"),S.shouldShowEndEventMsgAfterPlaybackEnd&&(S.exitTheaterMode(),S.showEndOfEventOverlay())},y=this.navigationService.getQueryParams(),this.forceTech=y.forceTech,this.playerLogLevel=Number(y.playerLogLevel),this.livePlaybackOffsetInWallClockSec=Number(this.featureFlagsService.Values.LivePlaybackOffsetInWallClockSec),this.preRollInWallClockSec=Number(this.featureFlagsService.Values.PreRollInWallClockSec),this.preloadSetting=this.preload?"auto":"none",this.maxRetryCount=Number(y.maxRetryCount)||o.Constants.PlayerConstants.MaxRetryCount,this.retryResetTimerInSec=Number(y.retryResetTimerInSec)||o.Constants.PlayerConstants.RetryResetTimerInSec,this.forceMuted="true"===y.muted,this.currentRetryCount=0,this.errorBoxPrimaryButtonLabel=this.resources.TryAgain,this.errorBoxSecondaryButtonLabel=this.resources.PlayerSkin.ReportAnIssueButtonText,this.startAtInSec=Number(y.st),this.navigationService.removeQueryParam("st"),this.endAtInSec=Number(y.et),this.navigationService.removeQueryParam("et"),this.$scope.$on(o.Constants.Events.EmbeddedLiveEventCaptionNumber,(function(e,t){t&&t.textTracksCount&&(S.liveEventCaptionNumber=t.textTracksCount)})),n.$on("$destroy",(function(){S.mediaPlayer&&(S.mediaPlayer.removeEventListener(t.playerEvents.userActiveEvent),S.mediaPlayer.removeEventListener(t.playerEvents.userInactiveEvent),S.mediaPlayer.removeEventListener(t.playerEvents.analyticserror),S.mediaPlayer.removeEventListener(t.playerEvents.analyticsheartbeat),S.mediaPlayer.removeEventListener(t.playerEvents.analyticsstreamstarted),S.mediaPlayer.removeEventListener(t.playerEvents.analyticsstreamloaded),S.mediaPlayer.removeEventListener(t.playerEvents.ended),S.mediaPlayer.removeEventListener(t.playerEvents.sdnInitSuccess),S.mediaPlayer.removeEventListener(t.playerEvents.sdnInitFailure),S.mediaPlayer.removeEventListener(t.playerEvents.sdnFatalError),S.mediaPlayer.removeEventListener(amp.eventName.sourceset),S.mediaPlayer.removeEventListener(amp.eventName.loadstart),S.mediaPlayer.removeEventListener(amp.eventName.loadeddata),S.mediaPlayer.removeEventListener(amp.eventName.play),S.mediaPlayer.removeEventListener(amp.eventName.pause),S.mediaPlayer.removeEventListener(amp.eventName.start),S.mediaPlayer.removeEventListener(amp.eventName.seeking),S.mediaPlayer.removeEventListener(t.playerEvents.videoPlayerFullscreen),S.mediaPlayer.removeEventListener(amp.eventName.waiting),S.mediaPlayer.removeEventListener(amp.streamEventName.trackselected),S.mediaPlayer.removeEventListener(amp.eventName.playing),S.mediaPlayer.removeEventListener(amp.eventName.canplaythrough),S.mediaPlayer.removeEventListener(t.playerEvents.reportIssue),S.mediaPlayer.removeEventListener(t.playerEvents.videoCaptionsOn),S.mediaPlayer.removeEventListener(t.playerEvents.videoCaptionsOff),S.mediaPlayer.removeEventListener("playingInDVR"),S.mediaPlayer.removeEventListener(t.playerEvents.decryptorInitialized),S.mediaPlayer.removeEventListener("captionChange"),S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementStateChanged),S.mediaPlayer.removeEventListener(t.playerEvents.failedToChangeAudioTrack),S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementFreClosed),S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementFreOpenedLearnMore),S.mediaPlayer.removeEventListener(t.playerEvents.rebufferRatioReached),S.enableTheaterMode&&(S.mediaPlayer.removeEventListener(t.playerEvents.enterTheaterMode),S.mediaPlayer.removeEventListener(t.playerEvents.exitTheaterMode)),S.enableSearch&&S.mediaPlayer.removeEventListener(t.playerEvents.searchEvent),S.unregisterLoadingHeartbeat(),S.unregisterSourceSetHeartbeat(),S.playerOptions.isLiveContent&&(S.mediaPlayer.removeEventListener("segmentsUnavailable"),S.mediaPlayer.removeEventListener("segmentsAvailable")),S.enable708Caption&&S.mediaPlayer.removeEventListener(t.playerEvents.embeddedCaptionsShow),S.isProducerView&&S.mediaPlayer.removeEventListener("producerWarnDisconnected"),S.featureFlagsService.Values.AudioEnhancementUI&&S.playerOptions.showEnhancedAudioTrack&&S.featureFlagsService.Values.AudioEnhancementFirstRunExperience&&S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementFreShown),S.reportPendingTelemetryMediaPlayerDispose(),S.mediaPlayer.dispose(),S.playbackErrorHandler&&S.playbackErrorHandler.dispose(),S.documentVisibilityProps&&S.documentVisibilityProps.visibilityChangeEventName&&S.documentVisibilityProps.hiddenPropertyName&&window.document.removeEventListener&&window.document.removeEventListener(S.documentVisibilityProps.visibilityChangeEventName,S.handleVisibilityChangeBound))})),n=this.playerEventsTracker(),this.playerEventsTrackerFunctions=n||{},this.playbackErrorHandler=new c.PlaybackErrorHandler(this,this.sessionManager,this.$timeout),this.handleVisibilityChangeBound=this.updatePageVisibility.bind(this),this.documentVisibilityProps=l.DocumentVisibilityUtils.getDocumentVisibilityProps(),this.documentVisibilityProps&&this.documentVisibilityProps.visibilityChangeEventName&&this.documentVisibilityProps.hiddenPropertyName&&window.document.addEventListener&&(window.document.addEventListener(this.documentVisibilityProps.visibilityChangeEventName,this.handleVisibilityChangeBound,!1),this.updatePageVisibility())}(n=d=d||{}).EncodingProfilePassThrough1LayerPrefix="passthrough_1layer",n.EncodingProfileContentAwarePrefix="cae_",t.getAMPPlayer=function(){var e,t=$(o.Constants.MediaPlayerPostLoadSelector);return t&&0<t.length&&window.amp&&t[0].playerId&&(e=amp(t[0])),e},t.getAllAMPPlayers=function(){var e=[],t=$(o.Constants.MediaPlayerPostLoadSelector);return t&&0<t.length&&window.amp&&_.forEach(t,(function(t){t.playerId&&e.push(amp(t))})),e},m.prototype.reportPendingTelemetryMediaPlayerDispose=function(){this.playerOptions.enableTelemetry&&(this.shouldSendIntervalHeartbeat()&&this.sendPlayerHeartbeat({data:{telemetryProperties:{triggerType:o.Constants.AnalyticsHeartbeatTriggerTypes.IntervalHeartbeat}}}),this.shouldSendUnloadEvent()&&this.sendPlayerHeartbeat({data:{telemetryProperties:{triggerType:o.Constants.AnalyticsHeartbeatTriggerTypes.Destroy}}}))},m.prototype.shouldSendIntervalHeartbeat=function(){return!this.isFirstPlay&&null==this.lastAMPError&&this.shouldSendUnloadEvent()},m.prototype.shouldSendUnloadEvent=function(){return!(this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Ended||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Unload||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Destroy||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.SourceSetTimeout||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Error)},m.prototype.updatePageVisibility=function(){this.documentVisibilityProps&&this.documentVisibilityProps.visibilityChangeEventName&&this.documentVisibilityProps.hiddenPropertyName&&(this.isPageVisible=!document[this.documentVisibilityProps.hiddenPropertyName],this.wasPageVisible=this.wasPageVisible||this.isPageVisible)},m.prototype.getPlayer=function(){return this.mediaPlayer},m.prototype.receiveBroadcast=function(e,t){return this.$rootScope.$on(e,t)},m.prototype.loadAzureMediaPlayer=function(e){var n=this;this.playerOptions&&this.playerOptions.playbackUrls&&this.playerOptions.playbackUrls.length&&this.$q.when().then((function(){n.mediaPlayerId||(n.mediaPlayerId=r.generateSmallId());var c=n.playerOptions.plugins||{};c.analytics_collectData={debug:!1,metricsToTrack:["viewed","heartbeat","error","playbackSummary","downloadInfo","warnings"]},n.videoLink&&(c.streamIconPlugin={externalLink:n.videoLink}),n.enableTheaterMode&&(c.theaterModePlugin={}),n.enableSearch&&(c.searchPlugin={}),n.featureFlagsService.Values.AudioOnlyModeKillSwitch||(c.audioOnlyModeOverlay={},c.audioOnlyMessageBar={}),c.audioOnlyOverlay={isAudioOnly:n.isAudioOnly},n.featureFlagsService.Values.Forms&&(c.timedMediaEventPlugin={videoEvents:n.timedEvents,telemetryTracker:n.telemetryService.getTracker(void 0,s.ResourceType.Video,n.videoId),playbackSessionId:n.playbackSessionId,videoId:n.videoId,formsCallbacks:{onGetFormsToken:n.onFormsTokenPostMessage}}),n.featureFlagsService.Values.AudioEnhancementUI&&n.playerOptions.showEnhancedAudioTrack&&(c.audioEnhancementPlugin={},n.featureFlagsService.Values.AudioEnhancementFirstRunExperience&&(c.audioEnhancementFirstRunExperiencePlugin={},n.shouldShowFirstRunExperienceForAudioEnhancement())),c.retryPlugin={},(c={autoplay:n.playerOptions.autoplay||!1,controls:!n.playerOptions.previewPlayer,heuristicProfile:n.playerOptions.profile||n.defaultProfile,techOrder:["azureHtml5JS","flashSS","html5"],logo:{enabled:!n.playerOptions.disableLogo},plugins:c,traceConfig:{maxLogLevel:1,TraceTargets:[{target:"memory"}]},corsPolicy:n.playerOptions.corsPolicy||o.Constants.PlayerAuthOptions.Anonymous,staleDataTimeLimitInSec:o.Constants.VideoStaleDataTimeLimitInSec,hotKeys:{enableVolumeScroll:!1},manifestFetchAutoRetryForLive:n.playerOptions.isLiveContent,maxRetryCountForLive:15,azureHtml5JS:{infiniteSegmentRetryForPreconditionFailed:!0,maxRetriesForKeyAcquireFailure:o.Constants.HttpRetry.MaxAttemptsForKeyAcquire,maxWaitTimeBetweenRetriesForKeyAcquireMS:o.Constants.HttpRetry.KeyAcquireWaitTimeInMS,allowMixedContent:!n.featureFlagsService.Values.AllowMixedContentKillSwitch},IE11AudioDisabled:n.playerOptions.ie11AudioDisabled,audioOnlyMode:n.playerOptions.audioOnlyMode,audioOnlyTimeThreshold:n.playerOptions.audioOnlyTimeThreshold,audioOnlyRebufferThreshold:n.playerOptions.audioOnlyRebufferThreshold}).reportIssueEnabled=n.telemetryService.isUserFeedbackSupported(),c.audioEnhancementEnabled=n.featureFlagsService.Values.AudioEnhancementUI,c.defaultAudioTrackIsEnhanced=n.featureFlagsService.Values.DefaultAudioTrackIsEnhanced,(n.playerOptions.muted||n.defaultMuted||n.forceMuted)&&(c.muted=!0),n.featureFlagsService.Values.VerboseLogs&&(c.traceConfig={maxLogLevel:3,TraceTargets:[{target:"memory",maxMemoryTraceCount:portalConfiguration.PlayerMaxLogLines}]}),n.featureFlagsService.Values.EnableCEACaptions&&n.playerOptions.isContentSourceLiveStream&&(c.cea708CaptionsSettings={enabled:!0,srclang:"en",label:n.resources.LiveCaptionsLabel}),n.featureFlagsService.Values.LiveEventOptions&&n.shouldBeLiveOnly()&&(c.hotKeys.rewindKey=function(){return!1},c.hotKeys.forwardKey=function(){return!1},c.hotKeys.enableJogStyle=!1,c.hotKeys.enableNumbers=!1,c.hotKeys.seekStep=0,c.staleDataTimeLimitInSec=0,c.playbackSpeed={enabled:!0,speedLevels:[]}),n.playerOptions.previewPlayer||(n.heuristicsPreroll=5,n.heuristicsLivePlaybackOff=15,c.customPlayerSettings={customHeuristicSettings:{livePlaybackOffsetInWallClockSec:n.heuristicsLivePlaybackOff,preRollInWallClockSec:n.heuristicsPreroll}}),_.isNaN(n.livePlaybackOffsetInWallClockSec)||(n.heuristicsLivePlaybackOff=n.livePlaybackOffsetInWallClockSec,_.merge(c,{customPlayerSettings:{customHeuristicSettings:{livePlaybackOffsetInWallClockSec:n.heuristicsLivePlaybackOff}}})),_.isNaN(n.preRollInWallClockSec)||(n.heuristicsPreroll=n.preRollInWallClockSec,_.merge(c,{customPlayerSettings:{customHeuristicSettings:{preRollInWallClockSec:n.heuristicsPreroll}}})),n.featureFlagsService.Values.VariableFragmentSizeHeuristicKillSwitch&&_.merge(c,{customPlayerSettings:{customHeuristicSettings:{useVariableFragmentSizeMode:!1}}}),n.playerOptions.isTeamsQSEvent&&_.merge(c,{customPlayerSettings:{customHeuristicSettings:{windowSizeHeuristics:!1}}}),n.featureFlagsService.Values.removeCookieErrorKillSwitch||u.isCookiesSupported()||(c.useProtectionInfoForPosterAndTextTrack=!0),n.playerLogLevel&&(c.traceConfig={maxLogLevel:n.playerLogLevel,TraceTargets:[{target:"console"}]}),n.forceTech&&(c.techOrder=[n.forceTech]),n.mediaPlayer=amp(e.find(o.Constants.MediaPlayerPreLoadSelector)[0],c),n.playerOptions.showEnhancedAudioTrack&&n.addEventForSettingDefaultAudioTrack(n.featureFlagsService.Values.AudioEnhancementUI,n.featureFlagsService.Values.DefaultAudioTrackIsEnhanced),window.AzureHtml5JS.WebCryptoUtil.Decryptor.useJavascriptLibrary=!1,n.onInit({seekFunction:n.seek.bind(n),getCurrentTime:n.getCurrentTime.bind(n),play:n.play.bind(n),pause:n.pause.bind(n),toggleTheaterMode:n.toggleTheaterMode.bind(n)}),n.playerOptions.enableTelemetry?(n.mediaPlayer.addEventListener(t.playerEvents.analyticsheartbeat,(function(e){n.sendPlayerHeartbeat(e)})),n.mediaPlayer.addEventListener(t.playerEvents.analyticserror,(function(e){d(e)})),n.mediaPlayer.addEventListener(t.playerEvents.decryptorInitialized,(function(e,t){n.decryptorType=t.type})),n.mediaPlayer.addEventListener("livestartupretry",(function(){n.isPlaybackWaitingOnLiveStreamPublish=!0})),n.mediaPlayer.addEventListener("manifestParsingCompleted",(function(){n.isPlaybackWaitingOnLiveStreamPublish&&(n.dataShareService.videoPlaybackLoadStartInMs=performance.now())})),n.mediaPlayer.addEventListener(t.playerEvents.analyticsplaybackwarning,(function(e){var t=n.tracePlayerLogsAndReturnTraceId({eventName:s.TelemetryEventNames.VideoPlaybackWarning,flushLog:!0,logMediaInternals:!1});e.data.telemetryProperties.traceId=t,n.sendPlayerHeartbeat(e)}))):n.mediaPlayer.addEventListener(amp.eventName.error,(function(e){d(e)})),n.featureFlagsService.Values.UserTextTrackSettings&&n.principalService.getMyPrincipalInfo().then((function(e){e=e.data.settings,n.mediaPlayer.trigger("receivedUserPrincipalSettings",{userPrincipalSettings:e}),n.mediaPlayer.addEventListener("captionChange",(function(e,t){t=t,n.principalService.patchMySettings({web:{playbackSettings:{textTrackSettings:i({},t)}}})}))})),n.featureFlagsService.Values.AudioEnhancementUI&&n.playerOptions.showEnhancedAudioTrack&&n.featureFlagsService.Values.AudioEnhancementFirstRunExperience&&n.listenerUpdateFirstRunExperienceForAudioEnhancement();var l,d=function(e){n.startAtInSec=n.mediaPlayer.currentTime(),n.$scope.$evalAsync((function(){var e,t,i,r=n.mediaPlayer.error();r&&(n.lastAMPError=r,n.onLastAmpErrorChange({lastAmpError:n.lastAMPError}),n.unregisterLoadingHeartbeat(),n.unregisterSourceSetHeartbeat(),e=r.code.toString(16),t=!!r.message&&-1<r.message.indexOf("manifest"),i=!1,n.currentRetryCount<n.maxRetryCount&&n.playbackErrorHandler.attemptRetry(r)&&(i=!0,n.currentRetryCount++),i?A():(n.playbackErrorHandler.shouldCheckForVideoAvailability(r)?p:h)(e,t))}))},p=function(e,t){A(),n.liveIngestState=void 0,n.playerOptions.isLiveContent?n.videoService.getIngest(n.videoId).then((function(e){(e=_.get(e,"data"))&&(n.liveIngestState=e.state)})).finally((function(){m(e,t)})):m(e,t)},m=function(e,t){n.onDeletedOrReplaced().then((function(i){if(i.playbackUrls&&n.contentVersion!=i.contentVersion)n.isUpdated=!0,i=_.map(i.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}})),n.playerSources=i,n.playerOptions.playbackUrls=i,t=!1,n.playbackErrorHandler.isDecryptionError(n.lastAMPError)||(e=n.playbackErrorHandler.getVideoDeletedOrReplacedErrorCode(e));else if(n.isProducerView)return void n.isLiveEventStopped().then((function(i){i?(n.lastAMPError=null,n.onLastAmpErrorChange({lastAmpError:n.lastAMPError})):h(e,t)}));h(e,t)})).catch((function(i){i==o.Constants.HttpStatusCode.NotFound?(n.isDeleted=!0,t=!1,n.playbackErrorHandler.isDecryptionError(n.lastAMPError)||(e=n.playbackErrorHandler.getVideoDeletedOrReplacedErrorCode(e))):-1==i&&n.playbackErrorHandler.isActiveTechHtml5()&&(e=n.playbackErrorHandler.getNetworkConnectionErrorCode(e)),h(e,t)}))},A=function(){n.mediaPlayer.error(null),n.mediaPlayer.showBusy()},h=function(e,t){var i={};n.updateError(e,t),i.totalRetryCount=n.totalRetryCount,i.isPageVisible=n.isPageVisible,i.wasPageVisible=n.wasPageVisible,n.mediaPlayer.isFullscreen()&&n.mediaPlayer.exitFullscreen(),n.isRetrying=!1,n.lastAMPError&&(n.lastAMPError.code=parseInt(e,16)),t=n.tracePlayerLogsAndReturnTraceId({eventName:s.TelemetryEventNames.VideoPlayerError,flushLog:!0,logMediaInternals:n.shouldLogMediaInternals()}),f(t),i.errorCode=e,i.reason=n.lastAMPError&&n.lastAMPError.message||null,n.isUpdated&&(i.isUpdated=!0),n.isDeleted&&(i.isDeleted=!0),n.onError({metrics:i,traceId:t}),n.isUpdated=!1,n.isDeleted=!1},f=function(e){var i={triggerType:"error",resultType:s.ResultType.Failure,traceId:e};(e=n.mediaPlayer.telemetryData)&&e.downloadFailed&&(i.downloadFailed=n.mediaPlayer.telemetryData.downloadFailed),i={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:i}},n.sendPlayerHeartbeat(i)};function g(e){e.keyCode===a.KeyCodes.Space&&(e.preventDefault(),n.mediaPlayer.paused()?n.mediaPlayer.play():n.mediaPlayer.pause())}n.featureFlagsService.Values.LiveEventOptions&&n.shouldBeLiveOnly()&&(l=!1,c=function(){l||n.mediaPlayer.paused()||(n.isLiveEventCompleted?(n.onPlayerEnd(),l=!0):n.goToLiveEdge())},n.mediaPlayer.addEventListener(amp.eventName.play,c),n.mediaPlayer.addEventListener("playingInDVR",c),n.mediaPlayer.addEventListener(amp.eventName.loadstart,(function(e){var t;n.$playerProgressControl&&n.$playerPlaybackSpeedControl||(t=$(e.target),n.$playerProgressControl=t.find(o.Constants.MediaPlayerProgressControlSelector),0<n.$playerProgressControl.length&&n.$playerProgressControl.hide(),n.$playerPlaybackSpeedControl=t.find(o.Constants.MediaPlayerPlaybackSpeedControllerSelector),0<n.$playerPlaybackSpeedControl.length&&n.$playerPlaybackSpeedControl.hide(),0<(e=t.find(o.Constants.MediaPlayerTimeControlSelector)).length&&e.addClass("hide"),0<(t=t.find(o.Constants.MediaPlayerLiveControlSelector)).length&&t.attr({tabindex:-1,role:"presentation"}))}))),n.mediaPlayer.addEventListener(t.playerEvents.ended,n.onPlayerEnd),n.mediaPlayer.addEventListener(t.playerEvents.userActiveEvent,(function(){n.onUserActive()})),n.mediaPlayer.addEventListener(t.playerEvents.userInactiveEvent,(function(){n.onUserInactive()})),n.mediaPlayer.addEventListener(amp.eventName.pause,(function(){n.onPause()})),n.mediaPlayer.addEventListener(t.playerEvents.embeddedCaptionsShow,(function(){n.onPlayerCaptionDetected()})),n.mediaPlayer.addEventListener(t.playerEvents.sdnInitSuccess,(function(e,t){n.onSdnInitSuccess({details:t}),n.sdnInitialized=!0})),n.mediaPlayer.addEventListener(t.playerEvents.sdnInitFailure,(function(e,t){n.onSdnInitFailure({details:t}),n.sdnInitialized=!1})),n.mediaPlayer.addEventListener(t.playerEvents.sdnFatalError,(function(e,t){n.onSdnFatalError({details:t})})),n.mediaPlayer.addEventListener(t.playerEvents.videoPlayerFullscreen,(function(){$(".vjs-fullscreen-control").focus()})),n.playerOptions.isLiveContent&&(n.mediaPlayer.addEventListener("segmentsUnavailable",(function(){var e=r.formatAMPErrorCode(n.mediaPlayer.currentTechName(),o.Constants.VideoPlayerErrorCode.ErrorCode_020019C);n.updateError("slate",!1,e),n.slateShown=!0})),n.mediaPlayer.addEventListener("segmentsAvailable",(function(){n.isErrorOccured=!1,n.slateShown=!1,n.isProducerView&&n.$rootScope.$broadcast("producerEncoderConnect")}))),n.isProducerView&&n.mediaPlayer.addEventListener("producerWarnDisconnected",(function(){n.$rootScope.$broadcast("producerEncoderDisconnect")})),n.addEventHandlersForTelemetry(),n.mediaPlayer.addEventListener(amp.eventName.playing,(function(){n.isFirstPlay&&(n.$scope.$emit(o.Constants.Events.PlayerStarted),n.isFirstPlay=!1),n.onPlay(),!n.startAtInSec||isNaN(n.startAtInSec)||n.firstSeekHappenedForStartAt||(n.mediaPlayer.currentTime(n.startAtInSec),n.firstSeekHappenedForStartAt=!0),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.playing,playersessionid:n.playbackSessionId})})),n.mediaPlayer.addEventListener(amp.eventName.canplaythrough,(function(){n.onCanplaythrough(),n.mediaPlayer.controls(!n.playerOptions.previewPlayer),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.canPlaythrough,playersessionid:n.playbackSessionId})})),n.mediaPlayer.addEventListener(amp.eventName.timeupdate,(function(){var e,t;n.isViewed||(t=Math.floor(n.mediaPlayer.currentTime()),0<(e=Math.floor(n.mediaPlayer.duration()))&&(t===n.lastCheckedTime+1&&(n.totalSecondsWatched+=1),n.lastCheckedTime=t,(3<=n.totalSecondsWatched||e<3&&e<=t)&&(n.onViewed(),n.isViewed=!0))),_.isFunction(n.onTimeUpdate)&&(t=Math.floor(n.mediaPlayer.currentTime()),n.onTimeUpdate({currentTime:t}),n.endAtInSec&&!isNaN(n.endAtInSec)&&!n.firstSeekHappenedForEndAt&&t>=n.endAtInSec&&(!n.startAtInSec||isNaN(n.startAtInSec)||n.startAtInSec<n.endAtInSec)&&(n.mediaPlayer.pause(),n.firstSeekHappenedForEndAt=!0)),"undefined"!=typeof MicrosoftStream&&(t=Math.floor(n.mediaPlayer.currentTime()),MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.timeupdate,playersessionid:n.playbackSessionId,time:t}))})),n.enableSearch&&n.mediaPlayer.addEventListener(t.playerEvents.searchEvent,(function(){n.onSearch()})),n.mediaPlayer.addEventListener(t.playerEvents.reportIssue,(function(){n.mediaPlayer.paused()||n.mediaPlayer.pause(),n.onReportIssue()})),n.enableTheaterMode&&(n.mediaPlayer.addEventListener(t.playerEvents.enterTheaterMode,(function(){n.enterTheaterMode()})),n.mediaPlayer.addEventListener(t.playerEvents.exitTheaterMode,(function(){n.exitTheaterMode()}))),n.playerOptions.poster&&n.mediaPlayer.poster(n.playerOptions.poster),n.mediaPlayer.ready((function(){var e=document.querySelector(".vjs-progress-holder.vjs-slider");e&&(e.addEventListener("keydown",g),n.$scope.$on("destroy",(function(){return e.removeEventListener("keydown",g)})))})),n.setPlayerSources(),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.setSource,playersessionid:n.playbackSessionId})}))},m.prototype.shouldShowFirstRunExperienceForAudioEnhancement=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){var n=void 0===t.data.settings.general.audioEnhancementFirstTimeExperienceDateShown;t=e.featureFlagsService.Values.DefaultAudioTrackIsEnhanced;e.mediaPlayer.trigger("receivedFirstRunExperienceSettings",{showFirstRunExperience:n,defaultAudioTrackIsEnhanced:t}),e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).succeed(s.FeatureName.GetPrincipalSettings)}),(function(t){e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).fail(s.FeatureName.GetPrincipalSettings,s.SubFeatureName.PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement,t)}))},m.prototype.listenerUpdateFirstRunExperienceForAudioEnhancement=function(){var e=this;this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementFreShown,(function(t){var n;n={general:{audioEnhancementFirstTimeExperienceDateShown:new Date}},e.playerEventsTrackerFunctions[s.TelemetryEventNames.freShown]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.freShown](p),e.principalService.patchMySettings(n).then((function(){e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).succeed(s.FeatureName.UpdatePrincipalSettings,{subFeatureName:s.SubFeatureName[s.SubFeatureName.PrincipalService_PatchFreForAudioEnhancement]})}),(function(t){e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).fail(s.FeatureName.UpdatePrincipalSettings,s.SubFeatureName.PrincipalService_PatchFreForAudioEnhancement,t)}))}))},m.prototype.unregisterLoadingHeartbeat=function(){this.loadingHeartbeatInterval&&(this.$interval.cancel(this.loadingHeartbeatInterval),this.loadingHeartbeatInterval=null)},m.prototype.unregisterSourceSetHeartbeat=function(){this.sourceSetTimeout&&(this.$timeout.cancel(this.sourceSetTimeout),this.sourceSetTimeout=null)},m.prototype.convertSrcToHLSv3=function(e){var t=o.Constants.HLSFormatString,n=o.Constants.HLSVersion4String,i=o.Constants.HLSVersion3String;return _.includes(e,n)?_.replace(e,n,i):!_.includes(e,i)&&_.includes(e,t)?_.replace(e,t,i):e},m.prototype.convertSrcToOrigin=function(e){var t=o.Constants.HLSFormatString;return _(e).split("playbackurl=").find((function(e){return _.includes(e,t)}))},m.prototype.setPlayerSources=function(){var e=this;this.playerSources=_.map(this.playerOptions.playbackUrls,(function(t){t.disableUrlRewriter=!0,t.protectionInfo=[{type:amp.protectionType.AES,authenticationToken:"Bearer "+sessionInfo.AccessToken}];var n=_.cloneDeep(t);return e.featureFlagsService.Values.ForceHLSv3&&e.playerOptions.isLiveContent&&n.type===o.Constants.VideoMimeTypes.hls&&(n.src=e.convertSrcToHLSv3(n.src)),e.featureFlagsService.Values.HLSToOrigin&&n.type===o.Constants.VideoMimeTypes.hls&&e.shouldGoToOriginForHLS()&&(t=e.convertSrcToOrigin(n.src),n.src=t||n.src),n})),this.isDeleted=!1,this.isUpdated=!1,this.mediaPlayer.src(this.playerSources,this.playerOptions.tracks)},m.prototype.shouldGoToOriginForHLS=function(){var e,t=!1;return this.playerOptions.encodingProfile&&(t=0===(e=this.playerOptions.encodingProfile.toLowerCase()).indexOf(d.EncodingProfilePassThrough1LayerPrefix)||0===e.indexOf(d.EncodingProfileContentAwarePrefix)),!t&&r.isIOS("11")},m.prototype.addEventForSettingDefaultAudioTrack=function(e,t){var n=this;this.mediaPlayer.addEventListener(amp.eventName.loadeddata,(function(){var i=n.mediaPlayer.currentAudioStreamList(),r=1-(s="OriginalAudio"===i.streams[0].name?0:1),o=i.enabledIndices[0],s=s;e&&t&&n.playerOptions.allowAudioEnhancement&&(s=r),o!=s&&i.switchIndex(s)}))},m.prototype.addEventHandlersForTelemetry=function(){var e=this;this.mediaPlayer.addEventListener(t.playerEvents.ended,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerEnded]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerEnded](e.playerOptions.showEnhancedAudioTrack)})),this.mediaPlayer.addEventListener(t.playerEvents.rebufferRatioReached,(function(){var n=e.tracePlayerLogsAndReturnTraceId({eventName:t.playerEvents.rebufferRatioReached});n={triggerType:t.playerEvents.rebufferRatioReached,traceId:n},n={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:n}};e.sendPlayerHeartbeat(n)})),this.mediaPlayer.addEventListener(amp.eventName.loadstart,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoplayerLoadStart]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoplayerLoadStart](),null==e.loadingHeartbeatInterval&&(e.loadingHeartbeatInterval=e.$interval((function(){var n={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:{triggerType:"loading"}}};e.sendPlayerHeartbeat(n)}),o.Constants.LoadingHeartbeatInterval))})),this.mediaPlayer.addEventListener(amp.eventName.sourceset,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSourceSet]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSourceSet](),e.sourceSetTimeout=e.$timeout((function(){var n={triggerType:n="sourceSetTimeout",traceId:e.tracePlayerLogsAndReturnTraceId({eventName:n,flushLog:!0})};n={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:n}};e.sendPlayerHeartbeat(n)}),o.Constants.PlayerSetSourceLoadTimeout)})),this.mediaPlayer.addEventListener(amp.eventName.loadeddata,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded](),e.unregisterLoadingHeartbeat(),e.unregisterSourceSetHeartbeat();var t=e.mediaPlayer.currentVideoStreamList();if(t)for(var n=0;n<t.streams.length;n++)t.streams[n].addEventListener(amp.streamEventName.trackselected,(function(t,n){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerManualBitRateChanged]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerManualBitRateChanged]()}))})),this.mediaPlayer.addEventListener(amp.eventName.start,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerStarted]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerStarted](e.playerOptions.showEnhancedAudioTrack,e.featureFlagsService.Values.DefaultAudioTrackIsEnhanced)})),this.mediaPlayer.addEventListener(amp.eventName.play,(function(){e.currentRetryCount=0,e.lastAMPError=null,e.onLastAmpErrorChange({lastAmpError:e.lastAMPError}),e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlay]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlay]()})),this.mediaPlayer.addEventListener(amp.eventName.playing,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlaying]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlaying]()})),this.mediaPlayer.addEventListener(amp.eventName.pause,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPause]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPause](),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.pause,playersessionid:e.playbackSessionId})})),this.mediaPlayer.addEventListener(amp.eventName.seeking,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSeeking]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSeeking]()})),this.mediaPlayer.addEventListener(t.playerEvents.videoPlayerFullscreen,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerFullscreen]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerFullscreen]()})),this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementStateChanged,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.audioEnhancementStateChanged]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.audioEnhancementStateChanged]()})),this.mediaPlayer.addEventListener(t.playerEvents.failedToChangeAudioTrack,(function(t,n){e.playerEventsTrackerFunctions[s.TelemetryEventNames.failedToChangeAudioTrack]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.failedToChangeAudioTrack](t,n)})),this.mediaPlayer.addEventListener(t.playerEvents.videoCaptionsOn,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOn]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOn]()})),this.mediaPlayer.addEventListener(t.playerEvents.videoCaptionsOff,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOff]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOff]()})),this.mediaPlayer.addEventListener(amp.eventName.waiting,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerWaiting]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerWaiting]()})),this.mediaPlayer.addEventListener(t.playerEvents.analyticsstreamloaded,(function(t){t=e.mediaPlayer.getEventMetrics(t.type),e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded](t)})),this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementFreClosed,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.freClosed]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.freClosed](p)})),this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementFreOpenedLearnMore,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.freOpenedLearnMore]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.freOpenedLearnMore](p)}))},m.prototype.seek=function(e,t){void 0===t&&(t=!0),this.mediaPlayer&&_.isNumber(e)&&!isNaN(e)&&(this.mediaPlayer.currentTime(e),t&&this.mediaPlayer.play(),r.isItemInView(this.mediaPlayerId)||(this.$location.hash(this.mediaPlayerId),this.$anchorScroll()))},m.prototype.play=function(){this.mediaPlayer.play()},m.prototype.pause=function(){this.mediaPlayer.pause()},m.prototype.updateError=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=""),this.isErrorOccured=!0,this.displayErrorMessageLink=null,"slate"===e)this.displayErrorCode="0x"+n,this.noActions=!0,this.hideSessionInfo=!0,this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayer.EncoderErrorCode,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.EncoderErrorLink,this.displayErrorMessageLink=o.Constants.LiveEncoderLearnMoreLink):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode20019CAudienceSlate,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode20019CAudience);else switch(this.displayErrorCode="0x"+e,e.substring(1)){case o.Constants.VideoPlayerErrorCode.ErrorCode_0200000:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode200000,this.displayErrorDescriptionSubText="";break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200191:this.displayErrorDescription=this.resources.VideoPlayerErrorCode200191,this.displayErrorDescriptionSubText="";break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200194:this.isDeleted?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Manifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194ManifestSubtext,this.noActions=!0):this.isUpdated?(this.displayErrorDescription=this.resources.VideoUpdatedDescription,this.displayErrorDescriptionSubText=this.resources.VideoUpdatedSubtext,this.noActions=!1,this.errorBoxPrimaryButtonLabel=this.resources.VideoUpdatedButtonLabel,this.errorBoxSecondaryButtonLabel=""):t?this.playerOptions.isLiveContent?this.isLiveEventCompleted?this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194LiveCompleteManifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194LiveCompleteManifestSubtext,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194LiveCompleteManifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194LiveCompleteManifestAudienceSubtext):this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Producer,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.EncoderErrorLink,this.displayErrorMessageLink=o.Constants.LiveEncoderLearnMoreLink):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Audience,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194AudienceSubtext):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Manifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194ManifestSubtext):(this.playerOptions.isLiveContent?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194FragmentPlayback,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194LiveCompleteManifestSubtext):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194FragmentPlayback,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194FragmentPlaybackSubtext),this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors);break;case o.Constants.VideoPlayerErrorCode.ErrorCode_020019C:this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode20019CProducer,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.EncoderErrorLink,this.displayErrorMessageLink=o.Constants.LiveEncoderLearnMoreLink):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode20019CAudience,this.displayErrorDescriptionSubText="");break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200258:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode200000,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200258Subtext,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200259:case o.Constants.VideoPlayerErrorCode.ErrorCode_020025B:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode200000,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200258Subtext,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0300000:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode300000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400002:this.displayErrorDescription=this.resources.VideoPlayerErrorCode400000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400003:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode300000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400004:this.displayErrorDescription=this.resources.VideoPlayerErrorCode400000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400005:this.displayErrorDescription=this.resources.VideoPlayerErrorCode400000,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode400000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0500004:case o.Constants.VideoPlayerErrorCode.ErrorCode_0500005:this.displayErrorDescription=this.resources.VideoPlayerErrorCode200191,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0600000:this.noActions=!0,this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0600001:r.isUnsupportedFlashVersionInstalled()?(this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600001UnsupportedFlashInstalled,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600001UnsupportedFlashInstalledSubtext):(this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600001,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600001Subtext),this.noActions=!0,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0600003:this.noActions=!0,this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600001,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600001Subtext;break;default:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCodeDefault,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext}},m.prototype.sendPlayerHeartbeat=function(e){e.triggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.CanPlaythrough&&(this.unregisterLoadingHeartbeat(),this.unregisterSourceSetHeartbeat());var t={};this.playerOptions.showEnhancedAudioTrack&&(t.defaultAudioTrackIsEnhanced=this.featureFlagsService.Values.DefaultAudioTrackIsEnhanced),t.playerSourceResetCount=this.totalRetryCount,t.heuristicsPreroll=this.heuristicsPreroll,t.heuristicsLivePlaybackOff=this.heuristicsLivePlaybackOff;var n,i=e.data&&e.data.telemetryProperties?e.data.telemetryProperties:null;(t=i?_.extend(t,i):t).isRetrying=this.isRetrying,this.mediaPlayer&&((n=this.mediaPlayer.currentAudioStreamList())&&n.streams&&0<n.streams.length&&(i=n.enabledIndices[0],t.currentAudioTrackName=n.streams[i].name),t.currentVolume=this.getCurrentVolume()),t.sdnInitialized=this.sdnInitialized,t.EmbeddedCaptionNumber=this.liveEventCaptionNumber,t.isPageVisible=this.isPageVisible,t.wasPageVisible=this.wasPageVisible,t.isAudioOnly=this.isAudioOnly,this.isDeleted&&(t.isDeleted=!0),this.isUpdated&&(t.isUpdated=!0),this.decryptorType&&(t.decryptorType=this.decryptorType);try{t.forms=JSON.stringify(this.getFormDataForAnalytics(this.timedEvents||[]))}catch(e){t.forms=""}t.isInteractive=(this.timedEvents||[]).some((function(e){return!e.hidden})),this.lastAMPError&&(t.errorCode=this.lastAMPError.code.toString(16),t.reason=this.lastAMPError.message,this.liveIngestState&&(t.ingestState=this.liveIngestState)),e&&e.data&&e.data.telemetryProperties&&(this.lastHeartbeatTriggerType=e.data.telemetryProperties.triggerType),this.summaryHeartbeat({properties:t})},m.prototype.getFormDataForAnalytics=function(e){return e&&e.filter((function(e){return"form"===e.type&&!e.hidden&&null!==e.eventData})).map((function(e){return{id:e.id,formId:e.eventData.formId,timeCode:e.endTime,viewed:e.eventData.hasBeenShown||!1}}))},m.prototype.sendPlaybackSummary=function(e){var t={};this.totalRetryCount&&(t.totalRetryCount=this.totalRetryCount),this.decryptorType&&(t.decryptorType=this.decryptorType),e&&(t.triggerType=e),this.lastHeartbeatTriggerType=e,this.lastAMPError&&(t.errorCode=this.lastAMPError.code.toString(16),t.reason=this.lastAMPError.message),t.isPageVisible=this.isPageVisible,t.wasPageVisible=this.wasPageVisible,"function"==typeof this.playbackSummary&&this.playbackSummary({properties:t})},m.prototype.retryPlayer=function(e,t,n){void 0===t&&(t={}),this.totalRetryCount=this.totalRetryCount+1;var i=this.tracePlayerLogsAndReturnTraceId({eventName:s.TelemetryEventNames.VideoPlayerRetryOnError,flushLog:!0,logMediaInternals:this.shouldLogMediaInternals()});this.firstSeekHappenedForStartAt=!1,this.firstSeekHappenedForEndAt=!1;var r="",o="";this.lastAMPError&&(r=this.lastAMPError.code.toString(16),o=this.lastAMPError.message),this.onPlayerRetry({retryCount:this.totalRetryCount,metrics:t,traceId:i,eventType:n?n.type:null,enableTelemetry:this.playerOptions.enableTelemetry,manualRetry:e,errorCode:r,reason:o}),this.mediaPlayer.options({sourceSetByRetry:!0}),this.mediaPlayer.error(null),this.setPlayerSources(),this.isRetrying=!1,this.isPlaybackWaitingOnLiveStreamPublish=!1},m.prototype.shouldLogMediaInternals=function(){if(this.lastAMPError&&!this.featureFlagsService.Values.UploadMediaInternalsKillSwitch){var e=c.PlaybackErrorHandler.getTechIndependentErrorCode(this.lastAMPError);if(e&&2<=e.length&&(e=e.charAt(1))!==o.Constants.AMPErrorCategoryPrefixForNetworkErrors&&e!==o.Constants.AMPErrorCategoryPrefixForSourcePlayerMismatchErrors)return!0}return!1},m.prototype.shouldBeLiveOnly=function(){return!this.isProducerView&&this.featureFlagsService.Values.LiveEventOptions&&this.onDemandOptions&&!this.onDemandOptions.enablePlayback&&this.onDemandOptions&&!this.onDemandOptions.enableDownload&&this.playerOptions.isLiveContent&&!this.isLiveEventCompleted},Object.defineProperty(m.prototype,"shouldShowEndEventMsgAfterPlaybackEnd",{get:function(){return this.featureFlagsService.Values.LiveEventOptions&&!this.onDemandOptions.enablePlayback&&this.playerOptions.isLiveContent},enumerable:!0,configurable:!0}),m.prototype.goToLiveEdge=function(){this.mediaPlayer.currentTime(this.mediaPlayer.duration())},m.prototype.getCurrentTime=function(){return this.mediaPlayer.currentTime()},m.prototype.getCurrentVolume=function(){return this.mediaPlayer.volume()},m.prototype.toggleTheaterMode=function(){this.mediaPlayer.toggleTheaterMode()},m.prototype.retryMediaPlayer=function(e,t){void 0===e&&(e=!0),this.isErrorOccured=!1,this.isRetrying=!0,t&&(this.mediaPlayer.options().techOrder=[t],this.mediaPlayer.reset&&this.mediaPlayer.reset()),this.isUpdated?this.reloadUpdatedVideo():this.retryPlayer(e)},m.prototype.isFlashSSTechSupported=function(){var e=amp.getTech(o.Constants.AMPTechNames.Flash);return e&&e.isSupported()},m.prototype.didPlaybackStart=function(){return!this.isFirstPlay},m.$inject=["$q","$scope","$rootScope","$location","navigationService","sessionManager","resources","$anchorScroll","$interval","$timeout","telemetryService","featureFlagsService","sdnUtilService","principalService","dataShareService","videoService"],n=m,t.MediaPlayerController=n},"./common/components/MediaPlayer/PlaybackErrorHandler.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/services/SessionManager.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts");s.prototype.attemptRetry=function(e){var t=this;if(this.isTokenExpired())return this.refreshTokenAndRestartPlayback(),!0;if(this.isDash401Error(e.message)||this.isFlash401Error(e.message))return sessionInfo.AccessToken=null,this.refreshTokenAndRestartPlayback(),!0;var n=s.getTechIndependentErrorCode(e);if(this.shouldAttemptFlashSSFallback(n))return this.postDelayed(s.retryDelayForAbortErrorFlashSSTechFallbackMS,(function(){t.controller.retryMediaPlayer(!1,r.Constants.AMPTechNames.Flash)})),!0;if(this.isGenericOrMediaError(n)){if(this.isActiveTechDash())return this.postDelayed(s.retryDelayForDashDecodeErrorsMS,(function(){t.controller.retryMediaPlayer(!1)})),!0;if(this.isActiveTechHtml5())return this.postDelayed(s.retryDelayForHLSMS,(function(){t.controller.retryMediaPlayer(!1)})),!0}return!!this.isFlashKeyTimeoutError(e.message)&&(this.postDelayed(s.retryDelayForFlashKeyAcquireTimeout,(function(){t.controller.retryMediaPlayer(!1)})),!0)},s.prototype.postDelayed=function(e,t){this.cancelCallback(),this.callbackTimerPromise=this.timeoutService((function(){t()}),e)},s.prototype.cancelCallback=function(){this.callbackTimerPromise&&(this.timeoutService.cancel(this.callbackTimerPromise),this.callbackTimerPromise=null)},s.prototype.dispose=function(){this.clearTokenRefreshBroadcastListener(),this.cancelCallback()},s.prototype.clearTokenRefreshBroadcastListener=function(){this.unregisterTokenRefreshCall&&this.unregisterTokenRefreshCall()},s.prototype.refreshTokenAndRestartPlayback=function(){var e=this;this.sessionManager.stop(),this.unregisterTokenRefreshCall=this.controller.receiveBroadcast(r.Constants.Events.TokenRenewedWithApiGateway,(function(){e.controller.retryMediaPlayer(!1),e.clearTokenRefreshBroadcastListener()})),this.sessionManager.start()},s.prototype.isActiveTechHtml5=function(){return this.controller.getPlayer().currentTechName()===r.Constants.AMPTechNames.Html5},s.prototype.isActiveTechDash=function(){return this.controller.getPlayer().currentTechName()===r.Constants.AMPTechNames.AzureHtml5JS},s.prototype.isTokenExpired=function(){return i.SessionManager.isTokenExpired()},s.prototype.isDash401Error=function(e){return e&&e.replace(/Http: 0x0/,"")===r.Constants.VideoPlayerErrorCode.ErrorCode_0200191},s.prototype.isFlash401Error=function(e){return e&&e===r.Constants.VideoPlayerErrorMessage.ErrorMessageKeyAcquireAuthFailFlash},s.prototype.isFlashKeyTimeoutError=function(e){return e&&e===r.Constants.VideoPlayerErrorMessage.ErrorMessageKeyAcquireTimeoutFlash},s.prototype.isDash404error=function(e){return e&&e.replace(/Http: 0x0/,"")===r.Constants.VideoPlayerErrorCode.ErrorCode_0200194},s.prototype.shouldAttemptFlashSSFallback=function(e){return e===r.Constants.VideoPlayerErrorCode.ErrorCode_0100000&&o.isIE()&&this.isActiveTechDash()&&this.controller.isFlashSSTechSupported()&&!o.isUnsupportedFlashVersionInstalled()&&!this.controller.didPlaybackStart()},s.prototype.shouldCheckForVideoAvailability=function(e){var t=s.getTechIndependentErrorCode(e);return t===r.Constants.VideoPlayerErrorCode.ErrorCode_0200194||t===r.Constants.VideoPlayerErrorCode.ErrorCode_0500005||this.isDash404error(e.message)||this.isActiveTechHtml5()&&this.isGenericOrMediaError(t)},s.prototype.isDecryptionError=function(e){return s.getTechIndependentErrorCode(e)===r.Constants.VideoPlayerErrorCode.ErrorCode_0500005},s.getTechIndependentErrorCode=function(e){return(e=e.code.toString(16))&&e.substring(1)},s.prototype.getVideoDeletedOrReplacedErrorCode=function(e){return e.substring(0,1)+r.Constants.VideoPlayerErrorCode.ErrorCode_0200194},s.prototype.getNetworkConnectionErrorCode=function(e){return e.substring(0,1)+r.Constants.VideoPlayerErrorCode.ErrorCode_020025B},s.prototype.isGenericOrMediaError=function(e){return e==r.Constants.VideoPlayerErrorCode.ErrorCode_0300000||e==r.Constants.VideoPlayerErrorCode.ErrorCode_0000000},s.retryDelayForHLSMS=500,s.retryDelayForDashDecodeErrorsMS=1e3,s.retryDelayForAbortErrorFlashSSTechFallbackMS=50,s.retryDelayForFlashKeyAcquireTimeout=100,n=s;function s(e,t,n){this.controller=e,this.sessionManager=t,this.timeoutService=n,this.unregisterTokenRefreshCall=null}t.PlaybackErrorHandler=n},"./common/components/MediaPlayer/PlayerPageTelemetryBaseClass.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/appUtil.ts"),a=n("./common/components/MediaPlayer/MediaPlayerController.ts");c.prototype.setScreenName=function(e){this.telemetryTrackerBase=this.telemetryServiceBase.getTracker(e)},c.prototype.setTrafficSource=function(e){this.trafficSource=e},c.prototype.reportPlayerFeatureSuccess=function(){this.reportTelemetry()},c.prototype.summaryHeartbeat=function(e){this.additionalTelemetryProperties.currentAudioTrackName=e.currentAudioTrackName;var t=this.extendTelemetryProperties(e),n=this.playerCustomMeasurement(this.heartbeatEventName);t.downloadFailed&&(t.downloadFailed=JSON.stringify(t.downloadFailed)),delete n.bitrateDistributions,t.isRetrying&&(delete t.errorCode,delete t.reason),t.errorCode&&"null"!==t.errorCode||delete t.errorCode,t.reason&&"null"!==t.reason||delete t.reason,t.contentSource=this.contentSource,t.contentType=this.contentType,t.ieAudioIsDisabled=s.isBrowserAudioDisabled(),this.setGOPSize(),t.GOPSize=this.GOPSize,t.timeSinceStartInMs=performance.now()-this.dataShareServiceBase.videoPlaybackLoadStartInMs||0,this.sdnUtilServiceBase.sdnSettings&&(t.sdnName=this.sdnUtilServiceBase.sdnSettings.provider),t.isCyclePresent&&t.triggerType==amp.eventName.canplaythrough&&(t.traceId=this.tracePlayerLogsAndReturnTraceId(t)),this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.VideoPlayerHeartbeat,t,n),"undefined"!=typeof MicrosoftStream&&(e=_.assign({},t,n),MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.heartbeat,message:JSON.stringify(e)})),this.reportPlaybackQualityIssues(t,n)},Object.defineProperty(c.prototype,"playbackSummaryData",{get:function(){this.getAmpPlayer();var e=this.extendTelemetryProperties({}),t=this.playerCustomMeasurement(this.heartbeatEventName);return{playIntervals:e.playIntervals,uniquePlayIntervals:e.uniquePlayIntervals,playbackSessionId:e.playbackSessionId,playbackTech:e.PlaybackTech,playerVersion:e.PlayerVersion,duration:t.duration,currentTime:t.currentTime,currentPlaybackRate:t.CurrentPlaybackRate,endReached:t.endReached,enteredFullscreen:t.EnteredFullscreen,fullscreenTime:t.fullscreenTime,percentPlayed:t.percentPlayed,playTime:t.playTime,uniquePlayTime:t.uniquePlayTime}},enumerable:!0,configurable:!0}),c.prototype.playbackSummary=function(e){this.getAmpPlayer();var t,n=this.extendTelemetryProperties(e),i=this.playerCustomMeasurement(this.heartbeatEventName);this.setGOPSize(),n.GOPSize=this.GOPSize,n.timeSinceStartInMs=performance.now()-this.dataShareServiceBase.videoPlaybackLoadStartInMs||0,!this.playerSummarySent&&this.mediaPlayer&&(delete i.bitrateDistributions,(t={type:this.heartbeatEventName,data:n}).data.telemetryProperties={triggerType:e.triggerType},"destroy"!=e.triggerType&&this.mediaPlayer.trigger(t),this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.VideoPlayerSummary,n,i),this.isProducerView||(this.reportPlaybackQualityIssues(n,i),this.reportPlaybackQualityNormal(n,i)),this.playerSummarySent=!0)},c.prototype.trackLiveEventStarted=function(){this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.liveEventStarted,this.additionalTelemetryProperties)},c.prototype.trackLiveEventEnded=function(){this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.liveEventEnded,this.additionalTelemetryProperties)},c.prototype.resetTelemetryPropertiesForSourceset=function(){this.additionalTelemetryProperties.loading&&delete this.additionalTelemetryProperties.loading},c.prototype.playerEventsTracker=function(){var e=this,t={};return t[r.TelemetryEventNames.videoPlayerSourceSet]=function(){e.resetTelemetryPropertiesForSourceset(),e.timeAtSourceSet=Date.now(),e.playbackHasNotStarted=!0,e.checkPlaybackStarted(),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerSourceSet,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoplayerLoadStart]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoplayerLoadStart,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerLoaded]=function(){e.getAmpPlayer(),e.additionalTelemetryProperties.isLive=a.getAMPPlayer().isLive();var t=angular.copy(e.additionalTelemetryProperties);e.mediaPlayer&&e.mediaPlayer.presentationTimeOffsetInSec&&(t.presentationTimeOffsetInSec=e.mediaPlayer.presentationTimeOffsetInSec()||0);var n=e.getAudioStreamList();n&&(e.additionalTelemetryProperties.currentAudioTrackName=e.getAudioTrackName(n)),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerLoaded,t)},t[r.TelemetryEventNames.videoPlayerEnded]=function(t){var n=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});n=e.setHasAudioEnhancementAndAudioTrackNameValues(n,t);e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerEnded,n)},t[r.TelemetryEventNames.videoPlayerStarted]=function(t,n){var o=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});o=e.setHasAudioEnhancementAndAudioTrackNameValues(o,t);t&&(o.defaultAudioTrackIsEnhanced=n),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerStarted,o)},t[r.TelemetryEventNames.videoPlayerPlay]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerPlay,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerPlaying]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerPlaying,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerPause]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerPause,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerSeeking]=function(){var t=i({},e.additionalTelemetryProperties);e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerSeeking,t)},t[r.TelemetryEventNames.videoPlayerFullscreen]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerFullscreen,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoCaptionsOn]=function(){var t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoCaptionsOn,t)},t[r.TelemetryEventNames.videoCaptionsOff]=function(){var t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoCaptionsOff,t)},t[r.TelemetryEventNames.videoPlayerWaiting]=function(){var t=e.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.videoPlayerWaiting),n=angular.copy(e.additionalTelemetryProperties);n.traceId=t,e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerWaiting,n)},t[r.TelemetryEventNames.videoPlayerManualBitRateChanged]=function(){e.additionalTelemetryProperties.manualBitrateChanged=!0},t[r.TelemetryEventNames.audioEnhancementStateChanged]=function(){var t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId}),n=e.getAudioStreamList();n&&(t.currentAudioTrackName=e.getAudioTrackName(n),t.currentTime=e.mediaPlayer.currentTime()),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.audioEnhancementStateChanged,t)},t[r.TelemetryEventNames.freClosed]=function(t){t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,feature:t}),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.freClosed,t)},t[r.TelemetryEventNames.freOpenedLearnMore]=function(t){t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,feature:t}),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.freOpenedLearnMore,t)},t[r.TelemetryEventNames.freShown]=function(t){t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,feature:t}),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.freShown,t)},t[r.TelemetryEventNames.failedToChangeAudioTrack]=function(t,n){n=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,error:n}),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.failedToChangeAudioTrack,n)},t[r.TelemetryEventNames.videoPlayerAnalyticsstreamloaded]=function(t){var n=angular.copy(e.additionalTelemetryProperties);t&&t.loadTime>e.maxPlayerLoadTimeForTelemetryInSec&&(t=e.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.videoPlayerAnalyticsstreamloaded),n.traceId=t),e.playbackHasNotStarted=!1,e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerAnalyticsstreamloaded,n)},t},c.prototype.extendTelemetryProperties=function(e){var t;return e=e||{},e=_.extend(e,this.additionalTelemetryProperties),this.playerOptions.enableTelemetry&&(t=_.extend(e,this.playerCustomProperties)),t},c.prototype.sendPlayerTelemetrySummary=function(e){var t;this.mediaPlayer&&(t=this.playerCustomProperties,e&&(t.triggerType=e),t&&this.playbackSummary(t))},c.prototype.setHasAudioEnhancementAndAudioTrackNameValues=function(e,t){return e.hasEnhancedAudioTrack=t,(t=this.getAudioStreamList())&&(e.audioTrackName=this.getAudioTrackName(t)),e},c.prototype.getAudioStreamList=function(){return this.mediaPlayer?this.mediaPlayer.currentAudioStreamList():null},c.prototype.getAudioTrackName=function(e){if(e&&e.streams&&0<e.streams.length){var t=e.enabledIndices[0];return e.streams[t].name}},c.prototype.cancelPlaybackStartTimer=function(){isNaN(this.playbackTimer)||(clearTimeout(this.playbackTimer),this.playbackTimer=NaN)},c.prototype.checkPlaybackStarted=function(){var e=this;this.cancelPlaybackStartTimer(),this.playbackTimer=setTimeout((function(){var t;e.playbackHasNotStarted||(t=r.FeatureName.VideoPlayback_LoadTimeExceededThreshold,e.isContentSourceLiveStream&&(t=r.FeatureName.LivePlayback_LoadTimeExceededThreshold),e.isProducerView&&(t=r.FeatureName.ProducerPlayback),e.telemetryTrackerBase.fail(t,null,null,e.extendTelemetryProperties({}),{loadTime:e.playbackTimeout})),e.playbackTimer=NaN}),this.playbackTimeout)},Object.defineProperty(c.prototype,"playerCustomProperties",{get:function(){var e;return this.getAmpPlayer(),this.mediaPlayer&&this.mediaPlayer.getTelemetryProperties&&(this.staticTelemetryProperties||(this.staticTelemetryProperties=this.mediaPlayer.getTelemetryProperties()),this.mediaPlayer.getDynamicTelemetryProperties&&(e=this.mediaPlayer.getDynamicTelemetryProperties(),this.mediaPlayerProperties=_.extend(this.staticTelemetryProperties,e))),this.mediaPlayer&&this.mediaPlayer.getChronometerData&&(e=this.mediaPlayer.getChronometerData(),this.mediaPlayerProperties=_.extend(this.staticTelemetryProperties,e)),this.playbackSessionId&&this.mediaPlayerProperties&&(this.mediaPlayerProperties.playbackSessionId=this.playbackSessionId),this.mediaPlayerProperties},enumerable:!0,configurable:!0}),c.prototype.playerCustomMeasurement=function(e){this.getAmpPlayer();var t={},n=this.mediaPlayer;return this.mediaPlayer&&n.getEventMetrics&&(t=n.getEventMetrics(e)),t},c.prototype.getAmpPlayer=function(){this.mediaPlayer||(this.mediaPlayer=a.getAMPPlayer())},c.prototype.tracePlayerLogsAndReturnTraceId=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=s.generateGuid();return this.tracePlayerLogs(e,i,t,{},n),i},c.prototype.onError=function(e,t,n,i){void 0===t&&(t=""),void 0===n&&(n=!1),void 0===i&&(i="");var a=angular.copy(this.playerCustomProperties);i=_.extend(e,this.playerCustomMeasurement(i));a.errorCode=a.errorCode||i.errorCode,a.reason=a.reason||i.reason,i.errorCode&&delete i.errorCode,i.reason&&delete i.reason,"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.error,errorcode:a.errorCode,message:a.reason,playersessionid:this.playbackSessionId}),a.resourceId=this.videoId,this.featureFlagsServiceBase.Values.VerboseLogs&&""===t&&(t=this.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.VideoPlayerError,!1)),a.traceId=t;var c=a.errorCode;-1!==_.findIndex(this.warningErrorCodes,(function(e){return _.includes(c,e)}))&&(n=!0),this.playbackHasNotStarted&&(a.loadTime=Math.round(Date.now()-this.timeAtSourceSet)),n||!sessionInfo.ApiGatewayUri?this.reportTelemetry(null,a,i,!0):(n=c&&"string"==typeof c?c[0]:null,a.errorCode=c,this.reportTelemetry(s.getErrorBucket(c),a,0===Object.keys(i).length?null:i,!1,n))},c.prototype.onPlayerRetry=function(e,t,n,i,o,s,a,c,l){void 0===n&&(n=""),void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!0),void 0===a&&(a=!1),void 0===c&&(c=""),void 0===l&&(l=""),this.dataShareServiceBase.videoPlaybackLoadStartInMs=performance.now(),this.additionalTelemetryProperties.loadTimeSinceStartInMs=0,i=angular.copy(this.playerCustomProperties),s&&(u=this.playerCustomMeasurement(o));var u=_.extend(t,u);i.resourceId=this.videoId,i.manualRetry=a,c&&(i.errorCode=c),l&&(i.reason=l),i.retryCount=e,this.featureFlagsServiceBase.Values.VerboseLogs&&""===n&&(n=this.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.VideoPlayerRetryOnError,!1)),i.traceId=n,this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.VideoPlayerRetryOnError,i,u)},c.prototype.tracePlayerLogs=function(e,t,n,i,r){if(void 0===n&&(n=!1),void 0===i&&(i={}),void 0===r&&(r=!1),this.featureFlagsServiceBase.Values.VerboseLogs&&(this.getAmpPlayer(),this.mediaPlayer)){var s=this.mediaPlayer.getMemoryLog(n),a=angular.copy(i);if(a.eventName=e,a.traceId=t,a.playbackSessionId=this.playbackSessionId,a.resourceId=this.videoId,i.errorCode&&(a.errorCode=i.errorCode),i.reason&&(a.reason=i.reason),s){for(var c=1,l=0;l<=s.length;){var u=s.substr(l,o.Constants.MaxTraceMessage);u&&(a.partNumber=c,this.telemetryTrackerBase.trackTrace(u,a),l+=o.Constants.MaxTraceMessage,c++)}r&&this.reportMediaInternals(a,e)}else e="no verbose traces are generated for this playback event: "+e,this.telemetryTrackerBase.trackTrace(e,a)}},c.prototype.reportMediaInternals=function(e,t){var n,i,r=this;a.getAMPPlayer()&&a.getAMPPlayer().playerElement()&&0<a.getAMPPlayer().playerElement().getElementsByTagName("video").length&&(i=a.getAMPPlayer().playerElement().getElementsByTagName("video").item(0))&&(n=Number(i.getAttribute(o.Constants.ChromiumEdgeRendererIdAttributeName)),i=Number(i.getAttribute(o.Constants.ChromiumEdgePlayerIdAttributeName)),window.chrome&&window.chrome.runtime&&window.chrome.runtime.sendMessage&&window.chrome.runtime.sendMessage(o.Constants.ChromiumEdgeMediaInternalsEditorExtensionId,{api:"getLog",rendererId:n,playerId:i},(function(n){if(n){var i=r.formatMediaInternals(n);if(i)for(var s=1,a=0,c="reported media internals only for : "+t;a<=i.length;){var l=i.substr(a,o.Constants.MaxTraceMessage);l&&(e.mediaInternalsPartNumber=s,e.mediaInternals=l,r.telemetryTrackerBase.trackTrace(c,e),a+=o.Constants.MaxTraceMessage,s++)}}})))},c.prototype.formatMediaInternals=function(e){try{var t='{"value":"',n=JSON.stringify(e).replace(/\\/g,""),i=0,r=n.length;return 0===n.search(t)&&(r-=i=t.length),n.lastIndexOf('"}')==n.length-'"}'.length&&(r-='"}'.length),r!=n.length&&(n=n.substr(i,r)),n}catch(t){return e}},c.prototype.reportTelemetry=function(e,t,n,i,o){void 0===i&&(i=!1),this.telemetryTrackerBase.setResourceId(this.videoId);var s=this.playerCustomMeasurement("analyticsplaybackfinished"),a=this.extendTelemetryProperties(t),c=n||s,l=this.telemetryTrackerBase.addMetricsToProperties(a,c);s=r.FeatureName.VideoPlayback;this.isProducerView?s=r.FeatureName.ProducerPlayback:this.isContentSourceLiveStream&&(s=r.FeatureName.LivePlayback);var u="VideoPlayback_";if(this.isContentSourceLiveStream&&(u="LivePlayback_"),l.isLive=this.isContentSourceLiveStream&&!this.isCompleted&&!this.isStopping,l.playbackType=r.FeatureName[s],l.contentSource=this.contentSource,!this.isProducerView)for(var d=r.VideoPlaybackError.KeyAcquireError,p=r.VideoPlaybackError.UnknownError,m=a.errorCode;d<=p;d++){var A=r.VideoPlaybackError[d],h=u+A;d===e?(l.errorType=A,e===r.VideoPlaybackError.AESDecodeError&&"Html5"!==a.PlaybackTech&&"5"!==o?(this.telemetryTrackerBase.warn(h,null,null,a,c),this.telemetryTrackerBase.trackFeatureResult(r.AriaTelemetryEventNames.VideoPlaybackError,r.ResultType.Warning,l,null,null)):(m&&(a.errorCode=m),this.telemetryTrackerBase.fail(h,null,null,a,c),this.telemetryTrackerBase.trackFeatureResult(r.AriaTelemetryEventNames.VideoPlaybackError,r.ResultType.Failure,l,null,null))):this.cleanupErrorCodeAndReportSuccess(h,a,c)}e||(l.isWarning=i,this.telemetryTrackerBase.trackEvent(r.AriaTelemetryEventNames.VideoViewed,l)),i?this.telemetryTrackerBase.warn(s,null,null,a,c):e?this.telemetryTrackerBase.fail(s,null,null,a,c):this.cleanupErrorCodeAndReportSuccess(s,a,c)},c.prototype.cleanupErrorCodeAndReportSuccess=function(e,t,n){t.errorCode&&delete t.errorCode,this.telemetryTrackerBase.succeed(e,t,n)},c.prototype.unload=function(){this.mediaPlayer=null},c.prototype.reportPlaybackQualityIssues=function(e,t){var n=this,i=[];this.isQualityMonitoringEnabled&&(this.qualityErrorsToReport.loadTime&&t.loadTime&&portalConfiguration.PlaybackLoadTimeThreshold<t.loadTime&&(i.push(this.qualityErrorsToReport.loadTime),delete this.qualityErrorsToReport.loadTime),this.qualityErrorsToReport.failedDownloadCount&&t.failedDownloadCount&&0<t.playTime&&t.failedDownloadCount/t.playTime>portalConfiguration.PlaybackFailedDownloadCountThreshold&&(i.push(this.qualityErrorsToReport.failedDownloadCount),delete this.qualityErrorsToReport.failedDownloadCount),this.qualityErrorsToReport.rebufferCount&&t.rebufferCount&&t.seekCount&&Math.max(t.rebufferCount-t.seekCount,0)>portalConfiguration.PlaybackBufferCountThreshold&&(i.push(this.qualityErrorsToReport.rebufferCount),delete this.qualityErrorsToReport.rebufferCount),i.forEach((function(i){n.telemetryTrackerBase.fail(i+n.liveQualityOffset,null,null,e,t)})))},c.prototype.reportPlaybackQualityNormal=function(e,t){var n=this;this.isQualityMonitoringEnabled&&Object.keys(this.qualityErrorsToReport).forEach((function(e){n.telemetryTrackerBase.succeed(n.qualityErrorsToReport[e]+n.liveQualityOffset)}))},Object.defineProperty(c.prototype,"liveQualityOffset",{get:function(){return this.isContentSourceLiveStream?r.FeatureName.LivePlayback_LoadTimeExceededThreshold-r.FeatureName.VideoPlayback_LoadTimeExceededThreshold:0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isQualityMonitoringEnabled",{get:function(){return this.featureFlagsServiceBase.Values.PlaybackQualityMonitoring&&!this.isProducerView},enumerable:!0,configurable:!0}),c.prototype.setGOPSize=function(){var e;this.GOPSize||this.mediaPlayer&&this.mediaPlayer.videoBufferData&&(!(e=this.mediaPlayer.videoBufferData())||(e=e.downloadRequested)&&e.mediaTime&&e.durationInSec&&(this.GOPSize=Math.floor(e.durationInSec)))},n=c;function c(e,t,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a=void 0),this.telemetryServiceBase=e,this.featureFlagsServiceBase=t,this.sdnUtilServiceBase=n,this.dataShareServiceBase=i,this.screenName=o,this.trafficSource=a,this.isContentSourceLiveStream=!1,this.playerSummarySent=!1,this.additionalTelemetryProperties={},this.additionalMetrics={},this.maxPlayerLoadTimeForTelemetryInSec=5,this.mediaPlayerProperties=null,this.staticTelemetryProperties=null,this.playbackSessionId=null,this.playerOptions={playbackUrls:null},this.playbackHasNotStarted=!0,this.warningErrorCodes=["0200000","060000"],this.playbackTimeout=3e4,this.playbackTimer=NaN,this.timeAtSourceSet=0,this.qualityErrorsToReport={loadTime:r.FeatureName.VideoPlayback_LoadTimeExceededThreshold,rebufferCount:r.FeatureName.VideoPlayback_BufferingExceededThreshold,failedDownloadCount:r.FeatureName.VideoPlayback_ChunkDownloadFailuresExceededThreshold},this.heartbeatEventName="analyticsheartbeat",this.telemetryTrackerBase=this.telemetryServiceBase.getTracker(this.screenName),this.playbackSessionId=s.generateGuid()}t.PlayerPageTelemetryBaseClass=n},"./common/components/RadioButton/RadioButton.html":function(e,t){e.exports='<div class="radio-button radio-button-{{$ctrl.uniqueId}}"> <input type=radio class="radio-button-input {{$ctrl.radioButtonUniqueClassName}} {{$ctrl.buttonModel.innerClassName}}" id={{$ctrl.buttonModel.innerClassName}} ng-model=$ctrl.model name={{$ctrl.buttonName}} value={{$ctrl.buttonModel.value}} aria-describedby={{$ctrl.describedBy}} aria-labelledby={{$ctrl.radioButtonLabelId}} ng-click=$ctrl.handleOnClick() /> <span class="ct-radio-compact {{$ctrl.outerFillUniqueClassName}}"> <span class="ct-radio-compact-inner {{$ctrl.innerFillUniqueClassName}}"></span> </span> <label class="ct-label-compact radio-button-label-wrapper {{$ctrl.buttonModel.innerClassName}}-label-wrapper" for={{$ctrl.buttonModel.innerClassName}}> <span class="radio-button-label {{$ctrl.buttonModel.innerClassName}}-label" id={{$ctrl.radioButtonLabelId}}>{{$ctrl.buttonModel.label}}</span> </label> </div> '},"./common/components/RadioButton/RadioButton.less":function(e,t){},"./common/components/RadioButton/RadioButton.ts":function(e,t,n){function i(){this.restrict="E",this.controller=r.RadioButtonController,this.template=n("./common/components/RadioButton/RadioButton.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={model:"=",buttonName:"@",buttonModel:"<",describedBy:"<"},this.link=function(e,t,n,i){var r=".ct-radio-compact."+i.outerFillUniqueClassName,o=".ct-radio-compact-inner."+i.innerFillUniqueClassName;e.$watch((function(){return i.model}),(function(e,n){var r=e===i.buttonModel.value;r=(e=r)?"":"none",(e=t.find(o))&&e.css("display",r)})),setTimeout((function(){var n=t.find("."+i.radioButtonUniqueClassName),o=t.find(r);n.on("focus",(function(){o&&o.addClass("focused")})),n.on("blur",(function(){o&&o.removeClass("focused")})),n.on("keyup",(function(t){t.which===s.Constants.KeyCodes.Enter&&(i.model=i.buttonModel.value,t.stopPropagation(),e.$apply())}))}),0)}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/RadioButton/RadioButton.less");var r=n("./common/components/RadioButton/RadioButtonController.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/Constants.ts");t.RadioButton=i,o.registerDirective("radioButton",i,angular.module("jumper.common"))},"./common/components/RadioButton/RadioButtonController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/string.ts");o.prototype.isSelected=function(){return this.model===this.buttonModel.label},Object.defineProperty(o.prototype,"radioButtonUniqueClassName",{get:function(){return r.formatString("radio-button-input-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"outerFillUniqueClassName",{get:function(){return r.formatString("ct-radio-compact-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"innerFillUniqueClassName",{get:function(){return r.formatString("radio-compact-inner-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"radioButtonLabelId",{get:function(){return r.formatString("radio-button-label-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),o.prototype.handleOnClick=function(){this.buttonModel&&this.buttonModel.onClick&&this.buttonModel.onClick()},n=o;function o(){this.uniqueId=i.generateGuid().split("-")[0]}t.RadioButtonController=n},"./common/components/RadioButtonGroup/RadioButtonGroup.html":function(e,t){e.exports='<div class="radio-button-group radio-button-group-{{::$ctrl.id}}"> <div ng-repeat="buttonModel in $ctrl.buttonModels"> <div class="radio-button-wrapper {{buttonModel.wrapperClassName}}"> <radio-button model=$ctrl.model button-name={{$ctrl.groupName}} button-model=buttonModel described-by=$ctrl.ariaDescribedByRadioButton /> </div> </div> </div> '},"./common/components/RadioButtonGroup/RadioButtonGroup.less":function(e,t){},"./common/components/RadioButtonGroup/RadioButtonGroup.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/RadioButtonGroup/RadioButtonGroup.less");var i=n("./common/components/RadioButtonGroup/RadioButtonGroupController.ts"),r=n("./app/utility/appUtil.ts"),o=function(){};t.RadioButtonModel=o,o=function(){this.restrict="E",this.controller=i.RadioButtonGroupController,this.template=n("./common/components/RadioButtonGroup/RadioButtonGroup.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={model:"=",buttonModels:"<",groupName:"@",ariaDescribedByRadioButton:"<"}},t.RadioButtonGroup=o,r.registerDirective("radioButtonGroup",o,angular.module("jumper.common"))},"./common/components/RadioButtonGroup/RadioButtonGroupController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");n=function(){this.uniqueId=i.generateGuid().split("-")[0]};t.RadioButtonGroupController=n},"./common/components/TabNavigation/TabNavigationController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./common/Directives/Drawer/Drawer.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/KeyCodes.ts");function a(e,t,n,r,o,a,c){var l=this;function u(e){e.keyCode===s.KeyCodes.ArrowLeft&&_.get(document,"activeElement.parentNode.previousElementSibling")?(e.preventDefault(),document.activeElement.parentElement&&document.activeElement.parentElement.previousElementSibling&&document.activeElement.parentElement.previousElementSibling.querySelector("button").focus()):e.keyCode===s.KeyCodes.ArrowRight&&_.get(document,"activeElement.parentNode.nextElementSibling")&&(e.preventDefault(),document.activeElement.parentElement&&document.activeElement.parentElement.nextElementSibling&&document.activeElement.parentElement.nextElementSibling.querySelector("button").focus())}this.$scope=e,this.$element=t,this.resources=n,this.$transclude=r,this.$q=o,this.$attrs=a,this.direction=i.horizontal,this.numTabsDisplayed=0,this.fixedElements=[],this.telemetryTracker=c.getTracker(),this.initFocus&&setTimeout((function(){var e=l.$element.find("button");e.length&&e[0].focus()}),0),this.$scope.$watch((function(){return l.value}),(function(e,t){l.model&&l.updateDrawer()})),this.$scope.$watch((function(){return l.model}),(function(){l.model&&l.updateDrawer()}),!0),t.on("keydown",u),e.$on("$destroy",(function(){t.off("keydown",u),l.onInit&&l.onInit({tabNavigationController:null})})),this.onInit&&this.onInit({tabNavigationController:this})}(n=i=t.ITabDirection||(t.ITabDirection={}))[n.horizontal=0]="horizontal",n[n.vertical=1]="vertical",a.prototype.updateDrawer=function(){var e=this;this.activeOption=this.model.options.filter((function(t){return t.value===(void 0!==e.value?e:e.model.options[0]).value}))[0],this.drawerItems=[],this.numTabsDisplayed=0,this.model.options.forEach((function(t){t.hide||(e.numTabsDisplayed++,t.displayIndex=e.numTabsDisplayed),t!==e.activeOption&&!0!==t.hide&&(t.afterSvgName?(e.isSvgAfterAvailable=!0,e.afterSvgName=t.afterSvgName,e.svgClassName=t.className):e.drawerItems.push(new r.DrawerItem("drawer-item",t.text,e.onTabClicked.bind(e,t))))}))},Object.defineProperty(a.prototype,"isVertical",{get:function(){return this.direction===i.vertical},enumerable:!0,configurable:!0}),a.prototype.focusActiveTab=function(){this.$element.find("button.f-active:not(.with-drawer)").focus()},a.prototype.logTabUserInteraction=function(e,t,n){this.telemetryTracker.trackEvent(e,{old:t?JSON.stringify({text:t.text,value:t.value}):void 0,new:JSON.stringify({text:n.text,value:n.value})})},a.prototype.onTabChangedInternal=function(e,t){this.logTabUserInteraction(o.TelemetryEventNames.TabChanged,e,t),this.onTabChanged&&this.onTabChanged(e,t)},a.prototype.onTabClicked=function(e){var t=this;if(!e.disable){var n=this.activeOption;return this.logTabUserInteraction(o.TelemetryEventNames.TabClicked,n,e),e.action?e.action():this.value!==e.value?this.$attrs.unSavedChange?this.unSavedChange().then((function(i){i?t.logTabUserInteraction(o.TelemetryEventNames.TabChangedCanceled,n,e):(t.value=e.value,t.onTabChangedInternal(n,e),t.onSelect({value:e.value}))})):(this.value=e.value,this.onTabChangedInternal(n,e),this.onSelect({value:e.value})):(this.value=e.value,this.onSelect({value:e.value})),this.$q.resolve()}},a.$inject=["$scope","$element","resources","$transclude","$q","$attrs","telemetryService"],n=a,t.TabNavigationController=n},"./common/components/TimePicker/TimePicker.html":function(e,t){e.exports='<drop-down class="time-picker-dropdown ct-dropdown-compact" options=$ctrl.timeOptions value=$ctrl.selectedTime placeholder-text=$ctrl.placeholderText value-changed=$ctrl.dropDownValueChanged(newValue) aria-label={{::$ctrl.ariaTextValue}} is-disabled=$ctrl.isDisabled show-scroll=$ctrl.showScroll ltr-content=$ctrl.ltrContent></drop-down> '},"./common/components/TimePicker/TimePicker.less":function(e,t){},"./common/components/TimePicker/TimePicker.ts":function(e,t,n){function i(){this.controller=o.TimePickerController,this.template=n("./common/components/TimePicker/TimePicker.html"),this.bindings={timeToSelect:"<",timeInterval:"<",minTime:"<",ariaText:"@?",selectedTimeChanged:"&",showScroll:"<",ltrContent:"<",isDisabled:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/TimePicker/TimePicker.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/components/TimePicker/TimePickerController.ts");t.TimePicker=i,r.registerComponent("timePicker",i,angular.module("jumper.common"))},"./common/components/TimePicker/TimePickerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=(r.prototype.createTimeOptions=function(){var e=n("moment"),t=e().startOf("day");this.minTime&&(t.add(this.minTime.getHours(),"hours"),t.add(this.minTime.getMinutes(),"minutes"));for(var i=e().startOf("day").add(1,"day"),r=[];i.isAfter(t);)r.push({text:t.format(this.timeFormat),value:this.convertToTimeNumber(t.toDate())}),t=t.add(this.timeInterval,"minutes");return r},r.prototype.convertToTimeNumber=function(e){return e.setFullYear(1970),e.setMonth(0),e.setDate(1),e.setSeconds(0,0),e.getTime()},r.prototype.dropDownValueChanged=function(e){this.selectedTimeChanged({newTime:new Date(e)})},Object.defineProperty(r.prototype,"ariaTextValue",{get:function(){return this.ariaText||this.resources.TimePickerAriaText},enumerable:!0,configurable:!0}),r.$inject=["$scope","resources","$element"],r);function r(e,t,n){var i=this;this.$scope=e,this.resources=t,this.$element=n,this.timeFormat="h:mm A",this.timeOptions=this.createTimeOptions(),e.$watch((function(){return i.timeToSelect}),(function(e,t){e&&(e=moment(e),i.selectedTime=i.convertToTimeNumber(e.toDate()),i.placeholderText=e.format(i.timeFormat))})),e.$watch((function(){return i.minTime}),(function(e,t){e!==t&&(i.timeOptions=i.createTimeOptions())})),e.$watch((function(){return i.isDisabled}),(function(e,t){var i=[n,$("drop-down",n)],r=e?function(e){return e.attr("disabled","disabled")}:function(e){return e.removeAttr("disabled")};_.forEach(i,(function(e){return r(e)}))}))}t.TimePickerController=i},"./common/components/VirtualList/VirtualList.html":function(e,t){e.exports="<div class=virtual-list-shadow-mask ng-if=$ctrl.applyShadow></div> <div class=virtual-list> <div class=virtual-list-total-padding ng-style=$ctrl.totalPadding ng-if=$ctrl.isVListEnabled></div> <div class=scrollable-content role=listbox aria-label={{::$ctrl.scrollableContentAriaLabel}} ng-style=$ctrl.scrollTransform id={{::$ctrl.listId}}> <ng-transclude></ng-transclude> </div> </div>"},"./common/components/VirtualList/VirtualList.less":function(e,t){},"./common/components/VirtualList/VirtualList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./common/components/VirtualList/VirtualListController.ts");function o(){this.controller=r.VirtualListController,this.template=n("./common/components/VirtualList/VirtualList.html"),this.bindings={items:"=",isAutoScrolling:"<",itemHeight:"<",minItemsForVlist:"<",forceUpdateToIndex:"=?",forceScrollToItem:"=?",userInteracted:"&",listId:"@",applyShadow:"<",videoId:"<",scrollableContentAriaLabel:"<"},this.transclude=!0}n("./common/components/VirtualList/VirtualList.less"),t.VirtualList=o,i.registerComponent("virtualList",o,angular.module("jumper"))},"./common/components/VirtualList/VirtualListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/KeyCodes.ts"),r=n("./app/models/TelemetryEventModels.ts"),o="vListUpdatedEvent";Object.defineProperty(s.prototype,"scrollTransform",{get:function(){return this.isVListEnabled?{position:"absolute",transform:"translateY("+this.transformYValue+"px)"}:{position:"relative"}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"totalPadding",{get:function(){return{height:_.sum(this.itemHeights)+"px"}},enumerable:!0,configurable:!0}),s.prototype.prepareUpdatedItems=function(){var e=this;this.updatedItems=_.map(this.items,(function(e,t){return _.extend(e,{index:t})})),this.itemHeights=_.map(this.updatedItems,(function(){return e.itemHeight||60}))},s.prototype.updateVlistUI=function(e,t){var n=this;if(void 0===t&&(t=!1),!this.isVListEnabled)return this.$scope.$parent.$vs_renderItems=this.updatedItems,void this.$scope.$emit(o);if(e!=this.lastTopIndex||t){if(e>=this.lastTopIndex&&e<=this.lastTopIndex+3)for(var i=0;i<e-this.lastTopIndex;i++)this.transformYValue+=this.itemHeights[i+this.lastTopIndex];else if(e<this.lastTopIndex&&e>=this.lastTopIndex-3)for(i=this.lastTopIndex-1;e<=i;i--)this.transformYValue-=this.itemHeights[i];else this.transformYValue=_.sum(this.itemHeights.slice(0,e));this.lastTopIndex=e,t=Math.min(this.updatedItems.length-20,this.lastTopIndex),t=this.updatedItems.slice(t,Math.min(this.updatedItems.length,t+20)),this.$scope.$parent.$vs_renderItems=t,this.$scope.$emit(o),this.$timeout((function(){for(var e=$("[vlist-index]"),t=0;t<e.length;t++){var i=e[t].getAttribute("vlist-index");n.itemHeights[i]=e[t].scrollHeight}}))}},s.prototype.monitorScroll=function(){var e=this,t=$(".virtual-list");t.scroll(_.debounce((function(){for(var n=0,i=0,r=0;r<e.itemHeights.length&&(n=r,!((i+=e.itemHeights[r])>t[0].scrollTop+t[0].clientHeight/2));r++);var o=Math.min(e.updatedItems.length-20,Math.max(0,n-10));e.updateVlistUI(o)}),10))},s.prototype.monitorUserInteraction=function(){function e(){t.userInteractedWithScroll()}var t=this,n=this.$element.find(".virtual-list");n[0].addEventListener("wheel",e),n.mousedown((function(e){var i=e.pageX-n.offset().left,r=n.css("border-left-width"),o=n.css("border-right-width"),s=0,a=0;try{s=parseInt(r),a=parseInt(o)}catch(e){}var c=n[0].offsetWidth-n[0].clientWidth-s-a;(e=s+n[0].clientWidth)<=i&&i<=e+c&&t.userInteractedWithScroll()})),n.keydown((function(e){e.keyCode!==i.KeyCodes.Tab&&e.keyCode!==i.KeyCodes.PageUp&&e.keyCode!==i.KeyCodes.PageDown||t.userInteractedWithScroll()})),this.$scope.$on("$destroy",(function(){n[0].removeEventListener("wheel",e),n.off("mousedown"),n.off("keydown")})),this.$scope.$watch((function(){return n.scrollTop()}),(function(e,n){void 0!==e&&void 0!==n&&e!==n&&(t.isScrollingBecauseOfScrollTo||(t.wasScrollingBecauseOfScrollTo?t.wasScrollingBecauseOfScrollTo=!1:t.userInteractedWithScroll()))}))},s.prototype.userInteractedWithScroll=function(){this.lastFocusedItem=null,this.userInteracted(),this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.userScrollTranscriptPane)},Object.defineProperty(s.prototype,"isVListEnabled",{get:function(){return this.updatedItems.length>(this.minItemsForVlist||100)},enumerable:!0,configurable:!0}),s.prototype.scrollTo=function(e){var t,n,i,r,o,s=this;!e||this.lastFocusedItem===e||-1!==(o=this.items.indexOf(e))&&(t=this.$element.find(".virtual-list"),n=this.$element.find("[vlist-index="+o+"]"),i=this.$element.find(".scrollable-content"),r=t.innerHeight(),o=n.innerHeight(),o=n.position().top+i.position().top-(r-o)/2,t.stop(),this.isScrollingBecauseOfScrollTo=!0,t.animate({scrollTop:o},500,(function(){s.isScrollingBecauseOfScrollTo=!1,s.wasScrollingBecauseOfScrollTo=!0})),this.lastFocusedItem=e)},s.$inject=["$scope","$timeout","$element","telemetryService"],n=s;function s(e,t,n,i){var o=this;this.$scope=e,this.$timeout=t,this.$element=n,this.telemetryService=i,this.forceUpdateToIndex=-1,this.transformYValue=0,this.lastTopIndex=0,this.itemHeights=[],this.isScrollingBecauseOfScrollTo=!1,this.wasScrollingBecauseOfScrollTo=!1,this.prepareUpdatedItems(),this.updateVlistUI(this.lastTopIndex,!0),this.monitorScroll(),this.monitorUserInteraction(),this.$scope.$watch((function(){return o.forceUpdateToIndex}),(function(e){_.isNumber(e)&&0<=e&&(o.updateVlistUI(Math.max(0,e-10)),o.forceUpdateToIndex=-1)})),this.$scope.$watch((function(){return o.items}),(function(){o.prepareUpdatedItems(),o.updateVlistUI(0,!0)})),this.$scope.$watch((function(){return o.forceScrollToItem}),(function(e){e&&(o.scrollTo(e),o.forceScrollToItem=null)})),this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Video,r.ResourceType.VideoEvent,this.videoId,!1)}t.VirtualListController=n},"./common/services/AzureBlobUploaderService/AzureBlobUploader.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./common/services/AzureBlobUploaderService/FileReaderHelper.ts");t.uploadCanceledbyUserError="upload Canceled by user",(n=i=t.UploadStatus||(t.UploadStatus={}))[n.Invalid=0]="Invalid",n[n.Pending=1]="Pending",n[n.Uploading=2]="Uploading",n[n.Paused=3]="Paused",n[n.Complete=4]="Complete",n[n.Canceled=5]="Canceled";var o=function(){this.status=i.Pending,this.progressPercent=0};t.UploadInfo=o;var s=(a.prototype.startUploadToAzureBlob=function(){return this.defer=this.$q.defer(),this.uploadInfo.status=i.Uploading,this._readChunkAndUpload(),this.defer.promise},a.prototype.cancelUpload=function(){if(!this._canceled)switch(this._canceled=!0,this.uploadInfo.status){case i.Pending:case i.Uploading:case i.Paused:this.uploadInfo.status=i.Canceled}this.defer.reject({reason:t.uploadCanceledbyUserError})},a.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._fileReaderHelper&&(this._fileReaderHelper.dispose(),this._fileReaderHelper=null))},a.prototype._readChunkAndUpload=function(){var e=this;this._fileReaderHelper.readNextChunk().then((function(t){e._isCanceledOrDisposed()||setTimeout((function(){e._processFileReadResult(t)}),1)}))},a.prototype._processFileReadResult=function(e){var t=this;switch(e.status){case r.FileReadStatus.Invalid:this._handleUploadRuntimeError(e.errorMessage||this.resources.Services.AzureBlobUploader.failedMessage);break;case r.FileReadStatus.Reading:case r.FileReadStatus.Complete:this._uploadBlockBlobToTargetSasUri(e.content).then((function(){var n;t._isCanceledOrDisposed()||(e.endByte!==t.uploadInfo.size?(n=Math.round(100*e.progressPercent),t.uploadInfo.progressPercent=n,t.defer.notify(n),t._readChunkAndUpload()):t._commitBlockBlobUpload().then((function(){t._isCanceledOrDisposed()||t._handleUploadCompletion()}),(function(e){t._handleUploadRuntimeError(e)})))}),(function(e){t._handleUploadRuntimeError(e)}));break;case r.FileReadStatus.Canceled:}},a.prototype._isCanceledOrDisposed=function(){return this._canceled||this._disposed},a.prototype._handleUploadCompletion=function(){this.uploadInfo.progressPercent=100,this.uploadInfo.status=i.Complete,this.defer.resolve()},a.prototype._handleUploadRuntimeError=function(e){this.uploadInfo.status=i.Invalid,this.defer.reject(e)},a.prototype._uploadBlockBlobToTargetSasUri=function(e){var t=this,n=this._generateBlockId(this._blockIds.length);this._blockIds.push(btoa(n));var i=this.sasUrl+"&comp=block&blockid="+this._blockIds[this._blockIds.length-1];return this._retryPromise((function(){return t.$http.put(i,e,{headers:{"x-ms-blob-type":"BlockBlob"},transformRequest:function(e,t){return delete t().Authorization,e}})}))},a.prototype._commitBlockBlobUpload=function(){var e=this,t=this.sasUrl+"&comp=blocklist";return this._retryPromise((function(){var n={headers:{"x-ms-blob-content-type":e.file.type},transformRequest:function(e,t){return delete t().Authorization,e}};return e.$http.put(t,e._createCommitRequest(),n)}))},a.prototype._createCommitRequest=function(){for(var e='<?xml version="1.0" encoding="utf-8"?><BlockList>',t=0;t<this._blockIds.length;t++)e+="<Latest>"+this._blockIds[t]+"</Latest>";return e+"</BlockList>"},a.prototype._generateBlockId=function(e){for(var t=""+e;t.length<8;)t="0"+t;return"block-"+t},a.prototype._retryPromise=function(e,t,n,i){void 0===t&&(t=3),void 0===n&&(n=1e3),void 0===i&&(i=1);var r=this.$q.defer();return this._retryPromiseWorker(e,r,t,1,i,n),r.promise},a.prototype._retryPromiseWorker=function(e,t,n,i,r,o,s){var a=this;void 0===s&&(s=null),n<i?t.reject(this.resources.Services.AzureBlobUploader.failedMessage):e().then(t.resolve,(function(s){a._isTransientHttpError(s.status)?setTimeout((function(){a._retryPromiseWorker(e,t,n,i+1,r,o*(1+r))}),o):t.reject(a.resources.Services.AzureBlobUploader.failedMessage)}))},a.prototype._isTransientHttpError=function(e){switch(e){case 408:case 504:case 502:case 500:case 503:case-1:return!0;default:return!1}},a);function a(e,t,n,i,r,s,a){var c=this;this.$q=e,this.$http=t,this.resources=n,this.file=s,this.sasUrl=a,this._blockIds=new Array,this._canceled=!1,this._disposed=!1,this.uploadInfo=new o,this.uploadInfo.name=s.name,this.uploadInfo.mimetype=s.type,this.uploadInfo.size=s.size,this._fileReaderHelper=i(s),r&&r.$on("$destroy",(function(){c.dispose()}))}t.AzureBlobUploader=s,angular.module("jumper.common").factory("azureBlobUploaderService",["$q","$http","resources","fileReaderHelperService",function(e,t,n,i){return function(r,o,a){return new s(e,t,n,i,r,o,a)}}])},"./common/services/AzureBlobUploaderService/FileReaderHelper.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("./app/utility/string.ts");(n=i=t.FileReadStatus||(t.FileReadStatus={}))[n.Invalid=0]="Invalid",n[n.Reading=1]="Reading",n[n.Complete=2]="Complete",n[n.Canceled=3]="Canceled";var o=function(){this.status=i.Reading,this.content=null,this.startByte=0,this.endByte=0,this.progressPercent=0,this.errorMessage=null};t.FileReadResult=o;var s=(a.prototype.readNextChunk=function(e){var t=this,n=this.$q.defer(),s=(e=e|this.chunkSize,this.startByte+e);0<this.file.size?s>this.file.size&&(s=this.file.size):(a=this._getInvalidFileReadResult(r.formatString(this.resources.Services.FileReaderHelper.fileHasNoContentMessage,this.fileName)),n.reject(a)),this.reader.onload=function(e){var a=new o;t.file?(a.content=e.target.result,a.progressPercent=s/t.file.size,1<=a.progressPercent?(a.progressPercent=1,a.status=i.Complete):a.status=i.Reading,a.startByte=t.startByte,a.endByte=s,t.startByte=s):a=t._getInvalidFileReadResult(r.formatString(t.resources.Services.FileReaderHelper.fileReadAbortedMessage,t.fileName)),n.resolve(a)},this.reader.onerror=function(e){e=t._getFileReadErrorMessage(e),e=t._getInvalidFileReadResult(e),n.resolve(e)};var a=this.file.slice(this.startByte,s,this.file.type);return this.reader.readAsArrayBuffer(a),n.promise},a.prototype.dispose=function(){this.file&&(this.file=null)},a.prototype._getFileReadErrorMessage=function(e){var t;switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:t="File is not found: "+e.target.error.code;break;case e.target.error.NOT_READABLE_ERR:t="File is not readable: "+e.target.error.code;break;case e.target.error.ABORT_ERR:t="Reading the file was cancelled: "+e.target.error.code;break;default:t="An error occurred when reading file "+e.target.error.code}return t},a.prototype._getInvalidFileReadResult=function(e){var t=new o;return t.status=i.Invalid,t.errorMessage=e,t},a);function a(e,t,n,i){this.$q=e,this.resources=t,this.file=n,this.resources=t,i=$.extend({},i),this.startByte=0,this.fileName=n.name,this.chunkSize=4194304|i.chunkSize,this.encoding=i.encoding,this.reader=new FileReader}t.FileReaderHelper=s,angular.module("jumper.common").factory("fileReaderHelperService",["$q","resources",function(e,t){return function(n,i){return new s(e,t,n,i)}}])},"./common/services/SDNPlugin/SDNPluginService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");function r(e){return!!(e[t.SdnPluginQueryStringKeys.Url]&&e[t.SdnPluginQueryStringKeys.Name]&&e[t.SdnPluginQueryStringKeys.Providerconfig])}function o(e,n,i){this.$q=e,this.navigationService=n,this.featureFlagsService=i,this.urlQueryParams={},this.urlQueryParams[t.SdnPluginQueryStringKeys.Url]=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Url,!1),this.urlQueryParams[t.SdnPluginQueryStringKeys.Name]=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Name,!1),this.urlQueryParams[t.SdnPluginQueryStringKeys.Providerconfig]=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Providerconfig,!1)}t.SdnPluginQueryStringKeys={Url:"sdnplugintesturl",Name:"sdnpluginname",Providerconfig:"sdnproviderconfig"},o.prototype.getSdnUrl=function(){return r(this.urlQueryParams)?this.urlQueryParams[t.SdnPluginQueryStringKeys.Url]:null},o.prototype.getSdnPluginName=function(){return r(this.urlQueryParams)?this.urlQueryParams[t.SdnPluginQueryStringKeys.Name]:null},Object.defineProperty(o.prototype,"safeToLoadSdnPlugin",{get:function(){return this.featureFlagsService.Values.SdnPluginPlayer&&"0"===portalConfiguration.RingNumber},enumerable:!0,configurable:!0}),o.prototype.checkIfSdnEnabled=function(){return this.safeToLoadSdnPlugin&&r(this.urlQueryParams)},o.prototype.loadPluginScript=function(){var e;return this.promise||(e=this.getSdnUrl(),$.ajaxSetup({cache:!0}),this.promise=this.$q.when($.getScript(e))),this.promise},o.prototype.getPlayerOptions=function(e,n,i){var r,o=this.getSdnPluginName();return o&&(_.forEach(e.playbackUrls,(function(e){e.sdnList=[{videoId:n,providerAuthenticationToken:i,sdnName:o}]})),(r=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Providerconfig,!1))&&(e.plugins=e.plugins||{},e.plugins[o]={sessionId:sessionInfo.ClientSessionId,providerConfiguration:r})),e},o.$inject=["$q","navigationService","featureFlagsService"],n=o,t.SDNPluginService=n,i.registerService("sdnPluginService",n,angular.module("jumper.common"))},"./cssmodules/cultureInfo.js":function(e,t){e.exports=[{value:"ar",text:"",LCID:"1",LCIDHexa:"0x0001"},{value:"bg",text:"",LCID:"2",LCIDHexa:"0x0002"},{value:"ca",text:"catal",LCID:"3",LCIDHexa:"0x0003"},{value:"cs",text:"etina",LCID:"5",LCIDHexa:"0x0005"},{value:"da",text:"dansk",LCID:"6",LCIDHexa:"0x0006"},{value:"de",text:"Deutsch",LCID:"7",LCIDHexa:"0x0007"},{value:"el",text:"",LCID:"8",LCIDHexa:"0x0008"},{value:"en",text:"English",LCID:"9",LCIDHexa:"0x0009"},{value:"es",text:"espaol",LCID:"10",LCIDHexa:"0x000A"},{value:"et",text:"eesti",LCID:"37",LCIDHexa:"0x0025"},{value:"eu",text:"euskara",LCID:"45",LCIDHexa:"0x002D"},{value:"fi",text:"suomi",LCID:"11",LCIDHexa:"0x000B"},{value:"fr",text:"franais",LCID:"12",LCIDHexa:"0x000C"},{value:"gl",text:"galego",LCID:"86",LCIDHexa:"0x0056"},{value:"he",text:"",LCID:"13",LCIDHexa:"0x000D"},{value:"hr",text:"hrvatski",LCID:"26",LCIDHexa:"0x001A"},{value:"hu",text:"magyar",LCID:"14",LCIDHexa:"0x000E"},{value:"id",text:"Indonesia",LCID:"33",LCIDHexa:"0x0021"},{value:"it",text:"italiano",LCID:"16",LCIDHexa:"0x0010"},{value:"ja",text:"",LCID:"17",LCIDHexa:"0x0011"},{value:"ko",text:"",LCID:"18",LCIDHexa:"0x0012"},{value:"lt",text:"lietuvi",LCID:"39",LCIDHexa:"0x0027"},{value:"lv",text:"latvieu",LCID:"38",LCIDHexa:"0x0026"},{value:"nb",text:"norsk bokml",LCID:"31764",LCIDHexa:"0x7C14"},{value:"nl",text:"Nederlands",LCID:"19",LCIDHexa:"0x0013"},{value:"pl",text:"polski",LCID:"21",LCIDHexa:"0x0015"},{value:"pt-br",text:"portugus (Brasil)",LCID:"1046",LCIDHexa:"0x0416"},{value:"pt-pt",text:"portugus (Portugal)",LCID:"2070",LCIDHexa:"0x0816"},{value:"qps",text:"Psuedo Lang",LCID:"0000",LCIDHexa:"0x0"},{value:"ro",text:"romn",LCID:"24",LCIDHexa:"0x0018"},{value:"ru",text:"",LCID:"25",LCIDHexa:"0x0019"},{value:"sk",text:"slovenina",LCID:"27",LCIDHexa:"0x001B"},{value:"sl",text:"slovenina",LCID:"36",LCIDHexa:"0x0024"},{value:"sr-cyrl-rs",text:" ()",LCID:"10266",LCIDHexa:"0x281A"},{value:"sr-latn-rs",text:"srpski (Srbija)",LCID:"9242",LCIDHexa:"0x241A"},{value:"sv",text:"svenska",LCID:"29",LCIDHexa:"0x001D"},{value:"th",text:"",LCID:"30",LCIDHexa:"0x001E"},{value:"tr",text:"Trke",LCID:"31",LCIDHexa:"0x001F"},{value:"uk",text:"",LCID:"34",LCIDHexa:"0x0022"},{value:"vi",text:"Ting Vit",LCID:"42",LCIDHexa:"0x002A"},{value:"zh-hans",text:"()",LCID:"4",LCIDHexa:"0x0004"},{value:"zh-hant",text:"()",LCID:"31748",LCIDHexa:"0x7C04"}]},"./node_modules/@fluentui/dom-utilities/lib/elementContains.js":function(e,t,n){"use strict";n.r(t),n.d(t,"elementContains",(function(){return r}));var i=n("./node_modules/@fluentui/dom-utilities/lib/getParent.js");function r(e,t,n){void 0===n&&(n=!0);var r=!1;if(e&&t)if(n)if(e===t)r=!0;else for(r=!1;t;){var o=Object(i.getParent)(t);if(o===e){r=!0;break}t=o}else e.contains&&(r=e.contains(t));return r}},"./node_modules/@fluentui/dom-utilities/lib/elementContainsAttribute.js":function(e,t,n){"use strict";n.r(t),n.d(t,"elementContainsAttribute",(function(){return r}));var i=n("./node_modules/@fluentui/dom-utilities/lib/findElementRecursive.js");function r(e,t){return(e=Object(i.findElementRecursive)(e,(function(e){return e.hasAttribute(t)})))&&e.getAttribute(t)}},"./node_modules/@fluentui/dom-utilities/lib/findElementRecursive.js":function(e,t,n){"use strict";n.r(t),n.d(t,"findElementRecursive",(function(){return r}));var i=n("./node_modules/@fluentui/dom-utilities/lib/getParent.js");function r(e,t){return e&&e!==document.body?t(e)?e:r(Object(i.getParent)(e),t):null}},"./node_modules/@fluentui/dom-utilities/lib/getChildren.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getChildren",(function(){return r}));var i=n("./node_modules/@fluentui/dom-utilities/lib/isVirtualElement.js");function r(e,t){void 0===t&&(t=!0);var n=[];if(e){for(var r=0;r<e.children.length;r++)n.push(e.children.item(r));t&&Object(i.isVirtualElement)(e)&&n.push.apply(n,e._virtual.children)}return n}},"./node_modules/@fluentui/dom-utilities/lib/getParent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getParent",(function(){return r}));var i=n("./node_modules/@fluentui/dom-utilities/lib/getVirtualParent.js");function r(e,t){return void 0===t&&(t=!0),e&&(t&&Object(i.getVirtualParent)(e)||e.parentNode&&e.parentNode)}},"./node_modules/@fluentui/dom-utilities/lib/getVirtualParent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getVirtualParent",(function(){return r}));var i=n("./node_modules/@fluentui/dom-utilities/lib/isVirtualElement.js");function r(e){var t;return e&&Object(i.isVirtualElement)(e)&&(t=e._virtual.parent),t}},"./node_modules/@fluentui/dom-utilities/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/elementContains.js");n.d(t,"elementContains",(function(){return i.elementContains}));var r=n("./node_modules/@fluentui/dom-utilities/lib/elementContainsAttribute.js");n.d(t,"elementContainsAttribute",(function(){return r.elementContainsAttribute}));var o=n("./node_modules/@fluentui/dom-utilities/lib/findElementRecursive.js");n.d(t,"findElementRecursive",(function(){return o.findElementRecursive}));var s=n("./node_modules/@fluentui/dom-utilities/lib/getChildren.js");n.d(t,"getChildren",(function(){return s.getChildren}));var a=n("./node_modules/@fluentui/dom-utilities/lib/getParent.js");n.d(t,"getParent",(function(){return a.getParent}));var c=n("./node_modules/@fluentui/dom-utilities/lib/getVirtualParent.js");n.d(t,"getVirtualParent",(function(){return c.getVirtualParent}));var l=n("./node_modules/@fluentui/dom-utilities/lib/isVirtualElement.js");n.d(t,"isVirtualElement",(function(){return l.isVirtualElement}));var u=n("./node_modules/@fluentui/dom-utilities/lib/portalContainsElement.js");n.d(t,"portalContainsElement",(function(){return u.portalContainsElement}));var d=n("./node_modules/@fluentui/dom-utilities/lib/setPortalAttribute.js");n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return d.DATA_PORTAL_ATTRIBUTE})),n.d(t,"setPortalAttribute",(function(){return d.setPortalAttribute}));var p=n("./node_modules/@fluentui/dom-utilities/lib/setVirtualParent.js");n.d(t,"setVirtualParent",(function(){return p.setVirtualParent}))},"./node_modules/@fluentui/dom-utilities/lib/isVirtualElement.js":function(e,t,n){"use strict";function i(e){return e&&!!e._virtual}n.r(t),n.d(t,"isVirtualElement",(function(){return i}))},"./node_modules/@fluentui/dom-utilities/lib/portalContainsElement.js":function(e,t,n){"use strict";n.r(t),n.d(t,"portalContainsElement",(function(){return o}));var i=n("./node_modules/@fluentui/dom-utilities/lib/findElementRecursive.js"),r=n("./node_modules/@fluentui/dom-utilities/lib/setPortalAttribute.js");function o(e,t){return null!==(e=Object(i.findElementRecursive)(e,(function(e){return t===e||e.hasAttribute(r.DATA_PORTAL_ATTRIBUTE)})))&&e.hasAttribute(r.DATA_PORTAL_ATTRIBUTE)}},"./node_modules/@fluentui/dom-utilities/lib/setPortalAttribute.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return i})),n.d(t,"setPortalAttribute",(function(){return r}));var i="data-portal-element";function r(e){e.setAttribute(i,"true")}},"./node_modules/@fluentui/dom-utilities/lib/setVirtualParent.js":function(e,t,n){"use strict";function i(e,t){var n=e,i=t;n._virtual||(n._virtual={children:[]}),!(e=n._virtual.parent)||e===t||-1<(t=e._virtual.children.indexOf(n))&&e._virtual.children.splice(t,1),n._virtual.parent=i||void 0,i&&(i._virtual||(i._virtual={children:[]}),i._virtual.children.push(n))}n.r(t),n.d(t,"setVirtualParent",(function(){return i}))},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventsDiscardedReason",(function(){return i}));var i={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"LoggingSeverity",(function(){return i})),n.d(t,"_InternalMessageId",(function(){return r})),(t=i=i||{})[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING";var r={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MinChannelPriorty",(function(){return i}));var i=100},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AppInsightsCore",(function(){return l}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o=(t=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js"),n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js")),s=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js"),a=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),c=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js"),l=(i=t.BaseCore,r.__extends(u,i),u.prototype.initialize=function(e,t){this._notificationManager=new s.NotificationManager,this.logger=new c.DiagnosticLogger(e),this.config=e,i.prototype.initialize.call(this,e,t,this.logger,this._notificationManager)},u.prototype.getTransmissionControls=function(){return i.prototype.getTransmissionControls.call(this)},u.prototype.track=function(e){if(null===e)throw this._notifyInvalidEvent(e),Error("Invalid telemetry item");this._validateTelemetryItem(e),i.prototype.track.call(this,e)},u.prototype.addNotificationListener=function(e){this._notificationManager&&this._notificationManager.addNotificationListener(e)},u.prototype.removeNotificationListener=function(e){this._notificationManager&&this._notificationManager.removeNotificationListener(e)},u.prototype.pollInternalLogs=function(e){var t=this,n=this.config.diagnosticLogInterval;return 0<n||(n=1e4),setInterval((function(){var n=t.logger?t.logger.queue:[];n.forEach((function(n){n={name:e||"InternalMessageId: "+n.messageId,iKey:t.config.instrumentationKey,time:(new Date).toISOString(),baseType:c._InternalLogMessage.dataType,baseData:{message:n.message}},t.track(n)})),n.length=0}),n)},u.prototype._validateTelemetryItem=function(e){if(a.CoreUtils.isNullOrUndefined(e.name))throw this._notifyInvalidEvent(e),Error("telemetry name required")},u.prototype._notifyInvalidEvent=function(e){this._notificationManager&&this._notificationManager.eventsDiscarded([e],o.EventsDiscardedReason.InvalidEvent)},u);function u(){return i.call(this)||this}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseCore",(function(){return o}));var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),r=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js"),o=(s.prototype.initialize=function(e,t,n,r){var o=this;if(this._isInitialized)throw Error("Core should not be initialized more than once");if(!e||i.CoreUtils.isNullOrUndefined(e.instrumentationKey))throw Error("Please provide instrumentation key");this.config=e,this._notificationManager=r,this._notificationManager||(this._notificationManager=Object.create({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){}})),this.config.extensions=i.CoreUtils.isNullOrUndefined(this.config.extensions)?[]:this.config.extensions,this.config.extensionConfig=i.CoreUtils.isNullOrUndefined(this.config.extensionConfig)?{}:this.config.extensionConfig,this._notificationManager&&(this.config.extensionConfig.NotificationManager=this._notificationManager),this.logger=n,this.logger||(this.logger=Object.create({throwInternal:function(e,t,n,i,r){void 0===r&&(r=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}})),(n=this._extensions).push.apply(n,t.concat(this.config.extensions)),this._extensions.forEach((function(e){var t=!0;if((i.CoreUtils.isNullOrUndefined(e)||i.CoreUtils.isNullOrUndefined(e.initialize))&&(t=!1),!t)throw Error("Extensions must provide callback to initialize")})),this._extensions.push(this._channelController),this._extensions=this._extensions.sort((function(e,t){var n=typeof e.processTelemetry,i=typeof t.processTelemetry;return"function"==n&&"function"==i?e.priority-t.priority:"function"==n&&"function"!=i?1:"function"!=n&&"function"==i?-1:void 0}));var s={};this._extensions.forEach((function(e){e&&e.priority&&(i.CoreUtils.isNullOrUndefined(s[e.priority])?s[e.priority]=e.identifier:o.logger&&o.logger.warnToConsole("Two extensions have same priority"+s[e.priority]+", "+e.identifier))}));for(var a=-1,c=0;c<this._extensions.length-1;c++){var l=this._extensions[c];if(!l||"function"==typeof l.processTelemetry){if(l.priority===this._channelController.priority){a=c+1;break}this._extensions[c].setNextPlugin(this._extensions[c+1])}}if(this._channelController.initialize(this.config,this,this._extensions),this._extensions.forEach((function(e){e&&e.priority<o._channelController.priority&&e.initialize(o.config,o,o._extensions)})),a<this._extensions.length&&this._extensions.splice(a),0===this.getTransmissionControls().length)throw new Error("No channels available");this._isInitialized=!0},s.prototype.getTransmissionControls=function(){return this._channelController.ChannelControls},s.prototype.track=function(e){e.iKey||(e.iKey=this.config.instrumentationKey),e.time||(e.time=(new Date).toISOString()),i.CoreUtils.isNullOrUndefined(e.ver)&&(e.ver="4.0"),0===this._extensions.length&&this._channelController.processTelemetry(e);for(var t=0;t<this._extensions.length;){if(this._extensions[t].processTelemetry){this._extensions[t].processTelemetry(e);break}t++}},s);function s(){this._isInitialized=!1,this._extensions=new Array,this._channelController=new r.ChannelController}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChannelController",(function(){return r}));var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),r=(o.prototype.processTelemetry=function(e){this.channelQueue.forEach((function(t){0<t.length&&t[0].processTelemetry(e)}))},Object.defineProperty(o.prototype,"ChannelControls",{get:function(){return this.channelQueue},enumerable:!0,configurable:!0}),o.prototype.initialize=function(e,t,n){var r,o=this;e.isCookieUseDisabled&&i.CoreUtils.disableCookies(),this.channelQueue=new Array,e.channels&&e.channels.forEach((function(i){if(i&&0<i.length){i=i.sort((function(e,t){return e.priority-t.priority}));for(var s=1;s<i.length;s++)i[s-1].setNextPlugin(i[s]);if(i.forEach((function(i){i.priority<500&&(r=i.identifier),i.initialize(e,t,n)})),r)throw Error("Channel has invalid priority"+r);o.channelQueue.push(i)}}));for(var s=new Array,a=0;a<n.length;a++){var c=n[a];500<c.priority&&s.push(c)}if(0<s.length){for(s=s.sort((function(e,t){return e.priority-t.priority})),a=1;a<s.length;a++)s[a-1].setNextPlugin(s[a]);s.forEach((function(i){return i.initialize(e,t,n)})),this.channelQueue.push(s)}},o);function o(){this.identifier="ChannelControllerPlugin",this.priority=500}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreUtils",(function(){return i}));var i=(r.isNullOrUndefined=function(e){return null==e},r.disableCookies=function(){r._canUseCookies=!1},r.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(o,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},r);function r(){}var o=/[xy]/g},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"_InternalLogMessage",(function(){return o})),n.d(t,"DiagnosticLogger",(function(){return a}));var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js"),r=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),o=(s.sanitizeDiagnosticText=function(e){return'"'+e.replace(/\"/g,"")+'"'},s.dataType="MessageData",s.AiNonUserActionablePrefix="AI (Internal): ",s.AiUserActionablePrefix="AI: ",s);function s(e,t,n,i){void 0===n&&(n=!1),this.messageId=e,this.message=(n?s.AiUserActionablePrefix:s.AiNonUserActionablePrefix)+e,i=(t?" message:"+s.sanitizeDiagnosticText(t):"")+(i?" props:"+s.sanitizeDiagnosticText(JSON.stringify(i)):""),this.message+=i}var a=(c.prototype.throwInternal=function(e,t,n,r,s){if(void 0===s&&(s=!1),r=new o(t,n,s,r),this.enableDebugExceptions())throw r;void 0!==r&&r&&void 0!==r.message&&(s?(s=+r.messageId,(!this._messageLogged[s]||this.consoleLoggingLevel()>=i.LoggingSeverity.WARNING)&&(this.warnToConsole(r.message),this._messageLogged[s]=!0)):this.consoleLoggingLevel()>=i.LoggingSeverity.WARNING&&this.warnToConsole(r.message),this.logInternalMessage(e,r))},c.prototype.warnToConsole=function(e){"undefined"!=typeof console&&console&&("function"==typeof console.warn?console.warn(e):"function"==typeof console.log&&console.log(e))},c.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},c.prototype.logInternalMessage=function(e,t){var n,r;this._areInternalMessagesThrottled()||(n=!0,r=this.AIInternalMessagePrefix+t.messageId,this._messageLogged[r]?n=!1:this._messageLogged[r]=!0,n&&(e<=this.telemetryLoggingLevel()&&(this.queue.push(t),this._messageCount++),this._messageCount===this.maxInternalMessageLimit()&&(e="Internal events throttle limit per PageView reached for this app.",t=new o(i._InternalMessageId.MessageLimitPerPVExceeded,e,!1),this.queue.push(t),this.warnToConsole(e))))},c.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},c);function c(e){this.queue=[],this.AIInternalMessagePrefix="AITR_",this._messageCount=0,this._messageLogged={},this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},r.CoreUtils.isNullOrUndefined(e)||(r.CoreUtils.isNullOrUndefined(e.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return e.loggingLevelConsole}),r.CoreUtils.isNullOrUndefined(e.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return e.loggingLevelTelemetry}),r.CoreUtils.isNullOrUndefined(e.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return e.maxMessageLimit}),r.CoreUtils.isNullOrUndefined(e.enableDebugExceptions)||(this.enableDebugExceptions=function(){return e.enableDebugExceptions}))}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"NotificationManager",(function(){return i}));var i=(r.prototype.addNotificationListener=function(e){this.listeners.push(e)},r.prototype.removeNotificationListener=function(e){for(var t=this.listeners.indexOf(e);-1<t;)this.listeners.splice(t,1),t=this.listeners.indexOf(e)},r.prototype.eventsSent=function(e){for(var t=this,n=this,i=0;i<this.listeners.length;++i)!function(i){n.listeners[i].eventsSent&&setTimeout((function(){return t.listeners[i].eventsSent(e)}),0)}(i)},r.prototype.eventsDiscarded=function(e,t){for(var n=this,i=this,r=0;r<this.listeners.length;++r)!function(r){i.listeners[r].eventsDiscarded&&setTimeout((function(){return n.listeners[r].eventsDiscarded(e,t)}),0)}(r)},r);function r(){this.listeners=[]}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js");n.d(t,"MinChannelPriorty",(function(){return i.MinChannelPriorty}));var r=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js");n.d(t,"EventsDiscardedReason",(function(){return r.EventsDiscardedReason}));var o=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js");n.d(t,"AppInsightsCore",(function(){return o.AppInsightsCore}));var s=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js");n.d(t,"BaseCore",(function(){return s.BaseCore}));var a=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js");n.d(t,"CoreUtils",(function(){return a.CoreUtils}));var c=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js");n.d(t,"NotificationManager",(function(){return c.NotificationManager}));var l=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js");n.d(t,"DiagnosticLogger",(function(){return l.DiagnosticLogger})),n.d(t,"_InternalLogMessage",(function(){return l._InternalLogMessage}));var u=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js");n.d(t,"_InternalMessageId",(function(){return u._InternalMessageId})),n.d(t,"LoggingSeverity",(function(){return u.LoggingSeverity}))},"./node_modules/@microsoft/load-themed-styles/lib-es6/index.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"loadStyles",(function(){return u})),n.d(t,"configureLoadStyles",(function(){return d})),n.d(t,"configureRunMode",(function(){return p})),n.d(t,"flush",(function(){return m})),n.d(t,"loadTheme",(function(){return h})),n.d(t,"clearStyles",(function(){return f})),n.d(t,"detokenize",(function(){return v})),n.d(t,"splitStyles",(function(){return S}));var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r="undefined"==typeof window?e:window,o=r&&r.CSPSettings&&r.CSPSettings.nonce,s=function(){var e=r.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};return e.runState||(e=i(i({},e),{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}})),e.registeredThemableStyles||(e=i(i({},e),{registeredThemableStyles:[]})),r.__themeState__=e}(),a=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,c=function(){return("undefined"!=typeof performance&&performance.now?performance:Date).now()};function l(e){var t=c();e(),e=c(),s.perf.duration+=e-t}function u(e,t){void 0===t&&(t=!1),l((function(){var n=Array.isArray(e)?e:S(e),i=(o=s.runState).mode,r=o.buffer,o=o.flushTimer;t||1===i?(r.push(n),o||(s.runState.flushTimer=setTimeout((function(){s.runState.flushTimer=0,m()}),0))):A(n)}))}function d(e){s.loadStyles=e}function p(e){s.runState.mode=e}function m(){l((function(){var e=s.runState.buffer.slice();s.runState.buffer=[],0<(e=[].concat.apply([],e)).length&&A(e)}))}function A(e){s.loadStyles?s.loadStyles(y(e).styleString,e):function(e){if("undefined"!=typeof document){var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),i=(r=y(e)).styleString,r=r.themable;n.setAttribute("data-load-themed-styles","true"),o&&n.setAttribute("nonce",o),n.appendChild(document.createTextNode(i)),s.perf.count++,t.appendChild(n),(t=document.createEvent("HTMLEvents")).initEvent("styleinsert",!0,!1),t.args={newStyle:n},document.dispatchEvent(t),e={styleElement:n,themableStyle:e},(r?s.registeredThemableStyles:s.registeredStyles).push(e)}}(e)}function h(e){s.theme=e,function(){if(s.theme){for(var e=[],t=0,n=s.registeredThemableStyles;t<n.length;t++){var i=n[t];e.push(i.themableStyle)}0<e.length&&(f(1),A([].concat.apply([],e)))}}()}function f(e){void 0===e&&(e=3),3!==e&&2!==e||(g(s.registeredStyles),s.registeredStyles=[]),3!==e&&1!==e||(g(s.registeredThemableStyles),s.registeredThemableStyles=[])}function g(e){e.forEach((function(e){(e=e&&e.styleElement)&&e.parentElement&&e.parentElement.removeChild(e)}))}function v(e){return e&&y(S(e)).styleString}function y(e){var t=s.theme,n=!1;return{styleString:(e||[]).map((function(e){var i=e.theme;if(i){n=!0;var r=t?t[i]:void 0,o=e.defaultValue||"inherit";return!t||r||!console||i in t||"undefined"==typeof DEBUG||!DEBUG||console.warn('Theming value not provided for "'+i+'". Falling back to "'+o+'".'),r||o}return e.rawString})).join(""),themable:n}}function S(e){var t=[];if(e){for(var n,i=0;n=a.exec(e);){var r=n.index;i<r&&t.push({rawString:e.substring(i,r)}),t.push({theme:n[1],defaultValue:n[2]}),i=a.lastIndex}t.push({rawString:e.substring(i)})}return t}}.call(this,n("./node_modules/webpack-stream/node_modules/webpack/buildin/global.js"))},"./node_modules/@ms/1ds-analytics-js/dist-esm/src/ApplicationInsights.js":function(e,t,n){"use strict";n.r(t);var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),s=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Index.js"),a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Index.js");i=o.AppInsightsCore,r.__extends(c,i),c.prototype.initialize=function(e,t){this._postChannel=new a.PostChannel,this._propertyManager=new s.PropertiesPlugin;var n=[this._propertyManager];if(t&&(n=n.concat(t)),e.channels&&0<e.channels.length){for(var r=!1,c=0;c<e.channels[0].length;c++)if(e.channels[0][c].identifier===this._postChannel.identifier){r=!0;break}r||e.channels[0].push(this._postChannel)}else e.channels=[[this._postChannel]];e.extensionConfig=e.extensionConfig||[],e.extensionConfig[this._postChannel.identifier]=e?e.channelConfiguration:{},e.extensionConfig[this._propertyManager.identifier]=e?e.propertyConfiguration:{};try{i.prototype.initialize.call(this,e,n)}catch(e){this.logger.throwInternal(o.LoggingSeverity.CRITICAL,o._ExtendedInternalMessageId.FailedToInitializeSDK,"Failed to initialize SDK."+e)}},c.prototype.getPropertyManager=function(){return this._propertyManager},c.prototype.getPostChannel=function(){return this._postChannel},r=c;function c(){return null!==i&&i.apply(this,arguments)||this}t.default=r},"./node_modules/@ms/1ds-analytics-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js");n.d(t,"MinChannelPriorty",(function(){return i.MinChannelPriorty})),n.d(t,"ValueKind",(function(){return i.ValueKind})),n.d(t,"EventLatency",(function(){return i.EventLatency})),n.d(t,"EventPersistence",(function(){return i.EventPersistence})),n.d(t,"TraceLevel",(function(){return i.TraceLevel})),n.d(t,"NotificationManager",(function(){return i.NotificationManager})),n.d(t,"CoreUtils",(function(){return i.CoreUtils})),n.d(t,"EventsDiscardedReason",(function(){return i.EventsDiscardedReason})),n.d(t,"DiagnosticLogger",(function(){return i.DiagnosticLogger}));var r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Index.js");n.d(t,"PropertiesPlugin",(function(){return r.PropertiesPlugin}));var o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Index.js");n.d(t,"PostChannel",(function(){return o.PostChannel})),n.d(t,"Serializer",(function(){return o.Serializer})),n.d(t,"BE_PROFILE",(function(){return o.BE_PROFILE})),n.d(t,"NRT_PROFILE",(function(){return o.NRT_PROFILE})),n.d(t,"RT_PROFILE",(function(){return o.RT_PROFILE}));var s=n("./node_modules/@ms/1ds-analytics-js/dist-esm/src/ApplicationInsights.js");n.d(t,"ApplicationInsights",(function(){return s.default})),n.d(t,"isValueAssigned",(function(){return i.isValueAssigned})),n.d(t,"isArray",(function(){return i.isArray})),n.d(t,"isBeaconsSupported",(function(){return i.isBeaconsSupported})),n.d(t,"isBoolean",(function(){return i.isBoolean})),n.d(t,"isLatency",(function(){return i.isLatency})),n.d(t,"isNumber",(function(){return i.isNumber})),n.d(t,"isReactNative",(function(){return i.isReactNative})),n.d(t,"isString",(function(){return i.isString})),n.d(t,"isUint8ArrayAvailable",(function(){return i.isUint8ArrayAvailable})),n.d(t,"getISOString",(function(){return i.getISOString})),n.d(t,"cookieAvailable",(function(){return i.cookieAvailable}))},"./node_modules/@ms/1ds-core-js/dist-esm/src/AppInsightsCore.js":function(e,t,n){"use strict";n.r(t);var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js"),s=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js"),a=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js");i=o.AppInsightsCore,r.__extends(c,i),c.prototype.initialize=function(e,t){if(e){e.endpointUrl||(e.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var n=e.propertyStorageOverride;if(n&&(!n.getProperty||!n.setProperty))throw"Invalid property storage override passed.";if(e.channels)for(var r=0;r<e.channels.length;r++)if(e.channels[r])for(var a=0;a<e.channels[r].length;a++){var c=e.channels[r][a];c.identifier&&c.version&&(l=c.identifier+"="+c.version,this.pluginVersionStringArr.push(l))}}if(this.getWParam=function(){return"undefined"!=typeof document?0:-1},t)for(r=0;r<t.length;r++){var l,u=t[r];u.identifier&&u.version&&(l=u.identifier+"="+u.version,this.pluginVersionStringArr.push(l))}this.pluginVersionString=this.pluginVersionStringArr.join(";");try{i.prototype.initialize.call(this,e,t)}catch(e){this.logger.throwInternal(o.LoggingSeverity.CRITICAL,s._ExtendedInternalMessageId.ErrorProvidedChannels,"Channels must be provided through config.channels only")}this.pollInternalLogs("InternalLog")},c.prototype.track=function(e){e&&(Object(a.isLatency)(e.latency)||(e.latency=s.EventLatency.Normal),e.ext=e.ext||{},e.ext.sdk=e.ext.sdk||{},e.ext.sdk.ver=a.FullVersionString,e.baseData=e.baseData||{},e.baseData.properties||(e.baseData.properties={}),e.baseData.properties.version||(e.baseData.properties.version=""),""!=this.pluginVersionString&&(e.baseData.properties.version=this.pluginVersionString)),i.prototype.track.call(this,e)},r=c;function c(){var e=null!==i&&i.apply(this,arguments)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",e}t.default=r},"./node_modules/@ms/1ds-core-js/dist-esm/src/BaseCore.js":function(e,t,n){"use strict";n.r(t);var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js"),s=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js"),a=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js");i=o.BaseCore,r.__extends(c,i),c.prototype.initialize=function(e,t){e&&(e.endpointUrl||(e.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/")),this.getWParam=function(){return"undefined"!=typeof document?0:-1};try{i.prototype.initialize.call(this,e,t)}catch(e){this.logger.throwInternal(o.LoggingSeverity.CRITICAL,s._ExtendedInternalMessageId.ErrorProvidedChannels,"Channels must be provided through config.channels only")}},c.prototype.track=function(e){e&&(e.ext=e.ext||{},e.ext.sdk=e.ext.sdk||{},e.ext.sdk.ver=a.FullVersionString),i.prototype.track.call(this,e)},r=c;function c(){return null!==i&&i.apply(this,arguments)||this}t.default=r},"./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ValueKind",(function(){return i})),n.d(t,"EventLatency",(function(){return r})),n.d(t,"EventPropertyType",(function(){return o})),n.d(t,"EventPersistence",(function(){return s})),n.d(t,"TraceLevel",(function(){return a})),n.d(t,"_ExtendedInternalMessageId",(function(){return c}));t=n("./node_modules/tslib/tslib.es6.js"),n=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js");var i={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},r={Normal:1,CostDeferred:2,RealTime:3},o={Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9},s={Normal:1,Critical:2},a={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},c=t.__assign({},n._InternalMessageId,{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517})},"./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js");n.d(t,"MinChannelPriorty",(function(){return i.MinChannelPriorty})),n.d(t,"NotificationManager",(function(){return i.NotificationManager})),n.d(t,"EventsDiscardedReason",(function(){return i.EventsDiscardedReason})),n.d(t,"CoreUtils",(function(){return i.CoreUtils})),n.d(t,"DiagnosticLogger",(function(){return i.DiagnosticLogger})),n.d(t,"LoggingSeverity",(function(){return i.LoggingSeverity}));var r=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js");n.d(t,"ValueKind",(function(){return r.ValueKind})),n.d(t,"EventLatency",(function(){return r.EventLatency})),n.d(t,"EventPersistence",(function(){return r.EventPersistence})),n.d(t,"TraceLevel",(function(){return r.TraceLevel})),n.d(t,"_ExtendedInternalMessageId",(function(){return r._ExtendedInternalMessageId})),n.d(t,"EventPropertyType",(function(){return r.EventPropertyType}));var o=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js");n.d(t,"Utils",(function(){return o}));var s=n("./node_modules/@ms/1ds-core-js/dist-esm/src/AppInsightsCore.js");n.d(t,"AppInsightsCore",(function(){return s.default}));var a=n("./node_modules/@ms/1ds-core-js/dist-esm/src/BaseCore.js");n.d(t,"BaseCore",(function(){return a.default})),n.d(t,"isValueAssigned",(function(){return o.isValueAssigned})),n.d(t,"isArray",(function(){return o.isArray})),n.d(t,"isObject",(function(){return o.isObject})),n.d(t,"isBeaconsSupported",(function(){return o.isBeaconsSupported})),n.d(t,"isBoolean",(function(){return o.isBoolean})),n.d(t,"isLatency",(function(){return o.isLatency})),n.d(t,"isNumber",(function(){return o.isNumber})),n.d(t,"isReactNative",(function(){return o.isReactNative})),n.d(t,"isString",(function(){return o.isString})),n.d(t,"isUint8ArrayAvailable",(function(){return o.isUint8ArrayAvailable})),n.d(t,"getISOString",(function(){return o.getISOString})),n.d(t,"cookieAvailable",(function(){return o.cookieAvailable})),n.d(t,"getTenantId",(function(){return o.getTenantId})),n.d(t,"sanitizeProperty",(function(){return o.sanitizeProperty})),n.d(t,"Version",(function(){return o.Version})),n.d(t,"FullVersionString",(function(){return o.FullVersionString})),n.d(t,"Undefined",(function(){return o.Undefined})),n.d(t,"getCommonSchemaMetaData",(function(){return o.getCommonSchemaMetaData})),n.d(t,"getCookie",(function(){return o.getCookie})),n.d(t,"setCookie",(function(){return o.setCookie})),n.d(t,"deleteCookie",(function(){return o.deleteCookie})),n.d(t,"extend",(function(){return o.extend})),n.d(t,"createGuid",(function(){return o.createGuid})),n.d(t,"useXDomainRequest",(function(){return o.useXDomainRequest})),n.d(t,"isDocumentObjectAvailable",(function(){return o.isDocumentObjectAvailable})),n.d(t,"isWindowObjectAvailable",(function(){return o.isWindowObjectAvailable})),n.d(t,"objDefineAccessors",(function(){return o.objDefineAccessors}))},"./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Version",(function(){return r})),n.d(t,"FullVersionString",(function(){return o})),n.d(t,"Undefined",(function(){return s})),n.d(t,"isDocumentObjectAvailable",(function(){return u})),n.d(t,"isWindowObjectAvailable",(function(){return d})),n.d(t,"isValueAssigned",(function(){return p})),n.d(t,"isString",(function(){return m})),n.d(t,"isNumber",(function(){return A})),n.d(t,"isBoolean",(function(){return h})),n.d(t,"getTenantId",(function(){return f})),n.d(t,"isBeaconsSupported",(function(){return g})),n.d(t,"isUint8ArrayAvailable",(function(){return v})),n.d(t,"isLatency",(function(){return y})),n.d(t,"sanitizeProperty",(function(){return S})),n.d(t,"getISOString",(function(){return b})),n.d(t,"isReactNative",(function(){return C})),n.d(t,"useXDomainRequest",(function(){return E})),n.d(t,"isArray",(function(){return w})),n.d(t,"isObject",(function(){return T})),n.d(t,"getCommonSchemaMetaData",(function(){return P})),n.d(t,"cookieAvailable",(function(){return _})),n.d(t,"setCookie",(function(){return B})),n.d(t,"deleteCookie",(function(){return I})),n.d(t,"getCookie",(function(){return D})),n.d(t,"createGuid",(function(){return k})),n.d(t,"extend",(function(){return F})),n.d(t,"objDefineAccessors",(function(){return U}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r="2.1.0",o="1DS-Web-JS-"+r,s="undefined",a=null,c=null,l=Boolean("undefined"!=typeof document&&document)||Boolean("undefined"!=typeof navigator&&navigator.cookieEnabled),u=!("undefined"==typeof document||!document),d=!("undefined"==typeof window||!window);function p(e){return!(null==e||""===e)}function m(e){return"string"==typeof e}function A(e){return"number"==typeof e}function h(e){return"boolean"==typeof e}function f(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}function g(){return null===a&&(a=typeof navigator!==s&&Boolean(navigator.sendBeacon)),a}function v(){return null===c&&(c=typeof Uint8Array!==s&&!function(){if(typeof navigator!==s&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if((0<=e.indexOf("safari")||0<=e.indexOf("firefox"))&&e.indexOf("chrome")<0)return!0}return!1}()&&!C()),c}function y(e){return!!(e&&A(e)&&1<=e&&e<=3)}function S(e,t,n){if(!m(e)||null==t||""===t)return null;if(m(t)||A(t)||h(t)||w(t))t={value:t};else if("object"!=typeof t||t.value){if(void 0===t.value||null===t.value||""===t.value||!m(t.value)&&!A(t.value)&&!h(t.value)&&!w(t.value))return null}else t={value:n?JSON.stringify(t):t};if(w(t.value)&&!(0<t.value.length))return null;if(void 0!==t.kind){if(w(t.value)||!function(e){return!!(e&&A(e)&&(0<=e&&e<=13||32===e))}(t.kind))return null;t.value=t.value.toString()}return t}function b(e){return e.getUTCFullYear()+"-"+M(e.getUTCMonth()+1)+"-"+M(e.getUTCDate())+"T"+M(e.getUTCHours())+":"+M(e.getUTCMinutes())+":"+M(e.getUTCSeconds())+"."+function(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}(e.getUTCMilliseconds())+"Z"}function C(){return!(typeof navigator===s||!navigator.product)&&"ReactNative"===navigator.product}function E(){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest;return Boolean(void 0===e.withCredentials&&"undefined"!=typeof XDomainRequest)}}function w(e){return e instanceof Array}function T(e){return e instanceof Object}function P(e,t,n){var r=-1;return void 0===e?r:(t&&0<t&&(32===t?r=8192:t<=13&&(r=t<<5)),void 0!==n&&function(e){return!!(A(e)&&0<=e&&e<=9)}(n)?(-1===r&&(r=0),r|n):(w(e)&&(e=e[0]),-1!==r?r|function(e){return void 0===e?-1:A(e)?i.EventPropertyType.Double:m(e)?i.EventPropertyType.String:h(e)?i.EventPropertyType.Bool:-1}(e):A(e)?i.EventPropertyType.Double:r))}function _(){return l}function B(e,t,n){var i;l&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),i="; expires="+i.toUTCString(),window.document.cookie=e+"="+t+i+"; path=/;")}function I(e){B(e,"",-1)}function D(e){if(l){e+="=";for(var t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var i=t[n],r=0;" "===i.charAt(r);)r++;if(0===(i=i.substring(r)).indexOf(e))return i.substring(e.length,i.length)}}return""}function k(){return"xxxxxxxx-xxxx-4xxx-Rxxx-xxxxxxxxxxxx".replace(/x/g,(function(){return Math.floor(16*Math.random()).toString(16)})).replace("R",(8|Math.floor(3*Math.random())).toString(16))}function F(e,t,n,i,r){var o={},s=!1,a=0,c=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(s=arguments[0],a++);a<c;a++)!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s&&"[object Object]"===Object.prototype.toString.call(e[t])?o[t]=F(!0,o[t],e[t]):o[t]=e[t])}(arguments[a]);return o}function M(e){return e<10?"0"+e:e.toString()}function U(e,t,n,i){var r=Object.defineProperty;if(r){try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),i&&(o.set=i),Object.defineProperty,r(e,t,o),!0}catch(e){}return!1}}},"./node_modules/@ms/1ds-cv-js/dist-esm/src/CorrelationVectorPlugin.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/Cv.js");o.prototype.initialize=function(e,t,n){this._traceLogger=t.logger,this._cv=this._cvInitialValue?new r.Cv(this._cvInitialValue,t):new r.Cv(null,t)},o.prototype.processTelemetry=function(e){e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV||this._cv&&this._cv.isInit()&&(e.ext.mscv.cV=this._cv.getValue()),this._nextPlugin&&this._nextPlugin.processTelemetry(e)},o.prototype.setNextPlugin=function(e){this._nextPlugin=e},o.prototype.getCv=function(){return!this._cv&&this._traceLogger&&this._traceLogger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.FailedToInitializeCorrelationVector,"Correlation Vector has not been initialized."),this._cv},n=o;function o(e){this.identifier="CorrelationVectorPlugin",this.priority=159,this.version="2.1.0",this._cvInitialValue=e}t.default=n},"./node_modules/@ms/1ds-cv-js/dist-esm/src/Cv.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Cv",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=function(){},o=(s.prototype.isInit=function(){return this._isValid(this.storedCv())},s.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},s.prototype.getValue=function(){var e=this.storedCv();if(this._isValid(e))return e},s.prototype.getRelatedCv=function(){return this._relatedCv},s.prototype.incrementExternal=function(e){if(this._isValid(e)){var t=e.split("."),n=t.length;t[n-1]=(parseInt(t[n-1],10)+1).toString();for(var i="",r=0;r<n;r++)i+=t[r],r<n-1&&(i+=".");if(e=(t[0].length===this._cv2Constants.baseLength?this._cv2Constants:this._cv1Constants).maxCorrelationVectorLength,i.length<=e)return i}},s.prototype.canExtend=function(){var e=this.storedCv();return!!this._isValid(e)&&this._isLeqThanMaxCorrelationVectorLength(e.length+2)},s.prototype.canIncrement=function(){return!!this._isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},s.prototype.setValue=function(e){return this._isValid(e)?(1<e.lastIndexOf(".")?(this._relatedCv=e,this._init()):(this._base=e,this._currentElement=0),this.extend(),!0):(this._traceLogger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.InvalidCorrelationValue,"Cannot set invalid correlation vector value"),!1)},s.prototype.seed=function(){for(var e="",t=0;t<this._currentCvConstants.baseLength;t++)e+=this._base64CharSet.charAt(Math.floor(Math.random()*this._base64CharSet.length));return e},s.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},s.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},s.prototype.validateWithCv1=function(e){if(this._cv1Constants.validationPattern.test(e)&&e.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},s.prototype.validateWithCv2=function(e){if(this._cv2Constants.validationPattern.test(e)&&e.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},s.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},s.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},s.prototype._init=function(e){return e?this.setValue(e):(this._base=this.seed(),this._currentElement=0,this.getValue())},s.prototype._isLeqThanMaxCorrelationVectorLength=function(e){return 1===this._cvVersionAtLatestValidityCheck?e<=this._cv1Constants.maxCorrelationVectorLength:e<=this._cv2Constants.maxCorrelationVectorLength},s.prototype._isValid=function(e){if(e){var t=e.split(".")[0];if(t)return 16===t.length?(this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(e)):22===t.length?(this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(e)):void 0}},s);function s(e,t){this._base="",this._currentElement=0,this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this._cv1Constants=new r,this._cv2Constants=new r,this._cvVersionAtLatestValidityCheck=2,this._traceLogger=t.logger,this._cv1Constants.maxCorrelationVectorLength=63,this._cv1Constants.baseLength=16,this._cv1Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._cv2Constants.maxCorrelationVectorLength=127,this._cv2Constants.baseLength=22,this._cv2Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._currentCvConstants=this._cv2Constants,this._init(e)}},"./node_modules/@ms/1ds-cv-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/Cv.js");n.d(t,"Cv",(function(){return i.Cv}));var r=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/CorrelationVectorPlugin.js");n.d(t,"CorrelationVectorPlugin",(function(){return r.default}))},"./node_modules/@ms/1ds-post-js/dist-esm/src/ClockSkewManager.js":function(e,t,n){"use strict";function i(){this._allowRequestSending=!0,this._shouldAddClockSkewHeaders=!0,this._isFirstRequest=!0,this._clockSkewHeaderValue="use-collector-delta",this._clockSkewSet=!1}n.r(t),i.prototype.allowRequestSending=function(){return this._isFirstRequest&&!this._clockSkewSet?(this._isFirstRequest=!1,!(this._allowRequestSending=!1)):this._allowRequestSending},i.prototype.shouldAddClockSkewHeaders=function(){return this._shouldAddClockSkewHeaders},i.prototype.getClockSkewHeaderValue=function(){return this._clockSkewHeaderValue},i.prototype.setClockSkew=function(e){this._clockSkewSet||(e?this._clockSkewHeaderValue=e:this._shouldAddClockSkewHeaders=!1,this._clockSkewSet=!0,this._allowRequestSending=!0)},n=i,t.default=n},"./node_modules/@ms/1ds-post-js/dist-esm/src/DataModels.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RT_PROFILE",(function(){return i})),n.d(t,"NRT_PROFILE",(function(){return r})),n.d(t,"BE_PROFILE",(function(){return o}));var i="REAL_TIME",r="NEAR_REAL_TIME",o="BEST_EFFORT"},"./node_modules/@ms/1ds-post-js/dist-esm/src/HttpManager.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Serializer.js"),o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js"),s=n("./node_modules/@ms/1ds-post-js/dist-esm/src/KillSwitch.js"),a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/ClockSkewManager.js"),c="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";l.prototype.initialize=function(e,t,n,r,o){var s=this;this._urlString=e+this._urlString,this._core=t,this._postManager=n,this._httpInterface=r,this._notificationManager=o,this._httpInterface||(this._customHttpInterface=!1,this._useBeacons=!Object(i.isReactNative)(),this._httpInterface={sendPOST:function(e,t,n,r){var o,a,l;Object(i.useXDomainRequest)()?((o=new XDomainRequest).open("POST",e),o.onload=function(){n(200,{},o.responseText),s._handleCollectorResponse(o.responseText)},o.onerror=function(){n(400,{})},o.ontimeout=function(){n(500,{})},o.send(t)):Object(i.isReactNative)()?fetch(e,((l={body:t,method:"POST",credentials:"include"})[c]=!0,l)).then((function(e){var t={},i="";e.headers&&e.headers.forEach((function(e,n){t[n]=e})),e.body&&e.text().then((function(e){i=e})),n(e.status,t,i),s._handleCollectorResponse(i)})).catch((function(e){n(0,{})})):"undefined"!=typeof XMLHttpRequest&&((a=new XMLHttpRequest)[c]=!0,a.withCredentials=!0,a.open("POST",e,!r),a.onload=function(){n(a.status,s._convertAllHeadersToMap(a.getAllResponseHeaders()),a.responseText),s._handleCollectorResponse(a.responseText)},a.onerror=function(){n(a.status,s._convertAllHeadersToMap(a.getAllResponseHeaders()))},a.ontimeout=function(){n(a.status,s._convertAllHeadersToMap(a.getAllResponseHeaders()))},a.send(t))}})},l.prototype.addQueryStringParameter=function(e,t){for(var n=0;n<this._queryStringParameters.length;n++)if(this._queryStringParameters[n].name===e)return void(this._queryStringParameters[n].value=t);this._queryStringParameters.push({name:e,value:t})},l.prototype.hasIdleConnection=function(){return this._activeConnections<2},l.prototype.sendQueuedRequests=function(){for(;this.hasIdleConnection()&&!this._paused&&0<this._requestQueue.length&&this._clockSkewManager.allowRequestSending();)this._activeConnections++,this._sendRequest(this._requestQueue.shift(),0,!1);this.hasIdleConnection()&&this._postManager._scheduleTimer()},l.prototype.isCompletelyIdle=function(){return 0===this._activeConnections},l.prototype.teardown=function(){for(;0<this._requestQueue.length;)this._sendRequest(this._requestQueue.shift(),0,!0)},l.prototype.pause=function(){this._paused=!0},l.prototype.resume=function(){this._paused=!1,this.sendQueuedRequests()},l.prototype.removeQueuedRequests=function(){this._requestQueue.length=0},l.prototype.sendSynchronousRequest=function(e){this._activeConnections++,this._sendRequest(e,0,!1,!0)},l.prototype._sendRequest=function(e,t,n,o){var s=this;if(void 0===o&&(o=!1),e){if(this._paused)return this._activeConnections--,void this._postManager._addBackRequest(e);var a=0,c="";for(p in e)e.hasOwnProperty(p)&&(this._killSwitch.isTenantKilled(p)?(this._notificationManager&&this._notificationManager.eventsDiscarded(e[p],i.EventsDiscardedReason.KillSwitch),delete e[p]):(0<c.length&&(c+=","),c+=p,a++));if(0<a){var l=r.default.getPayloadBlob(e);l.remainingRequest&&this._requestQueue.push(l.remainingRequest);var u=this._urlString+"&apikey="+c+"&upload-time="+Date.now().toString(),d=this._getMsfpc(e);Object(i.isValueAssigned)(d)&&(u=u+"&ext.intweb.msfpc="+d),this._clockSkewManager.shouldAddClockSkewHeaders()&&(u=u+"&time-delta-to-apply-millis="+this._clockSkewManager.getClockSkewHeaderValue()),this._core.getWParam&&(u=u+"&w="+this._core.getWParam());for(var p,m=0;m<this._queryStringParameters.length;m++)u=u+"&"+this._queryStringParameters[m].name+"="+this._queryStringParameters[m].value;for(p in e)if(e.hasOwnProperty(p))for(m=0;m<e[p].length;++m)0<e[p][m].sendAttempt?e[p][m].sendAttempt++:e[p][m].sendAttempt=1;!this._customHttpInterface&&this._useBeacons&&Object(i.isBeaconsSupported)()&&n?this._sendUsingBeacons(u,l.payloadBlob,e):this._httpInterface&&this._httpInterface.sendPOST(u,l.payloadBlob,(function(i,r){s._retryRequestIfNeeded(i,r,e,a,c,t,n,o)}),n||o)}else n||this._handleRequestFinished(null,{},n,o)}},l.prototype._sendUsingBeacons=function(e,t,n){if(navigator.sendBeacon(e,t))this._handleRequestFinished(!0,n,!0,!0);else for(var i in n)if(n.hasOwnProperty(i))for(var o=0;o<n[i].length;++o){if(!navigator.sendBeacon(e,r.default.getEventBlob(n[i][o])))return;this._notifyEventCompleted(!0,[n[i][o]])}},l.prototype._retryRequestIfNeeded=function(e,t,n,r,s,a,c,l){var u=this,d=!0;if(void 0!==e){if(t){var p=this._killSwitch.setKillSwitchTenants(t["kill-tokens"],t["kill-duration-seconds"]);this._clockSkewManager.setClockSkew(t["time-delta-millis"]);for(var m=0;m<p.length;++m)this._notificationManager&&this._notificationManager.eventsDiscarded(n[p[m]],i.EventsDiscardedReason.KillSwitch),delete n[p[m]],r--}else this._clockSkewManager.setClockSkew("");if(200===e)return void this._handleRequestFinished(!0,n,c,l);(!o.default.shouldRetryForStatus(e)||r<=0)&&(d=!1)}d?l?(this._activeConnections--,this._postManager._addBackRequest(n)):a<1?setTimeout((function(){return u._sendRequest(n,a+1,!1)}),o.default.getMillisToBackoffForRetry(a)):(this._activeConnections--,this._postManager._backOffTransmission(),this._postManager._addBackRequest(n)):this._handleRequestFinished(!1,n,c,l)},l.prototype._handleRequestFinished=function(e,t,n,r){for(var o in e&&this._postManager._clearBackOff(),t)t.hasOwnProperty(o)&&this._notifyEventCompleted(e,t[o],i.EventsDiscardedReason.NonRetryableStatus);this._activeConnections--,r||n||this.sendQueuedRequests()},l.prototype._notifyEventCompleted=function(e,t,n){this._notificationManager&&(e?this._notificationManager.eventsSent(t):this._notificationManager.eventsDiscarded(t,n))},l.prototype._convertAllHeadersToMap=function(e){var t={};if(Object(i.isString)(e))for(var n=e.split("\n"),r=0;r<n.length;++r){var o=n[r].split(": ");t[o[0]]=o[1]}return t},l.prototype._getMsfpc=function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=0;n<e[t].length;++n)if(e[t][n].ext&&e[t][n].ext.intweb&&Object(i.isValueAssigned)(e[t][n].ext.intweb.msfpc))return encodeURIComponent(e[t][n].ext.intweb.msfpc);return""},l.prototype._handleCollectorResponse=function(e){try{var t=JSON.parse(e);Object(i.isValueAssigned)(t.webResult)&&Object(i.isValueAssigned)(t.webResult.msfpc)&&Object(i.setCookie)("MSFPC",t.webResult.msfpc,365)}catch(e){}},n=l;function l(e){this._requestQueue=e,this._urlString="?cors=true&content-type=application/x-json-stream&client-id=NO_AUTH&client-version="+i.FullVersionString,this._killSwitch=new s.default,this._paused=!1,this._clockSkewManager=new a.default,this._useBeacons=!1,this._activeConnections=0,this._customHttpInterface=!0,this._queryStringParameters=[]}t.default=n},"./node_modules/@ms/1ds-post-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-post-js/dist-esm/src/PostChannel.js");n.d(t,"PostChannel",(function(){return i.default}));var r=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Serializer.js");n.d(t,"Serializer",(function(){return r.default}));var o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/DataModels.js");n.d(t,"BE_PROFILE",(function(){return o.BE_PROFILE})),n.d(t,"NRT_PROFILE",(function(){return o.NRT_PROFILE})),n.d(t,"RT_PROFILE",(function(){return o.RT_PROFILE}));var s=n("./node_modules/@ms/1ds-post-js/dist-esm/src/HttpManager.js");n.d(t,"HttpManager",(function(){return s.default}));var a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RecordBatcher.js");n.d(t,"RecordBatcher",(function(){return a.default}));var c=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js");n.d(t,"RetryPolicy",(function(){return c.default}));var l=n("./node_modules/@ms/1ds-post-js/dist-esm/src/ClockSkewManager.js");n.d(t,"ClockSkewManager",(function(){return l.default}));var u=n("./node_modules/@ms/1ds-post-js/dist-esm/src/KillSwitch.js");n.d(t,"KillSwitch",(function(){return u.default}))},"./node_modules/@ms/1ds-post-js/dist-esm/src/KillSwitch.js":function(e,t,n){"use strict";function i(){this._killedTokenDictionary={}}n.r(t),i.prototype.setKillSwitchTenants=function(e,t){if(e&&t)try{var n=e.split(",");if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)this._killedTokenDictionary[n[r]]=Date.now()+i}catch(e){return[]}return[]},i.prototype.isTenantKilled=function(e){return void 0!==this._killedTokenDictionary[e]&&this._killedTokenDictionary[e]>Date.now()||(delete this._killedTokenDictionary[e],!1)},n=i,t.default=n},"./node_modules/@ms/1ds-post-js/dist-esm/src/PostChannel.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-post-js/dist-esm/src/DataModels.js"),o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/HttpManager.js"),s=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RecordBatcher.js"),a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js");c.prototype.initialize=function(e,t,n){var r=this;this._core=t,e.extensionConfig=e.extensionConfig||[],e.extensionConfig[this.identifier]=e.extensionConfig[this.identifier]||{},this._config=e.extensionConfig[this.identifier],0<this._config.eventsLimitInMem&&(this._queueSizeLimit=this._config.eventsLimitInMem),this._config.httpXHROverride&&this._config.httpXHROverride.sendPOST&&(this._xhrOverride=this._config.httpXHROverride),Object(i.isValueAssigned)(e.anonCookieName)&&this._httpManager.addQueryStringParameter("anoncknm",e.anonCookieName),t=this._config.overrideEndpointUrl||e.endpointUrl,this._notificationManager=e.extensionConfig.NotificationManager,this._httpManager.initialize(t,this._core,this,this._xhrOverride,this._notificationManager);for(var o=0;o<n.length;++o)n[o].identifier&&"LocalStorage"===n[o].identifier&&(this._databaseAdded=!0);"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("beforeunload",(function(){r.releaseAllQueuesUsingBeacons()})),window.addEventListener("unload",(function(){r.releaseAllQueuesUsingBeacons()}))):window.attachEvent&&(window.attachEvent("onbeforeunload",(function(){r.releaseAllQueuesUsingBeacons()})),window.attachEvent("onunload",(function(){r.releaseAllQueuesUsingBeacons()}))))},c.prototype.processTelemetry=function(e){if(!this._config.disableTelemetry&&!this._isTeardownCalled){if(this._config.overrideInstrumentationKey&&(e.iKey=this._config.overrideInstrumentationKey),e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=i.EventLatency.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,e.sync)if(0<this._currentBackoffCount||this._paused)e.latency=i.EventLatency.RealTime,e.sync=!1;else if(this._httpManager)return void this._httpManager.sendSynchronousRequest(this._batcher.addEventToBatch(e));this._queueSize<this._queueSizeLimit||this._dropEventWithLatencyOrLess(e.latency)?this._addEventToProperQueue(e):this._notificationManager&&this._notificationManager.eventsDiscarded([e],i.EventsDiscardedReason.QueueFull),this._scheduleTimer()}this._nextPlugin&&this._nextPlugin.processTelemetry(e)},c.prototype.teardown=function(){this.releaseAllQueuesUsingBeacons(),this._isTeardownCalled=!0},c.prototype.pause=function(){this._clearTimeout(),this._paused=!0,this._httpManager.pause(),this._databaseAdded&&(this._queueSize-=this._inboundQueues[i.EventLatency.RealTime][0].length+this._inboundQueues[i.EventLatency.CostDeferred][0].length+this._inboundQueues[i.EventLatency.Normal][0].length,this._inboundQueues[i.EventLatency.RealTime][0]=[],this._inboundQueues[i.EventLatency.CostDeferred][0]=[],this._inboundQueues[i.EventLatency.Normal][0]=[],this._httpManager.removeQueuedRequests())},c.prototype.resume=function(){this._paused=!1,this._httpManager.resume(),this._scheduleTimer()},c.prototype.setNextPlugin=function(e){this._nextPlugin=e},c.prototype._loadTransmitProfiles=function(e){for(var t in this._resetTransmitProfiles(),e){var n;e.hasOwnProperty(t)&&(e[t].length<2||(e[t].splice(0,e[t].length-2),e[t][1]<0&&(e[t][0]=-1),0<e[t][1]&&0<e[t][0]&&(n=e[t][0]/e[t][1],e[t][0]=Math.ceil(n)*e[t][1]),this._profiles[t]=e[t]))}},c.prototype.flush=function(e,t){var n=this;if(void 0===e&&(e=!0),!this._paused)if(this._clearTimeout(),e)this._addEmptyQueues(),this._isCurrentlyFlushingNow?this._flushQueue.push(t):(this._isCurrentlyFlushingNow=!0,setTimeout((function(){return n._flushImpl(t)}),0));else{this._batchEvents(i.EventLatency.Normal,this._syncFlushBatcher);for(var r=0;r<this._flushOutboundQueue.length;r++)this._httpManager.sendSynchronousRequest(this._flushOutboundQueue[r]);null!=t&&t()}},c.prototype.setMsaAuthTicket=function(e){this._httpManager.addQueryStringParameter("AuthMsaDeviceTicket",e)},c.prototype._setTransmitProfile=function(e){this._currentProfile!==e&&void 0!==this._profiles[e]&&(this._clearTimeout(),this._currentProfile=e,this._scheduleTimer())},c.prototype._sendEventsForLatencyAndAbove=function(e){this._batchEvents(e),this._httpManager.sendQueuedRequests()},c.prototype._hasEvents=function(){return(0<this._inboundQueues[i.EventLatency.RealTime][0].length||0<this._inboundQueues[i.EventLatency.CostDeferred][0].length||0<this._inboundQueues[i.EventLatency.Normal][0].length||this._batcher.hasBatch())&&this._httpManager.hasIdleConnection()},c.prototype._addBackRequest=function(e){if(!this._paused||!this._databaseAdded)for(var t in e)if(e.hasOwnProperty(t)){1===e[t].length&&e[t][0].sync&&(e[t][0].latency=i.EventLatency.RealTime,e[t][0].sync=!1);for(var n=0;n<e[t].length;++n)e[t][n].sendAttempt<6?this.processTelemetry(e[t][n]):this._notificationManager&&this._notificationManager.eventsDiscarded([e[t][n]],i.EventsDiscardedReason.NonRetryableStatus)}},c.prototype._scheduleTimer=function(){var e,t=this,n=this._profiles[this._currentProfile][1];!this._timeout&&0<=n&&!this._paused&&(this._hasEvents()?(0===n&&0<this._currentBackoffCount&&(n=1),e=1e3,0<this._currentBackoffCount&&(e=a.default.getMillisToBackoffForRetry(this._currentBackoffCount-1)),this._timeout=setTimeout((function(){return t._batchAndSendEvents()}),n*e)):this._timerCount=0)},c.prototype._backOffTransmission=function(){this._currentBackoffCount<4&&(this._currentBackoffCount++,this._clearTimeout(),this._scheduleTimer())},c.prototype._clearBackOff=function(){0<this._currentBackoffCount&&(this._currentBackoffCount=0,this._clearTimeout(),this._scheduleTimer())},c.prototype._clearTimeout=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null,this._timerCount=0)},c.prototype._batchAndSendEvents=function(){var e=i.EventLatency.RealTime;this._timerCount++,2===this._timerCount&&(e=i.EventLatency.Normal,this._timerCount=0),this._sendEventsForLatencyAndAbove(e),this._timeout=null,this._scheduleTimer()},c.prototype.releaseAllQueuesUsingBeacons=function(){this._clearTimeout(),0<this._flushCallback&&clearTimeout(this._flushCallback),this._paused||this._databaseAdded||(this._mergeQueues(),this._batchEvents(i.EventLatency.Normal),this._httpManager.teardown())},c.prototype._removeFirstQueues=function(){this._inboundQueues[i.EventLatency.RealTime].shift(),this._inboundQueues[i.EventLatency.CostDeferred].shift(),this._inboundQueues[i.EventLatency.Normal].shift()},c.prototype._addEmptyQueues=function(){this._inboundQueues[i.EventLatency.RealTime].push([]),this._inboundQueues[i.EventLatency.CostDeferred].push([]),this._inboundQueues[i.EventLatency.Normal].push([])},c.prototype._mergeQueues=function(){for(var e=i.EventLatency.Normal;e<=i.EventLatency.RealTime;e++)for(var t=1;t<this._inboundQueues[e].length;t++)for(;0<this._inboundQueues[e][t].length;)this._inboundQueues[e][0].push(this._inboundQueues[e][t].pop())},c.prototype._addEventToProperQueue=function(e){this._paused&&this._databaseAdded||(this._queueSize++,this._inboundQueues[e.latency][this._inboundQueues[e.latency].length-1].push(e))},c.prototype._dropEventWithLatencyOrLess=function(e){for(var t=i.EventLatency.Normal;t<=e;){if(0<this._inboundQueues[t][this._inboundQueues[t].length-1].length){var n=this._inboundQueues[t][this._inboundQueues[t].length-1].splice(0,20);return this._notificationManager&&this._notificationManager.eventsDiscarded(n,i.EventsDiscardedReason.QueueFull),!0}t++}return!1},c.prototype._batchEvents=function(e,t){void 0===t&&(t=this._batcher);for(var n=i.EventLatency.RealTime;e<=n;){for(;0<this._inboundQueues[n][0].length;){var r=this._inboundQueues[n][0].pop();this._queueSize--,t.addEventToBatch(r)}n--}t.flushBatch()},c.prototype._flushImpl=function(e){var t=this;this._hasEvents()&&this._sendEventsForLatencyAndAbove(i.EventLatency.Normal),this._checkOutboundQueueEmptyAndSent((function(){t._removeFirstQueues(),null!=e&&e(),0<t._flushQueue.length?t._flushCallback=setTimeout((function(){return t._flushImpl(t._flushQueue.shift())}),0):(t._isCurrentlyFlushingNow=!1,t._hasEvents()&&t._scheduleTimer())}))},c.prototype._checkOutboundQueueEmptyAndSent=function(e){var t=this;this._httpManager.isCompletelyIdle()?e():this._flushCallback=setTimeout((function(){return t._checkOutboundQueueEmptyAndSent(e)}),250)},c.prototype._resetTransmitProfiles=function(){this._clearTimeout(),this._initializeProfiles(),this._currentProfile=r.RT_PROFILE,this._scheduleTimer()},c.prototype._initializeProfiles=function(){this._profiles={},this._profiles[r.RT_PROFILE]=[2,1],this._profiles[r.NRT_PROFILE]=[6,3],this._profiles[r.BE_PROFILE]=[18,9]},n=c;function c(){this.identifier="PostChannel",this.priority=1011,this.version="2.1.0",this._isTeardownCalled=!1,this._isCurrentlyFlushingNow=!1,this._flushQueue=[],this._databaseAdded=!1,this._paused=!1,this._queueSize=0,this._queueSizeLimit=1e4,this._profiles={},this._currentProfile=r.RT_PROFILE,this._timeout=null,this._currentBackoffCount=0,this._timerCount=0,this._flushCallback=-1,this._flushOutboundQueue=[],this._outboundQueue=[],this._inboundQueues={},this._inboundQueues[i.EventLatency.RealTime]=[],this._inboundQueues[i.EventLatency.CostDeferred]=[],this._inboundQueues[i.EventLatency.Normal]=[],this._initializeProfiles(),this._addEmptyQueues(),this._batcher=new s.default(this._outboundQueue,500),this._syncFlushBatcher=new s.default(this._flushOutboundQueue,500),this._httpManager=new o.default(this._outboundQueue)}t.default=n},"./node_modules/@ms/1ds-post-js/dist-esm/src/RecordBatcher.js":function(e,t,n){"use strict";function i(e,t){this._outboundQueue=e,this._maxNumberOfEvents=t,this._currentBatch={},this._currentNumEventsInBatch=0}n.r(t),i.prototype.addEventToBatch=function(e){var t=e.iKey;if(t){if(e.sync){var n={};return n[t]=[e],n}this._currentNumEventsInBatch>=this._maxNumberOfEvents&&this.flushBatch(),void 0===this._currentBatch[t]&&(this._currentBatch[t]=[]),this._currentBatch[t].push(e),this._currentNumEventsInBatch++}return null},i.prototype.flushBatch=function(){0<this._currentNumEventsInBatch&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentNumEventsInBatch=0)},i.prototype.hasBatch=function(){return 0<this._currentNumEventsInBatch},n=i,t.default=n},"./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js":function(e,t,n){"use strict";function i(){}n.r(t),i.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!==e&&429!==e||501===e||505===e)},i.getMillisToBackoffForRetry=function(e){var t=Math.floor(1200*Math.random())+2400,n=Math.pow(2,e)*t;return Math.min(n,6e5)},n=i,t.default=n},"./node_modules/@ms/1ds-post-js/dist-esm/src/Serializer.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js");r.getPayloadBlob=function(e){var t,n="",i={};for(t in e)if(e.hasOwnProperty(t))for(var r=0;r<e[t].length;++r){n&&(n+="\n");var o=n.length;if(2e6<(n+=this.getEventBlob(e[t][r])).length-o&&(delete e[t][r],n=n.substring(0,o)),3984588<n.length){i={},o=e[t],e[t]=o.splice(0,r),i[t]=o;break}}return{payloadBlob:n,remainingRequest:i}},r.getEventBlob=function(e){var t,n="baseData",r={};if(r.name=e.name,r.time=e.time,r.ver=e.ver,r.iKey="o:"+Object(i.getTenantId)(e.iKey),e.ext)for(var o in r.ext={},e.ext)if(e.ext.hasOwnProperty(o))for(var s in r.ext[o]={},e.ext[o])e.ext[o].hasOwnProperty(s)&&e.ext[o][s]&&(r.ext[o][s]=Object(i.sanitizeProperty)(s,e.ext[o][s]).value);if(r.data={},r.data[n]={},r.data.baseType=e.baseType,e.baseData)for(var o in e.baseData)e.baseData.hasOwnProperty(o)&&(t=Object(i.sanitizeProperty)(o,e.baseData[o]),this._addJSONProperty(r.data[n],o,t),this._addJSONPropertyMetaData(r.ext,n+"."+o,t));if(e.data)for(var o in e.data)e.data.hasOwnProperty(o)&&(t=Object(i.sanitizeProperty)(o,e.data[o]),this._addJSONProperty(r.data,o,t),this._addJSONPropertyMetaData(r.ext,o,t));return JSON.stringify(r)},r._addJSONProperty=function(e,t,n){if(n){for(var i=e,r=t.split("."),o=0;o<r.length-1;++o)i[r[o]]||(i[r[o]]={}),i=i[r[o]];i[r[r.length-1]]=n.value}},r._addJSONPropertyMetaData=function(e,t,n){if(n){var r="metadata",o=Object(i.getCommonSchemaMetaData)(n.value,n.kind,n.propertyType);if(-1<o){var s=e;s[r]||(s[r]={f:{}}),s=s[r].f;for(var a=t.split("."),c=0;c<a.length-1;++c)s[a[c]]||(s[a[c]]={f:{}}),s=s[a[c]].f;Object(i.isArray)(n.value)?s[a[a.length-1]]={a:{t:o}}:s[a[a.length-1]]={t:o}}}},n=r;function r(){}t.default=n},"./node_modules/@ms/1ds-properties-js/dist-esm/src/ExtensionKeys.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AppExtensionKeys",(function(){return i})),n.d(t,"WebExtensionKeys",(function(){return o})),n.d(t,"UserExtensionKeys",(function(){return a})),n.d(t,"OSExtKeys",(function(){return l})),n.d(t,"SDKExtKeys",(function(){return d})),n.d(t,"IntWebExtKeys",(function(){return m})),n.d(t,"UtcExtKeys",(function(){return h})),n.d(t,"LocExtKeys",(function(){return g})),n.d(t,"SessionExtKeys",(function(){return y})),n.d(t,"DeviceExtKeys",(function(){return b})),n.d(t,"TraceExtKeys",(function(){return E}));var i=(r.id="id",r.ver="ver",r.appName="name",r.locale="locale",r.expId="expId",r.env="env",r);function r(){}var o=(s.domain="domain",s.browser="browser",s.browserVer="browserVer",s.screenRes="screenRes",s.userConsent="userConsent",s);function s(){}var a=(c.locale="locale",c.localId="localId",c.id="id",c);function c(){}var l=(u.osName="name",u.ver="ver",u);function u(){}var d=(p.ver="ver",p.seq="seq",p.installId="installId",p.epoch="epoch",p);function p(){}var m=(A.msfpc="msfpc",A.anid="anid",A.serviceName="serviceName",A);function A(){}var h=(f.popSample="popSample",f);function f(){}var g=(v.tz="tz",v);function v(){}var y=(S.sessionId="sesId",S);function S(){}var b=(C.localId="localId",C.deviceClass="deviceClass",C.make="make",C.model="model",C);function C(){}var E=(w.traceId="traceID",w.traceName="name",w.parentId="parentID",w);function w(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/Extensions.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Extensions",(function(){return i}));var i=(r.UserExt="user",r.DeviceExt="device",r.TraceExt="trace",r.WebExt="web",r.AppExt="app",r.OSExt="os",r.SdkExt="sdk",r.IntWebExt="intweb",r.UtcExt="utc",r.LocExt="loc",r);function r(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/PropertiesPlugin.js");n.d(t,"PropertiesPlugin",(function(){return i.default}))},"./node_modules/@ms/1ds-properties-js/dist-esm/src/PropertiesPlugin.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/TelemetryContext.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Extensions.js");o.prototype.initialize=function(e,t,n){var r=e.extensionConfig=e.extensionConfig||[];this._config=r[this.identifier]||{},r[this.identifier]=this._config,this.context=new i.TelemetryContext(e,this._config,t)},o.prototype.processTelemetry=function(e){var t=e.ext=e.ext||{};e.data=e.data||{},t[r.Extensions.AppExt]=t[r.Extensions.AppExt]||{},t[r.Extensions.UserExt]=t[r.Extensions.UserExt]||{},t[r.Extensions.WebExt]=t[r.Extensions.WebExt]||{},t[r.Extensions.OSExt]=t[r.Extensions.OSExt]||{},t[r.Extensions.SdkExt]=t[r.Extensions.SdkExt]||{},t[r.Extensions.IntWebExt]=t[r.Extensions.IntWebExt]||{},t[r.Extensions.UtcExt]=t[r.Extensions.UtcExt]||{},t[r.Extensions.LocExt]=t[r.Extensions.LocExt]||{},t[r.Extensions.DeviceExt]=t[r.Extensions.DeviceExt]||{},t[r.Extensions.TraceExt]=t[r.Extensions.TraceExt]||{};var n=this.context;n.applyApplicationContext(e),n.applyUserContext(e),n.applyWebContext(e),n.applyOsContext(e),n.applySdkContext(e),n.applyIntWebContext(e),n.applyUtcContext(e),n.applyLocContext(e),n.applySessionContext(e),n.applyDeviceContext(e),n.applyAITraceContext(e),Object.keys(t).forEach((function(e){0===Object.keys(t[e]).length&&delete t[e]})),this._addPropertiesIfAbsent(this._properties,e.data),this._nextPlugin&&this._nextPlugin.processTelemetry(e)},o.prototype.setNextPlugin=function(e){this._nextPlugin=e},o.prototype.getPropertiesContext=function(){return this.context},o.prototype.setProperty=function(e,t){this._properties[e]=t},o.prototype._addPropertiesIfAbsent=function(e,t){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]||(t[n]=e[n]))},n=o;function o(){this.identifier="SystemPropertiesCollector",this.priority=3,this.version="2.1.0",this._properties={}}t.default=n},"./node_modules/@ms/1ds-properties-js/dist-esm/src/SessionManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SessionManager",(function(){return s}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Session.js"),o=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js"),s=(a.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var e=this.automaticSession,t=this.config,n=o.DateTimeUtils.Now(),i=n-e.acquisitionDate>t.sessionExpirationMs();t=n-e.renewalDate>t.sessionRenewalMs();i||t?this.renew():(!(t=this.cookieUpdatedTimestamp)||a.cookieUpdateInterval<n-t)&&(e.renewalDate=n,this.setCookie(e.id,e.acquisitionDate,e.renewalDate))},a.prototype.getDefaultConfig=function(e){return{sessionRenewalMs:e.sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix}}},a.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},a.prototype.initializeAutomaticSession=function(){var e=Object(i.getCookie)(this._storageNamePrefix());(e&&"function"==typeof e.split||(e=o.getStorage(this._logger,this._storageNamePrefix())))&&this.initializeAutomaticSessionWithData(e),this.automaticSession.id||this.renew()},a.prototype.initializeAutomaticSessionWithData=function(e){var t,n=e.split("|");0<n.length&&(this.automaticSession.id=n[0]);try{1<n.length&&(t=+n[1],this.automaticSession.acquisitionDate=+new Date(t),this.automaticSession.acquisitionDate=0<this.automaticSession.acquisitionDate?this.automaticSession.acquisitionDate:0),2<n.length&&(t=+n[2],this.automaticSession.renewalDate=+new Date(t),this.automaticSession.renewalDate=0<this.automaticSession.renewalDate?this.automaticSession.renewalDate:0)}catch(e){this._logger.throwInternal(i.LoggingSeverity.CRITICAL,i._ExtendedInternalMessageId.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0==this.automaticSession.renewalDate&&this._logger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")},a.prototype.renew=function(){var e=o.DateTimeUtils.Now();this.automaticSession.id=o.newId(),this.automaticSession.acquisitionDate=e,this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),o.canUseLocalStorage()||this._logger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")},a.prototype.setCookie=function(e,t,n){var i=t+this.config.sessionExpirationMs(),r=n+this.config.sessionRenewalMs(),s=new Date;n=[e,t,n];i<r?s.setTime(i):s.setTime(r),r=this.config.cookieDomain?this.config.cookieDomain():null,o._setCookie(this._logger,this._storageNamePrefix(),n.join("|")+";expires="+s.toUTCString(),r),this.cookieUpdatedTimestamp=o.DateTimeUtils.Now()},a.prototype.setStorage=function(e,t,n){o.setStorage(this._logger,this._storageNamePrefix(),[e,t,n].join("|"))},a.acquisitionSpan=864e5,a.renewalSpan=18e5,a.cookieUpdateInterval=6e4,a.cookieNameConst="ai_session",a);function a(e,t){var n=this,o=this.getDefaultConfig(e);i.CoreUtils.isNullOrUndefined(t)?this._logger=new i.DiagnosticLogger:this._logger=t,"function"!=typeof e.sessionExpirationMs&&(o.sessionExpirationMs=function(){return a.acquisitionSpan}),"function"!=typeof e.sessionRenewalMs&&(o.sessionRenewalMs=function(){return a.renewalSpan}),this.config=o,this._storageNamePrefix=function(){return n.config.namePrefix&&n.config.namePrefix()?a.cookieNameConst+n.config.namePrefix():a.cookieNameConst},this.automaticSession=new r.Session}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/TelemetryContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TelemetryContext",(function(){return v}));t=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js");var i=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Application.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/User.js"),o=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Web.js"),s=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/OperatingSystem.js"),a=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/IntWeb.js"),c=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Utc.js"),l=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Loc.js"),u=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Device.js"),d=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Session.js"),p=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Trace.js"),m=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/ExtensionKeys.js"),A=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Extensions.js"),h=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Sdk.js"),f=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/SessionManager.js"),g=t.isString,v=(y.prototype.applyApplicationContext=function(e){var t=this.app;g(t.id)&&(e.ext[A.Extensions.AppExt][m.AppExtensionKeys.id]=t.id),g(t.ver)&&(e.ext[A.Extensions.AppExt][m.AppExtensionKeys.ver]=t.ver),g(t.name)&&(e.ext[A.Extensions.AppExt][m.AppExtensionKeys.appName]=t.name),g(t.locale)&&(e.ext[A.Extensions.AppExt][m.AppExtensionKeys.locale]=t.locale);var n=t.expId;g(n)&&(e.ext[A.Extensions.AppExt][m.AppExtensionKeys.expId]=n),g(t.env)&&(e.ext[A.Extensions.AppExt][m.AppExtensionKeys.env]=t.env)},y.prototype.applyUserContext=function(e){var t=this.user,n=t.localId;g(n)&&(e.ext[A.Extensions.UserExt][m.UserExtensionKeys.localId]=n),g(t.locale)&&(e.ext[A.Extensions.UserExt][m.UserExtensionKeys.locale]=t.locale),g(t.id)&&(e.ext[A.Extensions.UserExt][m.UserExtensionKeys.id]=t.id)},y.prototype.applyWebContext=function(e){var t=this.web;g(t.domain)&&(e.ext[A.Extensions.WebExt][m.WebExtensionKeys.domain]=t.domain),g(t.browser)&&(e.ext[A.Extensions.WebExt][m.WebExtensionKeys.browser]=t.browser),g(t.browserVer)&&(e.ext[A.Extensions.WebExt][m.WebExtensionKeys.browserVer]=t.browserVer),g(t.screenRes)&&(e.ext[A.Extensions.WebExt][m.WebExtensionKeys.screenRes]=t.screenRes),e.ext[A.Extensions.WebExt][m.WebExtensionKeys.userConsent]=t.userConsent},y.prototype.applyOsContext=function(e){var t=this.os;g(t.name)&&(e.ext[A.Extensions.OSExt][m.OSExtKeys.osName]=t.name),g(t.ver)&&(e.ext[A.Extensions.OSExt][m.OSExtKeys.ver]=t.ver)},y.prototype.applySdkContext=function(e){var t=this.sdk;e.ext[A.Extensions.SdkExt][m.SDKExtKeys.seq]=t.getSequenceId(),e.ext[A.Extensions.SdkExt][m.SDKExtKeys.epoch]=t.epoch,g(t.installId)&&(e.ext[A.Extensions.SdkExt][m.SDKExtKeys.installId]=t.installId)},y.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=t.getMsfpc();g(n)&&(e.ext[A.Extensions.IntWebExt][m.IntWebExtKeys.msfpc]=n),n=t.getAnid(),g(n)&&(e.ext[A.Extensions.IntWebExt][m.IntWebExtKeys.anid]=n),g(t.serviceName)&&(e.ext[A.Extensions.IntWebExt][m.IntWebExtKeys.serviceName]=t.serviceName)},y.prototype.applyUtcContext=function(e){e.ext[A.Extensions.UtcExt][m.UtcExtKeys.popSample]=this.utc.popSample},y.prototype.applyLocContext=function(e){e.ext[A.Extensions.LocExt][m.LocExtKeys.tz]=this.loc.tz},y.prototype.applySessionContext=function(e){var t=this.session,n=this.sessionManager;t&&(g(t.id)||n.update()),(n=n.automaticSession)&&n.id&&g(n.id)&&(e.ext[A.Extensions.AppExt][m.SessionExtKeys.sessionId]=n.id),t&&t.id&&g(t.id)&&(e.ext[A.Extensions.AppExt][m.SessionExtKeys.sessionId]=t.id)},y.prototype.applyDeviceContext=function(e){var t=this.device;g(t.localId)&&(e.ext[A.Extensions.DeviceExt][m.DeviceExtKeys.localId]=t.localId),g(t.make)&&(e.ext[A.Extensions.DeviceExt][m.DeviceExtKeys.make]=t.make),g(t.model)&&(e.ext[A.Extensions.DeviceExt][m.DeviceExtKeys.model]=t.model),g(t.deviceClass)&&(e.ext[A.Extensions.DeviceExt][m.DeviceExtKeys.deviceClass]=t.deviceClass)},y.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;g(t.traceId)&&(e.ext[A.Extensions.TraceExt][m.TraceExtKeys.traceId]=t.traceId),g(t.name)&&(e.ext[A.Extensions.TraceExt][m.TraceExtKeys.traceName]=t.name),g(t.parentId)&&(e.ext[A.Extensions.TraceExt][m.TraceExtKeys.parentId]=t.parentId)},y);function y(e,t,n){this.app=new i.Application(t),this.user=new r.User(e,t,n&&n.logger),this.os=new s.OperatingSystem(t),this.web=new o.Web(t),this.sdk=new h.Sdk(e),this.intWeb=new a.IntWeb(t),this.utc=new c.Utc,this.loc=new l.Loc,this.device=new u.Device,this.telemetryTrace=new p.Trace(t),this.sessionManager=new f.SessionManager(t,n&&n.logger),this.session=new d.Session}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StorageType",(function(){return i})),n.d(t,"_setCookie",(function(){return s})),n.d(t,"newId",(function(){return a})),n.d(t,"canUseLocalStorage",(function(){return c})),n.d(t,"setStorage",(function(){return d})),n.d(t,"getStorage",(function(){return p})),n.d(t,"random32",(function(){return m})),n.d(t,"generateW3CId",(function(){return A})),n.d(t,"DateTimeUtils",(function(){return h})),n.d(t,"isDate",(function(){return g})),n.d(t,"toISOString",(function(){return v}));var i,r=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),o=void 0;function s(e,t,n,i){var o="",s="";r.isWindowObjectAvailable&&(i&&(o=";domain="+i),window.document.location&&"https:"===window.document.location.protocol&&(s=";secure"),Object(r.cookieAvailable)()&&(window.document.cookie=t+"="+n+o+";path=/"+s))}function a(){for(var e="",t=1073741824*Math.random();0<t;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64);return e}function c(){return void 0===o&&(o=!!u(i.LocalStorage)),o}function l(){return c()?u(i.LocalStorage):null}function u(e){var t,n,r=null;try{if("undefined"==typeof window)return null;n=new Date,(r=e===i.LocalStorage?window.localStorage:window.sessionStorage).setItem(n,n),t=r.getItem(n)!=n,r.removeItem(n),t&&(r=null)}catch(e){r=null}return r}function d(e,t,n){var i=l();if(null!==i)try{return i.setItem(t,n),!0}catch(t){o=!1,e.throwInternal(r.LoggingSeverity.CRITICAL,r._ExtendedInternalMessageId.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}return!1}function p(e,t){var n=l();if(null!==n)try{return n.getItem(t)}catch(t){o=!1,e.throwInternal(r.LoggingSeverity.CRITICAL,r._ExtendedInternalMessageId.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}function m(){return 4294967296*Math.random()|0}function A(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=m())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}(n=i=i||{})[n.LocalStorage=0]="LocalStorage",n[n.SessionStorage=1]="SessionStorage";var h=(f.Now="undefined"!=typeof window&&window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()+window.performance.timing.navigationStart}:function(){return(new Date).getTime()},f.GetDuration=function(e,t){var n=null;return 0===e||0===t||r.CoreUtils.isNullOrUndefined(e)||r.CoreUtils.isNullOrUndefined(t)||(n=t-e),n},f);function f(){}function g(e){return"[object Date]"===Object.prototype.toString.call(e)}function v(e){if(g(e)){if(Date.prototype.toISOString)return e.toISOString();var t=function(e){return 1===(e=String(e)).length&&(e="0"+e),e};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Application.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Application",(function(){return r}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=(o.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},o.prototype._getMetaDataFromDOM=function(e){for(var t={},n="undefined"!=typeof document&&document.querySelectorAll("meta"),i=0;i<n.length;i++){var r=n[i];r.name&&0===r.name.toLowerCase().indexOf(e)&&(t[r.name.replace(e,"")]=r.content)}return t},o.prototype._setAppExpId=function(e){if(e){if(e!==this.appExpId){this.appExpId=null;for(var t=e.split(","),n=0;n<t.length;n++)this._isValidAppFlightId(t[n])&&(this.appExpId?this.appExpId+=","+t[n]:this.appExpId=t[n])}}else this.appExpId=null},o.prototype._getAppExpId=function(){return this.appExpId},o.prototype._readExpIdFromCookie=function(){return this._setAppExpId(Object(i.getCookie)(this.expIdCookieName)),this._getAppExpId()},o.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},o.prototype._isValidAppFlightId=function(e){if(!e||e.length<4)return!1;for(var t=!1,n=e.substring(0,3).toString().toUpperCase(),i=this.flightIdNameSpaces,r=0;r<i.length;r++)if(i[r]+":"===n&&e.length<=256){t=!0;break}return t},o._staticInit=void Object(i.objDefineAccessors)(o.prototype,"expId",o.prototype.getExpId),o);function o(e){var t;this.appExpId=null,this.flightIdNameSpaces=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"],this.expIdCookieName="Treatments",this._propertiesConfig=e,"undefined"==typeof document||(t=document.documentElement)&&(this.locale=t.lang),this.env=e.env||this._getMetaDataFromDOM("awa-").env}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Device.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Device",(function(){return i}));var i=function(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/IntWeb.js":function(e,t,n){"use strict";n.r(t),n.d(t,"IntWeb",(function(){return r}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=(o.prototype.getMsfpc=function(){return Object(i.getCookie)("MSFPC")},o.prototype.getAnid=function(){return Object(i.getCookie)("ANON").slice(0,34)},o._staticInit=(Object(i.objDefineAccessors)(o.prototype,"msfpc",o.prototype.getMsfpc),void Object(i.objDefineAccessors)(o.prototype,"anid",o.prototype.getAnid)),o);function o(e){this.serviceName=e.serviceName||""}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Loc.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Loc",(function(){return i}));var i=function(){var e=0<(t=((e=(new Date).getTimezoneOffset())-(n=e%60))/60)?"-":"+",t=Math.abs(t),n=Math.abs(n);this.tz=e+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/OperatingSystem.js":function(e,t,n){"use strict";n.r(t),n.d(t,"OperatingSystem",(function(){return f}));var i="Windows",r="Mac OS X",o="Android",s=/(windows|win32)/i,a=/ arm;/i,c=/windows\sphone\s\d+\.\d+/i,l=/(macintosh|mac os x)/i,u=/(ipad|iphone|ipod)(?=.*like mac os x)/i,d=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,p=/android/i,m=/CrOS/i,A={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},h="Unknown",f=(g.prototype._getOsName=function(e){return e.match(c)?"Windows Phone":e.match(a)?"Windows RT":e.match(s)?i:e.match(u)?"iOS":e.match(p)?o:e.match(d)?"Linux":-1!==e.indexOf("x11")?"Unix":-1!==e.indexOf("blackberry")?"BlackBerry":-1!==e.indexOf("symbian")?"Symbian":-1!==e.indexOf("nokia")?"Nokia":e.match(l)?r:e.match(m)?"Chrome OS":h},g.prototype._getOsVersion=function(e,t){return t===i?this._getGenericOsVersion(e,"Windows NT"):t===o?this._getGenericOsVersion(e,t):t===r?this._getMacOsxVersion(e):h},g.prototype._getGenericOsVersion=function(e,t){return(t=e.match(new RegExp(t+" ([\\d,.]+)")))?A[t[1]]||t[1]:h},g.prototype._getMacOsxVersion=function(e){var t=e.match(new RegExp(r+" ([\\d,_,.]+)"));return t&&(e=t[1].replace(/_/g,"."))?(t=this._getDelimiter(e))?e.split(t)[0]:e:h},g.prototype._getDelimiter=function(e){return-1<e.indexOf(".")?".":-1<e.indexOf("_")?"_":null},g);function g(e){var t="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(t=e.userAgent),t&&e.populateOperatingSystemInfo&&(e=this._getOsName(t.toLowerCase()),this.name=e,this.ver=this._getOsVersion(t,e))}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Sdk.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Sdk",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r="MicrosoftApplicationsTelemetryDeviceId",o=(s.prototype.getSequenceId=function(){return++this._sequenceId},s.prototype._saveData=function(e,t){var n=this._propertyStorage;n?n.setProperty(e,t):Object(i.setCookie)(e,t,365)},s.prototype._getData=function(e){return this._propertyStorage?this._propertyStorage.getProperty(e)||"":Object(i.getCookie)(e)},s);function s(e){this._sequenceId=0,this._propertyStorage=e.propertyStorageOverride,this.seq=this._sequenceId,this.epoch=(new Date).getTime().toString(),!e.disableCookiesUsage&&Object(i.cookieAvailable)()||this._propertyStorage?(e=(e=this._getData(r))||i.CoreUtils.newGuid(),this._saveData(r,e),this.installId=e):Object(i.deleteCookie)(r)}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Session.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Session",(function(){return i}));var i=function(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Trace.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Trace",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js"),o=function(e,t,n,o){e.enableApplicationInsightsTrace&&(this.traceId=t||Object(r.generateW3CId)(),this.parentId=n,this.name=o,i.isWindowObjectAvailable&&window.location&&window.location.pathname&&(this.name=window.location.pathname))}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/User.js":function(e,t,n){"use strict";n.r(t),n.d(t,"User",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js"),o=(s.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e=Object(i.getCookie)("MUID");e&&this.setLocalId("t:"+e)},s.prototype.setLocalId=function(e){this._customLocalId=e},s.cookieSeparator="|",s.userCookieName="ai_user",s._staticInit=void Object(i.objDefineAccessors)(s.prototype,"localId",s.prototype.getLocalId,s.prototype.setLocalId),s);function s(e,t,n){var o,a;this._logger=n,!e.disableCookiesUsage&&Object(i.cookieAvailable)()&&((e=Object(i.getCookie)("MUID"))&&this.setLocalId("t:"+e),t.enableApplicationInsightsUser&&(!(e=Object(i.getCookie)(s.userCookieName))||0<(o=e.split(s.cookieSeparator)).length&&(this.id=o[0]),this.id||(this.id=r.newId(),e=new Date,a=r.toISOString(e),this.accountAcquisitionDate=a,e.setTime(e.getTime()+31536e6),o=[this.id,a],a=t.cookieDomain||void 0,r._setCookie(this._logger,s.userCookieName,o.join(s.cookieSeparator)+";expires="+e.toUTCString(),a)))),"undefined"!=typeof navigator&&(a=navigator,this.locale=a.userLanguage||a.language)}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Utc.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Utc",(function(){return i}));var i=function(){this.popSample=100}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Web.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Web",(function(){return m}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r="MSIE",o="Chrome",s="Firefox",a="Safari",c="Edge",l="Electron",u="SkypeShell",d="PhantomJS",p="([\\d,.]+)",m=(A.prototype.getUserConsent=function(){return this._propertiesConfig.userConsented||!!Object(i.getCookie)(this._propertiesConfig.userConsentCookieName)},A.prototype._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?"Opera":this._userAgentContainsString(d,e)?d:this._userAgentContainsString(c,e)?c:this._userAgentContainsString(l,e)?l:this._userAgentContainsString(o,e)?o:this._userAgentContainsString("Trident",e)?r:this._userAgentContainsString(s,e)?s:this._userAgentContainsString(a,e)?a:this._userAgentContainsString(u,e)?u:"Unknown"},A.prototype._userAgentContainsString=function(e,t){return-1<t.indexOf(e)},A.prototype._getBrowserVersion=function(e,t){return t===r?this._getIeVersion(e):this._getOtherVersion(t,e)},A.prototype._getIeVersion=function(e){var t=e.match(new RegExp(r+" "+p));return t?t[1]:(e=e.match(new RegExp("rv:"+p)))?e[1]:void 0},A.prototype._getOtherVersion=function(e,t){return e===a&&(e="Version"),(e=t.match(new RegExp(e+"/"+p)))?e[1]:"Unknown"},A.prototype._getScreenResolution=function(){var e={h:0,w:0};return window.screen&&(e.h=screen.height,e.w=screen.width),e},A._staticInit=void Object(i.objDefineAccessors)(A.prototype,"userConsent",A.prototype.getUserConsent),A);function A(e){var t;this._propertiesConfig=e,"undefined"!=typeof window&&(!(t=window.location)||(i=t.hostname)&&(this.domain="file:"===t.protocol?"local":i));var n,i="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(i=e.userAgent),e.populateBrowserInfo&&(i&&(n=this._getBrowserName(i),this.browser=n,this.browserVer=this._getBrowserVersion(i,n)),n=this._getScreenResolution(),this.screenRes=n.w+"X"+n.h)}},"./node_modules/@msstream/core/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/core/esm/init.js");n.d(t,"initLoggingAndUI",(function(){return i.initLoggingAndUI})),n.d(t,"setTheme",(function(){return i.setTheme})),n.d(t,"ensureUIInitialized",(function(){return i.ensureUIInitialized}));var r=n("./node_modules/@msstream/core/esm/styles/Colors.js");n.d(t,"ProductBrandColor",(function(){return r.ProductBrandColor})),n.d(t,"ProductBackgroundColor",(function(){return r.ProductBackgroundColor})),n.d(t,"ProductBorderColor",(function(){return r.ProductBorderColor})),n.d(t,"ProductPrimaryThemeColor",(function(){return r.ProductPrimaryThemeColor})),n.d(t,"NamedColors",(function(){return r.NamedColors}));var o=n("./node_modules/@msstream/core/esm/styles/Controls.js");n.d(t,"buttonStyle",(function(){return o.buttonStyle})),n.d(t,"singleLineEllipsis",(function(){return o.singleLineEllipsis})),n.d(t,"inactiveElementStyle",(function(){return o.inactiveElementStyle}));var s=n("./node_modules/@msstream/core/esm/styles/PositionHelpers.js");n.d(t,"absoluteCenter",(function(){return s.absoluteCenter})),n.d(t,"xSmallBreakPoint",(function(){return s.xSmallBreakPoint})),n.d(t,"smallBreakPoint",(function(){return s.smallBreakPoint})),n.d(t,"mediumBreakPoint",(function(){return s.mediumBreakPoint})),n.d(t,"largeBreakPoint",(function(){return s.largeBreakPoint})),n.d(t,"xlargeBreakPoint",(function(){return s.xlargeBreakPoint}));var a=n("./node_modules/@msstream/core/esm/styles/Fonts.js");n.d(t,"SegoeUI",(function(){return a.SegoeUI})),n.d(t,"SegoeUILight",(function(){return a.SegoeUILight})),n.d(t,"SegoeUISemilight",(function(){return a.SegoeUISemilight})),n.d(t,"SegoeUIBold",(function(){return a.SegoeUIBold})),n.d(t,"SegoeUISemibold",(function(){return a.SegoeUISemibold})),n.d(t,"loadAndRegisterFonts",(function(){return a.loadAndRegisterFonts}));var c=n("./node_modules/@msstream/core/esm/styles/FontFamilyNames.js");n.d(t,"FontFamilySegoeUI",(function(){return c.FontFamilySegoeUI})),n.d(t,"FontFamilySegoeUILight",(function(){return c.FontFamilySegoeUILight})),n.d(t,"FontFamilySegoeUISemilight",(function(){return c.FontFamilySegoeUISemilight})),n.d(t,"FontFamilySegoeUIBold",(function(){return c.FontFamilySegoeUIBold})),n.d(t,"FontFamilySegoeUISemibold",(function(){return c.FontFamilySegoeUISemibold}));var l=n("./node_modules/@msstream/core/esm/styles/Themes.js");n.d(t,"streamTheme",(function(){return l.streamTheme})),n.d(t,"streamDarkTheme",(function(){return l.streamDarkTheme}));var u=n("./node_modules/@msstream/core/esm/telemetry/StreamLoggingService.js");n.d(t,"StreamLoggingService",(function(){return u.StreamLoggingService})),n.d(t,"setupLoggingService",(function(){return u.setupLoggingService}));var d=n("./node_modules/@msstream/core/esm/utilities/index.js");n.d(t,"convertISOTimeSpanDurationToSeconds",(function(){return d.convertISOTimeSpanDurationToSeconds})),n.d(t,"durationToSeconds",(function(){return d.durationToSeconds})),n.d(t,"convertDurationInSecondsToString",(function(){return d.convertDurationInSecondsToString})),n.d(t,"generateGuid",(function(){return d.generateGuid})),n.d(t,"HttpStatusCode",(function(){return d.HttpStatusCode})),n.d(t,"formatISODuration",(function(){return d.formatISODuration})),n.d(t,"formatISODurationToSeconds",(function(){return d.formatISODurationToSeconds})),n.d(t,"formatSecondsToISODuration",(function(){return d.formatSecondsToISODuration})),n.d(t,"formatISODateTimeToFullDateTimeLocaleString",(function(){return d.formatISODateTimeToFullDateTimeLocaleString})),n.d(t,"formatISODateTimeToTwoDigitDate",(function(){return d.formatISODateTimeToTwoDigitDate})),n.d(t,"formatISODateTimeToLocalTime",(function(){return d.formatISODateTimeToLocalTime})),n.d(t,"formatISODateTime",(function(){return d.formatISODateTime})),n.d(t,"setTimeOnDate",(function(){return d.setTimeOnDate})),n.d(t,"setDateOnDate",(function(){return d.setDateOnDate})),n.d(t,"convertNumberToShortNumber",(function(){return d.convertNumberToShortNumber})),n.d(t,"localizeNumber",(function(){return d.localizeNumber})),n.d(t,"shortNumber",(function(){return d.shortNumber})),n.d(t,"getUserRegionInfo",(function(){return d.getUserRegionInfo})),n.d(t,"formatString",(function(){return d.formatString})),n.d(t,"handleStringCardinality",(function(){return d.handleStringCardinality})),n.d(t,"strHash",(function(){return d.strHash})),n.d(t,"debounce",(function(){return d.debounce})),n.d(t,"throttle",(function(){return d.throttle})),n.d(t,"fromEventRegistry",(function(){return d.fromEventRegistry})),n.d(t,"fromEventRegistryWithTimeout",(function(){return d.fromEventRegistryWithTimeout})),n.d(t,"fromTimeout",(function(){return d.fromTimeout})),n.d(t,"makeCancellable",(function(){return d.makeCancellable})),n.d(t,"isPositiveInt",(function(){return d.isPositiveInt})),n.d(t,"isStrictlyPositiveInt",(function(){return d.isStrictlyPositiveInt})),n.d(t,"isPositive",(function(){return d.isPositive})),n.d(t,"isStrictlyPositive",(function(){return d.isStrictlyPositive})),n.d(t,"isFiniteNumber",(function(){return d.isFiniteNumber})),n.d(t,"isFinitePositive",(function(){return d.isFinitePositive})),n.d(t,"isFiniteStrictlyPositive",(function(){return d.isFiniteStrictlyPositive})),n.d(t,"isFiniteRange",(function(){return d.isFiniteRange})),n.d(t,"isIntegralRange",(function(){return d.isIntegralRange})),n.d(t,"isFiniteExclusiveRange",(function(){return d.isFiniteExclusiveRange})),n.d(t,"RemoteResourceError",(function(){return d.RemoteResourceError})),n.d(t,"DomainError",(function(){return d.DomainError})),n.d(t,"CancellationError",(function(){return d.CancellationError})),n.d(t,"TimeoutError",(function(){return d.TimeoutError})),n.d(t,"getNarratorFriendlyTime",(function(){return d.getNarratorFriendlyTime}))},"./node_modules/@msstream/core/esm/init.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initLoggingAndUI",(function(){return c})),n.d(t,"setTheme",(function(){return u})),n.d(t,"ensureUIInitialized",(function(){return d}));var i=n("./node_modules/@msstream/utilities-icons/esm/index.js"),r=n("./node_modules/@uifabric/styling/lib/index.js"),o=n("./node_modules/@msstream/core/esm/styles/Fonts.js"),s=n("./node_modules/@msstream/core/esm/styles/Themes.js"),a=n("./node_modules/@msstream/core/esm/telemetry/StreamLoggingService.js");function c(e,t,n,i){d(i),Object(a.setupLoggingService)(e,t,n)}var l="none",u=function(e){e="standard"===e?s.streamTheme:s.streamDarkTheme,Object(r.loadTheme)(e)};function d(e){void 0===e&&(e="standard"),"none"!==l&&l===e||(u(e),i.init(),Object(o.loadAndRegisterFonts)(),l=e)}},"./node_modules/@msstream/core/esm/styles/Colors.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ProductBrandColor",(function(){return i})),n.d(t,"ProductBackgroundColor",(function(){return r})),n.d(t,"ProductBorderColor",(function(){return o})),n.d(t,"ProductPrimaryThemeColor",(function(){return s})),n.d(t,"NamedColors",(function(){return a}));var i="#C30052",r="#FAF9F8",o="#E1DFDD",s="#BC1948",a={Black:"black",BlackReddishBackground:"rgba(27, 26, 25, 0.75)",BlackReddishBackgroundHover:"rgba(50, 49, 48, 0.75)",DarkGray:"#414141",DimGray:"#666666",LightBlue:"#E3ECFA",LightGray:"#C8C8C8",Link:i,MedGray1:"#BEBBB8",MedGray2:"#A19F9D",OffGray:"#D2D0CE",White:"white",WhiteHover:"rgba(255, 255, 255, 0.15)",WhiteFocus:"rgba(255, 255, 255, 0.30)",Gray130:"#605E5C",Gray160:"#323130",Gray120:"#797775",Gray110:"#8a8886",Gray90:"#A19F9D",Gray80:"#B3B0AD",Gray50:"#d2d0ce",Gray40:"#E1DFDD",Gray30:"#EDEBE9",Gray20:"#F3F2F1",VeryDarkGray:"#4a4a4a",VeryLightGray:"#EAEAEA",EvenLighterGray:"#F4F3F2",EvenDarkerGray:"#212121",Disabled:"#C2C2C2",linkColorDarkBg:"#D2D0CE",linkColorDarkBgHover:"#BEBBB8",linkColorDarkBgActive:"#A19F9D",linkHoverColor:s,slate:"rgba(31, 26, 26, 0.85)",transparentBlack:"rgba(0, 0, 0, 0.6)",Background:r,Border:o,OverlayPanelBackground:"rgba(37, 36, 35, 0.95)",themeLight:"#eda6c3"}},"./node_modules/@msstream/core/esm/styles/Controls.js":function(e,t,n){"use strict";n.r(t),n.d(t,"buttonStyle",(function(){return i})),n.d(t,"singleLineEllipsis",(function(){return r})),n.d(t,"inactiveElementStyle",(function(){return o}));var i={background:n("./node_modules/@msstream/core/esm/styles/Colors.js").NamedColors.LightGray,borderRadius:"3px",height:"28px",marginRight:"16px",width:"116px"},r={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},o={visibility:"hidden",opacity:0,transition:"visibility 1.5s, opacity 1.5s"}},"./node_modules/@msstream/core/esm/styles/FontFamilyNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FontFamilySegoeUI",(function(){return i})),n.d(t,"FontFamilySegoeUILight",(function(){return r})),n.d(t,"FontFamilySegoeUISemilight",(function(){return o})),n.d(t,"FontFamilySegoeUIBold",(function(){return s})),n.d(t,"FontFamilySegoeUISemibold",(function(){return a}));var i="'Segoe UI', 'Stream Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif",r="'Segoe UI Light', 'Stream Segoe UI Light', 'Helvetica Neue', Helvetica, Arial, sans-serif",o="'Segoe UI Semilight', 'Stream Segoe UI Semilight', 'Helvetica Neue', Helvetica, Arial, sans-serif",s="'Segoe UI Bold', 'Stream Segoe UI Bold', 'Helvetica Neue', Helvetica, Arial, sans-serif",a="'Segoe UI Semibold', 'Stream Segoe UI Semibold', 'Helvetica Neue', Helvetica, Arial, sans-serif"},"./node_modules/@msstream/core/esm/styles/Fonts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SegoeUI",(function(){return r})),n.d(t,"SegoeUILight",(function(){return o})),n.d(t,"SegoeUISemilight",(function(){return s})),n.d(t,"SegoeUIBold",(function(){return a})),n.d(t,"SegoeUISemibold",(function(){return c})),n.d(t,"loadAndRegisterFonts",(function(){return l}));var i=n("./node_modules/@uifabric/merge-styles/lib/index.js"),r={fontFamily:(t=n("./node_modules/@msstream/core/esm/styles/FontFamilyNames.js")).FontFamilySegoeUI},o={fontFamily:t.FontFamilySegoeUILight},s={fontFamily:t.FontFamilySegoeUISemilight},a={fontFamily:t.FontFamilySegoeUIBold},c={fontFamily:t.FontFamilySegoeUISemibold};function l(){var e=n("./node_modules/@msstream/core/fonts/segoeui.woff");Object(i.fontFace)({fontFamily:'"Stream Segoe UI"',src:"url('"+e+"')",fontWeight:"normal",fontStyle:"normal"}),e=n("./node_modules/@msstream/core/fonts/segoeuil.woff"),Object(i.fontFace)({fontFamily:'"Stream Segoe UI Light"',src:"url('"+e+"')",fontWeight:"normal",fontStyle:"normal"}),e=n("./node_modules/@msstream/core/fonts/segoeuil.woff"),Object(i.fontFace)({fontFamily:'"Stream Segoe UI Semilight"',src:"url('"+e+"')",fontWeight:"normal",fontStyle:"normal"}),e=n("./node_modules/@msstream/core/fonts/segoeuib.woff"),Object(i.fontFace)({fontFamily:'"Stream Segoe UI Bold"',src:"url('"+e+"')",fontWeight:"normal",fontStyle:"normal"}),e=n("./node_modules/@msstream/core/fonts/segoeuisb.woff"),Object(i.fontFace)({fontFamily:'"Stream Segoe UI Semibold"',src:"url('"+e+"')",fontWeight:"normal",fontStyle:"normal"})}},"./node_modules/@msstream/core/esm/styles/PositionHelpers.js":function(e,t,n){"use strict";n.r(t),n.d(t,"absoluteCenter",(function(){return i})),n.d(t,"xSmallBreakPoint",(function(){return r})),n.d(t,"smallBreakPoint",(function(){return o})),n.d(t,"mediumBreakPoint",(function(){return s})),n.d(t,"largeBreakPoint",(function(){return a})),n.d(t,"xlargeBreakPoint",(function(){return c}));var i={top:"50%",left:"50%",transform:"translateY(-50%) translateX(-50%)",position:"absolute"},r=320,o=540,s=768,a=960,c=1200},"./node_modules/@msstream/core/esm/styles/Themes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"streamTheme",(function(){return i})),n.d(t,"streamDarkTheme",(function(){return r}));n=n("./node_modules/@uifabric/styling/lib/index.js");var i=Object(n.createTheme)({palette:{themeDarker:"#6a0e28",black:"#000000",neutralTertiaryAlt:"#c8c6c4",themeDark:"#8f1336",neutralDark:"#201f1e",themeDarkAlt:"#aa1640",neutralPrimary:"#323130",neutralQuaternaryAlt:"#e1dfdd",themePrimary:"#BC1948",neutralPrimaryAlt:"#3b3a39",neutralLight:"#edebe9",themeSecondary:"#c52e59",neutralSecondary:"#605e5c",neutralLighter:"#f3f2f1",themeTertiary:"#d76787",neutralTertiary:"#a19f9d",neutralLighterAlt:"#faf9f8",themeLight:"#ebaebf",white:"#ffffff",themeLighter:"#f4d2dc",themeLighterAlt:"#fcf4f6"}}),r=Object(n.createTheme)({palette:{themePrimary:"#e8467c",themeLighterAlt:"#fef7f9",themeLighter:"#fbdfe9",themeLight:"#f8c4d5",themeTertiary:"#f18cae",themeSecondary:"#eb5a8a",themeDarkAlt:"#d13f6f",themeDark:"#b0355e",themeDarker:"#822745",neutralLighterAlt:"#262523",neutralLighter:"#2f2d2c",neutralLight:"#3d3b39",neutralQuaternaryAlt:"#464442",neutralQuaternary:"#4d4b49",neutralTertiaryAlt:"#6b6966",neutralTertiary:"#a2a1a1",neutralSecondary:"#888786",neutralPrimaryAlt:"#6d6c6c",neutralPrimary:"#f3f2f1",neutralDark:"#383737",black:"#1d1d1d",white:"#1b1a19"}})},"./node_modules/@msstream/core/esm/telemetry/StreamLoggingService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StreamLoggingService",(function(){return r})),n.d(t,"setupLoggingService",(function(){return o}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),r=new i.LoggingService;function o(e,t,n,o){var s,a;e?a=(s=Object(i.createOneDSLogger)(e)).PrivacyScrubber:s=Object(i.createConsoleLogger)(),a&&r.setupPrivacyScrubber(a),r.setupLogger(s,new i.LegacyLogging(s),t,n,o),e={groupings:{features:[i.FeatureNames.Telemetry]},loggerConfiguration:e},r.appLogicThin("StreamLoggingServiceInitialized",e),i.RestCallLogger.initialize(r)}},"./node_modules/@msstream/core/esm/utilities/Accessibility.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getNarratorFriendlyTime",(function(){return o}));var i=n("./node_modules/@msstream/core/esm/utilities/Region.js"),r=n("./node_modules/@msstream/core/esm/utilities/String.js");function o(e,t){if(!e)return"";var n=[t.Second,t.Minute,t.Hour,t.Day,t.Month,t.Year],o=e.split(t.Seperator);if(o.some((function(e){return Number.isNaN(+e)})))return"";for(var s="",a=0,c=o.length-1;a<o.length&&0<=c;a++,c--){var l=parseInt(o[a],10);(0===a||0<l)&&(s+=l+" "+Object(r.handleStringCardinality)(l,n[c],Object(i.getUserRegionInfo)()))," "!==s.charAt(s.length-1)&&(s+=" ")}return s.trim()}},"./node_modules/@msstream/core/esm/utilities/Debounce.js":function(e,t,n){"use strict";n.r(t),n.d(t,"debounce",(function(){return i})),n.d(t,"throttle",(function(){return r}));var i=function(e,t,n){void 0===n&&(n={});var i=0,r=0;function o(t){r=Date.now(),e.apply(null,t)}return function(){for(var e,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];e=Date.now()-r,(n.maxWait&&e>=n.maxWait||!r&&n.invokeOnFirstCall)&&o(s),window.clearTimeout(i),i=window.setTimeout((function(){return o(s)}),t)}},r=function(e,t){return i(e,t,{invokeOnFirstCall:!0,maxWait:t})}},"./node_modules/@msstream/core/esm/utilities/Duration.js":function(e,t,n){"use strict";n.r(t),n.d(t,"convertISOTimeSpanDurationToSeconds",(function(){return o})),n.d(t,"durationToSeconds",(function(){return a})),n.d(t,"convertDurationInSecondsToString",(function(){return c}));var i,r=new RegExp(/^PT(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?$/);function o(e){return(e=r.exec(e))?3600*s(e[i.Hour])+60*s(e[i.Minute])+s(e[i.Second]):NaN}function s(e){return e?(e=parseFloat(e),isNaN(e)?NaN:e):0}function a(e){var t=e.split(":").reverse();e=0;return t[0]&&(e+=parseInt(t[0],10)),t[1]&&(e+=60*parseInt(t[1],10)),t[2]&&(e+=60*parseInt(t[2],10)*60),e}function c(e){var t=Math.floor(e/3600),n=t%24;return Math.floor(t/24)+"."+n+":"+Math.floor(e%3600/60)+":"+(e%60).toFixed(4)}(t=i=i||{})[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second"},"./node_modules/@msstream/core/esm/utilities/Errors.types.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,"RemoteResourceError",(function(){return o})),n.d(t,"DomainError",(function(){return c})),n.d(t,"CancellationError",(function(){return d})),n.d(t,"TimeoutError",(function(){return A})),n=n("./node_modules/tslib/tslib.es6.js");var r,o=(r=Error,Object(n.__extends)(s,r),s);function s(e,t){return t=r.call(this,"Fetch "+e+" failed with status code: "+t)||this,void 0!==i(Object.setPrototypeOf)&&Object.setPrototypeOf(t,s.prototype),t}var a,c=(a=Error,Object(n.__extends)(l,a),l);function l(e,t){return t=a.call(this,"Domain error: "+e+" does not satisfy "+t)||this,void 0!==i(Object.setPrototypeOf)&&Object.setPrototypeOf(t,l.prototype),t}var u,d=(u=Error,Object(n.__extends)(p,u),p);function p(e){return e=u.call(this,"Operation was cancelled. Reason: "+e)||this,void 0!==i(Object.setPrototypeOf)&&Object.setPrototypeOf(e,p.prototype),e}var m,A=(m=Error,Object(n.__extends)(h,m),h);function h(e){return e=m.call(this,"Exceeded timeout of "+e+" ms.")||this,void 0!==i(Object.setPrototypeOf)&&Object.setPrototypeOf(e,h.prototype),e}},"./node_modules/@msstream/core/esm/utilities/Guid.js":function(e,t,n){"use strict";function i(){var e="",t=0;for(t=0;t<32;t+=1){var n=16*Math.random()|0;switch(t){case 8:case 12:case 16:case 20:e+="-"}e+=n.toString(16)}return e}n.r(t),n.d(t,"generateGuid",(function(){return i}))},"./node_modules/@msstream/core/esm/utilities/Http.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HttpStatusCode",(function(){return i}));var i={ClientNetworkError:"-1",Unauthorized:"401",Forbidden:"403",NotFound:"404",OperationNotAllowed:"405",Conflict:"409",Accepted:"202",OK:"200",BadRequest:"400",PreConditionFailed:"412"}},"./node_modules/@msstream/core/esm/utilities/ISO8601.js":function(e,t,n){"use strict";n.r(t),n.d(t,"formatISODuration",(function(){return r})),n.d(t,"formatISODurationToSeconds",(function(){return o})),n.d(t,"formatSecondsToISODuration",(function(){return s})),n.d(t,"formatISODateTimeToFullDateTimeLocaleString",(function(){return a})),n.d(t,"formatISODateTimeToTwoDigitDate",(function(){return c})),n.d(t,"formatISODateTimeToLocalTime",(function(){return l})),n.d(t,"formatISODateTime",(function(){return u})),n.d(t,"setTimeOnDate",(function(){return d})),n.d(t,"setDateOnDate",(function(){return p}));var i=n("./node_modules/@msstream/core/esm/utilities/Region.js");function r(e,t){var n=Object(i.getUserRegionInfo)(t).timeSeperator,r=/^P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?))$/.exec(e);if(null===r)return"";var o=new function(){this.alreadyHaveValue=!1,this.retVal=""};function s(e,t,i){void 0===t?!0!==e.alreadyHaveValue&&!i||(e.retVal+="00"+n):(e.alreadyHaveValue=!0,i=parseInt(t),e.retVal+=i<10?"0"+i+n:t.substr(0,2)+n)}for(var a=1;a<5;a++)s(o,r[a],!1);for(a=5;a<7;a++)s(o,r[a],!0);return o.retVal.slice(0,o.retVal.length-1)}function o(e){var t=r(e);return t?(e=t.split(":").reverse(),t=0,e[0]&&(t+=parseInt(e[0])),e[1]&&(t+=60*parseInt(e[1])),e[2]&&(t+=60*parseInt(e[2])*60),t):0}function s(e){var t=Math.floor(e/3600),n=Math.floor((e-60*t*60)/60);e=e-60*t*60-60*n;return t?"PT"+t+"H"+n+"M"+e+"S":"PT"+n+"M"+e+"S"}function a(e,t){return new Date(e).toLocaleString(t,{weekday:"long",year:"2-digit",month:"2-digit",day:"2-digit",hour12:!0,hour:"numeric",minute:"numeric",timeZoneName:"short"})}function c(e,t){return new Date(e).toLocaleString(t,{year:"2-digit",month:"2-digit",day:"2-digit"})}function l(e,t){return new Date(e).toLocaleString(t,{hour:"2-digit",minute:"2-digit"})}function u(e){return e.toISOString().split(".")[0]+"Z"}function d(e,t){return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}function p(e,t){return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}},"./node_modules/@msstream/core/esm/utilities/Number.js":function(e,t,n){"use strict";function i(e,t,n,i){if(t<=0)return"0";(!n||n<0)&&(n=1);var r=Math.abs(t);if(r<1e3)return r.toString();var o=Math.pow(10,n);t="",n=i?[{key:e.thousands,value:1e3},{key:e.lakhs,value:Math.pow(10,5)},{key:e.crores,value:Math.pow(10,7)}]:[{key:e.thousands,value:1e3},{key:e.millions,value:Math.pow(10,6)},{key:e.billions,value:Math.pow(10,9)},{key:e.trillions,value:Math.pow(10,12)}],e=i?r/10:r;return i&&1e6===e&&(e+=.1),i=i?100:1e3,e=Math.floor(Math.log(e)/Math.log(i))-1,n.length<=e&&(e=n.length-1),i=r/n[e].value,t=n[e].key,(r=i<10?Math.floor(i*o)/o:Math.floor(i))+t}function r(e,t){if(e&&0<=e){var n=t.numberDigitSeperator||",";e=e.toString();return t.numberSeperatorPosition?3<e.length?(t=n+e.substring(e.length-3),e.substring(0,e.length-3).replace(/\B(?=(\d{2})+(?!\d))/g,n)+t):e:e.replace(/\B(?=(\d{3})+(?!\d))/g,n)}return"0"}function o(e,t,n,r,o){return i(n,e,r,o||t.numberSeperatorPosition)}n.r(t),n.d(t,"convertNumberToShortNumber",(function(){return i})),n.d(t,"localizeNumber",(function(){return r})),n.d(t,"shortNumber",(function(){return o}))},"./node_modules/@msstream/core/esm/utilities/NumberValidation.js":function(e,t,n){"use strict";function i(e){return 0<=e&&Number.isInteger(e)}function r(e){return 0<e&&Number.isInteger(e)}function o(e){return 0<=e}function s(e){return 0<e}function a(e){return isFinite(e)&&!isNaN(e)}function c(e){return 0<=e&&Number.isFinite(e)}function l(e){return 0<e&&Number.isFinite(e)}function u(e,t,n){void 0===n&&(n=0);var i=t-e;return 0<=i&&n<=i&&Number.isFinite(e)&&Number.isFinite(t)}function d(e,t,n){void 0===n&&(n=0);var i=t-e;return 0<=i&&n<=i&&Number.isInteger(e)&&Number.isInteger(t)}function p(e,t){return Number.isFinite(e)&&Number.isFinite(t)&&e<t}n.r(t),n.d(t,"isPositiveInt",(function(){return i})),n.d(t,"isStrictlyPositiveInt",(function(){return r})),n.d(t,"isPositive",(function(){return o})),n.d(t,"isStrictlyPositive",(function(){return s})),n.d(t,"isFiniteNumber",(function(){return a})),n.d(t,"isFinitePositive",(function(){return c})),n.d(t,"isFiniteStrictlyPositive",(function(){return l})),n.d(t,"isFiniteRange",(function(){return u})),n.d(t,"isIntegralRange",(function(){return d})),n.d(t,"isFiniteExclusiveRange",(function(){return p}))},"./node_modules/@msstream/core/esm/utilities/Promise.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fromEventRegistry",(function(){return r})),n.d(t,"fromEventRegistryWithTimeout",(function(){return o})),n.d(t,"fromTimeout",(function(){return s})),n.d(t,"makeCancellable",(function(){return a}));var i=n("./node_modules/@msstream/core/esm/utilities/Errors.types.js");function r(e,t){return new Promise((function(n){e((function e(){t(e),n()}))}))}function o(e,t,n){return new Promise((function(r,o){function s(){clearTimeout(a),t(s),r()}e(s);var a=setTimeout((function(){o(new i.TimeoutError(n)),t(s)}),n)}))}function s(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function a(e,t){var n=!1;return{promise:new Promise((function(t,i){return e.then((function(e){return n?i({isCancelled:!0}):t(e)})).catch((function(e){return i(n?{isCancelled:!0,error:e}:e)}))})),payload:t,cancel:function(){n=!0}}}},"./node_modules/@msstream/core/esm/utilities/Region.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getUserRegionInfo",(function(){return s}));var i=n("./node_modules/@msstream/core/esm/utilities/regionInfo.js"),r=a(i.regionInfo["en-us"]),o=r;function s(e){return e&&(e=i.regionInfo[e.toLowerCase()],o=e?a(e,r):r),o}function a(e,t){return{shortDateformats:e.d||t&&t.shortDateformats||"",timeSeperator:e.ts||t&&t.timeSeperator||"",timeFormat:e.t||t&&t.timeFormat||"",numberDigitSeperator:e.ns||t&&t.numberDigitSeperator||"",numberSeperatorPosition:void 0!==e.gs?e.gs:t&&t.numberSeperatorPosition||!1}}},"./node_modules/@msstream/core/esm/utilities/String.js":function(e,t,n){"use strict";n.r(t),n.d(t,"formatString",(function(){return r})),n.d(t,"handleStringCardinality",(function(){return o})),n.d(t,"strHash",(function(){return s}));var i=n("./node_modules/hash.js/lib/hash/sha/256.js"),r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(e,1);return e[0].replace(/{(\d+)}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))};function o(e,t,n,i){void 0===i&&(i=!1);var o=0;return"string"==typeof e?(n=n.numberDigitSeperator||",",n=e.replace(new RegExp(n,"g"),""),o=Number(n)):"number"==typeof e&&(o=e),o<0&&!i&&(o=0),r(1===o?t.Singular:t.Plural,e.toString())}function s(e){return i().update(e).digest("hex")}},"./node_modules/@msstream/core/esm/utilities/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/core/esm/utilities/Duration.js");n.d(t,"convertISOTimeSpanDurationToSeconds",(function(){return i.convertISOTimeSpanDurationToSeconds})),n.d(t,"durationToSeconds",(function(){return i.durationToSeconds})),n.d(t,"convertDurationInSecondsToString",(function(){return i.convertDurationInSecondsToString}));var r=n("./node_modules/@msstream/core/esm/utilities/Guid.js");n.d(t,"generateGuid",(function(){return r.generateGuid}));var o=n("./node_modules/@msstream/core/esm/utilities/Http.js");n.d(t,"HttpStatusCode",(function(){return o.HttpStatusCode}));var s=n("./node_modules/@msstream/core/esm/utilities/ISO8601.js");n.d(t,"formatISODuration",(function(){return s.formatISODuration})),n.d(t,"formatISODurationToSeconds",(function(){return s.formatISODurationToSeconds})),n.d(t,"formatSecondsToISODuration",(function(){return s.formatSecondsToISODuration})),n.d(t,"formatISODateTimeToFullDateTimeLocaleString",(function(){return s.formatISODateTimeToFullDateTimeLocaleString})),n.d(t,"formatISODateTimeToTwoDigitDate",(function(){return s.formatISODateTimeToTwoDigitDate})),n.d(t,"formatISODateTimeToLocalTime",(function(){return s.formatISODateTimeToLocalTime})),n.d(t,"formatISODateTime",(function(){return s.formatISODateTime})),n.d(t,"setTimeOnDate",(function(){return s.setTimeOnDate})),n.d(t,"setDateOnDate",(function(){return s.setDateOnDate}));var a=n("./node_modules/@msstream/core/esm/utilities/Number.js");n.d(t,"convertNumberToShortNumber",(function(){return a.convertNumberToShortNumber})),n.d(t,"localizeNumber",(function(){return a.localizeNumber})),n.d(t,"shortNumber",(function(){return a.shortNumber}));var c=n("./node_modules/@msstream/core/esm/utilities/Region.js");n.d(t,"getUserRegionInfo",(function(){return c.getUserRegionInfo}));var l=n("./node_modules/@msstream/core/esm/utilities/String.js");n.d(t,"formatString",(function(){return l.formatString})),n.d(t,"handleStringCardinality",(function(){return l.handleStringCardinality})),n.d(t,"strHash",(function(){return l.strHash}));var u=n("./node_modules/@msstream/core/esm/utilities/Debounce.js");n.d(t,"debounce",(function(){return u.debounce})),n.d(t,"throttle",(function(){return u.throttle}));var d=n("./node_modules/@msstream/core/esm/utilities/Promise.js");n.d(t,"fromEventRegistry",(function(){return d.fromEventRegistry})),n.d(t,"fromEventRegistryWithTimeout",(function(){return d.fromEventRegistryWithTimeout})),n.d(t,"fromTimeout",(function(){return d.fromTimeout})),n.d(t,"makeCancellable",(function(){return d.makeCancellable}));var p=n("./node_modules/@msstream/core/esm/utilities/NumberValidation.js");n.d(t,"isPositiveInt",(function(){return p.isPositiveInt})),n.d(t,"isStrictlyPositiveInt",(function(){return p.isStrictlyPositiveInt})),n.d(t,"isPositive",(function(){return p.isPositive})),n.d(t,"isStrictlyPositive",(function(){return p.isStrictlyPositive})),n.d(t,"isFiniteNumber",(function(){return p.isFiniteNumber})),n.d(t,"isFinitePositive",(function(){return p.isFinitePositive})),n.d(t,"isFiniteStrictlyPositive",(function(){return p.isFiniteStrictlyPositive})),n.d(t,"isFiniteRange",(function(){return p.isFiniteRange})),n.d(t,"isIntegralRange",(function(){return p.isIntegralRange})),n.d(t,"isFiniteExclusiveRange",(function(){return p.isFiniteExclusiveRange}));var m=n("./node_modules/@msstream/core/esm/utilities/Errors.types.js");n.d(t,"RemoteResourceError",(function(){return m.RemoteResourceError})),n.d(t,"DomainError",(function(){return m.DomainError})),n.d(t,"CancellationError",(function(){return m.CancellationError})),n.d(t,"TimeoutError",(function(){return m.TimeoutError}));var A=n("./node_modules/@msstream/core/esm/utilities/Accessibility.js");n.d(t,"getNarratorFriendlyTime",(function(){return A.getNarratorFriendlyTime}))},"./node_modules/@msstream/core/esm/utilities/regionInfo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"regionInfo",(function(){return i}));var i={"af-za":{d:"YYYY-MM-DD",ns:""},"am-et":{d:"DD/MM/YYYY"},"ar-ae":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-bh":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-dz":{d:"DD-MM-YYYY",t:"H:mm"},"ar-eg":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-iq":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-jo":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-kw":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-lb":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ly":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ma":{d:"DD-MM-YYYY",t:"H:mm"},"ar-om":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-qa":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-sa":{d:"DD/MM/YY",t:"hh:mm tt"},"ar-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-tn":{d:"DD-MM-YYYY",t:"H:mm"},"ar-ye":{d:"DD/MM/YYYY",t:"hh:mm tt"},"arn-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"as-in":{d:"DD-MM-YYYY",t:"tt h:mm",gs:!0},"az-cyrl-az":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"az-latn-az":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ba-ru":{d:"DD.MM.YY",t:"H:mm",ns:""},"be-by":{d:"DD.MM.YY",t:"HH:mm",ns:""},"bg-bg":{d:"D.M.YYYY '.'",t:"H:mm",ns:""},"bin-ng":{d:"D/M/YYYY",t:"h:mmtt"},"bn-bd":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bn-in":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bo-cn":{d:"YYYY/M/D",t:"HH:mm",gs:!0},"br-fr":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"bs-cyrl-ba":{d:"D.M.YYYY",t:"H:mm",ns:"."},"bs-latn-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"ca-es":{d:"D/M/YYYY",t:"H:mm",ns:"."},"ca-es-valencia":{d:"D/M/YYYY",t:"H:mm",ns:"."},"chr-cher-us":{},"co-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"cs-cz":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"cy-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"da-dk":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"de-at":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"de-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-de":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"de-li":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-lu":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"dsb-de":{d:"D. M. YYYY",t:"HH:mm",ns:"."},"dv-mv":{d:"DD/MM/YY",t:"HH:mm"},"dz-bt":{d:"YYYY-MM-DD",t:" h  mm tt",gs:!0},"el-gr":{d:"D/M/YYYY",ns:"."},"en-029":{d:"DD/MM/YYYY",t:"HH:mm"},"en-au":{d:"D/MM/YYYY"},"en-bz":{d:"DD/MM/YYYY",t:"HH:mm"},"en-ca":{d:"YYYY-MM-DD"},"en-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"en-hk":{d:"D/M/YYYY"},"en-id":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"en-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"en-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"en-jm":{d:"D/M/YYYY"},"en-my":{d:"D/M/YYYY"},"en-nz":{d:"D/MM/YYYY"},"en-ph":{d:"DD/MM/YYYY"},"en-sg":{d:"D/M/YYYY"},"en-tt":{d:"DD/MM/YYYY"},"en-us":{d:"M/D/YYYY",t:"h:mm tt",ts:":",gs:!1,ns:","},"en-za":{d:"YYYY/MM/DD",ns:""},"en-zw":{d:"D/M/YYYY"},"es-419":{d:"D/M/YYYY",t:"HH:mm"},"es-ar":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-bo":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"es-co":{d:"D/MM/YYYY",ns:"."},"es-cr":{d:"D/M/YYYY",t:"HH:mm",ns:""},"es-cu":{d:"D/M/YYYY",t:"HH:mm"},"es-do":{d:"D/M/YYYY"},"es-ec":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-es":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"es-gt":{d:"D/MM/YYYY",t:"HH:mm"},"es-hn":{d:"D/M/YYYY",t:"HH:mm"},"es-mx":{d:"DD/MM/YYYY",t:"hh:mm tt"},"es-ni":{d:"D/M/YYYY",t:"HH:mm"},"es-pa":{d:"MM/DD/YYYY"},"es-pe":{d:"D/MM/YYYY",t:"HH:mm"},"es-pr":{d:"MM/DD/YYYY"},"es-py":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-sv":{d:"D/M/YYYY",t:"HH:mm"},"es-us":{},"es-uy":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-ve":{d:"D/M/YYYY",ns:"."},"et-ee":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"eu-es":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"fa-ir":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ff-latn-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"ff-ng":{d:"D/M/YYYY",t:"H:mm"},"fi-fi":{d:"D.M.YYYY",t:"H.mm",ts:".",ns:""},"fil-ph":{},"fo-fo":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"fr-029":{d:"DD/MM/YYYY",t:"H:mm",ns:""},"fr-be":{d:"DD-MM-YY",t:"HH:mm",ns:"."},"fr-ca":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"fr-cd":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"fr-ci":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-cm":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-ht":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-lu":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-ma":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-mc":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-ml":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-re":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fr-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"fy-nl":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"ga-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"gd-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"gl-es":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gn-py":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gsw-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"gu-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ha-latn-ng":{d:"D/M/YYYY"},"haw-us":{d:"D/M/YYYY"},"he-il":{d:"DD/MM/YYYY",t:"HH:mm"},"hi-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"hr-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"hr-hr":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"hsb-de":{d:"D.M.YYYY",t:"H:mm 'hod'.",ns:"."},"hu-hu":{d:"YYYY. MM. DD.",t:"H:mm",ns:""},"hy-am":{d:"DD.MM.YYYY",t:"HH:mm"},"ibb-ng":{d:"D/M/YYYY",t:"h:mmtt"},"id-id":{d:"DD/MM/YYYY",t:"HH.mm",ts:".",ns:"."},"ig-ng":{d:"DD/MM/YYYY"},"ii-cn":{d:"YYYY/M/D",t:"tt h:mm"},"is-is":{d:"D.M.YYYY",t:"HH:mm",ns:"."},"it-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"it-it":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"iu-cans-ca":{d:"D/M/YYYY"},"iu-latn-ca":{d:"D/MM/YYYY"},"ja-jp":{d:"YYYY/MM/DD",t:"H:mm"},"ka-ge":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"kk-kz":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"kl-gl":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0,ns:"."},"km-kh":{d:"DD/MM/YY",t:"H:mm"},"kn-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ko-kr":{d:"YYYY-MM-DD",t:"tt h:mm"},"kok-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"kr-ng":{d:"D/M/YYYY"},"ks-deva-in":{d:"DD-MM-YYYY",t:"H:mm",gs:!0},"ku-arab-iq":{d:"YYYY/MM/DD",t:"hh:mm tt"},"ky-kg":{d:"D-MMM YY",t:"HH:mm",ns:""},"la-001":{d:"DD/MM/YYYY",t:"H:mm"},"lb-lu":{d:"DD.MM.YY",t:"HH:mm",ns:""},"lo-la":{d:"D/M/YYYY",t:"H:mm",ns:"."},"lt-lt":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"lv-lv":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"mi-nz":{d:"DD/MM/YYYY"},"mk-mk":{d:"DD.M.YYYY",t:"HH:mm",ns:"."},"ml-in":{d:"D/M/YYYY"},"mn-mn":{d:"YYYY-MM-DD",t:"HH:mm"},"mn-mong-cn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mn-mong-mn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mni-in":{d:"DD/MM/YYYY",t:"HH:mm"},"moh-ca":{},"mr-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"ms-bn":{d:"D/MM/YYYY",ns:"."},"ms-my":{d:"D/MM/YYYY"},"mt-mt":{d:"DD/MM/YYYY",t:"HH:mm"},"my-mm":{d:"DD-MM-YYYY",t:"HH:mm"},"nb-no":{d:"DD.MM.YYYY",t:"HH.mm",ts:".",ns:""},"ne-in":{d:"YYYY-MM-DD"},"ne-np":{},"nl-be":{d:"D/MM/YYYY",t:"H:mm",ns:""},"nl-nl":{d:"D-M-YYYY",t:"HH:mm",ns:"."},"nn-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"nso-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"oc-fr":{d:"DD/MM/YYYY",t:"HH' h 'mm",ts:".",ns:""},"om-et":{d:"DD/MM/YYYY"},"or-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"pa-arab-pk":{d:"DD-MM-YY",t:"h.mm tt",ts:"."},"pa-in":{d:"DD-MM-YY",t:"tt hh:mm",gs:!0},"pap-029":{d:"D-M-YYYY",t:"H:mm"},"pl-pl":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"prs-af":{d:"YYYY/M/D",ns:"."},"ps-af":{d:"YYYY/M/D",t:"H:mm",ns:"."},"pt-br":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"pt-pt":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"quc-latn-gt":{d:"DD/MM/YYYY"},"quz-bo":{d:"DD/MM/YYYY",t:"hh:mm tt",ns:"."},"quz-ec":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"quz-pe":{d:"DD/MM/YYYY",t:"hh:mm tt"},"rm-ch":{d:"DD-MM-YYYY",t:"HH:mm",ns:""},"ro-md":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ro-ro":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ru-md":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"ru-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"rw-rw":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"sa-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"sah-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"sd-arab-pk":{d:"DD/MM/YYYY"},"sd-deva-in":{d:"DD/MM/YYYY",t:"H:mm"},"se-fi":{d:"D.M.YYYY",t:"H:mm",ns:""},"se-no":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"se-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"si-lk":{d:"YYYY-MM-DD",t:"HH.mm",ts:"."},"sk-sk":{d:"D.M.YYYY",t:"H:mm",ns:""},"sl-si":{d:"D. MM. YYYY",t:"HH:mm",ns:"."},"sma-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"sma-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"smj-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"smj-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"smn-fi":{d:"D.M.YYYY",t:"H:mm",ns:""},"sms-fi":{d:"D.M.YYYY",t:"H:mm",ns:""},"so-so":{d:"DD/MM/YYYY"},"sq-al":{d:"D.M.YYYY",ns:""},"sr-cyrl-ba":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-me":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-rs":{d:"DD.MM.YYYY.",t:"H:mm",ns:"."},"sr-latn-ba":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-me":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-rs":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"st-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"sv-fi":{d:"DD-MM-YYYY",t:"HH:mm",ns:""},"sv-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"sw-ke":{d:"DD/MM/YYYY",t:"HH:mm"},"syr-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ta-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"ta-lk":{d:"D/M/YYYY",t:"HH:mm",gs:!0},"te-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"tg-cyrl-tj":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"th-th":{d:"D/M/YYYY",t:"H:mm"},"ti-er":{d:"DD/MM/YYYY"},"ti-et":{d:"DD/MM/YYYY"},"tk-tm":{d:"DD.MM.YY '.'",t:"HH:mm",ns:""},"tn-bw":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"tn-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"tr-tr":{d:"D.MM.YYYY",t:"HH:mm",ns:"."},"ts-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"tt-ru":{d:"DD.MM.YYYY",t:"HH:mm",ns:""},"tzm-arab-ma":{d:"D/M/YYYY",t:"H:mm",ns:""},"tzm-latn-dz":{d:"DD-MM-YYYY",t:"H:mm",ns:""},"tzm-tfng-ma":{d:"DD-MM-YYYY",t:"H:mm",ns:""},"ug-cn":{d:"YYYY-M-D",t:"H:mm"},"uk-ua":{d:"DD.MM.YYYY",t:"H:mm",ns:""},"ur-in":{d:"D/M/YY",gs:!0},"ur-pk":{d:"DD/MM/YYYY"},"uz-cyrl-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"uz-latn-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"ve-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"vi-vn":{d:"DD/MM/YYYY",ns:"."},"wo-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:""},"xh-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:""},"yi-001":{d:"DD/MM/YYYY",t:"HH:mm"},"yo-ng":{d:"DD/MM/YYYY"},"zh-cn":{d:"YYYY/M/D",t:"H:mm"},"zh-hk":{d:"D/M/YYYY",t:"H:mm"},"zh-mo":{d:"D/M/YYYY",t:"H:mm"},"zh-sg":{d:"D/M/YYYY",t:"tt h:mm"},"zh-tw":{d:"YYYY/M/D",t:"tt hh:mm"},"zu-za":{}}},"./node_modules/@msstream/core/fonts/segoeui.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeui.woff"},"./node_modules/@msstream/core/fonts/segoeuib.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeuib.woff"},"./node_modules/@msstream/core/fonts/segoeuil.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeuil.woff"},"./node_modules/@msstream/core/fonts/segoeuisb.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeuisb.woff"},"./node_modules/@msstream/services-one-customer-voice/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/src/Constants.ts");t.OCVPrivacyUrl=i.OCVPrivacyUrl,t.OCVResultsUrl=i.OCVResultsUrl,i=n("./node_modules/@msstream/services-one-customer-voice/src/IOneCustomerVoiceService.ts"),t.IOneCustomerVoiceService=i.IOneCustomerVoiceService,i=n("./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceService.ts"),t.OneCustomerVoiceService=i.OneCustomerVoiceService,i=n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/index.ts"),t.Screenshot=i.Screenshot,n=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/index.ts"),t.MicroFeedbackType=n.MicroFeedbackType,t.RatingSurveyType=n.RatingSurveyType,t.SimpleSurveyType=n.SimpleSurveyType,t.UserInitiatedFeedbackType=n.UserInitiatedFeedbackType},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/AdalAuthProvider.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/index.js"),s=n("./node_modules/adal-angular/lib/adal.js"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/IAuthProvider.ts"),c=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/TelemetryPayloadFactory.ts");n=function(e,t,n,l,u){void 0===n&&(n=!1);var d=this;if(this.aadConfig=e,this.loggingService=t,this.portalLogin=n,this.tenantId=l,this.loginHint=u,this.tryAuthenticate=function(e){return i(d,void 0,Promise,(function(){var t,n,i,o,s,a;return r(this,(function(r){switch(r.label){case 0:this.loggingService.debug("tryAuthenticate"),t=this.loggingService.startUniquePerformance(),(n=this.telemetryPayloadFactory.startSilentSSO()).setIsInitialAuth(e),r.label=1;case 1:if(r.trys.push([1,,6,7]),!this.tenantId&&!this.loginHint){if(i=this.adalAuthContext.getCachedToken(this.aadConfig.resourceId),n.setFoundCachedAccessToken(!!i),i)return[2,this.formatToken(i)];this.loggingService.debug("no cached token")}return(i=this.adalAuthContext.getCachedUser())&&this.isCachedUserValid(i,this.tenantId,this.loginHint)?(n.setFoundCachedIdentityToken(!0),[3,4]):[3,2];case 2:return n.setFoundCachedIdentityToken(!1),this.adalAuthContext.clearCache(),o=this.loggingService.startUniquePerformance(),[4,this.acquireIdentityToken()];case 3:if(a=r.sent(),n.setAcquireIdentityTokenResult(a),this.loggingService.endPerformance(o,"AdalAcquireIdentityToken",n.createPayloadForAcquireIdentity()),void 0!==a.error)return[2,a];r.label=4;case 4:return s=this.loggingService.startUniquePerformance(),[4,this.acquireAccessToken()];case 5:return a=r.sent(),n.setAcquireAccessTokenResult(a),this.loggingService.endPerformance(s,"AdalAcquireAccessToken",n.createPayloadForAcquireAccess()),[2,a];case 6:return this.loggingService.endPerformance(t,"AdalSilentSSO",n.createPayloadForSSO()),[7];case 7:return[2]}}))}))},this.tryGetAuthTokenFromCache=function(){d.loggingService.debug("tryGetAuthTokenFromCache");var e=d.adalAuthContext.getCachedToken(d.aadConfig.resourceId);return e?d.formatToken(e):{token:a.InvalidToken}},this.performLogin=function(){d.adalAuthContext.login()},this.formatToken=function(e){var t=d.adalAuthContext.CONSTANTS.STORAGE.EXPIRATION_KEY+d.aadConfig.resourceId;t=d.adalAuthContext._getItem(t);return{token:e={token:e,expiry:new Date(1e3*t)},user:{tenantId:(t=d.adalAuthContext.getCachedUser())?t.profile.tid:"",uniqueId:t?t.profile.oid:""}}},this.onUserLoggedIn=function(e,t,n){d.loggingService.debug("callback called"),t&&(d.loggingService.debug("received identity token: "+t),(t=d.adalAuthContext.getCachedUser())?(d.loggingService.debug("user found: "+t),d.acquireAccessToken()):d.loggingService.debug("user login failed, cannot find user info")),n&&d.loggingService.debug("callback error: "+n)},this.verboseAdalLog=function(e,t,n,i){t&&d.loggingService.debug("ADAL message: "+t),n&&d.loggingService.debug("ADAL error: "+n)},this.silentSignIn=function(){return d.loggingService.debug("start silentSignIn"),new Promise((function(e){d.adalAuthContext._renewIdToken((function(t,n,i){t?(d.loggingService.debug("silentSignIn failed: ["+(null===i?"no code":i)+"] "+(null===t?"no description":t)),e(d.getAdalErrorCode(i,t))):(d.loggingService.debug("silentSignIn succeeded"),d.adalAuthContext._createUser(n),e(null))}))}))},this.acquireIdentityToken=function(){return i(d,void 0,Promise,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return this.loggingService.debug("no cached user - try silent sign in"),[4,this.silentSignIn()];case 1:if(e=t.sent(),!this.adalAuthContext.getCachedUser()){if(this.loggingService.debug("no cached user - interaction required"),!this.portalLogin)return[2,{error:a.AuthError.UserInteractionRequired,adalErrorCode:e||void 0}];this.adalAuthContext.login()}return[2,{}]}}))}))},this.acquireAccessToken=function(){return d.loggingService.debug("acquireAccessToken"),new Promise((function(e){d.adalAuthContext.acquireToken(d.aadConfig.resourceId,(function(t,n,i){n?(d.loggingService.debug("token acquired: "+n),e(d.formatToken(n))):(d.loggingService.debug("no token acquired: ["+(null===i?"no code":i)+"] "+(null===t?"no description":t)),e({error:(n=i)&&n.length&&(-1<n.indexOf("consent_required")||-1<n.indexOf("interaction_required")||-1<n.indexOf("login_required"))?a.AuthError.UserInteractionRequired:a.AuthError.Failed,adalErrorCode:d.getAdalErrorCode(i,t)||void 0}))}))}))},this.isCachedUserValid=function(e,t,n){return!(t&&e.profile.tid!==t||n&&e.userName.toLowerCase()!==n.toLowerCase())},this.getAdalErrorCode=function(e,t){return t&&"Token renewal operation failed due to timeout"===t?t:e},"/"!==e.instance.slice(-1))throw new Error("AadConfig: aadInstance must end with slash! ["+e.instance+"]");if("/"===e.resourceId.slice(-1))throw new Error("AadConfig: resourceId cannot end with slash! ["+e.resourceId+"]");e={instance:e.instance,clientId:e.clientId,expireOffsetSeconds:e.expireOffsetSeconds,redirectUri:e.redirectUri,callback:this.onUserLoggedIn,popUp:o.isEmbedded(),loadFrameTimeout:12e4,cacheLocation:o.isLocalStorageSupported()?"localStorage":"sessionStorage",tenant:l,extraQueryParameter:u?"login_hint="+u:void 0,correlationId:e.correlationId},this.telemetryPayloadFactory=new c.TelemetryPayloadFactory,this.telemetryPayloadFactory.setOptions(e),this.adalAuthContext=new s.default(e),this.adalAuthContext.log=this.verboseAdalLog};t.AdalAuthProvider=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/IAuthProvider.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidToken={token:"",expiry:new Date(0)},(t=t.AuthError||(t.AuthError={})).UserInteractionRequired="UserInteractionRequired",t.Failed="Failed"},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/SilentSSOPayloadFactory.ts":function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=(r.prototype.setIsInitialAuth=function(e){this.isInitialAuth=e},r.prototype.setFoundCachedAccessToken=function(e){this.foundCachedAccessToken=e},r.prototype.setFoundCachedIdentityToken=function(e){this.foundCachedIdentityToken=e},r.prototype.setAcquireIdentityTokenResult=function(e){this.acquireIdentityTokenResult=e},r.prototype.setAcquireAccessTokenResult=function(e){this.acquireAccessTokenResult=e},r.prototype.createPayloadForSSO=function(){return n({name:"AdalSilentSSO",foundCachedIdentityToken:this.foundCachedIdentityToken,foundCachedAccessToken:this.foundCachedAccessToken},this.createCommon(),this.createIdentity(),this.createAccess())},r.prototype.createPayloadForAcquireIdentity=function(){return n({name:"AdalAcquireIdentityToken"},this.createCommon(),this.createIdentity())},r.prototype.createPayloadForAcquireAccess=function(){return n({name:"AdalAcquireAccessToken"},this.createCommon(),this.createAccess())},r.prototype.createCommon=function(){return{isInitialAuth:this.isInitialAuth,popUp:this.options.popUp,expireOffsetSeconds:this.options.expireOffsetSeconds,loadFrameTimeout:this.options.loadFrameTimeout}},r.prototype.createIdentity=function(){return void 0===this.acquireIdentityTokenResult?{}:{acquireIdentityTokenSuccess:void 0===this.acquireIdentityTokenResult.error,acquireIdentityTokenError:this.acquireIdentityTokenResult.adalErrorCode}},r.prototype.createAccess=function(){return void 0===this.acquireAccessTokenResult?{}:{acquireAccessTokenSuccess:void 0===this.acquireAccessTokenResult.error,acquireAccessTokenError:this.acquireAccessTokenResult.adalErrorCode}},r);function r(e){this.options=e}t.SilentSSOPayloadFactory=i},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/TelemetryPayloadFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/SilentSSOPayloadFactory.ts");r.prototype.setOptions=function(e){this.options=e},r.prototype.startSilentSSO=function(){return new i.SilentSSOPayloadFactory(this.options)},n=r;function r(){}t.TelemetryPayloadFactory=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/IAuthProvider.ts");t.AuthError=i.AuthError,t.InvalidToken=i.InvalidToken,n=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/AdalAuthProvider.ts"),t.AdalAuthProvider=n.AdalAuthProvider},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PostMessagesNames={GetStreamToken:"getStreamToken",GetStreamTokenLower:"getstreamtoken",signInEvent:"signinevent",loadData:"loaddata",playerEvent:"playerevent",playerFunction:"playerfunction",prefetchNewVideos:"prefetchnewvideos",fetchVideoThumbnails:"fetchvideothumbnails",fetchVideoThumbnailResult:"fetchvideothumbnailresult"},t.PostMessageSubEventNames={signInSuccessful:"signinsuccessful",signInFailed:"signinfailed",signInIncomplete:"signinincomplete",setSource:"setsource",canPlayThrough:"canplaythrough",cookieBlocked:"cookieblocked",dataLoaded:"dataloaded",error:"error",heartbeat:"heartbeat",timeupdate:"timeupdate",pause:"pause",playing:"playing",ready:"ready"}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.initialize=function(e,t,n){MicrosoftStream?MicrosoftStream.initialize(e,t,n):n&&n("Post messaging sdk not found")},i.prototype.sendMessageToParent=function(e,t,n,i,r){MicrosoftStream?MicrosoftStream.sendMessageToParent(e,t,n,i,r):i&&i("Post messaging sdk not found")},i.prototype.addChildMessageHandler=function(e,t,n){if(!MicrosoftStream)throw new Error("Post messaging sdk not found");MicrosoftStream.addChildMessageHandler(e,t,n)},i.prototype.addHostMessageHandlers=function(e,t){if(!MicrosoftStream)throw new Error("Post messaging sdk not found");MicrosoftStream.addHostMessageHandlers(e,t)},i.prototype.nativeJavacriptBridge=function(e){if(!MicrosoftStream)throw new Error("Post messaging sdk not found");MicrosoftStream.nativeJavacriptBridge(e)},i);function i(){}t.PostMessagingService=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.ts");t.PostMessagingService=i.PostMessagingService,i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/Constants.ts"),t.PostMessagesNames=i.PostMessagesNames,t.PostMessageSubEventNames=i.PostMessageSubEventNames,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.types.ts"))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRefreshBeforeExpiryMs=9e5,t.AuthenticationCachePollingIntervalMs=50,t.RefreshTokenUrlPath="refreshtoken",t.InjectedTokenAuthTimeoutInMs=15e3,t.DefaultLanguage="en",t.ResourcesScriptId="resourcesScriptId",t.SessionManagerBucketName="SM::",t.SessionKey="Session",t.DefaultSessionCacheExpiryMs=5e3},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.AuthState||(t.AuthState={}))[t.Unknown=0]="Unknown",t[t.Authenticated=1]="Authenticated",t[t.Error=2]="Error",t[t.LoginRequired=3]="LoginRequired",t[t.Waiting=4]="Waiting",t[t.TenantPatchSuccess=5]="TenantPatchSuccess",t[t.TenantPatchThrottled=6]="TenantPatchThrottled",t[t.TenantPatchThrottleFailed=7]="TenantPatchThrottleFailed"},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionManager.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/core/esm/index.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/index.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/index.ts"),c=n("./node_modules/@msstream/services-rest/src/index.ts"),l=n("./node_modules/@msstream/services-tenant/src/index.ts"),u=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),d=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts"),p=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts"),m=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts"),A=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts"),h=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Utils.ts");n=function e(t,n,f,g,v,y,S,b,C,E,w,T,P){void 0===P&&(P=!1);var _=this;this.authProvider=t,this.tenantService=n,this.injectedAuthProvider=f,this.postMessagingService=g,this.clientSessionId=v,this.userSessionId=y,this.principalService=S,this.localeHelper=b,this.loggingService=C,this.viewContext=E,this.resourceUpdatedCallback=w,this.resourceReadyCallback=T,this.portalLogin=P,this.onAuthStateChangedListeners=new Map,this.nextSubscription=0,this.authFailures=0,this.resourcesSet=!1,this.injectedTokenAuthTimer=void 0,this.getState=function(){return _.authState},this.getStateReason=function(){return _.authStateReason},this.isSessionValid=function(){return _.isAuthTokenValid(_.userSession.authToken)&&!!_.userSession.apiGatewayUrl},this.start=function(e){return i(_,void 0,Promise,(function(){var t;return r(this,(function(n){return void 0!==this.timer||this.isSessionValid()?[2]:(t={groupings:{features:[u.FeatureNames.SessionManager]},viewContext:this.viewContext,isInitialAuth:e},this.loggingService.appLogicThin("AuthenticationStarted",t),this.setAuthState(p.AuthState.Waiting),[2,this.ensureSessionValidity(e)])}))}))},this.addStateChangedListener=function(e){return _.onAuthStateChangedListeners.set(_.nextSubscription,e),_.nextSubscription++},this.removeStateChangedListener=function(e){return _.onAuthStateChangedListeners.delete(e)},this.getUserSession=function(){return _.userSession},this.isAuthTokenValid=function(e){return _.loggingService.debug("isAuthTokenValid: "+e),void 0!==e&&""!==e.token&&Date.now()<e.expiry.valueOf()},this.setAuthState=function(t,n){var i;void 0===n&&(n=""),h.cacheAuthMasterState(_.userSession,t,n,_.loggingService),t!==_.authState?(_.loggingService.debug(p.AuthState[_.authState],"=>",p.AuthState[t]," ",n),i={groupings:{features:[u.FeatureNames.SessionManager]},viewContext:_.viewContext,sessionType:e.name,oldState:p.AuthState[_.authState],newState:p.AuthState[t]},_.loggingService.appLogicThin("SessionAuthStateChanged",i),_.authState=t,_.authStateReason=n,_.authState===p.AuthState.Authenticated&&(_.authFailures=0),_.onAuthStateChangedListeners.forEach((function(e){return e(_.authState,n)}))):_.loggingService.debug("setAuthState called without change:",p.AuthState[t])},this.shouldRenewBackendToken=function(){return _.timeToNextTokenRefreshMs()<=0},this.timeToNextTokenRefreshMs=function(){return _.timeToTokenExpiration()-d.TokenRefreshBeforeExpiryMs},this.timeToNextAuthAttemptMs=function(){return Math.min(3e5,250*Math.pow(2,_.authFailures))},this.timeToTokenExpiration=function(){return _.userSession.accessTokenExpiryDate.valueOf()-Date.now()},this.doTenantPatch=function(e){return i(_,void 0,Promise,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:if(this.userSession.apiGatewayUrl&&this.userSession.apiGatewayVersion)return this.loggingService.debug("tenantPatch: Already on gateway:",this.userSession.apiGatewayUrl,this.userSession.apiGatewayVersion),[2,{success:!0,reason:""}];if(!this.isAuthTokenValid(this.userSession.authToken))return n="doTenantPatch failed because the auth token is invalid",this.loggingService.warnThin("DoTenantPatchError",m.payloadForDoTenantPatchError(this.viewContext,n)),[2,{success:!1,reason:n}];t=this.loggingService.startUniquePerformance(),n="DoTenantPatch",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.tenantService.patchTenant(this.userSession,this.tenantPatchStateChanged,!1)];case 2:return i=r.sent(),this.userSession.apiGatewayUrl=i.apiEndpoint,this.userSession.apiGatewayVersion=this.tenantService.getApiVersion(),this.userSession.notificationEndPoint=i.notificationEndpoint,this.loggingService.endPerformance(t,n,m.payloadForTenantPatchPerformance(this.viewContext,e,!0)),this.loggingService.debug("tenantPatch: New gateway:",i.apiEndpoint),[2,{success:!0,reason:""}];case 3:return i=r.sent(),this.loggingService.endPerformance(t,n,m.payloadForTenantPatchPerformance(this.viewContext,e,!1)),this.injectedAuthProvider&&this.injectedAuthProvider.signInFailed({reason:i&&i.data?i.data:i.toString(),errorcode:i.status,customReasonText:"Stream tenant patch failed"}),[2,{success:!1,reason:i&&i.data&&i.data.error&&i.data.error.details&&0<i.data.error.details.length&&i.data.error.details[0].code?i.data.error.details[0].code:""}];case 4:return[2]}}))}))},this.refreshBrowserSessionCookies=function(e){return i(_,void 0,Promise,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:if(!(i=this.userSession.apiGatewayUrl))return this.loggingService.warnThin("RefreshSessionCookiesError",m.payloadForRefreshCookiesError(this.viewContext,"refreshBrowserSessionCookies failed because apiUrl is undefined")),[2,!1];t=this.loggingService.startUniquePerformance(),n="RefreshSessionCookies",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c.RestService.getWithCorsSupport(i,d.RefreshTokenUrlPath,this.userSession.getApiGatewayParameters(),this.userSession.generateHeaders())];case 2:return r.sent(),this.loggingService.endPerformance(t,n,m.payloadForRefreshCookiesPerformance(this.viewContext,e,!0)),[3,4];case 3:return i=r.sent(),this.loggingService.endPerformance(t,n,m.payloadForRefreshCookiesPerformance(this.viewContext,e,!1)),this.injectedAuthProvider&&this.injectedAuthProvider.signInFailed({reason:i&&i.data?i.data:i.toString(),errorcode:i.status,customReasonText:"Failed to refresh backend tokens"}),[2,!1];case 4:return[2,!0]}}))}))},this.setResources=function(e){return i(_,void 0,Promise,(function(){var t,n,i,o,s,a;return r(this,(function(r){switch(r.label){case 0:if(this.resourcesSet)return this.loggingService.debug("setResource: Resources already set: "+this.userSession.userLanguage+this.userSession.userRegion+this.userSession.isRightToLeft),[2,!0];t=this.loggingService.startUniquePerformance(),n="GetLocaleInfo",i="GetPrincipalSettings",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.principalService.getPrincipalSettings(this.userSession)];case 2:o=r.sent(),this.loggingService.endPerformance(t,i,m.payloadForGetPrincipalPerformance(this.viewContext,e,!0)),s=this.loggingService.startUniquePerformance();try{a=this.localeHelper.getLocaleInfo(o),this.loggingService.endPerformance(s,n,m.payloadForGetLocaleInfoPerformance(this.viewContext,e,!0)),this.loggingService.debug("Locale info: "+JSON.stringify(a)),this.userSession.applyLocaleInfo(a),this.resourcesSet=!0,(a=this.loggingService.getStandardContextsDeepCopy())&&a.userContext&&(a.userContext.language=this.userSession.userLanguage,a.userContext.region=this.userSession.userRegion,this.loggingService.setStandardContexts(a)),h.loadResources(this.userSession.userLanguage,e,this.viewContext,this.loggingService,this.resourceReadyCallback,this.resourceUpdatedCallback)}catch(r){return this.loggingService.endPerformance(s,n,m.payloadForGetLocaleInfoPerformance(this.viewContext,e,!1)),[2,!1]}return[3,4];case 3:return r.sent(),this.loggingService.endPerformance(t,i,m.payloadForGetPrincipalPerformance(this.viewContext,e,!1)),[2,!1];case 4:return[2,!0]}}))}))},this.enqueueNextSessionValidityCheck=function(){var e;_.tenantService.hasTenantPatchThrottleFailed()||(0,e=_.authState===p.AuthState.Authenticated?_.timeToNextTokenRefreshMs():(_.authFailures++,_.timeToNextAuthAttemptMs()),_.loggingService.debug("next check in: "+e+"ms"),_.timer=window.setTimeout((function(){_.ensureSessionValidity(!1)}),e))},this.enqueueNextCachedCredentialsCheck=function(){_.timer=window.setTimeout((function(){_.checkForCachedCredentials(!1)}),d.AuthenticationCachePollingIntervalMs)},this.checkForCachedCredentials=function(e){return i(_,void 0,Promise,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return t=this.authProvider.tryGetAuthTokenFromCache(),this.isAuthTokenValid(t.token)?(this.userSession.authToken=t.token,t.user&&(this.userSession.tenantId=t.user.tenantId,this.userSession.uniqueId=t.user.uniqueId,this.userSession.hashedId=this.hashedUserId()),[4,this.completeExtraAuthTasks(e)]):(this.enqueueNextCachedCredentialsCheck(),[2]);case 1:return n=i.sent(),t=n.success,n=n.reason,t?this.setAuthState(p.AuthState.Authenticated):this.setAuthState(p.AuthState.Error,n),this.enqueueNextSessionValidityCheck(),[2]}}))}))},this.ensureSessionValidity=function(e){return i(_,void 0,Promise,(function(){var t,n,i,o,a;return r(this,(function(r){switch(r.label){case 0:return i=u.TelemetryAuthResult.AdalSuccess,o=this.loggingService.startUniquePerformance(),a="AuthenticationEndToEnd",this.isSessionValid()&&(this.setAuthState(p.AuthState.Authenticated),!this.shouldRenewBackendToken())?(this.enqueueNextSessionValidityCheck(),this.loggingService.endPerformance(o,a,m.payloadForAuthentication(this.viewContext,e,this.getState(),u.TelemetryAuthResult.SessionValid,t)),[2]):this.shouldRenewBackendToken()?[4,this.authProvider.tryAuthenticate(e)]:[3,6];case 1:return t=r.sent(),this.loggingService.debug("authresult: "+t),this.portalLogin||t.error!==s.AuthError.Failed&&t.error!==s.AuthError.UserInteractionRequired?[3,3]:[4,this.getTokenViaInjectedAuth(e)];case 2:(n=r.sent())&&n.token&&(t=n,i=u.TelemetryAuthResult.InjectedSuccess),r.label=3;case 3:return t.error!==s.AuthError.UserInteractionRequired?[3,5]:(this.setAuthState(p.AuthState.LoginRequired),[4,this.checkForCachedCredentials(e)]);case 4:return r.sent(),this.loggingService.endPerformance(o,a,m.payloadForAuthentication(this.viewContext,e,this.getState(),u.TelemetryAuthResult.LoginRequired,t)),[2];case 5:if(t.error===s.AuthError.Failed)return this.setAuthState(p.AuthState.Error),this.enqueueNextSessionValidityCheck(),this.loggingService.endPerformance(o,a,m.payloadForAuthentication(this.viewContext,e,this.getState(),u.TelemetryAuthResult.Failed,t)),[2];r.label=6;case 6:return[4,this.processOnAuth(t,e)];case 7:return r.sent(),this.loggingService.endPerformance(o,a,m.payloadForAuthentication(this.viewContext,e,this.getState(),i,t)),[2]}}))}))},this.processOnAuth=function(e,t){return i(_,void 0,Promise,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:if(e&&e.token){if(!this.isAuthTokenValid(e.token))return this.setAuthState(p.AuthState.Error,"new token is invalid, something has gone very wrong"),this.enqueueNextSessionValidityCheck(),[2];if(this.userSession.authToken=e.token,e.user&&(this.userSession.tenantId=e.user.tenantId,this.userSession.uniqueId=e.user.uniqueId,this.userSession.hashedId=this.hashedUserId()),this.shouldRenewBackendToken())return this.setAuthState(p.AuthState.Error,"new token requires refresh; check token expiry offset config"),this.enqueueNextSessionValidityCheck(),[2]}return[4,this.completeExtraAuthTasks(t)];case 1:return i=r.sent(),n=i.success,i=i.reason,n?(this.postMessagingService&&this.postMessagingService.sendMessageToParent(a.PostMessagesNames.signInEvent,{eventname:a.PostMessageSubEventNames.signInSuccessful}),this.setAuthState(p.AuthState.Authenticated,i)):this.setAuthState(p.AuthState.Error,i),this.enqueueNextSessionValidityCheck(),[2]}}))}))},this.completeExtraAuthTasks=function(e){return i(_,void 0,Promise,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return[4,this.doTenantPatch(e)];case 1:return n=i.sent(),t=n.success,n=n.reason,t?[4,this.refreshBrowserSessionCookies(e)]:[2,{success:!1,reason:n}];case 2:return!1===i.sent()?[2,{success:!1,reason:"refresh cookies failed"}]:[4,this.setResources(e)];case 3:return!1===i.sent()&&this.loggingService.debug("set resources failed"),[2,{success:this.isSessionValid(),reason:""}]}}))}))},this.getTokenViaInjectedAuth=function(e){return i(_,void 0,Promise,(function(){var t=this;return r(this,(function(n){return[2,new Promise((function(n,i){t.injectedTokenAuthTimer=window.setTimeout((function(){t.injectedTokenAuthTimer=void 0,t.postMessagingService&&t.postMessagingService.sendMessageToParent(a.PostMessagesNames.signInEvent,{eventname:a.PostMessageSubEventNames.signInIncomplete});var i={groupings:{features:[u.FeatureNames.SessionManager]},viewContext:t.viewContext,isInitialAuth:e};t.loggingService.appLogicThin("SignInMessageSentToParent",i),n()}),d.InjectedTokenAuthTimeoutInMs),t.startTokenAuth(n,i,e)}))]}))}))},this.startTokenAuth=function(e,t,n){return i(_,void 0,Promise,(function(){var t,i,o=this;return r(this,(function(r){switch(r.label){case 0:t=this.loggingService.startUniquePerformance(),i="InjectedAuthentication",r.label=1;case 1:return r.trys.push([1,4,,5]),this.injectedAuthProvider?[4,this.injectedAuthProvider.connectWithParent(n)]:[3,3];case 2:r.sent(),this.injectedAuthProvider.getApiGatewayToken(n).then((function(r){o.injectedTokenAuthTimer?(clearTimeout(o.injectedTokenAuthTimer),o.injectedTokenAuthTimer=void 0,e(r)):!o.isSessionValid()&&r.token&&(o.timer&&(clearTimeout(o.timer),o.timer=void 0),o.processOnAuth(r,n)),o.loggingService.endPerformance(t,i,m.payloadForTokenAuth(o.viewContext,n,!0))})).catch((function(r){o.loggingService.endPerformance(t,i,m.payloadForTokenAuth(o.viewContext,n,!1)),e()})),r.label=3;case 3:return[3,5];case 4:return r.sent(),this.loggingService.endPerformance(t,i,m.payloadForTokenAuth(this.viewContext,n,!1)),e(),[3,5];case 5:return[2]}}))}))},this.hashedUserId=function(){return o.strHash(_.userSession.tenantId+_.userSession.uniqueId)},this.tenantPatchStateChanged=function(e){switch(e){case l.TenantPatchState.Success:_.setAuthState(p.AuthState.TenantPatchSuccess);break;case l.TenantPatchState.Throttled:_.setAuthState(p.AuthState.TenantPatchThrottled);break;case l.TenantPatchState.ThrottleFailed:_.setAuthState(p.AuthState.TenantPatchThrottleFailed)}},this.loggingService.debug("constructor"),this.userSession=new A.UserSession(this.clientSessionId,this.userSessionId),this.authState=p.AuthState.Unknown,this.timer=void 0};t.SessionManager=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionSubscriber.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/index.js"),s=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts"),c=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts"),l=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts"),u=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Utils.ts");d.prototype.start=function(e){return e&&void 0===this.authPerfEvent&&(this.authPerfEvent=this.loggingService.startUniquePerformance()),this.enterPollingMode(),window.addEventListener("storage",this.onStorageEvent),this.renewOnTimeout(),Promise.resolve()},d.prototype.renewOnTimeout=function(){var e=this;void 0!==this.heartbeatTimeout&&window.clearTimeout(this.heartbeatTimeout),this.heartbeatTimeout=window.setTimeout((function(){if(e.authMaster.isHeld())return e.enterPollingMode(),e.hasLoggedBrokenStorageEvents||(e.hasLoggedBrokenStorageEvents=!0,t={groupings:{features:[s.FeatureNames.SessionManager]},viewContext:e.viewContext},e.loggingService.appLogicThin("SubscriberDetectedBrokenStorageEvents",t)),void e.renewOnTimeout();e.stop();var t=void 0!==e.authPerfEvent;t&&(e.loggingService.endPerformance(e.authPerfEvent,"AuthenticationEndToEnd",c.payloadForAuthentication(e.viewContext,!0,e.getState(),s.TelemetryAuthResult.SubscribeTimeout)),e.authPerfEvent=void 0),e.requireRenewCallback(t)}),o.keepAliveMs+500)},d.prototype.stop=function(){window.removeEventListener("storage",this.onStorageEvent),this.exitPollingMode()},d.prototype.enterPollingMode=function(){var e,t=this;this.isInPollingMode||(this.isInPollingMode=!0,(e=function(){return i(t,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.processMasterCachedState()];case 1:return t.sent(),this.masterPollTimeout=window.setTimeout(e,250),[2]}}))}))})())},d.prototype.exitPollingMode=function(){window.clearTimeout(this.masterPollTimeout),this.isInPollingMode=!1},d.prototype.processMasterCachedState=function(){return i(this,void 0,Promise,(function(){var e,t,n=this;return r(this,(function(i){switch(i.label){case 0:return(e=u.getCachedAuthMasterState(this.loggingService))?(Object.getOwnPropertyNames(this.userSession).map((function(t){var i=Object.getOwnPropertyDescriptor(n.userSession,t);i&&i.writable&&(n.userSession[t]=e.userSession[t])})),e.authState!==a.AuthState.Authenticated||this.resourcesLoaded?[3,1]:(this.resourcesLoaded=!0,u.loadResources(this.userSession.userLanguage,!0,this.viewContext,this.loggingService,this.resourceReadyCallback),[3,3])):[2];case 1:return e.authState!==a.AuthState.LoginRequired||this.authState===e.authState?[3,3]:[4,this.authProvider.tryAuthenticate(!1)];case 2:(t=i.sent()).token&&!t.error&&(e.authState=a.AuthState.Waiting),i.label=3;case 3:return e.authState===a.AuthState.Authenticated&&void 0!==this.authPerfEvent&&(this.loggingService.endPerformance(this.authPerfEvent,"AuthenticationEndToEnd",c.payloadForAuthentication(this.viewContext,!0,e.authState,s.TelemetryAuthResult.SubscribeSuccess)),this.authPerfEvent=void 0),this.authState!==e.authState&&(t={groupings:{features:[s.FeatureNames.SessionManager]},viewContext:this.viewContext,sessionType:d.name,oldState:a.AuthState[this.authState],newState:a.AuthState[e.authState]},this.loggingService.appLogicThin("SessionAuthStateChanged",t),this.authState=e.authState,this.authStateReason=e.authStateReason,this.onAuthStateChangedListeners.forEach((function(e){return e(n.authState,n.authStateReason)}))),[2]}}))}))},n=d;function d(e,t,n,i,r,o,s,c){var d=this;this.authProvider=e,this.clientSessionId=t,this.userSessionId=n,this.loggingService=i,this.viewContext=r,this.authMaster=o,this.requireRenewCallback=s,this.resourceReadyCallback=c,this.nextSubscription=0,this.onAuthStateChangedListeners=new Map,this.resourcesLoaded=!1,this.isInPollingMode=!1,this.hasLoggedBrokenStorageEvents=!1,this.addStateChangedListener=function(e){return d.onAuthStateChangedListeners.set(d.nextSubscription,e),d.nextSubscription++},this.removeStateChangedListener=function(e){return d.onAuthStateChangedListeners.delete(e)},this.getUserSession=function(){return d.userSession},this.getState=function(){return d.authState},this.getStateReason=function(){return d.authStateReason},this.onStorageEvent=function(e){e.key&&(e.key.match(u.CacheKeyRegex)&&e.newValue?(d.exitPollingMode(),d.loggingService.debug("Received StorageEvent for cached state: ",JSON.stringify(e)),d.processMasterCachedState()):-1<e.key.indexOf("_lslock::authmaster")&&(d.exitPollingMode(),d.renewOnTimeout()))},this.userSession=new l.UserSession(this.clientSessionId,this.userSessionId),this.authState=a.AuthState.Unknown,this.authStateReason=""}t.SessionSubscriber=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SharedSessionManager.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/index.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./node_modules/lscache/lscache.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/index.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionSubscriber.ts");c.prototype.getUserSession=function(){return this.internalSessionManager.getUserSession()},c.prototype.getState=function(){return this.internalSessionManager.getState()},c.prototype.getStateReason=function(){return this.internalSessionManager.getStateReason()},c.prototype.start=function(e){return this.hasStarted=!0,this.internalSessionManager.start(e)},c.prototype.shutdown=function(){this.authMaster.unlock()},c.prototype.createNewManager=function(e){this.internalSessionManager&&this.internalSessionManager.removeStateChangedListener(this.internalStateChangedSubscription),this.authMaster.lock()||!o.supported()?this.internalSessionManager=new s.SessionManager(this.authProvider,this.tenantService,this.injectedAuthProvider,this.postMessagingService,this.clientSessionId,this.userSessionId,this.principalService,this.localeHelper,this.loggingService,this.viewContext,this.resourceUpdatedCallback,this.resourceReadyCallback):this.internalSessionManager=new a.SessionSubscriber(this.authProvider,this.clientSessionId,this.userSessionId,this.loggingService,this.viewContext,this.authMaster,this.requireRenewCallback,this.resourceReadyCallback),this.internalStateChangedSubscription=this.internalSessionManager.addStateChangedListener(this.wrappedStateChangedListener),this.hasStarted&&this.internalSessionManager.start(e)},n=c;function c(e,t,n,s,a,c,l,u,d,p,m,A){var h=this;this.authProvider=e,this.tenantService=t,this.injectedAuthProvider=n,this.postMessagingService=s,this.clientSessionId=a,this.userSessionId=c,this.principalService=l,this.localeHelper=u,this.loggingService=d,this.viewContext=p,this.resourceUpdatedCallback=m,this.resourceReadyCallback=A,this.externalAuthStateChangedListeners=new Map,this.internalStateChangedSubscription=-1,this.nextExternalStateChangedSubscription=0,this.hasStarted=!1,this.addStateChangedListener=function(e){return h.externalAuthStateChangedListeners.set(h.nextExternalStateChangedSubscription,e),h.nextExternalStateChangedSubscription++},this.removeStateChangedListener=function(e){return h.externalAuthStateChangedListeners.delete(e)},this.wrappedStateChangedListener=function(){var e=h.getState(),t=h.getStateReason();h.externalAuthStateChangedListeners.forEach((function(n){n(e,t)}))},this.requireRenewCallback=function(e){var t={stack:r.StackTraceStatus.NotApplicable,message:r.ErrorMessageStatus.NotApplicable,staticMessage:"Communication with SessionManager lost, taking over as SessionManager"};h.createNewManager(e),h.loggingService.warnThin("FallbackUtilized",t)},o.flushExpired(),this.authMaster=new i.LocalStorageLock("authmaster"),this.createNewManager(!0)}t.SharedSessionManager=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts");t.payloadForAuthentication=function(e,t,n,i,o){return{name:"AuthenticationEndToEnd",viewContext:e,isInitialAuth:t,authState:r.AuthState[n],authResult:i,adalErrorCode:o?o.adalErrorCode:void 0}},t.payloadForTokenAuth=function(e,t,n){return{name:"InjectedAuthentication",viewContext:e,isInitialAuth:t,success:n}},t.payloadForLoadResourcesPerformance=function(e,t,n,i){return{name:"LoadLocaleResources",viewContext:e,isInitialAuth:t,language:i,success:n}},t.payloadForTenantPatchPerformance=function(e,t,n){return{name:"DoTenantPatch",viewContext:e,isInitialAuth:t,success:n}},t.payloadForRefreshCookiesPerformance=function(e,t,n){return{name:"RefreshSessionCookies",viewContext:e,isInitialAuth:t,success:n}},t.payloadForGetPrincipalPerformance=function(e,t,n){return{name:"GetPrincipalSettings",viewContext:e,isInitialAuth:t,success:n}},t.payloadForGetLocaleInfoPerformance=function(e,t,n){return{name:"GetLocaleInfo",viewContext:e,isInitialAuth:t,success:n}},t.payloadForDoTenantPatchError=function(e,t){return{viewContext:e,message:t instanceof Error&&void 0!==t.message?t.message:i.ErrorMessageStatus.Missing,stack:t instanceof Error&&void 0!==t.stack?t.stack:(new Error).stack||i.StackTraceStatus.Missing,errorDetails:t}},t.payloadForRefreshCookiesError=function(e,t){return{viewContext:e,message:t instanceof Error&&void 0!==t.message?t.message:i.ErrorMessageStatus.Missing,stack:t instanceof Error&&void 0!==t.stack?t.stack:(new Error).stack||i.StackTraceStatus.Missing,errorDetails:t}}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/index.ts"),o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts");Object.defineProperty(s.prototype,"accessToken",{get:function(){return this.authToken.token},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"accessTokenExpiryDate",{get:function(){return new Date(this.authToken.expiry.valueOf())},enumerable:!0,configurable:!0}),s.prototype.generateHeaders=function(){return{Authorization:"Bearer "+this.accessToken,"x-ms-client-session-id":this.clientSessionId,"Accept-Language":this.userLanguage}},s.prototype.getApiGatewayParameters=function(){return{id:this.tenantId,apiVersion:this.apiGatewayVersion}},s.prototype.applyLocaleInfo=function(e){this.userLanguage=e.userLanguage,this.userRegion=e.userRegion,this.isRightToLeft=e.isRightToLeft},n=s;function s(e,t,n){void 0===n&&(n=!1),this.clientSessionIdFromSession=e,this.userSessionIdFromSession=t,this.isAnonymous=n,this.tenantId="",this.apiGatewayUrl="",this.apiGatewayVersion="",this.notificationEndPoint="",this.userLanguage=o.DefaultLanguage,this.userRegion="",this.isRightToLeft=!1,this.uniqueId="",this.hashedId="",this.authToken=i({},r.InvalidToken),this.clientSessionId=this.clientSessionIdFromSession,this.userSessionId=this.userSessionIdFromSession}t.UserSession=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSessionBridge.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts");t.createUserSessionFromBridgedData=function(e){var t=new i.UserSession(e.clientSessionIdFromSession,e.userSessionIdFromSession);return t.authToken={token:e.accessToken,expiry:e.accessTokenExpiry},t.tenantId=e.tenantId,t.apiGatewayUrl=e.apiGatewayUri,t.apiGatewayVersion=e.apiGatewayVersion,t.notificationEndPoint=e.notificationEndPoint,t.userLanguage=e.userLanguage,void 0!==e.userRegion&&(t.userRegion=e.userRegion),void 0!==e.isRightToLeft&&(t.isRightToLeft=e.isRightToLeft),t.uniqueId=e.uniqueId,t}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Utils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),r=n("./node_modules/@msstream/utilities-type-safety/esm/index.js"),o=n("./node_modules/lscache/lscache.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts"),c=o.supported(),l=r.rtt.object({authState:r.rtt.number,authStateReason:r.rtt.string,userSession:r.rtt.object({})});t.CacheKeyRegex="\\S*"+s.SessionManagerBucketName+s.SessionKey+"$";var u="SessionManagerStorageErrorAlert";t.cacheAuthMasterState=function e(t,n,r,a){try{if(o.supported()){var c={authState:n,authStateReason:r,userSession:t};if(o.setBucket(s.SessionManagerBucketName),!o.set(s.SessionKey,c))throw new Error("lscache.set failed")}}catch(t){var l={groupings:{features:[i.FeatureNames.SessionManager]},viewContext:new i.ViewContext("lscache"),message:"lscache write failed",stack:e.name};a.warnThin(u,l)}},t.getCachedAuthMasterState=function e(t){var n=null;try{if(c&&(o.setBucket(s.SessionManagerBucketName),n=o.get(s.SessionKey),!r.validate(n,l)))return null}catch(n){var a={groupings:{features:[i.FeatureNames.SessionManager]},viewContext:new i.ViewContext("lscache"),message:"lscache read failed",stack:e.name};t.warnThin(u,a)}return n},t.loadResources=function(e,t,n,r,o,c){var l,u,d,p;e!==s.DefaultLanguage?(p=document.getElementById(s.ResourcesScriptId))&&(l=r.startUniquePerformance(),u="LoadLocaleResources",d=(p.src||"").replace("/en/","/"+e+"/"),(p=document.createElement("script")).src=d,p.async=!0,p.onload=function(){r.endPerformance(l,u,a.payloadForLoadResourcesPerformance(n,t,!0,e)),c&&c(),o&&o()},p.onerror=function(s){s={message:s,stack:i.StackTraceStatus.Missing},r.endPerformance(l,u,a.payloadForLoadResourcesPerformance(n,t,!1,e)),r.fatalThin("SessionManagerLocaleErrorAlert",s),o&&o()},document.head.appendChild(p)):o&&o()}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionManager.ts");t.SessionManager=i.SessionManager,i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SharedSessionManager.ts"),t.SharedSessionManager=i.SharedSessionManager,i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts"),t.AuthState=i.AuthState,i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts"),t.TokenRefreshBeforeExpiryMs=i.TokenRefreshBeforeExpiryMs,i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/test/FakeUserSession.ts"),t.generateFakeUserSession=i.generateFakeUserSession,i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts"),t.UserSession=i.UserSession,n=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSessionBridge.ts"),t.createUserSessionFromBridgedData=n.createUserSessionFromBridgedData},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/test/FakeUserSession.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateFakeUserSession=function(e){return{accessToken:"fake.accessToken",accessTokenExpiryDate:new Date(0),clientSessionId:"fake.clientSessionId",tenantId:"fake.tenantId",apiGatewayUrl:"fake.apiGatewayUrl",apiGatewayVersion:"fake.apiGatewayVersion",userLanguage:"fake.userLanguage",uniqueId:e,hashedId:"fake.hashedId",generateHeaders:function(){return[[""]]},getApiGatewayParameters:function(){return{}}}}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"BrowserTimingMethod",(function(){return i})),(t=i=i||{}).PerformanceNavigationTiming="PerformanceNavigationTiming",t.NavigationTiming="NavigationTiming",t.Estimated="Estimated"},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isLocalStorageSupported",(function(){return o})),n.d(t,"generateSmallId",(function(){return s})),n.d(t,"isCookiesSupported",(function(){return a})),n.d(t,"isIOS",(function(){return c})),n.d(t,"isIphone",(function(){return l})),n.d(t,"isEmbedded",(function(){return u})),n.d(t,"isMinimumVersionInstalled",(function(){return d})),n.d(t,"isIE",(function(){return p})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return m})),n.d(t,"getLocationOrigin",(function(){return A})),n.d(t,"getBrowserTiming",(function(){return h})),n.d(t,"ensureLocalStorageIsSynced",(function(){return f})),n.d(t,"trapFocusInElement",(function(){return g})),n.d(t,"getBrowserLanguages",(function(){return v})),n.d(t,"createEventTarget",(function(){return y}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js"),r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/Constants/index.js"),o=function(){try{var e=window.localStorage;return void 0!==e&&(e.setItem("key","value"),e.removeItem("key"),!0)}catch(e){return!1}};function s(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz",t="A",n=0;n<10;n++)t+=e[Math.floor(Math.random()*e.length)];return t}function a(){try{var e,t="__cookie_test_key__",n="secure; samesite=none";return document.cookie=t+"=1; "+n,document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t),document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT; "+n,document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}function c(e){if(window.MSStream)return!1;if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)return!1;if(e){var t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return!!t&&d([parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||"0",10)].join("."),e)}return!0}function l(){return/iPhone/.test(navigator.userAgent)&&!window.MSStream}var u=function(){try{return window.top!==window.self}catch(e){return!0}};function d(e,t){for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length),o=0;o<r;o++){var s=parseInt(n[o],10)||0,a=parseInt(i[o],10)||0;if(a<s)return!0;if(s<a)return!1}return!0}function p(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext)}function m(e){return!(!e||!0!==d(e,"30")||!1!==d(e,"30.0.0.154"))}function A(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function h(){if(window.performance&&window.performance.measure){window.performance.measure("MsSinceNavigationStart");var e=window.performance.getEntriesByName("MsSinceNavigationStart","measure");if(1===e.length)return window.performance.clearMeasures("MsSinceNavigationStart"),{Method:i.BrowserTimingMethod.PerformanceNavigationTiming,MsSinceNavigationStart:e[0].duration}}return window.performance&&window.performance.timing?{Method:i.BrowserTimingMethod.NavigationTiming,MsSinceNavigationStart:Date.now()-window.performance.timing.navigationStart}:window.estimatedNavigationStartTime?{Method:i.BrowserTimingMethod.Estimated,MsSinceNavigationStart:Date.now()-window.estimatedNavigationStartTime.getTime()}:void 0}function f(){var e=window.localStorage;void 0!==e&&p()&&e.setItem("bugfix_forceSync",Date.now().toString())}function g(e,t){var n;"Tab"===t.code&&(n=e.querySelectorAll(r.focusableElements.join(", ")),e=document.activeElement,t.shiftKey&&e===n[0]?(t.preventDefault(),n[n.length-1].focus()):t.shiftKey||e!==n[n.length-1]||(t.preventDefault(),n[0].focus()))}function v(){return navigator.languages||[navigator.language]}function y(){try{return new EventTarget}catch(e){return document.createElement("div")}}window.estimatedNavigationStartTime||(window.estimatedNavigationStartTime=new Date)},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"focusableElements",(function(){return i}));var i=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/Constants/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js");n.d(t,"focusableElements",(function(){return i.focusableElements}))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js":function(e,t,n){"use strict";function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function r(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=i),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null==this)throw TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var r=t,o=0;o<i;){var s=n[o];if(e.call(r,s,o,n))return s;o++}},configurable:!0,writable:!0}),Element.prototype.hasOwnProperty("remove")||Object.defineProperty(Element.prototype,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}n.r(t),n.d(t,"applyCustomPolyfills",(function(){return r}))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/StorageLock.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keepAliveMs",(function(){return r})),n.d(t,"LocalStorageLock",(function(){return o}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js"),r=2500,o=(Object.defineProperty(s.prototype,"itemName",{get:function(){return"_lslock::"+this.lockId},enumerable:!0,configurable:!0}),s.prototype.lock=function(){return!i.isLocalStorageSupported()||!this.isHeld()&&this.touchLock()},s.prototype.released=function(){var e=this;return i.isLocalStorageSupported()?Promise.resolve():new Promise((function(t){var n=setInterval((function(){e.isHeld()||(clearInterval(n),t())}),500)}))},s.prototype.isMine=function(){return void 0!==this.keepAliveTimerId},s.prototype.unlock=function(){i.isLocalStorageSupported()&&this.keepAliveTimerId&&(this.cancelKeepAliveTimer(),s.storage.removeItem(this.itemName))},s.prototype.isHeld=function(){i.ensureLocalStorageIsSynced();var e=s.storage.getItem(this.itemName);return!!e&&(e=Number(e),!isNaN(e)&&Date.now()-e<=r)},s.prototype.touchLock=function(){try{s.storage.setItem(this.itemName,Date.now().toString())}catch(e){return!1}return this.scheduleNextTouchLock(),!0},s.prototype.scheduleNextTouchLock=function(){var e=this;this.cancelKeepAliveTimer(),this.keepAliveTimerId=window.setTimeout((function(){e.touchLock()}),r/2)},s.prototype.cancelKeepAliveTimer=function(){this.keepAliveTimerId&&(clearTimeout(this.keepAliveTimerId),this.keepAliveTimerId=void 0)},s.storage=i.isLocalStorageSupported()?window.localStorage:null,s);function s(e){this.lockId=e,this.keepAliveTimerId=void 0}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget}));var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js");n.d(t,"BrowserTimingMethod",(function(){return r.BrowserTimingMethod}));var o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/StorageLock.js");n.d(t,"keepAliveMs",(function(){return o.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return o.LocalStorageLock}));var s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js");n.d(t,"applyCustomPolyfills",(function(){return s.applyCustomPolyfills}))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TenantFilterService",(function(){return i}));var i=(r.prototype.getTenantFilterRedirect=function(e){return e&&!1!==this.shouldRedirect(e)?this.getRedirectUrl():null},r.prototype.shouldRedirect=function(e){if(!this.TenantFilterRedirectUrl)return!1;if(this.queryStringBypassStrings.some((function(e){return new RegExp(e,"i").test(window.location.search)})))return!1;var t=this.isTenantAllowed(e);e=this.isTenantDisallowed(e);return!t||e},r.prototype.isTenantAllowed=function(e){return!this.AllowedTenants||0===this.AllowedTenants.length||-1<this.AllowedTenants.indexOf(e)},r.prototype.isTenantDisallowed=function(e){return this.DisallowedTenants&&-1<this.DisallowedTenants.indexOf(e)},r.prototype.getRedirectUrl=function(){return this.TenantFilterRedirectUrl+window.location.pathname},r);function r(e,t,n,i){void 0===i&&(i=[]),this.TenantFilterRedirectUrl=e,this.AllowedTenants=t,this.DisallowedTenants=n,this.queryStringBypassStrings=i,this.queryStringBypassStrings.push("bypass_tenant_redirect")}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/FilterService/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js");n.d(t,"TenantFilterService",(function(){return i.TenantFilterService}))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Math/Math.js":function(e,t,n){"use strict";function i(e,t,n){return void 0===n&&(n=.001),Math.abs(e*t/r(e,t,n))}function r(e,t,n){return void 0===n&&(n=.001),e<t?r(t,e):Math.abs(t)<n?e:r(t,e-Math.floor(e/t)*t,n)}n.r(t),n.d(t,"lcm_f",(function(){return i})),n.d(t,"gcd_f",(function(){return r}))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Math/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Math/Math.js");n.d(t,"lcm_f",(function(){return i.lcm_f})),n.d(t,"gcd_f",(function(){return i.gcd_f}))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Browser/index.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget})),n.d(t,"BrowserTimingMethod",(function(){return i.BrowserTimingMethod})),n.d(t,"keepAliveMs",(function(){return i.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return i.LocalStorageLock})),n.d(t,"applyCustomPolyfills",(function(){return i.applyCustomPolyfills}));var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/Math/index.js");n.d(t,"lcm_f",(function(){return r.lcm_f})),n.d(t,"gcd_f",(function(){return r.gcd_f}));var o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/shared-services/dist/FilterService/index.js");n.d(t,"TenantFilterService",(function(){return o.TenantFilterService}))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationFormatter",(function(){return r}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.format=function(e){e.PassThroughTokens=o.stringArrayToLowerCase(e.PassThroughTokens),e.ScrubQueryParametersHostNames=o.stringArrayToLowerCase(e.ScrubQueryParametersHostNames),e.ScrubToPartialHostNames=o.stringArrayToLowerCase(e.ScrubToPartialHostNames),e.UriQueryParameters.PassThroughQueryParameters=o.stringArrayToLowerCase(e.UriQueryParameters.PassThroughQueryParameters);var t={};Object.keys(e.UriQueryParameters.ScrubQueryParameters).forEach((function(n){var r=e.UriQueryParameters.ScrubQueryParameters[n];r&&r.type===i.RecognizedUriQueryParameterType.string&&r.acceptedValues&&(r.acceptedValues=o.stringArrayToLowerCase(r.acceptedValues)),t[n.toLowerCase()]=r})),e.UriQueryParameters.ScrubQueryParameters=t},o.stringArrayToLowerCase=function(e){return e.map((function(e){return e.toLowerCase()}))},o);function o(){}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationValidator",(function(){return r}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.validate=function(e){var t=this,n="";if(e){if(e.PassThroughTokens||(n+="PassThroughTokens is undefined, define it explicitly as empty if you want to scrubb all tokens.\n"),e.ScrubQueryParametersHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any host name's params to be scrubbed. \n"),e.ScrubToPartialHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any partial host name's to be kept. \n"),e.UriQueryParameters)if(e.UriQueryParameters.PassThroughQueryParameters)if(e.UriQueryParameters.ScrubQueryParameters)for(var r in e.UriQueryParameters.ScrubQueryParameters){var o=e.UriQueryParameters.ScrubQueryParameters[r];o&&o.type===i.RecognizedUriQueryParameterType.number&&o.acceptedValues&&(n+="param "+r+" in ScrubQueryParameters is of type number and has accepted values.                'number' type does not support accepted values")}else n+="UriQueryParameters.ScrubQueryParameters is undefined, define it explicitely as empty if         you do not want any recognized uri query params names to be kept. \n";else n+="UriQueryParameters.PassThroughQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters value to be always kept. \n";else n+="UriQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters to be kept. \n";e.DropEventNames||(n+="DropEventNames is undefined, define it explicitely as empty if you do not want any event to be dropped. \n"),e.GlobalFieldsDictionary?n=this.validateFieldScrubbingDictionary(e.GlobalFieldsDictionary,"GlobalFieldsDictionary",n):n+="GlobalFieldsDictionary is undefined, define it explicitely as empty if you do not want any field to be scrubbed. \n",e.EventFieldsDictionary?Object.keys(e.EventFieldsDictionary).forEach((function(i){var r=e.EventFieldsDictionary[i];n=t.validateFieldScrubbingDictionary(r,"EventFieldsDictionary."+i,n)})):n+="EventFieldsDictionary is undefined, define it explicitely as empty if         you do not want any field to be scrubbed. \n"}else n="PrivacyScrubbingConfig object is undefined and cannot be validated";if(""!==n)throw new Error(n)},o.validateFieldScrubbingDictionary=function(e,t,n){return Object.keys(e).forEach((function(r){r=e[r],Object(i.isNestedFieldArray)(r)?r.forEach((function(e){n+=o.validateNestedField(e,t,n)})):Object(i.isEventFieldScrubbingStategy)(r)||(n+="Entry in FieldScrubbingDictionary was neither a Strategy or complete NestedField under "+t+". \n")})),n},o.validateNestedField=function(e,t,n){return n=o.validateFullPath(e.FullPath,t,n),o.validateEventFieldScrubbingStrategy(e.Strategy,t,n)},o.validateEventFieldScrubbingStrategy=function(e,t,n){return n+(Object(i.isEventFieldScrubbingStategy)(e)?"":"Invalid scrubbing strategy: "+e+" was added as part of dictionary "+t+". \n")},o.validateFullPath=function(e,t,n){e||(n+="Empty or undefined FullPath provided as part of dictionary "+t+" \n");var i=e.match(o.fullPathValidationRegex);return!i||i.length<=0?n+="No match found for the FullPath provided as part of dictionary "+t+" \n":i[0].length!==e.length&&(n+="Incomplete match found for the FullPath provided as part of dictionary "+t+".\n      Verify that your FullPath entry is valid using the following regex: "+o.fullPathValidationRegex.toString()+" \n"),n},o.fullPathValidationRegex=new RegExp(/[a-z][a-zA-Z]*(\.[a-z][a-zA-Z]*)*/),o);function o(){}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"emptyPrivacyScrubbingConfig",(function(){return r})),n.d(t,"testPrivacyScrubbingConfig",(function(){return o})),n.d(t,"DefaultScrubbedValue",(function(){return s})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return a})),n.d(t,"DefaultScrubbedGuidValue",(function(){return c})),n.d(t,"DefaultRedactedText",(function(){return l})),n.d(t,"PrivacyScrubberStubUrls",(function(){return i}));n=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js");var i,r={PassThroughTokens:[],ScrubQueryParametersHostNames:[],ScrubToPartialHostNames:[],UriQueryParameters:{PassThroughQueryParameters:[],ScrubQueryParameters:{}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{}},o={PassThroughTokens:["spo","spo-app-ios","microsoftteams","yammer","onenote","powerpoint","ppt","sbc","stream portal","stream embed","msteams","msteamsbot"],ScrubQueryParametersHostNames:["microsoftstream.com","microsoftstream.us","stream.azure-test.net","hos-barcelonaportal-1-1.cloudapp.net"],ScrubToPartialHostNames:["sharepoint.com","teams.microsoft.com","signup.microsoft.com","learn.microsoft.com","microsoft.com","hubblecontent.osi.office.net","sway.office.com","delve.office.com","forms.office.com","tasks.office.com","office.com","yammer.com","onenote.officeapps.live.com","powerpoint.officeapps.live.com","officeapps.live.com","botframework.com"],UriQueryParameters:{PassThroughQueryParameters:["adminMode","appcorrelation","appplatform","autoPlay","BrowseBack","channelId","mode","displaymode","entryPoint","hasPlayed","id","isInAdminMode","isInDevMode","isInVideoTrimMode","noSignUpCheck","popular","privacy","recommendationVer","refId","showdescription","showheader","signout","sort","srcScreen","st","top","uploadstatus","vid","videoId","videoIsPublished","videoPrivacy"],ScrubQueryParameters:{App:{type:n.RecognizedUriQueryParameterType.string,acceptedValues:["powerpoint"]},ChannelName:void 0,ErrorRedirectedFrom:void 0,fileName:void 0,List:void 0,open:void 0,referrer:void 0,Scope:void 0,SearchTerm:void 0,SearchTermLongKey:void 0,Search:void 0,Source:void 0,State:void 0,src:void 0,UserId:void 0,UserName:void 0,num:{type:n.RecognizedUriQueryParameterType.number},a2:{type:n.RecognizedUriQueryParameterType.string,acceptedValues:["ppt","spo"]},view:{type:n.RecognizedUriQueryParameterType.string,acceptedValues:["video","channel","people","group","highlights","videos","channels","membership","userchannels","uservideos","administrators","spotlightvideos","companypolicies","usagedetails","group","support","comments","facedetection","forgottenusers","personaldata","contentcreation","streamaccess","liveevents","networkcaching","recyclebin","browsechannels","groupchannels","browsegroups","browsevideos","grouphome","groupvideos","groupprincipals"]}}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{url:n.EventFieldScrubbingStrategy.scrub,pageUrl:n.EventFieldScrubbingStrategy.scrub,trafficReferrer:n.EventFieldScrubbingStrategy.scrub,app:n.EventFieldScrubbingStrategy.scrub,viewContext:[{FullPath:"viewContext.url",Strategy:n.EventFieldScrubbingStrategy.scrub}]}},s="SCRUBBED",a="INVALID",c="[GUID]",l="[redacted]";(n=i=i||{}).NotLoadedUrl="https://privacyScrubberNotLoaded/",n.InvalidUriErrorUrl="https://privacyScrubberInvalidUriError/"},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventScrubber",(function(){return r}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.prototype.scrub=function(e){var t=!1;return e&&e.data&&(this.scrubGlobalFields(e),this.scrubEventFields(e),t=!0),t},o.prototype.inDropEventList=function(e){return void 0!==e&&-1<this.config.DropEventNames.indexOf(e.name)},o.prototype.scrubEventFields=function(e){e.name in this.config.EventFieldsDictionary&&this.scrubFields(e,this.config.EventFieldsDictionary[e.name])},o.prototype.scrubGlobalFields=function(e){this.scrubFields(e,this.config.GlobalFieldsDictionary)},o.prototype.scrubFields=function(e,t){var n,r=this;if(t&&0<Object.keys(t).length)for(var o in e.data)o in t&&(n=t[o],Object(i.isNestedFieldArray)(n)?n.forEach((function(t){var n=r.getParentObjectByPath(e.data,t.FullPath);n&&r.applyStrategy(n,t.Strategy)})):Object(i.isEventFieldScrubbingStategy)(n)&&this.applyStrategy({parent:e.data,fieldName:o},n))},o.prototype.applyStrategy=function(e,t){var n,r=e.parent,o=e.fieldName;try{t===i.EventFieldScrubbingStrategy.drop?delete r[o]:t!==i.EventFieldScrubbingStrategy.scrub||(n=r[o])&&(n=this.tokenScrubber.scrub(n),r[o]=n)}catch(e){r&&o&&(r[o]=null)}},o.prototype.getParentObjectByPath=function(e,t){if(e&&t){var n=e;e=t.split(".");if(t=e.pop()){for(var i=0,r=e;i<r.length;i++)if(!(n=n[r[i]]))return;if(n[t])return{parent:n,fieldName:t}}}},o);function o(e,t){this.config=e,this.tokenScrubber=t}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SafePathValues",(function(){return i}));var i=["admin","adminsettings","browse","channel","channels","create","embed","error","fallback","followingchannels","group","groups","meetings","recyclebin","studio","update","upload","user","usersettings","video","videos","videoupdate","watchlist","welcome",n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js").DefaultScrubbedGuidValue]},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TokenScrubber",(function(){return i}));var i=(r.prototype.scrub=function(e){var t=this;return e?e instanceof Array?e.map((function(e){return t.scrubTokenInternal(e)})):this.scrubTokenInternal(e):""},r.prototype.scrubTokenInternal=function(e){return void 0===e||-1!==this.config.PassThroughTokens.indexOf(e.toLowerCase())?e:this.uriScrubber.scrub(e)},r);function r(e,t){this.config=e,this.uriScrubber=t}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UriScrubber",(function(){return a}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js"),r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js"),s=n("./node_modules/url-parse/index.js"),a=(c.prototype.scrub=function(e){var t=this,n=new s(e," ",(function(e){return t.parseAndCleanQueryString(e)}));if(n&&(n.hostname||n.pathname)){var r=n.protocol?n.hostname:this.truncatePathToHostname(n.pathname);return""===n.hostname&&n.pathname&&(n.hostname=r,n.pathname=this.truncatePathname(n.pathname,r),n.host=r),r.match(this.validHostNameRegex)?this.isScrubQueryParametersHostName(r)?((e=this.scrubPathname(n.pathname,n.hostname))&&e!==n.pathname&&n.set("pathname",e),(n.protocol?"":c.defaultProtocol+"//")+n.toString()):this.tryKeepPartialHostName(r,n.protocol):i.InvalidUrlFormatScrubbedValue}return i.InvalidUrlFormatScrubbedValue},c.prototype.truncatePathToHostname=function(e){var t=e.indexOf("/");return-1===t?e:e.substr(0,t)},c.prototype.truncatePathname=function(e,t){var n=e.indexOf(t);return-1===n?e:e.substr(n+t.length)},c.prototype.parseAndCleanQueryString=function(e){var t=[];if(e){"?"===e[0]&&(e=e.slice(1,e.length));for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n].split("="),s=void 0,a=void 0;a=2===o.length?(s=o[0],o[1]):void(s=o[0]);if(-1===this.config.UriQueryParameters.PassThroughQueryParameters.indexOf(s.toLowerCase())){if(!(s.toLowerCase()in this.config.UriQueryParameters.ScrubQueryParameters))continue;a&&this.isRecognizedParamAcceptedValue(s,a)||(a=i.DefaultScrubbedValue)}a?t.push(s+"="+a):t.push(s+"=")}}return 0<t.length?"?"+t.join("&"):""},c.prototype.isRecognizedParamAcceptedValue=function(e,t){var n=!1;return(e=this.config.UriQueryParameters.ScrubQueryParameters[e.toLowerCase()])&&(e.type===r.RecognizedUriQueryParameterType.number?n=!0:e.type===r.RecognizedUriQueryParameterType.string&&e.acceptedValues&&(n=-1!==e.acceptedValues.indexOf(t.toLowerCase()))),n},c.prototype.isScrubQueryParametersHostName=function(e){if(e){e=e.toLowerCase();for(var t=0,n=this.config.ScrubQueryParametersHostNames;t<n.length;t++){var i=n[t];if(-1!==e.indexOf(i,e.length-i.length))return!0}}return!1},c.prototype.scrubPathname=function(e,t){return e&&t&&(e=e.replace(this.validGuidRegex,i.DefaultScrubbedGuidValue),t.endsWith("api.microsoftstream.com")||e.split("/").forEach((function(t){t&&o.SafePathValues.indexOf(t)<0&&(e=e.replace(t,i.DefaultRedactedText))}))),e},c.prototype.tryKeepPartialHostName=function(e,t){var n=""!==t?t:c.defaultProtocol;if(e){e=e.toLowerCase();for(var r=0,o=this.config.ScrubToPartialHostNames;r<o.length;r++){var s=o[r];if(-1!==e.indexOf(s,e.length-s.length))return n+"//"+s}}return n+"//"+i.DefaultScrubbedValue},c.defaultProtocol="https:",c);function c(e){this.validHostNameRegex=new RegExp(/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/gm),this.validGuidRegex=/(([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12})/g,this.config=e}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PrivacyScrubber",(function(){return c}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js"),r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js"),o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js"),c=(Object.defineProperty(l.prototype,"InitializationError",{get:function(){return this.initializationError},enumerable:!0,configurable:!0}),l.prototype.scrubUri=function(e){return this.uriScrubber?this.uriScrubber.scrub(e):void 0},l.prototype.scrubEvent=function(e){return!!this.eventScrubber&&(!(!e||e.data)||this.eventScrubber.scrub(e))},l.prototype.inDropEventList=function(e){return!this.eventScrubber||this.eventScrubber.inDropEventList(e)},l);function l(e){try{r.ConfigurationValidator.validate(e)}catch(e){this.initializationError=e.message,this.eventScrubber=void 0}var t;this.initializationError||(i.ConfigurationFormatter.format(e),this.uriScrubber=new a.UriScrubber(e),t=new s.TokenScrubber(e,this.uriScrubber),this.eventScrubber=new o.EventScrubber(e,t))}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,o;n.r(t),n.d(t,"RecognizedUriQueryParameterType",(function(){return r})),n.d(t,"EventFieldScrubbingStrategy",(function(){return o})),n.d(t,"NestedField",(function(){return s})),n.d(t,"isNestedFieldArray",(function(){return a})),n.d(t,"isEventFieldScrubbingStategy",(function(){return c})),(t=r=r||{}).string="string",t.number="number",(t=o=o||{}).scrub="scrub",t.drop="drop";var s=function(){this.FullPath="",this.Strategy=o.scrub};function a(e){var t=!0,n=new s;return null!==e&&"object"===i(e)&&Array.isArray(e)?e.forEach((function(e){Object.keys(n).forEach((function(n){t=t&&n in e}))})):t=!1,t}function c(e){return"string"==typeof e&&e in o}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js");n.d(t,"PrivacyScrubber",(function(){return i.PrivacyScrubber}));var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js");n.d(t,"RecognizedUriQueryParameterType",(function(){return r.RecognizedUriQueryParameterType})),n.d(t,"EventFieldScrubbingStrategy",(function(){return r.EventFieldScrubbingStrategy})),n.d(t,"NestedField",(function(){return r.NestedField})),n.d(t,"isNestedFieldArray",(function(){return r.isNestedFieldArray})),n.d(t,"isEventFieldScrubbingStategy",(function(){return r.isEventFieldScrubbingStategy}));var o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js");n.d(t,"emptyPrivacyScrubbingConfig",(function(){return o.emptyPrivacyScrubbingConfig})),n.d(t,"testPrivacyScrubbingConfig",(function(){return o.testPrivacyScrubbingConfig})),n.d(t,"DefaultScrubbedValue",(function(){return o.DefaultScrubbedValue})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return o.InvalidUrlFormatScrubbedValue})),n.d(t,"DefaultScrubbedGuidValue",(function(){return o.DefaultScrubbedGuidValue})),n.d(t,"DefaultRedactedText",(function(){return o.DefaultRedactedText})),n.d(t,"PrivacyScrubberStubUrls",(function(){return o.PrivacyScrubberStubUrls}))},"./node_modules/@msstream/services-one-customer-voice/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.appId=2264,t.maxCommentLength=5e3,t.unknownDefaultValue="Unknown",t.unknownDefaultNumberValue=-1,t.clientSourceString="Client",t.OCVPrivacyUrl="/feedback/privacyLink",t.OCVResultsUrl="/feedback"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/MicroFeedbackType.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.MicroFeedbackType||(t.MicroFeedbackType={})).Smile="Smile",t.Frown="Frown"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/RatingSurveyType.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.RatingSurveyType||(t.RatingSurveyType={})).NetPromoterScore="Nps",t.NaturalLanguageQuality="Nlqs",t.ProductSatisfaction="Psat",t.BuildPromotion="Bps"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/SimpleSurveyType.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.SimpleSurveyType||(t.SimpleSurveyType={})).FeaturePromotion="Fps",t.Diagnostics="DiagnosticsSurvey"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/UserInitiatedFeedbackType.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.UserInitiatedFeedbackType||(t.UserInitiatedFeedbackType={})).Smile="Smile",t.Frown="Frown",t.Suggestion="Idea",t.Bug="Bug"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/MicroFeedbackType.ts");t.MicroFeedbackType=i.MicroFeedbackType,i=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/RatingSurveyType.ts"),t.RatingSurveyType=i.RatingSurveyType,i=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/SimpleSurveyType.ts"),t.SimpleSurveyType=i.SimpleSurveyType,n=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/UserInitiatedFeedbackType.ts"),t.UserInitiatedFeedbackType=n.UserInitiatedFeedbackType},"./node_modules/@msstream/services-one-customer-voice/src/IOneCustomerVoiceService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceAdditionalDataTypes.td.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.OCVCustomColumnKeys||(t.OCVCustomColumnKeys={})).UserSessionId="userSession_Id",t.BrowserEngineName="browserEngineName",t.BrowserEngineVersion="browserEngineVersion",t.FeedbackCorrelationId="feedbackCorrelationId"},"./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceService.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/core/esm/index.js"),o=n("./node_modules/@msstream/services-rest/src/index.ts"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/index.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),c=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),l=n("./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceSurveyDataParser.ts"),u=n("./node_modules/ua-parser-js/src/ua-parser.js"),d=n("./node_modules/@msstream/services-one-customer-voice/src/Constants.ts"),p=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/index.ts"),m=n("./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceAdditionalDataTypes.td.ts");Object.defineProperty(A.prototype,"maxCommentLength",{get:function(){return d.maxCommentLength},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"privacyUrl",{get:function(){return this.endpointBase.concat(d.OCVPrivacyUrl)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"resultsUrl",{get:function(){return this.endpointBase.concat(d.OCVResultsUrl)},enumerable:!0,configurable:!0}),A.prototype.postUIF=function(e,t,n,i,r,o){return this.postResults("postUIF","Sas",e.toString(),void 0,t,n,i,r,o)},A.prototype.postMicroFeedback=function(e,t,n,i,r){return this.postResults("postMicroFeedback","Mfb",e.toString(),void 0,t,n,void 0,i,r)},A.prototype.postSurveyResponse=function(e,t){return this.postResults("postSurveyResponse",e.surveyType.toString(),"Survey",e,void 0,void 0,void 0,t)},A.prototype.getManifestForSDK=function(e,t){return{id:e=e||r.generateGuid(),manifest:{applicationGroup:(t=this.getPartialManifest(e,t)).application,telemetryGroup:t.telemetry,webGroup:t.web}}},A.prototype.postResults=function(e,t,n,s,a,u,m,A,h){var f=r.generateGuid();n=i({},this.getPartialManifest(f,A),{manifestType:t.toString(),appId:d.appId,submitTime:(new Date).toISOString(),source:d.clientSourceString,type:n.toString(),clientFeedbackId:f});if(a&&(n.comment=a.slice(0,d.maxCommentLength)),u&&(n.email=u),m&&m.errorCode&&(n.telemetry.errorCode=m.errorCode),m&&m.errorName&&(n.telemetry.errorName=m.errorName),s){if(n.survey={surveyId:s.id},typeof s.surveyType==typeof p.RatingSurveyType){if(!s.genericRating)throw new Error("No generic rating provided for survey with RatingSurveyType!");n.rating=s.genericRating}s.title&&(s.textFields||s.ratings||s.multipleChoices||s.emailOptions)&&(n.application.extendedManifestData=l.OneCustomerVoiceSurveyDataParser.getExtendedManifestDataFrom(s))}s=new FormData,n=new Blob([JSON.stringify(n)],{type:"application/json"}),s.append("Manifest",n),h&&s.append("Screenshot",h.getContent());var g=this.endpointBase,v=d.OCVResultsUrl;return o.RestService.post(g,v,{},s,void 0).then((function(){return f})).catch((function(t){return c.RestCallLogger.logError({method:c.RestCallMethodNames.POST,staticMessage:"OneCustomerVoiceService."+e,urlBase:g,urlPath:v,error:t}),Promise.reject(t)}))},A.prototype.getPartialManifest=function(e,t){t=t||{};var n=new u.UAParser,i=n.getEngine();t[m.OCVCustomColumnKeys.FeedbackCorrelationId]||(t[m.OCVCustomColumnKeys.FeedbackCorrelationId]=e),t[m.OCVCustomColumnKeys.UserSessionId]||(t[m.OCVCustomColumnKeys.UserSessionId]=this.userSessionId),t[m.OCVCustomColumnKeys.BrowserEngineName]||(t[m.OCVCustomColumnKeys.BrowserEngineName]=i.name),t[m.OCVCustomColumnKeys.BrowserEngineVersion]||(t[m.OCVCustomColumnKeys.BrowserEngineVersion]=i.version);var r={appData:JSON.stringify(t)},o={flights:this.ecsConfigIds,flightSource:"ECS",audience:this.audience,audienceGroup:this.audienceGroup,isUserSubscriber:!0,platform:"web",processSessionId:this.clientSessionId};e=this.ringId,i=this.tenantId,t=this.userId;return e&&(o.ringId=e),i&&(o.tenantId=i),t&&(o.loggableUserId=t),i=a.PrivacyScrubberStubUrls.NotLoadedUrl,c.RestCallLogger.loggingService&&c.RestCallLogger.loggingService.PrivacyScrubber&&(t=c.RestCallLogger.loggingService.PrivacyScrubber.scrubUri(this.getAbsoluteUrl()))&&(i=t===a.InvalidUrlFormatScrubbedValue?a.PrivacyScrubberStubUrls.InvalidUriErrorUrl:t),n=n.getBrowser(),{application:r,telemetry:o,web:{dataCenter:this.clusterName,sourcePageURI:i,browser:n.name,browserVersion:n.version}}},A.prototype.parsePortalConfigurationValues=function(e){this.endpointBase=e.PetrolApiEndpoint||"",this.ecsConfigIds=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.configIds?JSON.stringify(e.ECSConfiguration.telemetryRecord.configIds):"",this.clusterName=e.ClusterName,this.audience=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.audience&&""!==e.ECSConfiguration.telemetryRecord.audience?e.ECSConfiguration.telemetryRecord.audience:d.unknownDefaultValue,this.audienceGroup=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.audienceGroup&&""!==e.ECSConfiguration.telemetryRecord.audienceGroup?e.ECSConfiguration.telemetryRecord.audienceGroup:d.unknownDefaultValue,this.ringId=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.ringId?e.ECSConfiguration.telemetryRecord.ringId:d.unknownDefaultNumberValue},A.prototype.parseUserSessionValues=function(e){this.userId=e.uniqueId,this.tenantId=e.tenantId,this.clientSessionId=e.clientSessionId,this.userSessionId=e.userSessionId},A.prototype.getAbsoluteUrl=function(){return window.location.href},n=A;function A(e,t,n){!t&&n&&(t=s.createUserSessionFromBridgedData(n)),this.parsePortalConfigurationValues(e),this.parseUserSessionValues(t)}t.OneCustomerVoiceService=n},"./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceSurveyDataParser.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.getExtendedManifestDataFrom=function(e){var t,n,i={},r={};return e.multipleChoices&&(t=this.convertMultipleChoicesToPetrolApiExpectedFormat(e.multipleChoices),r.multipleChoice=t.questions,i.multipleChoice=t.answers),e.ratings&&(t=this.convertRatingsToPetrolApiExpectedFormat(e.ratings),r.rating=t.questions,i.rating=t.answers),e.textFields&&(n=this.convertTextFieldsToPetrolApiExpectedFormat(e.textFields),r.comment=n.questions,i.comment=n.answers),e.title&&e.buttonValues&&(n={title:e.title,buttons:e.buttonValues},r.prompt=n),e.emailOptions&&(r.emailConsentTitle=e.emailOptions.consentTitle,i.userEmail=e.emailOptions.userEmail),r={surveySpecificData:JSON.stringify(i),surveyStrings:JSON.stringify(r)},JSON.stringify(r)},i.convertMultipleChoicesToPetrolApiExpectedFormat=function(e){var t={questions:[],answers:[]};return e.forEach((function(e){var n=[],i=[];e.choices.forEach((function(e){n.push(e.value),i.push(e.selected)})),e={question:e.title,options:n},t.questions.push(e),t.answers.push(i)})),t},i.convertRatingsToPetrolApiExpectedFormat=function(e){var t={questions:[],answers:[]};return e.forEach((function(e){var n={question:e.title,options:e.options},i=e.options.indexOf(e.selected);if(i<0&&e.selected)throw new Error("Selected rating "+e.selected+" is not among the options ["+e.options.join(",")+"] for "+e.title+"!");i={numberOfOptions:e.options.length,selectedRating:i},t.questions.push(n),t.answers.push(i)})),t},i.convertTextFieldsToPetrolApiExpectedFormat=function(e){var t={questions:[],answers:[]};return e.forEach((function(e){var n={question:e.title};e=e.userSubmittedText||"";t.questions.push(n),t.answers.push(e)})),t},i);function i(){}t.OneCustomerVoiceSurveyDataParser=n},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorScreenshot="iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII="},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/IScreenshot.td.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Screenshot.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/html2canvas/dist/html2canvas.js"),s=n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Constants.ts");a.take=function(){return i(this,void 0,Promise,(function(){return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,o.default(document.body)];case 1:return[2,new a(e.sent())];case 2:return e.sent(),[2,new a(void 0)];case 3:return[2]}}))}))},a.prototype.getContent=function(){var e=this.getImgString();return this.getContentFromImgString(e)},a.prototype.getContentFromImgString=function(e){e=e||s.ErrorScreenshot;for(var t=atob(e),n=[],i=0;i<t.length;i++)n.push(t.charCodeAt(i));return new Blob([new Uint8Array(n)],{type:"image/jpeg"})},a.prototype.getImgString=function(){var e;if(this.screenshot)try{e=this.screenshot.toDataURL("image/jpeg").split(",")[1]}catch(t){e=void 0}return e},a.prototype.getElement=function(){return this.screenshot},n=a;function a(e){this.screenshot=e}t.Screenshot=n},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/IScreenshot.td.ts")),i(n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Screenshot.ts"))},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"BrowserTimingMethod",(function(){return i})),(t=i=i||{}).PerformanceNavigationTiming="PerformanceNavigationTiming",t.NavigationTiming="NavigationTiming",t.Estimated="Estimated"},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isLocalStorageSupported",(function(){return o})),n.d(t,"generateSmallId",(function(){return s})),n.d(t,"isCookiesSupported",(function(){return a})),n.d(t,"isIOS",(function(){return c})),n.d(t,"isIphone",(function(){return l})),n.d(t,"isEmbedded",(function(){return u})),n.d(t,"isMinimumVersionInstalled",(function(){return d})),n.d(t,"isIE",(function(){return p})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return m})),n.d(t,"getLocationOrigin",(function(){return A})),n.d(t,"getBrowserTiming",(function(){return h})),n.d(t,"ensureLocalStorageIsSynced",(function(){return f})),n.d(t,"trapFocusInElement",(function(){return g})),n.d(t,"getBrowserLanguages",(function(){return v})),n.d(t,"createEventTarget",(function(){return y}));var i=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js"),r=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/Constants/index.js"),o=function(){try{var e=window.localStorage;return void 0!==e&&(e.setItem("key","value"),e.removeItem("key"),!0)}catch(e){return!1}};function s(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz",t="A",n=0;n<10;n++)t+=e[Math.floor(Math.random()*e.length)];return t}function a(){try{var e,t="__cookie_test_key__",n="secure; samesite=none";return document.cookie=t+"=1; "+n,document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t),document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT; "+n,document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}function c(e){if(window.MSStream)return!1;if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)return!1;if(e){var t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return!!t&&d([parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||"0",10)].join("."),e)}return!0}function l(){return/iPhone/.test(navigator.userAgent)&&!window.MSStream}var u=function(){try{return window.top!==window.self}catch(e){return!0}};function d(e,t){for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length),o=0;o<r;o++){var s=parseInt(n[o],10)||0,a=parseInt(i[o],10)||0;if(a<s)return!0;if(s<a)return!1}return!0}function p(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext)}function m(e){return!(!e||!0!==d(e,"30")||!1!==d(e,"30.0.0.154"))}function A(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function h(){if(window.performance&&window.performance.measure){window.performance.measure("MsSinceNavigationStart");var e=window.performance.getEntriesByName("MsSinceNavigationStart","measure");if(1===e.length)return window.performance.clearMeasures("MsSinceNavigationStart"),{Method:i.BrowserTimingMethod.PerformanceNavigationTiming,MsSinceNavigationStart:e[0].duration}}return window.performance&&window.performance.timing?{Method:i.BrowserTimingMethod.NavigationTiming,MsSinceNavigationStart:Date.now()-window.performance.timing.navigationStart}:window.estimatedNavigationStartTime?{Method:i.BrowserTimingMethod.Estimated,MsSinceNavigationStart:Date.now()-window.estimatedNavigationStartTime.getTime()}:void 0}function f(){var e=window.localStorage;void 0!==e&&p()&&e.setItem("bugfix_forceSync",Date.now().toString())}function g(e,t){var n;"Tab"===t.code&&(n=e.querySelectorAll(r.focusableElements.join(", ")),e=document.activeElement,t.shiftKey&&e===n[0]?(t.preventDefault(),n[n.length-1].focus()):t.shiftKey||e!==n[n.length-1]||(t.preventDefault(),n[0].focus()))}function v(){return navigator.languages||[navigator.language]}function y(){try{return new EventTarget}catch(e){return document.createElement("div")}}window.estimatedNavigationStartTime||(window.estimatedNavigationStartTime=new Date)},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"focusableElements",(function(){return i}));var i=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/Constants/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js");n.d(t,"focusableElements",(function(){return i.focusableElements}))},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js":function(e,t,n){"use strict";function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function r(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=i),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null==this)throw TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var r=t,o=0;o<i;){var s=n[o];if(e.call(r,s,o,n))return s;o++}},configurable:!0,writable:!0}),Element.prototype.hasOwnProperty("remove")||Object.defineProperty(Element.prototype,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}n.r(t),n.d(t,"applyCustomPolyfills",(function(){return r}))},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/StorageLock.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keepAliveMs",(function(){return r})),n.d(t,"LocalStorageLock",(function(){return o}));var i=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js"),r=2500,o=(Object.defineProperty(s.prototype,"itemName",{get:function(){return"_lslock::"+this.lockId},enumerable:!0,configurable:!0}),s.prototype.lock=function(){return!i.isLocalStorageSupported()||!this.isHeld()&&this.touchLock()},s.prototype.released=function(){var e=this;return i.isLocalStorageSupported()?Promise.resolve():new Promise((function(t){var n=setInterval((function(){e.isHeld()||(clearInterval(n),t())}),500)}))},s.prototype.isMine=function(){return void 0!==this.keepAliveTimerId},s.prototype.unlock=function(){i.isLocalStorageSupported()&&this.keepAliveTimerId&&(this.cancelKeepAliveTimer(),s.storage.removeItem(this.itemName))},s.prototype.isHeld=function(){i.ensureLocalStorageIsSynced();var e=s.storage.getItem(this.itemName);return!!e&&(e=Number(e),!isNaN(e)&&Date.now()-e<=r)},s.prototype.touchLock=function(){try{s.storage.setItem(this.itemName,Date.now().toString())}catch(e){return!1}return this.scheduleNextTouchLock(),!0},s.prototype.scheduleNextTouchLock=function(){var e=this;this.cancelKeepAliveTimer(),this.keepAliveTimerId=window.setTimeout((function(){e.touchLock()}),r/2)},s.prototype.cancelKeepAliveTimer=function(){this.keepAliveTimerId&&(clearTimeout(this.keepAliveTimerId),this.keepAliveTimerId=void 0)},s.storage=i.isLocalStorageSupported()?window.localStorage:null,s);function s(e){this.lockId=e,this.keepAliveTimerId=void 0}},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget}));var r=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js");n.d(t,"BrowserTimingMethod",(function(){return r.BrowserTimingMethod}));var o=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/StorageLock.js");n.d(t,"keepAliveMs",(function(){return o.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return o.LocalStorageLock}));var s=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js");n.d(t,"applyCustomPolyfills",(function(){return s.applyCustomPolyfills}))},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TenantFilterService",(function(){return i}));var i=(r.prototype.getTenantFilterRedirect=function(e){return e&&!1!==this.shouldRedirect(e)?this.getRedirectUrl():null},r.prototype.shouldRedirect=function(e){if(!this.TenantFilterRedirectUrl)return!1;if(this.queryStringBypassStrings.some((function(e){return new RegExp(e,"i").test(window.location.search)})))return!1;var t=this.isTenantAllowed(e);e=this.isTenantDisallowed(e);return!t||e},r.prototype.isTenantAllowed=function(e){return!this.AllowedTenants||0===this.AllowedTenants.length||-1<this.AllowedTenants.indexOf(e)},r.prototype.isTenantDisallowed=function(e){return this.DisallowedTenants&&-1<this.DisallowedTenants.indexOf(e)},r.prototype.getRedirectUrl=function(){return this.TenantFilterRedirectUrl+window.location.pathname},r);function r(e,t,n,i){void 0===i&&(i=[]),this.TenantFilterRedirectUrl=e,this.AllowedTenants=t,this.DisallowedTenants=n,this.queryStringBypassStrings=i,this.queryStringBypassStrings.push("bypass_tenant_redirect")}},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/FilterService/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js");n.d(t,"TenantFilterService",(function(){return i.TenantFilterService}))},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Math/Math.js":function(e,t,n){"use strict";function i(e,t,n){return void 0===n&&(n=.001),Math.abs(e*t/r(e,t,n))}function r(e,t,n){return void 0===n&&(n=.001),e<t?r(t,e):Math.abs(t)<n?e:r(t,e-Math.floor(e/t)*t,n)}n.r(t),n.d(t,"lcm_f",(function(){return i})),n.d(t,"gcd_f",(function(){return r}))},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Math/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Math/Math.js");n.d(t,"lcm_f",(function(){return i.lcm_f})),n.d(t,"gcd_f",(function(){return i.gcd_f}))},"./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Browser/index.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget})),n.d(t,"BrowserTimingMethod",(function(){return i.BrowserTimingMethod})),n.d(t,"keepAliveMs",(function(){return i.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return i.LocalStorageLock})),n.d(t,"applyCustomPolyfills",(function(){return i.applyCustomPolyfills}));var r=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/Math/index.js");n.d(t,"lcm_f",(function(){return r.lcm_f})),n.d(t,"gcd_f",(function(){return r.gcd_f}));var o=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/FilterService/index.js");n.d(t,"TenantFilterService",(function(){return o.TenantFilterService}))},"./node_modules/@msstream/services-rest/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.QueryConfigDefaults={DefaultSkip:0,DefaultTop:8,DefaultFaceTop:3,MaxTop:100},t.RequestVerificationToken="__RequestVerificationToken",t.QueryParams={Filter:"$filter",OrderBy:"$orderby",Skip:"$skip",Top:"$top",Select:"$select",Expand:"$expand",AdminMode:"adminmode",ApiVersion:"apiVersion",Id:"id",IsInAdminMode:"isInAdminMode"}},"./node_modules/@msstream/services-rest/src/Rest.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/core/esm/index.js"),s=n("./node_modules/@msstream/services-rest/node_modules/@msstream/shared-services/dist/index.js"),a=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),c=n("./node_modules/@msstream/utilities-type-safety/esm/index.js"),l=n("./node_modules/query-string/index.js"),u=n("./node_modules/uuid/index.js"),d=n("./node_modules/@msstream/services-rest/src/Constants.ts"),p=n("./node_modules/@msstream/services-rest/src/UrlFormatter.ts");m.get=function(e,t,n,i,r){return void 0===r&&(r=c.rtt.any),m.makeRequest("GET",r,e,t,n,void 0,i)},m.getWithCorsSupport=function(e,t,n,i,r){return void 0===r&&(r=c.rtt.any),m.makeRequest("GET",r,e,t,n,void 0,i,"cors")},m.getContent=function(e,t,n){return void 0===n&&(n=c.rtt.any),m.makeRequestForURL("GET",n,e,void 0,t)},m.put=function(e,t,n,i,r,o){return void 0===o&&(o=c.rtt.any),m.makeRequest("PUT",o,e,t,n,i,r)},m.patch=function(e,t,n,i,r,o){return void 0===o&&(o=c.rtt.any),m.makeRequest("PATCH",o,e,t,n,i,r)},m.post=function(e,t,n,i,r,o){return void 0===o&&(o=c.rtt.any),m.makeRequest("POST",o,e,t,n,i,r)},m.delete=function(e,t,n,i,r){return void 0===r&&(r=c.rtt.any),m.makeRequest("DELETE",r,e,t,n,void 0,i)},m.query=function(e,t,n,i,r){var s;return void 0===r&&(r=c.rtt.any),n&&void 0!==n.$top&&(s=parseInt(n.$top,10),o.isFiniteNumber(s)?n.$top=Math.min(d.QueryConfigDefaults.MaxTop,0<s?s:d.QueryConfigDefaults.DefaultTop).toString():n.$top=d.QueryConfigDefaults.DefaultTop.toString(),n.$top=n.$top.toString()),n&&void 0!==n.$skip&&(s=parseInt(n.$skip,10),o.isFiniteNumber(s)?n.$skip=Math.max(d.QueryConfigDefaults.DefaultSkip,s).toString():n.$skip=d.QueryConfigDefaults.DefaultSkip.toString(),n.$skip=n.$skip.toString()),m.makeRequest("GET",r,e,t,n,void 0,i,"cors")},m.makeRequest=function(e,t,n,i,r,o,s,a){var c=l.parse(window.location.search.toLowerCase());return c.hostcorrelationid&&(r.hostcorrelationid=c.hostcorrelationid),m.formRequest(e,t,p.formatUrl(n,i,r,o),s,o,a)},m.makeRequestForURL=function(e,t,n,i,r,o){return m.formRequest(e,t,n,r,i,o)},m.formRequest=function(e,t,n,i,r,o){var s="ReactTestCall"+m.generateGuid(),a=r&&/^(POST|PUT|PATCH)$/i.test(e);return(i=i||{})["x-ms-client-request-id"]=m.generateGuid(),i["x-ms-correlation-request-id"]=s,!a||r instanceof FormData||(i["Content-Type"]="application/json;charset=UTF-8"),r=a?r instanceof FormData?r:JSON.stringify(r):void 0,m.executeWithRetry(n,t,{method:e,headers:i,body:r,mode:o,credentials:"cors"===o?"include":"same-origin"})},m.executeWithRetry=function(e,t,n,o){var c=this;return void 0===o&&(o=0),new Promise((function(l,u){return i(c,void 0,void 0,(function(){var i,c,d,p;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.fetchWithTimeout(e,n)];case 1:return i=r.sent(),[4,m.handleResponse(i,t)];case 2:return c=r.sent(),l(c),[3,4];case 3:return d=r.sent(),p=!1,c="Rest.executeWithRetry","Timeout"===d.message||"Network request failed"===d.message?(c+=". Network issue",p=!0):d.message&&d.message.startsWith("Malformed")?(c+=". Malformed response",p=!0):i||(c+=". Failed to fetch",p=!0),p&&(p=s.getLocationOrigin(),a.RestCallLogger.logError({method:a.RestCallMethodNames[n.method],staticMessage:c,clientRequestId:n.headers["x-ms-client-request-id"],urlBase:p,urlPath:e.substring(p.length+1),statusCode:i?i.status:void 0,message:i?i.statusText:void 0,error:d})),i&&i.status<500?u(d):o=m.retry(o,d,l,e,n,u,t),[3,4];case 4:return[2]}}))}))}))},m.fetchWithTimeout=function(e,t){return i(this,void 0,Promise,(function(){var n,i;return r(this,(function(r){return n=fetch(e,t),i=new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),15e3)})),[2,Promise.race([n,i])]}))}))},m.handleResponse=function(e,t){return i(this,void 0,Promise,(function(){var n,i,o;return r(this,(function(r){switch(r.label){case 0:return e.ok?!(n=e.headers.get("content-type"))||-1===n.indexOf("application/json")&&-1===n.indexOf("text/html")?[3,2]:[4,e.json()]:[3,6];case 1:if(i=r.sent(),c.validate(i,t))return[2,i];throw new TypeError("Malformed. Response validation failed");case 2:return n&&-1!==n.indexOf("application/octet-stream")?[4,e.text()]:[3,4];case 3:return[2,o=r.sent()];case 4:if(c.validate(void 0,t))return[2,void 0];throw new TypeError("Malformed. Response had content-type: '"+n+"', expected "+t.type);case 5:return[3,11];case 6:o=void 0,r.label=7;case 7:return r.trys.push([7,9,,10]),[4,e.json()];case 8:return o=r.sent(),[3,10];case 9:return r.sent(),o={},[3,10];case 10:throw{status:e.status,statusText:e.statusText,headers:e.headers,data:o};case 11:return[2]}}))}))},m.retry=function(e,t,n,i,r,o,s){return e<3?(e++,setTimeout((function(){n(m.executeWithRetry(i,s,r,e))}),200*Math.pow(2,e))):o(t),e},m.generateGuid=function(){return u.v4()},n=m;function m(){}t.RestService=n},"./node_modules/@msstream/services-rest/src/Rest.types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-rest/src/UrlFormatter.ts":function(e,t){var n,i;function r(e){return e&&e.length?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():""}function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}Object.defineProperty(t,"__esModule",{value:!0}),(i=n=t.internal||(t.internal={})).lookupDottedPath=function(e,t){try{return""+(t||"").split(".").reduce((function(e,t){return e[t]}),e)}catch(e){return""}},i.getQueryString=function(e){return Object.keys(e).map((function(t){return o(r(t))+"="+o(e[t])})).join("&")},i.camelCaseToHypens=r,i.encodeUri=function(e){return encodeURI(e).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+").replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},i.encodeQueryStringComponent=o,t.formatUrl=function(e,t,i,r){i=i||{},r=r||{};e=[e,t].filter((function(e){return e.length})).join("/");var o={id:"",apiVersion:""},s=(t=e.replace(/:(\w+?)(\W|$)/g,(function(e,t,s){if(!i[t])return""+s;var a=i[t];return"string"==typeof a&&"@"===a[0]&&(a=n.lookupDottedPath(r||{},a)),"function"==typeof a&&(a=a()),(o[t]=a)+s})),{});return Object.keys(i).forEach((function(e){o[e]||(s[e]="function"==typeof i[e]?i[e]():i[e])})),t=t.split("://").map((function(e){return e.replace(/[\/]{2,}/g,"/")})).join("://"),t=n.encodeUri(t),(e=n.getQueryString(s))&&(t=t+(/\?/.test(t)?"&":"?")+e),t}},"./node_modules/@msstream/services-rest/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-rest/src/Rest.ts");t.RestService=i.RestService,i=n("./node_modules/@msstream/services-rest/src/Rest.types.ts"),t.RequestBody=i.RequestBody,t.IRequestParameters=i.IRequestParameters,n=n("./node_modules/@msstream/services-rest/src/Constants.ts"),t.QueryConfigDefaults=n.QueryConfigDefaults,t.QueryParams=n.QueryParams},"./node_modules/@msstream/services-tenant/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AssetPaths={Tenant:"/tenants/:id"},t.TenantActions={Settings:"settings"},t.CacheSettings={BucketName:"Tenant",GetSettingsKey:"TenantSettings",GetSettingsLifetimeMinutes:720,PatchTenantKey:"TenantPatch",PatchTenantLifetimeMinutes:720},t.MaxTenantPatchRetries=10,t.DefaultRetryAfterInSeconds=15,(t=t.Status||(t.Status={}))[t.TooManyRequests=429]="TooManyRequests",t[t.ServiceUnavailable=503]="ServiceUnavailable"},"./node_modules/@msstream/services-tenant/src/ITenant.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.TenantPatchState||(t.TenantPatchState={}))[t.Success=0]="Success",t[t.ThrottleFailed=1]="ThrottleFailed",t[t.Throttled=2]="Throttled"},"./node_modules/@msstream/services-tenant/src/Tenant.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/services-rest/src/index.ts"),s=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),a=n("./node_modules/@msstream/utilities-type-safety/esm/index.js"),c=n("./node_modules/lscache/lscache.js"),l=n("./node_modules/@msstream/services-tenant/src/Constants.ts"),u=n("./node_modules/@msstream/services-tenant/src/ITenant.ts");d.prototype.getApiVersion=function(){return this.tenantServiceApiVersion},d.prototype.hasTenantPatchThrottleFailed=function(){return this.tenantPatchThrottleFailed},d.prototype.getSettings=function(e,t){return void 0===t&&(t=!1),i(this,void 0,Promise,(function(){var n,i,u,d,p;return r(this,(function(r){switch(r.label){case 0:return n=null,t||(c.setBucket(e.hashedId),i=c.get(l.CacheSettings.GetSettingsKey),a.validate(i,a.rtt.object({}))&&(n=i)),n?[3,2]:(p={id:e.tenantId,apiVersion:this.tenantServiceApiVersion},u=e.apiGatewayUrl,d=l.AssetPaths.Tenant+"/"+l.TenantActions.Settings,[4,o.RestService.getWithCorsSupport(u,d,p,e.generateHeaders(),a.rtt.object({})).catch((function(e){return s.RestCallLogger.logError({method:s.RestCallMethodNames.GET,staticMessage:"Tenant.getSettings",urlBase:u,urlPath:d,error:e}),Promise.reject(e)}))]);case 1:p=r.sent(),t||c.set(l.CacheSettings.GetSettingsKey,p,l.CacheSettings.GetSettingsLifetimeMinutes),n=p,r.label=2;case 2:return[2,n]}}))}))},d.prototype.patchTenant=function(e,t,n){return void 0===n&&(n=!1),i(this,void 0,Promise,(function(){var i,d,m,A,h,f,g,v;return r(this,(function(r){switch(r.label){case 0:if(i=a.rtt.object({apiEndpoint:a.rtt.string,dataLocation:a.rtt.string,id:a.rtt.string,notificationEndpoint:a.rtt.string,region:a.rtt.string,state:a.rtt.string}),this.tenantPatchThrottleFailed=!1,d=null,n||(c.setBucket(e.hashedId),f=c.get(l.CacheSettings.PatchTenantKey),a.validate(f,i)&&(d=f)),d)return[3,8];m={id:e.tenantId,apiVersion:this.tenantServiceApiVersion},A=this.tenantServiceUrl,h="api"+l.AssetPaths.Tenant,g=null,v=0,f=!1,r.label=1;case 1:if(f||!(v<l.MaxTenantPatchRetries))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,o.RestService.patch(A,h,m,{},e.generateHeaders(),i)];case 3:return g=r.sent(),d=g,f=!0,[3,6];case 4:return g=r.sent(),s.RestCallLogger.logError({method:s.RestCallMethodNames.PATCH,staticMessage:"Tenant.patchTenant",urlBase:A,urlPath:h,error:g}),g.status!==l.Status.TooManyRequests&&g.status!==l.Status.ServiceUnavailable?[2,Promise.reject(g)]:(1==++v&&t&&t(u.TenantPatchState.Throttled),v=void 0,g.headers&&(v=g.headers.get("retry-after")),v=v||l.DefaultRetryAfterInSeconds,[4,p(1e3*v)]);case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:if(!f)return s.RestCallLogger.logError({method:s.RestCallMethodNames.PATCH,staticMessage:"Tenant.patchTenant exceeded maximum number of retries",urlBase:A,urlPath:h}),this.tenantPatchThrottleFailed=!0,t&&t(u.TenantPatchState.ThrottleFailed),[2,Promise.reject("Maximum number of retries exceeded")];n||c.set(l.CacheSettings.PatchTenantKey,d,l.CacheSettings.PatchTenantLifetimeMinutes),r.label=8;case 8:return t&&t(u.TenantPatchState.Success),[2,d]}}))}))},d.prototype.getSdnSettingsIfSupported=function(e){return i(this,void 0,Promise,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getSettings(e)];case 1:return(t=n.sent())&&t.system&&t.system.networkCaching&&t.system.networkCaching.provider&&t.system.networkCaching.licenseId?[2,t.system.networkCaching]:[2,void 0];case 2:return n.sent(),[2,void 0];case 3:return[2]}}))}))},n=d;function d(e,t){this.tenantServiceUrl=e,this.tenantServiceApiVersion=t,this.tenantPatchThrottleFailed=!1,c.enableWarnings(!0),c.flushExpired()}t.TenantService=n;var p=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},"./node_modules/@msstream/services-tenant/src/Tenant.types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-tenant/src/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("./node_modules/@msstream/services-tenant/src/ITenant.ts"));var r=n("./node_modules/@msstream/services-tenant/src/Tenant.ts");t.TenantService=r.TenantService,i(n("./node_modules/@msstream/services-tenant/src/Tenant.types.ts"))},"./node_modules/@msstream/utilities-icons/esm/IconNames.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"StreamIconNames",(function(){return i})),(t=i=i||{}).Webcam2Off="Webcam2Off",t.Hamburger="Hamburger",t.Wifi="Wifi",t.ChevronDown="ChevronDown",t.ChevronUp="ChevronUp",t.Edit="Edit",t.Add="Add",t.Cancel="Cancel",t.More="More",t.Settings="Settings",t.Video="Video",t.Mail="Mail",t.People="People",t.Filter="Filter",t.Microphone="Microphone",t.Search="Search",t.Camera="Camera",t.Send="Send",t.SendFill="SendFill",t.FavoriteList="FavoriteList",t.Refresh="Refresh",t.Share="Share",t.FavoriteStar="FavoriteStar",t.FavoriteStarFill="FavoriteStarFill",t.CheckMark="CheckMark",t.BackToWindow="BackToWindow",t.FullScreen="FullScreen",t.Delete="Delete",t.Mute="Mute",t.Volume="Volume",t.Play="Play",t.Pause="Pause",t.ChevronLeft="ChevronLeft",t.ChevronRight="ChevronRight",t.Smile="Emoji2",t.Globe="Globe",t.Contact="Contact",t.MegaPhone="MegaPhone",t.Trim="Trim",t.Undo="Undo",t.LiveView="RedEye",t.Warning="Warning",t.BrowsePhotos="BrowsePhotos",t.CircleFill="Record",t.Admin="Admin",t.CC="CC",t.Home="Home",t.Recent="Recent",t.View="View",t.Clear="Clear",t.Download="Download",t.Help="Help",t.Upload="Upload",t.OpenInNewWindow="OpenInNewWindow",t.ChromeClose="ChromeClose",t.BlockContact="BlockContact",t.AddFriend="AddFriend",t.Group="Group",t.Comment="Comment",t.Completed="Completed",t.Streaming="Streaming",t.PlaylistMusic="PlaylistMusic",t.Info="Info",t.Webcam2="Webcam2",t.ChevronLeftSmall="ChevronLeftSmall",t.ChevronRightSmall="ChevronRightSmall",t.Volume1="Volume1",t.Volume2="Volume2",t.LockSolid="LockSolid",t.Ribbon="Ribbon",t.LineChart="LineChart",t.Equalizer="Equalizer",t.CircleRing="Record2",t.HelpMirrored="HelpMirrored",t.HomeSolid="HomeSolid",t.Ringer="Ringer",t.AddToPlaylist="AddToShoppingList",t.CirclePlay="MSNVideos",t.Like="Heart",t.Unlike="HeartFill",t.CloudDownload="CloudDownload",t.MicOff="MicOff",t.CloudUpload="CloudUpload",t.Embed="Embed",t.YammerLogo="YammerLogo",t.Hide="Hide",t.SeekBack10="SeekBack10",t.SeekForward30="SeekForward30",t.PeopleBlock="PeopleBlock",t.ShareiOS="ShareiOS",t.Speech="Speech",t.ScreenPreviewOn="ScreenPreviewOn",t.StatusCircleCheckmark="StatusCircleCheckmark",t.StatusCircleBlock="StatusCircleBlock",t.PIP="PIP",t.TwoKeys="TwoKeys",t.MoreVertical="MoreVertical",t.StreamLogo="StreamLogo",t.VideoOff="VideoOff",t.WebPublish="WebPublish",t.PlaySolid="PlaySolid",t.Leave="Leave",t.RedEyeAdd="RedEyeAdd",t.Hide3="Hide3",t.MicOff2="MicOff2",t.VideoInfo="VideoInfo",t.RemoveFromPlaylist="RemoveFromShoppingList",t.VideoRemove="VideoRemove",t.SheildAlert="SheildAlert",t.DashProgressRing="DashProgressRing",t.StreamDiscover="StreamDiscover",t.VideoCapture="VideoCapture",t.TranscriptSearch="TranscriptSearch",t.VideoInteractive="VideoInteractive",t.SpeechOff="SpeechOff",t.ErrorBadge="ErrorBadge",t.OfficeFormsLogo="OfficeFormsLogo"},"./node_modules/@msstream/utilities-icons/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return o}));var i=n("./node_modules/@msstream/utilities-icons/esm/stream-subset/src/stream-icons.js"),r=n("./node_modules/@msstream/utilities-icons/esm/IconNames.js");function o(){Object(i.initializeIcons)()}n.d(t,"StreamIconNames",(function(){return r.StreamIconNames}))},"./node_modules/@msstream/utilities-icons/esm/stream-subset/src/stream-icons.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initializeIcons",(function(){return r}));var i=n("./node_modules/@uifabric/styling/lib/index.js");function r(e){var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"StreamMDL2Icons"',src:"url('"+n("./node_modules/@msstream/utilities-icons/fonts/StrmMDL2.woff")+"') format('woff')"},icons:{Webcam2Off:"",Hamburger:"",Wifi:"",ChevronDown:"",ChevronUp:"",Edit:"",Add:"",Cancel:"",More:"",Settings:"",Video:"",Mail:"",People:"",Filter:"",Microphone:"",Search:"",Camera:"",Send:"",SendFill:"",FavoriteList:"",Refresh:"",Share:"",FavoriteStar:"",FavoriteStarFill:"",CheckMark:"",BackToWindow:"",FullScreen:"",Delete:"",Mute:"",Volume:"",Play:"",Pause:"",ChevronLeft:"",ChevronRight:"",Emoji2:"",Globe:"",Contact:"",MegaPhone:"",Trim:"",Undo:"",RedEye:"",Warning:"",BrowsePhotos:"",Record:"",Admin:"",CC:"",Home:"",Recent:"",View:"",Clear:"",Download:"",Help:"",Upload:"",OpenInNewWindow:"",ChromeClose:"",BlockContact:"",AddFriend:"",Group:"",Comment:"",Completed:"",Streaming:"",PlaylistMusic:"",Info:"",Webcam2:"",ChevronLeftSmall:"",ChevronRightSmall:"",Volume1:"",Volume2:"",LockSolid:"",Ribbon:"",LineChart:"",Equalizer:"",Record2:"",HelpMirrored:"",HomeSolid:"",Ringer:"",AddToShoppingList:"",MSNVideos:"",Heart:"",HeartFill:"",CloudDownload:"",MicOff:"",CloudUpload:"",Embed:"",YammerLogo:"",Hide:"",SeekBack10:"",SeekForward30:"",PeopleBlock:"",ShareiOS:"",Speech:"",ScreenPreviewOn:"",StatusCircleCheckmark:"",StatusCircleBlock:"",PIP:"",TwoKeys:"",MoreVertical:"",StreamLogo:"",VideoOff:"",OfficeFormsLogo:"",WebPublish:"",PlaySolid:"",Leave:"",RedEyeAdd:"",Hide3:"",MicOff2:"",VideoInfo:"",RemoveFromShoppingList:"",VideoRemove:"",SheildAlert:"",DashProgressRing:"",StreamDiscover:"",VideoCapture:"",TranscriptSearch:"",VideoInteractive:"",SpeechOff:"",ErrorBadge:""}};Object(i.registerIcons)(t,e)}},"./node_modules/@msstream/utilities-icons/fonts/StrmMDL2.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/StrmMDL2.woff"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Components.td.js":function(e,t,n){"use strict";var i,r,o,s,a;n.r(t),n.d(t,"ReactComponents",(function(){return i})),n.d(t,"AngularComponents",(function(){return r})),n.d(t,"ThinEmbedComponents",(function(){return o})),n.d(t,"ApplicationComponents",(function(){return s})),n.d(t,"PortalComponents",(function(){return a})),(t=i=i||{}).CapturePanel="CapturePanel",t.EditPanel="EditPanel",t.EmbedVideo="EmbedVideo",t.FakePlayer="FakePlayer",t.Forms="Forms",t.MediaPlayerContainer="MediaPlayerContainer",t.O365Groups="O365Groups",t.Playlist="Playlist",t.ReportIssue="ReportIssue",t.SingleVideo="SingleVideo",t.Transcript="Transcript",t.WatchNext="WatchNext",t.UploadPanel="UploadPanel",t.VideoMetaOverlay="VideoMetaOverlay",t.VideoAnalytics="VideoAnalytics",t.WaffleBar="WaffleBar",t.ShareDialog="ShareDialog",(r=r||{}).TopBar="TopBar",(o=o||{}).ThinEmbedVideoPlayer="ThinEmbedVideoPlayer",(s=s||{}).ScreenRecorder="ScreenRecorder",(t=a=a||{}).Comments="Comments",t.SidebarMenu="SidebarMenu",t.AddToGroupsAndChannels="AddToGroupsAndChannels",t.Yammer="Yammer",t.NavBar="NavBar"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Features.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"FeatureNames",(function(){return i})),(t=i=i||{}).Navigation="Navigation",t.Sharing="Sharing",t.Telemetry="Telemetry",t.FeatureFlagsFactory="FeatureFlagsFactory",t.VideoPlayback="VideoPlayback",t.ProducerPlayback="ProducerPlayback",t.LivePlayback="LivePlayback",t.Forms="Forms",t.Search="Search",t.Transcript="Transcript",t.Playlist="Playlist",t.SessionManager="SessionManager",t.InjectedAuth="InjectedAuth",t.Chaptering="Chaptering"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Scenarios.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"SESHVetoes",(function(){return i})),(i=i||{}).SESH_test1="SESH_test1"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/InjectedAuthPayloads.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"InjectedAuthErrorStrings",(function(){return i})),(t=i=i||{}).ConnectionFailed="Post message connection to host failed",t.GatewayTokenFailed="Getting API gateway token failed",t.HostAuthTokenFailed="Host unable to provide token for Stream",t.ExchangeTokenFailed="Stream exchange token for service using webrole failed",t.NoTenandId="No tenant ID present on the user claim from the server token",t.NoUserId="No user ID present on the user information from the server token"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/LocaleHelperPayloads.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"LocaleRetrievalMethod",(function(){return i})),(t=i=i||{}).QueryString="query string",t.Cookie="cookie",t.Principal="principal",t.BrowserLanguages="browser languages",t.Default="default english"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/O365GroupsPayloads.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"O365GroupsUserActionResults",(function(){return i})),(t=i=i||{}).Success="Success",t.Failure="Failure",t.Dismissed="Dismissed"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/Playback/PlaybackPayloads.td.js":function(e,t,n){"use strict";var i,r,o;n.r(t),n.d(t,"PlaybackErrorPrefix",(function(){return i})),n.d(t,"PlaybackErrorType",(function(){return r})),n.d(t,"VideoStateChangeDetectionMethod",(function(){return o})),(t=i=i||{}).VideoPlayback="VideoPlayback_",t.LivePlayback="LivePlayback_",(t=r=r||{}).KeyAcquireError="KeyAcquireError",t.NetworkTimeoutError="NetworkTimeoutError",t.SegmentDecryptError="SegmentDecryptError",t.MediaAbortedError="MediaAbortedError",t.ClientNetworkError="ClientNetworkError",t.ServerNetworkError="ServerNetworkError",t.GenericNetworkError="GenericNetworkError",t.NoInternetConnectionError="NoInternetConnectionError",t.AESDecodeError="AESDecodeError",t.SourceNotSupportedError="SourceNotSupportedError",t.GenericDecryptError="GenericDecryptError",t.PlayerMismatchError="PlayerMismatchError",t.UnknownError="UnknownError",(t=o=o||{}).ManifestAvailable="ManifestAvailable",t.SignalRNotification="SignalRNotification",t.PollVideoService="PollVideoService",t.PlayerEvent="PlayerEvent"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/PortalPayloads.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"PortalTelemetryPayloadNames",(function(){return i})),(t=i=i||{}).CommentUserActionPayload="CommentUserActionPayload",t.SidebarUserActionPayload="SidebarUserActionPayload"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/SessionManagerPayloads.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"TelemetryAuthResult",(function(){return i})),(t=i=i||{}).SessionValid="SessionValid",t.AdalSuccess="AdalSuccess",t.InjectedSuccess="InjectedSuccess",t.SubscribeSuccess="SubscribeSuccess",t.LoginRequired="LoginRequired",t.Failed="Failed",t.SubscribeTimeout="SubscribeTimeout"},"./node_modules/@msstream/utilities-telemetry/esm/contexts/StandardContexts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"standardContextVersion",(function(){return i}));var i="2.3"},"./node_modules/@msstream/utilities-telemetry/esm/contexts/ViewContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ViewContext",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),r=function(e,t){this.viewName=e,this.details=t,this.url=Object(i.getUrl)()}},"./node_modules/@msstream/utilities-telemetry/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/esm/services/LoggingService.js");n.d(t,"LoggingService",(function(){return i.LoggingService}));var r=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerFactory.js");n.d(t,"createOneDSLogger",(function(){return r.createOneDSLogger})),n.d(t,"createConsoleLogger",(function(){return r.createConsoleLogger}));var o=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/OneDSLogger.js");n.d(t,"OneDSLogger",(function(){return o.OneDSLogger}));var s=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/Logging.types.js");n.d(t,"BasePayloadTypeNames",(function(){return s.BasePayloadTypeNames}));var a=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/LegacyLogging/LegacyLogging.js");n.d(t,"LegacyLogging",(function(){return a.LegacyLogging}));var c=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.js");n.d(t,"ErrorAlertLogging",(function(){return c.ErrorAlertLogging}));var l=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.types.js");n.d(t,"ErrorMessageStatus",(function(){return l.ErrorMessageStatus})),n.d(t,"StackTraceStatus",(function(){return l.StackTraceStatus})),n.d(t,"ErrorAlertType",(function(){return l.ErrorAlertType}));var u=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/PerformanceLogging.js");n.d(t,"PerformanceLogging",(function(){return u.PerformanceLogging}));var d=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ApplicationLogicLogging/ApplicationLogicLogging.js");n.d(t,"ApplicationLogicLogging",(function(){return d.ApplicationLogicLogging}));var p=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/TraceLogging/TraceLogging.js");n.d(t,"MaxTraceMessageLength",(function(){return p.MaxTraceMessageLength})),n.d(t,"TraceLogging",(function(){return p.TraceLogging}));var m=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.js");n.d(t,"UserActionLogging",(function(){return m.UserActionLogging}));var A=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.types.js");n.d(t,"ActionType",(function(){return A.ActionType}));var h=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js");n.d(t,"replaceInvalidFields",(function(){return h.replaceInvalidFields})),n.d(t,"getChildrenProperties",(function(){return h.getChildrenProperties})),n.d(t,"filterObjectProperties",(function(){return h.filterObjectProperties})),n.d(t,"getUrl",(function(){return h.getUrl})),n.d(t,"createGuid",(function(){return h.createGuid}));var f=n("./node_modules/@msstream/utilities-telemetry/esm/utils/RestCallLogger.js");n.d(t,"RestCallMethodNames",(function(){return f.RestCallMethodNames})),n.d(t,"RestCallLogger",(function(){return f.RestCallLogger}));var g=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Features.td.js");n.d(t,"FeatureNames",(function(){return g.FeatureNames}));var v=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Scenarios.td.js");n.d(t,"SESHVetoes",(function(){return v.SESHVetoes}));var y=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Components.td.js");n.d(t,"ReactComponents",(function(){return y.ReactComponents})),n.d(t,"AngularComponents",(function(){return y.AngularComponents})),n.d(t,"ThinEmbedComponents",(function(){return y.ThinEmbedComponents})),n.d(t,"ApplicationComponents",(function(){return y.ApplicationComponents})),n.d(t,"PortalComponents",(function(){return y.PortalComponents}));var S=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/Playback/PlaybackPayloads.td.js");n.d(t,"PlaybackErrorPrefix",(function(){return S.PlaybackErrorPrefix})),n.d(t,"PlaybackErrorType",(function(){return S.PlaybackErrorType})),n.d(t,"VideoStateChangeDetectionMethod",(function(){return S.VideoStateChangeDetectionMethod}));var b=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/InjectedAuthPayloads.td.js");n.d(t,"InjectedAuthErrorStrings",(function(){return b.InjectedAuthErrorStrings}));var C=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/LocaleHelperPayloads.td.js");n.d(t,"LocaleRetrievalMethod",(function(){return C.LocaleRetrievalMethod}));var E=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/SessionManagerPayloads.td.js");n.d(t,"TelemetryAuthResult",(function(){return E.TelemetryAuthResult}));var w=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/O365GroupsPayloads.td.js");n.d(t,"O365GroupsUserActionResults",(function(){return w.O365GroupsUserActionResults}));var T=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/PortalPayloads.td.js");n.d(t,"PortalTelemetryPayloadNames",(function(){return T.PortalTelemetryPayloadNames}));var P=n("./node_modules/@msstream/utilities-telemetry/esm/services/__mocks__/MockLoggingService.js");n.d(t,"MockLoggingService",(function(){return P.MockLoggingService}));var _=n("./node_modules/@msstream/utilities-telemetry/esm/contexts/ViewContext.js");n.d(t,"ViewContext",(function(){return _.ViewContext}));var B=n("./node_modules/@msstream/utilities-telemetry/esm/contexts/StandardContexts.js");n.d(t,"standardContextVersion",(function(){return B.standardContextVersion}))},"./node_modules/@msstream/utilities-telemetry/esm/loggers/ConsoleLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConsoleLogger",(function(){return i}));var i=(r.prototype.trackEvent=function(e){window.console.log(e)},r.prototype.userSignedIn=function(e){},r.prototype.userSignedOut=function(){},r);function r(){}},"./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PrivacyInitializationErrorMessage",(function(){return i}));var i="The privacy event scrubber was not initialized properly.\n\n ERROR: "},"./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerFactory.js":function(e,t,n){"use strict";n.r(t),n.d(t,"createOneDSLogger",(function(){return o})),n.d(t,"createConsoleLogger",(function(){return s}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/ConsoleLogger.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/OneDSLogger.js");function o(e){return new r.OneDSLogger(e)}function s(){return new i.ConsoleLogger}},"./node_modules/@msstream/utilities-telemetry/esm/loggers/OneDSLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"OneDSLogger",(function(){return a}));var i=n("./node_modules/@ms/1ds-analytics-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/Index.js"),o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),s=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerConstants.js"),a=(Object.defineProperty(c.prototype,"PrivacyScrubber",{get:function(){return this.privacyScrubber.InitializationError?void 0:this.privacyScrubber},enumerable:!0,configurable:!0}),c.prototype.trackEvent=function(e){try{!this.privacyScrubber.inDropEventList(e)&&this.privacyScrubber.scrubEvent(e)&&this.logger.track(e)}catch(i){var t,n=void 0!==e?e.name:"undefined";this.hasErroringEventBeenPreviouslyLogged(n)&&(t=void 0===e,this.logger.track({name:"TrackingEventError",data:{eventName:n,isEventUndefined:t}}),this.markErroringEventAsLogged(n))}},c.prototype.userSignedIn=function(e){var t=this.logger.getPropertyManager();e="a"!==e[0]&&":"!==e[1]?"a:"+e:e;t.getPropertiesContext().user.localId=e},c.prototype.userSignedOut=function(){this.logger.getPropertyManager().getPropertiesContext().user.localId=this.unauthenticatedLocalUserId},c.prototype.signalIncompletePrivacyConfig=function(){var e=this.privacyScrubber.InitializationError;e&&(console.log(s.PrivacyInitializationErrorMessage+e),this.logger.track({name:"IncompletePrivacyScrubberConfig",data:{errorMessage:e}}))},c.prototype.markErroringEventAsLogged=function(e){this.erroringEventNamesLogged.push(e)},c.prototype.hasErroringEventBeenPreviouslyLogged=function(e){return-1===this.erroringEventNamesLogged.indexOf(e)},c);function c(e){this.logger=new i.ApplicationInsights,this.unauthenticatedLocalUserId="a:unauthenticatedUser",this.erroringEventNamesLogged=[],e&&e.privacyScrubbingConfig&&(t=e.privacyScrubbingConfig),this.privacyScrubber=new o.PrivacyScrubber(t),this.cvPlugin=new r.CorrelationVectorPlugin,e.localUserId||(e.localUserId=this.unauthenticatedLocalUserId);var t={channelConfiguration:{disableTelemetry:!e.ingestionKey},disableCookiesUsage:!0,extensions:[this.cvPlugin],extensionConfig:[],instrumentationKey:e.ingestionKey};e.overrideEndpointUrl&&(t.endpointUrl=e.overrideEndpointUrl),this.logger.initialize(t,[]),(t=this.logger.getPropertyManager()).getPropertiesContext().user.localId=e.localUserId,t.getPropertiesContext().app.name=e.appName,t.getPropertiesContext().app.ver=e.version,t.setProperty("UserAgent",window.navigator.userAgent),this.signalIncompletePrivacyConfig()}},"./node_modules/@msstream/utilities-telemetry/esm/services/LoggingService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LoggingService",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),s=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/index.js"),a=(c.prototype.setupLogger=function(e,t,n,i,o){this.logger=e,this.setStandardContexts(n),this.errorAlertLogging=new r.ErrorAlertLogging(this,e,o),this.setupUnhandledExceptionLogging(),this.performanceLogging=new r.PerformanceLogging(this,e),this.applicationLogicLogging=new r.ApplicationLogicLogging(this,e),this.userActionLogging=new r.UserActionLogging(this,e),this.traceLogging=new r.TraceLogging(this,e),i&&(this.onTrack=i),this.legacyLogging=t},c.prototype.appLogicThin=function(e,t,n){this.applicationLogicLogging?(this.applicationLogicLogging.logApplicationLogic(e,t,n),this.onTrack(e)):this.assert("applicationLogicLogging not initialized")},c.prototype.userActionThin=function(e,t,n){this.userActionLogging?(this.userActionLogging.logUserAction(e,t,n),this.onTrack(e)):this.assert("userActionLogging not initialized")},c.prototype.warnThin=function(e,t,n){this.errorAlertLogging?(this.errorAlertLogging.logWarning(e,t,n),this.onTrack(e)):this.assert("errorAlertLogging not initialized")},c.prototype.fatalThin=function(e,t,n){this.errorAlertLogging?(this.errorAlertLogging.logFatal(e,t,n),this.onTrack(e)):this.assert("errorAlertLogging not initialized")},c.prototype.traceThin=function(e,t,n){return this.traceLogging?(t=t||"DefaultTrace",this.traceLogging.logTrace(t,e,n)):(this.assert("traceLogging not initialized"),"")},c.prototype.userSignedIn=function(e,t){var n=this.getStandardContextsDeepCopy();n&&(n.userContext=e,n.expContext=t||n.expContext,this.setStandardContexts(n)),this.logger&&this.logger.userSignedIn(e.userId)},c.prototype.userSignedOut=function(e){var t=this.getStandardContextsDeepCopy();t&&t.userContext&&(t.userContext.userId="",t.userContext.userType=e,this.setStandardContexts(t)),this.logger&&this.logger.userSignedOut()},Object.defineProperty(c.prototype,"PrivacyScrubber",{get:function(){return this.privacyScrubber},enumerable:!0,configurable:!0}),c.prototype.setIncludeTimingFields=function(e){this.includeTimingFields=e},c.prototype.getIsDevelopmentMode=function(){var e=null;try{e=window.localStorage.getItem("disableDevelopmentMode")}catch(e){}return this.isDevelopmentMode&&!e},c.prototype.setupPrivacyScrubber=function(e){this.privacyScrubber=e},c.prototype.getStandardContextsDeepCopy=function(){return this.standardContexts?JSON.parse(JSON.stringify(this.standardContexts)):void 0},c.prototype.setStandardContexts=function(e){(this.standardContexts=e)&&void 0!==e.isDevelopmentMode&&(this.isDevelopmentMode=e.isDevelopmentMode),this.updateStandardContextsFields()},c.prototype.getStandardContextsFields=function(){var e=this.standardContextsFields||{};return this.includeTimingFields&&(e=Object(i.__assign)(Object(i.__assign)({},this.calculateTimingFields()),e)),e},c.prototype.legacy=function(e){this.legacyLogging.logEvent(e),this.onTrack(e.name)},c.prototype.getPerformance=function(e){if(this.performanceLogging)return this.performanceLogging.getPerformance(e);this.assert("performanceLogging not initialized")},c.prototype.setPerformance=function(e,t,n){return this.performanceLogging?this.performanceLogging.setPerformance(e,t,n):(this.assert("performanceLogging not initialized"),!1)},c.prototype.registerEarlyStartPerformance=function(e,t){this.performanceLogging?this.performanceLogging.registerEarlyStart(e,t):this.assert("performanceLogging not initialized")},c.prototype.startPerformance=function(e,t){this.performanceLogging?this.performanceLogging.start(e,t):this.assert("performanceLogging not initialized")},c.prototype.startUniquePerformance=function(e,t){return this.performanceLogging?this.performanceLogging.startUnique(e,t):(this.assert("performanceLogging not initialized"),"")},c.prototype.endPerformance=function(e,t,n,i){if(this.performanceLogging)return this.onTrack(t||e),this.performanceLogging.end(e,n,i);this.assert("performanceLogging not initialized")},c.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.standardContexts&&this.standardContexts.streamContext&&this.standardContexts.streamContext.isDebugLoggingEnabled&&console.log.apply(console,Object(i.__spreadArrays)(["["+(new Date).toISOString()+"]"],e))},c.prototype.assert=function(e){this.isDevelopmentMode&&console.debug(e)},c.prototype.updateStandardContextsFields=function(){var e,t;this.standardContextsFields={},this.standardContexts&&(this.standardContexts.expContext&&!0!==this.standardContexts.expContext.isExpSessionOverridden&&delete this.standardContexts.expContext.isExpSessionOverridden,delete(e=JSON.parse(JSON.stringify(this.standardContexts))).expContext,t=this.standardContexts.expContext||{},this.standardContextsFields=Object(i.__assign)(Object(i.__assign)({standardContextVersion:r.standardContextVersion},Object(o.getChildrenProperties)(e)),{expContext:t}))},c.prototype.calculateTimingFields=function(){var e=Object(s.getBrowserTiming)();return void 0===e?{}:{browserTimingMethod:e.Method,msSinceAppStart:e.MsSinceNavigationStart}},c.prototype.setupUnhandledExceptionLogging=function(){var e=this;window.onerror=function(t,n,i,r,o){e.errorAlertLogging&&(r="src: "+n+" line: "+i+" col: "+r,e.errorAlertLogging.logUnhandled(o||new Error,r))}},c);function c(){this.legacyLogging=void 0,this.isDevelopmentMode=!0,this.includeTimingFields=!0,this.onTrack=function(){}}},"./node_modules/@msstream/utilities-telemetry/esm/services/__mocks__/MockLoggingService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MockLoggingService",(function(){return i}));var i=(r.prototype.setupPrivacyScrubber=function(e){},r.prototype.setupLogger=function(e,t,n){},r.prototype.getIsDevelopmentMode=function(){return!0},r.prototype.userSignedIn=function(e,t){},r.prototype.userSignedOut=function(e){},r.prototype.getStandardContextsDeepCopy=function(){},r.prototype.setStandardContexts=function(e){},r.prototype.legacy=function(e){},r.prototype.getPerformance=function(e){},r.prototype.setPerformance=function(e,t,n){return!0},r.prototype.registerEarlyStartPerformance=function(e,t){},r.prototype.startPerformance=function(e,t,n){},r.prototype.startUniquePerformance=function(e,t){return"fake-perf-identifier"},r.prototype.endPerformance=function(e,t,n,i){},r.prototype.debug=function(e){},Object.defineProperty(r.prototype,"PrivacyScrubber",{get:function(){},enumerable:!0,configurable:!0}),r.prototype.appLogicThin=function(e,t,n){},r.prototype.userActionThin=function(e,t,n){},r.prototype.warnThin=function(e,t,n){},r.prototype.fatalThin=function(e,t,n){},r.prototype.traceThin=function(e,t,n){return""},r);function r(){}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ApplicationLogicLogging/ApplicationLogicLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ApplicationLogicLogging",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js"),r=(o.prototype.logApplicationLogic=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),t),sync:n})},o);function o(e,t){this.loggingService=e,this.logger=t,this.eventType="ApplicationLogic"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorAlertLogging",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),o=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.types.js"),s=(a.prototype.logUnhandled=function(e,t){return t={message:e&&e.message?e.message:o.ErrorMessageStatus.Missing,stack:e&&e.stack?e.stack:o.StackTraceStatus.Missing,staticMessage:t},this.log("UnhandledError",Object(i.__assign)({errorAlertType:o.ErrorAlertType.Unhandled},t))},a.prototype.logWarning=function(e,t,n){return this.log(e,Object(i.__assign)({errorAlertType:o.ErrorAlertType.Warning},t),n)},a.prototype.logFatal=function(e,t,n){return this.loggingService.getIsDevelopmentMode(),this.log(e,Object(i.__assign)({errorAlertType:o.ErrorAlertType.Fatal},t),n)},a.prototype.log=function(e,t,n){t=Object(i.__assign)(Object(i.__assign)({},t),{message:r.DefaultScrubbedValue,stack:this.scrubStack(t.stack,t.message)}),n={name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),t),sync:n},this.logger.trackEvent(n)},a.prototype.scrubStack=function(e,t){return this.tryLogErrorAlertStacks&&!this.anyDisallowedUrlsDetected(e)?(t&&(e=e.replace(t,r.DefaultScrubbedValue)),e):r.DefaultScrubbedValue},a.prototype.anyDisallowedUrlsDetected=function(e){for(var t=/\b(https?:\/\/(?:[a-zA-Z0-9\-\.:])+)\/?/g,n=t.exec(e);n&&2===n.length;){if(!this.isAllowableUrl(n[1]))return!0;n=t.exec(e)}return!1},a.prototype.isAllowableUrl=function(e){for(var t=0,n=this.allowableHostSuffixes;t<n.length;t++){var i=n[t];if(e.endsWith(i))return!0}return!1},a);function a(e,t,n){this.loggingService=e,this.logger=t,this.tryLogErrorAlertStacks=n,this.eventType="ErrorAlert",this.allowableHostSuffixes=[".microsoftstream.com",".microsoftstream.us",".stream.azure-test.net"]}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.types.js":function(e,t,n){"use strict";var i,r,o;n.r(t),n.d(t,"ErrorMessageStatus",(function(){return i})),n.d(t,"StackTraceStatus",(function(){return r})),n.d(t,"ErrorAlertType",(function(){return o})),(t=i=i||{}).Missing="mis",t.NotApplicable="n/a",(t=r=r||{}).Missing="mis",t.NotApplicable="n/a",(t=o=o||{}).Warning="Warning",t.Fatal="Fatal",t.Unhandled="Unhandled"},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/LegacyLogging/LegacyLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LegacyLogging",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),r=(o.prototype.logEvent=function(e){e=Object(i.replaceInvalidFields)({name:e.name,data:e.data}),this.logger.trackEvent(e)},o);function o(e){this.logger=e}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/Logging.types.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"BasePayloadTypeNames",(function(){return i})),(t=i=i||{}).Performance="Performance",t.UserAction="UserAction",t.Assert="Assert",t.ApplicationLogic="ApplicationLogic",t.Trace="Trace",t.ErrorAlert="ErrorAlert"},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/PerformanceLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PerformanceLogging",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/SafePerformanceAPI.js"),s=(a.prototype.registerEarlyStart=function(e,t,n){void 0===n&&(n=e),void 0===t&&(t={name:e}),this.performanceDictionary[n]=t},a.prototype.start=function(e,t,n){void 0===n&&(n=e),void 0===t&&(t={name:e}),o.SafePerformanceAPI.removePerformanceMark(n),o.SafePerformanceAPI.addPerformanceMark(n),this.performanceDictionary[n]=t},a.prototype.startUnique=function(e,t){var n=void 0===e?"unnamed":e;e=this.getUniqueTagName(n);return this.start(n,t,e),e},a.prototype.end=function(e,t,n){var r;o.SafePerformanceAPI.addPerformanceMeasure(e,e);var s=o.SafePerformanceAPI.getPerformanceMeasure(e);return void 0===t&&(t=this.getPerformance(e)),s&&t&&(r=Object(i.__assign)(Object(i.__assign)({},t),{startTimeMs:s.startTime,endTimeMs:s.startTime+s.duration,durationMs:s.duration}),this.logPerformance(t.name,r,n),o.SafePerformanceAPI.removePerformanceMark(e),o.SafePerformanceAPI.removePerformanceMeasure(e)),delete this.performanceDictionary[e],r},a.prototype.getPerformance=function(e){if(e in this.performanceDictionary)return this.performanceDictionary[e]},a.prototype.setPerformance=function(e,t,n){return void 0===n&&(n=e),e=!1,n in this.performanceDictionary&&(e=!0,this.performanceDictionary[n]=t),e},a.prototype.getUniqueTagName=function(e){var t=this.uniqueTagCounters[e]||0;return this.uniqueTagCounters[e]=t+1,e+"-"+t},a.prototype.logPerformance=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),Object(r.filterObjectProperties)(t,["name"])),sync:n})},a);function a(e,t){this.loggingService=e,this.logger=t,this.performanceDictionary={},this.uniqueTagCounters={},this.eventType="Performance"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/SafePerformanceAPI.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SafePerformanceAPI",(function(){return i}));var i=(r.addPerformanceMark=function(e){this.isPerformanceAPIUnavailable()||performance.mark(e)},r.removePerformanceMark=function(e){this.isPerformanceAPIUnavailable()||performance.clearMarks(e)},r.addPerformanceMeasure=function(e,t){this.isPerformanceAPIUnavailable()||performance.measure(e,t)},r.removePerformanceMeasure=function(e){this.isPerformanceAPIUnavailable()||performance.clearMeasures(e)},r.getPerformanceMeasure=function(e){if(!this.isPerformanceAPIUnavailable()){for(var t,n=0,i=performance.getEntriesByName(e,"measure");n<i.length;n++){var r=i[n];if(r.name===e){t=r;break}}return t||void 0}},r.isPerformanceAPIUnavailable=function(){return!(performance.getEntriesByType&&performance.getEntriesByName&&performance.mark&&performance.measure&&performance.clearMarks&&performance.clearMeasures)},r);function r(){}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/TraceLogging/TraceLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MaxTraceMessageLength",(function(){return o})),n.d(t,"TraceLogging",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),o=32500,s=(a.prototype.logTrace=function(e,t,n){var s=t.traceId||Object(r.createGuid)(),a=Object(i.__assign)(Object(i.__assign)({},t),{traceId:s,partNumber:0}),c=1,l=0,u=t.message;if(u)for(;l<=u.length;){var d=u.substr(l,o);a.message=d,a.partNumber=c,this.logTracePart(e,a,n),l+=o,c++}return s},a.prototype.logTracePart=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),t),sync:n})},a);function a(e,t){this.loggingService=e,this.logger=t,this.eventType="Trace"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UserActionLogging",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js"),r=(o.prototype.logUserAction=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),t),sync:n})},o);function o(e,t){this.loggingService=e,this.logger=t,this.eventType="UserAction"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.types.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"ActionType",(function(){return i})),(t=i=i||{}).KeyDown="KeyDown",t.LeftClick="LeftClick",t.Submit="Submit",t.Touch="Touch",t.Unknown="Unknown"},"./node_modules/@msstream/utilities-telemetry/esm/utils/RestCallLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RestCallMethodNames",(function(){return i})),n.d(t,"RestCallLogger",(function(){return s}));var i,r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),o=n("./node_modules/@msstream/utilities-telemetry/esm/index.js");(n=i=i||{})[n.GET=0]="GET",n[n.POST=1]="POST",n[n.PUT=2]="PUT",n[n.PATCH=3]="PATCH",n[n.DELETE=4]="DELETE";var s=(a.initialize=function(e){a.loggingService=e},a.logError=function(e){if(null===a.loggingService)throw TypeError("RestCallLogger.logError: loggingService not initialized! Make sure initializeRestCallLogging is called.");var t=r.PrivacyScrubberStubUrls.NotLoadedUrl;a.loggingService.PrivacyScrubber&&(s=[e.urlBase,e.urlPath].join("/"),(c=a.loggingService.PrivacyScrubber.scrubUri(s))&&(t=c===r.InvalidUrlFormatScrubbedValue?r.PrivacyScrubberStubUrls.InvalidUriErrorUrl:c));var n=i[e.method],s=o.StackTraceStatus.Missing,c=e.message||"";void 0!==c&&""!==c||e.error&&("string"==typeof e.error?c=e.error:e.error instanceof Error&&(c=e.error.message,e.error.stack&&(s=e.error.stack))),!e.statusCode&&e.error&&e.error.status&&(e.statusCode=e.error.status),!e.clientRequestId&&e.error&&e.error.headers&&(e.clientRequestId=e.error.headers.get("x-ms-client-request-id")),t={methodName:n,message:c,statusCode:e.statusCode,staticMessage:e.staticMessage,url:t,stack:s,groupings:e.groupings,navbarCorrelationId:e.navbarCorrelationId,clientRequestId:e.clientRequestId},s="RestCallError",e.isFatal?a.loggingService.fatalThin(s,t):a.loggingService.warnThin(s,t)},a.loggingService=null,a);function a(){}},"./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"replaceInvalidFields",(function(){return s})),n.d(t,"getChildrenProperties",(function(){return a})),n.d(t,"filterObjectProperties",(function(){return c})),n.d(t,"getUrl",(function(){return l})),n.d(t,"createGuid",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/index.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return e?e.name||(e.name="undefinedNullOrEmptyEventName"):e={name:"undefinedOrNullEvent"},e}function a(e){var t={};return Object.keys(e).forEach((function(n){"object"!==o(e[n])?t[n]=e[n]:t=Object(i.__assign)(Object(i.__assign)({},t),e[n])})),t}function c(e,t){var n={};return e&&Object.getOwnPropertyNames(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}function l(){var e=null;return document&&document.location&&(e=document.location.href),e}function u(){return Object(r.v4)()}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"BrowserTimingMethod",(function(){return i})),(t=i=i||{}).PerformanceNavigationTiming="PerformanceNavigationTiming",t.NavigationTiming="NavigationTiming",t.Estimated="Estimated"},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isLocalStorageSupported",(function(){return o})),n.d(t,"generateSmallId",(function(){return s})),n.d(t,"isCookiesSupported",(function(){return a})),n.d(t,"isIOS",(function(){return c})),n.d(t,"isIphone",(function(){return l})),n.d(t,"isEmbedded",(function(){return u})),n.d(t,"isMinimumVersionInstalled",(function(){return d})),n.d(t,"isIE",(function(){return p})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return m})),n.d(t,"getLocationOrigin",(function(){return A})),n.d(t,"getBrowserTiming",(function(){return h})),n.d(t,"ensureLocalStorageIsSynced",(function(){return f})),n.d(t,"trapFocusInElement",(function(){return g})),n.d(t,"getBrowserLanguages",(function(){return v})),n.d(t,"createEventTarget",(function(){return y}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js"),r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/Constants/index.js"),o=function(){try{var e=window.localStorage;return void 0!==e&&(e.setItem("key","value"),e.removeItem("key"),!0)}catch(e){return!1}};function s(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz",t="A",n=0;n<10;n++)t+=e[Math.floor(Math.random()*e.length)];return t}function a(){try{var e,t="__cookie_test_key__",n="secure; samesite=none";return document.cookie=t+"=1; "+n,document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t),document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT; "+n,document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}function c(e){if(window.MSStream)return!1;if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)return!1;if(e){var t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return!!t&&d([parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||"0",10)].join("."),e)}return!0}function l(){return/iPhone/.test(navigator.userAgent)&&!window.MSStream}var u=function(){try{return window.top!==window.self}catch(e){return!0}};function d(e,t){for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length),o=0;o<r;o++){var s=parseInt(n[o],10)||0,a=parseInt(i[o],10)||0;if(a<s)return!0;if(s<a)return!1}return!0}function p(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext)}function m(e){return!(!e||!0!==d(e,"30")||!1!==d(e,"30.0.0.154"))}function A(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function h(){if(window.performance&&window.performance.measure){window.performance.measure("MsSinceNavigationStart");var e=window.performance.getEntriesByName("MsSinceNavigationStart","measure");if(1===e.length)return window.performance.clearMeasures("MsSinceNavigationStart"),{Method:i.BrowserTimingMethod.PerformanceNavigationTiming,MsSinceNavigationStart:e[0].duration}}return window.performance&&window.performance.timing?{Method:i.BrowserTimingMethod.NavigationTiming,MsSinceNavigationStart:Date.now()-window.performance.timing.navigationStart}:window.estimatedNavigationStartTime?{Method:i.BrowserTimingMethod.Estimated,MsSinceNavigationStart:Date.now()-window.estimatedNavigationStartTime.getTime()}:void 0}function f(){var e=window.localStorage;void 0!==e&&p()&&e.setItem("bugfix_forceSync",Date.now().toString())}function g(e,t){var n;"Tab"===t.code&&(n=e.querySelectorAll(r.focusableElements.join(", ")),e=document.activeElement,t.shiftKey&&e===n[0]?(t.preventDefault(),n[n.length-1].focus()):t.shiftKey||e!==n[n.length-1]||(t.preventDefault(),n[0].focus()))}function v(){return navigator.languages||[navigator.language]}function y(){try{return new EventTarget}catch(e){return document.createElement("div")}}window.estimatedNavigationStartTime||(window.estimatedNavigationStartTime=new Date)},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"focusableElements",(function(){return i}));var i=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/Constants/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js");n.d(t,"focusableElements",(function(){return i.focusableElements}))},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js":function(e,t,n){"use strict";function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function r(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=i),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null==this)throw TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var r=t,o=0;o<i;){var s=n[o];if(e.call(r,s,o,n))return s;o++}},configurable:!0,writable:!0}),Element.prototype.hasOwnProperty("remove")||Object.defineProperty(Element.prototype,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}n.r(t),n.d(t,"applyCustomPolyfills",(function(){return r}))},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/StorageLock.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keepAliveMs",(function(){return r})),n.d(t,"LocalStorageLock",(function(){return o}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js"),r=2500,o=(Object.defineProperty(s.prototype,"itemName",{get:function(){return"_lslock::"+this.lockId},enumerable:!0,configurable:!0}),s.prototype.lock=function(){return!i.isLocalStorageSupported()||!this.isHeld()&&this.touchLock()},s.prototype.released=function(){var e=this;return i.isLocalStorageSupported()?Promise.resolve():new Promise((function(t){var n=setInterval((function(){e.isHeld()||(clearInterval(n),t())}),500)}))},s.prototype.isMine=function(){return void 0!==this.keepAliveTimerId},s.prototype.unlock=function(){i.isLocalStorageSupported()&&this.keepAliveTimerId&&(this.cancelKeepAliveTimer(),s.storage.removeItem(this.itemName))},s.prototype.isHeld=function(){i.ensureLocalStorageIsSynced();var e=s.storage.getItem(this.itemName);return!!e&&(e=Number(e),!isNaN(e)&&Date.now()-e<=r)},s.prototype.touchLock=function(){try{s.storage.setItem(this.itemName,Date.now().toString())}catch(e){return!1}return this.scheduleNextTouchLock(),!0},s.prototype.scheduleNextTouchLock=function(){var e=this;this.cancelKeepAliveTimer(),this.keepAliveTimerId=window.setTimeout((function(){e.touchLock()}),r/2)},s.prototype.cancelKeepAliveTimer=function(){this.keepAliveTimerId&&(clearTimeout(this.keepAliveTimerId),this.keepAliveTimerId=void 0)},s.storage=i.isLocalStorageSupported()?window.localStorage:null,s);function s(e){this.lockId=e,this.keepAliveTimerId=void 0}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget}));var r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js");n.d(t,"BrowserTimingMethod",(function(){return r.BrowserTimingMethod}));var o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/StorageLock.js");n.d(t,"keepAliveMs",(function(){return o.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return o.LocalStorageLock}));var s=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js");n.d(t,"applyCustomPolyfills",(function(){return s.applyCustomPolyfills}))},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TenantFilterService",(function(){return i}));var i=(r.prototype.getTenantFilterRedirect=function(e){return e&&!1!==this.shouldRedirect(e)?this.getRedirectUrl():null},r.prototype.shouldRedirect=function(e){if(!this.TenantFilterRedirectUrl)return!1;if(this.queryStringBypassStrings.some((function(e){return new RegExp(e,"i").test(window.location.search)})))return!1;var t=this.isTenantAllowed(e);e=this.isTenantDisallowed(e);return!t||e},r.prototype.isTenantAllowed=function(e){return!this.AllowedTenants||0===this.AllowedTenants.length||-1<this.AllowedTenants.indexOf(e)},r.prototype.isTenantDisallowed=function(e){return this.DisallowedTenants&&-1<this.DisallowedTenants.indexOf(e)},r.prototype.getRedirectUrl=function(){return this.TenantFilterRedirectUrl+window.location.pathname},r);function r(e,t,n,i){void 0===i&&(i=[]),this.TenantFilterRedirectUrl=e,this.AllowedTenants=t,this.DisallowedTenants=n,this.queryStringBypassStrings=i,this.queryStringBypassStrings.push("bypass_tenant_redirect")}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/FilterService/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js");n.d(t,"TenantFilterService",(function(){return i.TenantFilterService}))},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Math/Math.js":function(e,t,n){"use strict";function i(e,t,n){return void 0===n&&(n=.001),Math.abs(e*t/r(e,t,n))}function r(e,t,n){return void 0===n&&(n=.001),e<t?r(t,e):Math.abs(t)<n?e:r(t,e-Math.floor(e/t)*t,n)}n.r(t),n.d(t,"lcm_f",(function(){return i})),n.d(t,"gcd_f",(function(){return r}))},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Math/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Math/Math.js");n.d(t,"lcm_f",(function(){return i.lcm_f})),n.d(t,"gcd_f",(function(){return i.gcd_f}))},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Browser/index.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget})),n.d(t,"BrowserTimingMethod",(function(){return i.BrowserTimingMethod})),n.d(t,"keepAliveMs",(function(){return i.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return i.LocalStorageLock})),n.d(t,"applyCustomPolyfills",(function(){return i.applyCustomPolyfills}));var r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/Math/index.js");n.d(t,"lcm_f",(function(){return r.lcm_f})),n.d(t,"gcd_f",(function(){return r.gcd_f}));var o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/shared-services/dist/FilterService/index.js");n.d(t,"TenantFilterService",(function(){return o.TenantFilterService}))},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationFormatter",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.format=function(e){e.PassThroughTokens=o.stringArrayToLowerCase(e.PassThroughTokens),e.ScrubQueryParametersHostNames=o.stringArrayToLowerCase(e.ScrubQueryParametersHostNames),e.ScrubToPartialHostNames=o.stringArrayToLowerCase(e.ScrubToPartialHostNames),e.UriQueryParameters.PassThroughQueryParameters=o.stringArrayToLowerCase(e.UriQueryParameters.PassThroughQueryParameters);var t={};Object.keys(e.UriQueryParameters.ScrubQueryParameters).forEach((function(n){var r=e.UriQueryParameters.ScrubQueryParameters[n];r&&r.type===i.RecognizedUriQueryParameterType.string&&r.acceptedValues&&(r.acceptedValues=o.stringArrayToLowerCase(r.acceptedValues)),t[n.toLowerCase()]=r})),e.UriQueryParameters.ScrubQueryParameters=t},o.stringArrayToLowerCase=function(e){return e.map((function(e){return e.toLowerCase()}))},o);function o(){}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationValidator",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.validate=function(e){var t=this,n="";if(e){if(e.PassThroughTokens||(n+="PassThroughTokens is undefined, define it explicitly as empty if you want to scrubb all tokens.\n"),e.ScrubQueryParametersHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any host name's params to be scrubbed. \n"),e.ScrubToPartialHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any partial host name's to be kept. \n"),e.UriQueryParameters)if(e.UriQueryParameters.PassThroughQueryParameters)if(e.UriQueryParameters.ScrubQueryParameters)for(var r in e.UriQueryParameters.ScrubQueryParameters){var o=e.UriQueryParameters.ScrubQueryParameters[r];o&&o.type===i.RecognizedUriQueryParameterType.number&&o.acceptedValues&&(n+="param "+r+" in ScrubQueryParameters is of type number and has accepted values.                'number' type does not support accepted values")}else n+="UriQueryParameters.ScrubQueryParameters is undefined, define it explicitely as empty if         you do not want any recognized uri query params names to be kept. \n";else n+="UriQueryParameters.PassThroughQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters value to be always kept. \n";else n+="UriQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters to be kept. \n";e.DropEventNames||(n+="DropEventNames is undefined, define it explicitely as empty if you do not want any event to be dropped. \n"),e.GlobalFieldsDictionary?n=this.validateFieldScrubbingDictionary(e.GlobalFieldsDictionary,"GlobalFieldsDictionary",n):n+="GlobalFieldsDictionary is undefined, define it explicitely as empty if you do not want any field to be scrubbed. \n",e.EventFieldsDictionary?Object.keys(e.EventFieldsDictionary).forEach((function(i){var r=e.EventFieldsDictionary[i];n=t.validateFieldScrubbingDictionary(r,"EventFieldsDictionary."+i,n)})):n+="EventFieldsDictionary is undefined, define it explicitely as empty if         you do not want any field to be scrubbed. \n"}else n="PrivacyScrubbingConfig object is undefined and cannot be validated";if(""!==n)throw new Error(n)},o.validateFieldScrubbingDictionary=function(e,t,n){return Object.keys(e).forEach((function(r){r=e[r],Object(i.isNestedFieldArray)(r)?r.forEach((function(e){n+=o.validateNestedField(e,t,n)})):Object(i.isEventFieldScrubbingStategy)(r)||(n+="Entry in FieldScrubbingDictionary was neither a Strategy or complete NestedField under "+t+". \n")})),n},o.validateNestedField=function(e,t,n){return n=o.validateFullPath(e.FullPath,t,n),o.validateEventFieldScrubbingStrategy(e.Strategy,t,n)},o.validateEventFieldScrubbingStrategy=function(e,t,n){return n+(Object(i.isEventFieldScrubbingStategy)(e)?"":"Invalid scrubbing strategy: "+e+" was added as part of dictionary "+t+". \n")},o.validateFullPath=function(e,t,n){e||(n+="Empty or undefined FullPath provided as part of dictionary "+t+" \n");var i=e.match(o.fullPathValidationRegex);return!i||i.length<=0?n+="No match found for the FullPath provided as part of dictionary "+t+" \n":i[0].length!==e.length&&(n+="Incomplete match found for the FullPath provided as part of dictionary "+t+".\n      Verify that your FullPath entry is valid using the following regex: "+o.fullPathValidationRegex.toString()+" \n"),n},o.fullPathValidationRegex=new RegExp(/[a-z][a-zA-Z]*(\.[a-z][a-zA-Z]*)*/),o);function o(){}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"emptyPrivacyScrubbingConfig",(function(){return r})),n.d(t,"testPrivacyScrubbingConfig",(function(){return o})),n.d(t,"DefaultScrubbedValue",(function(){return s})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return a})),n.d(t,"DefaultScrubbedGuidValue",(function(){return c})),n.d(t,"DefaultRedactedText",(function(){return l})),n.d(t,"PrivacyScrubberStubUrls",(function(){return i}));n=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js");var i,r={PassThroughTokens:[],ScrubQueryParametersHostNames:[],ScrubToPartialHostNames:[],UriQueryParameters:{PassThroughQueryParameters:[],ScrubQueryParameters:{}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{}},o={PassThroughTokens:["spo","spo-app-ios","microsoftteams","yammer","onenote","powerpoint","ppt","sbc","stream portal","stream embed","msteams","msteamsbot"],ScrubQueryParametersHostNames:["microsoftstream.com","microsoftstream.us","stream.azure-test.net","hos-barcelonaportal-1-1.cloudapp.net"],ScrubToPartialHostNames:["sharepoint.com","teams.microsoft.com","signup.microsoft.com","learn.microsoft.com","microsoft.com","hubblecontent.osi.office.net","sway.office.com","delve.office.com","forms.office.com","tasks.office.com","office.com","yammer.com","onenote.officeapps.live.com","powerpoint.officeapps.live.com","officeapps.live.com","botframework.com"],UriQueryParameters:{PassThroughQueryParameters:["adminMode","appcorrelation","appplatform","autoPlay","BrowseBack","channelId","mode","displaymode","entryPoint","hasPlayed","id","isInAdminMode","isInDevMode","isInVideoTrimMode","noSignUpCheck","popular","privacy","recommendationVer","refId","showdescription","showheader","signout","sort","srcScreen","st","top","uploadstatus","vid","videoId","videoIsPublished","videoPrivacy"],ScrubQueryParameters:{App:{type:n.RecognizedUriQueryParameterType.string,acceptedValues:["powerpoint"]},ChannelName:void 0,ErrorRedirectedFrom:void 0,fileName:void 0,List:void 0,open:void 0,referrer:void 0,Scope:void 0,SearchTerm:void 0,SearchTermLongKey:void 0,Search:void 0,Source:void 0,State:void 0,src:void 0,UserId:void 0,UserName:void 0,num:{type:n.RecognizedUriQueryParameterType.number},a2:{type:n.RecognizedUriQueryParameterType.string,acceptedValues:["ppt","spo"]},view:{type:n.RecognizedUriQueryParameterType.string,acceptedValues:["video","channel","people","group","highlights","videos","channels","membership","userchannels","uservideos","administrators","spotlightvideos","companypolicies","usagedetails","group","support","comments","facedetection","forgottenusers","personaldata","contentcreation","streamaccess","liveevents","networkcaching","recyclebin","browsechannels","groupchannels","browsegroups","browsevideos","grouphome","groupvideos","groupprincipals"]}}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{url:n.EventFieldScrubbingStrategy.scrub,pageUrl:n.EventFieldScrubbingStrategy.scrub,trafficReferrer:n.EventFieldScrubbingStrategy.scrub,app:n.EventFieldScrubbingStrategy.scrub,viewContext:[{FullPath:"viewContext.url",Strategy:n.EventFieldScrubbingStrategy.scrub}]}},s="SCRUBBED",a="INVALID",c="[GUID]",l="[redacted]";(n=i=i||{}).NotLoadedUrl="https://privacyScrubberNotLoaded/",n.InvalidUriErrorUrl="https://privacyScrubberInvalidUriError/"},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventScrubber",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.prototype.scrub=function(e){var t=!1;return e&&e.data&&(this.scrubGlobalFields(e),this.scrubEventFields(e),t=!0),t},o.prototype.inDropEventList=function(e){return void 0!==e&&-1<this.config.DropEventNames.indexOf(e.name)},o.prototype.scrubEventFields=function(e){e.name in this.config.EventFieldsDictionary&&this.scrubFields(e,this.config.EventFieldsDictionary[e.name])},o.prototype.scrubGlobalFields=function(e){this.scrubFields(e,this.config.GlobalFieldsDictionary)},o.prototype.scrubFields=function(e,t){var n,r=this;if(t&&0<Object.keys(t).length)for(var o in e.data)o in t&&(n=t[o],Object(i.isNestedFieldArray)(n)?n.forEach((function(t){var n=r.getParentObjectByPath(e.data,t.FullPath);n&&r.applyStrategy(n,t.Strategy)})):Object(i.isEventFieldScrubbingStategy)(n)&&this.applyStrategy({parent:e.data,fieldName:o},n))},o.prototype.applyStrategy=function(e,t){var n,r=e.parent,o=e.fieldName;try{t===i.EventFieldScrubbingStrategy.drop?delete r[o]:t!==i.EventFieldScrubbingStrategy.scrub||(n=r[o])&&(n=this.tokenScrubber.scrub(n),r[o]=n)}catch(e){r&&o&&(r[o]=null)}},o.prototype.getParentObjectByPath=function(e,t){if(e&&t){var n=e;e=t.split(".");if(t=e.pop()){for(var i=0,r=e;i<r.length;i++)if(!(n=n[r[i]]))return;if(n[t])return{parent:n,fieldName:t}}}},o);function o(e,t){this.config=e,this.tokenScrubber=t}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SafePathValues",(function(){return i}));var i=["admin","adminsettings","browse","channel","channels","create","embed","error","fallback","followingchannels","group","groups","meetings","recyclebin","studio","update","upload","user","usersettings","video","videos","videoupdate","watchlist","welcome",n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js").DefaultScrubbedGuidValue]},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TokenScrubber",(function(){return i}));var i=(r.prototype.scrub=function(e){var t=this;return e?e instanceof Array?e.map((function(e){return t.scrubTokenInternal(e)})):this.scrubTokenInternal(e):""},r.prototype.scrubTokenInternal=function(e){return void 0===e||-1!==this.config.PassThroughTokens.indexOf(e.toLowerCase())?e:this.uriScrubber.scrub(e)},r);function r(e,t){this.config=e,this.uriScrubber=t}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UriScrubber",(function(){return a}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js"),r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js"),s=n("./node_modules/url-parse/index.js"),a=(c.prototype.scrub=function(e){var t=this,n=new s(e," ",(function(e){return t.parseAndCleanQueryString(e)}));if(n&&(n.hostname||n.pathname)){var r=n.protocol?n.hostname:this.truncatePathToHostname(n.pathname);return""===n.hostname&&n.pathname&&(n.hostname=r,n.pathname=this.truncatePathname(n.pathname,r),n.host=r),r.match(this.validHostNameRegex)?this.isScrubQueryParametersHostName(r)?((e=this.scrubPathname(n.pathname,n.hostname))&&e!==n.pathname&&n.set("pathname",e),(n.protocol?"":c.defaultProtocol+"//")+n.toString()):this.tryKeepPartialHostName(r,n.protocol):i.InvalidUrlFormatScrubbedValue}return i.InvalidUrlFormatScrubbedValue},c.prototype.truncatePathToHostname=function(e){var t=e.indexOf("/");return-1===t?e:e.substr(0,t)},c.prototype.truncatePathname=function(e,t){var n=e.indexOf(t);return-1===n?e:e.substr(n+t.length)},c.prototype.parseAndCleanQueryString=function(e){var t=[];if(e){"?"===e[0]&&(e=e.slice(1,e.length));for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n].split("="),s=void 0,a=void 0;a=2===o.length?(s=o[0],o[1]):void(s=o[0]);if(-1===this.config.UriQueryParameters.PassThroughQueryParameters.indexOf(s.toLowerCase())){if(!(s.toLowerCase()in this.config.UriQueryParameters.ScrubQueryParameters))continue;a&&this.isRecognizedParamAcceptedValue(s,a)||(a=i.DefaultScrubbedValue)}a?t.push(s+"="+a):t.push(s+"=")}}return 0<t.length?"?"+t.join("&"):""},c.prototype.isRecognizedParamAcceptedValue=function(e,t){var n=!1;return(e=this.config.UriQueryParameters.ScrubQueryParameters[e.toLowerCase()])&&(e.type===r.RecognizedUriQueryParameterType.number?n=!0:e.type===r.RecognizedUriQueryParameterType.string&&e.acceptedValues&&(n=-1!==e.acceptedValues.indexOf(t.toLowerCase()))),n},c.prototype.isScrubQueryParametersHostName=function(e){if(e){e=e.toLowerCase();for(var t=0,n=this.config.ScrubQueryParametersHostNames;t<n.length;t++){var i=n[t];if(-1!==e.indexOf(i,e.length-i.length))return!0}}return!1},c.prototype.scrubPathname=function(e,t){return e&&t&&(e=e.replace(this.validGuidRegex,i.DefaultScrubbedGuidValue),t.endsWith("api.microsoftstream.com")||e.split("/").forEach((function(t){t&&o.SafePathValues.indexOf(t)<0&&(e=e.replace(t,i.DefaultRedactedText))}))),e},c.prototype.tryKeepPartialHostName=function(e,t){var n=""!==t?t:c.defaultProtocol;if(e){e=e.toLowerCase();for(var r=0,o=this.config.ScrubToPartialHostNames;r<o.length;r++){var s=o[r];if(-1!==e.indexOf(s,e.length-s.length))return n+"//"+s}}return n+"//"+i.DefaultScrubbedValue},c.defaultProtocol="https:",c);function c(e){this.validHostNameRegex=new RegExp(/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/gm),this.validGuidRegex=/(([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12})/g,this.config=e}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PrivacyScrubber",(function(){return c}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js"),r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js"),o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js"),s=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js"),a=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js"),c=(Object.defineProperty(l.prototype,"InitializationError",{get:function(){return this.initializationError},enumerable:!0,configurable:!0}),l.prototype.scrubUri=function(e){return this.uriScrubber?this.uriScrubber.scrub(e):void 0},l.prototype.scrubEvent=function(e){return!!this.eventScrubber&&(!(!e||e.data)||this.eventScrubber.scrub(e))},l.prototype.inDropEventList=function(e){return!this.eventScrubber||this.eventScrubber.inDropEventList(e)},l);function l(e){try{r.ConfigurationValidator.validate(e)}catch(e){this.initializationError=e.message,this.eventScrubber=void 0}var t;this.initializationError||(i.ConfigurationFormatter.format(e),this.uriScrubber=new a.UriScrubber(e),t=new s.TokenScrubber(e,this.uriScrubber),this.eventScrubber=new o.EventScrubber(e,t))}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,o;n.r(t),n.d(t,"RecognizedUriQueryParameterType",(function(){return r})),n.d(t,"EventFieldScrubbingStrategy",(function(){return o})),n.d(t,"NestedField",(function(){return s})),n.d(t,"isNestedFieldArray",(function(){return a})),n.d(t,"isEventFieldScrubbingStategy",(function(){return c})),(t=r=r||{}).string="string",t.number="number",(t=o=o||{}).scrub="scrub",t.drop="drop";var s=function(){this.FullPath="",this.Strategy=o.scrub};function a(e){var t=!0,n=new s;return null!==e&&"object"===i(e)&&Array.isArray(e)?e.forEach((function(e){Object.keys(n).forEach((function(n){t=t&&n in e}))})):t=!1,t}function c(e){return"string"==typeof e&&e in o}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js");n.d(t,"PrivacyScrubber",(function(){return i.PrivacyScrubber}));var r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js");n.d(t,"RecognizedUriQueryParameterType",(function(){return r.RecognizedUriQueryParameterType})),n.d(t,"EventFieldScrubbingStrategy",(function(){return r.EventFieldScrubbingStrategy})),n.d(t,"NestedField",(function(){return r.NestedField})),n.d(t,"isNestedFieldArray",(function(){return r.isNestedFieldArray})),n.d(t,"isEventFieldScrubbingStategy",(function(){return r.isEventFieldScrubbingStategy}));var o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js");n.d(t,"emptyPrivacyScrubbingConfig",(function(){return o.emptyPrivacyScrubbingConfig})),n.d(t,"testPrivacyScrubbingConfig",(function(){return o.testPrivacyScrubbingConfig})),n.d(t,"DefaultScrubbedValue",(function(){return o.DefaultScrubbedValue})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return o.InvalidUrlFormatScrubbedValue})),n.d(t,"DefaultScrubbedGuidValue",(function(){return o.DefaultScrubbedGuidValue})),n.d(t,"DefaultRedactedText",(function(){return o.DefaultRedactedText})),n.d(t,"PrivacyScrubberStubUrls",(function(){return o.PrivacyScrubberStubUrls}))},"./node_modules/@msstream/utilities-type-safety/esm/Validate.js":function(e,t,n){"use strict";n.r(t),n.d(t,"rtt",(function(){return o})),n.d(t,"validate",(function(){return s}));var i=n("./node_modules/@msstream/utilities-type-safety/esm/assertNever.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={any:{type:"any"},undefined:{type:"undefined"},null:{type:"null"},boolean:{type:"boolean"},number:{type:"number"},string:{type:"string"},literal:function(e){return{type:"literal",value:e}},optional:function(e){return{type:"optional",property:e}},array:function(e){return{type:"array",elementRep:e}},object:function(e){return{type:"object",properties:e}},union:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{type:"union",variants:e}}};function s(e,t){var n=t;switch(n.type){case"any":return!0;case"undefined":return void 0===e;case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"literal":return e===n.value;case"array":return Array.isArray(e)&&(0===e.length||e.every((function(e){return s(e,n.elementRep)})));case"object":return"object"===r(e)&&null!==e&&!Array.isArray(e)&&Object.keys(n.properties).every((function(t){return"optional"===n.properties[t].type?void 0===e[t]||s(e[t],n.properties[t].property):s(e[t],n.properties[t])}));case"union":return n.variants.some((function(t){return s(e,t)}));default:return Object(i.assertNever)(n,"validate: Invalid runtime type representation: '"+t.type+"'")}}},"./node_modules/@msstream/utilities-type-safety/esm/assertNever.js":function(e,t,n){"use strict";function i(e,t){throw new Error(void 0!==t?"Asserted never: "+t:"Asserted never")}n.r(t),n.d(t,"assertNever",(function(){return i}))},"./node_modules/@msstream/utilities-type-safety/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-type-safety/esm/assertNever.js");n.d(t,"assertNever",(function(){return i.assertNever}));var r=n("./node_modules/@msstream/utilities-type-safety/esm/Validate.js");n.d(t,"rtt",(function(){return r.rtt})),n.d(t,"validate",(function(){return r.validate}))},"./node_modules/@uifabric/merge-styles/lib/Stylesheet.js":function(e,t,n){"use strict";n.r(t),n.d(t,"InjectionMode",(function(){return o})),n.d(t,"Stylesheet",(function(){return c}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o={none:0,insertNode:1,appendChild:2},s="__stylesheet__",a={};try{a=window}catch(e){}var c=(l.getInstance=function(){var e;return(!(i=a[s])||i._lastStyleElement&&i._lastStyleElement.ownerDocument!==document)&&(e=a&&a.FabricConfig||{},i=a[s]=new l(e.mergeStyles)),i},l.prototype.setConfig=function(e){this._config=r.__assign({},this._config,e)},l.prototype.onReset=function(e){this._onResetCallbacks.push(e)},l.prototype.getClassName=function(e){var t=this._config.namespace;return(t?t+"-":"")+(e||this._config.defaultPrefix)+"-"+this._counter++},l.prototype.cacheClassName=function(e,t,n,i){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:i}},l.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},l.prototype.argsFromClassName=function(e){return(e=this._classNameToArgs[e])&&e.args},l.prototype.insertedRulesFromClassName=function(e){return(e=this._classNameToArgs[e])&&e.rules},l.prototype.insertRule=function(e,t){var n=this._config.injectionMode!==o.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),n)switch(this._config.injectionMode){case o.insertNode:var i=n.sheet;try{i.insertRule(e,i.cssRules.length)}catch(e){}break;case o.appendChild:n.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e)},l.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},l.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},l.prototype.resetKeys=function(){this._keyToClassName={}},l.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"==typeof document||(this._styleElement=this._createStyleElement(),window.requestAnimationFrame((function(){e._styleElement=void 0}))),this._styleElement},l.prototype._createStyleElement=function(){var e=document.createElement("style");e.setAttribute("data-merge-styles","true");var t=this._config.cspSettings;return t&&t.nonce&&e.setAttribute("nonce",t.nonce),this._lastStyleElement&&this._lastStyleElement.nextElementSibling?document.head.insertBefore(e,this._lastStyleElement.nextElementSibling):document.head.appendChild(e),this._lastStyleElement=e},l);function l(e){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=r.__assign({injectionMode:o.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e)}},"./node_modules/@uifabric/merge-styles/lib/concatStyleSets.js":function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r={},o=0,s=e;o<s.length;o++){var a=s[o];if(a)for(var c in a)if(a.hasOwnProperty(c))if("subComponentStyles"!==c||void 0===a.subComponentStyles){var l=n[c],u=a[c];n[c]=void 0===l?u:(Array.isArray(l)?l:[l]).concat(Array.isArray(u)?u:[u])}else{var d=a.subComponentStyles;for(p in d)d.hasOwnProperty(p)&&(r.hasOwnProperty(p)?r[p].push(d[p]):r[p]=[d[p]])}}if(0<Object.keys(r).length){n.subComponentStyles={};var p,m=n.subComponentStyles;for(p in r)!function(e){var t;r.hasOwnProperty(e)&&(t=r[e],m[e]=function(e){return i.apply(void 0,t.map((function(t){return"function"==typeof t?t(e):t})))})}(p)}return n}n.r(t),n.d(t,"concatStyleSets",(function(){return i}))},"./node_modules/@uifabric/merge-styles/lib/extractStyleParts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"extractStyleParts",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],o=[],s=i.Stylesheet.getInstance();return function e(t){for(var i=0,a=t;i<a.length;i++){var c,l=a[i];l&&("string"==typeof l?0<=l.indexOf(" ")?e(l.split(" ")):(c=s.argsFromClassName(l))?e(c):-1===n.indexOf(l)&&n.push(l):Array.isArray(l)?e(l):"object"===r(l)&&o.push(l))}}(e),{classes:n,objects:o}}},"./node_modules/@uifabric/merge-styles/lib/fontFace.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fontFace",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),r=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function o(e){i.Stylesheet.getInstance().insertRule("@font-face{"+Object(r.serializeRuleEntries)(e)+"}",!0)}},"./node_modules/@uifabric/merge-styles/lib/getVendorSettings.js":function(e,t,n){"use strict";var i;function r(){var e,t,n;return i||(e="undefined"!=typeof document?document:void 0,n=(t="undefined"!=typeof navigator?navigator:void 0)?t.userAgent.toLowerCase():void 0,i=e?{isWebkit:!(!e||!("WebkitAppearance"in e.documentElement.style)),isMoz:!!(n&&-1<n.indexOf("firefox")),isOpera:!!(n&&-1<n.indexOf("opera")),isMs:!(!t||!/rv:11.0/i.test(t.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}),i}function o(e){i=e}n.r(t),n.d(t,"getVendorSettings",(function(){return r})),n.d(t,"setVendorSettings",(function(){return o}))},"./node_modules/@uifabric/merge-styles/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/merge-styles/lib/mergeStyles.js");n.d(t,"mergeStyles",(function(){return i.mergeStyles}));var r=n("./node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js");n.d(t,"mergeStyleSets",(function(){return r.mergeStyleSets}));var o=n("./node_modules/@uifabric/merge-styles/lib/concatStyleSets.js");n.d(t,"concatStyleSets",(function(){return o.concatStyleSets}));var s=n("./node_modules/@uifabric/merge-styles/lib/fontFace.js");n.d(t,"fontFace",(function(){return s.fontFace}));var a=n("./node_modules/@uifabric/merge-styles/lib/keyframes.js");n.d(t,"keyframes",(function(){return a.keyframes}));var c=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js");n.d(t,"InjectionMode",(function(){return c.InjectionMode})),n.d(t,"Stylesheet",(function(){return c.Stylesheet}));var l=n("./node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js");n.d(t,"setRTL",(function(){return l.setRTL})),n("./node_modules/@uifabric/merge-styles/lib/version.js")},"./node_modules/@uifabric/merge-styles/lib/keyframes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keyframes",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),r=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function o(e){var t,n=i.Stylesheet.getInstance(),o=n.getClassName(),s=[];for(t in e)e.hasOwnProperty(t)&&s.push(t,"{",Object(r.serializeRuleEntries)(e[t]),"}");var a=s.join("");return n.insertRule("@keyframes "+o+"{"+a+"}",!0),n.cacheClassName(o,a,[],["keyframes",a]),o}},"./node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyleSets",(function(){return s}));var i=n("./node_modules/@uifabric/merge-styles/lib/extractStyleParts.js"),r=n("./node_modules/@uifabric/merge-styles/lib/concatStyleSets.js"),o=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={subComponentStyles:{}},s={};if(!e[0]&&e.length<=1)return{subComponentStyles:{}};var a,c,l,u=r.concatStyleSets.apply(void 0,e),d=[];for(a in u)u.hasOwnProperty(a)&&("subComponentStyles"!==a?(c=u[a],c=(l=Object(i.extractStyleParts)(c)).classes,l=l.objects,p=Object(o.styleToRegistration)({displayName:a},l),d.push(p),p&&(s[a]=p.className,n[a]=c.concat([p.className]).join(" "))):n.subComponentStyles=u.subComponentStyles||{});for(var p,m=0,A=d;m<A.length;m++)(p=A[m])&&Object(o.applyRegistration)(p,s);return n}},"./node_modules/@uifabric/merge-styles/lib/mergeStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyles",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js"),r=n("./node_modules/@uifabric/merge-styles/lib/extractStyleParts.js");function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,o=(n=Object(r.extractStyleParts)(e)).classes;return(n=n.objects).length&&o.push(Object(i.styleToClassName)(n)),o.join(" ")}},"./node_modules/@uifabric/merge-styles/lib/styleToClassName.js":function(e,t,n){"use strict";n.r(t),n.d(t,"serializeRuleEntries",(function(){return d})),n.d(t,"styleToRegistration",(function(){return p})),n.d(t,"applyRegistration",(function(){return m})),n.d(t,"styleToClassName",(function(){return A}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),r=n("./node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js"),o=n("./node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js"),s=n("./node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js"),a=n("./node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js"),c=/\:global\((.+?)\)/g;function l(e,t){return 0<=e.indexOf(":global(")?e.replace(c,"$1"):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function u(e,t,n){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var r=i.Stylesheet.getInstance(),o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var s=0,a=e;s<a.length;s++){var d=a[s];if("string"==typeof d){var p=r.argsFromClassName(d);p&&u(p,t,n)}else if(Array.isArray(d))u(d,t,n);else for(var m in d)if("selectors"===m){var A,h,f=d.selectors;for(A in f)f.hasOwnProperty(A)&&(h=f[A],0===A.indexOf("@")?u([h],t,A=A+"{"+n):-1<A.indexOf(",")?u([h],t,function(e){if(!c.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,i=null;i=n.exec(e);)-1<i[1].indexOf(",")&&t.push([i.index,i.index+i[0].length,i[1].split(",").map((function(e){return":global("+e.trim()+")"})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],i=t[1];t=t[2];return e.slice(0,n)+t+e.slice(i)}),e)}(A).split(/,/g).map((function(e){return e.trim()})).map((function(e){return l(e,n)})).join(", ")):u([h],t,l(A,n)))}else void 0!==d[m]&&("margin"===m||"padding"===m?function(e,t,n){n="string"==typeof n?n.split(" "):[n],e[t+"Top"]=n[0],e[t+"Right"]=n[1]||n[0],e[t+"Bottom"]=n[2]||n[0],e[t+"Left"]=n[3]||n[1]||n[0]}(o,m,d[m]):o[m]=d[m])}return t}function d(e){if(!e)return"";var t,n=[];for(t in e)e.hasOwnProperty(t)&&"displayName"!==t&&void 0!==e[t]&&n.push(t,e[t]);for(var i=0;i<n.length;i+=2)Object(r.kebabRules)(n,i),Object(s.provideUnits)(n,i),Object(a.rtlifyRules)(n,i),Object(o.prefixRules)(n,i);for(i=1;i<n.length;i+=4)n.splice(i,1,":",n[i],";");return n.join("")}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u(e);if(r=function(e){for(var t=[],n=!1,i=0,r=e.__order;i<r.length;i++){var o=r[i];t.push(o);var s,a=e[o];for(s in a)a.hasOwnProperty(s)&&void 0!==a[s]&&(n=!0,t.push(s,a[s]))}return n?t.join(""):void 0}(n)){var r,o=i.Stylesheet.getInstance();if(!(r={className:o.classNameFromKey(r),key:r,args:e}).className){r.className=o.getClassName((o=(o=n)&&o["&"])?o.displayName:void 0);for(var s=[],a=0,c=n.__order;a<c.length;a++){var l=c[a];s.push(l,d(n[l]))}r.rulesToInsert=s}return r}}function m(e,t){var n=i.Stylesheet.getInstance(),r=e.className,o=e.key,s=e.args,a=e.rulesToInsert;if(a){for(var c=0;c<a.length;c+=2){var l,u=a[c+1];u&&(l=(l=(l=a[c]).replace(/(&)|\$([\w-]+)\b/g,(function(n,i,r){return i?"."+e.className:r?"."+(t&&t[r]||r):""})))+"{"+u+"}"+(0===l.indexOf("@")?"}":""),n.insertRule(l))}n.cacheClassName(r,o,s,a)}}function A(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p.apply(void 0,e);return n?(m(n),n.className):""}},"./node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js":function(e,t,n){"use strict";function i(e,t){e[t]=e[t].replace(/([A-Z])/g,"-$1").toLowerCase()}n.r(t),n.d(t,"kebabRules",(function(){return i}))},"./node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"prefixRules",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/getVendorSettings.js"),r={"user-select":1};function o(e,t){var n=Object(i.getVendorSettings)(),o=e[t];r[o]&&(t=e[t+1],r[o]&&(n.isWebkit&&e.push("-webkit-"+o,t),n.isMoz&&e.push("-moz-"+o,t),n.isMs&&e.push("-ms-"+o,t),n.isOpera&&e.push("-o-"+o,t)))}},"./node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js":function(e,t,n){"use strict";n.r(t),n.d(t,"provideUnits",(function(){return r}));var i=["column-count","font-weight","flex-basis","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function r(e,t){var n=e[t],r=e[t+1];"number"==typeof r&&(n=-1===i.indexOf(n)?"px":"",e[t+1]=r+n)}},"./node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"setRTL",(function(){return l})),n.d(t,"getRTL",(function(){return u})),n.d(t,"rtlifyRules",(function(){return d}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),r="left",o="right",s=((n={})[r]=o,n[o]=r,n),a={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"},c=u();function l(e){c!==e&&(i.Stylesheet.getInstance().resetKeys(),c=e)}function u(){return void 0===c&&(c="undefined"!=typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),c}function d(e,t){if(u()){var n=e[t];if(n){var i=e[t+1];if("string"==typeof i&&0<=i.indexOf("@noflip"))e[t+1]=i.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(0<=n.indexOf(r))e[t]=n.replace(r,o);else if(0<=n.indexOf(o))e[t]=n.replace(o,r);else if(0<=String(i).indexOf(r))e[t+1]=i.replace(r,o);else if(0<=String(i).indexOf(o))e[t+1]=i.replace(o,r);else if(s[n])e[t]=s[n];else if(a[i])e[t+1]=a[i];else switch(n){case"margin":case"padding":e[t+1]=function(e){if("string"==typeof e){var t=e.split(" ");if(4===t.length)return t[0]+" "+t[3]+" "+t[2]+" "+t[1]}return e}(i);break;case"box-shadow":e[t+1]=function(e,t){return e=e.split(" "),t=parseInt(e[t],10),e[0]=e[0].replace(String(t),String(-1*t)),e.join(" ")}(i,0)}}}}},"./node_modules/@uifabric/merge-styles/lib/version.js":function(e,t,n){"use strict";n.r(t),n=n("./node_modules/@uifabric/set-version/lib/index.js"),Object(n.setVersion)("@uifabric/merge-styles","6.17.4")},"./node_modules/@uifabric/set-version/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/set-version/lib/setVersion.js");n.d(t,"setVersion",(function(){return i.setVersion})),Object(i.setVersion)("@uifabric/set-version","6.0.0")},"./node_modules/@uifabric/set-version/lib/setVersion.js":function(e,t,n){"use strict";n.r(t),n.d(t,"setVersion",(function(){return o}));var i={},r=void 0;try{r=window}catch(e){}function o(e,t){var n;void 0!==r&&((n=r.__packages__=r.__packages__||{})[e]&&i[e]||(i[e]=t,(n[e]=n[e]||[]).push(t)))}},"./node_modules/@uifabric/styling/lib/MergeStyles.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");n.d(t,"InjectionMode",(function(){return i.InjectionMode})),n.d(t,"Stylesheet",(function(){return i.Stylesheet})),n.d(t,"concatStyleSets",(function(){return i.concatStyleSets})),n.d(t,"fontFace",(function(){return i.fontFace})),n.d(t,"keyframes",(function(){return i.keyframes})),n.d(t,"mergeStyleSets",(function(){return i.mergeStyleSets})),n.d(t,"mergeStyles",(function(){return i.mergeStyles}))},"./node_modules/@uifabric/styling/lib/classNames/AnimationClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationClassNames",(function(){return i}));t=n("./node_modules/@uifabric/styling/lib/utilities/index.js"),n=n("./node_modules/@uifabric/styling/lib/styles/index.js");var i=Object(t.buildClassMap)(n.AnimationStyles)},"./node_modules/@uifabric/styling/lib/classNames/ColorClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ColorClassNames",(function(){return a}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),o=n("./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js"),s=n("./node_modules/@uifabric/styling/lib/styles/index.js"),a={};for(i in o.DefaultPalette)o.DefaultPalette.hasOwnProperty(i)&&(c(a,i,"",!1,"color"),c(a,i,"Hover",!0,"color"),c(a,i,"Background",!1,"background"),c(a,i,"BackgroundHover",!0,"background"),c(a,i,"Border",!1,"borderColor"),c(a,i,"BorderHover",!0,"borderColor"));function c(e,t,n,i,o){Object.defineProperty(e,t+n,{get:function(){var e=((e={})[o]=Object(s.getTheme)().palette[t],e);return Object(r.mergeStyles)(i?{selectors:{":hover":e}}:e).toString()},enumerable:!0,configurable:!0})}},"./node_modules/@uifabric/styling/lib/classNames/FontClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FontClassNames",(function(){return i}));t=n("./node_modules/@uifabric/styling/lib/utilities/buildClassMap.js"),n=n("./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js");var i=Object(t.buildClassMap)(n.DefaultFontStyles)},"./node_modules/@uifabric/styling/lib/classNames/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/classNames/AnimationClassNames.js");n.d(t,"AnimationClassNames",(function(){return i.AnimationClassNames}));var r=n("./node_modules/@uifabric/styling/lib/classNames/FontClassNames.js");n.d(t,"FontClassNames",(function(){return r.FontClassNames}));var o=n("./node_modules/@uifabric/styling/lib/classNames/ColorClassNames.js");n.d(t,"ColorClassNames",(function(){return o.ColorClassNames}))},"./node_modules/@uifabric/styling/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/classNames/index.js");n.d(t,"AnimationClassNames",(function(){return i.AnimationClassNames})),n.d(t,"FontClassNames",(function(){return i.FontClassNames})),n.d(t,"ColorClassNames",(function(){return i.ColorClassNames}));var r=n("./node_modules/@uifabric/styling/lib/styles/index.js");n.d(t,"AnimationStyles",(function(){return r.AnimationStyles})),n.d(t,"AnimationVariables",(function(){return r.AnimationVariables})),n.d(t,"DefaultPalette",(function(){return r.DefaultPalette})),n.d(t,"DefaultFontStyles",(function(){return r.DefaultFontStyles})),n.d(t,"registerDefaultFontFaces",(function(){return r.registerDefaultFontFaces})),n.d(t,"FontSizes",(function(){return r.FontSizes})),n.d(t,"FontWeights",(function(){return r.FontWeights})),n.d(t,"IconFontSizes",(function(){return r.IconFontSizes})),n.d(t,"createFontStyles",(function(){return r.createFontStyles})),n.d(t,"getFocusStyle",(function(){return r.getFocusStyle})),n.d(t,"focusClear",(function(){return r.focusClear})),n.d(t,"getFocusOutlineStyle",(function(){return r.getFocusOutlineStyle})),n.d(t,"hiddenContentStyle",(function(){return r.hiddenContentStyle})),n.d(t,"PulsingBeaconAnimationStyles",(function(){return r.PulsingBeaconAnimationStyles})),n.d(t,"getGlobalClassNames",(function(){return r.getGlobalClassNames})),n.d(t,"getThemedContext",(function(){return r.getThemedContext})),n.d(t,"ThemeSettingName",(function(){return r.ThemeSettingName})),n.d(t,"getTheme",(function(){return r.getTheme})),n.d(t,"loadTheme",(function(){return r.loadTheme})),n.d(t,"createTheme",(function(){return r.createTheme})),n.d(t,"registerOnThemeChangeCallback",(function(){return r.registerOnThemeChangeCallback})),n.d(t,"removeOnThemeChangeCallback",(function(){return r.removeOnThemeChangeCallback})),n.d(t,"HighContrastSelector",(function(){return r.HighContrastSelector})),n.d(t,"HighContrastSelectorWhite",(function(){return r.HighContrastSelectorWhite})),n.d(t,"HighContrastSelectorBlack",(function(){return r.HighContrastSelectorBlack})),n.d(t,"ScreenWidthMinSmall",(function(){return r.ScreenWidthMinSmall})),n.d(t,"ScreenWidthMinMedium",(function(){return r.ScreenWidthMinMedium})),n.d(t,"ScreenWidthMinLarge",(function(){return r.ScreenWidthMinLarge})),n.d(t,"ScreenWidthMinXLarge",(function(){return r.ScreenWidthMinXLarge})),n.d(t,"ScreenWidthMinXXLarge",(function(){return r.ScreenWidthMinXXLarge})),n.d(t,"ScreenWidthMinXXXLarge",(function(){return r.ScreenWidthMinXXXLarge})),n.d(t,"ScreenWidthMaxSmall",(function(){return r.ScreenWidthMaxSmall})),n.d(t,"ScreenWidthMaxMedium",(function(){return r.ScreenWidthMaxMedium})),n.d(t,"ScreenWidthMaxLarge",(function(){return r.ScreenWidthMaxLarge})),n.d(t,"ScreenWidthMaxXLarge",(function(){return r.ScreenWidthMaxXLarge})),n.d(t,"ScreenWidthMaxXXLarge",(function(){return r.ScreenWidthMaxXXLarge})),n.d(t,"ScreenWidthMinUhfMobile",(function(){return r.ScreenWidthMinUhfMobile})),n.d(t,"getScreenSelector",(function(){return r.getScreenSelector})),n.d(t,"normalize",(function(){return r.normalize})),n.d(t,"noWrap",(function(){return r.noWrap})),n.d(t,"getFadedOverflowStyle",(function(){return r.getFadedOverflowStyle})),n.d(t,"getPlaceholderStyles",(function(){return r.getPlaceholderStyles})),n.d(t,"ZIndexes",(function(){return r.ZIndexes}));var o=n("./node_modules/@uifabric/styling/lib/utilities/index.js");n.d(t,"buildClassMap",(function(){return o.buildClassMap})),n.d(t,"getIcon",(function(){return o.getIcon})),n.d(t,"registerIcons",(function(){return o.registerIcons})),n.d(t,"registerIconAlias",(function(){return o.registerIconAlias})),n.d(t,"unregisterIcons",(function(){return o.unregisterIcons})),n.d(t,"setIconOptions",(function(){return o.setIconOptions})),n.d(t,"getIconClassName",(function(){return o.getIconClassName}));var s=n("./node_modules/@uifabric/styling/lib/MergeStyles.js");n.d(t,"InjectionMode",(function(){return s.InjectionMode})),n.d(t,"Stylesheet",(function(){return s.Stylesheet})),n.d(t,"concatStyleSets",(function(){return s.concatStyleSets})),n.d(t,"fontFace",(function(){return s.fontFace})),n.d(t,"keyframes",(function(){return s.keyframes})),n.d(t,"mergeStyleSets",(function(){return s.mergeStyleSets})),n.d(t,"mergeStyles",(function(){return s.mergeStyles})),n("./node_modules/@uifabric/styling/lib/version.js")},"./node_modules/@uifabric/styling/lib/styles/AnimationStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationVariables",(function(){return V})),n.d(t,"AnimationStyles",(function(){return Q}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r="cubic-bezier(.1,.9,.2,1)",o="cubic-bezier(.1,.25,.75,.9)",s="0.167s",a="0.267s",c="0.367s",l="0.467s",u=Object(i.keyframes)({from:{opacity:0},to:{opacity:1}}),d=Object(i.keyframes)({from:{opacity:1},to:{opacity:0}}),p=$(-10),m=$(-20),A=$(-40),h=$(-400),f=$(10),g=$(20),v=$(40),y=$(400),S=j(10),b=j(20),C=j(-10),E=j(-20),w=Y(10),T=Y(20),P=Y(40),_=Y(400),B=Y(-10),I=Y(-20),D=Y(-40),k=Y(-400),F=G(-10),M=G(-20),U=G(10),N=G(20),L=Object(i.keyframes)({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),x=Object(i.keyframes)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),R=Object(i.keyframes)({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),O=Object(i.keyframes)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),V=(t=Object(i.keyframes)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),n=Object(i.keyframes)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),{easeFunction1:r,easeFunction2:o,durationValue1:s,durationValue2:a,durationValue3:c,durationValue4:l}),Q={slideRightIn10:H(u+","+p,c,r),slideRightIn20:H(u+","+m,c,r),slideRightIn40:H(u+","+A,c,r),slideRightIn400:H(u+","+h,c,r),slideLeftIn10:H(u+","+f,c,r),slideLeftIn20:H(u+","+g,c,r),slideLeftIn40:H(u+","+v,c,r),slideLeftIn400:H(u+","+y,c,r),slideUpIn10:H(u+","+S,c,r),slideUpIn20:H(u+","+b,c,r),slideDownIn10:H(u+","+C,c,r),slideDownIn20:H(u+","+E,c,r),slideRightOut10:H(d+","+w,c,r),slideRightOut20:H(d+","+T,c,r),slideRightOut40:H(d+","+P,c,r),slideRightOut400:H(d+","+_,c,r),slideLeftOut10:H(d+","+B,c,r),slideLeftOut20:H(d+","+I,c,r),slideLeftOut40:H(d+","+D,c,r),slideLeftOut400:H(d+","+k,c,r),slideUpOut10:H(d+","+F,c,r),slideUpOut20:H(d+","+M,c,r),slideDownOut10:H(d+","+U,c,r),slideDownOut20:H(d+","+N,c,r),scaleUpIn100:H(u+","+L,c,r),scaleDownIn100:H(u+","+R,c,r),scaleUpOut103:H(d+","+O,s,o),scaleDownOut98:H(d+","+x,s,o),fadeIn100:H(u,s,o),fadeIn200:H(u,a,o),fadeIn400:H(u,c,o),fadeIn500:H(u,l,o),fadeOut100:H(d,s,o),fadeOut200:H(d,a,o),fadeOut400:H(d,c,o),fadeOut500:H(d,l,o),rotate90deg:H(t,"0.1s",o),rotateN90deg:H(n,"0.1s",o)};function H(e,t,n){return{animationName:e,animationDuration:t,animationTimingFunction:n,animationFillMode:"both"}}function $(e){return Object(i.keyframes)({from:{transform:"translate3d("+e+"px,0,0)"},to:{transform:"translate3d(0,0,0)"}})}function j(e){return Object(i.keyframes)({from:{transform:"translate3d(0,"+e+"px,0)"},to:{transform:"translate3d(0,0,0)"}})}function Y(e){return Object(i.keyframes)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d("+e+"px,0,0)"}})}function G(e){return Object(i.keyframes)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,"+e+"px,0)"}})}},"./node_modules/@uifabric/styling/lib/styles/CommonStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HighContrastSelector",(function(){return i})),n.d(t,"HighContrastSelectorWhite",(function(){return r})),n.d(t,"HighContrastSelectorBlack",(function(){return o})),n.d(t,"ScreenWidthMinSmall",(function(){return s})),n.d(t,"ScreenWidthMinMedium",(function(){return a})),n.d(t,"ScreenWidthMinLarge",(function(){return c})),n.d(t,"ScreenWidthMinXLarge",(function(){return l})),n.d(t,"ScreenWidthMinXXLarge",(function(){return u})),n.d(t,"ScreenWidthMinXXXLarge",(function(){return d})),n.d(t,"ScreenWidthMaxSmall",(function(){return p})),n.d(t,"ScreenWidthMaxMedium",(function(){return m})),n.d(t,"ScreenWidthMaxLarge",(function(){return A})),n.d(t,"ScreenWidthMaxXLarge",(function(){return h})),n.d(t,"ScreenWidthMaxXXLarge",(function(){return f})),n.d(t,"ScreenWidthMinUhfMobile",(function(){return g})),n.d(t,"getScreenSelector",(function(){return v}));var i="@media screen and (-ms-high-contrast: active)",r="@media screen and (-ms-high-contrast: black-on-white)",o="@media screen and (-ms-high-contrast: white-on-black)",s=320,a=480,c=640,l=1024,u=1366,d=1920,p=a-1,m=c-1,A=l-1,h=u-1,f=d-1,g=768;function v(e,t){return"@media only screen and (min-width: "+e+"px) and (max-width: "+t+"px)"}},"./node_modules/@uifabric/styling/lib/styles/DefaultEffects.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultEffects",(function(){return i}));var i={elevation4:"0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",elevation8:"0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",elevation16:"0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",elevation64:"0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)",roundedCorner2:"2px"}},"./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultFontStyles",(function(){return a})),n.d(t,"registerDefaultFontFaces",(function(){return u}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),o=n("./node_modules/@uifabric/styling/lib/styles/fonts.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),a=Object(o.createFontStyles)(Object(s.getLanguage)());function c(e,t,n,i){e="'"+e+"'",i=void 0!==i?"local('"+i+"'),":"",Object(r.fontFace)({fontFamily:e,src:i+"url('"+t+".woff2') format('woff2'),url('"+t+".woff') format('woff')",fontWeight:n,fontStyle:"normal"})}function l(e,t,n,i,r){void 0===i&&(i="segoeui"),c(t,(i=e+"/"+n+"/"+i)+"-light",o.FontWeights.light,r&&r+" Light"),c(t,i+"-semilight",o.FontWeights.semilight,r&&r+" SemiLight"),c(t,i+"-regular",o.FontWeights.regular,r),c(t,i+"-semibold",o.FontWeights.semibold,r&&r+" SemiBold")}function u(e){e&&(l(e+="/fonts",o.LocalizedFontNames.Thai,"leelawadeeui-thai","leelawadeeui"),l(e,o.LocalizedFontNames.Arabic,"segoeui-arabic"),l(e,o.LocalizedFontNames.Cyrillic,"segoeui-cyrillic"),l(e,o.LocalizedFontNames.EastEuropean,"segoeui-easteuropean"),l(e,o.LocalizedFontNames.Greek,"segoeui-greek"),l(e,o.LocalizedFontNames.Hebrew,"segoeui-hebrew"),l(e,o.LocalizedFontNames.Vietnamese,"segoeui-vietnamese"),l(e,o.LocalizedFontNames.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),l(e,o.LocalizedFontFamilies.Selawik,"selawik","selawik"),c("Leelawadee UI Web",e+"/leelawadeeui-thai/leelawadeeui-semilight",o.FontWeights.light),c("Leelawadee UI Web",e+"/leelawadeeui-thai/leelawadeeui-bold",o.FontWeights.semibold))}u((i=(i=Object(s.getWindow)())?i.FabricConfig:void 0)&&void 0!==i.fontBaseUrl?i.fontBaseUrl:"https://static2.sharepointonline.com/files/fabric/assets")},"./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultPalette",(function(){return i}));var i={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"}},"./node_modules/@uifabric/styling/lib/styles/DefaultSpacing.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultSpacing",(function(){return i}));var i={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"}},"./node_modules/@uifabric/styling/lib/styles/GeneralStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"normalize",(function(){return i})),n.d(t,"noWrap",(function(){return r}));var i={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"},r={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"./node_modules/@uifabric/styling/lib/styles/PulsingBeaconAnimationStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PulsingBeaconAnimationStyles",(function(){return l}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");function o(e,t){return{borderColor:e,borderWidth:"0px",width:t,height:t}}function s(e){return{opacity:1,borderWidth:e}}function a(e,t){return{borderWidth:"0",width:t,height:t,opacity:0,borderColor:e}}function c(e,t){return i.__assign({},o(e,t),{opacity:0})}var l={continuousPulseAnimationDouble:function(e,t,n,i,l){return Object(r.keyframes)({"0%":o(e,n),"1.42%":s(l),"3.57%":{opacity:1},"7.14%":a(t,i),"8%":c(e,n),"29.99%":c(e,n),"30%":o(e,n),"31.42%":s(l),"33.57%":{opacity:1},"37.14%":a(t,i),"38%":c(e,n),"79.42%":c(e,n),79.43:o(e,n),81.85:s(l),83.42:{opacity:1},"87%":a(t,i),"100%":{}})},continuousPulseAnimationSingle:function(e,t,n,i,c){return Object(r.keyframes)({"0%":o(e,n),"14.2%":s(c),"35.7%":{opacity:1},"71.4%":a(t,i),"100%":{}})},createDefaultAnimation:function(e,t){return{animationName:e,animationIterationCount:"1",animationDuration:"14s",animationDelay:t||"2s"}}}},"./node_modules/@uifabric/styling/lib/styles/fonts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LocalizedFontNames",(function(){return i})),n.d(t,"LocalizedFontFamilies",(function(){return r})),n.d(t,"FontSizes",(function(){return o})),n.d(t,"FontWeights",(function(){return s})),n.d(t,"IconFontSizes",(function(){return a})),n.d(t,"createFontStyles",(function(){return u}));var i,r;(t=i=i||{}).Arabic="Segoe UI Web (Arabic)",t.Cyrillic="Segoe UI Web (Cyrillic)",t.EastEuropean="Segoe UI Web (East European)",t.Greek="Segoe UI Web (Greek)",t.Hebrew="Segoe UI Web (Hebrew)",t.Thai="Leelawadee UI Web",t.Vietnamese="Segoe UI Web (Vietnamese)",t.WestEuropean="Segoe UI Web (West European)",t.Selawik="Selawik Web",(t=r=r||{}).Arabic="'"+i.Arabic+"'",t.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",t.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",t.Cyrillic="'"+i.Cyrillic+"'",t.EastEuropean="'"+i.EastEuropean+"'",t.Greek="'"+i.Greek+"'",t.Hebrew="'"+i.Hebrew+"'",t.Hindi="'Nirmala UI'",t.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",t.Korean="'Malgun Gothic', Gulim",t.Selawik="'"+i.Selawik+"'",t.Thai="'Leelawadee UI Web', 'Kmer UI'",t.Vietnamese="'"+i.Vietnamese+"'",t.WestEuropean="'"+i.WestEuropean+"'";var o,s,a,c="'Segoe UI', '"+i.WestEuropean+"'",l={ar:r.Arabic,bg:r.Cyrillic,cs:r.EastEuropean,el:r.Greek,et:r.EastEuropean,he:r.Hebrew,hi:r.Hindi,hr:r.EastEuropean,hu:r.EastEuropean,ja:r.Japanese,kk:r.EastEuropean,ko:r.Korean,lt:r.EastEuropean,lv:r.EastEuropean,pl:r.EastEuropean,ru:r.Cyrillic,sk:r.EastEuropean,"sr-latn":r.EastEuropean,th:r.Thai,tr:r.EastEuropean,uk:r.Cyrillic,vi:r.Vietnamese,"zh-hans":r.ChineseSimplified,"zh-hant":r.ChineseTraditional};function u(e){return e=function(e){for(var t in l)if(l.hasOwnProperty(t)&&e&&0===t.indexOf(e))return l[t];return c}(e)+", 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif",{tiny:d(o.mini,s.regular,e),xSmall:d(o.xSmall,s.regular,e),small:d(o.small,s.regular,e),smallPlus:d(o.smallPlus,s.regular,e),medium:d(o.medium,s.regular,e),mediumPlus:d(o.mediumPlus,s.regular,e),large:d(o.large,s.regular,e),xLarge:d(o.xLarge,s.semibold,e),xLargePlus:d(o.xLargePlus,s.semibold,e),xxLarge:d(o.xxLarge,s.semibold,e),xxLargePlus:d(o.xxLargePlus,s.semibold,e),superLarge:d(o.superLarge,s.semibold,e),mega:d(o.mega,s.semibold,e)}}function d(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}(t=o=o||{}).mini="10px",t.xSmall="10px",t.small="12px",t.smallPlus="12px",t.medium="14px",t.mediumPlus="16px",t.icon="16px",t.large="18px",t.xLarge="20px",t.xLargePlus="24px",t.xxLarge="28px",t.xxLargePlus="32px",t.superLarge="42px",t.mega="68px",(t=s=s||{}).light=100,t.semilight=300,t.regular=400,t.semibold=600,t.bold=700,(t=a=a||{}).xSmall="10px",t.small="12px",t.medium="16px",t.large="20px"},"./node_modules/@uifabric/styling/lib/styles/getFadedOverflowStyle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFadedOverflowStyle",(function(){return i}));function i(e,t,n,i,o){return void 0===t&&(t="bodyBackground"),void 0===n&&(n="horizontal"),void 0===i&&(i=r("width",n)),void 0===o&&(o=r("height",n)),{content:'""',position:"absolute",right:0,bottom:0,width:i,height:o,pointerEvents:"none",backgroundImage:"linear-gradient("+("vertical"===n?"to bottom":"to right")+", rgba("+(t=function(e){return"#"===e[0]?{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}:0===e.indexOf("rgba(")?{r:(e=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number))[0],g:e[1],b:e[2]}:{r:255,g:255,b:255}}(e=e.semanticColors[t]||e.palette[t])).r+", "+t.g+", "+t.b+", 0) 0%, "+e+" 100%)"}}function r(e,t){return"width"===e?"horizontal"===t?20:"100%":"vertical"===t?"50%":"100%"}},"./node_modules/@uifabric/styling/lib/styles/getFocusStyle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFocusStyle",(function(){return s})),n.d(t,"focusClear",(function(){return a})),n.d(t,"getFocusOutlineStyle",(function(){return c}));var i=n("./node_modules/@uifabric/styling/lib/styles/CommonStyles.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),o=n("./node_modules/@uifabric/styling/lib/styles/zIndexes.js");function s(e,t,n,s,a,c,l){return function(e,t){void 0===t&&(t={});var n=void 0===(c=t.inset)?0:c,s=void 0===(u=t.width)?1:u,a=void 0===(l=t.position)?"relative":l,c=t.highContrastStyle,l=void 0===(u=t.borderColor)?e.palette.white:u,u=void 0===(u=t.outlineColor)?e.palette.neutralSecondary:u;t=void 0===(t=t.isFocusedOnly)||t;return{outline:"transparent",position:a,selectors:((a={"::-moz-focus-inner":{border:"0"}})["."+r.IsFocusVisibleClassName+" &"+(t?":focus":"")+":after"]={content:'""',position:"absolute",left:n+1,top:n+1,bottom:n+1,right:n+1,border:s+"px solid "+l,outline:s+"px solid "+u,zIndex:o.ZIndexes.FocusStyle,selectors:((u={})[i.HighContrastSelector]=c,u)},a)}}(e,"number"!=typeof t&&t?t:{inset:t,position:n,highContrastStyle:s,borderColor:a,outlineColor:c,isFocusedOnly:l})}function a(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}function c(e,t,n,i){var o;return void 0===t&&(t=0),void 0===n&&(n=1),{selectors:((o={})[":global("+r.IsFocusVisibleClassName+") &:focus"]={outline:n+" solid "+(i||e.palette.neutralSecondary),outlineOffset:-t+"px"},o)}}},"./node_modules/@uifabric/styling/lib/styles/getGlobalClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getGlobalClassNames",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r=(n=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),Object(n.memoizeFunction)((function(e,t){var n=i.Stylesheet.getInstance();return t?Object.keys(e).reduce((function(t,i){return t[i]=n.getClassName(e[i]),t}),{}):e})));function o(e,t,n){return r(e,void 0!==n?n:t.disableGlobalClassNames)}},"./node_modules/@uifabric/styling/lib/styles/getPlaceholderStyles.js":function(e,t,n){"use strict";function i(e){return{selectors:{"::placeholder":e,":-ms-input-placeholder":e,"::-ms-input-placeholder":e}}}n.r(t),n.d(t,"getPlaceholderStyles",(function(){return i}))},"./node_modules/@uifabric/styling/lib/styles/hiddenContentStyle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"hiddenContentStyle",(function(){return i}));var i={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden"}},"./node_modules/@uifabric/styling/lib/styles/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/styles/AnimationStyles.js");n.d(t,"AnimationStyles",(function(){return i.AnimationStyles})),n.d(t,"AnimationVariables",(function(){return i.AnimationVariables}));var r=n("./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js");n.d(t,"DefaultPalette",(function(){return r.DefaultPalette}));var o=n("./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js");n.d(t,"DefaultFontStyles",(function(){return o.DefaultFontStyles})),n.d(t,"registerDefaultFontFaces",(function(){return o.registerDefaultFontFaces}));var s=n("./node_modules/@uifabric/styling/lib/styles/fonts.js");n.d(t,"FontSizes",(function(){return s.FontSizes})),n.d(t,"FontWeights",(function(){return s.FontWeights})),n.d(t,"IconFontSizes",(function(){return s.IconFontSizes})),n.d(t,"createFontStyles",(function(){return s.createFontStyles}));var a=n("./node_modules/@uifabric/styling/lib/styles/getFocusStyle.js");n.d(t,"getFocusStyle",(function(){return a.getFocusStyle})),n.d(t,"focusClear",(function(){return a.focusClear})),n.d(t,"getFocusOutlineStyle",(function(){return a.getFocusOutlineStyle}));var c=n("./node_modules/@uifabric/styling/lib/styles/hiddenContentStyle.js");n.d(t,"hiddenContentStyle",(function(){return c.hiddenContentStyle}));var l=n("./node_modules/@uifabric/styling/lib/styles/PulsingBeaconAnimationStyles.js");n.d(t,"PulsingBeaconAnimationStyles",(function(){return l.PulsingBeaconAnimationStyles}));var u=n("./node_modules/@uifabric/styling/lib/styles/getGlobalClassNames.js");n.d(t,"getGlobalClassNames",(function(){return u.getGlobalClassNames}));var d=n("./node_modules/@uifabric/styling/lib/styles/scheme.js");n.d(t,"getThemedContext",(function(){return d.getThemedContext}));var p=n("./node_modules/@uifabric/styling/lib/styles/theme.js");n.d(t,"ThemeSettingName",(function(){return p.ThemeSettingName})),n.d(t,"getTheme",(function(){return p.getTheme})),n.d(t,"loadTheme",(function(){return p.loadTheme})),n.d(t,"createTheme",(function(){return p.createTheme})),n.d(t,"registerOnThemeChangeCallback",(function(){return p.registerOnThemeChangeCallback})),n.d(t,"removeOnThemeChangeCallback",(function(){return p.removeOnThemeChangeCallback}));var m=n("./node_modules/@uifabric/styling/lib/styles/CommonStyles.js");n.d(t,"HighContrastSelector",(function(){return m.HighContrastSelector})),n.d(t,"HighContrastSelectorWhite",(function(){return m.HighContrastSelectorWhite})),n.d(t,"HighContrastSelectorBlack",(function(){return m.HighContrastSelectorBlack})),n.d(t,"ScreenWidthMinSmall",(function(){return m.ScreenWidthMinSmall})),n.d(t,"ScreenWidthMinMedium",(function(){return m.ScreenWidthMinMedium})),n.d(t,"ScreenWidthMinLarge",(function(){return m.ScreenWidthMinLarge})),n.d(t,"ScreenWidthMinXLarge",(function(){return m.ScreenWidthMinXLarge})),n.d(t,"ScreenWidthMinXXLarge",(function(){return m.ScreenWidthMinXXLarge})),n.d(t,"ScreenWidthMinXXXLarge",(function(){return m.ScreenWidthMinXXXLarge})),n.d(t,"ScreenWidthMaxSmall",(function(){return m.ScreenWidthMaxSmall})),n.d(t,"ScreenWidthMaxMedium",(function(){return m.ScreenWidthMaxMedium})),n.d(t,"ScreenWidthMaxLarge",(function(){return m.ScreenWidthMaxLarge})),n.d(t,"ScreenWidthMaxXLarge",(function(){return m.ScreenWidthMaxXLarge})),n.d(t,"ScreenWidthMaxXXLarge",(function(){return m.ScreenWidthMaxXXLarge})),n.d(t,"ScreenWidthMinUhfMobile",(function(){return m.ScreenWidthMinUhfMobile})),n.d(t,"getScreenSelector",(function(){return m.getScreenSelector}));var A=n("./node_modules/@uifabric/styling/lib/styles/GeneralStyles.js");n.d(t,"normalize",(function(){return A.normalize})),n.d(t,"noWrap",(function(){return A.noWrap}));var h=n("./node_modules/@uifabric/styling/lib/styles/getFadedOverflowStyle.js");n.d(t,"getFadedOverflowStyle",(function(){return h.getFadedOverflowStyle}));var f=n("./node_modules/@uifabric/styling/lib/styles/getPlaceholderStyles.js");n.d(t,"getPlaceholderStyles",(function(){return f.getPlaceholderStyles}));var g=n("./node_modules/@uifabric/styling/lib/styles/zIndexes.js");n.d(t,"ZIndexes",(function(){return g.ZIndexes}))},"./node_modules/@uifabric/styling/lib/styles/scheme.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getThemedContext",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js");function r(e,t,n){var r,o=e,s=n||i.Customizations.getSettings(["theme"],void 0,e.customizations).theme;return n&&(r={theme:n}),t=t&&s&&s.schemes&&s.schemes[t],s&&t&&s!==t&&((r={theme:t}).theme.schemes=s.schemes),r&&(o={customizations:{settings:Object(i.mergeSettings)(e.customizations.settings,r),scopedSettings:e.customizations.scopedSettings}}),o}},"./node_modules/@uifabric/styling/lib/styles/theme.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ThemeSettingName",(function(){return p})),n.d(t,"getTheme",(function(){return m})),n.d(t,"registerOnThemeChangeCallback",(function(){return A})),n.d(t,"removeOnThemeChangeCallback",(function(){return h})),n.d(t,"loadTheme",(function(){return f})),n.d(t,"createTheme",(function(){return g}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),o=n("./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js"),s=n("./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js"),a=n("./node_modules/@uifabric/styling/lib/styles/DefaultSpacing.js"),c=n("./node_modules/@microsoft/load-themed-styles/lib-es6/index.js"),l=n("./node_modules/@uifabric/styling/lib/styles/DefaultEffects.js"),u=g({palette:s.DefaultPalette,semanticColors:v(s.DefaultPalette,!1,!1),fonts:o.DefaultFontStyles,isInverted:!1,disableGlobalClassNames:!1}),d=[],p="theme";function m(e){return void 0===e&&(e=!1),!0===e&&(u=g({},e)),u}function A(e){-1===d.indexOf(e)&&d.push(e)}function h(e){-1!==(e=d.indexOf(e))&&d.splice(e,1)}function f(e,t){return void 0===t&&(t=!1),u=g(e,t),Object(c.loadTheme)(i.__assign({},u.palette,u.semanticColors,u.effects,function(e){for(var t={},n=0,i=Object.keys(e.fonts);n<i.length;n++)for(var r=i[n],o=e.fonts[r],s=0,a=Object.keys(o);s<a.length;s++){var c=a[s],l="ms-font-"+r+"-"+c;t[l]='"[theme:'+l+", default: "+o[c]+']"'}return t}(u))),r.Customizations.applySettings(((t={})[p]=u,t)),d.forEach((function(e){try{e(u)}catch(e){}})),u}function g(e,t){void 0===t&&(t=!1);var n=i.__assign({},s.DefaultPalette,e.palette);e.palette&&e.palette.accent||(n.accent=n.themePrimary);t=i.__assign({},v(n,!!e.isInverted,t),e.semanticColors);var c=i.__assign({},o.DefaultFontStyles);if(e.defaultFontStyle)for(var u=0,d=Object.keys(c);u<d.length;u++)c[p=d[u]]=Object(r.merge)({},c[p],e.defaultFontStyle);if(e.fonts)for(var p,m=0,A=Object.keys(e.fonts);m<A.length;m++)c[p=A[m]]=Object(r.merge)({},c[p],e.fonts[p]);return{palette:n,fonts:i.__assign({},c),semanticColors:t,isInverted:!!e.isInverted,disableGlobalClassNames:!!e.disableGlobalClassNames,spacing:i.__assign({},a.DefaultSpacing,e.spacing),effects:i.__assign({},l.DefaultEffects,e.effects)}}function v(e,t,n){return function(e,t){var n="";return!0===t&&(n=" /* @deprecated */"),e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e}({bodyBackground:e.white,bodyStandoutBackground:e.neutralLighterAlt,bodyFrameBackground:e.white,bodyFrameDivider:e.neutralLight,bodyText:e.neutralPrimary,bodyTextChecked:e.black,bodySubtext:e.neutralSecondary,bodyDivider:e.neutralLight,disabledBackground:e.neutralLighter,disabledText:e.neutralTertiary,disabledBodyText:e.neutralTertiary,disabledSubtext:e.neutralQuaternary,disabledBodySubtext:e.neutralTertiaryAlt,focusBorder:e.neutralSecondary,variantBorder:e.neutralLight,variantBorderHovered:e.neutralTertiary,defaultStateBackground:e.neutralLighterAlt,errorText:t?"#ff5f5f":e.redDark,warningText:t?"#ffffff":"#333333",errorBackground:t?"rgba(232, 17, 35, .5)":"rgba(245, 135, 145, .2)",blockingBackground:t?"rgba(234, 67, 0, .5)":"rgba(250, 65, 0, .2)",warningBackground:t?"rgba(255, 251, 0, .6)":"rgba(255, 200, 10, .2)",warningHighlight:t?"#fff100":"#ffb900",successBackground:t?"rgba(186, 216, 10, .4)":"rgba(95, 210, 85, .2)",inputBorder:e.neutralSecondaryAlt,inputBorderHovered:e.neutralPrimary,inputBackground:e.white,inputBackgroundChecked:e.themePrimary,inputBackgroundCheckedHovered:e.themeDarkAlt,inputForegroundChecked:e.white,inputFocusBorderAlt:e.themePrimary,smallInputBorder:e.neutralSecondary,inputText:e.neutralPrimary,inputTextHovered:e.neutralDark,inputPlaceholderText:e.neutralSecondary,buttonBackground:e.neutralLighter,buttonBackgroundChecked:e.neutralTertiaryAlt,buttonBackgroundHovered:e.neutralLight,buttonBackgroundCheckedHovered:e.neutralLight,buttonBackgroundPressed:e.neutralLight,buttonBackgroundDisabled:e.neutralLighter,buttonBorder:e.neutralSecondaryAlt,buttonText:e.neutralPrimary,buttonTextHovered:e.neutralDark,buttonTextChecked:e.neutralDark,buttonTextCheckedHovered:e.black,buttonTextPressed:e.neutralDark,buttonTextDisabled:e.neutralTertiary,buttonBorderDisabled:e.neutralLighter,primaryButtonBackground:e.themePrimary,primaryButtonBackgroundHovered:e.themeDarkAlt,primaryButtonBackgroundPressed:e.themeDark,primaryButtonBackgroundDisabled:e.neutralLighter,primaryButtonBorder:"transparent",primaryButtonText:e.white,primaryButtonTextHovered:e.white,primaryButtonTextPressed:e.white,primaryButtonTextDisabled:e.neutralQuaternary,accentButtonBackground:e.accent,accentButtonText:e.white,menuBackground:e.white,menuDivider:e.neutralTertiaryAlt,menuIcon:e.themePrimary,menuHeader:e.themePrimary,menuItemBackgroundHovered:e.neutralLighter,menuItemBackgroundPressed:e.neutralLight,menuItemText:e.neutralPrimary,menuItemTextHovered:e.neutralDark,listBackground:e.white,listText:e.neutralPrimary,listItemBackgroundHovered:e.neutralLighter,listItemBackgroundChecked:e.neutralLight,listItemBackgroundCheckedHovered:e.neutralQuaternaryAlt,listHeaderBackgroundHovered:e.neutralLighter,listHeaderBackgroundPressed:e.neutralLight,actionLink:e.neutralPrimary,actionLinkHovered:e.neutralDark,link:e.themePrimary,linkHovered:e.themeDarker,listTextColor:"",menuItemBackgroundChecked:e.neutralLight},n)}r.Customizations.getSettings([p]).theme||((n=Object(r.getWindow)())&&n.FabricConfig&&n.FabricConfig.theme&&(u=g(n.FabricConfig.theme)),r.Customizations.applySettings(((n={})[p]=u,n)))},"./node_modules/@uifabric/styling/lib/styles/zIndexes.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"ZIndexes",(function(){return i})),(t=i=i||{}).Nav=1,t.ScrollablePane=1,t.FocusStyle=1,t.Coachmark=1e3,t.Layer=1e6,t.KeytipLayer=1000001},"./node_modules/@uifabric/styling/lib/utilities/buildClassMap.js":function(e,t,n){"use strict";n.r(t),n.d(t,"buildClassMap",(function(){return r}));var i=n("./node_modules/@uifabric/styling/lib/MergeStyles.js");function r(e){var t,n={};for(t in e)!function(t){var r;e.hasOwnProperty(t)&&Object.defineProperty(n,t,{get:function(){return void 0===r&&(r=Object(i.mergeStyles)(e[t]).toString()),r},enumerable:!0,configurable:!0})}(t);return n}},"./node_modules/@uifabric/styling/lib/utilities/getIconClassName.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getIconClassName",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r=n("./node_modules/@uifabric/styling/lib/utilities/icons.js"),o={display:"inline-block"};function s(e){var t="";return(e=Object(r.getIcon)(e))&&(t=Object(i.mergeStyles)(e.subset.className,o,{selectors:{"::before":{content:'"'+e.code+'"'}}})),t}},"./node_modules/@uifabric/styling/lib/utilities/icons.js":function(e,t,n){"use strict";n.r(t),n.d(t,"registerIcons",(function(){return c})),n.d(t,"unregisterIcons",(function(){return l})),n.d(t,"registerIconAlias",(function(){return u})),n.d(t,"getIcon",(function(){return d})),n.d(t,"setIconOptions",(function(){return p}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),s=r.GlobalSettings.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}});(n=o.Stylesheet.getInstance())&&n.onReset&&n.onReset((function(){for(var e in s)s.hasOwnProperty(e)&&s[e].subset&&(s[e].subset.className=void 0)}));var a=function(e){return e.toLowerCase()};function c(e,t){var n,o,c,l,u=i.__assign({},e,{isRegistered:!1,className:void 0}),d=e.icons;for(n in t=t?i.__assign({},s.__options,t):s.__options,d)d.hasOwnProperty(n)&&(o=d[n],c=a(n),s[c]?(l=n,s.__options.disableWarnings||(m.push(l),void 0===A&&(A=setTimeout((function(){Object(r.warn)("Some icons were re-registered. Applications should only call registerIcons for any given icon once. Redefining what an icon is may have unintended consequences. Duplicates include: \n"+m.slice(0,10).join(", ")+(10<m.length?" (+ "+(m.length-10)+" more)":"")),A=void 0,m=[]}),2e3)))):s[c]={code:o,subset:u})}function l(e){for(var t=s.__options,n=0,i=e;n<i.length;n++)!function(e){var n=a(e);s[n]?delete s[n]:t.disableWarnings||Object(r.warn)('The icon "'+e+'" tried to unregister but was not registered.'),s.__remapped[n]&&delete s.__remapped[n],Object.keys(s.__remapped).forEach((function(e){s.__remapped[e]===n&&delete s.__remapped[e]}))}(i[n])}function u(e,t){s.__remapped[a(e)]=a(t)}function d(e){var t,n=void 0,i=s.__options;return e=e?a(e):"",(e=s.__remapped[e]||e)&&((n=s[e])?(t=n.subset)&&t.fontFace&&(t.isRegistered||(Object(o.fontFace)(t.fontFace),t.isRegistered=!0),t.className||(t.className=Object(o.mergeStyles)(t.style,{fontFamily:t.fontFace.fontFamily,fontWeight:t.fontFace.fontWeight||"normal",fontStyle:t.fontFace.fontStyle||"normal"}))):!i.disableWarnings&&i.warnOnMissingIcons&&Object(r.warn)('The icon "'+e+'" was used but not registered. See http://aka.ms/fabric-icon-usage for more information.')),n}function p(e){s.__options=i.__assign({},s.__options,e)}var m=[],A=void 0},"./node_modules/@uifabric/styling/lib/utilities/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/utilities/buildClassMap.js");n.d(t,"buildClassMap",(function(){return i.buildClassMap}));var r=n("./node_modules/@uifabric/styling/lib/utilities/icons.js");n.d(t,"getIcon",(function(){return r.getIcon})),n.d(t,"registerIcons",(function(){return r.registerIcons})),n.d(t,"registerIconAlias",(function(){return r.registerIconAlias})),n.d(t,"unregisterIcons",(function(){return r.unregisterIcons})),n.d(t,"setIconOptions",(function(){return r.setIconOptions}));var o=n("./node_modules/@uifabric/styling/lib/utilities/getIconClassName.js");n.d(t,"getIconClassName",(function(){return o.getIconClassName}))},"./node_modules/@uifabric/styling/lib/version.js":function(e,t,n){"use strict";n.r(t),n=n("./node_modules/@uifabric/set-version/lib/index.js"),Object(n.setVersion)("@uifabric/styling","6.47.6")},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js":function(e,t,n){"use strict";function i(e){o!==e&&(o=e)}function r(){return void 0===o&&(o="undefined"!=typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),o}var o;function s(){return{rtl:r()}}n.r(t),n.d(t,"setRTL",(function(){return i})),n.d(t,"getRTL",(function(){return r})),n.d(t,"getStyleOptions",(function(){return s})),o=r()},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js":function(e,t,n){"use strict";n.r(t),n.d(t,"InjectionMode",(function(){return o})),n.d(t,"Stylesheet",(function(){return l}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o={none:0,insertNode:1,appendChild:2},s="__stylesheet__",a="undefined"!=typeof navigator&&/rv:11.0/.test(navigator.userAgent),c={};try{c=window}catch(e){}var l=(u.getInstance=function(){var e;return(!(i=c[s])||i._lastStyleElement&&i._lastStyleElement.ownerDocument!==document)&&(e=(null==c?void 0:c.FabricConfig)||{},i=c[s]=new u(e.mergeStyles)),i},u.prototype.setConfig=function(e){this._config=Object(r.__assign)(Object(r.__assign)({},this._config),e)},u.prototype.onReset=function(e){this._onResetCallbacks.push(e)},u.prototype.getClassName=function(e){var t=this._config.namespace;return(t?t+"-":"")+(e||this._config.defaultPrefix)+"-"+this._counter++},u.prototype.cacheClassName=function(e,t,n,i){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:i}},u.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},u.prototype.getClassNameCache=function(){return this._keyToClassName},u.prototype.argsFromClassName=function(e){return(e=this._classNameToArgs[e])&&e.args},u.prototype.insertedRulesFromClassName=function(e){return(e=this._classNameToArgs[e])&&e.rules},u.prototype.insertRule=function(e,t){var n=this._config.injectionMode!==o.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),n)switch(this._config.injectionMode){case o.insertNode:var i=n.sheet;try{i.insertRule(e,i.cssRules.length)}catch(e){}break;case o.appendChild:n.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e)},u.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},u.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},u.prototype.resetKeys=function(){this._keyToClassName={}},u.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"==typeof document||(this._styleElement=this._createStyleElement(),a||window.requestAnimationFrame((function(){e._styleElement=void 0}))),this._styleElement},u.prototype._createStyleElement=function(){var e=document.head,t=document.createElement("style");t.setAttribute("data-merge-styles","true");var n=this._config.cspSettings;return n&&n.nonce&&t.setAttribute("nonce",n.nonce),this._lastStyleElement?e.insertBefore(t,this._lastStyleElement.nextElementSibling):(n=this._findPlaceholderStyleTag())?e.insertBefore(t,n.nextElementSibling):e.insertBefore(t,e.childNodes[0]),this._lastStyleElement=t},u.prototype._findPlaceholderStyleTag=function(){var e=document.head;return e?e.querySelector("style[data-merge-styles]"):null},u);function u(e){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=Object(r.__assign)({injectionMode:o.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e),this._keyToClassName=this._config.classNameCache||{}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js":function(e,t,n){"use strict";n.r(t),n.d(t,"concatStyleSets",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js");function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&1===e.length&&e[0]&&!e[0].subComponentStyles)return e[0];for(var n={},o={},s=0,a=e;s<a.length;s++){var c=a[s];if(c)for(var l in c)if(c.hasOwnProperty(l))if("subComponentStyles"!==l||void 0===c.subComponentStyles){var u=n[l],d=c[l];n[l]=void 0===u?d:Object(i.__spreadArrays)(Array.isArray(u)?u:[u],Array.isArray(d)?d:[d])}else{var p=c.subComponentStyles;for(m in p)p.hasOwnProperty(m)&&(o.hasOwnProperty(m)?o[m].push(p[m]):o[m]=[p[m]])}}if(0<Object.keys(o).length){n.subComponentStyles={};var m,A=n.subComponentStyles;for(m in o)!function(e){var t;o.hasOwnProperty(e)&&(t=o[e],A[e]=function(e){return r.apply(void 0,t.map((function(t){return"function"==typeof t?t(e):t})))})}(m)}return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSetsWithProps.js":function(e,t,n){"use strict";n.r(t),n.d(t,"concatStyleSetsWithProps",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js");function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=[],o=0,s=t;o<s.length;o++){var a=s[o];a&&r.push("function"==typeof a?a(e):a)}return 1===r.length?r[0]:r.length?i.concatStyleSets.apply(void 0,r):{}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/extractStyleParts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"extractStyleParts",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],o=[],s=i.Stylesheet.getInstance();return function e(t){for(var i=0,a=t;i<a.length;i++){var c,l=a[i];l&&("string"==typeof l?0<=l.indexOf(" ")?e(l.split(" ")):(c=s.argsFromClassName(l))?e(c):-1===n.indexOf(l)&&n.push(l):Array.isArray(l)?e(l):"object"===r(l)&&o.push(l))}}(e),{classes:n,objects:o}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/fontFace.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fontFace",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(e){r.Stylesheet.getInstance().insertRule("@font-face{"+Object(o.serializeRuleEntries)(Object(i.getStyleOptions)(),e)+"}",!0)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/getVendorSettings.js":function(e,t,n){"use strict";var i;function r(){var e,t,n;return i||(e="undefined"!=typeof document?document:void 0,n=(t="undefined"!=typeof navigator?navigator:void 0)?t.userAgent.toLowerCase():void 0,i=e?{isWebkit:!(!e||!("WebkitAppearance"in e.documentElement.style)),isMoz:!!(n&&-1<n.indexOf("firefox")),isOpera:!!(n&&-1<n.indexOf("opera")),isMs:!(!t||!/rv:11.0/i.test(t.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}),i}function o(e){i=e}n.r(t),n.d(t,"getVendorSettings",(function(){return r})),n.d(t,"setVendorSettings",(function(){return o}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyles.js");n.d(t,"mergeStyles",(function(){return i.mergeStyles})),n.d(t,"mergeCss",(function(){return i.mergeCss}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js");n.d(t,"mergeStyleSets",(function(){return r.mergeStyleSets})),n.d(t,"mergeCssSets",(function(){return r.mergeCssSets}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js");n.d(t,"concatStyleSets",(function(){return o.concatStyleSets}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSetsWithProps.js");n.d(t,"concatStyleSetsWithProps",(function(){return s.concatStyleSetsWithProps}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/fontFace.js");n.d(t,"fontFace",(function(){return a.fontFace}));var c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/keyframes.js");n.d(t,"keyframes",(function(){return c.keyframes}));var l=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js");n.d(t,"InjectionMode",(function(){return l.InjectionMode})),n.d(t,"Stylesheet",(function(){return l.Stylesheet}));var u=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js");n.d(t,"setRTL",(function(){return u.setRTL})),n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/version.js")},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/keyframes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keyframes",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(e){var t,n=r.Stylesheet.getInstance(),s=n.getClassName(),a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t,"{",Object(o.serializeRuleEntries)(Object(i.getStyleOptions)(),e[t]),"}");var c=a.join("");return n.insertRule("@keyframes "+s+"{"+c+"}",!0),n.cacheClassName(s,c,[],["keyframes",c]),s}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyleSets",(function(){return a})),n.d(t,"mergeCssSets",(function(){return c}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/extractStyleParts.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(e,Object(o.getStyleOptions)())}function c(e,t){var n={subComponentStyles:{}};if(!e[0]&&e.length<=1)return{subComponentStyles:{}};var o,a,c,l=i.concatStyleSets.apply(void 0,e),u=[];for(o in l)l.hasOwnProperty(o)&&("subComponentStyles"!==o?(a=l[o],a=(c=Object(r.extractStyleParts)(a)).classes,null!==(c=c.objects)&&void 0!==c&&c.length?(d=Object(s.styleToRegistration)(t||{},{displayName:o},c))&&(u.push(d),n[o]=a.concat([d.className]).join(" ")):n[o]=a.join(" ")):n.subComponentStyles=l.subComponentStyles||{});for(var d,p=0,m=u;p<m.length;p++)(d=m[p])&&Object(s.applyRegistration)(d,null==t?void 0:t.specificityMultiplier);return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyles",(function(){return s})),n.d(t,"mergeCss",(function(){return a}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/extractStyleParts.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e,Object(r.getStyleOptions)())}function a(e,t){var n=e instanceof Array?e:[e];n=(e=Object(i.extractStyleParts)(n)).classes;return(e=e.objects).length&&n.push(Object(o.styleToClassName)(t||{},e)),n.join(" ")}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js":function(e,t,n){"use strict";n.r(t),n.d(t,"serializeRuleEntries",(function(){return A})),n.d(t,"styleToRegistration",(function(){return h})),n.d(t,"applyRegistration",(function(){return f})),n.d(t,"styleToClassName",(function(){return g}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js"),c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=/\:global\((.+?)\)/g;function d(e,t){return 0<=e.indexOf(":global(")?e.replace(u,"$1"):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function p(e,t,n,i){void 0===t&&(t={__order:[]}),0===n.indexOf("@")?m([i],t,n=n+"{"+e):-1<n.indexOf(",")?function(e){if(!u.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,i=null;i=n.exec(e);)-1<i[1].indexOf(",")&&t.push([i.index,i.index+i[0].length,i[1].split(",").map((function(e){return":global("+e.trim()+")"})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],i=t[1];t=t[2];return e.slice(0,n)+t+e.slice(i)}),e)}(n).split(",").map((function(e){return e.trim()})).forEach((function(n){return m([i],t,d(n,e))})):m([i],t,d(n,e))}function m(e,t,n){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var i=r.Stylesheet.getInstance(),o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var s=0,a=e;s<a.length;s++){var c=a[s];if("string"==typeof c){var u=i.argsFromClassName(c);u&&m(u,t,n)}else if(Array.isArray(c))m(c,t,n);else for(var d in c)if(c.hasOwnProperty(d)){var A=c[d];if("selectors"===d){var h,f=c.selectors;for(h in f)f.hasOwnProperty(h)&&p(n,t,h,f[h])}else"object"===l(A)?null!==A&&p(n,t,d,A):void 0!==A&&("margin"===d||"padding"===d?function(e,t,n){n="string"==typeof n?n.split(" "):[n],e[t+"Top"]=n[0],e[t+"Right"]=n[1]||n[0],e[t+"Bottom"]=n[2]||n[0],e[t+"Left"]=n[3]||n[1]||n[0]}(o,d,A):o[d]=A)}}return t}function A(e,t){if(!t)return"";var n,i=[];for(n in t)t.hasOwnProperty(n)&&"displayName"!==n&&void 0!==t[n]&&i.push(n,t[n]);for(var r=0;r<i.length;r+=2)Object(o.kebabRules)(i,r),Object(a.provideUnits)(i,r),Object(c.rtlifyRules)(e,i,r),Object(s.prefixRules)(i,r);for(r=1;r<i.length;r+=4)i.splice(r,1,":",i[r],";");return i.join("")}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=m(t);if(o=function(e,t){for(var n=[e.rtl?"rtl":"ltr"],i=!1,r=0,o=t.__order;r<o.length;r++){var s=o[r];n.push(s);var a,c=t[s];for(a in c)c.hasOwnProperty(a)&&void 0!==c[a]&&(i=!0,n.push(a,c[a]))}return i?n.join(""):void 0}(e,i)){var o,s=r.Stylesheet.getInstance();if(!(o={className:s.classNameFromKey(o),key:o,args:t}).className){o.className=s.getClassName((s=(s=i)&&s["&"])?s.displayName:void 0);for(var a=[],c=0,l=i.__order;c<l.length;c++){var u=l[c];a.push(u,A(e,i[u]))}o.rulesToInsert=a}return o}}function f(e,t){void 0===t&&(t=1);var n=r.Stylesheet.getInstance(),i=e.className,o=e.key,s=e.args,a=e.rulesToInsert;if(a){for(var c=0;c<a.length;c+=2){var l,u=a[c+1];u&&(l=(l=(l=a[c]).replace(/&/g,function e(t,n){return n<=0?"":1===n?t:t+e(t,n-1)}("."+e.className,t)))+"{"+u+"}"+(0===l.indexOf("@")?"}":""),n.insertRule(l))}n.cacheClassName(i,o,s,a)}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=h.apply(void 0,Object(i.__spreadArrays)([e],t));return r?(f(r,e.specificityMultiplier),r.className):""}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"kebabRules",(function(){return r}));var i={};function r(e,t){var n=e[t];"-"!==n.charAt(0)&&(e[t]=i[n]=i[n]||n.replace(/([A-Z])/g,"-$1").toLowerCase())}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"prefixRules",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/getVendorSettings.js"),r={"user-select":1};function o(e,t){var n=Object(i.getVendorSettings)(),o=e[t];r[o]&&(t=e[t+1],r[o]&&(n.isWebkit&&e.push("-webkit-"+o,t),n.isMoz&&e.push("-moz-"+o,t),n.isMs&&e.push("-ms-"+o,t),n.isOpera&&e.push("-o-"+o,t)))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js":function(e,t,n){"use strict";n.r(t),n.d(t,"provideUnits",(function(){return r}));var i=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function r(e,t){var n,r=e[t],o=e[t+1];"number"==typeof o&&(n=-1<i.indexOf(r),r=-1<r.indexOf("--"),r=n||r?"":"px",e[t+1]=o+r)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"rtlifyRules",(function(){return a}));var i="left",r="right",o=((t={})[i]=r,t[r]=i,t),s={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function a(e,t,n){if(e.rtl&&(e=t[n])){var a=t[n+1];if("string"==typeof a&&0<=a.indexOf("@noflip"))t[n+1]=a.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(0<=e.indexOf(i))t[n]=e.replace(i,r);else if(0<=e.indexOf(r))t[n]=e.replace(r,i);else if(0<=String(a).indexOf(i))t[n+1]=a.replace(i,r);else if(0<=String(a).indexOf(r))t[n+1]=a.replace(r,i);else if(o[e])t[n]=o[e];else if(s[a])t[n+1]=s[a];else switch(e){case"margin":case"padding":t[n+1]=function(e){if("string"==typeof e){var t=e.split(" ");if(4===t.length)return t[0]+" "+t[3]+" "+t[2]+" "+t[1]}return e}(a);break;case"box-shadow":t[n+1]=function(e,t){return e=e.split(" "),t=parseInt(e[t],10),e[0]=e[0].replace(String(t),String(-1*t)),e.join(" ")}(a,0)}}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/version.js":function(e,t,n){"use strict";n.r(t),n=n("./node_modules/@uifabric/set-version/lib/index.js"),Object(n.setVersion)("@uifabric/merge-styles","7.19.1")},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Async.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Async",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r=(o.prototype.dispose=function(){if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(var e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},o.prototype.setTimeout=function(e,t){var n=this,i=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),i=setTimeout((function(){try{n._timeoutIds&&delete n._timeoutIds[i],e.apply(n._parent)}catch(e){n._onErrorHandler&&n._onErrorHandler(e)}}),t),this._timeoutIds[i]=!0),i},o.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},o.prototype.setImmediate=function(e,t){var n=this,r=0;t=Object(i.getWindow)(t);return this._isDisposed||(this._immediateIds||(this._immediateIds={}),r=t.setTimeout((function(){try{n._immediateIds&&delete n._immediateIds[r],e.apply(n._parent)}catch(e){n._logError(e)}}),0),this._immediateIds[r]=!0),r},o.prototype.clearImmediate=function(e,t){t=Object(i.getWindow)(t),this._immediateIds&&this._immediateIds[e]&&(t.clearTimeout(e),delete this._immediateIds[e])},o.prototype.setInterval=function(e,t){var n=this,i=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),i=setInterval((function(){try{e.apply(n._parent)}catch(e){n._logError(e)}}),t),this._intervalIds[i]=!0),i},o.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},o.prototype.throttle=function(e,t,n){var i=this;if(this._isDisposed)return this._noop;var r,o,s=t||0,a=!0,c=!0,l=0,u=null;function d(t){var n=Date.now(),p=n-l,m=a?s-p:s;return s<=p&&(!t||a)?(l=n,u&&(i.clearTimeout(u),u=null),r=e.apply(i._parent,o)):null===u&&c&&(u=i.setTimeout(d,m)),r}return n&&"boolean"==typeof n.leading&&(a=n.leading),n&&"boolean"==typeof n.trailing&&(c=n.trailing),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o=e,d(!0)}},o.prototype.debounce=function(e,t,n){var i=this;if(this._isDisposed){var r=function(){};return r.cancel=function(){},r.flush=function(){return null},r.pending=function(){return!1},r}var o,s,a=t||0,c=!1,l=!0,u=null,d=0,p=Date.now(),m=null;function A(e){m&&(i.clearTimeout(m),m=null),p=e}function h(t){A(t),o=e.apply(i._parent,s)}function f(e){var t=Date.now(),n=!1;e&&(c&&a<=t-d&&(n=!0),d=t);var r=t-d,s=a-r,A=t-p,g=!1;return null!==u&&(u<=A&&m?g=!0:s=Math.min(s,u-A)),a<=r||g||n?h(t):null!==m&&e||!l||(m=i.setTimeout(f,s)),o}function g(){return!!m}return n&&"boolean"==typeof n.leading&&(c=n.leading),n&&"boolean"==typeof n.trailing&&(l=n.trailing),n&&"number"==typeof n.maxWait&&!isNaN(n.maxWait)&&(u=n.maxWait),(n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s=e,f(!0)}).cancel=function(){g()&&A(Date.now())},n.flush=function(){return g()&&h(Date.now()),o},n.pending=g,n},o.prototype.requestAnimationFrame=function(e,t){var n=this,r=0,o=Object(i.getWindow)(t);return this._isDisposed||(this._animationFrameIds||(this._animationFrameIds={}),t=function(){try{n._animationFrameIds&&delete n._animationFrameIds[r],e.apply(n._parent)}catch(e){n._logError(e)}},r=o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0),this._animationFrameIds[r]=!0),r},o.prototype.cancelAnimationFrame=function(e,t){t=Object(i.getWindow)(t),this._animationFrameIds&&this._animationFrameIds[e]&&(t.cancelAnimationFrame?t.cancelAnimationFrame(e):t.clearTimeout(e),delete this._animationFrameIds[e])},o.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},o);function o(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/AutoScroll.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AutoScroll",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/scroll.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getRect.js"),s=(a.prototype.dispose=function(){this._events.dispose(),this._stopScroll()},a.prototype._onMouseMove=function(e){this._computeScrollVelocity(e)},a.prototype._onTouchMove=function(e){0<e.touches.length&&this._computeScrollVelocity(e)},a.prototype._computeScrollVelocity=function(e){var t,n,i,r,o,s,a,c;this._scrollRect&&(n="clientX"in e?(t=e.clientX,e.clientY):(t=e.touches[0].clientX,e.touches[0].clientY),i=this._scrollRect.top,r=this._scrollRect.left,o=i+this._scrollRect.height-100,e=r+this._scrollRect.width-100,n<i+100||o<n?(a=n,s=i,c=o,this._isVerticalScroll=!0):(a=t,s=r,c=e,this._isVerticalScroll=!1),this._scrollVelocity=a<s+100?Math.max(-15,(100-(a-s))/100*-15):c<a?Math.min(15,(a-c)/100*15):0,this._scrollVelocity?this._startScroll():this._stopScroll())},a.prototype._startScroll=function(){this._timeoutId||this._incrementScroll()},a.prototype._incrementScroll=function(){this._scrollableParent&&(this._isVerticalScroll?this._scrollableParent.scrollTop+=Math.round(this._scrollVelocity):this._scrollableParent.scrollLeft+=Math.round(this._scrollVelocity)),this._timeoutId=setTimeout(this._incrementScroll,16)},a.prototype._stopScroll=function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},a);function a(e){this._events=new i.EventGroup(this),this._scrollableParent=Object(r.findScrollableParent)(e),this._incrementScroll=this._incrementScroll.bind(this),this._scrollRect=Object(o.getRect)(this._scrollableParent),this._scrollableParent===window&&(this._scrollableParent=document.body),this._scrollableParent&&(this._events.on(window,"mousemove",this._onMouseMove,!0),this._events.on(window,"touchmove",this._onTouchMove,!0))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/BaseComponent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseComponent",(function(){return d})),n.d(t,"nullRender",(function(){return m}));var i=n("./node_modules/tslib/tslib.es6.js"),r=(t=n("./node_modules/react/index.js"),n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Async.js")),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnConditionallyRequiredProps.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnMutuallyExclusive.js"),c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnDeprecations.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u,d=(u=t.Component,Object(i.__extends)(p,u),p.prototype.componentDidUpdate=function(e,t){this._updateComponentRef(e,this.props)},p.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},p.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var e=0,t=this._disposables.length;e<t;e++){var n=this.__disposables[e];n.dispose&&n.dispose()}this.__disposables=null}},Object.defineProperty(p.prototype,"className",{get:function(){var e;return this.__className||(e=/function (.{1,})\(/.exec(this.constructor.toString()),this.__className=e&&1<e.length?e[1]:""),this.__className},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"_async",{get:function(){return this.__async||(this.__async=new r.Async(this),this._disposables.push(this.__async)),this.__async},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"_events",{get:function(){return this.__events||(this.__events=new o.EventGroup(this),this._disposables.push(this.__events)),this.__events},enumerable:!0,configurable:!0}),p.prototype._resolveRef=function(e){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[e]||(this.__resolves[e]=function(n){return t[e]=n}),this.__resolves[e]},p.prototype._updateComponentRef=function(e,t){void 0===t&&(t={}),e&&t&&e.componentRef!==t.componentRef&&(this._setComponentRef(e.componentRef,null),this._setComponentRef(t.componentRef,this))},p.prototype._warnDeprecations=function(e){Object(c.warnDeprecations)(this.className,this.props,e)},p.prototype._warnMutuallyExclusive=function(e){Object(a.warnMutuallyExclusive)(this.className,this.props,e)},p.prototype._warnConditionallyRequiredProps=function(e,t,n){Object(s.warnConditionallyRequiredProps)(this.className,this.props,e,t,n)},p.prototype._setComponentRef=function(e,t){!this._skipComponentRefResolution&&e&&("function"==typeof e&&e(t),"object"===l(e)&&(e.current=t))},p);function p(e,t){return function(e,t,n){for(var i=0,r=n.length;i<r;i++)!function(e,t,n){var i=e[n],r=t[n];(i||r)&&(e[n]=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r&&(e=r.apply(this,t)),i!==r&&(e=i.apply(this,t)),e})}(e,t,n[i])}(t=u.call(this,e,t)||this,p.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),t}function m(){return null}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/DelayedRender.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DelayedRender",(function(){return o}));t=n("./node_modules/tslib/tslib.es6.js");var i,r=n("./node_modules/react/index.js"),o=(i=r.Component,Object(t.__extends)(s,i),s.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this._timeoutId=window.setTimeout((function(){e.setState({isRendered:!0})}),t)},s.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},s.prototype.render=function(){return this.state.isRendered?r.Children.only(this.props.children):null},s.defaultProps={delay:0},s);function s(e){return(e=i.call(this,e)||this).state={isRendered:!1},e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventGroup",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/object.js"),r=(o.raise=function(e,t,n,r){var s,a;if(o._isElement(e))"undefined"!=typeof document&&document.createEvent?((a=document.createEvent("HTMLEvents")).initEvent(t,r||!1,!0),Object(i.assign)(a,n),s=e.dispatchEvent(a)):"undefined"!=typeof document&&document.createEventObject&&(a=document.createEventObject(n),e.fireEvent("on"+t,a));else for(;e&&!1!==s;){var c=e.__events__,l=c?c[t]:null;if(l)for(var u in l)if(l.hasOwnProperty(u))for(var d=l[u],p=0;!1!==s&&p<d.length;p++){var m=d[p];m.objectCallback&&(s=m.objectCallback.call(m.parent,n))}e=r?e.parent:null}return s},o.isObserved=function(e,t){return!!(e=e&&e.__events__)&&!!e[t]},o.isDeclared=function(e,t){return!!(e=e&&e.__declaredEvents)&&!!e[t]},o.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},o._isElement=function(e){return!!e&&(!!e.addEventListener||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement)},o.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},o.prototype.onAll=function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&this.on(e,i,t[i],n)},o.prototype.on=function(e,t,n,i){var r=this;if(-1<t.indexOf(","))for(var s=t.split(/[ ,]+/),a=0;a<s.length;a++)this.on(e,s[a],n,i);else{var c,l=this._parent,u={target:e,eventName:t,parent:l,callback:n,options:i};(s=e.__events__=e.__events__||{})[t]=s[t]||{count:0},s[t][this._id]=s[t][this._id]||[],s[t][this._id].push(u),s[t].count++,o._isElement(e)?(c=function(){for(var e,t,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(!r._isDisposed){try{!1===(t=n.apply(l,i))&&i[0]&&((e=i[0]).preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)}catch(e){}return t}},u.elementCallback=c,e.addEventListener?e.addEventListener(t,c,i):e.attachEvent&&e.attachEvent("on"+t,c)):u.objectCallback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!r._isDisposed)return n.apply(l,e)},this._eventRecords.push(u)}},o.prototype.off=function(e,t,n,i){for(var r=0;r<this._eventRecords.length;r++){var o,s,a,c=this._eventRecords[r];e&&e!==c.target||t&&t!==c.eventName||n&&n!==c.callback||"boolean"==typeof i&&i!==c.options||((a=(s=(o=c.target.__events__)[c.eventName])?s[this._id]:null)&&(1!==a.length&&n?(s.count--,a.splice(a.indexOf(c),1)):(s.count-=a.length,delete o[c.eventName][this._id]),s.count||delete o[c.eventName]),c.elementCallback&&(c.target.removeEventListener?c.target.removeEventListener(c.eventName,c.elementCallback,c.options):c.target.detachEvent&&c.target.detachEvent("on"+c.eventName,c.elementCallback)),this._eventRecords.splice(r--,1))}},o.prototype.raise=function(e,t,n){return o.raise(this._parent,e,t,n)},o.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"==typeof e)t[e]=!0;else for(var n=0;n<e.length;n++)t[e[n]]=!0},o._uniqueId=0,o);function o(e){this._id=o._uniqueId++,this._parent=e,this._eventRecords=[]}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/FabricPerformance.js":function(e,t,n){"use strict";function i(){return("undefined"!=typeof performance&&performance.now?performance:Date).now()}n.r(t),n.d(t,"FabricPerformance",(function(){return r}));var r=(o.measure=function(e,t){o._timeoutId&&o.setPeriodicReset();var n=i();t();var r=i();n=r-n;(t=o.summary[e]||{totalDuration:0,count:0,all:[]}).totalDuration+=n,t.count++,t.all.push({duration:n,timeStamp:r}),o.summary[e]=t},o.reset=function(){o.summary={},clearTimeout(o._timeoutId),o._timeoutId=NaN},o.setPeriodicReset=function(){o._timeoutId=setTimeout((function(){return o.reset()}),18e4)},o.summary={},o);function o(){}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/GlobalSettings.js":function(e,t,n){"use strict";n.r(t),n.d(t,"GlobalSettings",(function(){return a}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r="__globalSettings__",o="__callbacks__",s=0,a=(c.getValue=function(e,t){var n=l();return void 0===n[e]&&(n[e]="function"==typeof t?t():t),n[e]},c.setValue=function(e,t){var n=l(),i=n[o],r=n[e];if(t!==r){var s,a={oldValue:r,value:n[e]=t,key:e};for(s in i)i.hasOwnProperty(s)&&i[s](a)}return t},c.addChangeListener=function(e){var t=e.__id__;u()[t=t||(e.__id__=String(s++))]=e},c.removeChangeListener=function(e){delete u()[e.__id__]},c);function c(){}function l(){var e,t=Object(i.getWindow)()||{};return t[r]||(t[r]=((e={})[o]={},e)),t[r]}function u(){return l()[o]}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"KeyCodes",(function(){return i}));var i={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Rectangle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Rectangle",(function(){return i}));var i=(Object.defineProperty(r.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),r.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},r);function r(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.top=n,this.bottom=i,this.left=e,this.right=t}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/appendFunction.js":function(e,t,n){"use strict";function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length<2?t[0]:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t.forEach((function(t){return t&&t.apply(e,n)}))}}n.r(t),n.d(t,"appendFunction",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/aria.js":function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter((function(e){return e})).join(" ").trim();return""===n?void 0:n}n.r(t),n.d(t,"mergeAriaAttributeValues",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/array.js":function(e,t,n){"use strict";function i(e,t,n){void 0===n&&(n=0);for(var i=-1,r=n;e&&r<e.length;r++)if(t(e[r],r)){i=r;break}return i}function r(e,t){if(!((t=i(e,t))<0))return e[t]}function o(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}function s(e,t){return e.reduce((function(e,n,i){return i%t==0?e.push([n]):e[e.length-1].push(n),e}),[])}function a(e,t){return e.filter((function(e,n){return t!==n}))}function c(e,t,n){return(e=e.slice())[n]=t,e}function l(e,t,n){return(e=e.slice()).splice(t,0,n),e}function u(e){var t=[];return e.forEach((function(e){return t=t.concat(e)})),t}function d(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.r(t),n.d(t,"findIndex",(function(){return i})),n.d(t,"find",(function(){return r})),n.d(t,"createArray",(function(){return o})),n.d(t,"toMatrix",(function(){return s})),n.d(t,"removeIndex",(function(){return a})),n.d(t,"replaceElement",(function(){return c})),n.d(t,"addElementAtIndex",(function(){return l})),n.d(t,"flatten",(function(){return u})),n.d(t,"arraysEqual",(function(){return d}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/asAsync.js":function(e,t,n){"use strict";n.r(t),n.d(t,"asAsync",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o="undefined"!=typeof WeakMap?new WeakMap:void 0;function s(e){var t,n=(t=r.Component,Object(i.__extends)(s,t),s.prototype.render=function(){var e,t=(e=this.props).forwardedRef,n=e.asyncPlaceholder,o=Object(i.__rest)(e,["forwardedRef","asyncPlaceholder"]);return(e=this.state.Component)?r.createElement(e,Object(i.__assign)(Object(i.__assign)({},o),{ref:t})):n?r.createElement(n,null):null},s.prototype.componentDidMount=function(){var t=this;this.state.Component||e.load().then((function(n){n&&(o&&o.set(e.load,n),t.setState({Component:n},e.onLoad))})).catch(e.onError)},s);function s(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={Component:o?o.get(e.load):void 0},n}return r.forwardRef((function(e,t){return r.createElement(n,Object(i.__assign)({},e,{forwardedRef:t}))}))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/assertNever.js":function(e,t,n){"use strict";function i(e){throw new Error("Unexpected object: "+e)}n.r(t),n.d(t,"assertNever",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/classNamesFunction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"classNamesFunction",(function(){return l}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/rtl.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=0;(n=i.Stylesheet.getInstance())&&n.onReset&&n.onReset((function(){return a++}));var c="__retval__";function l(e){void 0===e&&(e={});var t=new Map,n=0,s=0,l=a;return function(u,p){if(void 0===p&&(p={}),e.useStaticStyles&&"function"==typeof u&&u.__noStyleOverride__)return u(p);s++;var m=t,A=(h=p.theme)&&void 0!==h.rtl?h.rtl:Object(r.getRTL)(),h=e.disableCaching;return l!==a&&(l=a,t=new Map,n=0),e.disableCaching||(m=d(t,u),m=d(m,p)),!h&&m[c]||(m[c]=void 0===u?{}:Object(i.mergeCssSets)(["function"==typeof u?u(p):u],{rtl:!!A,specificityMultiplier:e.useStaticStyles?5:void 0}),h||n++),n>(e.cacheSize||50)&&(null!==(h=null===(h=Object(o.getWindow)())||void 0===h?void 0:h.FabricConfig)&&void 0!==h&&h.enableClassNameCacheFullWarning&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is "+n+"/"+s+"."),console.trace()),t.clear(),n=0,e.disableCaching=!0),m[c]}}function u(e,t){return t=function(e){switch(e){case void 0:return"__undefined__";case null:return"__null__";default:return e}}(t),e.has(t)||e.set(t,new Map),e.get(t)}function d(e,t){if("function"==typeof t)if(t.__cachedInputs__)for(var n=0,i=t.__cachedInputs__;n<i.length;n++)e=u(e,i[n]);else e=u(e,t);else if("object"===s(t))for(var r in t)t.hasOwnProperty(r)&&(e=u(e,t[r]));return e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/componentAs/composeComponentAs.js":function(e,t,n){"use strict";n.r(t),n.d(t,"composeComponentAs",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js"),s=Object(o.createMemoizer)((function(e){var t=e;return Object(o.createMemoizer)((function(n){if(e===n)throw new Error("Attempted to compose a component with itself.");var s=n,a=Object(o.createMemoizer)((function(e){return function(t){return r.createElement(s,Object(i.__assign)({},t,{defaultRender:e}))}}));return function(e){var n=e.defaultRender;return r.createElement(t,Object(i.__assign)({},e,{defaultRender:n?a(n):s}))}}))}));function a(e,t){return s(e)(t)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/controlled.js":function(e,t,n){"use strict";function i(e,t){return void 0!==e[t]&&null!==e[t]}n.r(t),n.d(t,"isControlled",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/createMergedRef.js":function(e,t,n){"use strict";n.r(t),n.d(t,"createMergedRef",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/array.js"),r=function(){var e={refs:[]};return function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.resolver&&Object(i.arraysEqual)(e.refs,n)||(e.resolver=(t=e,function(e){for(var n=0,i=t.refs;n<i.length;n++){var r=i[n];"function"==typeof r?r(e):r&&(r.current=e)}})),e.refs=n,e.resolver}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/css.js":function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];if(o)if("string"==typeof o)n.push(o);else if(o.hasOwnProperty("toString")&&"function"==typeof o.toString)n.push(o.toString());else for(var s in o)o[s]&&n.push(s)}return n.join(" ")}n.r(t),n.d(t,"css",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Customizations",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=(n=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/GlobalSettings.js"),{settings:{},scopedSettings:{},inCustomizerContext:!1}),o=n.GlobalSettings.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),s=[],a=(c.reset=function(){o.settings={},o.scopedSettings={}},c.applySettings=function(e){o.settings=Object(i.__assign)(Object(i.__assign)({},o.settings),e),c._raiseChange()},c.applyScopedSettings=function(e,t){o.scopedSettings[e]=Object(i.__assign)(Object(i.__assign)({},o.scopedSettings[e]),t),c._raiseChange()},c.getSettings=function(e,t,n){void 0===n&&(n=r);for(var i={},s=t&&n.scopedSettings[t]||{},a=t&&o.scopedSettings[t]||{},c=0,l=e;c<l.length;c++){var u=l[c];i[u]=s[u]||n.settings[u]||a[u]||o.settings[u]}return i},c.applyBatchedUpdates=function(e,t){c._suppressUpdates=!0;try{e()}catch(e){}c._suppressUpdates=!1,t||c._raiseChange()},c.observe=function(e){s.push(e)},c.unobserve=function(e){s=s.filter((function(t){return t!==e}))},c._raiseChange=function(){c._suppressUpdates||s.forEach((function(e){return e()}))},c);function c(){}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Customizer",(function(){return c}));t=n("./node_modules/tslib/tslib.es6.js");var i,r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeCustomizations.js"),c=(i=r.Component,Object(t.__extends)(l,i),l.prototype.componentDidMount=function(){o.Customizations.observe(this._onCustomizationChange)},l.prototype.componentWillUnmount=function(){o.Customizations.unobserve(this._onCustomizationChange)},l.prototype.render=function(){var e=this,t=this.props.contextTransform;return r.createElement(s.CustomizerContext.Consumer,null,(function(n){return n=Object(a.mergeCustomizations)(e.props,n),t&&(n=t(n)),r.createElement(s.CustomizerContext.Provider,{value:n},e.props.children)}))},l);function l(){var e=null!==i&&i.apply(this,arguments)||this;return e._onCustomizationChange=function(){return e.forceUpdate()},e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CustomizerContext",(function(){return i}));var i=(t=n("./node_modules/react/index.js")).createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}})},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/customizable.js":function(e,t,n){"use strict";n.r(t),n.d(t,"customizable",(function(){return l}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoistStatics.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js"),c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");function l(e,t,n){return function(l){var u,d=(u=r.Component,Object(i.__extends)(p,u),p.prototype.componentDidMount=function(){o.Customizations.observe(this._onSettingChanged)},p.prototype.componentWillUnmount=function(){o.Customizations.unobserve(this._onSettingChanged)},p.prototype.render=function(){var s=this;return r.createElement(a.CustomizerContext.Consumer,null,(function(a){var u=o.Customizations.getSettings(t,e,a.customizations),d=s.props;return u.styles&&"function"==typeof u.styles&&(u.styles=u.styles(Object(i.__assign)(Object(i.__assign)({},u),d))),n&&u.styles?(s._styleCache.default===u.styles&&s._styleCache.component===d.styles||(a=Object(c.concatStyleSets)(u.styles,d.styles),s._styleCache.default=u.styles,s._styleCache.component=d.styles,s._styleCache.merged=a),r.createElement(l,Object(i.__assign)({},u,d,{styles:s._styleCache.merged}))):r.createElement(l,Object(i.__assign)({},u,d))}))},p.prototype._onSettingChanged=function(){this.forceUpdate()},(d=p).displayName="Customized"+e,d);function p(e){return(e=u.call(this,e)||this)._styleCache={},e._onSettingChanged=e._onSettingChanged.bind(e),e}return Object(s.hoistStatics)(l,d)}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeCustomizations.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeCustomizations",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeSettings.js");function r(e,t){return t=void 0===(t=(t||{}).customizations)?{settings:{},scopedSettings:{}}:t,{customizations:{settings:Object(i.mergeSettings)(t.settings,e.settings),scopedSettings:Object(i.mergeScopedSettings)(t.scopedSettings,e.scopedSettings),inCustomizerContext:!0}}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeSettings.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeSettings",(function(){return r})),n.d(t,"mergeScopedSettings",(function(){return o}));var i=n("./node_modules/tslib/tslib.es6.js");function r(e,t){var n;return void 0===e&&(e={}),(s(t)?t:(n=t,function(e){return n?Object(i.__assign)(Object(i.__assign)({},e),n):e}))(e)}function o(e,t){return void 0===e&&(e={}),(s(t)?t:function(e){return void 0===e&&(e={}),function(t){var n,r=Object(i.__assign)({},t);for(n in e)e.hasOwnProperty(n)&&(r[n]=Object(i.__assign)(Object(i.__assign)({},t[n]),e[n]));return r}}(t))(e)}function s(e){return"function"==typeof e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/useCustomizationSettings.js":function(e,t,n){"use strict";n.r(t),n.d(t,"useCustomizationSettings",(function(){return s}));var i=n("./node_modules/react/index.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js");function s(e,t){var n,s=(n=i.useState(0)[1],function(){return n((function(e){return++e}))}),a=i.useContext(o.CustomizerContext).customizations,c=a.inCustomizerContext;return i.useEffect((function(){return c||r.Customizations.observe(s),function(){c||r.Customizations.unobserve(s)}}),[c]),r.Customizations.getSettings(e,t,a)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContains.js");n.d(t,"elementContains",(function(){return i.elementContains}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContainsAttribute.js");n.d(t,"elementContainsAttribute",(function(){return r.elementContainsAttribute}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/findElementRecursive.js");n.d(t,"findElementRecursive",(function(){return o.findElementRecursive}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getChildren.js");n.d(t,"getChildren",(function(){return s.getChildren}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js");n.d(t,"getDocument",(function(){return a.getDocument}));var c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js");n.d(t,"getParent",(function(){return c.getParent}));var l=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getRect.js");n.d(t,"getRect",(function(){return l.getRect}));var u=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getVirtualParent.js");n.d(t,"getVirtualParent",(function(){return u.getVirtualParent}));var d=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");n.d(t,"getWindow",(function(){return d.getWindow}));var p=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/isVirtualElement.js");n.d(t,"isVirtualElement",(function(){return p.isVirtualElement}));var m=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/on.js");n.d(t,"on",(function(){return m.on}));var A=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/portalContainsElement.js");n.d(t,"portalContainsElement",(function(){return A.portalContainsElement}));var h=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/raiseClick.js");n.d(t,"raiseClick",(function(){return h.raiseClick}));var f=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setPortalAttribute.js");n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return f.DATA_PORTAL_ATTRIBUTE})),n.d(t,"setPortalAttribute",(function(){return f.setPortalAttribute}));var g=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setVirtualParent.js");n.d(t,"setVirtualParent",(function(){return g.setVirtualParent}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContains.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"elementContains",(function(){return i.elementContains}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContainsAttribute.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"elementContainsAttribute",(function(){return i.elementContainsAttribute}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/findElementRecursive.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"findElementRecursive",(function(){return i.findElementRecursive}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getChildren.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"getChildren",(function(){return i.getChildren}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getDocument",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js");function r(e){if(!i._isSSR&&"undefined"!=typeof document)return e&&e.ownerDocument?e.ownerDocument:document}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"getParent",(function(){return i.getParent}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getRect.js":function(e,t,n){"use strict";function i(e){var t;return e&&(e===window?t={left:0,top:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:e.getBoundingClientRect&&(t=e.getBoundingClientRect())),t}n.r(t),n.d(t,"getRect",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getVirtualParent.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"getVirtualParent",(function(){return i.getVirtualParent}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getWindow",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js"),r=void 0;try{r=window}catch(e){}function o(e){if(!i._isSSR&&void 0!==r)return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:r}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/isVirtualElement.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"isVirtualElement",(function(){return i.isVirtualElement}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/on.js":function(e,t,n){"use strict";function i(e,t,n,i){return e.addEventListener(t,n,i),function(){return e.removeEventListener(t,n,i)}}n.r(t),n.d(t,"on",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/portalContainsElement.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"portalContainsElement",(function(){return i.portalContainsElement}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/raiseClick.js":function(e,t,n){"use strict";function i(e){var t=function(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t}("MouseEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}n.r(t),n.d(t,"raiseClick",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setPortalAttribute.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return i.DATA_PORTAL_ATTRIBUTE})),n.d(t,"setPortalAttribute",(function(){return i.setPortalAttribute}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js":function(e,t,n){"use strict";n.r(t),n.d(t,"_isSSR",(function(){return i})),n.d(t,"setSSR",(function(){return r}));var i=!1;function r(e){i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setVirtualParent.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@fluentui/dom-utilities/lib/index.js");n.d(t,"setVirtualParent",(function(){return i.setVirtualParent}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"extendComponent",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/appendFunction.js");function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=Object(i.appendFunction)(e,e[n],t[n]))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/focus.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFirstFocusable",(function(){return l})),n.d(t,"getLastFocusable",(function(){return u})),n.d(t,"getFirstTabbable",(function(){return d})),n.d(t,"getLastTabbable",(function(){return p})),n.d(t,"focusFirstChild",(function(){return m})),n.d(t,"getPreviousElement",(function(){return A})),n.d(t,"getNextElement",(function(){return h})),n.d(t,"isElementVisible",(function(){return f})),n.d(t,"isElementTabbable",(function(){return g})),n.d(t,"isElementFocusZone",(function(){return v})),n.d(t,"isElementFocusSubZone",(function(){return y})),n.d(t,"doesElementContainFocus",(function(){return S})),n.d(t,"shouldWrapFocus",(function(){return b})),n.d(t,"focusAsync",(function(){return E})),n.d(t,"getFocusableByIndexPath",(function(){return w})),n.d(t,"getElementIndexPath",(function(){return T}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContainsAttribute.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContains.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js"),c="data-is-focusable";function l(e,t,n){return h(e,t,!0,!1,!1,n)}function u(e,t,n){return A(e,t,!0,!1,!0,n)}function d(e,t,n,i){return void 0===i&&(i=!0),h(e,t,i,!1,!1,n,!1,!0)}function p(e,t,n,i){return void 0===i&&(i=!0),A(e,t,i,!1,!0,n,!1,!0)}function m(e){return!!(e=h(e,e,!0,!1,!1,!0))&&(E(e),!0)}function A(e,t,n,i,r,o,s,a){if(!t||!s&&t===e)return null;var c=f(t);if(r&&c&&(o||!v(t)&&!y(t))){var l=A(e,t.lastElementChild,!0,!0,!0,o,s,a);if(l){if(a&&g(l,!0)||!a)return l;if(r=A(e,l.previousElementSibling,!0,!0,!0,o,s,a))return r;for(var u=l.parentElement;u&&u!==t;){var d=A(e,u.previousElementSibling,!0,!0,!0,o,s,a);if(d)return d;u=u.parentElement}}}return n&&c&&g(t,a)?t:(c=A(e,t.previousElementSibling,!0,!0,!0,o,s,a))||(i?null:A(e,t.parentElement,!0,!1,!1,o,s,a))}function h(e,t,n,i,r,o,s,a){if(!t||t===e&&r&&!s)return null;var c=f(t);if(n&&c&&g(t,a))return t;if(!r&&c&&(o||!v(t)&&!y(t))){var l=h(e,t.firstElementChild,!0,!0,!1,o,s,a);if(l)return l}return t===e?null:(l=h(e,t.nextElementSibling,!0,!0,!1,o,s,a))||(i?null:h(e,t.parentElement,!1,!1,!0,o,s,a))}function f(e){if(!e||!e.getAttribute)return!1;var t=e.getAttribute("data-is-visible");return null!=t?"true"===t:0!==e.offsetHeight||null!==e.offsetParent||!0===e.isVisible}function g(e,t){if(!e||e.disabled)return!1;var n=0,i=null;e&&e.getAttribute&&(i=e.getAttribute("tabIndex"))&&(n=parseInt(i,10));var r=e.getAttribute?e.getAttribute(c):null;i=null!==i&&0<=n,i=!!e&&"false"!==r&&("A"===e.tagName||"BUTTON"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||"true"===r||i);return(!t||-1!==n)&&i}function v(e){return!!(e&&e.getAttribute&&e.getAttribute("data-focuszone-id"))}function y(e){return!(!e||!e.getAttribute||"true"!==e.getAttribute("data-is-sub-focuszone"))}function S(e){var t;return!(!(t=(t=Object(a.getDocument)(e))&&t.activeElement)||!Object(r.elementContains)(e,t))}function b(e,t){return"true"!==Object(i.elementContainsAttribute)(e,t)}var C=void 0;function E(e){e&&(C?C=e:(C=e,(e=Object(s.getWindow)(e))&&e.requestAnimationFrame((function(){var e=C;C=void 0,e&&(e.getAttribute&&"true"===e.getAttribute(c)&&(e.getAttribute("tabindex")||e.setAttribute("tabindex","0")),e.focus())}))))}function w(e,t){for(var n=e,i=0,r=t;i<r.length;i++){var o=r[i];if(!(o=n.children[Math.min(o,n.children.length-1)]))break;n=o}return g(n)&&f(n)?n:h(e,n,!0)||A(e,n)}function T(e,t){for(var n=[];t&&e&&t!==e;){var i=Object(o.getParent)(t,!0);if(null===i)return[];n.unshift(Array.prototype.indexOf.call(i.children,t)),t=i}return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getId.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getId",(function(){return a})),n.d(t,"resetIds",(function(){return c}));t=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r="__currentId__",o=Object(t.getWindow)()||{};void 0===o[r]&&(o[r]=0);var s=!1;function a(e){s||((t=i.Stylesheet.getInstance())&&t.onReset&&t.onReset(c),s=!0);var t=o[r]++;return(void 0===e?"id__":e)+t}function c(e){void 0===e&&(e=0),o[r]=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getNativeElementProps.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getNativeElementProps",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/properties.js"),r={label:i.labelProperties,audio:i.audioProperties,video:i.videoProperties,ol:i.olProperties,li:i.liProperties,a:i.anchorProperties,button:i.buttonProperties,input:i.inputProperties,textarea:i.textAreaProperties,select:i.selectProperties,option:i.optionProperties,table:i.tableProperties,tr:i.trProperties,th:i.thProperties,td:i.tdProperties,colGroup:i.colGroupProperties,col:i.colProperties,form:i.formProperties,iframe:i.iframeProperties,img:i.imgProperties};function o(e,t,n){return e=e&&r[e]||i.htmlElementProperties,Object(i.getNativeProps)(t,e,n)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getPropsWithDefaults.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getPropsWithDefaults",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js");function r(e,t){for(var n=Object(i.__assign)({},t),r=0,o=Object.keys(e);r<o.length;r++){var s=o[r];void 0===n[s]&&(n[s]=e[s])}return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoist.js":function(e,t,n){"use strict";n.r(t),n.d(t,"hoistMethods",(function(){return r})),n.d(t,"unhoistMethods",(function(){return o}));var i=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];function r(e,t,n){void 0===n&&(n=i);var r,o=[];for(r in t)!function(i){"function"!=typeof t[i]||void 0!==e[i]||n&&-1!==n.indexOf(i)||(o.push(i),e[i]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t[i].apply(t,e)})}(r);return o}function o(e,t){t.forEach((function(t){return delete e[t]}))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoistStatics.js":function(e,t,n){"use strict";function i(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}n.r(t),n.d(t,"hoistStatics",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/ie11Detector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isIE11",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r=function(){var e,t=Object(i.getWindow)();return!(null===(e=null==t?void 0:t.navigator)||void 0===e||!e.userAgent)&&-1<t.navigator.userAgent.indexOf("rv:11.0")}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Async.js");n.d(t,"Async",(function(){return i.Async}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/AutoScroll.js");n.d(t,"AutoScroll",(function(){return r.AutoScroll}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/BaseComponent.js");n.d(t,"BaseComponent",(function(){return o.BaseComponent})),n.d(t,"nullRender",(function(){return o.nullRender}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/DelayedRender.js");n.d(t,"DelayedRender",(function(){return s.DelayedRender}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js");n.d(t,"EventGroup",(function(){return a.EventGroup}));var c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/FabricPerformance.js");n.d(t,"FabricPerformance",(function(){return c.FabricPerformance}));var l=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/GlobalSettings.js");n.d(t,"GlobalSettings",(function(){return l.GlobalSettings}));var u=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js");n.d(t,"KeyCodes",(function(){return u.KeyCodes}));var d=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Rectangle.js");n.d(t,"Rectangle",(function(){return d.Rectangle}));var p=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/appendFunction.js");n.d(t,"appendFunction",(function(){return p.appendFunction}));var m=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/aria.js");n.d(t,"mergeAriaAttributeValues",(function(){return m.mergeAriaAttributeValues}));var A=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/array.js");n.d(t,"findIndex",(function(){return A.findIndex})),n.d(t,"find",(function(){return A.find})),n.d(t,"createArray",(function(){return A.createArray})),n.d(t,"toMatrix",(function(){return A.toMatrix})),n.d(t,"removeIndex",(function(){return A.removeIndex})),n.d(t,"replaceElement",(function(){return A.replaceElement})),n.d(t,"addElementAtIndex",(function(){return A.addElementAtIndex})),n.d(t,"flatten",(function(){return A.flatten})),n.d(t,"arraysEqual",(function(){return A.arraysEqual}));var h=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/asAsync.js");n.d(t,"asAsync",(function(){return h.asAsync}));var f=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/assertNever.js");n.d(t,"assertNever",(function(){return f.assertNever}));var g=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/classNamesFunction.js");n.d(t,"classNamesFunction",(function(){return g.classNamesFunction}));var v=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/componentAs/composeComponentAs.js");n.d(t,"composeComponentAs",(function(){return v.composeComponentAs}));var y=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/controlled.js");n.d(t,"isControlled",(function(){return y.isControlled}));var S=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/css.js");n.d(t,"css",(function(){return S.css}));var b=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js");n.d(t,"Customizations",(function(){return b.Customizations}));var C=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizer.js");n.d(t,"Customizer",(function(){return C.Customizer}));var E=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js");n.d(t,"CustomizerContext",(function(){return E.CustomizerContext}));var w=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/customizable.js");n.d(t,"customizable",(function(){return w.customizable}));var T=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/useCustomizationSettings.js");n.d(t,"useCustomizationSettings",(function(){return T.useCustomizationSettings}));var P=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeCustomizations.js");n.d(t,"mergeCustomizations",(function(){return P.mergeCustomizations}));var _=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeSettings.js");n.d(t,"mergeSettings",(function(){return _.mergeSettings})),n.d(t,"mergeScopedSettings",(function(){return _.mergeScopedSettings}));var B=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom.js");n.d(t,"elementContains",(function(){return B.elementContains})),n.d(t,"elementContainsAttribute",(function(){return B.elementContainsAttribute})),n.d(t,"findElementRecursive",(function(){return B.findElementRecursive})),n.d(t,"getChildren",(function(){return B.getChildren})),n.d(t,"getDocument",(function(){return B.getDocument})),n.d(t,"getParent",(function(){return B.getParent})),n.d(t,"getRect",(function(){return B.getRect})),n.d(t,"getVirtualParent",(function(){return B.getVirtualParent})),n.d(t,"getWindow",(function(){return B.getWindow})),n.d(t,"isVirtualElement",(function(){return B.isVirtualElement})),n.d(t,"on",(function(){return B.on})),n.d(t,"portalContainsElement",(function(){return B.portalContainsElement})),n.d(t,"raiseClick",(function(){return B.raiseClick})),n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return B.DATA_PORTAL_ATTRIBUTE})),n.d(t,"setPortalAttribute",(function(){return B.setPortalAttribute})),n.d(t,"setVirtualParent",(function(){return B.setVirtualParent}));var I=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js");n.d(t,"extendComponent",(function(){return I.extendComponent}));var D=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/focus.js");n.d(t,"getFirstFocusable",(function(){return D.getFirstFocusable})),n.d(t,"getLastFocusable",(function(){return D.getLastFocusable})),n.d(t,"getFirstTabbable",(function(){return D.getFirstTabbable})),n.d(t,"getLastTabbable",(function(){return D.getLastTabbable})),n.d(t,"focusFirstChild",(function(){return D.focusFirstChild})),n.d(t,"getPreviousElement",(function(){return D.getPreviousElement})),n.d(t,"getNextElement",(function(){return D.getNextElement})),n.d(t,"isElementVisible",(function(){return D.isElementVisible})),n.d(t,"isElementTabbable",(function(){return D.isElementTabbable})),n.d(t,"isElementFocusZone",(function(){return D.isElementFocusZone})),n.d(t,"isElementFocusSubZone",(function(){return D.isElementFocusSubZone})),n.d(t,"doesElementContainFocus",(function(){return D.doesElementContainFocus})),n.d(t,"shouldWrapFocus",(function(){return D.shouldWrapFocus})),n.d(t,"focusAsync",(function(){return D.focusAsync})),n.d(t,"getFocusableByIndexPath",(function(){return D.getFocusableByIndexPath})),n.d(t,"getElementIndexPath",(function(){return D.getElementIndexPath}));var k=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getId.js");n.d(t,"getId",(function(){return k.getId})),n.d(t,"resetIds",(function(){return k.resetIds}));var F=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getNativeElementProps.js");n.d(t,"getNativeElementProps",(function(){return F.getNativeElementProps}));var M=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoist.js");n.d(t,"hoistMethods",(function(){return M.hoistMethods})),n.d(t,"unhoistMethods",(function(){return M.unhoistMethods}));var U=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoistStatics.js");n.d(t,"hoistStatics",(function(){return U.hoistStatics}));var N=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeComponentRef.js");n.d(t,"initializeComponentRef",(function(){return N.initializeComponentRef}));var L=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeFocusRects.js");n.d(t,"initializeFocusRects",(function(){return L.initializeFocusRects}));var x=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/useFocusRects.js");n.d(t,"useFocusRects",(function(){return x.useFocusRects})),n.d(t,"FocusRects",(function(){return x.FocusRects}));var R=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initials.js");n.d(t,"getInitials",(function(){return R.getInitials}));var O=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js");n.d(t,"isDirectionalKeyCode",(function(){return O.isDirectionalKeyCode})),n.d(t,"addDirectionalKeyCode",(function(){return O.addDirectionalKeyCode}));var V=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/language.js");n.d(t,"getLanguage",(function(){return V.getLanguage})),n.d(t,"setLanguage",(function(){return V.setLanguage}));var Q=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/math.js");n.d(t,"getDistanceBetweenPoints",(function(){return Q.getDistanceBetweenPoints})),n.d(t,"fitContentToBounds",(function(){return Q.fitContentToBounds})),n.d(t,"calculatePrecision",(function(){return Q.calculatePrecision})),n.d(t,"precisionRound",(function(){return Q.precisionRound}));var H=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js");n.d(t,"setMemoizeWeakMap",(function(){return H.setMemoizeWeakMap})),n.d(t,"resetMemoizations",(function(){return H.resetMemoizations})),n.d(t,"memoize",(function(){return H.memoize})),n.d(t,"memoizeFunction",(function(){return H.memoizeFunction})),n.d(t,"createMemoizer",(function(){return H.createMemoizer}));var $=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/merge.js");n.d(t,"merge",(function(){return $.merge}));var j=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/mobileDetector.js");n.d(t,"isIOS",(function(){return j.isIOS}));var Y=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/modalize.js");n.d(t,"modalize",(function(){return Y.modalize}));var G=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/object.js");n.d(t,"assign",(function(){return G.assign})),n.d(t,"filteredAssign",(function(){return G.filteredAssign})),n.d(t,"mapEnumByName",(function(){return G.mapEnumByName})),n.d(t,"shallowCompare",(function(){return G.shallowCompare})),n.d(t,"values",(function(){return G.values})),n.d(t,"omit",(function(){return G.omit}));var K=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/osDetector.js");n.d(t,"isMac",(function(){return K.isMac}));var z=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/overflow.js");n.d(t,"hasHorizontalOverflow",(function(){return z.hasHorizontalOverflow})),n.d(t,"hasVerticalOverflow",(function(){return z.hasVerticalOverflow})),n.d(t,"hasOverflow",(function(){return z.hasOverflow}));var W=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/properties.js");n.d(t,"baseElementEvents",(function(){return W.baseElementEvents})),n.d(t,"baseElementProperties",(function(){return W.baseElementProperties})),n.d(t,"htmlElementProperties",(function(){return W.htmlElementProperties})),n.d(t,"labelProperties",(function(){return W.labelProperties})),n.d(t,"audioProperties",(function(){return W.audioProperties})),n.d(t,"videoProperties",(function(){return W.videoProperties})),n.d(t,"olProperties",(function(){return W.olProperties})),n.d(t,"liProperties",(function(){return W.liProperties})),n.d(t,"anchorProperties",(function(){return W.anchorProperties})),n.d(t,"buttonProperties",(function(){return W.buttonProperties})),n.d(t,"inputProperties",(function(){return W.inputProperties})),n.d(t,"textAreaProperties",(function(){return W.textAreaProperties})),n.d(t,"selectProperties",(function(){return W.selectProperties})),n.d(t,"optionProperties",(function(){return W.optionProperties})),n.d(t,"tableProperties",(function(){return W.tableProperties})),n.d(t,"trProperties",(function(){return W.trProperties})),n.d(t,"thProperties",(function(){return W.thProperties})),n.d(t,"tdProperties",(function(){return W.tdProperties})),n.d(t,"colGroupProperties",(function(){return W.colGroupProperties})),n.d(t,"colProperties",(function(){return W.colProperties})),n.d(t,"formProperties",(function(){return W.formProperties})),n.d(t,"iframeProperties",(function(){return W.iframeProperties})),n.d(t,"imgProperties",(function(){return W.imgProperties})),n.d(t,"imageProperties",(function(){return W.imageProperties})),n.d(t,"divProperties",(function(){return W.divProperties})),n.d(t,"getNativeProps",(function(){return W.getNativeProps}));var q=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/renderFunction/composeRenderFunction.js");n.d(t,"composeRenderFunction",(function(){return q.composeRenderFunction}));var J=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/resources.js");n.d(t,"getResourceUrl",(function(){return J.getResourceUrl})),n.d(t,"setBaseUrl",(function(){return J.setBaseUrl}));var X=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/rtl.js");n.d(t,"getRTL",(function(){return X.getRTL})),n.d(t,"setRTL",(function(){return X.setRTL})),n.d(t,"getRTLSafeKeyCode",(function(){return X.getRTLSafeKeyCode}));var Z=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeRequestAnimationFrame.js");n.d(t,"safeRequestAnimationFrame",(function(){return Z.safeRequestAnimationFrame}));var ee=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeSetTimeout.js");n.d(t,"safeSetTimeout",(function(){return ee.safeSetTimeout}));var te=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/scroll.js");n.d(t,"DATA_IS_SCROLLABLE_ATTRIBUTE",(function(){return te.DATA_IS_SCROLLABLE_ATTRIBUTE})),n.d(t,"allowScrollOnElement",(function(){return te.allowScrollOnElement})),n.d(t,"allowOverscrollOnElement",(function(){return te.allowOverscrollOnElement})),n.d(t,"disableBodyScroll",(function(){return te.disableBodyScroll})),n.d(t,"enableBodyScroll",(function(){return te.enableBodyScroll})),n.d(t,"getScrollbarWidth",(function(){return te.getScrollbarWidth})),n.d(t,"findScrollableParent",(function(){return te.findScrollableParent}));var ne=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/index.js");n.d(t,"SELECTION_CHANGE",(function(){return ne.SELECTION_CHANGE})),n.d(t,"SelectionMode",(function(){return ne.SelectionMode})),n.d(t,"SelectionDirection",(function(){return ne.SelectionDirection})),n.d(t,"Selection",(function(){return ne.Selection}));var ie=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/string.js");n.d(t,"format",(function(){return ie.format}));var re=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/styled.js");n.d(t,"styled",(function(){return re.styled}));var oe=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn.js");n.d(t,"warn",(function(){return oe.warn})),n.d(t,"setWarningCallback",(function(){return oe.setWarningCallback})),n.d(t,"warnConditionallyRequiredProps",(function(){return oe.warnConditionallyRequiredProps})),n.d(t,"resetControlledWarnings",(function(){return oe.resetControlledWarnings})),n.d(t,"warnControlledUsage",(function(){return oe.warnControlledUsage})),n.d(t,"warnDeprecations",(function(){return oe.warnDeprecations})),n.d(t,"warnMutuallyExclusive",(function(){return oe.warnMutuallyExclusive}));var se=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/ie11Detector.js");n.d(t,"isIE11",(function(){return se.isIE11}));var ae=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getPropsWithDefaults.js");n.d(t,"getPropsWithDefaults",(function(){return ae.getPropsWithDefaults}));var ce=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js");n.d(t,"setFocusVisibility",(function(){return ce.setFocusVisibility})),n.d(t,"IsFocusVisibleClassName",(function(){return ce.IsFocusVisibleClassName}));var le=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js");n.d(t,"setSSR",(function(){return le.setSSR}));var ue=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/createMergedRef.js");n.d(t,"createMergedRef",(function(){return ue.createMergedRef})),n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/version.js")},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeComponentRef.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initializeComponentRef",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){Object(i.extendComponent)(e,{componentDidMount:s,componentDidUpdate:a,componentWillUnmount:c})}function s(){l(this.props.componentRef,this)}function a(e){e.componentRef!==this.props.componentRef&&(l(e.componentRef,null),l(this.props.componentRef,this))}function c(){l(this.props.componentRef,null)}function l(e,t){e&&("object"===r(e)?e.current=t:"function"==typeof e&&e(t))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeFocusRects.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initializeFocusRects",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js");function s(e){var t=e||Object(i.getWindow)();t&&!0!==(null===(e=t.FabricConfig)||void 0===e?void 0:e.disableFocusRects)&&(t.__hasInitializeFocusRects__||(t.__hasInitializeFocusRects__=!0,t.addEventListener("mousedown",a,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("keydown",l,!0)))}function a(e){Object(o.setFocusVisibility)(!1,e.target)}function c(e){"mouse"!==e.pointerType&&Object(o.setFocusVisibility)(!1,e.target)}function l(e){Object(r.isDirectionalKeyCode)(e.which)&&Object(o.setFocusVisibility)(!0,e.target)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initials.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getInitials",(function(){return a}));var i=/\([^)]*\)|[\0-\u001F\!-/:-@\[-`\{-\u00BF\u0250-\u036F\uD800-\uFFFF]/g,r=/^\d+[\d\s]*(:?ext|x|)\s*\d+$/i,o=/\s+/g,s=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\u3040-\u309F\u30A0-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[\uD840-\uD869][\uDC00-\uDED6]/;function a(e,t,n){return e?(e=e.replace(i,"").replace(o," ").trim(),s.test(e)||!n&&r.test(e)?"":(n=t,t="",2===(e=(e=e).split(" ")).length?(t+=e[0].charAt(0).toUpperCase(),t+=e[1].charAt(0).toUpperCase()):3===e.length?(t+=e[0].charAt(0).toUpperCase(),t+=e[2].charAt(0).toUpperCase()):0!==e.length&&(t+=e[0].charAt(0).toUpperCase()),n&&1<t.length?t.charAt(1)+t.charAt(0):t)):""}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isDirectionalKeyCode",(function(){return r})),n.d(t,"addDirectionalKeyCode",(function(){return o}));t=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js");var i=((n={})[t.KeyCodes.up]=1,n[t.KeyCodes.down]=1,n[t.KeyCodes.left]=1,n[t.KeyCodes.right]=1,n[t.KeyCodes.home]=1,n[t.KeyCodes.end]=1,n[t.KeyCodes.tab]=1,n[t.KeyCodes.pageUp]=1,n[t.KeyCodes.pageDown]=1,n);function r(e){return!!i[e]}function o(e){i[e]=1}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/language.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getLanguage",(function(){return c})),n.d(t,"setLanguage",(function(){return l}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/localStorage.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/sessionStorage.js"),a="language";function c(e){var t;return void 0===e&&(e="localStorage"),void 0===i&&(t=Object(r.getDocument)(),(e="localStorage"===e?o.getItem(a):"sessionStorage"===e?s.getItem(a):void 0)&&(i=e),void 0===i&&t&&(i=t.documentElement.getAttribute("lang")),void 0===i&&(i="en")),i}function l(e,t){var n=Object(r.getDocument)();n&&n.documentElement.setAttribute("lang",e),"localStorage"===(t=!0===t?"none":t||"localStorage")?o.setItem(a,e):"sessionStorage"===t&&s.setItem(a,e),i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/localStorage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getItem",(function(){return r})),n.d(t,"setItem",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");function r(e){var t=null;try{var n=Object(i.getWindow)();t=n?n.localStorage.getItem(e):null}catch(e){}return t}function o(e,t){try{var n=Object(i.getWindow)();n&&n.localStorage.setItem(e,t)}catch(e){}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/math.js":function(e,t,n){"use strict";function i(e,t){var n=e.left||e.x||0,i=e.top||e.y||0;e=t.left||t.x||0,t=t.top||t.y||0;return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function r(e){var t=e.contentSize,n=e.boundsSize,i=void 0===(r=e.mode)?"contain":r,r=void 0===(o=e.maxScale)?1:o,o=(e=t.width/t.height,n.width/n.height);n=("contain"===i?o<e:e<o)?n.width/t.width:n.height/t.height,n=Math.min(r,n);return{width:t.width*n,height:t.height*n}}function o(e){return(e=/[1-9]([0]+$)|\.([0-9]*)/.exec(String(e)))?e[1]?-e[1].length:e[2]?e[2].length:0:0}function s(e,t,n){return void 0===n&&(n=10),t=Math.pow(n,t),Math.round(e*t)/t}n.r(t),n.d(t,"getDistanceBetweenPoints",(function(){return i})),n.d(t,"fitContentToBounds",(function(){return r})),n.d(t,"calculatePrecision",(function(){return o})),n.d(t,"precisionRound",(function(){return s}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"setMemoizeWeakMap",(function(){return u})),n.d(t,"resetMemoizations",(function(){return d})),n.d(t,"memoize",(function(){return p})),n.d(t,"memoizeFunction",(function(){return m})),n.d(t,"createMemoizer",(function(){return A}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=!1,s=0,a={empty:!0},c={},l="undefined"==typeof WeakMap?null:WeakMap;function u(e){l=e}function d(){s++}function p(e,t,n){var i=m(n.value&&n.value.bind(null));return{configurable:!0,get:function(){return i}}}function m(e,t,n){if(void 0===t&&(t=100),void 0===n&&(n=!1),!l)return e;var u,p;o||((u=i.Stylesheet.getInstance())&&u.onReset&&i.Stylesheet.getInstance().onReset(d),o=!0);var m=0,A=s;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var l=p;(void 0===p||A!==s||0<t&&t<m)&&(p=h(),m=0,A=s),l=p;for(var u=0;u<i.length;u++){var d=function(e){return e?"object"===r(e)||"function"==typeof e?e:(c[e]||(c[e]={val:e}),c[e]):a}(i[u]);l.map.has(d)||l.map.set(d,h()),l=l.map.get(d)}return l.hasOwnProperty("value")||(l.value=e.apply(void 0,i),m++),!n||null!==l.value&&void 0!==l.value||(l.value=e.apply(void 0,i)),l.value}}function A(e){if(!l)return e;var t=new l;return function(n){if(!n||"function"!=typeof n&&"object"!==r(n))return e(n);if(t.has(n))return t.get(n);var i=e(n);return t.set(n,i),i}}function h(){return{map:l?new l:null}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/merge.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++)!function e(t,n,r){for(var o in void 0===r&&(r=[]),r.push(n),n){var s,a;n.hasOwnProperty(o)&&"__proto__"!==o&&"constructor"!==o&&"prototype"!==o&&("object"===i(s=n[o])&&null!==s?(a=-1<r.indexOf(s),t[o]=a?s:e(t[o]||{},s,r)):t[o]=s)}return r.pop(),t}(e||{},o[r]);return e}n.r(t),n.d(t,"merge",(function(){return r}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/mobileDetector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isIOS",(function(){return i}));var i=function(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/modalize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"modalize",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js");function r(e){for(var t,n=[],r=Object(i.getDocument)(e)||document;e!==r.body;){for(var o=0,s=e.parentElement.children;o<s.length;o++){var a=s[o];a!==e&&"true"!==(null===(t=a.getAttribute("aria-hidden"))||void 0===t?void 0:t.toLowerCase())&&n.push(a)}if(!e.parentElement)break;e=e.parentElement}return n.forEach((function(e){e.setAttribute("aria-hidden","true")})),function(){n.forEach((function(e){e.setAttribute("aria-hidden","false")})),n=[]}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/object.js":function(e,t,n){"use strict";function i(e,t){for(var n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(var n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.apply(this,[null,e].concat(t))}function o(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t=t||{};for(var r=0,o=n;r<o.length;r++){var s=o[r];if(s)for(var a in s)!s.hasOwnProperty(a)||e&&!e(a)||(t[a]=s[a])}return t}function s(e,t){return Object.keys(e).map((function(n){if(String(Number(n))!==n)return t(n,e[n])})).filter((function(e){return!!e}))}function a(e){return Object.keys(e).reduce((function(t,n){return t.push(e[n]),t}),[])}function c(e,t){var n,i={};for(n in e)-1===t.indexOf(n)&&e.hasOwnProperty(n)&&(i[n]=e[n]);return i}n.r(t),n.d(t,"shallowCompare",(function(){return i})),n.d(t,"assign",(function(){return r})),n.d(t,"filteredAssign",(function(){return o})),n.d(t,"mapEnumByName",(function(){return s})),n.d(t,"values",(function(){return a})),n.d(t,"omit",(function(){return c}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/osDetector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isMac",(function(){return o}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");function o(e){return void 0!==i&&!e||(e=(e=Object(r.getWindow)())&&e.navigator.userAgent,i=!!e&&-1!==e.indexOf("Macintosh")),!!i}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/overflow.js":function(e,t,n){"use strict";function i(e){return e.clientWidth<e.scrollWidth}function r(e){return e.clientHeight<e.scrollHeight}function o(e){return i(e)||r(e)}n.r(t),n.d(t,"hasHorizontalOverflow",(function(){return i})),n.d(t,"hasVerticalOverflow",(function(){return r})),n.d(t,"hasOverflow",(function(){return o}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/properties.js":function(e,t,n){"use strict";n.r(t),n.d(t,"baseElementEvents",(function(){return i})),n.d(t,"baseElementProperties",(function(){return r})),n.d(t,"htmlElementProperties",(function(){return o})),n.d(t,"labelProperties",(function(){return s})),n.d(t,"audioProperties",(function(){return a})),n.d(t,"videoProperties",(function(){return c})),n.d(t,"olProperties",(function(){return l})),n.d(t,"liProperties",(function(){return u})),n.d(t,"anchorProperties",(function(){return d})),n.d(t,"buttonProperties",(function(){return p})),n.d(t,"inputProperties",(function(){return m})),n.d(t,"textAreaProperties",(function(){return A})),n.d(t,"selectProperties",(function(){return h})),n.d(t,"optionProperties",(function(){return f})),n.d(t,"tableProperties",(function(){return g})),n.d(t,"trProperties",(function(){return v})),n.d(t,"thProperties",(function(){return y})),n.d(t,"tdProperties",(function(){return S})),n.d(t,"colGroupProperties",(function(){return b})),n.d(t,"colProperties",(function(){return C})),n.d(t,"formProperties",(function(){return E})),n.d(t,"iframeProperties",(function(){return w})),n.d(t,"imgProperties",(function(){return T})),n.d(t,"imageProperties",(function(){return P})),n.d(t,"divProperties",(function(){return _})),n.d(t,"getNativeProps",(function(){return B}));var i=(t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},i=0,r=e;i<r.length;i++)for(var o=r[i],s=0,a=Array.isArray(o)?o:Object.keys(o);s<a.length;s++)n[a[s]]=1;return n})(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),r=t(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),o=t(r,i),s=t(o,["form"]),a=t(o,["height","loop","muted","preload","src","width"]),c=t(a,["poster"]),l=t(o,["start"]),u=t(o,["value"]),d=t(o,["download","href","hrefLang","media","rel","target","type"]),p=t(o,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),m=t(p,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),A=t(p,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),h=t(p,["form","multiple","required"]),f=t(o,["selected","value"]),g=t(o,["cellPadding","cellSpacing"]),v=o,y=t(o,["rowSpan","scope"]),S=t(o,["colSpan","headers","rowSpan","scope"]),b=t(o,["span"]),C=t(o,["span"]),E=t(o,["acceptCharset","action","encType","encType","method","noValidate","target"]),w=t(o,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),T=t(o,["alt","crossOrigin","height","src","srcSet","useMap","width"]),P=T,_=o;function B(e,t,n){for(var i=Array.isArray(t),r={},o=0,s=Object.keys(e);o<s.length;o++){var a=s[o];!(!i&&t[a]||i&&0<=t.indexOf(a)||0===a.indexOf("data-")||0===a.indexOf("aria-"))||n&&-1!==(null==n?void 0:n.indexOf(a))||(r[a]=e[a])}return r}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/renderFunction/composeRenderFunction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"composeRenderFunction",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js"),r=Object(i.createMemoizer)((function(e){return Object(i.createMemoizer)((function(t){var n=Object(i.createMemoizer)((function(e){return function(n){return t(n,e)}}));return function(i,r){return e(i,r?n(r):t)}}))}));function o(e,t){return r(e)(t)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/resources.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getResourceUrl",(function(){return r})),n.d(t,"setBaseUrl",(function(){return o}));var i="";function r(e){return i+e}function o(e){i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/rtl.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getRTL",(function(){return l})),n.d(t,"setRTL",(function(){return u})),n.d(t,"getRTLSafeKeyCode",(function(){return d}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/sessionStorage.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),c="isRTL";function l(e){return void 0===e&&(e={}),void 0!==e.rtl?e.rtl:(void 0===i&&(null!==(e=Object(s.getItem)(c))&&u(i="1"===e),e=Object(o.getDocument)(),void 0===i&&e&&(i="rtl"===(e.body&&e.body.getAttribute("dir")||e.documentElement.getAttribute("dir")),Object(a.setRTL)(i))),!!i)}function u(e,t){void 0===t&&(t=!1);var n=Object(o.getDocument)();n&&n.documentElement.setAttribute("dir",e?"rtl":"ltr"),t&&Object(s.setItem)(c,e?"1":"0"),i=e,Object(a.setRTL)(i)}function d(e,t){return void 0===t&&(t={}),l(t)&&(e===r.KeyCodes.left?e=r.KeyCodes.right:e===r.KeyCodes.right&&(e=r.KeyCodes.left)),e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeRequestAnimationFrame.js":function(e,t,n){"use strict";n.r(t),n.d(t,"safeRequestAnimationFrame",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js"),r=function(e){var t;return function(n){t||(t=new Set,Object(i.extendComponent)(e,{componentWillUnmount:function(){t.forEach((function(e){return cancelAnimationFrame(e)}))}}));var r=requestAnimationFrame((function(){t.delete(r),n()}));t.add(r)}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeSetTimeout.js":function(e,t,n){"use strict";n.r(t),n.d(t,"safeSetTimeout",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js"),r=function(e){var t;return function(n,r){t||(t=new Set,Object(i.extendComponent)(e,{componentWillUnmount:function(){t.forEach((function(e){return clearTimeout(e)}))}}));var o=setTimeout((function(){t.delete(o),n()}),r);t.add(o)}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/scroll.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DATA_IS_SCROLLABLE_ATTRIBUTE",(function(){return c})),n.d(t,"allowScrollOnElement",(function(){return l})),n.d(t,"allowOverscrollOnElement",(function(){return u})),n.d(t,"disableBodyScroll",(function(){return p})),n.d(t,"enableBodyScroll",(function(){return m})),n.d(t,"getScrollbarWidth",(function(){return A})),n.d(t,"findScrollableParent",(function(){return h}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js"),o=(t=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js")),s=0,a=Object(t.mergeStyles)({overflow:"hidden !important"}),c="data-is-scrollable",l=function(e,t){var n,i;e&&(n=0,i=null,t.on(e,"touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),{passive:!1}),t.on(e,"touchmove",(function(e){var t,r;1===e.targetTouches.length&&(e.stopPropagation(),i&&(t=e.targetTouches[0].clientY-n,(r=h(e.target))&&(i=r),0===i.scrollTop&&0<t&&e.preventDefault(),i.scrollHeight-Math.ceil(i.scrollTop)<=i.clientHeight&&t<0&&e.preventDefault()))}),{passive:!1}),i=e)},u=function(e,t){e&&t.on(e,"touchmove",(function(e){e.stopPropagation()}),{passive:!1})},d=function(e){e.preventDefault()};function p(){var e=Object(r.getDocument)();e&&e.body&&!s&&(e.body.classList.add(a),e.body.addEventListener("touchmove",d,{passive:!1,capture:!1})),s++}function m(){var e;0<s&&((e=Object(r.getDocument)())&&e.body&&1===s&&(e.body.classList.remove(a),e.body.removeEventListener("touchmove",d)),s--)}function A(){var e;return void 0===i&&((e=document.createElement("div")).style.setProperty("width","100px"),e.style.setProperty("height","100px"),e.style.setProperty("overflow","scroll"),e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),i}function h(e){for(var t=e,n=Object(r.getDocument)(e);t&&t!==n.body;){if("true"===t.getAttribute(c))return t;t=t.parentElement}for(t=e;t&&t!==n.body;){var i;if("false"!==t.getAttribute(c))if((i=(i=getComputedStyle(t))?i.getPropertyValue("overflow-y"):"")&&("scroll"===i||"auto"===i))return t;t=t.parentElement}return t&&t!==n.body||(t=Object(o.getWindow)(e)),t}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Selection",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.types.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js"),o=(s.prototype.canSelectItem=function(e,t){return!("number"==typeof t&&t<0)&&this._canSelectItem(e,t)},s.prototype.getKey=function(e,t){return"number"==typeof(t=this._getKey(e,t))||t?""+t:""},s.prototype.setChangeEvents=function(e,t){this._changeEventSuppressionCount+=e?-1:1,0===this._changeEventSuppressionCount&&this._hasChanged&&(this._hasChanged=!1,t||this._change())},s.prototype.isModal=function(){return this._isModal},s.prototype.setModal=function(e){this._isModal!==e&&(this.setChangeEvents(!1),(this._isModal=e)||this.setAllSelected(!1),this._change(),this.setChangeEvents(!0))},s.prototype.setItems=function(e,t){void 0===t&&(t=!0);var n={},i={},r=!1;this.setChangeEvents(!1);for(var o,s=this._unselectableCount=0;s<e.length;s++)!(l=e[s])||(o=this.getKey(l,s))&&(n[o]=s),i[s]=l&&!this.canSelectItem(l),i[s]&&this._unselectableCount++;!t&&0!==e.length||this._setAllSelected(!1,!0);var a,c,l,u,d={},p=0;for(a in this._exemptedIndices)this._exemptedIndices.hasOwnProperty(a)&&(c=Number(a),r=void 0===(u=(u=(l=this._items[c])?this.getKey(l,Number(c)):void 0)?n[u]:c)||(d[u]=!0,p++,r||u!==c));this._items&&0===this._exemptedCount&&e.length!==this._items.length&&this._isAllSelected&&(r=!0),this._exemptedIndices=d,this._exemptedCount=p,this._keyToIndexMap=n,this._unselectableIndices=i,this._items=e,this._selectedItems=null,r&&(this._updateCount(),this._change()),this.setChangeEvents(!0)},s.prototype.getItems=function(){return this._items},s.prototype.getSelection=function(){if(!this._selectedItems){this._selectedItems=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedItems.push(e[t])}return this._selectedItems},s.prototype.getSelectedCount=function(){return this._isAllSelected?this._items.length-this._exemptedCount-this._unselectableCount:this._exemptedCount},s.prototype.getSelectedIndices=function(){if(!this._selectedIndices){this._selectedIndices=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedIndices.push(t)}return this._selectedIndices},s.prototype.isRangeSelected=function(e,t){if(0===t)return!1;for(var n=e+t,i=e;i<n;i++)if(!this.isIndexSelected(i))return!1;return!0},s.prototype.isAllSelected=function(){var e=this._items.length-this._unselectableCount;return this.mode===i.SelectionMode.single&&(e=Math.min(e,1)),0<this.count&&this._isAllSelected&&0===this._exemptedCount||!this._isAllSelected&&this._exemptedCount===e&&0<e},s.prototype.isKeySelected=function(e){return e=this._keyToIndexMap[e],this.isIndexSelected(e)},s.prototype.isIndexSelected=function(e){return!!(0<this.count&&this._isAllSelected&&!this._exemptedIndices[e]&&!this._unselectableIndices[e]||!this._isAllSelected&&this._exemptedIndices[e])},s.prototype.setAllSelected=function(e){var t;e&&this.mode!==i.SelectionMode.multiple||(t=this._items?this._items.length-this._unselectableCount:0,this.setChangeEvents(!1),0<t&&(0<this._exemptedCount||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||0<this._exemptedCount)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount()),this.setChangeEvents(!0))},s.prototype.setKeySelected=function(e,t,n){0<=(e=this._keyToIndexMap[e])&&this.setIndexSelected(e,t,n)},s.prototype.setIndexSelected=function(e,t,n){var r;this.mode!==i.SelectionMode.none&&((e=Math.min(Math.max(0,e),this._items.length-1))<0||e>=this._items.length||(this.setChangeEvents(!1),r=this._exemptedIndices[e],this._unselectableIndices[e]||(t&&this.mode===i.SelectionMode.single&&this._setAllSelected(!1,!0),r&&(t&&this._isAllSelected||!t&&!this._isAllSelected)&&(delete this._exemptedIndices[e],this._exemptedCount--),!r&&(t&&!this._isAllSelected||!t&&this._isAllSelected)&&(this._exemptedIndices[e]=!0,this._exemptedCount++),n&&(this._anchoredIndex=e)),this._updateCount(),this.setChangeEvents(!0)))},s.prototype.selectToKey=function(e,t){this.selectToIndex(this._keyToIndexMap[e],t)},s.prototype.selectToIndex=function(e,t){if(this.mode!==i.SelectionMode.none)if(this.mode!==i.SelectionMode.single){var n=this._anchoredIndex||0,r=Math.min(e,n),o=Math.max(e,n);for(this.setChangeEvents(!1),t&&this._setAllSelected(!1,!0);r<=o;r++)this.setIndexSelected(r,!0,!1);this.setChangeEvents(!0)}else this.setIndexSelected(e,!0,!0)},s.prototype.toggleAllSelected=function(){this.setAllSelected(!this.isAllSelected())},s.prototype.toggleKeySelected=function(e){this.setKeySelected(e,!this.isKeySelected(e),!0)},s.prototype.toggleIndexSelected=function(e){this.setIndexSelected(e,!this.isIndexSelected(e),!0)},s.prototype.toggleRangeSelected=function(e,t){if(this.mode!==i.SelectionMode.none){var n=this.isRangeSelected(e,t),r=e+t;if(!(this.mode===i.SelectionMode.single&&1<t)){this.setChangeEvents(!1);for(var o=e;o<r;o++)this.setIndexSelected(o,!n,!1);this.setChangeEvents(!0)}}},s.prototype._updateCount=function(e){void 0===e&&(e=!1);var t=this.getSelectedCount();t!==this.count&&(this.count=t,this._change()),this.count||e||this.setModal(!1)},s.prototype._setAllSelected=function(e,t){var n;void 0===t&&(t=!1),e&&this.mode!==i.SelectionMode.multiple||(n=this._items?this._items.length-this._unselectableCount:0,this.setChangeEvents(!1),0<n&&(0<this._exemptedCount||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||0<this._exemptedCount)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount(t)),this.setChangeEvents(!0))},s.prototype._change=function(){0===this._changeEventSuppressionCount?(this._selectedItems=null,this._selectedIndices=void 0,r.EventGroup.raise(this,i.SELECTION_CHANGE),this._onSelectionChanged&&this._onSelectionChanged()):this._hasChanged=!0},s);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(c=e[0]||{}).onSelectionChanged,r=c.getKey,o=void 0===(s=c.canSelectItem)?function(){return!0}:s,s=c.items,c=void 0===(c=c.selectionMode)?i.SelectionMode.multiple:c;this.mode=c,this._getKey=r||a,this._changeEventSuppressionCount=0,this._exemptedCount=0,this._anchoredIndex=0,this._unselectableCount=0,this._onSelectionChanged=n,this._canSelectItem=o,this._isModal=!1,this.setItems(s||[],!0),this.count=this.getSelectedCount()}function a(e,t){return void 0===(e=(e||{}).key)?""+t:e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.types.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SELECTION_CHANGE",(function(){return o})),n.d(t,"SelectionMode",(function(){return i})),n.d(t,"SelectionDirection",(function(){return r}));var i,r,o="change";(t=i=i||{})[t.none=0]="none",t[t.single=1]="single",t[t.multiple=2]="multiple",(t=r=r||{})[t.horizontal=0]="horizontal",t[t.vertical=1]="vertical"},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.types.js");n.d(t,"SELECTION_CHANGE",(function(){return i.SELECTION_CHANGE})),n.d(t,"SelectionMode",(function(){return i.SelectionMode})),n.d(t,"SelectionDirection",(function(){return i.SelectionDirection}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.js");n.d(t,"Selection",(function(){return r.Selection}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/sessionStorage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getItem",(function(){return r})),n.d(t,"setItem",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");function r(e){var t=null;try{var n=Object(i.getWindow)();t=n?n.sessionStorage.getItem(e):null}catch(e){}return t}function o(e,t){var n;try{null!==(n=Object(i.getWindow)())&&void 0!==n&&n.sessionStorage.setItem(e,t)}catch(e){}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js":function(e,t,n){"use strict";n.r(t),n.d(t,"IsFocusVisibleClassName",(function(){return r})),n.d(t,"IsFocusHiddenClassName",(function(){return o})),n.d(t,"setFocusVisibility",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r="ms-Fabric--isFocusVisible",o="ms-Fabric--isFocusHidden";function s(e,t){(t=t?Object(i.getWindow)(t):Object(i.getWindow)())&&((t=t.document.body.classList).add(e?r:o),t.remove(e?o:r))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/string.js":function(e,t,n){"use strict";n.r(t),n.d(t,"format",(function(){return o}));var i=/[\{\}]/g,r=/\{\d+\}/g;function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t;return e.replace(r,(function(e){return null==(e=o[e.replace(i,"")])&&(e=""),e}))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/styled.js":function(e,t,n){"use strict";n.r(t),n.d(t,"styled",(function(){return c}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/useCustomizationSettings.js"),a=["theme","styles"];function c(e,t,n,c,l){var u=(c=c||{scope:"",fields:void 0}).scope,d=void 0===(c=c.fields)?a:c;return(c=r.forwardRef((function(a,c){var l=r.useRef(),p=(h=Object(s.useCustomizationSettings)(d,u)).styles,m=(h.dir,Object(i.__rest)(h,["styles","dir"])),A=n?n(a):void 0,h=l.current&&l.current.__cachedInputs__||[];return l.current&&p===h[1]&&a.styles===h[2]||((h=function(e){return Object(o.concatStyleSetsWithProps)(e,t,p,a.styles)}).__cachedInputs__=[t,p,a.styles],h.__noStyleOverride__=!p&&!a.styles,l.current=h),r.createElement(e,Object(i.__assign)({ref:c},m,A,a,{styles:l.current}))}))).displayName="Styled"+(e.displayName||e.name),l=l?r.memo(c):c,c.displayName&&(l.displayName=c.displayName),l}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/useFocusRects.js":function(e,t,n){"use strict";n.r(t),n.d(t,"useFocusRects",(function(){return l})),n.d(t,"FocusRects",(function(){return u}));var i=n("./node_modules/react/index.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js"),a=new WeakMap;function c(e,t){var n=a.get(e);t=n?n+t:1;return a.set(e,t),t}function l(e){i.useEffect((function(){var t,n=Object(r.getWindow)(null==e?void 0:e.current);if(n&&!0!==(null===(t=n.FabricConfig)||void 0===t?void 0:t.disableFocusRects))return c(n,1)<=1&&(n.addEventListener("mousedown",d,!0),n.addEventListener("pointerdown",p,!0),n.addEventListener("keydown",m,!0)),function(){var e;n&&!0!==(null===(e=n.FabricConfig)||void 0===e?void 0:e.disableFocusRects)&&0===c(n,-1)&&(n.removeEventListener("mousedown",d,!0),n.removeEventListener("pointerdown",p,!0),n.removeEventListener("keydown",m,!0))}}),[e])}var u=function(e){return l(e.rootRef),null};function d(e){Object(s.setFocusVisibility)(!1,e.target)}function p(e){"mouse"!==e.pointerType&&Object(s.setFocusVisibility)(!1,e.target)}function m(e){Object(o.isDirectionalKeyCode)(e.which)&&Object(s.setFocusVisibility)(!0,e.target)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/version.js":function(e,t,n){"use strict";n.r(t),n=n("./node_modules/@uifabric/set-version/lib/index.js"),Object(n.setVersion)("@uifabric/utilities","7.33.1")},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");n.d(t,"warn",(function(){return i.warn})),n.d(t,"setWarningCallback",(function(){return i.setWarningCallback}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnConditionallyRequiredProps.js");n.d(t,"warnConditionallyRequiredProps",(function(){return r.warnConditionallyRequiredProps}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnControlledUsage.js");n.d(t,"resetControlledWarnings",(function(){return o.resetControlledWarnings})),n.d(t,"warnControlledUsage",(function(){return o.warnControlledUsage}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnDeprecations.js");n.d(t,"warnDeprecations",(function(){return s.warnDeprecations}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnMutuallyExclusive.js");n.d(t,"warnMutuallyExclusive",(function(){return a.warnMutuallyExclusive}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warn",(function(){return r})),n.d(t,"setWarningCallback",(function(){return o}));var i=void 0;function r(e){i?i(e):console&&console.warn&&console.warn(e)}function o(e){i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnConditionallyRequiredProps.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warnConditionallyRequiredProps",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");function r(e,t,n,r,o){if(!0===o)for(var s=0,a=n;s<a.length;s++){var c=a[s];c in t||Object(i.warn)(e+" property '"+c+"' is required when '"+r+"' is used.'")}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnControlledUsage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"resetControlledWarnings",(function(){return s})),n.d(t,"warnControlledUsage",(function(){return a}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/controlled.js");function s(){i.valueOnChange={},i.valueDefaultValue={},i.controlledToUncontrolled={},i.uncontrolledToControlled={}}function a(e){var t,n=e.componentId,s=e.componentName,a=e.defaultValueProp,c=e.props,l=e.oldProps,u=e.onChangeProp,d=e.readOnlyProp,p=e.valueProp,m=l?Object(o.isControlled)(l,p):void 0,A=Object(o.isControlled)(c,p);A&&(t=!!c[u],e=!(!d||!c[d]),t||e||i.valueOnChange[n]||(i.valueOnChange[n]=!0,Object(r.warn)("Warning: You provided a '"+p+"' prop to a "+s+" without an '"+u+"' handler. This will render a read-only field. If the field should be mutable use '"+a+"'. Otherwise, set '"+u+"'"+(d?" or '"+d+"'":"")+".")),null==c[a]||i.valueDefaultValue[n]||(i.valueDefaultValue[n]=!0,Object(r.warn)("Warning: You provided both '"+p+"' and '"+a+"' to a "+s+". Form fields must be either controlled or uncontrolled (specify either the '"+p+"' prop, or the '"+a+"' prop, but not both). Decide between using a controlled or uncontrolled "+s+" and remove one of these props. More info: https://fb.me/react-controlled-components"))),l&&A!==m&&(l=m?"a controlled":"an uncontrolled",A=m?"uncontrolled":"controlled",(m=m?i.controlledToUncontrolled:i.uncontrolledToControlled)[n]||(m[n]=!0,Object(r.warn)("Warning: A component is changing "+l+" "+s+" to be "+A+". "+s+"s should not switch from controlled to uncontrolled (or vice versa). Decide between using controlled or uncontrolled for the lifetime of the component. More info: https://fb.me/react-controlled-components")))}i={valueOnChange:{},valueDefaultValue:{},controlledToUncontrolled:{},uncontrolledToControlled:{}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnDeprecations.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warnDeprecations",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");function r(e,t,n){for(var r in n){var o,s;t&&r in t&&(o=e+" property '"+r+"' was used but has been deprecated.",(s=n[r])&&(o+=" Use '"+s+"' instead."),Object(i.warn)(o))}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnMutuallyExclusive.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warnMutuallyExclusive",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");function r(e,t,n){for(var r in n){var o;!t||void 0===t[r]||(o=n[r])&&void 0!==t[o]&&Object(i.warn)(e+" property '"+r+"' is mutually exclusive with '"+n[r]+"'. Use one or the other.")}}},"./node_modules/adal-angular/lib/adal.js":function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){"use strict";return r=function(e){if(this.REQUEST_TYPE={LOGIN:"LOGIN",RENEW_TOKEN:"RENEW_TOKEN",UNKNOWN:"UNKNOWN"},this.RESPONSE_TYPE={ID_TOKEN_TOKEN:"id_token token",TOKEN:"token"},this.CONSTANTS={ACCESS_TOKEN:"access_token",EXPIRES_IN:"expires_in",ID_TOKEN:"id_token",ERROR_DESCRIPTION:"error_description",SESSION_STATE:"session_state",ERROR:"error",STORAGE:{TOKEN_KEYS:"adal.token.keys",ACCESS_TOKEN_KEY:"adal.access.token.key",EXPIRATION_KEY:"adal.expiration.key",STATE_LOGIN:"adal.state.login",STATE_RENEW:"adal.state.renew",NONCE_IDTOKEN:"adal.nonce.idtoken",SESSION_STATE:"adal.session.state",USERNAME:"adal.username",IDTOKEN:"adal.idtoken",ERROR:"adal.error",ERROR_DESCRIPTION:"adal.error.description",LOGIN_REQUEST:"adal.login.request",LOGIN_ERROR:"adal.login.error",RENEW_STATUS:"adal.token.renew.status",ANGULAR_LOGIN_REQUEST:"adal.angular.login.request"},RESOURCE_DELIMETER:"|",CACHE_DELIMETER:"||",LOADFRAME_TIMEOUT:6e3,TOKEN_RENEW_STATUS_CANCELED:"Canceled",TOKEN_RENEW_STATUS_COMPLETED:"Completed",TOKEN_RENEW_STATUS_IN_PROGRESS:"In Progress",LOGGING_LEVEL:{ERROR:0,WARN:1,INFO:2,VERBOSE:3},LEVEL_STRING_MAP:{0:"ERROR:",1:"WARNING:",2:"INFO:",3:"VERBOSE:"},POPUP_WIDTH:483,POPUP_HEIGHT:600},r.prototype._singletonInstance)return r.prototype._singletonInstance;if((r.prototype._singletonInstance=this).instance="https://login.microsoftonline.com/",this.config={},this.callback=null,this.popUp=!1,this.isAngular=!1,this._user=null,this._activeRenewals={},this._loginInProgress=!1,this._acquireTokenInProgress=!1,this._renewStates=[],this._callBackMappedToRenewStates={},this._callBacksMappedToRenewStates={},this._openedWindows=[],this._requestType=this.REQUEST_TYPE.LOGIN,window._adalInstance=this,e.displayCall&&"function"!=typeof e.displayCall)throw new Error("displayCall is not a function");if(!e.clientId)throw new Error("clientId is required");this.config=this._cloneConfig(e),void 0===this.config.navigateToLoginRequestUrl&&(this.config.navigateToLoginRequestUrl=!0),this.config.popUp&&(this.popUp=!0),this.config.callback&&"function"==typeof this.config.callback&&(this.callback=this.config.callback),this.config.instance&&(this.instance=this.config.instance),this.config.loginResource||(this.config.loginResource=this.config.clientId),this.config.redirectUri||(this.config.redirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.postLogoutRedirectUri||(this.config.postLogoutRedirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.anonymousEndpoints||(this.config.anonymousEndpoints=[]),this.config.isAngular&&(this.isAngular=this.config.isAngular),this.config.loadFrameTimeout&&(this.CONSTANTS.LOADFRAME_TIMEOUT=this.config.loadFrameTimeout)},"undefined"!=typeof window&&(window.Logging={piiLoggingEnabled:!1,level:0,log:function(){}}),r.prototype.login=function(){var e,t;this._loginInProgress?this.info("Login in progress"):(this._loginInProgress=!0,e=this._guid(),this.config.state=e,this._idTokenNonce=this._guid(),(t=this._getItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST))&&""!==t?this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""):t=window.location.href,this.verbose("Expected state: "+e+" startPage:"+t),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,t),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,e,!0),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),t=this._getNavigateUrl("id_token",null)+"&nonce="+encodeURIComponent(this._idTokenNonce),this.config.displayCall?this.config.displayCall(t):this.popUp?(this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._renewStates.push(e),this.registerCallback(e,this.config.clientId,this.callback),this._loginPopup(t)):this.promptUser(t))},r.prototype._openPopup=function(e,t,n,i){try{var r=window.screenLeft||window.screenX,o=window.screenTop||window.screenY,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;r=s/2-n/2+r,o=a/2-i/2+o;return(r=window.open(e,t,"width="+n+", height="+i+", top="+o+", left="+r)).focus&&r.focus(),r}catch(e){return this.warn("Error opening popup, "+e.message),this._loginInProgress=!1,this._acquireTokenInProgress=!1,null}},r.prototype._handlePopupError=function(e,t,n,i,r){this.warn(i),this._saveItem(this.CONSTANTS.STORAGE.ERROR,n),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,i),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,r),t&&this._activeRenewals[t]&&(this._activeRenewals[t]=null),this._loginInProgress=!1,this._acquireTokenInProgress=!1,e&&e(i,null,n)},r.prototype._loginPopup=function(e,t,n){var i,r,o,s=this._openPopup(e,"login",this.CONSTANTS.POPUP_WIDTH,this.CONSTANTS.POPUP_HEIGHT),a=n||this.callback;null!=s?(this._openedWindows.push(s),i=-1!=this.config.redirectUri.indexOf("#")?this.config.redirectUri.split("#")[0]:this.config.redirectUri,r=this,o=window.setInterval((function(){if(!s||s.closed||void 0===s.closed){var e="Popup Window closed",n="Popup Window closed by UI action/ Popup Window handle destroyed due to cross zone navigation in IE/Edge";return r.isAngular&&r._broadcast("adal:popUpClosed",n+r.CONSTANTS.RESOURCE_DELIMETER+e),r._handlePopupError(a,t,e,n,n),void window.clearInterval(o)}try{var c=s.location;if(-1!=encodeURI(c.href).indexOf(encodeURI(i)))return r.isAngular?r._broadcast("adal:popUpHashChanged",c.hash):r.handleWindowCallback(c.hash),window.clearInterval(o),r._loginInProgress=!1,r._acquireTokenInProgress=!1,r.info("Closing popup window"),r._openedWindows=[],void s.close()}catch(e){}}),1)):(n="Popup Window is null. This can happen if you are using IE",this._handlePopupError(a,t,"Error opening popup",n,n))},r.prototype._broadcast=function(e,t){function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(n.prototype=window.Event.prototype,window.CustomEvent=n),t=new CustomEvent(e,{detail:t}),window.dispatchEvent(t)},r.prototype.loginInProgress=function(){return this._loginInProgress},r.prototype._hasResource=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);return t&&!this._isEmpty(t)&&-1<t.indexOf(e+this.CONSTANTS.RESOURCE_DELIMETER)},r.prototype.getCachedToken=function(e){if(!this._hasResource(e))return null;var t=this._getItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e),n=this._getItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e),i=this.config.expireOffsetSeconds||300;return n&&n>this._now()+i?t:(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e,0),null)},r.prototype.getCachedUser=function(){if(this._user)return this._user;var e=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);return this._user=this._createUser(e),this._user},r.prototype.registerCallback=function(e,t,n){this._activeRenewals[t]=e,this._callBacksMappedToRenewStates[e]||(this._callBacksMappedToRenewStates[e]=[]);var i=this;this._callBacksMappedToRenewStates[e].push(n),this._callBackMappedToRenewStates[e]||(this._callBackMappedToRenewStates[e]=function(n,r,o,s){i._activeRenewals[t]=null;for(var a=0;a<i._callBacksMappedToRenewStates[e].length;++a)try{i._callBacksMappedToRenewStates[e][a](n,r,o,s)}catch(o){i.warn(o)}i._callBacksMappedToRenewStates[e]=null,i._callBackMappedToRenewStates[e]=null})},r.prototype._renewToken=function(e,t,n){this.info("renewToken is called for resource:"+e);var i=this._addAdalFrame("adalRenewFrame"+e),r=this._guid()+"|"+e;this.config.state=r,this._renewStates.push(r),this.verbose("Renew token Expected state: "+r),n=n||"token";var o=this._urlRemoveQueryStringParameter(this._getNavigateUrl(n,e),"prompt");n===this.RESPONSE_TYPE.ID_TOKEN_TOKEN&&(this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),o+="&nonce="+encodeURIComponent(this._idTokenNonce)),o+="&prompt=none",o=this._addHintParameters(o),this.registerCallback(r,e,t),this.verbosePii("Navigate to:"+o),i.src="about:blank",this._loadFrameTimeout(o,"adalRenewFrame"+e,e)},r.prototype._renewIdToken=function(e,t){this.info("renewIdToken is called");var n=this._addAdalFrame("adalIdTokenFrame"),i=this._guid()+"|"+this.config.clientId;this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this.config.state=i,this._renewStates.push(i),this.verbose("Renew Idtoken Expected state: "+i);var r=null==t?null:this.config.clientId;t=t||"id_token",r=this._urlRemoveQueryStringParameter(this._getNavigateUrl(t,r),"prompt");r+="&prompt=none",r=this._addHintParameters(r),r+="&nonce="+encodeURIComponent(this._idTokenNonce),this.registerCallback(i,this.config.clientId,e),this.verbosePii("Navigate to:"+r),n.src="about:blank",this._loadFrameTimeout(r,"adalIdTokenFrame",this.config.clientId)},r.prototype._urlContainsQueryStringParameter=function(e,t){return new RegExp("[\\?&]"+e+"=").test(t)},r.prototype._urlRemoveQueryStringParameter=function(e,t){var n=new RegExp("(\\&"+t+"=)[^&]+");return e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+&"),e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+"),e.replace(n,"")},r.prototype._loadFrameTimeout=function(e,t,n){this.verbose("Set loading state to pending for: "+n),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+n,this.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS),this._loadFrame(e,t);var i=this;setTimeout((function(){var e;i._getItem(i.CONSTANTS.STORAGE.RENEW_STATUS+n)===i.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS&&(i.verbose("Loading frame has timed out after: "+i.CONSTANTS.LOADFRAME_TIMEOUT/1e3+" seconds for resource "+n),(e=i._activeRenewals[n])&&i._callBackMappedToRenewStates[e]&&i._callBackMappedToRenewStates[e]("Token renewal operation failed due to timeout",null,"Token Renewal Failed"),i._saveItem(i.CONSTANTS.STORAGE.RENEW_STATUS+n,i.CONSTANTS.TOKEN_RENEW_STATUS_CANCELED))}),i.CONSTANTS.LOADFRAME_TIMEOUT)},r.prototype._loadFrame=function(e,t){var n=this;n.info("LoadFrame: "+t);var i=t;setTimeout((function(){var t=n._addAdalFrame(i);""!==t.src&&"about:blank"!==t.src||(t.src=e,n._loadFrame(e,i))}),500)},r.prototype.acquireToken=function(e,t){if(this._isEmpty(e))return this.warn("resource is required"),void t("resource is required",null,"resource is required");var n=this.getCachedToken(e);return n?(this.info("Token is already in cache for resource:"+e),void t(null,n,null)):this._user||this.config.extraQueryParameter&&-1!==this.config.extraQueryParameter.indexOf("login_hint")?void(this._activeRenewals[e]?this.registerCallback(this._activeRenewals[e],e,t):(this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,e===this.config.clientId?this._user?(this.verbose("renewing idtoken"),this._renewIdToken(t)):(this.verbose("renewing idtoken and access_token"),this._renewIdToken(t,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)):this._user?(this.verbose("renewing access_token"),this._renewToken(e,t)):(this.verbose("renewing idtoken and access_token"),this._renewToken(e,t,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)))):(this.warn("User login is required"),void t("User login is required",null,"login required"))},r.prototype.acquireTokenPopup=function(e,t,n,i){if(this._isEmpty(e))return this.warn("resource is required"),void i("resource is required",null,"resource is required");if(!this._user)return this.warn("User login is required"),void i("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void i("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var r=this._guid()+"|"+e;this.config.state=r,this._renewStates.push(r),this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,this.verbose("Renew token Expected state: "+r);var o=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",e),"prompt");if(o+="&prompt=select_account",t&&(o+=t),n&&-1===o.indexOf("&claims"))o+="&claims="+encodeURIComponent(n);else if(n&&-1!==o.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");o=this._addHintParameters(o),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+e),this.registerCallback(r,e,i),this._loginPopup(o,e,i)},r.prototype.acquireTokenRedirect=function(e,t,n){if(this._isEmpty(e))return this.warn("resource is required"),void i("resource is required",null,"resource is required");var i=this.callback;if(!this._user)return this.warn("User login is required"),void i("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void i("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var r=this._guid()+"|"+e;if(this.config.state=r,this.verbose("Renew token Expected state: "+r),i=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",e),"prompt"),i+="&prompt=select_account",t&&(i+=t),n&&-1===i.indexOf("&claims"))i+="&claims="+encodeURIComponent(n);else if(n&&-1!==i.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");i=this._addHintParameters(i),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+e),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,window.location.href),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,r,!0),this.promptUser(i)},r.prototype.promptUser=function(e){e?(this.infoPii("Navigate to:"+e),window.location.replace(e)):this.info("Navigate url is empty")},r.prototype.clearCache=function(){this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._renewStates=[],this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"");var e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);if(!this._isEmpty(e)){e=e.split(this.CONSTANTS.RESOURCE_DELIMETER);for(var t=0;t<e.length&&""!==e[t];t++)this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e[t],""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e[t],0)}this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,"")},r.prototype.clearCacheForResource=function(e){this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._hasResource(e)&&(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e,0))},r.prototype.logOut=function(){var e,t;this.clearCache(),this._user=null,t=this.config.logOutUri||(e="common",t="",this.config.tenant&&(e=this.config.tenant),this.config.postLogoutRedirectUri&&(t="post_logout_redirect_uri="+encodeURIComponent(this.config.postLogoutRedirectUri)),this.instance+e+"/oauth2/logout?"+t),this.infoPii("Logout navigate to: "+t),this.promptUser(t)},r.prototype._isEmpty=function(e){return void 0===e||!e||0===e.length},r.prototype.getUser=function(e){if("function"!=typeof e)throw new Error("callback is not a function");var t;this._user?e(null,this._user):(t=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN),this._isEmpty(t)?(this.warn("User information is not available"),e("User information is not available",null)):(this.info("User exists in cache: "),this._user=this._createUser(t),e(null,this._user)))},r.prototype._addHintParameters=function(e){var t;return this._user&&this._user.profile&&(this._user.profile.sid&&-1!==e.indexOf("&prompt=none")?this._urlContainsQueryStringParameter("sid",e)||(e+="&sid="+encodeURIComponent(this._user.profile.sid)):this._user.profile.upn&&(this._urlContainsQueryStringParameter("login_hint",e)||(e+="&login_hint="+encodeURIComponent(this._user.profile.upn)),!this._urlContainsQueryStringParameter("domain_hint",e)&&-1<this._user.profile.upn.indexOf("@")&&(t=this._user.profile.upn.split("@"),e+="&domain_hint="+encodeURIComponent(t[t.length-1])))),e},r.prototype._createUser=function(e){var t=null;return(e=this._extractIdToken(e))&&e.hasOwnProperty("aud")&&(e.aud.toLowerCase()===this.config.clientId.toLowerCase()?(t={userName:"",profile:e},e.hasOwnProperty("upn")?t.userName=e.upn:e.hasOwnProperty("email")&&(t.userName=e.email)):this.warn("IdToken has invalid aud field")),t},r.prototype._getHash=function(e){return-1<e.indexOf("#/")?e=e.substring(e.indexOf("#/")+2):-1<e.indexOf("#")&&(e=e.substring(1)),e},r.prototype.isCallback=function(e){return e=this._getHash(e),(e=this._deserialize(e)).hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||e.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||e.hasOwnProperty(this.CONSTANTS.ID_TOKEN)},r.prototype.getLoginError=function(){return this._getItem(this.CONSTANTS.STORAGE.LOGIN_ERROR)},r.prototype.getRequestInfo=function(e){e=this._getHash(e);var t=this._deserialize(e),n={valid:!1,parameters:{},stateMatch:!1,stateResponse:"",requestType:this.REQUEST_TYPE.UNKNOWN};if(t&&((n.parameters=t).hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||t.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||t.hasOwnProperty(this.CONSTANTS.ID_TOKEN))){if(n.valid=!0,e="",!t.hasOwnProperty("state"))return this.warn("No state returned"),n;if(this.verbose("State: "+t.state),e=t.state,n.stateResponse=e,this._matchState(n))return n;if(!n.stateMatch&&window.parent){n.requestType=this._requestType;for(var i=this._renewStates,r=0;r<i.length;r++)if(i[r]===n.stateResponse){n.stateMatch=!0;break}}}return n},r.prototype._matchNonce=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN);if(t){t=t.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<t.length;n++)if(t[n]&&t[n]===e.profile.nonce)return!0}return!1},r.prototype._matchState=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.STATE_LOGIN);if(t){t=t.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<t.length;n++)if(t[n]&&t[n]===e.stateResponse)return e.requestType=this.REQUEST_TYPE.LOGIN,e.stateMatch=!0}var i=this._getItem(this.CONSTANTS.STORAGE.STATE_RENEW);if(i)for(i=i.split(this.CONSTANTS.CACHE_DELIMETER),n=0;n<i.length;n++)if(i[n]&&i[n]===e.stateResponse)return e.requestType=this.REQUEST_TYPE.RENEW_TOKEN,e.stateMatch=!0;return!1},r.prototype._getResourceFromState=function(e){if(e){var t=e.indexOf("|");if(-1<t&&t+1<e.length)return e.substring(t+1)}return""},r.prototype.saveTokenFromHash=function(e){this.info("State status:"+e.stateMatch+"; Request type:"+e.requestType),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var t,n=this._getResourceFromState(e.stateResponse);e.parameters.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)?(this.infoPii("Error :"+e.parameters.error+"; Error description:"+e.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),this._saveItem(this.CONSTANTS.STORAGE.ERROR,e.parameters.error),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,e.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),e.requestType===this.REQUEST_TYPE.LOGIN&&(this._loginInProgress=!1,this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,e.parameters.error_description))):e.stateMatch?(this.info("State is right"),e.parameters.hasOwnProperty(this.CONSTANTS.SESSION_STATE)&&this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,e.parameters[this.CONSTANTS.SESSION_STATE]),e.parameters.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)&&(this.info("Fragment has access token"),this._hasResource(n)||(t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,t+n+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,e.parameters[this.CONSTANTS.ACCESS_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,this._expiresIn(e.parameters[this.CONSTANTS.EXPIRES_IN]))),e.parameters.hasOwnProperty(this.CONSTANTS.ID_TOKEN)&&(this.info("Fragment has id token"),this._loginInProgress=!1,this._user=this._createUser(e.parameters[this.CONSTANTS.ID_TOKEN]),this._user&&this._user.profile?this._matchNonce(this._user)?(this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,e.parameters[this.CONSTANTS.ID_TOKEN]),n=this.config.loginResource||this.config.clientId,this._hasResource(n)||(t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,t+n+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,e.parameters[this.CONSTANTS.ID_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,this._user.profile.exp)):(this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"Nonce received: "+this._user.profile.nonce+" is not same as requested: "+this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN)),this._user=null):(e.parameters.error="invalid id_token",e.parameters.error_description="Invalid id_token. id_token: "+e.parameters[this.CONSTANTS.ID_TOKEN],this._saveItem(this.CONSTANTS.STORAGE.ERROR,"invalid id_token"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid id_token. id_token: "+e.parameters[this.CONSTANTS.ID_TOKEN])))):(e.parameters.error="Invalid_state",e.parameters.error_description="Invalid_state. state: "+e.stateResponse,this._saveItem(this.CONSTANTS.STORAGE.ERROR,"Invalid_state"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid_state. state: "+e.stateResponse)),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+n,this.CONSTANTS.TOKEN_RENEW_STATUS_COMPLETED)},r.prototype.getResourceForEndpoint=function(e){if(this.config&&this.config.anonymousEndpoints)for(var t=0;t<this.config.anonymousEndpoints.length;t++)if(-1<e.indexOf(this.config.anonymousEndpoints[t]))return null;if(this.config&&this.config.endpoints)for(var n in this.config.endpoints)if(-1<e.indexOf(n))return this.config.endpoints[n];return(-1<e.indexOf("http://")||-1<e.indexOf("https://"))&&this._getHostFromUri(e)!==this._getHostFromUri(this.config.redirectUri)?null:this.config.loginResource},r.prototype._getHostFromUri=function(e){return String(e).replace(/^(https?:)\/\//,"").split("/")[0]},r.prototype.handleWindowCallback=function(e){if(null==e&&(e=window.location.hash),this.isCallback(e)){var t=null,n=!1;0<this._openedWindows.length&&this._openedWindows[this._openedWindows.length-1].opener&&this._openedWindows[this._openedWindows.length-1].opener._adalInstance?(t=this._openedWindows[this._openedWindows.length-1].opener._adalInstance,n=!0):window.parent&&window.parent._adalInstance&&(t=window.parent._adalInstance);e=t.getRequestInfo(e);var i,r=null,o=n||window.parent!==window?t._callBackMappedToRenewStates[e.stateResponse]:t.callback;t.info("Returned from redirect url"),t.saveTokenFromHash(e),e.requestType===this.REQUEST_TYPE.RENEW_TOKEN&&window.parent?(window.parent!==window?t.verbose("Window is in iframe, acquiring token silently"):t.verbose("acquiring token interactive in progress"),i=e.parameters[t.CONSTANTS.ACCESS_TOKEN]||e.parameters[t.CONSTANTS.ID_TOKEN],r=t.CONSTANTS.ACCESS_TOKEN):e.requestType===this.REQUEST_TYPE.LOGIN&&(i=e.parameters[t.CONSTANTS.ID_TOKEN],r=t.CONSTANTS.ID_TOKEN);var s=e.parameters[t.CONSTANTS.ERROR_DESCRIPTION],a=e.parameters[t.CONSTANTS.ERROR];try{o&&o(s,i,a,r)}catch(e){t.error("Error occurred in user defined callback function: "+e)}window.parent!==window||n||(t.config.navigateToLoginRequestUrl?window.location.href=t._getItem(t.CONSTANTS.STORAGE.LOGIN_REQUEST):window.location.hash="")}},r.prototype._getNavigateUrl=function(e,t){var n="common";return this.config.tenant&&(n=this.config.tenant),t=this.instance+n+"/oauth2/authorize"+this._serialize(e,this.config,t)+this._addLibMetadata(),this.info("Navigate url:"+t),t},r.prototype._extractIdToken=function(e){var t=this._decodeJwt(e);if(!t)return null;try{var n=t.JWSPayload;return(n=this._base64DecodeStringUrlSafe(n))?JSON.parse(n):(this.info("The returned id_token could not be base64 url safe decoded."),null)}catch(e){this.error("The returned id_token could not be decoded",e)}return null},r.prototype._base64DecodeStringUrlSafe=function(e){return e=e.replace(/-/g,"+").replace(/_/g,"/"),window.atob?decodeURIComponent(escape(window.atob(e))):decodeURIComponent(escape(this._decode(e)))},r.prototype._decode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=(e=String(e).replace(/=+$/,"")).length;if(n%4==1)throw new Error("The token to be decoded is not correctly encoded.");for(var i,r,o,s,a,c,l,u="",d=0;d<n;d+=4){if(i=t.indexOf(e.charAt(d)),r=t.indexOf(e.charAt(d+1)),o=t.indexOf(e.charAt(d+2)),l=t.indexOf(e.charAt(d+3)),d+2===n-1){a=(s=i<<18|r<<12|o<<6)>>16&255,c=s>>8&255,u+=String.fromCharCode(a,c);break}if(d+1===n-1){a=(s=i<<18|r<<12)>>16&255,u+=String.fromCharCode(a);break}a=(s=i<<18|r<<12|o<<6|l)>>16&255,c=s>>8&255,l=255&s,u+=String.fromCharCode(a,c,l)}return u},r.prototype._decodeJwt=function(e){return this._isEmpty(e)?null:!(e=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e))||e.length<4?(this.warn("The returned id_token is not parseable."),null):{header:e[1],JWSPayload:e[2],JWSSig:e[3]}},r.prototype._convertUrlSafeToRegularBase64EncodedString=function(e){return e.replace("-","+").replace("_","/")},r.prototype._serialize=function(e,t,n){var i=[];return null!==t&&(i.push("?response_type="+e),i.push("client_id="+encodeURIComponent(t.clientId)),n&&i.push("resource="+encodeURIComponent(n)),i.push("redirect_uri="+encodeURIComponent(t.redirectUri)),i.push("state="+encodeURIComponent(t.state)),t.hasOwnProperty("slice")&&i.push("slice="+encodeURIComponent(t.slice)),t.hasOwnProperty("extraQueryParameter")&&i.push(t.extraQueryParameter),t=t.correlationId||this._guid(),i.push("client-request-id="+encodeURIComponent(t))),i.join("&")},r.prototype._deserialize=function(e){for(var t=/\+/g,n=/([^&=]+)=([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(t," "))},r={},o=n.exec(e);o;)r[i(o[1])]=i(o[2]),o=n.exec(e);return r},r.prototype._decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},r.prototype._guid=function(){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues){var t=new Uint8Array(16);return e.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,this._decimalToHex(t[0])+this._decimalToHex(t[1])+this._decimalToHex(t[2])+this._decimalToHex(t[3])+"-"+this._decimalToHex(t[4])+this._decimalToHex(t[5])+"-"+this._decimalToHex(t[6])+this._decimalToHex(t[7])+"-"+this._decimalToHex(t[8])+this._decimalToHex(t[9])+"-"+this._decimalToHex(t[10])+this._decimalToHex(t[11])+this._decimalToHex(t[12])+this._decimalToHex(t[13])+this._decimalToHex(t[14])+this._decimalToHex(t[15])}for(var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i="0123456789abcdef",r=0,o="",s=0;s<36;s++)"-"!==n[s]&&"4"!==n[s]&&(r=16*Math.random()|0),"x"===n[s]?o+=i[r]:"y"===n[s]?(r&=3,o+=i[r|=8]):o+=n[s];return o},r.prototype._expiresIn=function(e){return e=e||3599,this._now()+parseInt(e,10)},r.prototype._now=function(){return Math.round((new Date).getTime()/1e3)},r.prototype._addAdalFrame=function(e){if(void 0!==e){this.info("Add adal frame to document:"+e);var t,n=document.getElementById(e);return n||(document.createElement&&document.documentElement&&(window.opera||-1===window.navigator.userAgent.indexOf("MSIE 5.0"))?((t=document.createElement("iframe")).setAttribute("id",e),t.setAttribute("aria-hidden","true"),t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height=t.borderWidth="0px",n=document.getElementsByTagName("body")[0].appendChild(t)):document.body&&document.body.insertAdjacentHTML&&document.body.insertAdjacentHTML("beforeEnd",'<iframe name="'+e+'" id="'+e+'" style="display:none"></iframe>'),window.frames&&window.frames[e]&&(n=window.frames[e])),n}},r.prototype._saveItem=function(e,t,n){return this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation?this._supportsLocalStorage()?(n?(n=this._getItem(e)||"",localStorage.setItem(e,n+t+this.CONSTANTS.CACHE_DELIMETER)):localStorage.setItem(e,t),!0):(this.info("Local storage is not supported"),!1):this._supportsSessionStorage()?(sessionStorage.setItem(e,t),!0):(this.info("Session storage is not supported"),!1)},r.prototype._getItem=function(e){return this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation?this._supportsLocalStorage()?localStorage.getItem(e):(this.info("Local storage is not supported"),null):this._supportsSessionStorage()?sessionStorage.getItem(e):(this.info("Session storage is not supported"),null)},r.prototype._supportsLocalStorage=function(){try{return!!window.localStorage&&(window.localStorage.setItem("storageTest","A"),"A"==window.localStorage.getItem("storageTest")&&(window.localStorage.removeItem("storageTest"),!window.localStorage.getItem("storageTest")))}catch(e){return!1}},r.prototype._supportsSessionStorage=function(){try{return!!window.sessionStorage&&(window.sessionStorage.setItem("storageTest","A"),"A"==window.sessionStorage.getItem("storageTest")&&(window.sessionStorage.removeItem("storageTest"),!window.sessionStorage.getItem("storageTest")))}catch(e){return!1}},r.prototype._cloneConfig=function(e){if(null===e||"object"!==i(e))return e;var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},r.prototype._addLibMetadata=function(){return"&x-client-SKU=Js&x-client-Ver="+this._libVersion()},r.prototype.log=function(e,t,n,i){var r;e<=Logging.level&&(!Logging.piiLoggingEnabled&&i||(r=(new Date).toUTCString(),i="",i=this.config.correlationId?r+":"+this.config.correlationId+"-"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[e]+" "+t:r+":"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[e]+" "+t,n&&(i+="\nstack:\n"+n.stack),Logging.log(i)))},r.prototype.error=function(e,t){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,e,t)},r.prototype.warn=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,e,null)},r.prototype.info=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,e,null)},r.prototype.verbose=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,e,null)},r.prototype.errorPii=function(e,t){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,e,t,!0)},r.prototype.warnPii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,e,null,!0)},r.prototype.infoPii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,e,null,!0)},r.prototype.verbosePii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,e,null,!0)},r.prototype._libVersion=function(){return"1.0.18"},e.exports&&(e.exports=r,e.exports.inject=function(e){return new r(e)}),r}()},"./node_modules/decode-uri-component/index.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="%[a-f0-9]{2}",o=new RegExp(r,"gi"),s=new RegExp("("+r+")+","gi");function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(o),n=1;n<t.length;n++)t=(e=function e(t,n){try{return decodeURIComponent(t.join(""))}catch(e){}if(1===t.length)return t;n=n||1;var i=t.slice(0,n);n=t.slice(n);return Array.prototype.concat.call([],e(i),e(n))}(t,n).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+i(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=a(n[0]);i!==n[0]&&(t[n[0]]=i)}n=s.exec(e)}t["%C2"]="";for(var r=Object.keys(t),o=0;o<r.length;o++){var c=r[o];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},"./node_modules/hash.js/lib/hash/common.js":function(e,t,n){"use strict";var i=n("./node_modules/hash.js/lib/hash/utils.js"),r=n("./node_modules/minimalistic-assert/index.js");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(t.BlockHash=o).prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){t=(e=this.pending).length%this._delta8,this.pending=e.slice(e.length-t,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-t,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=e>>>24&255,i[r++]=e>>>16&255,i[r++]=e>>>8&255,i[r++]=255&e}else for(i[r++]=255&e,i[r++]=e>>>8&255,i[r++]=e>>>16&255,i[r++]=e>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}},"./node_modules/hash.js/lib/hash/sha/256.js":function(e,t,n){"use strict";var i=n("./node_modules/hash.js/lib/hash/utils.js"),r=n("./node_modules/hash.js/lib/hash/common.js"),o=n("./node_modules/hash.js/lib/hash/sha/common.js"),s=n("./node_modules/minimalistic-assert/index.js"),a=i.sum32,c=i.sum32_4,l=i.sum32_5,u=o.ch32,d=o.maj32,p=o.s0_256,m=o.s1_256,A=o.g0_256,h=o.g1_256,f=r.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}i.inherits(v,f),(e.exports=v).blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=c(h(n[i-2]),n[i-7],A(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],f=this.h[2],g=this.h[3],v=this.h[4],y=this.h[5],S=this.h[6],b=this.h[7];for(s(this.k.length===n.length),i=0;i<n.length;i++){var C=l(b,m(v),u(v,y,S),this.k[i],n[i]),E=a(p(r),d(r,o,f));b=S,S=y,y=v,v=a(g,C),g=f,f=o,o=r,r=a(C,E)}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],y),this.h[6]=a(this.h[6],S),this.h[7]=a(this.h[7],b)},v.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/common.js":function(e,t,n){"use strict";var i=n("./node_modules/hash.js/lib/hash/utils.js").rotr32;function r(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}t.ft_1=function(e,t,n,i){return 0===e?r(t,n,i):1===e||3===e?t^n^i:2===e?o(t,n,i):void 0},t.ch32=r,t.maj32=o,t.p32=function(e,t,n){return e^t^n},t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},"./node_modules/hash.js/lib/hash/utils.js":function(e,t,n){"use strict";var i=n("./node_modules/minimalistic-assert/index.js");n=n("./node_modules/inherits/inherits_browser.js");function r(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=n,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n,i,r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),s=0;s<e.length;s+=2)r.push(parseInt(e[s]+e[s+1],16))}else for(var o=0,s=0;s<e.length;s++){var a=e.charCodeAt(s);a<128?r[o++]=a:a<2048?(r[o++]=a>>6|192,r[o++]=63&a|128):(i=s,55296!=(64512&(n=e).charCodeAt(i))||i<0||i+1>=n.length||56320!=(64512&n.charCodeAt(i+1))?r[o++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++s)),r[o++]=a>>18|240,r[o++]=a>>12&63|128),r[o++]=a>>6&63|128,r[o++]=63&a|128)}else for(s=0;s<e.length;s++)r[s]=0|e[s];return r},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=o(e[n].toString(16));return t},t.htonl=r,t.toHex32=function(e,t){for(var n="",i=0;i<e.length;i++){var o=e[i];"little"===t&&(o=r(o)),n+=s(o.toString(16))}return n},t.zero2=o,t.zero8=s,t.join32=function(e,t,n,r){i((n-=t)%4==0);for(var o=new Array(n/4),s=0,a=t;s<o.length;s++,a+=4){var c="big"===r?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a];o[s]=c>>>0}return o},t.split32=function(e,t){for(var n=new Array(4*e.length),i=0,r=0;i<e.length;i++,r+=4){var o=e[i];"big"===t?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,i){return e+t+n+i>>>0},t.sum32_5=function(e,t,n,i,r){return e+t+n+i+r>>>0},t.sum64=function(e,t,n,i){var r=e[t],o=i+e[t+1]>>>0;r=(o<i?1:0)+n+r;e[t]=r>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,i){return(t+i>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,i){return t+i>>>0},t.sum64_4_hi=function(e,t,n,i,r,o,s,a){var c=0,l=t;return c+=(l=l+i>>>0)<t?1:0,c+=(l=l+o>>>0)<o?1:0,e+n+r+s+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,i,r,o,s,a){return t+i+o+a>>>0},t.sum64_5_hi=function(e,t,n,i,r,o,s,a,c,l){var u=0,d=t;return u+=(d=d+i>>>0)<t?1:0,u+=(d=d+o>>>0)<o?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+r+s+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,i,r,o,s,a,c,l){return t+i+o+a+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},"./node_modules/html2canvas/dist/html2canvas.js":function(e,t,n){var i;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function t(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var o=(s.prototype.add=function(e,t,n,i){return new s(this.left+e,this.top+t,this.width+n,this.height+i)},s.fromClientRect=function(e){return new s(e.left,e.top,e.width,e.height)},s);function s(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}for(var a=function(e){return o.fromClientRect(e.getBoundingClientRect())},c=function(e){for(var t=[],n=0,i=e.length;n<i;){var r,o=e.charCodeAt(n++);55296<=o&&o<=56319&&n<i?56320==(64512&(r=e.charCodeAt(n++)))?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--):t.push(o)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var s=e[r];s<=65535?i.push(s):(s-=65536,i.push(55296+(s>>10),s%1024+56320)),(r+1===n||16384<i.length)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),p=0;p<u.length;p++)d[u.charCodeAt(p)]=p;function m(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))}var A=(h.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},h);function h(e,t,n,i,r,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}function f(e,t,n,i){var r=i[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var o=n;o<=i.length;){if((a=i[++o])===t)return 1;if(a!==w)break}if(r===w)for(o=n;0<o;){var s=i[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a,c=n;c<=i.length;){if((a=i[++c])===t)return 1;if(a!==w)break}if(s!==w)break}}function g(e,t){for(var n=e;0<=n;){var i=t[n];if(i!==w)return i;n--}return 0}var v,y,S,b,C,E,w=10,T=13,P=15,_=17,B=18,I=19,D=20,k=21,F=22,M=24,U=25,N=26,L=27,x=28,R=30,O=32,V=33,Q=34,H=35,$=37,j=38,Y=39,G=40,K=42,z=(S=function(e){var t,n,i,r,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);o=new("undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(o);for(var c=Array.isArray(o)?o:new Uint8Array(o),l=0;l<s;l+=4)t=d[e.charCodeAt(l)],n=d[e.charCodeAt(l+1)],i=d[e.charCodeAt(l+2)],r=d[e.charCodeAt(l+3)],c[a++]=t<<2|n>>4,c[a++]=(15&n)<<4|i>>2,c[a++]=(3&i)<<6|63&r;return o}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),b=Array.isArray(S)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n}(S):new Uint32Array(S),v=m(C=Array.isArray(S)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n}(S):new Uint16Array(S),12,b[4]/2),y=2===b[5]?m(C,(24+b[4])/2):(S=b,C=Math.ceil((24+b[4])/4),S.slice?S.slice(C,y):new Uint32Array(Array.prototype.slice.call(S,C,y))),new A(b[0],b[1],b[2],b[3],v,y)),W=[R,36],q=[1,2,3,5],J=[w,8],X=[L,N],Z=q.concat(J),ee=[j,Y,G,Q,H],te=[P,T],ne=(ie.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},ie);function ie(e,t,n,i){this.codePoints=e,this.required="!"===t,this.start=n,this.end=i}function re(e,t){var n=c(e),i=(t=function(e,t){var n=(r=function(e,t){void 0===t&&(t="strict");var n=[],i=[],r=[];return e.forEach((function(e,o){var s=z.get(e);return 50<s?(r.push(!0),s-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e)?(i.push(o),n.push(16)):4!==s&&11!==s?(i.push(o),31===s?n.push("strict"===t?k:$):s===K||29===s?n.push(R):43===s?131072<=e&&e<=196605||196608<=e&&e<=262141?n.push($):n.push(R):void n.push(s)):0===o?(i.push(o),n.push(R)):(s=n[o-1],-1===Z.indexOf(s)?(i.push(i[o-1]),n.push(s)):(i.push(o),n.push(R)))})),[i,n,r]}(e,(t=t||{lineBreak:"normal",wordBreak:"normal"}).lineBreak))[0],i=r[1],r=r[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[U,R,K].indexOf(e)?$:e}))),[n,i,"keep-all"===t.wordBreak?r.map((function(t,n){return t&&19968<=e[n]&&e[n]<=40959})):void 0]}(n,t))[0],r=t[1],o=t[2],s=n.length,a=0,l=0;return{next:function(){if(s<=l)return{done:!0,value:null};for(var e="";l<s&&""===(e=function(e,t,n,i,r){if(0===n[i])return"";var o=i-1;if(Array.isArray(r)&&!0===r[o])return"";var s=o-1,a=1+o,c=t[o];i=0<=s?t[s]:0,r=t[a];if(2===c&&3===r)return"";if(-1!==q.indexOf(c))return"!";if(-1!==q.indexOf(r))return"";if(-1!==J.indexOf(r))return"";if(8===g(o,t))return"";if(11===z.get(e[o])&&(r===$||r===O||r===V))return"";if(7===c||7===r)return"";if(9===c)return"";if(-1===[w,T,P].indexOf(c)&&9===r)return"";if(-1!==[_,B,I,M,x].indexOf(r))return"";if(g(o,t)===F)return"";if(f(23,F,o,t))return"";if(f([_,B],k,o,t))return"";if(f(12,12,o,t))return"";if(c===w)return"";if(23===c||23===r)return"";if(16===r||16===c)return"";if(-1!==[T,P,k].indexOf(r)||14===c)return"";if(36===i&&-1!==te.indexOf(c))return"";if(c===x&&36===r)return"";if(r===D&&-1!==W.concat(D,I,U,$,O,V).indexOf(c))return"";if(-1!==W.indexOf(r)&&c===U||-1!==W.indexOf(c)&&r===U)return"";if(c===L&&-1!==[$,O,V].indexOf(r)||-1!==[$,O,V].indexOf(c)&&r===N)return"";if(-1!==W.indexOf(c)&&-1!==X.indexOf(r)||-1!==X.indexOf(c)&&-1!==W.indexOf(r))return"";if(-1!==[L,N].indexOf(c)&&(r===U||-1!==[F,P].indexOf(r)&&t[1+a]===U)||-1!==[F,P].indexOf(c)&&r===U||c===U&&-1!==[U,x,M].indexOf(r))return"";if(-1!==[U,x,M,_,B].indexOf(r))for(var l=o;0<=l;){if((u=t[l])===U)return"";if(-1===[x,M].indexOf(u))break;l--}if(-1!==[L,N].indexOf(r)){var u;for(l=-1!==[_,B].indexOf(c)?s:o;0<=l;){if((u=t[l])===U)return"";if(-1===[x,M].indexOf(u))break;l--}}if(j===c&&-1!==[j,Y,Q,H].indexOf(r)||-1!==[Y,Q].indexOf(c)&&-1!==[Y,G].indexOf(r)||-1!==[G,H].indexOf(c)&&r===G)return"";if(-1!==ee.indexOf(c)&&-1!==[D,N].indexOf(r)||-1!==ee.indexOf(r)&&c===L)return"";if(-1!==W.indexOf(c)&&-1!==W.indexOf(r))return"";if(c===M&&-1!==W.indexOf(r))return"";if(-1!==W.concat(U).indexOf(c)&&r===F||-1!==W.concat(U).indexOf(r)&&c===B)return"";if(41===c&&41===r){for(var d=n[o],p=1;0<d&&41===t[--d];)p++;if(p%2!=0)return""}return c===O&&r===V?"":""}(n,r,i,++l,o)););if(""===e&&l!==s)return{done:!0,value:null};var t=new ne(n,e,a,l);return a=l,{value:t,done:!1}}}}function oe(e){return 48<=e&&e<=57}function se(e){return oe(e)||65<=e&&e<=70||97<=e&&e<=102}function ae(e){return 10===e||9===e||32===e}function ce(e){return 97<=(n=t=e)&&n<=122||65<=(t=t)&&t<=90||128<=e||95===e;var t,n}function le(e){return ce(e)||oe(e)||45===e}function ue(e,t){return 92===e&&10!==t}function de(e,t,n){return 45===e?ce(t)||ue(t,n):!!ce(e)||!(92!==e||!ue(e,t))}function pe(e,t,n){return 43===e||45===e?!!oe(t)||46===t&&oe(n):oe(46===e?t:e)}(zt=E=E||{})[zt.STRING_TOKEN=0]="STRING_TOKEN",zt[zt.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",zt[zt.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",zt[zt.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",zt[zt.COMMA_TOKEN=4]="COMMA_TOKEN",zt[zt.HASH_TOKEN=5]="HASH_TOKEN",zt[zt.DELIM_TOKEN=6]="DELIM_TOKEN",zt[zt.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",zt[zt.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",zt[zt.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",zt[zt.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",zt[zt.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",zt[zt.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",zt[zt.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",zt[zt.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",zt[zt.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",zt[zt.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",zt[zt.NUMBER_TOKEN=17]="NUMBER_TOKEN",zt[zt.FUNCTION=18]="FUNCTION",zt[zt.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",zt[zt.IDENT_TOKEN=20]="IDENT_TOKEN",zt[zt.COLUMN_TOKEN=21]="COLUMN_TOKEN",zt[zt.URL_TOKEN=22]="URL_TOKEN",zt[zt.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",zt[zt.CDC_TOKEN=24]="CDC_TOKEN",zt[zt.CDO_TOKEN=25]="CDO_TOKEN",zt[zt.COLON_TOKEN=26]="COLON_TOKEN",zt[zt.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",zt[zt.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",zt[zt.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",zt[zt.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",zt[zt.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",zt[zt.EOF_TOKEN=32]="EOF_TOKEN";var me={type:E.LEFT_PARENTHESIS_TOKEN},Ae={type:E.RIGHT_PARENTHESIS_TOKEN},he={type:E.COMMA_TOKEN},fe={type:E.SUFFIX_MATCH_TOKEN},ge={type:E.PREFIX_MATCH_TOKEN},ve={type:E.COLUMN_TOKEN},ye={type:E.DASH_MATCH_TOKEN},Se={type:E.INCLUDE_MATCH_TOKEN},be={type:E.LEFT_CURLY_BRACKET_TOKEN},Ce={type:E.RIGHT_CURLY_BRACKET_TOKEN},Ee={type:E.SUBSTRING_MATCH_TOKEN},we={type:E.BAD_URL_TOKEN},Te={type:E.BAD_STRING_TOKEN},Pe={type:E.CDO_TOKEN},_e={type:E.CDC_TOKEN},Be={type:E.COLON_TOKEN},Ie={type:E.SEMICOLON_TOKEN},De={type:E.LEFT_SQUARE_BRACKET_TOKEN},ke={type:E.RIGHT_SQUARE_BRACKET_TOKEN},Fe={type:E.WHITESPACE_TOKEN},Me={type:E.EOF_TOKEN},Ue=(Ne.prototype.write=function(e){this._value=this._value.concat(c(e))},Ne.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Me;)e.push(t),t=this.consumeToken();return e},Ne.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(le(t)||ue(n,i)){var r=de(t,n,i)?2:1,o=this.consumeName();return{type:E.HASH_TOKEN,value:o,flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),fe;break;case 39:return this.consumeStringToken(39);case 40:return me;case 41:return Ae;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;break;case 43:if(pe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return he;case 45:if(pe(r=e,a=this.peekCodePoint(0),c=this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(de(r,a,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===a&&62===c)return this.consumeCodePoint(),this.consumeCodePoint(),_e;break;case 46:if(pe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var s=this.consumeCodePoint();if(42===s&&47===(s=this.consumeCodePoint()))return this.consumeToken();if(-1===s)return this.consumeToken()}break;case 58:return Be;case 59:return Ie;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Pe;break;case 64:var a=this.peekCodePoint(0),c=this.peekCodePoint(1),u=this.peekCodePoint(2);if(de(a,c,u))return o=this.consumeName(),{type:E.AT_KEYWORD_TOKEN,value:o};break;case 91:return De;case 92:if(ue(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return ke;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ge;break;case 123:return be;case 125:return Ce;case 117:case 85:return u=this.peekCodePoint(0),o=this.peekCodePoint(1),43!==u||!se(o)&&63!==o||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ye;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),ve;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Se;break;case-1:return Me}return ae(e)?(this.consumeWhiteSpace(),Fe):oe(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ce(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:E.DELIM_TOKEN,value:l(e)}},Ne.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},Ne.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},Ne.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},Ne.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();se(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(l.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),r=parseInt(l.apply(void 0,e.map((function(e){return 63===e?70:e}))),16);return{type:E.UNICODE_RANGE_TOKEN,start:i,end:r}}if(i=parseInt(l.apply(void 0,e),16),45===this.peekCodePoint(0)&&se(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];se(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();return r=parseInt(l.apply(void 0,o),16),{type:E.UNICODE_RANGE_TOKEN,start:i,end:r}}return{type:E.UNICODE_RANGE_TOKEN,start:i,end:i}},Ne.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:E.FUNCTION_TOKEN,value:e}):{type:E.IDENT_TOKEN,value:e}},Ne.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:E.URL_TOKEN,value:""};var t,n=this.peekCodePoint(0);if(39===n||34===n)return(n=this.consumeStringToken(this.consumeCodePoint())).type===E.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:E.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),we);for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:E.URL_TOKEN,value:l.apply(void 0,e)};if(ae(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:E.URL_TOKEN,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),we);if(34===i||39===i||40===i||0<=(t=i)&&t<=8||11===t||14<=t&&t<=31||127===t)return this.consumeBadUrlRemnants(),we;if(92===i){if(!ue(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),we;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},Ne.prototype.consumeWhiteSpace=function(){for(;ae(this.peekCodePoint(0));)this.consumeCodePoint()},Ne.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;ue(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Ne.prototype.consumeStringSlice=function(e){for(var t="";0<e;){var n=Math.min(6e4,e);t+=l.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},Ne.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var i,r=this._value[n];if(-1===r||void 0===r||r===e)return t+=this.consumeStringSlice(n),{type:E.STRING_TOKEN,value:t};if(10===r)return this._value.splice(0,n),Te;92!==r||-1!==(i=this._value[n+1])&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):ue(r,i)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1)),n++}},Ne.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());oe(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(46===n&&oe(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;oe(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((43===i||45===i)&&oe(r)||oe(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;oe(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var i=[];oe(e[t]);)i.push(e[t++]);var r=i.length?parseInt(l.apply(void 0,i),10):0;46===e[t]&&t++;for(var o=[];oe(e[t]);)o.push(e[t++]);var s=o.length,a=s?parseInt(l.apply(void 0,o),10):0;69!==e[t]&&101!==e[t]||t++;var c=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(c=-1),t++);for(var u=[];oe(e[t]);)u.push(e[t++]);var d=u.length?parseInt(l.apply(void 0,u),10):0;return n*(r+a*Math.pow(10,-s))*Math.pow(10,c*d)}(e),t]},Ne.prototype.consumeNumericToken=function(){var e,t=(e=this.consumeNumber())[0],n=e[1],i=this.peekCodePoint(0);return de(i,this.peekCodePoint(1),e=this.peekCodePoint(2))?(e=this.consumeName(),{type:E.DIMENSION_TOKEN,number:t,flags:n,unit:e}):37===i?(this.consumeCodePoint(),{type:E.PERCENTAGE_TOKEN,number:t,flags:n}):{type:E.NUMBER_TOKEN,number:t,flags:n}},Ne.prototype.consumeEscapedCodePoint=function(){var e,t=this.consumeCodePoint();if(se(t)){for(var n=l(t);se(this.peekCodePoint(0))&&n.length<6;)n+=l(this.consumeCodePoint());ae(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(n,16);return 0===i||55296<=(e=i)&&e<=57343||1114111<i?65533:i}return-1===t?65533:t},Ne.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(le(t))e+=l(t);else{if(!ue(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},Ne);function Ne(){this._value=[]}var Le=(xe.create=function(e){var t=new Ue;return t.write(e),new xe(t.read())},xe.parseValue=function(e){return xe.create(e).parseComponentValue()},xe.parseValues=function(e){return xe.create(e).parseComponentValues()},xe.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===E.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===E.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);for(var t=this.consumeComponentValue();(e=this.consumeToken()).type===E.WHITESPACE_TOKEN;);if(e.type===E.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},xe.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===E.EOF_TOKEN)return e;e.push(t),e.push()}},xe.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case E.LEFT_CURLY_BRACKET_TOKEN:case E.LEFT_SQUARE_BRACKET_TOKEN:case E.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case E.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},xe.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===E.EOF_TOKEN||tt(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},xe.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:E.FUNCTION};;){var n=this.consumeToken();if(n.type===E.EOF_TOKEN||n.type===E.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},xe.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Me:e},xe.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},xe);function xe(e){this._tokens=e}function Re(e){return e.type===E.DIMENSION_TOKEN}function Oe(e){return e.type===E.NUMBER_TOKEN}function Ve(e){return e.type===E.IDENT_TOKEN}function Qe(e){return e.type===E.STRING_TOKEN}function He(e,t){return Ve(e)&&e.value===t}function $e(e){return e.type!==E.WHITESPACE_TOKEN}function je(e){return e.type!==E.WHITESPACE_TOKEN&&e.type!==E.COMMA_TOKEN}function Ye(e){var t=[],n=[];return e.forEach((function(e){if(e.type===E.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}e.type!==E.WHITESPACE_TOKEN&&n.push(e)})),n.length&&t.push(n),t}function Ge(e){return e.type===E.NUMBER_TOKEN||e.type===E.DIMENSION_TOKEN}function Ke(e){return e.type===E.PERCENTAGE_TOKEN||Ge(e)}function ze(e){return 1<e.length?[e[0],e[1]]:[e[0]]}function We(e,t,n){var i=e[0];e=e[1];return[ot(i,t),ot(void 0!==e?e:i,n)]}function qe(e){return e.type===E.DIMENSION_TOKEN&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)}function Je(e){switch(e.filter(Ve).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nt,nt];case"to top":case"bottom":return at(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nt,rt];case"to right":case"left":return at(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[rt,rt];case"to bottom":case"top":return at(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[rt,nt];case"to left":case"right":return at(270)}return 0}function Xe(e){return 0==(255&e)}function Ze(e){var t=255&e,n=255&e>>8,i=255&e>>16;e=255&e>>24;return t<255?"rgba("+e+","+i+","+n+","+t/255+")":"rgb("+e+","+i+","+n+")"}function et(e,t){if(e.type===E.NUMBER_TOKEN)return e.number;if(e.type!==E.PERCENTAGE_TOKEN)return 0;var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}var tt=function(e,t){return t===E.LEFT_CURLY_BRACKET_TOKEN&&e.type===E.RIGHT_CURLY_BRACKET_TOKEN||t===E.LEFT_SQUARE_BRACKET_TOKEN&&e.type===E.RIGHT_SQUARE_BRACKET_TOKEN||t===E.LEFT_PARENTHESIS_TOKEN&&e.type===E.RIGHT_PARENTHESIS_TOKEN},nt={type:E.NUMBER_TOKEN,number:0,flags:4},it={type:E.PERCENTAGE_TOKEN,number:50,flags:4},rt={type:E.PERCENTAGE_TOKEN,number:100,flags:4},ot=function(e,t){if(e.type===E.PERCENTAGE_TOKEN)return e.number/100*t;if(Re(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},st=function(e){if(e.type===E.DIMENSION_TOKEN)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},at=function(e){return Math.PI*e/180},ct=function(e){if(e.type===E.FUNCTION){var t=At[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===E.HASH_TOKEN){if(3===e.value.length){var n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);return lt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===e.value.length){n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);var o=e.value.substring(3,4);return lt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),lt(parseInt(n,16),parseInt(i,16),parseInt(r,16),1);if(8===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),o=e.value.substring(6,8),lt(parseInt(n,16),parseInt(i,16),parseInt(r,16),parseInt(o,16)/255)}return e.type===E.IDENT_TOKEN&&void 0!==(e=ht[e.value.toUpperCase()])?e:ht.TRANSPARENT},lt=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(255*i)<<0)>>>0};function ut(e,t,n){return n<0&&(n+=1),1<=n&&--n,n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var dt,pt,mt=function(e){var t=(o=e.filter(je))[0],n=o[1],i=o[2],r=o[3],o=(e=(t.type===E.NUMBER_TOKEN?at(t.number):st(t))/(2*Math.PI),Ke(n)?n.number/100:0);t=Ke(i)?i.number/100:0,n=void 0!==r&&Ke(r)?ot(r,1):1;return 0==o?lt(255*t,255*t,255*t,1):(o=ut(r=2*t-(i=t<=.5?t*(1+o):t+o-t*o),i,e+1/3),t=ut(r,i,e),e=ut(r,i,e-1/3),lt(255*o,255*t,255*e,n))},At={hsl:mt,hsla:mt,rgb:Et=function(e){if(3===(e=e.filter(je)).length){var t=(i=e.map(et))[0],n=i[1],i=i[2];return lt(t,n,i,1)}return 4!==e.length?0:(t=(e=e.map(et))[0],n=e[1],i=e[2],e=e[3],lt(t,n,i,e))},rgba:Et},ht={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};function ft(e){var t=ct(e[0]);return(e=e[1])&&Ke(e)?{color:t,stop:e}:{color:t,stop:null}}function gt(e,t){var n=e[0],i=e[e.length-1];null===n.stop&&(n.stop=nt),null===i.stop&&(i.stop=rt);for(var r=[],o=0,s=0;s<e.length;s++){var a=e[s].stop;null!==a?(o<(a=ot(a,t))?r.push(a):r.push(o),o=a):r.push(null)}var c=null;for(s=0;s<r.length;s++){var l=r[s];if(null===l)null===c&&(c=s);else if(null!==c){for(var u=s-c,d=(l-r[c-1])/(1+u),p=1;p<=u;p++)r[c+p-1]=d*p;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}}))}function vt(e,t){return Math.sqrt(e*e+t*t)}function yt(e,t,n,i,r){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],s=t[1];s=vt(n-o,i-s);return(r?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner}function St(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]}(zt=dt=dt||{})[zt.VALUE=0]="VALUE",zt[zt.LIST=1]="LIST",zt[zt.IDENT_VALUE=2]="IDENT_VALUE",zt[zt.TYPE_VALUE=3]="TYPE_VALUE",zt[zt.TOKEN_VALUE=4]="TOKEN_VALUE",(mt=pt=pt||{})[mt.BORDER_BOX=0]="BORDER_BOX",mt[mt.PADDING_BOX=1]="PADDING_BOX";var bt={name:"background-clip",initialValue:"border-box",prefix:!(mt[mt.CONTENT_BOX=2]="CONTENT_BOX"),type:dt.LIST,parse:function(e){return e.map((function(e){if(Ve(e))switch(e.value){case"padding-box":return pt.PADDING_BOX;case"content-box":return pt.CONTENT_BOX}return pt.BORDER_BOX}))}},Ct={name:"background-color",initialValue:"transparent",prefix:!1,type:dt.TYPE_VALUE,format:"color"},Et=function(e){var t=at(180),n=[];return Ye(e).forEach((function(e,i){if(0===i){if((i=e[0]).type===E.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(t=Je(e));if(qe(i))return void(t=(st(i)+at(270))%at(360))}e=ft(e),n.push(e)})),{angle:t,stops:n,type:Mt.LINEAR_GRADIENT}},wt=function(e,t,n,i,r){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg");o=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(r),s},Tt=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Pt={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");if(n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),t=t.getBoundingClientRect(),t=Math.round(t.height),e.body.removeChild(n),123===t)return!0}}return!1}(document);return Object.defineProperty(Pt,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(Pt,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,r=t.toDataURL();return i.src=r,i=wt(100,100,0,0,i),n.fillStyle="red",n.fillRect(0,0,100,100),Tt(i).then((function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;return n.fillStyle="red",n.fillRect(0,0,100,100),(t=e.createElement("div")).style.backgroundImage="url("+r+")",t.style.height="100px",St(i)?Tt(wt(100,100,0,0,t)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),St(n.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Pt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Pt,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Pt,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Pt,"SUPPORT_CORS_XHR",{value:e}),e}},_t=(Bt.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},Bt.prototype.getTime=function(){return Date.now()-this.start},Bt.create=function(e){Bt.instances[e]=new Bt(e)},Bt.destroy=function(e){delete Bt.instances[e]},Bt.getInstance=function(e){var t=Bt.instances[e];if(void 0===t)throw new Error("No logger instance found with id "+e);return t},Bt.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},Bt.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},Bt.instances={},Bt);function Bt(e){this.id=e,this.start=Date.now()}var It=(Dt.create=function(e,t){return Dt._caches[e]=new kt(e,t)},Dt.destroy=function(e){delete Dt._caches[e]},Dt.open=function(e){var t=Dt._caches[e];if(void 0!==t)return t;throw new Error('Cache with key "'+e+'" not found')},Dt.getOrigin=function(e){var t=Dt._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},Dt.isSameOrigin=function(e){return Dt.getOrigin(e)===Dt._origin},Dt.setContext=function(e){Dt._link=e.document.createElement("a"),Dt._origin=Dt.getOrigin(e.location.href)},Dt.getInstance=function(){var e=Dt._current;if(null===e)throw new Error("No cache instance attached");return e},Dt.attachInstance=function(e){Dt._current=e},Dt.detachInstance=function(){Dt._current=null},Dt._caches={},Dt._origin="about:blank",Dt._current=null,Dt);function Dt(){}var kt=(Ft.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Ht(e)||Ot(e))&&(this._cache[e]=this.loadImage(e)),t},Ft.prototype.match=function(e){return this._cache[e]},Ft.prototype.loadImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s=this;return r(this,(function(r){switch(r.label){case 0:return t=It.isSameOrigin(e),n=!Vt(e)&&!0===this._options.useCORS&&Pt.SUPPORT_CORS_IMAGES&&!t,i=!Vt(e)&&!t&&"string"==typeof this._options.proxy&&Pt.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Vt(e)||i||n?(o=e,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return _t.getInstance(this.id).debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,(Qt(o)||n)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout((function(){return e(i)}),500),0<s._options.imageTimeout&&setTimeout((function(){return t("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},Ft.prototype.has=function(e){return void 0!==this._cache[e]},Ft.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Ft.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise((function(r,o){var s,a=Pt.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){var e;200===c.status?"text"==a?r(c.response):((e=new FileReader).addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(c.response)):o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o,c.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!=a&&c instanceof XMLHttpRequest&&(c.responseType=a),t._options.imageTimeout&&(s=t._options.imageTimeout,c.timeout=s,c.ontimeout=function(){return o("Timed out ("+s+"ms) proxying "+i)}),c.send()}))},Ft);function Ft(e,t){this.id=e,this._options=t,this._cache={}}var Mt,Ut,Nt,Lt=/^data:image\/svg\+xml/i,xt=/^data:image\/.*;base64,/i,Rt=/^data:image\/.*/i,Ot=function(e){return Pt.SUPPORT_SVG_DRAWING||!$t(e)},Vt=function(e){return Rt.test(e)},Qt=function(e){return xt.test(e)},Ht=function(e){return"blob"===e.substr(0,4)},$t=function(e){return"svg"===e.substr(-3).toLowerCase()||Lt.test(e)},jt="closest-side",Yt="farthest-side",Gt="closest-corner",Kt="farthest-corner",zt=function(e){var t=Ut.CIRCLE,n=Nt.FARTHEST_CORNER,i=[],r=[];return Ye(e).forEach((function(e,o){var s=!0;0===o?s=e.reduce((function(e,t){if(Ve(t))switch(t.value){case"center":return r.push(it),!1;case"top":case"left":return r.push(nt),!1;case"right":case"bottom":return r.push(rt),!1}else if(Ke(t)||Ge(t))return r.push(t),!1;return e}),s):1===o&&(s=e.reduce((function(e,i){if(Ve(i))switch(i.value){case"circle":return t=Ut.CIRCLE,!1;case"ellipse":return t=Ut.ELLIPSE,!1;case"contain":case jt:return n=Nt.CLOSEST_SIDE,!1;case Yt:return n=Nt.FARTHEST_SIDE,!1;case Gt:return n=Nt.CLOSEST_CORNER,!1;case"cover":case Kt:return n=Nt.FARTHEST_CORNER,!1}else if(Ge(i)||Ke(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return e}),s)),s&&(e=ft(e),i.push(e))})),{size:n,shape:t,stops:i,position:r,type:Mt.RADIAL_GRADIENT}};(mt=Mt=Mt||{})[mt.URL=0]="URL",mt[mt.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",mt[mt.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",(mt=Ut=Ut||{})[mt.CIRCLE=0]="CIRCLE",mt[mt.ELLIPSE=1]="ELLIPSE",(mt=Nt=Nt||{})[mt.CLOSEST_SIDE=0]="CLOSEST_SIDE",mt[mt.FARTHEST_SIDE=1]="FARTHEST_SIDE",mt[mt.CLOSEST_CORNER=2]="CLOSEST_CORNER",mt[mt.FARTHEST_CORNER=3]="FARTHEST_CORNER";var Wt,qt=function(e){if(e.type===E.URL_TOKEN){var t={url:e.value,type:Mt.URL};return It.getInstance().addImage(e.value),t}if(e.type!==E.FUNCTION)throw new Error("Unsupported image type");if(void 0===(t=Jt[e.name]))throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return t(e.values)},Jt={"linear-gradient":function(e){var t=at(180),n=[];return Ye(e).forEach((function(e,i){if(0===i){if((i=e[0]).type===E.IDENT_TOKEN&&"to"===i.value)return void(t=Je(e));if(qe(i))return void(t=st(i))}e=ft(e),n.push(e)})),{angle:t,stops:n,type:Mt.LINEAR_GRADIENT}},"-moz-linear-gradient":Et,"-ms-linear-gradient":Et,"-o-linear-gradient":Et,"-webkit-linear-gradient":Et,"radial-gradient":function(e){var t=Ut.CIRCLE,n=Nt.FARTHEST_CORNER,i=[],r=[];return Ye(e).forEach((function(e,o){var s,a=!0;0===o&&(s=!1,a=e.reduce((function(e,i){if(s)if(Ve(i))switch(i.value){case"center":return r.push(it),e;case"top":case"left":return r.push(nt),e;case"right":case"bottom":return r.push(rt),e}else(Ke(i)||Ge(i))&&r.push(i);else if(Ve(i))switch(i.value){case"circle":return t=Ut.CIRCLE,!1;case"ellipse":return t=Ut.ELLIPSE,!1;case"at":return!(s=!0);case jt:return n=Nt.CLOSEST_SIDE,!1;case"cover":case Yt:return n=Nt.FARTHEST_SIDE,!1;case"contain":case Gt:return n=Nt.CLOSEST_CORNER,!1;case Kt:return n=Nt.FARTHEST_CORNER,!1}else if(Ge(i)||Ke(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return e}),a)),a&&(e=ft(e),i.push(e))})),{size:n,shape:t,stops:i,position:r,type:Mt.RADIAL_GRADIENT}},"-moz-radial-gradient":zt,"-ms-radial-gradient":zt,"-o-radial-gradient":zt,"-webkit-radial-gradient":zt,"-webkit-gradient":function(e){var t=at(180),n=[],i=Mt.LINEAR_GRADIENT,r=Ut.CIRCLE,o=Nt.FARTHEST_CORNER;return Ye(e).forEach((function(e,t){var r;e=e[0];if(0===t){if(Ve(e)&&"linear"===e.value)return void(i=Mt.LINEAR_GRADIENT);if(Ve(e)&&"radial"===e.value)return void(i=Mt.RADIAL_GRADIENT)}e.type===E.FUNCTION&&("from"===e.name?(r=ct(e.values[0]),n.push({stop:nt,color:r})):"to"===e.name?(r=ct(e.values[0]),n.push({stop:rt,color:r})):"color-stop"!==e.name||2===(e=e.values.filter(je)).length&&(r=ct(e[1]),Oe(e=e[0])&&n.push({stop:{type:E.PERCENTAGE_TOKEN,number:100*e.number,flags:e.flags},color:r})))})),i===Mt.LINEAR_GRADIENT?{angle:(t+at(180))%at(360),stops:n,type:i}:{size:o,shape:r,stops:n,position:[],type:i}}},Xt={name:"background-image",initialValue:"none",type:dt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===E.IDENT_TOKEN&&"none"===t.value?[]:e.filter(je).map(qt)}},Zt={name:"background-origin",initialValue:"border-box",prefix:!1,type:dt.LIST,parse:function(e){return e.map((function(e){if(Ve(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},en={name:"background-position",initialValue:"0% 0%",type:dt.LIST,prefix:!1,parse:function(e){return Ye(e).map((function(e){return e.filter(Ke)})).map(ze)}};(zt=Wt=Wt||{})[zt.REPEAT=0]="REPEAT",zt[zt.NO_REPEAT=1]="NO_REPEAT",zt[zt.REPEAT_X=2]="REPEAT_X";var tn,nn={name:"background-repeat",initialValue:"repeat",prefix:!(zt[zt.REPEAT_Y=3]="REPEAT_Y"),type:dt.LIST,parse:function(e){return Ye(e).map((function(e){return e.filter(Ve).map((function(e){return e.value})).join(" ")})).map(rn)}},rn=function(e){switch(e){case"no-repeat":return Wt.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Wt.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Wt.REPEAT_Y;case"repeat":default:return Wt.REPEAT}};(zt=tn=tn||{}).AUTO="auto",zt.CONTAIN="contain";var on,sn={name:"background-size",initialValue:"0",prefix:!(zt.COVER="cover"),type:dt.LIST,parse:function(e){return Ye(e).map((function(e){return e.filter(an)}))}},an=function(e){return Ve(e)||Ke(e)},cn=(zt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:dt.TYPE_VALUE,format:"color"}})("top"),ln=zt("right"),un=zt("bottom"),dn=zt("left"),pn=(zt=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:dt.LIST,parse:function(e){return ze(e.filter(Ke))}}})("top-left"),mn=zt("top-right"),An=zt("bottom-right"),hn=zt("bottom-left");(zt=on=on||{})[zt.NONE=0]="NONE",zt[zt.SOLID=1]="SOLID";var fn,gn=(zt=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:dt.IDENT_VALUE,parse:function(e){return"none"===e?on.NONE:on.SOLID}}})("top"),vn=zt("right"),yn=zt("bottom"),Sn=zt("left"),bn=(zt=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:dt.VALUE,prefix:!1,parse:function(e){return Re(e)?e.number:0}}})("top"),Cn=zt("right"),En=zt("bottom"),wn=zt("left"),Tn={name:"color",initialValue:"transparent",prefix:!1,type:dt.TYPE_VALUE,format:"color"},Pn={name:"display",initialValue:"inline-block",prefix:!1,type:dt.LIST,parse:function(e){return e.filter(Ve).reduce((function(e,t){return e|_n(t.value)}),0)}},_n=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(zt=fn=fn||{})[zt.NONE=0]="NONE",zt[zt.LEFT=1]="LEFT",zt[zt.RIGHT=2]="RIGHT",zt[zt.INLINE_START=3]="INLINE_START";var Bn,In,Dn={name:"float",initialValue:"none",prefix:!(zt[zt.INLINE_END=4]="INLINE_END"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"left":return fn.LEFT;case"right":return fn.RIGHT;case"inline-start":return fn.INLINE_START;case"inline-end":return fn.INLINE_END}return fn.NONE}},kn={name:"letter-spacing",initialValue:"0",prefix:!1,type:dt.VALUE,parse:function(e){return e.type===E.IDENT_TOKEN&&"normal"===e.value||e.type!==E.NUMBER_TOKEN&&e.type!==E.DIMENSION_TOKEN?0:e.number}},Fn={name:"line-break",initialValue:(zt=Bn=Bn||{}).NORMAL="normal",prefix:!(zt.STRICT="strict"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"strict":return Bn.STRICT;case"normal":default:return Bn.NORMAL}}},Mn={name:"line-height",initialValue:"normal",prefix:!1,type:dt.TOKEN_VALUE},Un={name:"list-style-image",initialValue:"none",type:dt.VALUE,prefix:!1,parse:function(e){return e.type===E.IDENT_TOKEN&&"none"===e.value?null:qt(e)}};(zt=In=In||{})[zt.INSIDE=0]="INSIDE";var Nn,Ln={name:"list-style-position",initialValue:"outside",prefix:!(zt[zt.OUTSIDE=1]="OUTSIDE"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"inside":return In.INSIDE;case"outside":default:return In.OUTSIDE}}};(zt=Nn=Nn||{})[zt.NONE=-1]="NONE",zt[zt.DISC=0]="DISC",zt[zt.CIRCLE=1]="CIRCLE",zt[zt.SQUARE=2]="SQUARE",zt[zt.DECIMAL=3]="DECIMAL",zt[zt.CJK_DECIMAL=4]="CJK_DECIMAL",zt[zt.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",zt[zt.LOWER_ROMAN=6]="LOWER_ROMAN",zt[zt.UPPER_ROMAN=7]="UPPER_ROMAN",zt[zt.LOWER_GREEK=8]="LOWER_GREEK",zt[zt.LOWER_ALPHA=9]="LOWER_ALPHA",zt[zt.UPPER_ALPHA=10]="UPPER_ALPHA",zt[zt.ARABIC_INDIC=11]="ARABIC_INDIC",zt[zt.ARMENIAN=12]="ARMENIAN",zt[zt.BENGALI=13]="BENGALI",zt[zt.CAMBODIAN=14]="CAMBODIAN",zt[zt.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",zt[zt.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",zt[zt.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",zt[zt.DEVANAGARI=18]="DEVANAGARI",zt[zt.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",zt[zt.GEORGIAN=20]="GEORGIAN",zt[zt.GUJARATI=21]="GUJARATI",zt[zt.GURMUKHI=22]="GURMUKHI",zt[zt.HEBREW=22]="HEBREW",zt[zt.HIRAGANA=23]="HIRAGANA",zt[zt.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",zt[zt.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",zt[zt.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",zt[zt.KANNADA=27]="KANNADA",zt[zt.KATAKANA=28]="KATAKANA",zt[zt.KATAKANA_IROHA=29]="KATAKANA_IROHA",zt[zt.KHMER=30]="KHMER",zt[zt.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",zt[zt.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",zt[zt.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",zt[zt.LAO=34]="LAO",zt[zt.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",zt[zt.MALAYALAM=36]="MALAYALAM",zt[zt.MONGOLIAN=37]="MONGOLIAN",zt[zt.MYANMAR=38]="MYANMAR",zt[zt.ORIYA=39]="ORIYA",zt[zt.PERSIAN=40]="PERSIAN",zt[zt.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",zt[zt.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",zt[zt.TAMIL=43]="TAMIL",zt[zt.TELUGU=44]="TELUGU",zt[zt.THAI=45]="THAI",zt[zt.TIBETAN=46]="TIBETAN",zt[zt.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",zt[zt.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",zt[zt.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",zt[zt.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN";var xn,Rn={name:"list-style-type",initialValue:"none",prefix:!(zt[zt.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"disc":return Nn.DISC;case"circle":return Nn.CIRCLE;case"square":return Nn.SQUARE;case"decimal":return Nn.DECIMAL;case"cjk-decimal":return Nn.CJK_DECIMAL;case"decimal-leading-zero":return Nn.DECIMAL_LEADING_ZERO;case"lower-roman":return Nn.LOWER_ROMAN;case"upper-roman":return Nn.UPPER_ROMAN;case"lower-greek":return Nn.LOWER_GREEK;case"lower-alpha":return Nn.LOWER_ALPHA;case"upper-alpha":return Nn.UPPER_ALPHA;case"arabic-indic":return Nn.ARABIC_INDIC;case"armenian":return Nn.ARMENIAN;case"bengali":return Nn.BENGALI;case"cambodian":return Nn.CAMBODIAN;case"cjk-earthly-branch":return Nn.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Nn.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Nn.CJK_IDEOGRAPHIC;case"devanagari":return Nn.DEVANAGARI;case"ethiopic-numeric":return Nn.ETHIOPIC_NUMERIC;case"georgian":return Nn.GEORGIAN;case"gujarati":return Nn.GUJARATI;case"gurmukhi":return Nn.GURMUKHI;case"hebrew":return Nn.HEBREW;case"hiragana":return Nn.HIRAGANA;case"hiragana-iroha":return Nn.HIRAGANA_IROHA;case"japanese-formal":return Nn.JAPANESE_FORMAL;case"japanese-informal":return Nn.JAPANESE_INFORMAL;case"kannada":return Nn.KANNADA;case"katakana":return Nn.KATAKANA;case"katakana-iroha":return Nn.KATAKANA_IROHA;case"khmer":return Nn.KHMER;case"korean-hangul-formal":return Nn.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Nn.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Nn.KOREAN_HANJA_INFORMAL;case"lao":return Nn.LAO;case"lower-armenian":return Nn.LOWER_ARMENIAN;case"malayalam":return Nn.MALAYALAM;case"mongolian":return Nn.MONGOLIAN;case"myanmar":return Nn.MYANMAR;case"oriya":return Nn.ORIYA;case"persian":return Nn.PERSIAN;case"simp-chinese-formal":return Nn.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Nn.SIMP_CHINESE_INFORMAL;case"tamil":return Nn.TAMIL;case"telugu":return Nn.TELUGU;case"thai":return Nn.THAI;case"tibetan":return Nn.TIBETAN;case"trad-chinese-formal":return Nn.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Nn.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Nn.UPPER_ARMENIAN;case"disclosure-open":return Nn.DISCLOSURE_OPEN;case"disclosure-closed":return Nn.DISCLOSURE_CLOSED;case"none":default:return Nn.NONE}}},On=(zt=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:dt.TOKEN_VALUE}})("top"),Vn=zt("right"),Qn=zt("bottom"),Hn=zt("left");(zt=xn=xn||{})[zt.VISIBLE=0]="VISIBLE",zt[zt.HIDDEN=1]="HIDDEN",zt[zt.SCROLL=2]="SCROLL";var $n,jn,Yn={name:"overflow",initialValue:"visible",prefix:!(zt[zt.AUTO=3]="AUTO"),type:dt.LIST,parse:function(e){return e.filter(Ve).map((function(e){switch(e.value){case"hidden":return xn.HIDDEN;case"scroll":return xn.SCROLL;case"auto":return xn.AUTO;case"visible":default:return xn.VISIBLE}}))}},Gn={name:"overflow-wrap",initialValue:(zt=$n=$n||{}).NORMAL="normal",prefix:!(zt.BREAK_WORD="break-word"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return $n.BREAK_WORD;case"normal":default:return $n.NORMAL}}},Kn=(zt=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:dt.TYPE_VALUE,format:"length-percentage"}})("top"),zn=zt("right"),Wn=zt("bottom"),qn=zt("left");(zt=jn=jn||{})[zt.LEFT=0]="LEFT",zt[zt.CENTER=1]="CENTER";var Jn,Xn={name:"text-align",initialValue:"left",prefix:!(zt[zt.RIGHT=2]="RIGHT"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"right":return jn.RIGHT;case"center":case"justify":return jn.CENTER;case"left":default:return jn.LEFT}}};(zt=Jn=Jn||{})[zt.STATIC=0]="STATIC",zt[zt.RELATIVE=1]="RELATIVE",zt[zt.ABSOLUTE=2]="ABSOLUTE",zt[zt.FIXED=3]="FIXED";var Zn,ei={name:"position",initialValue:"static",prefix:!(zt[zt.STICKY=4]="STICKY"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"relative":return Jn.RELATIVE;case"absolute":return Jn.ABSOLUTE;case"fixed":return Jn.FIXED;case"sticky":return Jn.STICKY}return Jn.STATIC}},ti={name:"text-shadow",initialValue:"none",type:dt.LIST,prefix:!1,parse:function(e){return 1===e.length&&He(e[0],"none")?[]:Ye(e).map((function(e){for(var t={color:ht.TRANSPARENT,offsetX:nt,offsetY:nt,blur:nt},n=0,i=0;i<e.length;i++){var r=e[i];Ge(r)?(0===n?t.offsetX=r:1===n?t.offsetY=r:t.blur=r,n++):t.color=ct(r)}return t}))}};(zt=Zn=Zn||{})[zt.NONE=0]="NONE",zt[zt.LOWERCASE=1]="LOWERCASE",zt[zt.UPPERCASE=2]="UPPERCASE";var ni,ii={name:"text-transform",initialValue:"none",prefix:!(zt[zt.CAPITALIZE=3]="CAPITALIZE"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return Zn.UPPERCASE;case"lowercase":return Zn.LOWERCASE;case"capitalize":return Zn.CAPITALIZE}return Zn.NONE}},ri={name:"transform",initialValue:"none",prefix:!0,type:dt.VALUE,parse:function(e){if(e.type===E.IDENT_TOKEN&&"none"===e.value)return null;if(e.type!==E.FUNCTION)return null;var t=oi[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}},oi={matrix:function(e){return 6===(e=e.filter((function(e){return e.type===E.NUMBER_TOKEN})).map((function(e){return e.number}))).length?e:null},matrix3d:function(e){var t=e.filter((function(e){return e.type===E.NUMBER_TOKEN})).map((function(e){return e.number})),n=t[0],i=t[1],r=(t[2],t[3],t[4]),o=t[5],s=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]);e=t[13];return t[14],t[15],16===t.length?[n,i,r,o,s,e]:null}},si=[zt={type:E.PERCENTAGE_TOKEN,number:50,flags:4},zt],ai={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:dt.LIST,parse:function(e){return 2!==(e=e.filter(Ke)).length?si:[e[0],e[1]]}};(zt=ni=ni||{})[zt.VISIBLE=0]="VISIBLE",zt[zt.HIDDEN=1]="HIDDEN";var ci,li={name:"visible",initialValue:"none",prefix:!(zt[zt.COLLAPSE=2]="COLLAPSE"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return ni.HIDDEN;case"collapse":return ni.COLLAPSE;case"visible":default:return ni.VISIBLE}}};(zt=ci=ci||{}).NORMAL="normal",zt.BREAK_ALL="break-all";var ui,di={name:"word-break",initialValue:"normal",prefix:!(zt.KEEP_ALL="keep-all"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return ci.BREAK_ALL;case"keep-all":return ci.KEEP_ALL;case"normal":default:return ci.NORMAL}}},pi={name:"z-index",initialValue:"auto",prefix:!1,type:dt.VALUE,parse:function(e){if(e.type===E.IDENT_TOKEN)return{auto:!0,order:0};if(Oe(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},mi={name:"opacity",initialValue:"1",type:dt.VALUE,prefix:!1,parse:function(e){return Oe(e)?e.number:1}},Ai={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:dt.TYPE_VALUE,format:"color"},hi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:dt.LIST,parse:function(e){return e.filter(Ve).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},fi={name:"font-family",initialValue:"",prefix:!1,type:dt.LIST,parse:function(e){return e.filter(gi).map((function(e){return e.value}))}},gi=function(e){return e.type===E.STRING_TOKEN||e.type===E.IDENT_TOKEN},vi={name:"font-size",initialValue:"0",prefix:!1,type:dt.TYPE_VALUE,format:"length"},yi={name:"font-weight",initialValue:"normal",type:dt.VALUE,prefix:!1,parse:function(e){if(Oe(e))return e.number;if(Ve(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Si={name:"font-variant",initialValue:"none",type:dt.LIST,prefix:!1,parse:function(e){return e.filter(Ve).map((function(e){return e.value}))}};function bi(e,t){return 0!=(e&t)}function Ci(e,t,n){return(e=e&&e[Math.min(t,e.length-1)])?n?e.open:e.close:""}(zt=ui=ui||{}).NORMAL="normal",zt.ITALIC="italic";var Ei={name:"font-style",initialValue:"normal",prefix:!(zt.OBLIQUE="oblique"),type:dt.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return ui.OBLIQUE;case"italic":return ui.ITALIC;case"normal":default:return ui.NORMAL}}},wi={name:"content",initialValue:"none",type:dt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===E.IDENT_TOKEN&&"none"===t.value?[]:e}},Ti={name:"counter-increment",initialValue:"none",prefix:!0,type:dt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===E.IDENT_TOKEN&&"none"===t.value)return null;for(var n=[],i=e.filter($e),r=0;r<i.length;r++){var o=i[r],s=i[r+1];o.type===E.IDENT_TOKEN&&(s=s&&Oe(s)?s.number:1,n.push({counter:o.value,increment:s}))}return n}},Pi={name:"counter-reset",initialValue:"none",prefix:!0,type:dt.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],n=e.filter($e),i=0;i<n.length;i++){var r=n[i],o=n[i+1];Ve(r)&&"none"!==r.value&&(o=o&&Oe(o)?o.number:0,t.push({counter:r.value,reset:o}))}return t}},_i={name:"quotes",initialValue:"none",prefix:!0,type:dt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===E.IDENT_TOKEN&&"none"===t.value)return null;var n=[],i=e.filter(Qe);if(i.length%2!=0)return null;for(var r=0;r<i.length;r+=2){var o=i[r].value,s=i[r+1].value;n.push({open:o,close:s})}return n}},Bi={name:"box-shadow",initialValue:"none",type:dt.LIST,prefix:!1,parse:function(e){return 1===e.length&&He(e[0],"none")?[]:Ye(e).map((function(e){for(var t={color:255,offsetX:nt,offsetY:nt,blur:nt,spread:nt,inset:!1},n=0,i=0;i<e.length;i++){var r=e[i];He(r,"inset")?t.inset=!0:Ge(r)?(0===n?t.offsetX=r:1===n?t.offsetY=r:2===n?t.blur=r:t.spread=r,n++):t.color=ct(r)}return t}))}},Ii=(Di.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&this.visibility===ni.VISIBLE},Di.prototype.isTransparent=function(){return Xe(this.backgroundColor)},Di.prototype.isTransformed=function(){return null!==this.transform},Di.prototype.isPositioned=function(){return this.position!==Jn.STATIC},Di.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Di.prototype.isFloating=function(){return this.float!==fn.NONE},Di.prototype.isInlineLevel=function(){return bi(this.display,4)||bi(this.display,33554432)||bi(this.display,268435456)||bi(this.display,536870912)||bi(this.display,67108864)||bi(this.display,134217728)},Di);function Di(e){this.backgroundClip=Ui(bt,e.backgroundClip),this.backgroundColor=Ui(Ct,e.backgroundColor),this.backgroundImage=Ui(Xt,e.backgroundImage),this.backgroundOrigin=Ui(Zt,e.backgroundOrigin),this.backgroundPosition=Ui(en,e.backgroundPosition),this.backgroundRepeat=Ui(nn,e.backgroundRepeat),this.backgroundSize=Ui(sn,e.backgroundSize),this.borderTopColor=Ui(cn,e.borderTopColor),this.borderRightColor=Ui(ln,e.borderRightColor),this.borderBottomColor=Ui(un,e.borderBottomColor),this.borderLeftColor=Ui(dn,e.borderLeftColor),this.borderTopLeftRadius=Ui(pn,e.borderTopLeftRadius),this.borderTopRightRadius=Ui(mn,e.borderTopRightRadius),this.borderBottomRightRadius=Ui(An,e.borderBottomRightRadius),this.borderBottomLeftRadius=Ui(hn,e.borderBottomLeftRadius),this.borderTopStyle=Ui(gn,e.borderTopStyle),this.borderRightStyle=Ui(vn,e.borderRightStyle),this.borderBottomStyle=Ui(yn,e.borderBottomStyle),this.borderLeftStyle=Ui(Sn,e.borderLeftStyle),this.borderTopWidth=Ui(bn,e.borderTopWidth),this.borderRightWidth=Ui(Cn,e.borderRightWidth),this.borderBottomWidth=Ui(En,e.borderBottomWidth),this.borderLeftWidth=Ui(wn,e.borderLeftWidth),this.boxShadow=Ui(Bi,e.boxShadow),this.color=Ui(Tn,e.color),this.display=Ui(Pn,e.display),this.float=Ui(Dn,e.cssFloat),this.fontFamily=Ui(fi,e.fontFamily),this.fontSize=Ui(vi,e.fontSize),this.fontStyle=Ui(Ei,e.fontStyle),this.fontVariant=Ui(Si,e.fontVariant),this.fontWeight=Ui(yi,e.fontWeight),this.letterSpacing=Ui(kn,e.letterSpacing),this.lineBreak=Ui(Fn,e.lineBreak),this.lineHeight=Ui(Mn,e.lineHeight),this.listStyleImage=Ui(Un,e.listStyleImage),this.listStylePosition=Ui(Ln,e.listStylePosition),this.listStyleType=Ui(Rn,e.listStyleType),this.marginTop=Ui(On,e.marginTop),this.marginRight=Ui(Vn,e.marginRight),this.marginBottom=Ui(Qn,e.marginBottom),this.marginLeft=Ui(Hn,e.marginLeft),this.opacity=Ui(mi,e.opacity);var t=Ui(Yn,e.overflow);this.overflowX=t[0],this.overflowY=t[1<t.length?1:0],this.overflowWrap=Ui(Gn,e.overflowWrap),this.paddingTop=Ui(Kn,e.paddingTop),this.paddingRight=Ui(zn,e.paddingRight),this.paddingBottom=Ui(Wn,e.paddingBottom),this.paddingLeft=Ui(qn,e.paddingLeft),this.position=Ui(ei,e.position),this.textAlign=Ui(Xn,e.textAlign),this.textDecorationColor=Ui(Ai,e.textDecorationColor||e.color),this.textDecorationLine=Ui(hi,e.textDecorationLine),this.textShadow=Ui(ti,e.textShadow),this.textTransform=Ui(ii,e.textTransform),this.transform=Ui(ri,e.transform),this.transformOrigin=Ui(ai,e.transformOrigin),this.visibility=Ui(li,e.visibility),this.wordBreak=Ui(di,e.wordBreak),this.zIndex=Ui(pi,e.zIndex)}var ki,Fi=function(e){this.content=Ui(wi,e.content),this.quotes=Ui(_i,e.quotes)},Mi=function(e){this.counterIncrement=Ui(Ti,e.counterIncrement),this.counterReset=Ui(Pi,e.counterReset)},Ui=function(e,t){var n=new Ue;t=null!=t?t.toString():e.initialValue;n.write(t);var i=new Le(n.read());switch(e.type){case dt.IDENT_VALUE:var r=i.parseComponentValue();return e.parse(Ve(r)?r.value:e.initialValue);case dt.VALUE:return e.parse(i.parseComponentValue());case dt.LIST:return e.parse(i.parseComponentValues());case dt.TOKEN_VALUE:return i.parseComponentValue();case dt.TYPE_VALUE:switch(e.format){case"angle":return st(i.parseComponentValue());case"color":return ct(i.parseComponentValue());case"image":return qt(i.parseComponentValue());case"length":var o=i.parseComponentValue();return Ge(o)?o:nt;case"length-percentage":return Ke(o=i.parseComponentValue())?o:nt}}throw new Error("Attempting to parse unsupported css format type "+e.format)},Ni=function(e){this.styles=new Ii(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&Br(e)&&(e.style.transform="none"),this.bounds=a(e),this.flags=0},Li=function(e,t){this.text=e,this.bounds=t},xi=function(e,t){for(var n,i=re(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===$n.BREAK_WORD?"break-word":t.wordBreak}),r=[];!(n=i.next()).done;)n.value&&r.push(n.value.slice());return r},Ri=function(e,t){var n,i,r,s,u;this.text=Oi(e.data,t.textTransform),this.textBounds=(n=this.text,r=e,n=function(e,t){return 0!==t.letterSpacing?c(e).map((function(e){return l(e)})):xi(e,t)}(n,i=t),s=[],u=0,n.forEach((function(e){var t;i.textDecorationLine.length||0<e.trim().length?Pt.SUPPORT_RANGE_BOUNDS?s.push(new Li(e,function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");return(i=i.createRange()).setStart(e,t),i.setEnd(e,t+n),o.fromClientRect(i.getBoundingClientRect())}(r,u,e.length))):(t=r.splitText(e.length),s.push(new Li(e,function(e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");if(n.appendChild(e.cloneNode(!0)),t=e.parentNode)return t.replaceChild(n,e),e=a(n),n.firstChild&&t.replaceChild(n.firstChild,n),e}return new o(0,0,0,0)}(r))),r=t):Pt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(e.length)),u+=e.length})),s)},Oi=function(e,t){switch(t){case Zn.LOWERCASE:return e.toLowerCase();case Zn.CAPITALIZE:return e.replace(Vi,Qi);case Zn.UPPERCASE:return e.toUpperCase();default:return e}},Vi=/(^|\s|:|-|\(|\))([a-z])/g,Qi=function(e,t,n){return 0<e.length?t+n.toUpperCase():e},Hi=(t($i,ki=Ni),$i);function $i(e){var t=ki.call(this,e)||this;return t.src=e.currentSrc||e.src,t.intrinsicWidth=e.naturalWidth,t.intrinsicHeight=e.naturalHeight,It.getInstance().addImage(t.src),t}var ji,Yi=(t(Gi,ji=Ni),Gi);function Gi(e){var t=ji.call(this,e)||this;return t.canvas=e,t.intrinsicWidth=e.width,t.intrinsicHeight=e.height,t}var Ki,zi=(t(Wi,Ki=Ni),Wi);function Wi(e){var t=Ki.call(this,e)||this,n=new XMLSerializer;return t.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)),t.intrinsicWidth=e.width.baseVal.value,t.intrinsicHeight=e.height.baseVal.value,It.getInstance().addImage(t.svg),t}var qi,Ji=(t(Xi,qi=Ni),Xi);function Xi(e){var t=qi.call(this,e)||this;return t.value=e.value,t}var Zi,er=(t(tr,Zi=Ni),tr);function tr(e){var t=Zi.call(this,e)||this;return t.start=e.start,t.reversed="boolean"==typeof e.reversed&&!0===e.reversed,t}var nr,ir=[{type:E.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],rr=[{type:E.PERCENTAGE_TOKEN,flags:0,number:50}],or="checkbox",sr="radio",ar=(t(cr,nr=Ni),cr);function cr(e){var t,n=nr.call(this,e)||this;switch(n.type=e.type.toLowerCase(),n.checked=e.checked,n.value=0===(e="password"===(t=e).type?new Array(t.value.length+1).join(""):t.value).length?t.placeholder||"":e,n.type!==or&&n.type!==sr||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=on.SOLID,n.styles.backgroundClip=[pt.BORDER_BOX],n.styles.backgroundOrigin=[0],n.bounds=(e=n.bounds).width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e),n.type){case or:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=ir;break;case sr:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=rr}return n}var lr,ur=(t(dr,lr=Ni),dr);function dr(e){var t=lr.call(this,e)||this;e=e.options[e.selectedIndex||0];return t.value=e&&e.text||"",t}var pr,mr=(t(Ar,pr=Ni),Ar);function Ar(e){var t=pr.call(this,e)||this;return t.value=e.value,t}function hr(e){return ct(Le.create(e).parseComponentValue())}var fr,gr=(t(vr,fr=Ni),vr);function vr(e){var t,n,i=fr.call(this,e)||this;i.src=e.src,i.width=parseInt(e.width,10),i.height=parseInt(e.height,10),i.backgroundColor=i.styles.backgroundColor;try{e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement&&(i.tree=Er(e.contentWindow.document.documentElement),t=e.contentWindow.document.documentElement?hr(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):ht.TRANSPARENT,n=e.contentWindow.document.body?hr(getComputedStyle(e.contentWindow.document.body).backgroundColor):ht.TRANSPARENT,i.backgroundColor=Xe(t)?Xe(n)?i.styles.backgroundColor:n:t)}catch(e){}return i}function yr(e,t,n){for(var i=e.firstChild;i;i=o){var r,o=i.nextSibling;Pr(i)&&0<i.data.trim().length?t.textNodes.push(new Ri(i,t.styles)):!_r(i)||(r=Cr(i)).styles.isVisible()&&(wr(i,r,n)?r.flags|=4:Tr(r.styles)&&(r.flags|=2),-1!==br.indexOf(i.tagName)&&(r.flags|=8),t.elements.push(r),xr(i)||Fr(i)||Rr(i)||yr(i,r,n))}}function Sr(e){return"STYLE"===e.tagName}var br=["OL","UL","MENU"],Cr=function(e){return new(Nr(e)?Hi:Ur(e)?Yi:Fr(e)?zi:Ir(e)?Ji:Dr(e)?er:kr(e)?ar:Rr(e)?ur:xr(e)?mr:Lr(e)?gr:Ni)(e)},Er=function(e){var t=Cr(e);return t.flags|=4,yr(e,t,t),t},wr=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Mr(e)&&n.styles.isTransparent()},Tr=function(e){return e.isPositioned()||e.isFloating()},Pr=function(e){return e.nodeType===Node.TEXT_NODE},_r=function(e){return e.nodeType===Node.ELEMENT_NODE},Br=function(e){return void 0!==e.style},Ir=function(e){return"LI"===e.tagName},Dr=function(e){return"OL"===e.tagName},kr=function(e){return"INPUT"===e.tagName},Fr=function(e){return"svg"===e.tagName},Mr=function(e){return"BODY"===e.tagName},Ur=function(e){return"CANVAS"===e.tagName},Nr=function(e){return"IMG"===e.tagName},Lr=function(e){return"IFRAME"===e.tagName},xr=function(e){return"TEXTAREA"===e.tagName},Rr=function(e){return"SELECT"===e.tagName},Or=(Vr.prototype.getCounterValue=function(e){return(e=this.counters[e])&&e.length?e[e.length-1]:1},Vr.prototype.getCounterValues=function(e){return(e=this.counters[e])||[]},Vr.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},Vr.prototype.parse=function(e){var t=this,n=e.counterIncrement;e=e.counterReset;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&(n[Math.max(0,n.length-1)]+=e.increment)}));var i=[];return e.forEach((function(e){var n=t.counters[e.counter];i.push(e.counter),(n=n||(t.counters[e.counter]=[])).push(e.reset)})),i},Vr);function Vr(){this.counters={}}function Qr(e,t,n,i,r,o){return e<t||n<e?Jr(e,r,0<o.length):i.integers.reduce((function(t,n,r){for(;n<=e;)e-=n,t+=i.values[r];return t}),"")+o}function Hr(e,t,n,i){for(var r="";n||e--,r=i(e)+r,t<=(e/=t)*t;);return r}function $r(e,t,n,i,r){var o=n-t+1;return(e<0?"-":"")+(Hr(Math.abs(e),o,i,(function(e){return l(Math.floor(e%o)+t)}))+r)}function jr(e,t,n){void 0===n&&(n=". ");var i=t.length;return Hr(Math.abs(e),i,!1,(function(e){return t[Math.floor(e%i)]}))+n}function Yr(e,t,n,i,r,o){if(e<-9999||9999<e)return Jr(e,Nn.CJK_DECIMAL,0<r.length);var s=Math.abs(e),a=r;if(0===s)return t[0]+a;for(var c=0;0<s&&c<=4;c++){var l=s%10;0==l&&bi(o,1)&&""!==a?a=t[l]+a:1<l||1==l&&0===c||1==l&&1===c&&bi(o,2)||1==l&&1===c&&bi(o,4)&&100<e||1==l&&1<c&&bi(o,8)?a=t[l]+(0<c?n[c-1]:"")+a:1==l&&0<c&&(a=n[c-1]+a),s=Math.floor(s/10)}return(e<0?i:"")+a}var Gr,Kr={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},zr={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Jr=function(e,t,n){var i=n?". ":"",r=n?"":"",o=n?", ":"",s=n?" ":"";switch(t){case Nn.DISC:return""+s;case Nn.CIRCLE:return""+s;case Nn.SQUARE:return""+s;case Nn.DECIMAL_LEADING_ZERO:var a=$r(e,48,57,!0,i);return a.length<4?"0"+a:a;case Nn.CJK_DECIMAL:return jr(e,"",r);case Nn.LOWER_ROMAN:return Qr(e,1,3999,Kr,Nn.DECIMAL,i).toLowerCase();case Nn.UPPER_ROMAN:return Qr(e,1,3999,Kr,Nn.DECIMAL,i);case Nn.LOWER_GREEK:return $r(e,945,969,!1,i);case Nn.LOWER_ALPHA:return $r(e,97,122,!1,i);case Nn.UPPER_ALPHA:return $r(e,65,90,!1,i);case Nn.ARABIC_INDIC:return $r(e,1632,1641,!0,i);case Nn.ARMENIAN:case Nn.UPPER_ARMENIAN:return Qr(e,1,9999,zr,Nn.DECIMAL,i);case Nn.LOWER_ARMENIAN:return Qr(e,1,9999,zr,Nn.DECIMAL,i).toLowerCase();case Nn.BENGALI:return $r(e,2534,2543,!0,i);case Nn.CAMBODIAN:case Nn.KHMER:return $r(e,6112,6121,!0,i);case Nn.CJK_EARTHLY_BRANCH:return jr(e,"",r);case Nn.CJK_HEAVENLY_STEM:return jr(e,"",r);case Nn.CJK_IDEOGRAPHIC:case Nn.TRAD_CHINESE_INFORMAL:return Yr(e,"","","",r,14);case Nn.TRAD_CHINESE_FORMAL:return Yr(e,"","","",r,15);case Nn.SIMP_CHINESE_INFORMAL:return Yr(e,"","","",r,14);case Nn.SIMP_CHINESE_FORMAL:return Yr(e,"","","",r,15);case Nn.JAPANESE_INFORMAL:return Yr(e,"","","",r,0);case Nn.JAPANESE_FORMAL:return Yr(e,"","","",r,7);case Nn.KOREAN_HANGUL_FORMAL:return Yr(e,"","","",o,7);case Nn.KOREAN_HANJA_INFORMAL:return Yr(e,"","","",o,0);case Nn.KOREAN_HANJA_FORMAL:return Yr(e,"","","",o,7);case Nn.DEVANAGARI:return $r(e,2406,2415,!0,i);case Nn.GEORGIAN:return Qr(e,1,19999,qr,Nn.DECIMAL,i);case Nn.GUJARATI:return $r(e,2790,2799,!0,i);case Nn.GURMUKHI:return $r(e,2662,2671,!0,i);case Nn.HEBREW:return Qr(e,1,10999,Wr,Nn.DECIMAL,i);case Nn.HIRAGANA:return jr(e,"");case Nn.HIRAGANA_IROHA:return jr(e,"");case Nn.KANNADA:return $r(e,3302,3311,!0,i);case Nn.KATAKANA:return jr(e,"",r);case Nn.KATAKANA_IROHA:return jr(e,"",r);case Nn.LAO:return $r(e,3792,3801,!0,i);case Nn.MONGOLIAN:return $r(e,6160,6169,!0,i);case Nn.MYANMAR:return $r(e,4160,4169,!0,i);case Nn.ORIYA:return $r(e,2918,2927,!0,i);case Nn.PERSIAN:return $r(e,1776,1785,!0,i);case Nn.TAMIL:return $r(e,3046,3055,!0,i);case Nn.TELUGU:return $r(e,3174,3183,!0,i);case Nn.THAI:return $r(e,3664,3673,!0,i);case Nn.TIBETAN:return $r(e,3872,3881,!0,i);case Nn.DECIMAL:default:return $r(e,48,57,!0,i)}},Xr="data-html2canvas-ignore",Zr=(eo.prototype.toIFrame=function(e,t){var n=this,i=no(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var r=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=i.contentWindow,a=s.document;e=io(i).then((function(){n.scrolledElements.forEach(ao),s&&(s.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===t.top&&s.scrollX===t.left||(a.documentElement.style.top=-t.top+"px",a.documentElement.style.left=-t.left+"px",a.documentElement.style.position="absolute"));var e=n.options.onclone;return void 0===n.clonedReferenceElement?Promise.reject("Error finding the "+n.referenceElement.nodeName+" in the cloned document"):"function"==typeof e?Promise.resolve().then((function(){return e(a)})).then((function(){return i})):i}));return a.open(),a.write(oo(document.doctype)+"<html></html>"),so(this.referenceElement.ownerDocument,r,o),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),e},eo.prototype.createElementClone=function(e){return Ur(e)?this.createCanvasClone(e):Sr(e)?this.createStyleClone(e):e.cloneNode(!1)},eo.prototype.createStyleClone=function(e){try{if((t=e.sheet)&&t.cssRules){var t,n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),"");return(t=e.cloneNode(!1)).textContent=n,t}}catch(e){if(_t.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},eo.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){_t.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var i=e.getContext("2d"),r=n.getContext("2d");return r&&(i?r.putImageData(i.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)),n}catch(e){}return n},eo.prototype.cloneNode=function(e){if(Pr(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(Br(e)&&t){var n=this.createElementClone(e),i=t.getComputedStyle(e),r=t.getComputedStyle(e,":before"),o=t.getComputedStyle(e,":after");this.referenceElement===e&&(this.clonedReferenceElement=n),Mr(n)&&po(n);t=this.counters.parse(new Mi(i)),r=this.resolvePseudoContent(e,n,r,Gr.BEFORE);for(var s=e.firstChild;s;s=s.nextSibling)_r(s)&&("SCRIPT"===s.tagName||s.hasAttribute(Xr)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(s))||this.options.copyStyles&&_r(s)&&Sr(s)||n.appendChild(this.cloneNode(s));return r&&n.insertBefore(r,n.firstChild),(o=this.resolvePseudoContent(e,n,o,Gr.AFTER))&&n.appendChild(o),this.counters.pop(t),i&&this.options.copyStyles&&!Lr(e)&&ro(i,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(xr(e)||Rr(e))&&(xr(n)||Rr(n))&&(n.value=e.value),n}return e.cloneNode(!1)},eo.prototype.resolvePseudoContent=function(e,t,n,i){var r=this;if(n){var o=n.content,s=t.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new Mi(n));var a=new Fi(n),c=s.createElement("html2canvaspseudoelement");return ro(n,c),a.content.forEach((function(t){if(t.type===E.STRING_TOKEN)c.appendChild(s.createTextNode(t.value));else if(t.type===E.URL_TOKEN){var n=s.createElement("img");n.src=t.value,n.style.opacity="1",c.appendChild(n)}else if(t.type===E.FUNCTION){var i,o,l,u,d;"attr"===t.name?(n=t.values.filter(Ve)).length&&c.appendChild(s.createTextNode(e.getAttribute(n[0].value)||"")):"counter"===t.name?(l=(o=t.values.filter(je))[0],o=o[1],l&&Ve(l)&&(i=r.counters.getCounterValue(l.value),d=o&&Ve(o)?Rn.parse(o.value):Nn.DECIMAL,c.appendChild(s.createTextNode(Jr(i,d,!1))))):"counters"===t.name&&(l=(i=t.values.filter(je))[0],d=i[1],o=i[2],l&&Ve(l)&&(l=r.counters.getCounterValues(l.value),u=o&&Ve(o)?Rn.parse(o.value):Nn.DECIMAL,d=d&&d.type===E.STRING_TOKEN?d.value:"",d=l.map((function(e){return Jr(e,u,!1)})).join(d),c.appendChild(s.createTextNode(d))))}else if(t.type===E.IDENT_TOKEN)switch(t.value){case"open-quote":c.appendChild(s.createTextNode(Ci(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":c.appendChild(s.createTextNode(Ci(a.quotes,--r.quoteDepth,!1)))}})),c.className=co+" "+lo,t.className+=i===Gr.BEFORE?" "+co:" "+lo,c}}},eo);function eo(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new Or,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}(zt=Gr=Gr||{})[zt.BEFORE=0]="BEFORE",zt[zt.AFTER=1]="AFTER";var to,no=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Xr,"true"),e.body.appendChild(n),n},io=function(e){return new Promise((function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=r.onreadystatechange=function(){i.onload=e.onload=r.onreadystatechange=null;var n=setInterval((function(){0<r.body.childNodes.length&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},ro=function(e,t){for(var n=e.length-1;0<=n;n--){var i=e.item(n);"content"!==i&&t.style.setProperty(i,e.getPropertyValue(i))}return t},oo=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},so=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ao=function(e){var t=e[0],n=e[1];e=e[2];t.scrollLeft=n,t.scrollTop=e},co="___html2canvas___pseudoelement_before",lo="___html2canvas___pseudoelement_after",uo='{\n    content: "" !important;\n    display: none !important;\n}',po=function(e){mo(e,"."+co+":before"+uo+"\n         ."+lo+":after"+uo)},mo=function(e,t){var n=e.ownerDocument;n&&((n=n.createElement("style")).textContent=t,e.appendChild(n))};function Ao(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))}(zt=to=to||{})[zt.VECTOR=0]="VECTOR",zt[zt.BEZIER_CURVE=1]="BEZIER_CURVE";var ho=(fo.prototype.add=function(e,t){return new fo(this.x+e,this.y+t)},fo);function fo(e,t){this.type=to.VECTOR,this.x=e,this.y=t}function go(e,t,n){return new ho(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)}var vo=(yo.prototype.subdivide=function(e,t){var n=go(this.start,this.startControl,e),i=go(this.startControl,this.endControl,e),r=go(this.endControl,this.end,e),o=go(n,i,e);i=go(i,r,e),e=go(o,i,e);return t?new yo(this.start,n,o,e):new yo(e,i,r,this.end)},yo.prototype.add=function(e,t){return new yo(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},yo.prototype.reverse=function(){return new yo(this.end,this.endControl,this.startControl,this.start)},yo);function yo(e,t,n,i){this.type=to.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=i}function So(e){return e.type===to.BEZIER_CURVE}var bo,Co=function(e){var t=e.styles,n=e.bounds,i=(f=We(t.borderTopLeftRadius,n.width,n.height))[0],r=f[1],o=(g=We(t.borderTopRightRadius,n.width,n.height))[0],s=g[1],a=(v=We(t.borderBottomRightRadius,n.width,n.height))[0],c=v[1],l=(y=We(t.borderBottomLeftRadius,n.width,n.height))[0],u=y[1];(S=[]).push((i+o)/n.width),S.push((l+a)/n.width),S.push((r+u)/n.height),S.push((s+c)/n.height),1<(b=Math.max.apply(Math,S))&&(i/=b,r/=b,o/=b,s/=b,a/=b,c/=b,l/=b,u/=b);var d=n.width-o,p=n.height-c,m=n.width-a,A=n.height-u,h=t.borderTopWidth,f=t.borderRightWidth,g=t.borderBottomWidth,v=t.borderLeftWidth,y=ot(t.paddingTop,e.bounds.width),S=ot(t.paddingRight,e.bounds.width),b=ot(t.paddingBottom,e.bounds.width);e=ot(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=0<i||0<r?To(n.left,n.top,i,r,bo.TOP_LEFT):new ho(n.left,n.top),this.topRightBorderBox=0<o||0<s?To(n.left+d,n.top,o,s,bo.TOP_RIGHT):new ho(n.left+n.width,n.top),this.bottomRightBorderBox=0<a||0<c?To(n.left+m,n.top+p,a,c,bo.BOTTOM_RIGHT):new ho(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=0<l||0<u?To(n.left,n.top+A,l,u,bo.BOTTOM_LEFT):new ho(n.left,n.top+n.height),this.topLeftPaddingBox=0<i||0<r?To(n.left+v,n.top+h,Math.max(0,i-v),Math.max(0,r-h),bo.TOP_LEFT):new ho(n.left+v,n.top+h),this.topRightPaddingBox=0<o||0<s?To(n.left+Math.min(d,n.width+v),n.top+h,d>n.width+v?0:o-v,s-h,bo.TOP_RIGHT):new ho(n.left+n.width-f,n.top+h),this.bottomRightPaddingBox=0<a||0<c?To(n.left+Math.min(m,n.width-v),n.top+Math.min(p,n.height+h),Math.max(0,a-f),c-g,bo.BOTTOM_RIGHT):new ho(n.left+n.width-f,n.top+n.height-g),this.bottomLeftPaddingBox=0<l||0<u?To(n.left+v,n.top+A,Math.max(0,l-v),u-g,bo.BOTTOM_LEFT):new ho(n.left+v,n.top+n.height-g),this.topLeftContentBox=0<i||0<r?To(n.left+v+e,n.top+h+y,Math.max(0,i-(v+e)),Math.max(0,r-(h+y)),bo.TOP_LEFT):new ho(n.left+v+e,n.top+h+y),this.topRightContentBox=0<o||0<s?To(n.left+Math.min(d,n.width+v+e),n.top+h+y,d>n.width+v+e?0:o-v+e,s-(h+y),bo.TOP_RIGHT):new ho(n.left+n.width-(f+S),n.top+h+y),this.bottomRightContentBox=0<a||0<c?To(n.left+Math.min(m,n.width-(v+e)),n.top+Math.min(p,n.height+h+y),Math.max(0,a-(f+S)),c-(g+b),bo.BOTTOM_RIGHT):new ho(n.left+n.width-(f+S),n.top+n.height-(g+b)),this.bottomLeftContentBox=0<l||0<u?To(n.left+v+e,n.top+A,Math.max(0,l-(v+e)),u-(g+b),bo.BOTTOM_LEFT):new ho(n.left+v+e,n.top+n.height-(g+b))};function Eo(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]}function wo(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]}(zt=bo=bo||{})[zt.TOP_LEFT=0]="TOP_LEFT",zt[zt.TOP_RIGHT=1]="TOP_RIGHT",zt[zt.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",zt[zt.BOTTOM_LEFT=3]="BOTTOM_LEFT";var To=function(e,t,n,i,r){var o=(Math.sqrt(2)-1)/3*4,s=n*o,a=i*o,c=e+n,l=t+i;switch(r){case bo.TOP_LEFT:return new vo(new ho(e,l),new ho(e,l-a),new ho(c-s,t),new ho(c,t));case bo.TOP_RIGHT:return new vo(new ho(e,t),new ho(e+s,t),new ho(c,l-a),new ho(c,l));case bo.BOTTOM_RIGHT:return new vo(new ho(c,t),new ho(c,t+a),new ho(e+s,l),new ho(e,l));case bo.BOTTOM_LEFT:default:return new vo(new ho(c,l),new ho(c-s,l),new ho(e,t+a),new ho(e,t))}},Po=function(e,t,n){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=n,this.target=6},_o=function(e,t){this.type=1,this.target=t,this.path=e},Bo=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Io=(Do.prototype.getParentEffects=function(){var e,t=this.effects.slice(0);return this.container.styles.overflowX!==xn.VISIBLE&&(Ao(Eo(this.curves),e=wo(this.curves))||t.push(new _o(e,6))),t},Do);function Do(e,t){var n,i;this.container=e,this.effects=t.slice(0),this.curves=new Co(e),null!==e.styles.transform&&(n=e.bounds.left+e.styles.transformOrigin[0].number,t=e.bounds.top+e.styles.transformOrigin[1].number,i=e.styles.transform,this.effects.push(new Po(n,t,i))),e.styles.overflowX!==xn.VISIBLE&&(Ao(i=Eo(this.curves),e=wo(this.curves))?this.effects.push(new _o(i,6)):(this.effects.push(new _o(i,2)),this.effects.push(new _o(e,4))))}function ko(e,t,n,i){e.container.elements.forEach((function(r){var o=bi(r.flags,4),s=bi(r.flags,2),a=new Io(r,e.getParentEffects());bi(r.styles.display,2048)&&i.push(a);var c,l,u,d,p=bi(r.flags,8)?[]:i;o||s?(c=o||r.styles.isPositioned()?n:t,s=new Bo(a),r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()?(l=r.styles.zIndex.order)<0?(u=0,c.negativeZIndex.some((function(e,t){return l>e.element.container.styles.zIndex.order&&(u=t,!0)})),c.negativeZIndex.splice(u,0,s)):0<l?(d=0,c.positiveZIndex.some((function(e,t){return l>e.element.container.styles.zIndex.order&&(d=t+1,!0)})),c.positiveZIndex.splice(d,0,s)):c.zeroOrAutoZIndexOrTransformedOrOpacity.push(s):(r.styles.isFloating()?c.nonPositionedFloats:c.nonPositionedInlineLevel).push(s),ko(a,s,o?s:n,p)):((r.styles.isInlineLevel()?t.inlineLevel:t.nonInlineLevel).push(a),ko(a,t,n,p)),bi(r.flags,8)&&xo(r,p)}))}function Fo(e){var t=e.bounds;e=e.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))}function Mo(e){var t=e.styles,n=e.bounds,i=ot(t.paddingLeft,n.width),r=ot(t.paddingRight,n.width),o=ot(t.paddingTop,n.width);e=ot(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+o+e))}function Uo(e,t,n){var i=(o=e,0===(r=Vo(e.styles.backgroundOrigin,t))?o.bounds:(2===r?Mo:Fo)(o)),r=(a=e,(s=Vo(e.styles.backgroundClip,t))===pt.BORDER_BOX?a.bounds:(s===pt.CONTENT_BOX?Mo:Fo)(a)),o=Oo(Vo(e.styles.backgroundSize,t),n,i),s=o[0],a=o[1];n=We(Vo(e.styles.backgroundPosition,t),i.width-s,i.height-a);return[Qo(Vo(e.styles.backgroundRepeat,t),n,o,i,r),Math.round(i.left+n[0]),Math.round(i.top+n[1]),s,a]}function No(e){return Ve(e)&&e.value===tn.AUTO}function Lo(e){return"number"==typeof e}var xo=function(e,t){for(var n=e instanceof er?e.start:1,i=e instanceof er&&e.reversed,r=0;r<t.length;r++){var o=t[r];o.container instanceof Ji&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Jr(n,o.container.styles.listStyleType,!0),n+=i?-1:1}},Ro=function(e,t,n,i){var r=[];return So(e)?r.push(e.subdivide(.5,!1)):r.push(e),So(n)?r.push(n.subdivide(.5,!0)):r.push(n),So(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),So(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},Oo=function(e,t,n){var i=t[0],r=t[1],o=t[2],s=e[0],a=e[1];if(Ke(s)&&a&&Ke(a))return[ot(s,n.width),ot(a,n.height)];var c=Lo(o);if(Ve(s)&&(s.value===tn.CONTAIN||s.value===tn.COVER))return Lo(o)?n.width/n.height<o!=(s.value===tn.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var l=Lo(i);t=Lo(r),e=l||t;if(No(s)&&(!a||No(a)))return l&&t?[i,r]:c||e?e&&c?[l?i:r*o,t?r:i/o]:[l?i:n.width,t?r:n.height]:[n.width,n.height];if(c){var u=0,d=0;return Ke(s)?u=ot(s,n.width):Ke(a)&&(d=ot(a,n.height)),No(s)?u=d*o:a&&!No(a)||(d=u/o),[u,d]}if(u=null,d=null,Ke(s)?u=ot(s,n.width):a&&Ke(a)&&(d=ot(a,n.height)),null===u||a&&!No(a)||(d=l&&t?u/i*r:n.height),null!==d&&No(s)&&(u=l&&t?d/r*i:n.width),null!==u&&null!==d)return[u,d];throw new Error("Unable to calculate background-size for element")},Vo=function(e,t){return void 0===(t=e[t])?e[0]:t},Qo=function(e,t,n,i,r){var o=t[0],s=t[1],a=n[0],c=n[1];switch(e){case Wt.REPEAT_X:return[new ho(Math.round(i.left),Math.round(i.top+s)),new ho(Math.round(i.left+i.width),Math.round(i.top+s)),new ho(Math.round(i.left+i.width),Math.round(c+i.top+s)),new ho(Math.round(i.left),Math.round(c+i.top+s))];case Wt.REPEAT_Y:return[new ho(Math.round(i.left+o),Math.round(i.top)),new ho(Math.round(i.left+o+a),Math.round(i.top)),new ho(Math.round(i.left+o+a),Math.round(i.height+i.top)),new ho(Math.round(i.left+o),Math.round(i.height+i.top))];case Wt.NO_REPEAT:return[new ho(Math.round(i.left+o),Math.round(i.top+s)),new ho(Math.round(i.left+o+a),Math.round(i.top+s)),new ho(Math.round(i.left+o+a),Math.round(i.top+s+c)),new ho(Math.round(i.left+o),Math.round(i.top+s+c))];default:return[new ho(Math.round(r.left),Math.round(r.top)),new ho(Math.round(r.left+r.width),Math.round(r.top)),new ho(Math.round(r.left+r.width),Math.round(r.height+r.top)),new ho(Math.round(r.left),Math.round(r.height+r.top))]}},Ho="Hidden Text",$o=(jo.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;return n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",o.appendChild(n),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(Ho)),n.appendChild(r),n.appendChild(i),t=i.offsetTop-r.offsetTop+2,n.removeChild(r),n.appendChild(this._document.createTextNode(Ho)),n.style.lineHeight="normal",i.style.verticalAlign="super",i=i.offsetTop-n.offsetTop+2,o.removeChild(n),{baseline:t,middle:i}},jo.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},jo);function jo(e){this._data={},this._document=e}var Yo=(Go.prototype.applyEffects=function(e,t){for(var n=this;this._activeEffects.length;)this.popEffect();e.filter((function(e){return bi(e.target,t)})).forEach((function(e){return n.applyEffect(e)}))},Go.prototype.applyEffect=function(e){this.ctx.save(),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),1===e.type&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},Go.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Go.prototype.renderStack=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return(t=e.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},Go.prototype.renderNode=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},Go.prototype.renderTextWithLetterSpacing=function(e,t){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height):c(e.text).map((function(e){return l(e)})).reduce((function(t,i){return n.ctx.fillText(i,t,e.bounds.top+e.bounds.height),t+n.ctx.measureText(i).width}),e.bounds.left)},Go.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),i=Re(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,i,n].join(" "),n,i]},Go.prototype.renderTextNode=function(e,t){return i(this,void 0,void 0,(function(){var n,i,o,s,a=this;return r(this,(function(r){return n=this.createFontStyle(t),i=n[0],o=n[1],s=n[2],this.ctx.font=i,e.textBounds.forEach((function(e){a.ctx.fillStyle=Ze(t.color),a.renderTextWithLetterSpacing(e,t.letterSpacing);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(t){a.ctx.shadowColor=Ze(t.color),a.ctx.shadowOffsetX=t.offsetX.number*a.options.scale,a.ctx.shadowOffsetY=t.offsetY.number*a.options.scale,a.ctx.shadowBlur=t.blur.number,a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})),a.ctx.shadowColor="",a.ctx.shadowOffsetX=0,a.ctx.shadowOffsetY=0,a.ctx.shadowBlur=0),t.textDecorationLine.length&&(a.ctx.fillStyle=Ze(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:var n=a.fontMetrics.getMetrics(o,s).baseline;a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+n),e.bounds.width,1);break;case 2:a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:n=a.fontMetrics.getMetrics(o,s).middle,a.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+n),e.bounds.width,1)}})))})),[2]}))}))},Go.prototype.renderReplacedElement=function(e,t,n){var i;n&&0<e.intrinsicWidth&&0<e.intrinsicHeight&&(i=Mo(e),t=wo(t),this.path(t),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore())},Go.prototype.renderNodeContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,s,a,c,l,u,d,p;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.effects,4),t=e.container,n=e.curves,i=t.styles,s=0,a=t.textNodes,r.label=1;case 1:return s<a.length?(a=a[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:r.sent(),r.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Hi))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.options.cache.match(t.src)];case 6:return u=r.sent(),this.renderReplacedElement(t,n,u),[3,8];case 7:return r.sent(),_t.getInstance(this.options.id).error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Yi&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof zi))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.options.cache.match(t.svg)];case 10:return u=r.sent(),this.renderReplacedElement(t,n,u),[3,12];case 11:return r.sent(),_t.getInstance(this.options.id).error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof gr&&t.tree?[4,new Go({id:this.options.id,scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:t.width,height:t.height,cache:this.options.cache,windowWidth:t.width,windowHeight:t.height}).render(t.tree)]:[3,14];case 13:c=r.sent(),this.ctx.drawImage(c,0,0,t.width,t.width,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof ar&&(c=Math.min(t.bounds.width,t.bounds.height),t.type===or?t.checked&&(this.ctx.save(),this.path([new ho(t.bounds.left+.39363*c,t.bounds.top+.79*c),new ho(t.bounds.left+.16*c,t.bounds.top+.5549*c),new ho(t.bounds.left+.27347*c,t.bounds.top+.44071*c),new ho(t.bounds.left+.39694*c,t.bounds.top+.5649*c),new ho(t.bounds.left+.72983*c,t.bounds.top+.23*c),new ho(t.bounds.left+.84*c,t.bounds.top+.34085*c),new ho(t.bounds.left+.39363*c,t.bounds.top+.79*c)]),this.ctx.fillStyle=Ze(707406591),this.ctx.fill(),this.ctx.restore()):t.type===sr&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+c/2,t.bounds.top+c/2,c/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ze(707406591),this.ctx.fill(),this.ctx.restore())),Ko(t)&&t.value.length){switch(this.ctx.font=this.createFontStyle(i)[0],this.ctx.fillStyle=Ze(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Wo(t.styles.textAlign),p=Mo(t),l=0,t.styles.textAlign){case jn.CENTER:l+=p.width/2;break;case jn.RIGHT:l+=p.width}d=p.add(l,0,0,-p.height/2+1),this.ctx.save(),this.path([new ho(p.left,p.top),new ho(p.left+p.width,p.top),new ho(p.left+p.width,p.top+p.height),new ho(p.left,p.top+p.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Li(t.value,d),i.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!bi(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if((d=t.styles.listStyleImage).type!==Mt.URL)return[3,18];u=void 0,d=d.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.options.cache.match(d)];case 16:return u=r.sent(),this.ctx.drawImage(u,t.bounds.left-(u.width+10),t.bounds.top),[3,18];case 17:return r.sent(),_t.getInstance(this.options.id).error("Error loading list-style-image "+d),[3,18];case 18:return[3,20];case 19:e.listValue&&t.styles.listStyleType!==Nn.NONE&&(this.ctx.font=this.createFontStyle(i)[0],this.ctx.fillStyle=Ze(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",p=new o(t.bounds.left,t.bounds.top+ot(t.styles.paddingTop,t.bounds.width),t.bounds.width,(m=i.lineHeight,A=i.fontSize.number,(Ve(m)&&"normal"===m.value?1.2*A:m.type===E.NUMBER_TOKEN?A*m.number:Ke(m)?ot(m,A):A)/2+1)),this.renderTextWithLetterSpacing(new Li(e.listValue,p),i.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}var m,A}))}))},Go.prototype.renderStackContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s,a,c,l,u,d,p,m,A,h,f;return r(this,(function(r){switch(r.label){case 0:return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(f=n[t],[4,this.renderStack(f)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),i=0,o=e.nonInlineLevel,r.label=7;case 7:return i<o.length?(f=o[i],[4,this.renderNode(f)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:s=0,a=e.nonPositionedFloats,r.label=11;case 11:return s<a.length?(f=a[s],[4,this.renderStack(f)]):[3,14];case 12:r.sent(),r.label=13;case 13:return s++,[3,11];case 14:c=0,l=e.nonPositionedInlineLevel,r.label=15;case 15:return c<l.length?(f=l[c],[4,this.renderStack(f)]):[3,18];case 16:r.sent(),r.label=17;case 17:return c++,[3,15];case 18:u=0,d=e.inlineLevel,r.label=19;case 19:return u<d.length?(f=d[u],[4,this.renderNode(f)]):[3,22];case 20:r.sent(),r.label=21;case 21:return u++,[3,19];case 22:p=0,m=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return p<m.length?(f=m[p],[4,this.renderStack(f)]):[3,26];case 24:r.sent(),r.label=25;case 25:return p++,[3,23];case 26:A=0,h=e.positiveZIndex,r.label=27;case 27:return A<h.length?(f=h[A],[4,this.renderStack(f)]):[3,30];case 28:r.sent(),r.label=29;case 29:return A++,[3,27];case 30:return[2]}}))}))},Go.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},Go.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},Go.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var i=So(e)?e.start:e;0===n?t.ctx.moveTo(i.x,i.y):t.ctx.lineTo(i.x,i.y),So(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},Go.prototype.renderRepeat=function(e,t,n,i){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},Go.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var i=this.canvas.ownerDocument.createElement("canvas");return i.width=t,i.height=n,i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},Go.prototype.renderBackgroundImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s;return r(this,(function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,s,a,c,l,u,d,p,m,A,h,f,g,v,y;return r(this,(function(r){switch(r.label){case 0:if(n.type!==Mt.URL)return[3,5];c=void 0,s=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.options.cache.match(s)];case 2:return c=r.sent(),[3,4];case 3:return r.sent(),_t.getInstance(i.options.id).error("Error loading background-image "+s),[3,4];case 4:return c&&(a=Uo(e,t,[c.width,c.height,c.width/c.height]),g=a[0],A=a[1],f=a[2],p=a[3],m=a[4],y=i.ctx.createPattern(i.resizeImage(c,p,m),"repeat"),i.renderRepeat(g,y,A,f)),[3,6];case 5:n.type===Mt.LINEAR_GRADIENT?(d=Uo(e,t,[null,null,null]),g=d[0],A=d[1],f=d[2],p=d[3],m=d[4],u=function(e,t,n){var i,r="number"==typeof e?e:(a=(i=t)/2,r=(s=n)/2,a=ot((o=e)[0],i)-a,s=r-ot(o[1],s),(Math.atan2(s,a)+2*Math.PI)%(2*Math.PI)),o=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),s=t/2,a=n/2;return t=o/2,n=Math.sin(r-Math.PI/2)*t,[o,s-(t=Math.cos(r-Math.PI/2)*t),s+t,a-n,a+n]}(n.angle,p,m),v=u[0],o=u[1],s=u[2],a=u[3],c=u[4],(d=document.createElement("canvas")).width=p,d.height=m,u=d.getContext("2d"),l=u.createLinearGradient(o,a,s,c),gt(n.stops,v).forEach((function(e){return l.addColorStop(e.stop,Ze(e.color))})),u.fillStyle=l,u.fillRect(0,0,p,m),y=i.ctx.createPattern(d,"repeat"),i.renderRepeat(g,y,A,f)):n.type===Mt.RADIAL_GRADIENT&&(v=Uo(e,t,[null,null,null]),g=v[0],u=v[1],d=v[2],p=v[3],m=v[4],y=0===n.position.length?[it]:n.position,A=ot(y[0],p),f=ot(y[y.length-1],m),v=function(e,t,n,i,r){var o,s,a=0,c=0;switch(e.size){case Nt.CLOSEST_SIDE:e.shape===Ut.CIRCLE?a=c=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===Ut.ELLIPSE&&(a=Math.min(Math.abs(t),Math.abs(t-i)),c=Math.min(Math.abs(n),Math.abs(n-r)));break;case Nt.CLOSEST_CORNER:e.shape===Ut.CIRCLE?a=c=Math.min(vt(t,n),vt(t,n-r),vt(t-i,n),vt(t-i,n-r)):e.shape===Ut.ELLIPSE&&(c=(o=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)))*(a=vt((s=yt(i,r,t,n,!0))[0]-t,(s[1]-n)/o)));break;case Nt.FARTHEST_SIDE:e.shape===Ut.CIRCLE?a=c=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===Ut.ELLIPSE&&(a=Math.max(Math.abs(t),Math.abs(t-i)),c=Math.max(Math.abs(n),Math.abs(n-r)));break;case Nt.FARTHEST_CORNER:e.shape===Ut.CIRCLE?a=c=Math.max(vt(t,n),vt(t,n-r),vt(t-i,n),vt(t-i,n-r)):e.shape===Ut.ELLIPSE&&(c=(o=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i)))*(a=vt((s=yt(i,r,t,n,!1))[0]-t,(s[1]-n)/o)))}return Array.isArray(e.size)&&(a=ot(e.size[0],i),c=2===e.size.length?ot(e.size[1],r):a),[a,c]}(n,A,f,p,m),y=v[0],v=v[1],0<y&&0<y&&(h=i.ctx.createRadialGradient(u+A,d+f,0,u+A,d+f,y),gt(n.stops,2*y).forEach((function(e){return h.addColorStop(e.stop,Ze(e.color))})),i.path(g),i.ctx.fillStyle=h,y!==v?(f=e.bounds.left+.5*e.bounds.width,g=e.bounds.top+.5*e.bounds.height,y=1/(v/=y),i.ctx.save(),i.ctx.translate(f,g),i.ctx.transform(1,0,0,v,0,0),i.ctx.translate(-f,-g),i.ctx.fillRect(u,y*(d-g)+g,p,m*y),i.ctx.restore()):i.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},i=this,o=0,s=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return o<s.length?(s=s[o],[5,n(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},Go.prototype.renderBorder=function(e,t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(function(e,t){switch(t){case 0:return Ro(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ro(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ro(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ro(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}(n,t)),this.ctx.fillStyle=Ze(e),this.ctx.fill(),[2]}))}))},Go.prototype.renderNodeBackgroundAndBorders=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s,a,c,l=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.effects,2),t=e.container.styles,n=!Xe(t.backgroundColor)||t.backgroundImage.length,i=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],o=zo(Vo(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Xe(t.backgroundColor)||(this.ctx.fillStyle=Ze(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){l.ctx.save();var n,i,r,o,s=Eo(e.curves),a=t.inset?0:1e4,c=(c=s,n=-a+(t.inset?1:-1)*t.spread.number,i=(t.inset?1:-1)*t.spread.number,r=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),c.map((function(e,t){switch(t){case 0:return e.add(n,i);case 1:return e.add(n+r,i);case 2:return e.add(n+r,i+o);case 3:return e.add(n,i+o)}return e})));t.inset?(l.path(s),l.ctx.clip(),l.mask(c)):(l.mask(s),l.ctx.clip(),l.path(c)),l.ctx.shadowOffsetX=t.offsetX.number+a,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=Ze(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?Ze(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),r.label=2;case 2:a=s=0,c=i,r.label=3;case 3:return a<c.length?(c=c[a]).style===on.NONE||Xe(c.color)?[3,5]:[4,this.renderBorder(c.color,s++,e.curves)]:[3,6];case 4:r.sent(),r.label=5;case 5:return a++,[3,3];case 6:return[2]}}))}))},Go.prototype.render=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ze(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),ko(i=new Io(e,[]),r=new Bo(i),r,n=[]),xo(i.container,n),[4,this.renderStack(r)];case 1:return t.sent(),this.applyEffects([],2),[2,this.canvas]}var n,i,r}))}))},Go);function Go(e){this._activeEffects=[],this.canvas=e.canvas||document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.fontMetrics=new $o(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],_t.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}var Ko=function(e){return e instanceof mr||e instanceof ur||e instanceof ar&&e.type!==sr&&e.type!==or},zo=function(e,t){switch(e){case pt.BORDER_BOX:return Eo(t);case pt.CONTENT_BOX:return[(n=t).topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox];case pt.PADDING_BOX:default:return wo(t)}var n},Wo=function(e){switch(e){case jn.CENTER:return"center";case jn.RIGHT:return"right";case jn.LEFT:default:return"left"}},qo=(Jo.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return t=wt(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,e),[4,Zo(t)];case 1:return t=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ze(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(t,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},Jo);function Jo(e){this.canvas=e.canvas||document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),_t.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}function Xo(e){return ct(Le.create(e).parseComponentValue())}var Zo=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))};It.setContext(window);var es=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)};return function(e,t){return void 0===t&&(t={}),function(e,t){return i(void 0,void 0,void 0,(function(){var i,s,c,l,u,d,p,m,A,h,f,g;return r(this,(function(r){switch(r.label){case 0:if(!(i=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=i.defaultView))throw new Error("Document is not attached to a Window");return c=(Math.round(1e3*Math.random())+Date.now()).toString(16),g=Mr(e)||"HTML"===e.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");return e=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),n=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight)),new o(0,0,e,n)}(i):a(e),u=g.width,m=g.height,l=g.left,d=g.top,g=n({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},t),d={backgroundColor:"#ffffff",cache:t.cache||It.create(c,g),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:s.devicePixelRatio||1,windowWidth:s.innerWidth,windowHeight:s.innerHeight,scrollX:s.pageXOffset,scrollY:s.pageYOffset,x:l,y:d,width:Math.ceil(u),height:Math.ceil(m),id:c},u=n({},d,g,t),m=new o(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),_t.create(c),_t.getInstance(c).debug("Starting document clone"),d=new Zr(e,{id:c,onclone:u.onclone,ignoreElements:u.ignoreElements,inlineImages:u.foreignObjectRendering,copyStyles:u.foreignObjectRendering}),(g=d.clonedReferenceElement)?[4,d.toIFrame(i,m)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=r.sent(),A=i.documentElement?Xo(getComputedStyle(i.documentElement).backgroundColor):ht.TRANSPARENT,m=i.body?Xo(getComputedStyle(i.body).backgroundColor):ht.TRANSPARENT,h="string"==typeof(h=t.backgroundColor)?Xo(h):4294967295,A=e===i.documentElement?Xe(A)?Xe(m)?h:m:A:h,h={id:c,cache:u.cache,backgroundColor:A,scale:u.scale,x:u.x,y:u.y,scrollX:u.scrollX,scrollY:u.scrollY,width:u.width,height:u.height,windowWidth:u.windowWidth,windowHeight:u.windowHeight},u.foreignObjectRendering?(_t.getInstance(c).debug("Document cloned, using foreign object rendering"),[4,new qo(h).render(g)]):[3,3];case 2:return f=r.sent(),[3,5];case 3:return _t.getInstance(c).debug("Document cloned, using computed rendering"),It.attachInstance(u.cache),_t.getInstance(c).debug("Starting DOM parsing"),g=Er(g),It.detachInstance(),A===g.styles.backgroundColor&&(g.styles.backgroundColor=ht.TRANSPARENT),_t.getInstance(c).debug("Starting renderer"),[4,new Yo(h).render(g)];case 4:f=r.sent(),r.label=5;case 5:return!0===u.removeContainer&&(es(p)||_t.getInstance(c).error("Cannot detach cloned iframe as it is not in the DOM anymore")),_t.getInstance(c).debug("Finished rendering"),_t.destroy(c),It.destroy(c),[2,f]}}))}))}(e,t)}},"object"===r(t)&&void 0!==e?e.exports=i():void 0===(i="function"==typeof(i=i)?i.call(t,n,t,e):i)||(e.exports=i)},"./node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){var n;t&&(e.super_=t,(n=function(){}).prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e)}},"./node_modules/lscache/lscache.js":function(e,t,n){var i,r;i=[],void 0===(r="function"==typeof(r=function(){var e,t,n="lscache-",i="-cacheexpiration",r=6e4,o=S(r),s="",a=!1;function c(){var t="__lscachetest__";if(void 0!==e)return e;try{if(!localStorage)return!1}catch(t){return!1}try{A(t,"__lscachetest__"),h(t),e=!0}catch(t){e=!(!l(t)||!localStorage.length)}return e}function l(e){return e&&("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function u(){return void 0===t&&(t=null!=window.JSON),t}function d(e){return e+i}function p(){return Math.floor((new Date).getTime()/r)}function m(e){return localStorage.getItem(n+s+e)}function A(e,t){localStorage.removeItem(n+s+e),localStorage.setItem(n+s+e,t)}function h(e){localStorage.removeItem(n+s+e)}function f(e){for(var t=new RegExp("^"+n+function(e){return e.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")}(s)+"(.*)"),r=localStorage.length-1;r>=0;--r){var o=localStorage.key(r);(o=(o=o&&o.match(t))&&o[1])&&o.indexOf(i)<0&&e(o,d(o))}}function g(e){var t=d(e);h(e),h(t)}function v(e){var t=d(e),n=m(t);if(n){var i=parseInt(n,10);if(p()>=i)return h(e),h(t),!0}}function y(e,t){a&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}function S(e){return Math.floor(864e13/e)}return{set:function e(t,n,i){if(!c())return!1;if(!u())return!1;try{n=JSON.stringify(n)}catch(e){return!1}try{A(t,n)}catch(e){if(!l(e))return y("Could not add item with key '"+t+"'",e),!1;var r,s=[];f((function(e,t){var n=m(t);n=n?parseInt(n,10):o,s.push({key:e,size:(m(e)||"").length,expiration:n})})),s.sort((function(e,t){return t.expiration-e.expiration}));for(var a=(n||"").length;s.length&&a>0;)r=s.pop(),y("Cache is full, removing item with key '"+t+"'"),g(r.key),a-=r.size;try{A(t,n)}catch(e){return y("Could not add item with key '"+t+"', perhaps it's too big?",e),!1}}return i?A(d(t),(p()+i).toString(10)):h(d(t)),!0},get:function(e){if(!c())return null;if(v(e))return null;var t=m(e);if(!t||!u())return t;try{return JSON.parse(t)}catch(e){return t}},remove:function(e){c()&&g(e)},supported:function(){return c()},flush:function(){c()&&f((function(e){g(e)}))},flushExpired:function(){c()&&f((function(e){v(e)}))},setBucket:function(e){s=e},resetBucket:function(){s=""},getExpiryMilliseconds:function(){return r},setExpiryMilliseconds:function(e){o=S(r=e)},enableWarnings:function(e){a=e}}})?r.apply(t,i):r)||(e.exports=r)},"./node_modules/minimalistic-assert/index.js":function(e,t){(e.exports=function(e,t){if(!e)throw new Error(t||"Assertion failed")}).equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},"./node_modules/object-assign/index.js":function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))r.call(n,l)&&(a[l]=n[l]);if(i){s=i(n);for(var u=0;u<s.length;u++)o.call(n,s[u])&&(a[s[u]]=n[s[u]])}}return a}},"./node_modules/prop-types/checkPropTypes.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),o={},s=Function.call.bind(Object.prototype.hasOwnProperty),a=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};function c(e,t,n,c,l){for(var u in e)if(s(e,u)){var d,p;try{if("function"!=typeof e[u]){var m=Error((c||"React class")+": "+n+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i(e[u])+"`.");throw m.name="Invariant Violation",m}d=e[u](t,u,c,n,null,r)}catch(e){d=e}!d||d instanceof Error||a((c||"React class")+": type specification of "+n+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+i(d)+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),d instanceof Error&&!(d.message in o)&&(o[d.message]=!0,p=l?l():"",a("Failed "+n+" type: "+d.message+(null!=p?p:"")))}}c.resetWarningCache=function(){o={}},e.exports=c},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/query-string/index.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n("./node_modules/strict-uri-encode/index.js"),o=n("./node_modules/object-assign/index.js"),s=n("./node_modules/decode-uri-component/index.js");function a(e,t){return t.encode?(t.strict?r:encodeURIComponent)(e):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return function(e,n,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){e=(t=e.replace(/\+/g," ").split("=")).shift();var t=void 0===(t=0<t.length?t.join("="):void 0)?null:s(t);n(s(e),t,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===i(n)&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===i(t)?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):r}t.extract=c,t.parse=l,t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,i){return(null===n?[a(t,e),"[",i,"]"]:[a(t,e),"[",a(i,e),"]=",a(n,e)]).join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(i){var r=e[i];if(void 0===r)return"";if(null===r)return a(i,t);if(Array.isArray(r)){var o=[];return r.slice().forEach((function(e){void 0!==e&&o.push(n(i,e,o.length))})),o.join("&")}return a(i,t)+"="+a(r,t)})).filter((function(e){return 0<e.length})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}}},"./node_modules/querystringify/index.js":function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){var n,r,s=[];for(r in"string"!=typeof(t=t||"")&&(t="?"),e)i.call(e,r)&&((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=o(r),n=o(n),null!==r&&null!==n&&s.push(r+"="+n));return s.length?t+s.join("&"):""},t.parse=function(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={};o=t.exec(e);){var i=r(o[1]),o=r(o[2]);null===i||null===o||i in n||(n[i]=o)}return n}},"./node_modules/react/cjs/react.development.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var t=n("./node_modules/object-assign/index.js"),r=n("./node_modules/prop-types/checkPropTypes.js"),o="function"==typeof Symbol&&Symbol.for,s=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,m=o?Symbol.for("react.concurrent_mode"):60111,A=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,f=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116,y=o?Symbol.for("react.fundamental"):60117,S=o?Symbol.for("react.responder"):60118,b="function"==typeof Symbol&&Symbol.iterator;function C(e){return null===e||"object"!==i(e)?null:"function"==typeof(e=b&&e[b]||e["@@iterator"])?e:null}function E(e){return e.name="Invariant Violation",e}var w=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];(function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,o="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.warn(o);try{throw new Error(o)}catch(e){}}).apply(void 0,[t].concat(i))}},T=function(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(void 0===t)throw new Error("`warningWithoutStack(condition, format, ...args)` requires a warning message argument");if(8<i.length)throw new Error("warningWithoutStack() currently supports at most 8 arguments.");if(!e){"undefined"!=typeof console&&((e=i.map((function(e){return""+e}))).unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,e));try{var o=0,s="Warning: "+t.replace(/%s/g,(function(){return i[o++]}));throw new Error(s)}catch(e){}}},P={};function _(e,t){var n;e=(n=e.constructor)&&(n.displayName||n.name)||"ReactClass";P[n=e+"."+t]||(T(!1,"Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,e),P[n]=!0)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(e){_(e,"forceUpdate")},enqueueReplaceState:function(e){_(e,"replaceState")},enqueueSetState:function(e){_(e,"setState")}},I={};function D(e,t,n){this.props=e,this.context=t,this.refs=I,this.updater=n||B}Object.freeze(I),D.prototype.isReactComponent={},D.prototype.setState=function(e,t){!function(){if("object"!==i(e)&&"function"!=typeof e&&null!=e)throw E(Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables."))}(),this.updater.enqueueSetState(this,e,t,"setState")},D.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var k,F={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(k in F)F.hasOwnProperty(k)&&function(e,t){Object.defineProperty(D.prototype,e,{get:function(){w(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})}(k,F[k]);function M(){}function U(e,t,n){this.props=e,this.context=t,this.refs=I,this.updater=n||B}M.prototype=D.prototype;var N=U.prototype=new M;N.constructor=U,t(N,D.prototype),N.isPureReactComponent=!0;var L={current:null},x={suspense:null},R={current:null},O=/^(.*)[\\\/]/;function V(e){if(null==e)return null;if("number"==typeof e.tag&&T(!1,"Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case a:return"Portal";case u:return"Profiler";case l:return"StrictMode";case h:return"Suspense";case f:return"SuspenseList"}if("object"===i(e))switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case A:return r="ForwardRef",n=(n=(t=e).render).displayName||n.name||"",t.displayName||(""!==n?r+"("+n+")":r);case g:return V(e.type);case v:if(r=1===(r=e)._status?r._result:null)return V(r)}var t,n,r;return null}var Q={},H=null;function $(e){H=e}Q.getCurrentStack=null,Q.getStackAddendum=function(){var e,t,n,i,r,o="";H&&(i=V(H.type),r=H._owner,o+=(e=i,t=H._source,n=r&&V(r.type),s="",t?(r=(i=t.fileName).replace(O,""),/^index\./.test(r)&&(!(i=i.match(O))||(i=i[1])&&(r=i.replace(O,"")+"/"+r)),s=" (at "+r+":"+t.lineNumber+")"):n&&(s=" (created by "+n+")"),"\n    in "+(e||"Unknown")+s));var s=Q.getCurrentStack;return s&&(o+=s()||""),o};var j={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:x,ReactCurrentOwner:R,IsSomeRendererActing:{current:!1},assign:t};t(j,{ReactDebugCurrentFrame:Q,ReactComponentTreeHook:{}});var Y=function(e,t){if(!e){e=j.ReactDebugCurrentFrame.getStackAddendum();for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];T.apply(void 0,[!1,t+"%s"].concat(i,[e]))}},G=Object.prototype.hasOwnProperty,K={key:!0,ref:!0,__self:!0,__source:!0},z=void 0,W=void 0;function q(e){if(G.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return}return void 0!==e.ref}function J(e){if(G.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return}return void 0!==e.key}function X(e,t){function n(){z||T(!(z=!0),"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t)}n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function Z(e,t){function n(){W||T(!(W=!0),"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t)}n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}var ee=function(e,t,n,i,r,o,a){return o={$$typeof:s,type:e,key:t,ref:n,props:a,_owner:o,_store:{}},Object.defineProperty(o._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(o,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(o,"_source",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.freeze&&(Object.freeze(o.props),Object.freeze(o)),o};function te(e){return"object"===i(e)&&null!==e&&e.$$typeof===s}var ne=!1,ie=/\/+/g;function re(e){return(""+e).replace(ie,"$&/")}var oe=[];function se(e,t,n,i){if(oe.length){var r=oe.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function ae(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,oe.length<10&&oe.push(e)}function ce(e,t,n){return null==e?0:function e(t,n,r,o){var c=i(t);"undefined"!==c&&"boolean"!==c||(t=null);var l=!1;if(null===t)l=!0;else switch(c){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case a:l=!0}}if(l)return r(o,t,""===n?"."+le(t,0):n),1;var u,d,p=void 0,m=0,A=""===n?".":n+":";if(Array.isArray(t))for(var h=0;h<t.length;h++)m+=e(p=t[h],A+le(p,h),r,o);else if("function"==typeof(n=C(t))){n===t.entries&&(ne||Y(!1,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead."),ne=!0);for(var f,g=n.call(t),v=0;!(f=g.next()).done;)m+=e(p=f.value,A+le(p,v++),r,o)}else"object"===c&&("",u=" If you meant to render a collection of children, use an array instead."+Q.getStackAddendum(),d=""+t,function(){throw E(Error("Objects are not valid as a React child (found: "+("[object Object]"==d?"object with keys {"+Object.keys(t).join(", ")+"}":d)+")."+u))}());return m}(e,"",t,n)}function le(e,t){return"object"===i(e)&&null!==e&&null!=e.key?(e=e.key,n={"=":"=0",":":"=2"},"$"+(""+e).replace(/[=:]/g,(function(e){return n[e]}))):t.toString(36);var n}function ue(e,t,n){var i=e.func,r=e.context;i.call(r,t,e.count++)}function de(e,t,n){var i=e.result,r=e.keyPrefix,o=e.func,s=e.context;e=o.call(s,t,e.count++);Array.isArray(e)?pe(e,i,n,(function(e){return e})):null!=e&&(te(e)&&(n=r+(!(r=e).key||t&&t.key===e.key?"":re(e.key)+"/")+n,e=ee(r.type,n,r.ref,r._self,r._source,r._owner,r.props)),i.push(e))}function pe(e,t,n,i,r){var o="";null!=n&&(o=re(n)+"/"),ce(e,de,r=se(t,o,i,r)),ae(r)}function me(e){return"string"==typeof e||"function"==typeof e||e===c||e===m||e===u||e===l||e===h||e===f||"object"===i(e)&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===d||e.$$typeof===p||e.$$typeof===A||e.$$typeof===y||e.$$typeof===S)}function Ae(){var e=L.current;return function(){if(null===e)throw E(Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem."))}(),e}var he=void 0;function fe(){if(R.current){var e=V(R.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function ge(e){return void 0===e?"":"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+"."}var ve={};function ye(e,t){var n;e._store&&!e._store.validated&&null==e.key&&(e._store.validated=!0,n=t,(t=fe())||(n="string"==typeof n?n:n.displayName||n.name)&&(t="\n\nCheck the top-level render call using <"+n+">."),ve[n=t]||(ve[n]=!0,t="",e&&e._owner&&e._owner!==R.current&&(t=" It was passed a child from "+V(e._owner.type)+"."),$(e),Y(!1,'Each child in a list should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.',n,t),$(null)))}function Se(e,t){if("object"===i(e))if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];te(r)&&ye(r,t)}else if(te(e))e._store&&(e._store.validated=!0);else if(e){var o=C(e);if("function"==typeof o&&o!==e.entries)for(var s,a=o.call(e);!(s=a.next()).done;)te(s.value)&&ye(s.value,t)}}function be(e){var t=e.type;if(null!=t&&"string"!=typeof t){var n=V(t),o=void 0;if("function"==typeof t)o=t.propTypes;else{if("object"!==i(t)||t.$$typeof!==A&&t.$$typeof!==g)return;o=t.propTypes}o?($(e),r(o,e.props,"prop",n,Q.getStackAddendum),$(null)):void 0===t.PropTypes||he||T(!(he=!0),"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",n||"Unknown"),"function"==typeof t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved||T(!1,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."))}}function Ce(e){$(e);for(var t=Object.keys(e.props),n=0;n<t.length;n++){var i=t[n];if("children"!==i&&"key"!==i){Y(!1,"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",i);break}}null!==e.ref&&Y(!1,"Invalid attribute `ref` supplied to `React.Fragment`."),$(null)}function Ee(e,t,n){var r=me(e);r||(o="",(void 0===e||"object"===i(e)&&null!==e&&0===Object.keys(e).length)&&(o+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),o+=(null!=(t=t)?ge(t.__source):"")||fe(),t=void 0,null===e?t="null":Array.isArray(e)?t="array":void 0!==e&&e.$$typeof===s?(t="<"+(V(e.type)||"Unknown")+" />",o=" Did you accidentally export a JSX literal instead of a component?"):t=i(e),Y(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",t,o));var o=function(e,t,n){var i=void 0,r={},o=null,s=null,a=null,c=null;if(null!=t)for(i in q(t)&&(s=t.ref),J(t)&&(o=""+t.key),a=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)G.call(t,i)&&!K.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1==l)r.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];Object.freeze&&Object.freeze(u),r.children=u}if(e&&e.defaultProps){var p=e.defaultProps;for(i in p)void 0===r[i]&&(r[i]=p[i])}return(o||s)&&(n="function"==typeof e?e.displayName||e.name||"Unknown":e,o&&X(r,n),s&&Z(r,n)),ee(e,o,s,a,c,R.current,r)}.apply(this,arguments);if(null==o)return o;if(r)for(var a=2;a<arguments.length;a++)Se(arguments[a],e);return(e===c?Ce:be)(o),o}he=!1;try{var we=Object.freeze({}),Te=new Map([[we,null]]);we=new Set([we]);Te.set(0,0),we.add(0)}catch(o){}o={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return pe(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;ce(e,ue,n=se(null,null,t,n)),ae(n)},count:function(e){return ce(e,(function(){return null}),null)},toArray:function(e){var t=[];return pe(e,t,null,(function(e){return e})),t},only:function(e){return function(){if(!te(e))throw E(Error("React.Children.only expected to receive a single React element child."))}(),e}},createRef:function(){var e={current:null};return Object.seal(e),e},Component:D,PureComponent:U,createContext:function(e,t){void 0===t?t=null:null!==t&&"function"!=typeof t&&T(!1,"createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},i=!(n.Provider={$$typeof:d,_context:n}),r=!1;e={$$typeof:p,_context:n,_calculateChangedBits:n._calculateChangedBits};return Object.defineProperties(e,{Provider:{get:function(){return r||Y(!(r=!0),"Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?"),n.Provider},set:function(e){n.Provider=e}},_currentValue:{get:function(){return n._currentValue},set:function(e){n._currentValue=e}},_currentValue2:{get:function(){return n._currentValue2},set:function(e){n._currentValue2=e}},_threadCount:{get:function(){return n._threadCount},set:function(e){n._threadCount=e}},Consumer:{get:function(){return i||Y(!(i=!0),"Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"),n.Consumer}}}),n.Consumer=e,n._currentRenderer=null,n._currentRenderer2=null,n},forwardRef:function(e){return null!=e&&e.$$typeof===g?T(!1,"forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof e?T(!1,"forwardRef requires a render function but was given %s.",null===e?"null":i(e)):0!==e.length&&2!==e.length&&T(!1,"forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&(null==e.defaultProps&&null==e.propTypes||T(!1,"forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?")),{$$typeof:A,render:e}},lazy:function(e){var t={$$typeof:v,_ctor:e,_status:-1,_result:null},n=void 0,i=void 0;return Object.defineProperties(t,{defaultProps:{configurable:!0,get:function(){return n},set:function(e){Y(!1,"React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),n=e,Object.defineProperty(t,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return i},set:function(e){Y(!1,"React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),i=e,Object.defineProperty(t,"propTypes",{enumerable:!0})}}}),t},memo:function(e,t){return me(e)||T(!1,"memo: The first argument must be a component. Instead received: %s",null===e?"null":i(e)),{$$typeof:g,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return Ae().useCallback(e,t)},useContext:function(e,t){var n,i=Ae();return void 0!==t&&Y(!1,"useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",t,"number"==typeof t&&Array.isArray(arguments[2])?"\n\nDid you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://fb.me/rules-of-hooks":""),void 0!==e._context&&((n=e._context).Consumer===e?Y(!1,"Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):n.Provider===e&&Y(!1,"Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")),i.useContext(e,t)},useEffect:function(e,t){return Ae().useEffect(e,t)},useImperativeHandle:function(e,t,n){return Ae().useImperativeHandle(e,t,n)},useDebugValue:function(e,t){return Ae().useDebugValue(e,t)},useLayoutEffect:function(e,t){return Ae().useLayoutEffect(e,t)},useMemo:function(e,t){return Ae().useMemo(e,t)},useReducer:function(e,t,n){return Ae().useReducer(e,t,n)},useRef:function(e){return Ae().useRef(e)},useState:function(e){return Ae().useState(e)},Fragment:c,Profiler:u,StrictMode:l,Suspense:h,unstable_SuspenseList:f,createElement:Ee,cloneElement:function(e,n,i){for(var r=function(e,n,i){!function(){if(null==e)throw E(Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+"."))}();var r=void 0,o=t({},e.props),s=e.key,a=e.ref,c=e._self,l=e._source,u=e._owner;if(null!=n){q(n)&&(a=n.ref,u=R.current),J(n)&&(s=""+n.key);var d=void 0;for(r in e.type&&e.type.defaultProps&&(d=e.type.defaultProps),n)G.call(n,r)&&!K.hasOwnProperty(r)&&(void 0===n[r]&&void 0!==d?o[r]=d[r]:o[r]=n[r])}var p=arguments.length-2;if(1==p)o.children=i;else if(1<p){for(var m=Array(p),A=0;A<p;A++)m[A]=arguments[A+2];o.children=m}return ee(e.type,s,a,c,l,u,o)}.apply(this,arguments),o=2;o<arguments.length;o++)Se(arguments[o],r.type);return be(r),r},createFactory:function(e){var t=Ee.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return w(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},isValidElement:te,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=x.suspense;x.suspense=void 0===t?null:t;try{e()}finally{x.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:j},N=(N=(N=Object.freeze({default:o}))&&o||N).default||N,e.exports=N}()},"./node_modules/react/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react/cjs/react.development.js")},"./node_modules/requires-port/index.js":function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},"./node_modules/strict-uri-encode/index.js":function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},"./node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return c})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return d})),n.d(t,"__generator",(function(){return p})),n.d(t,"__createBinding",(function(){return m})),n.d(t,"__exportStar",(function(){return A})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return S})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return T})),n.d(t,"__classPrivateFieldGet",(function(){return P})),n.d(t,"__classPrivateFieldSet",(function(){return _}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function c(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(s<3?o(a):3<s?o(t,n,a):o(t,n))||a);return 3<s&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function p(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function m(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function A(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r=[],o={};return s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(e){i[e]&&(o[e]=function(t){return new Promise((function(n,i){1<r.push([e,t,n,i])||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(r[0][2],n)}catch(e){u(r[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function b(e){var t,n={};return i("next"),i("throw",(function(e){throw e})),i("return"),n[Symbol.iterator]=function(){return this},n;function i(i,r){n[i]=e[i]?function(n){return(t=!t)?{value:y(e[i](n)),done:"return"===i}:r?r(n):n}:r}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){var o,s;t=e[n](t),o=i,i=r,s=t.done,r=t.value,Promise.resolve(r).then((function(e){o({value:e,done:s})}),i)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"./node_modules/ua-parser-js/src/ua-parser.js":function(e,t,n){(function(e){var i;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o,s){"use strict";function a(e,t){if("object"===r(e)&&(t=e,e=s),!(this instanceof a))return new a(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),i=t?y.extend(C,t):C;return this.getBrowser=function(){var e={name:s,version:s};return S.rgx.call(e,n,i.browser),e.major=y.major(e.version),e},this.getCPU=function(){var e={architecture:s};return S.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:s,model:s,type:s};return S.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:s,version:s};return S.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:s,version:s};return S.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this}var c="model",l="name",u="type",d="vendor",p="version",m="architecture",A="console",h="mobile",f="tablet",g="smarttv",v="wearable",y={extend:function(e,t){var n,i={};for(n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===r(e)?e.replace(/[^\d\.]/g,"").split(".")[0]:s},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={rgx:function(e,t){for(var n,i,o,a,c,l=0;l<t.length&&!a;){for(var u=t[l],d=t[l+1],p=n=0;p<u.length&&!a;)if(a=u[p++].exec(e))for(i=0;i<d.length;i++)c=a[++n],"object"===r(o=d[i])&&0<o.length?2==o.length?"function"==r(o[1])?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:3==o.length?"function"!==r(o[1])||o[1].exec&&o[1].test?this[o[0]]=c?c.replace(o[1],o[2]):s:this[o[0]]=c?o[1].call(this,c,o[2]):s:4==o.length&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):s):this[o]=c||s;l+=2}},str:function(e,t){for(var n in t)if("object"===r(t[n])&&0<t[n].length){for(var i=0;i<t[n].length;i++)if(y.has(t[n][i],e))return"?"===n?s:n}else if(y.has(t[n],e))return"?"===n?s:n;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},C={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,p],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[l,p],[/(konqueror)\/([\w\.]+)/i],[[l,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[l,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[l,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[l,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[l,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[l,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[l,"Brave"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[l,p],[/(QQ)\/([\d\.]+)/i],[l,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[l,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[l,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[l,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[l,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[l,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,S.str,b.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,d,[u,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[d,"Apple"],[u,f]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[d,"Apple"],[u,g]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,c,[u,f]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[c,[d,"Amazon"],[u,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[c,S.str,b.device.amazon.model],[d,"Amazon"],[u,h]],[/android.+aft([bms])\sbuild/i],[c,[d,"Amazon"],[u,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,d,[u,h]],[/\((ip[honed|\s\w*]+);/i],[c,[d,"Apple"],[u,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,c,[u,h]],[/\(bb10;\s(\w+)/i],[c,[d,"BlackBerry"],[u,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[d,"Asus"],[u,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[c,"Xperia Tablet"],[u,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,"Sony"],[u,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,c,[u,A]],[/android.+;\s(shield)\sbuild/i],[c,[d,"Nvidia"],[u,A]],[/(playstation\s[34portablevi]+)/i],[c,[d,"Sony"],[u,A]],[/(sprint\s(\w+))/i],[[d,S.str,b.device.sprint.vendor],[c,S.str,b.device.sprint.model],[u,h]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[c,/_/g," "],[u,h]],[/(nexus\s9)/i],[c,[d,"HTC"],[u,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29|ele-l29)/i],[c,[d,"Huawei"],[u,h]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[d,"Huawei"],[u,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,c,[u,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[d,"Microsoft"],[u,A]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,"Microsoft"],[u,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[d,"Motorola"],[u,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[d,"Motorola"],[u,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,y.trim],[c,y.trim],[u,g]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,"Samsung"],[u,g]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[u,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],c,[u,f]],[/smart-tv.+(samsung)/i],[d,[u,g],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],c,[u,h]],[/sie-(\w*)/i],[c,[d,"Siemens"],[u,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],c,[u,h]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[d,"Acer"],[u,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[d,"LG"],[u,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],c,[u,f]],[/(lg) netcast\.tv/i],[d,c,[u,g]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[d,"LG"],[u,h]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[d,c,[u,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[d,"Lenovo"],[u,f]],[/(lenovo)[_\s-]?([\w-]+)/i],[d,c,[u,h]],[/linux;.+((jolla));/i],[d,c,[u,h]],[/((pebble))app\/[\d\.]+\s/i],[d,c,[u,v]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,c,[u,h]],[/crkey/i],[[c,"Chromecast"],[d,"Google"],[u,g]],[/android.+;\s(glass)\s\d/i],[c,[d,"Google"],[u,v]],[/android.+;\s(pixel c)[\s)]/i],[c,[d,"Google"],[u,f]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[c,[d,"Google"],[u,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]?[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[u,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]?[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[u,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[d,"Meizu"],[u,h]],[/(mz)-([\w-]{2,})/i],[[d,"Meizu"],c,[u,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[d,"OnePlus"],[u,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[d,"RCA"],[u,f]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[c,[d,"Dell"],[u,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[d,"Verizon"],[u,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],c,[u,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[d,"NuVision"],[u,f]],[/android.+;\s(k88)\sbuild/i],[c,[d,"ZTE"],[u,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[d,"Swiss"],[u,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[d,"Swiss"],[u,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[d,"Zeki"],[u,f]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],c,[u,f]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[d,"Insignia"],[u,f]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[d,"NextBook"],[u,f]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],c,[u,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],c,[u,h]],[/android.+;\s(PH-1)\s/i],[c,[d,"Essential"],[u,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[d,"Envizen"],[u,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,c,[u,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[c,[d,"MachSpeed"],[u,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,c,[u,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[d,"Rotor"],[u,f]],[/android.+(KS(.+))\s+build/i],[c,[d,"Amazon"],[u,f]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,c,[u,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,y.lowerize],d,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,g]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,S.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,S.str,b.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,p],[/(haiku)\s(\w+)/i],[l,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,p]]};a.VERSION="0.7.22",a.BROWSER={NAME:l,MAJOR:"major",VERSION:p},a.CPU={ARCHITECTURE:m},a.DEVICE={MODEL:c,VENDOR:d,TYPE:u,CONSOLE:A,MOBILE:h,SMARTTV:g,TABLET:f,WEARABLE:v,EMBEDDED:"embedded"},a.ENGINE={NAME:l,VERSION:p},a.OS={NAME:l,VERSION:p},"undefined"!==r(t)?("undefined"!==r(e)&&e.exports&&(t=e.exports=a),t.UAParser=a):(i=function(){return a}.call(t,n,t,e))===s||(e.exports=i);var E,w=o&&(o.jQuery||o.Zepto);w&&!w.ua&&(E=new a,w.ua=E.getResult(),w.ua.get=function(){return E.getUA()},w.ua.set=function(e){E.setUA(e);var t,n=E.getResult();for(t in n)w.ua[t]=n[t]})}("object"===("undefined"==typeof window?"undefined":r(window))?window:this)}).call(this,n("./node_modules/webpack-stream/node_modules/webpack/buildin/module.js")(e))},"./node_modules/url-parse/index.js":function(e,t,n){"use strict";(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n("./node_modules/requires-port/index.js"),o=n("./node_modules/querystringify/index.js"),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(c,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function p(e){var n,r=(r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={};r=i(e=e||r);if("blob:"===e.protocol)o=new A(unescape(e.pathname),{});else if("string"===r)for(n in o=new A(e,{}),d)delete o[n];else if("object"===r){for(n in e)n in d||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function m(e){return e=l(e),{protocol:(e=a.exec(e))[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function A(e,t,n){if(e=l(e),!(this instanceof A))return new A(e,t,n);var s,a,c,d,h,f=u.slice(),g=i(t),v=this,y=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=p(t),s=!(g=m(e||"")).protocol&&!g.slashes,v.slashes=g.slashes||s&&t.slashes,v.protocol=g.protocol||t.protocol||"",e=g.rest,g.slashes||(f[3]=[/(.*)/,"pathname"]);y<f.length;y++)"function"!=typeof(c=f[y])?(a=c[0],h=c[1],a!=a?v[h]=e:"string"==typeof a?~(d=e.indexOf(a))&&(e="number"==typeof c[2]?(v[h]=e.slice(0,d),e.slice(d+c[2])):(v[h]=e.slice(d),e.slice(0,d))):(d=a.exec(e))&&(v[h]=d[1],e=e.slice(0,d.index)),v[h]=v[h]||s&&c[3]&&t[h]||"",c[4]&&(v[h]=v[h].toLowerCase())):e=c(e);n&&(v.query=n(v.query)),s&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=(e=n[i-1],!1),o=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),o++):o&&(0===i&&(r=!0),n.splice(i,1),o--);return r&&n.unshift(""),"."!==e&&".."!==e||n.push(""),n.join("/")}(v.pathname,t.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(c=v.auth.split(":"),v.username=c[0]||"",v.password=c[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}A.prototype={set:function(e,t,n){var i,s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),s[e]=t;break;case"port":s[e]=t,r(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":t?(i="pathname"===e?"/":"#",s[e]=t.charAt(0)!==i?i+t:t):s[e]=t;break;default:s[e]=t}for(var a=0;a<u.length;a++){var c=u[a];c[4]&&(s[c[1]]=s[c[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t=this,n=t.protocol;return n&&":"!==n.charAt(n.length-1)&&(n+=":"),n+=t.slashes?"//":"",t.username&&(n+=t.username,t.password&&(n+=":"+t.password),n+="@"),n+=t.host+t.pathname,(e="object"===i(t.query)?e(t.query):t.query)&&(n+="?"!==e.charAt(0)?"?"+e:e),t.hash&&(n+=t.hash),n}},A.extractProtocol=m,A.location=p,A.trimLeft=l,A.qs=o,e.exports=A}).call(this,n("./node_modules/webpack-stream/node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/index.js":function(e,t,n){var i=n("./node_modules/uuid/v1.js"),r=n("./node_modules/uuid/v4.js");(n=r).v1=i,n.v4=r,e.exports=n},"./node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){return t=t||0,[n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]]].join("")}},"./node_modules/uuid/lib/rng-browser.js":function(e,t){var n,i,r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);r?(n=new Uint8Array(16),e.exports=function(){return r(n),n}):(i=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i})},"./node_modules/uuid/v1.js":function(e,t,n){var i,r,o=n("./node_modules/uuid/lib/rng-browser.js"),s=n("./node_modules/uuid/lib/bytesToUuid.js"),a=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:r;null!=d&&null!=p||(A=o(),null==d&&(d=i=[1|A[0],A[1],A[2],A[3],A[4],A[5]]),null==p&&(p=r=16383&(A[6]<<8|A[7])));var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),A=(n=void 0!==e.nsecs?e.nsecs:c+1,m-a+(n-c)/1e4);if(A<0&&void 0===e.clockseq&&(p=p+1&16383),(A<0||a<m)&&void 0===e.nsecs&&(n=0),1e4<=n)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,r=p,n=(1e4*(268435455&(m+=122192928e5))+(c=n))%4294967296,u[l++]=n>>>24&255,u[l++]=n>>>16&255,u[l++]=n>>>8&255,u[l++]=255&n,m=m/4294967296*1e4&268435455,u[l++]=m>>>8&255,u[l++]=255&m,u[l++]=m>>>24&15|16,u[l++]=m>>>16&255,u[l++]=p>>>8|128,u[l++]=255&p;for(var h=0;h<6;++h)u[l+h]=d[h];return t||s(u)}},"./node_modules/uuid/v4.js":function(e,t,n){var i=n("./node_modules/uuid/lib/rng-browser.js"),r=n("./node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||r(s)}},"./node_modules/webpack-stream/node_modules/webpack/buildin/global.js":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i},"./node_modules/webpack-stream/node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./sundog/css/sundog-grid/sundog-grid.less":function(e,t){}}])}},e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",Object.defineProperty(e,"p",{get:function(){try{if("string"!=typeof streamFullStaticPath)throw new Error("WebpackRequireFrom: 'streamFullStaticPath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return streamFullStaticPath}catch(e){return""}}}),e(e.s=127);function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t,n}));