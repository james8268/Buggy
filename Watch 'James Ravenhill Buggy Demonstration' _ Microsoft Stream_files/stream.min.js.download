!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.stream=t():e.stream=t()}(window,(function(){return n={},e.m=t=[function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,r){return Mt(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=h(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function f(e){var t=m(NaN);return null!=e?p(h(t),e):h(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=i.momentProperties=[];function y(e,t){var n,r,i;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=h(t)),a(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)a(i=t[r=v[n]])||(e[r]=i);return e}var b=!1;function S(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function _(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=C(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&$(e[r])!==$(t[r]))&&s++;return s+o}function M(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}M(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,P={};function D(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),P[e]||(M(t),P[e]=!0)}function L(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,r=p({},e);for(n in t)u(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&s(e[n])&&(r[n]=p({},r[n]));return r}function x(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var E={};function j(e,t){var n=e.toLowerCase();E[n]=E[n+"s"]=E[t]=e}function I(e){return"string"==typeof e?E[e]||E[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)u(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var N={};function O(e,t){N[e]=t}function V(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},Y={};function G(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Y[e]=i),t&&(Y[t[0]]=function(){return V(i.apply(this,arguments),t[1],t[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e,t){return e.isValid()?(t=q(t,e.localeData()),B[t]=B[t]||function(e){var t,n,r=e.match(U);for(t=0,n=r.length;t<n;t++)Y[r[t]]?r[t]=Y[r[t]]:r[t]=H(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=L(r[i])?r[i].call(t,e):r[i];return o}}(t),B[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var W=/\d/,Q=/\d\d/,K=/\d{3}/,J=/\d{4}/,X=/[+-]?\d{6}/,Z=/\d\d?/,ee=/\d\d\d\d?/,te=/\d\d\d\d\d\d?/,ne=/\d{1,3}/,re=/\d{1,4}/,ie=/[+-]?\d{1,6}/,oe=/\d+/,se=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,le=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,de={};function ue(e,t,n){de[e]=L(t)?t:function(e,r){return e&&n?n:t}}function pe(e,t){return u(de,e)?de[e](t._strict,t._locale):new RegExp(function(e){return me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}(e))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function ge(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=$(e)}),n=0;n<e.length;n++)he[e[n]]=r}function fe(e,t){ge(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ve(e,t,n){null!=t&&u(he,e)&&he[e](t,n._a,n,e)}function ye(e){return be(e)?366:365}function be(e){return e%4==0&&e%100!=0||e%400==0}G("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),G(0,["YY",2],0,(function(){return this.year()%100})),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),j("year","y"),O("year",1),ue("Y",se),ue("YY",Z,Q),ue("YYYY",re,J),ue("YYYYY",ie,X),ue("YYYYYY",ie,X),ge(["YYYYY","YYYYYY"],0),ge("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):$(e)})),ge("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),ge("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return $(e)+($(e)>68?1900:2e3)};var Se,_e=Ce("FullYear",!0);function Ce(e,t){return function(n){return null!=n?(we(this,e,n),i.updateOffset(this,t),this):$e(this,e)}}function $e(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function we(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&be(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Me(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Me(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?be(e)?29:28:31-n%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},G("M",["MM",2],"Mo",(function(){return this.month()+1})),G("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),G("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),j("month","M"),O("month",8),ue("M",Z),ue("MM",Z,Q),ue("MMM",(function(e,t){return t.monthsShortRegex(e)})),ue("MMMM",(function(e,t){return t.monthsRegex(e)})),ge(["M","MM"],(function(e,t){t[1]=$(e)-1})),ge(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:h(n).invalidMonth=e}));var Te=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Pe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function De(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,s))?i:null:-1!==(i=Se.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,s))||-1!==(i=Se.call(this._longMonthsParse,s))?i:null:-1!==(i=Se.call(this._longMonthsParse,s))||-1!==(i=Se.call(this._shortMonthsParse,s))?i:null}function Le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Me(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ae(e){return null!=e?(Le(this,e),i.updateOffset(this,!0),this):$e(this,"Month")}var xe=ce;var Ee=ce;function je(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=m([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=me(r[t]),i[t]=me(i[t]);for(t=0;t<24;t++)o[t]=me(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ie(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function Re(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ne(e,t,n){var r=7+t-n;return-((7+Re(e,0,r).getUTCDay()-t)%7)+r-1}function Oe(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+Ne(e,r,i);return a<=0?s=ye(o=e-1)+a:a>ye(e)?(o=e+1,s=a-ye(e)):(o=e,s=a),{year:o,dayOfYear:s}}function Ve(e,t,n){var r,i,o=Ne(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+Ue(i=e.year()-1,t,n):s>Ue(e.year(),t,n)?(r=s-Ue(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Ue(e,t,n){var r=Ne(e,t,n),i=Ne(e+1,t,n);return(ye(e)-r+i)/7}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),O("week",5),O("isoWeek",5),ue("w",Z),ue("ww",Z,Q),ue("W",Z),ue("WW",Z,Q),fe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=$(e)}));G("d",0,"do","day"),G("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),G("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),G("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),O("day",11),O("weekday",11),O("isoWeekday",11),ue("d",Z),ue("e",Z),ue("E",Z),ue("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ue("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ue("dddd",(function(e,t){return t.weekdaysRegex(e)})),fe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e})),fe(["d","e","E"],(function(e,t,n,r){t[r]=$(e)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ge(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,s))||-1!==(i=Se.call(this._shortWeekdaysParse,s))||-1!==(i=Se.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,s))||-1!==(i=Se.call(this._weekdaysParse,s))||-1!==(i=Se.call(this._minWeekdaysParse,s))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,s))||-1!==(i=Se.call(this._weekdaysParse,s))||-1!==(i=Se.call(this._shortWeekdaysParse,s))?i:null}var He=ce;var ze=ce;var qe=ce;function We(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(s.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=me(a[t]),l[t]=me(l[t]),c[t]=me(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Ke(e,t){G(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Je(e,t){return t._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Qe),G("k",["kk",2],0,(function(){return this.hours()||24})),G("hmm",0,0,(function(){return""+Qe.apply(this)+V(this.minutes(),2)})),G("hmmss",0,0,(function(){return""+Qe.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)})),G("Hmm",0,0,(function(){return""+this.hours()+V(this.minutes(),2)})),G("Hmmss",0,0,(function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)})),Ke("a",!0),Ke("A",!1),j("hour","h"),O("hour",13),ue("a",Je),ue("A",Je),ue("H",Z),ue("h",Z),ue("k",Z),ue("HH",Z,Q),ue("hh",Z,Q),ue("kk",Z,Q),ue("hmm",ee),ue("hmmss",te),ue("Hmm",ee),ue("Hmmss",te),ge(["H","HH"],3),ge(["k","kk"],(function(e,t,n){var r=$(e);t[3]=24===r?0:r})),ge(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ge(["h","hh"],(function(e,t,n){t[3]=$(e),h(n).bigHour=!0})),ge("hmm",(function(e,t,n){var r=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r)),h(n).bigHour=!0})),ge("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r,2)),t[5]=$(e.substr(i)),h(n).bigHour=!0})),ge("Hmm",(function(e,t,n){var r=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r))})),ge("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r,2)),t[5]=$(e.substr(i))}));var Xe,Ze=Ce("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ke,monthsShort:Pe,week:{dow:0,doy:6},weekdays:Fe,weekdaysMin:Ye,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function rt(e){return e?e.toLowerCase().replace("_","-"):e}function it(t){var r=null;if(!tt[t]&&void 0!==e&&e&&e.exports)try{r=Xe._abbr;n(123)("./"+t),ot(r)}catch(t){}return tt[t]}function ot(e,t){var n;return e&&(n=a(t)?at(e):st(e,t))&&(Xe=n),Xe._abbr}function st(e,t){if(null!==t){var n=et;if(t.abbr=e,null!=tt[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=tt[e]._config;else if(null!=t.parentLocale){if(null==tt[t.parentLocale])return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;n=tt[t.parentLocale]._config}return tt[e]=new x(A(n,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),ot(e),tt[e]}return delete tt[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!o(e)){if(t=it(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=rt(e[o]).split("-")).length,n=(n=rt(e[o+1]))?n.split("-"):null;t>0;){if(r=it(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}(e)}function lt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Me(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}function ct(e,t,n){return null!=e?e:null!=t?t:n}function dt(e){var t,n,r,o,s,a=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,s,a,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,s=4,n=ct(t.GG,e._a[0],Ve(Tt(),1,4).year),r=ct(t.W,1),((i=ct(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var c=Ve(Tt(),o,s);n=ct(t.gg,e._a[0],c.year),r=ct(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Ue(n,o,s)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(a=Oe(n,r,i,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=ct(e._a[0],r[0]),(e._dayOfYear>ye(s)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Re(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Ie).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((\-?\d+)/i;function vt(e){var t,n,r,i,o,s,a=e._i,l=ut.exec(a)||pt.exec(a);if(l){for(h(e).iso=!0,t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(l[1])){i=ht[t][0],r=!1!==ht[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(l[3])){o=(l[2]||" ")+gt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!mt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Ct(e)}else e._isValid=!1}var yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _t(e){var t=yt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e._i));if(t){var n=function(e,t,n,r,i,o){var s=[bt(e),Pe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Be.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Ct(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],h(e).empty=!0;var t,n,r,o,s,a=""+e._i,l=a.length,c=0;for(r=q(e._f,e._locale).match(U)||[],t=0;t<r.length;t++)o=r[t],(n=(a.match(pe(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&h(e).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),c+=n.length),Y[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),ve(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-c,a.length>0&&h(e).unusedInput.push(a),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),dt(e),lt(e)}else _t(e);else vt(e)}function $t(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new S(lt(t)):(c(t)?e._d=t:o(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ct(t),g(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));p(e,n||t)}(e):n?Ct(e):wt(e),g(e)||(e._d=null),e))}function wt(e){var t=e._i;a(t)?e._d=new Date(i.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,_t(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),dt(e)):s(t)?function(e){if(!e._d){var t=R(e._i);e._a=d([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),dt(e)}}(e):l(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Mt(e,t,n,r,i){var a={};return!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,function(e){var t=new S(lt($t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(a)}function Tt(e,t,n,r){return Mt(e,t,n,r,!1)}i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var kt=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()})),Pt=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}));function Dt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function At(e){var t=R(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Se.call(Lt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Lt.length;++r)if(e[Lt[r]]){if(n)return!1;parseFloat(e[Lt[r]])!==$(e[Lt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function xt(e){return e instanceof At}function Et(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){G(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)}))}jt("Z",":"),jt("ZZ",""),ue("Z",le),ue("ZZ",le),ge(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Rt(le,e)}));var It=/([\+\-]|\d\d)/gi;function Rt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(It)||["-",0,0],i=60*r[1]+$(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Nt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(_(e)||c(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Tt(e).local()}function Ot(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Vt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Ut=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bt(e,t){var n,r,i,o=e,s=null;return xt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Ut.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:$(s[2])*n,h:$(s[3])*n,m:$(s[4])*n,s:$(s[5])*n,ms:$(Et(1e3*s[6]))*n}):(s=Ft.exec(e))?(n="-"===s[1]?-1:(s[1],1),o={y:Yt(s[2],n),M:Yt(s[3],n),w:Yt(s[4],n),d:Yt(s[5],n),h:Yt(s[6],n),m:Yt(s[7],n),s:Yt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Nt(t,e),e.isBefore(t)?n=Gt(e,t):((n=Gt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Tt(o.from),Tt(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new At(o),xt(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Yt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),zt(this,Bt(n="string"==typeof n?+n:n,r),e),this}}function zt(e,t,n,r){var o=t._milliseconds,s=Et(t._days),a=Et(t._months);e.isValid()&&(r=null==r||r,a&&Le(e,$e(e,"Month")+a*n),s&&we(e,"Date",$e(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,s||a))}Bt.fn=At.prototype,Bt.invalid=function(){return Bt(NaN)};var qt=Ht(1,"add"),Wt=Ht(-1,"subtract");function Qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Kt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jt=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Xt(){return this._locale}function Zt(e,t){G(0,[e,e.length],0,t)}function en(e,t,n,r,i){var o;return null==e?Ve(this,r,i).year:(t>(o=Ue(e,r,i))&&(t=o),tn.call(this,e,t,n,r,i))}function tn(e,t,n,r,i){var o=Oe(e,t,n,r,i),s=Re(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}G(0,["gg",2],0,(function(){return this.weekYear()%100})),G(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Zt("gggg","weekYear"),Zt("ggggg","weekYear"),Zt("GGGG","isoWeekYear"),Zt("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),O("weekYear",1),O("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",Z,Q),ue("gg",Z,Q),ue("GGGG",re,J),ue("gggg",re,J),ue("GGGGG",ie,X),ue("ggggg",ie,X),fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=$(e)})),fe(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),G("Q",0,"Qo","quarter"),j("quarter","Q"),O("quarter",7),ue("Q",W),ge("Q",(function(e,t){t[1]=3*($(e)-1)})),G("D",["DD",2],"Do","date"),j("date","D"),O("date",9),ue("D",Z),ue("DD",Z,Q),ue("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ge(["D","DD"],2),ge("Do",(function(e,t){t[2]=$(e.match(Z)[0])}));var nn=Ce("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),O("dayOfYear",4),ue("DDD",ne),ue("DDDD",K),ge(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=$(e)})),G("m",["mm",2],0,"minute"),j("minute","m"),O("minute",14),ue("m",Z),ue("mm",Z,Q),ge(["m","mm"],4);var rn=Ce("Minutes",!1);G("s",["ss",2],0,"second"),j("second","s"),O("second",15),ue("s",Z),ue("ss",Z,Q),ge(["s","ss"],5);var on,sn=Ce("Seconds",!1);for(G("S",0,0,(function(){return~~(this.millisecond()/100)})),G(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),G(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),G(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),G(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),G(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),G(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),j("millisecond","ms"),O("millisecond",16),ue("S",ne,W),ue("SS",ne,Q),ue("SSS",ne,K),on="SSSS";on.length<=9;on+="S")ue(on,oe);function an(e,t){t[6]=$(1e3*("0."+e))}for(on="S";on.length<=9;on+="S")ge(on,an);var ln=Ce("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var cn=S.prototype;function dn(e){return e}cn.add=qt,cn.calendar=function(e,t){var n=e||Tt(),r=Nt(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",s=t&&(L(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Tt(n)))},cn.clone=function(){return new S(this)},cn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Nt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=Qt(this,r)/12;break;case"month":o=Qt(this,r);break;case"quarter":o=Qt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:C(o)},cn.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},cn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},cn.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Tt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cn.fromNow=function(e){return this.from(Tt(),e)},cn.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Tt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cn.toNow=function(e){return this.to(Tt(),e)},cn.get=function(e){return L(this[e=I(e)])?this[e]():this},cn.invalidAt=function(){return h(this).overflow},cn.isAfter=function(e,t){var n=_(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(a(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},cn.isBefore=function(e,t){var n=_(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(a(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},cn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},cn.isSame=function(e,t){var n,r=_(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},cn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},cn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},cn.isValid=function(){return g(this)},cn.lang=Jt,cn.locale=Kt,cn.localeData=Xt,cn.max=Pt,cn.min=kt,cn.parsingFlags=function(){return p({},h(this))},cn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:N[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=R(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(L(this[e=I(e)]))return this[e](t);return this},cn.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},cn.subtract=Wt,cn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},cn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=_e,cn.isLeapYear=function(){return be(this.year())},cn.weekYear=function(e){return en.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(e){return en.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},cn.month=Ae,cn.daysInMonth=function(){return Me(this.year(),this.month())},cn.week=cn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},cn.isoWeek=cn.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},cn.weeksInYear=function(){var e=this.localeData()._week;return Ue(this.year(),e.dow,e.doy)},cn.isoWeeksInYear=function(){return Ue(this.year(),1,4)},cn.date=nn,cn.day=cn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},cn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},cn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},cn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},cn.hour=cn.hours=Ze,cn.minute=cn.minutes=rn,cn.second=cn.seconds=sn,cn.millisecond=cn.milliseconds=ln,cn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Rt(le,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ot(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?zt(this,Bt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ot(this)},cn.utc=function(e){return this.utcOffset(0,e)},cn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ot(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=Vt,cn.isUTC=Vt,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=T("dates accessor is deprecated. Use date instead.",nn),cn.months=T("months accessor is deprecated. Use month instead",Ae),cn.years=T("years accessor is deprecated. Use year instead",_e),cn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),cn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=$t(e))._a){var t=e._isUTC?m(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var un=x.prototype;function pn(e,t,n,r){var i=at(),o=m().set(r,t);return i[n](o,e)}function mn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return pn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=pn(e,r,n,"month");return i}function hn(e,t,n,r){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,o=at(),s=e?o._week.dow:0;if(null!=n)return pn(t,(n+s)%7,r,"day");var a=[];for(i=0;i<7;i++)a[i]=pn(t,(i+s)%7,r,"day");return a}un.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return L(r)?r.call(t,n):r},un.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},un.invalidDate=function(){return this._invalidDate},un.ordinal=function(e){return this._ordinal.replace("%d",e)},un.preparse=dn,un.postformat=dn,un.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return L(i)?i(e,t,n,r):i.replace(/%d/i,e)},un.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return L(n)?n(t):n.replace(/%s/i,t)},un.set=function(e){var t,n;for(n in e)L(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},un.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Te).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},un.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Te.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},un.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return De.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},un.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||je.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},un.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||je.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=xe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},un.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},un.firstDayOfYear=function(){return this._week.doy},un.firstDayOfWeek=function(){return this._week.dow},un.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},un.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},un.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},un.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ge.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},un.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=He),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},un.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},un.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},un.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},un.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ot("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===$(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",ot),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",at);var gn=Math.abs;function fn(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function yn(e){return 4800*e/146097}function bn(e){return 146097*e/4800}function Sn(e){return function(){return this.as(e)}}var _n=Sn("ms"),Cn=Sn("s"),$n=Sn("m"),wn=Sn("h"),Mn=Sn("d"),Tn=Sn("w"),kn=Sn("M"),Pn=Sn("y");function Dn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ln=Dn("milliseconds"),An=Dn("seconds"),xn=Dn("minutes"),En=Dn("hours"),jn=Dn("days"),In=Dn("months"),Rn=Dn("years");var Nn=Math.round,On={ss:44,s:45,m:45,h:22,d:26,M:11};var Vn=Math.abs;function Un(e){return(e>0)-(e<0)||+e}function Fn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),i=Vn(this._months);e=C(n/60),t=C(e/60),n%=60,e%=60;var o=C(i/12),s=i%=12,a=r,l=t,c=e,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var p=u<0?"-":"",m=Un(this._months)!==Un(u)?"-":"",h=Un(this._days)!==Un(u)?"-":"",g=Un(this._milliseconds)!==Un(u)?"-":"";return p+"P"+(o?m+o+"Y":"")+(s?m+s+"M":"")+(a?h+a+"D":"")+(l||c||d?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(d?g+d+"S":"")}var Bn=At.prototype;return Bn.isValid=function(){return this._isValid},Bn.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},Bn.add=function(e,t){return fn(this,e,t,1)},Bn.subtract=function(e,t){return fn(this,e,t,-1)},Bn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+r/864e5,n=this._months+yn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(bn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Bn.asMilliseconds=_n,Bn.asSeconds=Cn,Bn.asMinutes=$n,Bn.asHours=wn,Bn.asDays=Mn,Bn.asWeeks=Tn,Bn.asMonths=kn,Bn.asYears=Pn,Bn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12):NaN},Bn._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*vn(bn(n)+t),n=t=0),r.milliseconds=e%1e3,e=C(e/1e3),r.seconds=e%60,e=C(e/60),r.minutes=e%60,e=C(e/60),r.hours=e%24,t+=C(e/24),n+=e=C(yn(t)),t-=vn(bn(e)),e=C(n/12),n%=12,r.days=t,r.months=n,r.years=e,this},Bn.clone=function(){return Bt(this)},Bn.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Bn.milliseconds=Ln,Bn.seconds=An,Bn.minutes=xn,Bn.hours=En,Bn.days=jn,Bn.weeks=function(){return C(this.days()/7)},Bn.months=In,Bn.years=Rn,Bn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Bt(e).abs(),i=Nn(r.as("s")),o=Nn(r.as("m")),s=Nn(r.as("h")),a=Nn(r.as("d")),l=Nn(r.as("M"));r=Nn(r.as("y"));return(r=(i<=On.ss?["s",i]:i<On.s&&["ss",i])||o<=1&&["m"]||o<On.m&&["mm",o]||s<=1&&["h"]||s<On.h&&["hh",s]||a<=1&&["d"]||a<On.d&&["dd",a]||l<=1&&["M"]||l<On.M&&["MM",l]||r<=1&&["y"]||["yy",r])[2]=t,r[3]=0<+e,r[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,r)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Bn.toISOString=Fn,Bn.toString=Fn,Bn.toJSON=Fn,Bn.locale=Kt,Bn.localeData=Xt,Bn.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fn),Bn.lang=Jt,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),ge("x",(function(e,t,n){n._d=new Date($(e))})),i.version="2.20.1",function(e){t=e}(Tt),i.fn=cn,i.min=function(){return Dt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Dt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=m,i.unix=function(e){return Tt(1e3*e)},i.months=function(e,t){return mn(e,t,"months")},i.isDate=c,i.locale=ot,i.invalid=f,i.duration=Bt,i.isMoment=_,i.weekdays=function(e,t,n){return hn(e,t,n,"weekdays")},i.parseZone=function(){return Tt.apply(null,arguments).parseZone()},i.localeData=at,i.isDuration=xt,i.monthsShort=function(e,t){return mn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return hn(e,t,n,"weekdaysMin")},i.defineLocale=st,i.updateLocale=function(e,t){var n,r;return null!=t?(r=et,null!=(n=it(e))&&(r=n._config),(t=new x(t=A(r,t))).parentLocale=tt[e],tt[e]=t,ot(e)):null!=tt[e]&&(null!=tt[e].parentLocale?tt[e]=tt[e].parentLocale:null!=tt[e]&&delete tt[e]),tt[e]},i.locales=function(){return k(tt)},i.weekdaysShort=function(e,t,n){return hn(e,t,n,"weekdaysShort")},i.normalizeUnits=I,i.relativeTimeRounding=function(e){return void 0!==e?"function"==typeof e&&(Nn=e,!0):Nn},i.relativeTimeThreshold=function(e,t){return void 0!==On[e]&&(void 0===t?On[e]:(On[e]=t,"s"===e&&(On.ss=t-1),!0))},i.calendarFormat=function(e,t){return(t=e.diff(t,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},i.prototype=cn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(120)(e))},function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,n,o,s){var a=r(t),l=i[e][r(t)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,t)}},s=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,i,o,s){var a=n(t),l=r[e][n(t)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[n],+e)}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:t,mm:t,h:t,hh:t,d:"дзень",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){return e>9?n(e%10):e}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");function r(e){return e>1&&e<5&&1!=~~(e/10)}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pár sekund":"pár sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?o+(r(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?o+(r(e)?"dny":"dní"):o+"dny";case"M":return t||i?"měsíc":"měsícem";case"MM":return t||i?o+(r(e)?"měsíce":"měsíců"):o+"měsíci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?o+(r(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return function(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"ثانیه d%",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function r(e,t,n,r){var o="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":return r?"sekunnin":"sekuntia";case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":o=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return o=i(e,r)+" "+o}function i(e,r){return e<10?r?n[e]:t[e]:e}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પેહલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"ss":return i+(r||t)?" másodperc":" másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function r(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?o+(n||i?"sekúndur":"sekúndum"):o+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?o+(n||i?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dögum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mánuður":i?"mánuð":"mánuði";case"MM":return t(e)?n?o+"mánuðir":o+(i?"mánuði":"mánuðum"):n?o+"mánuður":o+(i?"mánuð":"mánuði");case"y":return n||i?"ár":"ári";case"yy":return t(e)?o+(n||i?"ár":"árum"):o+(n||i?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის უკან"):/წელი/.test(e)?e.replace(/წელი$/,"წლის უკან"):void 0},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬ_ಅಕ್ಟೋಬ_ನವೆಂಬ_ಡಿಸೆಂಬ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function o(e,t,o,s){var a=e+" ";return 1===e?a+n(0,t,o[0],s):t?a+(r(e)?i(o)[1]:i(o)[0]):s?a+i(o)[1]:a+(r(e)?i(o)[1]:i(o)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(e,t){return t?"dažas sekundes":"dažām sekundēm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"ss":i="%d सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"ss":i="%d सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?e<4?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात्री":e<10?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"ss":return i+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesiące":"miesięcy");case"yy":return i+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"минута":"минуту":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n],+e)}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:t,m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pár sekúnd":"pár sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"sekúnd"):o+"sekundami";case"m":return t?"minúta":i?"minútu":"minútou";case"mm":return t||i?o+(r(e)?"minúty":"minút"):o+"minútami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodín"):o+"hodinami";case"d":return t||i?"deň":"dňom";case"dd":return t||i?o+(r(e)?"dni":"dní"):o+"dňami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t||2===t?"a":"e")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,i){var o=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";n>0&&(o+=t[n]+"vatlh");r>0&&(o+=(""!==o?" ":"")+t[r]+"maH");i>0&&(o+=(""!==o?" ":"")+t[i]);return""===o?"pagh":o}(e);switch(r){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa’ tup",mm:n,h:"wa’ rep",hh:n,d:"wa’ jaj",dd:n,M:"wa’ jar",MM:n,y:"wa’ DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n],+e)}function n(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:n("[Сьогодні "),nextDay:n("[Завтра "),lastDay:n("[Вчора "),nextWeek:n("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[Минулої] dddd [").call(this);case 1:case 2:case 4:return n("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:t,m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(0))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(0))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){n(122),e.exports=angular},function(e,t){!function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=arguments,o=i[0],s="["+(e?e+":":"")+o+"] ";for(s+=i[1].replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1)+2;return t<i.length?Ee(i[t]):e})),s+="\nhttp://errors.angularjs.org/1.5.3/"+(e?e+"/":"")+o,r=2,n="?";r<i.length;r++,n="&")s+=n+"p"+(r-2)+"="+encodeURIComponent(Ee(i[r]));return new t(s)}}var i=/^\/(.+)\/([a-z]*)$/,o="validity",s=Object.prototype.hasOwnProperty,a=function(e){return V(e)?e.toLowerCase():e},l=function(e){return V(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(a=function(e){return V(e)?e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(32|e.charCodeAt(0))})):e},l=function(e){return V(e)?e.replace(/[a-z]/g,(function(e){return String.fromCharCode(-33&e.charCodeAt(0))})):e});var c,d,u,p,m=[].slice,h=[].splice,g=[].push,f=Object.prototype.toString,v=Object.getPrototypeOf,y=r("ng"),b=e.angular||(e.angular={}),S=0;function _(e){if(null!=e&&!H(e)){if(B(e)||V(e)||d&&e instanceof d)return 1;var t="length"in Object(e)&&e.length;return U(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}}function C(e,t,n){if(e)if(Y(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(B(e)||_(e))for(var r="object"!=typeof e,i=0,o=e.length;i<o;i++)(r||i in e)&&t.call(n,e[i],i,e);else if(e.forEach&&e.forEach!==C)e.forEach(t,n,e);else if(O(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)s.call(e,i)&&t.call(n,e[i],i,e);return e}function $(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function w(e){return function(t,n){e(n,t)}}function M(){return++S}function T(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function k(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(N(s)||Y(s))for(var a=Object.keys(s),l=0,c=a.length;l<c;l++){var d=a[l],u=s[d];n&&N(u)?F(u)?e[d]=new Date(u.valueOf()):G(u)?e[d]=new RegExp(u):u.nodeName?e[d]=u.cloneNode(!0):X(u)?e[d]=u.clone():(N(e[d])||(e[d]=B(u)?[]:{}),k(e[d],[u],!0)):e[d]=u}}return T(e,r),e}function P(e){return k(e,m.call(arguments,1),!1)}function D(e){return parseInt(e,10)}function L(e,t){return P(Object.create(e),t)}function A(){}function x(e){return e}function E(e){return function(){return e}}function j(e){return Y(e.toString)&&e.toString!==f}function I(e){return void 0===e}function R(e){return void 0!==e}function N(e){return null!==e&&"object"==typeof e}function O(e){return null!==e&&"object"==typeof e&&!v(e)}function V(e){return"string"==typeof e}function U(e){return"number"==typeof e}function F(e){return"[object Date]"===f.call(e)}c=t.documentMode,A.$inject=[],x.$inject=[];var B=Array.isArray;function Y(e){return"function"==typeof e}function G(e){return"[object RegExp]"===f.call(e)}function H(e){return e&&e.window===e}function z(e){return e&&e.$evalAsync&&e.$watch}function q(e){return"boolean"==typeof e}function W(e){return e&&Y(e.then)}var Q=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,K=function(e){return V(e)?e.trim():e},J=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function X(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function Z(e){return a(e.nodeName||e[0]&&e[0].nodeName)}function ee(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),t}function te(e,t){var r,i=[],o=[];if(t){if((r=t)&&U(r.length)&&Q.test(f.call(r))||(r=t,"[object ArrayBuffer]"===f.call(r)))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");return B(t)?t.length=0:C(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),i.push(e),o.push(t),a(e,t)}return l(e);function a(e,t){var n,r=t.$$hashKey;if(B(e))for(var i=0,o=e.length;i<o;i++)t.push(l(e[i]));else if(O(e))for(n in e)t[n]=l(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=l(e[n]));else for(n in e)s.call(e,n)&&(t[n]=l(e[n]));return T(t,r),t}function l(e){if(!N(e))return e;if(-1!==(t=i.indexOf(e)))return o[t];if(H(e)||z(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var t,r=!1;return(t=function(e){switch(f.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(l(e.buffer));case"[object ArrayBuffer]":if(e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0])).lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(Y(e.cloneNode))return e.cloneNode(!0)}(e))===n&&(t=B(e)?[]:Object.create(v(e)),r=!0),i.push(e),o.push(t),r?a(e,t):t}}function ne(e,t){if(B(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(N(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function re(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!B(e)){if(F(e))return!!F(t)&&re(e.getTime(),t.getTime());if(G(e))return!!G(t)&&e.toString()==t.toString();if(z(e)||z(t)||H(e)||H(t)||B(t)||F(t)||G(t))return!1;for(r in i=Ae(),e)if("$"!==r.charAt(0)&&!Y(e[r])){if(!re(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&R(t[r])&&!Y(t[r]))return!1;return!0}if(!B(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!re(e[r],t[r]))return!1;return!0}}return!1}var ie=function(){var e;return R(ie.rules)||((e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]"))?(e=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp"),ie.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}):ie.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}),ie.rules},oe=function(){if(R(oe.name_))return oe.name_;for(var e,n,r,i=_e.length,o=0;o<i;++o)if(n=_e[o],e=t.querySelector("["+n.replace(":","\\:")+"jq]")){r=e.getAttribute(n+"jq");break}return oe.name_=r};function se(e,t,n){return e.concat(m.call(t,n))}function ae(e,t){return m.call(e,t||0)}function le(e,t){var n=2<arguments.length?ae(arguments,2):[];return!Y(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,se(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function ce(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:H(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":z(r)&&(i="$SCOPE"),i}function de(e,t){return I(e)?n:(U(t)||(t=t?2:null),JSON.stringify(e,ce,t))}function ue(e){return V(e)?JSON.parse(e):e}var pe=/:/g;function me(e,t){return e=e.replace(pe,""),e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4,isNaN(e)?t:e}function he(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return e=e,r=n*((t=me(t,r))-r),(e=new Date(e.getTime())).setMinutes(e.getMinutes()+r),e}function ge(e){e=d(e).clone();try{e.empty()}catch(e){}var t=d("<div>").append(e).html();try{return e[0].nodeType===xe?a(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,(function(e,t){return"<"+a(t)}))}catch(e){return a(t)}}function fe(e){try{return decodeURIComponent(e)}catch(e){}}function ve(e){var t={};return C((e||"").split("&"),(function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),i=e.substring(n+1)),R(r=fe(r))&&(i=!R(i)||fe(i),s.call(t,r)?B(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))})),t}function ye(e){var t=[];return C(e,(function(e,n){B(e)?C(e,(function(e){t.push(Se(n,!0)+(!0===e?"":"="+Se(e,!0)))})):t.push(Se(n,!0)+(!0===e?"":"="+Se(e,!0)))})),t.length?t.join("&"):""}function be(e){return Se(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Se(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var _e=["ng-","data-ng-","ng:","x-ng-"];function Ce(n,r,i){function o(){if((n=d(n)).injector()){var e=n[0]===t?"document":ge(n);throw y("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(r=r||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng"),(e=Et(r,i.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply((function(){t.data("$injector",r),n(t)(e)}))}]),e}N(i)||(i={}),i=P({strictDi:!1},i);var s=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!a.test(e.name))return o();e.name=e.name.replace(a,""),b.resumeBootstrap=function(e){return C(e,(function(e){r.push(e)})),o()},Y(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}var $e=/[A-Z]/g;function we(e,t){return t=t||"_",e.replace($e,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Me=!1;function Te(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ke(e,t,n){return n&&B(e)&&(e=e[e.length-1]),Te(Y(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Pe(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function De(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,s=i.length,a=0;a<s;a++)r=i[a],e=e&&(o=e)[r];return!n&&Y(e)?le(o,e):e}function Le(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)!t&&e[i]===n||(t=t||d(m.call(e,0,i))).push(n);return t||e}function Ae(){return Object.create(null)}var xe=3;function Ee(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):I(e)?"undefined":"string"!=typeof e?(t=e,n=[],JSON.stringify(t,(function(e,t){if(N(t=ce(e,t))){if(0<=n.indexOf(t))return"...";n.push(t)}return t}))):e;var t,n}Ze.expando="ng339";var je=Ze.cache={},Ie=1,Re=function(e,t,n){e.addEventListener(t,n,!1)},Ne=function(e,t,n){e.removeEventListener(t,n,!1)};Ze._data=function(e){return this.cache[e[this.expando]]||{}};var Oe=/([\:\-\_]+(.))/g,Ve=/^moz([A-Z])/,Ue={mouseleave:"mouseout",mouseenter:"mouseover"},Fe=r("jqLite");function Be(e){return e.replace(Oe,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(Ve,"Moz$1")}var Ye=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ge=/<|&#?\w+;/,He=/<([\w:-]+)/,ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,qe={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function We(e){return!Ge.test(e)}function Qe(e){return 1===(e=e.nodeType)||!e||9===e}function Ke(e,t){var n,r,i=t.createDocumentFragment(),o=[];if(We(e))o.push(t.createTextNode(e));else{for(n=n||i.appendChild(t.createElement("div")),t=(He.exec(e)||["",""])[1].toLowerCase(),t=qe[t]||qe._default,n.innerHTML=t[1]+e.replace(ze,"<$1></$2>")+t[2],r=t[0];r--;)n=n.lastChild;o=se(o,n.childNodes),(n=i.firstChild).textContent=""}return i.textContent="",i.innerHTML="",C(o,(function(e){i.appendChild(e)})),i}function Je(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td;var Xe=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function Ze(e){if(e instanceof Ze)return e;var n,r,i;if(V(e)&&(e=K(e),i=!0),!(this instanceof Ze)){if(i&&"<"!=e.charAt(0))throw Fe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ze(e)}ct(this,i?(n=e,r=r||t,(i=Ye.exec(n))?[r.createElement(i[1])]:(i=Ke(n,r))?i.childNodes:[]):e)}function et(e){return e.cloneNode(!0)}function tt(e,t){if(t||rt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)rt(n[r])}function nt(e,t,n,r){if(R(r))throw Fe("offargs","jqLite#off() does not support the `selector` argument");var i=(r=it(e))&&r.events,o=r&&r.handle;if(o)if(t){var s=function(t){var r=i[t];R(n)&&ee(r||[],n),R(n)&&r&&0<r.length||(Ne(e,t,o),delete i[t])};C(t.split(" "),(function(e){s(e),Ue[e]&&s(Ue[e])}))}else for(t in i)"$destroy"!==t&&Ne(e,t,o),delete i[t]}function rt(e,t){var r=e.ng339,i=r&&je[r];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),nt(e)),delete je[r],e.ng339=n))}function it(e,t){var r=e.ng339,i=r&&je[r];return t&&!i&&(e.ng339=r=++Ie,i=je[r]={events:{},data:{},handle:n}),i}function ot(e,t,n){if(Qe(e)){var r=R(n),i=!r&&t&&!N(t),o=!t;e=(e=it(e,!i))&&e.data;if(!r)return o?e:i?e&&e[t]:void P(e,t);e[t]=n}}function st(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function at(e,t){t&&e.setAttribute&&C(t.split(" "),(function(t){e.setAttribute("class",K((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+K(t)+" "," ")))}))}function lt(e,t){var n;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),C(t.split(" "),(function(e){e=K(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")})),e.setAttribute("class",K(n)))}function ct(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function dt(e,t){return ut(e,"$"+(t||"ngController")+"Controller")}function ut(e,t,n){9==e.nodeType&&(e=e.documentElement);for(var r=B(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(R(n=d.data(e,r[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function pt(e){for(tt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function mt(e,t){t||tt(e),(t=e.parentNode)&&t.removeChild(e)}var ht=Ze.prototype={ready:function(n){var r=!1;function i(){r||(r=!0,n())}"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),Ze(e).on("load",i))},toString:function(){var e=[];return C(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return d(0<=e?this[e]:this[this.length+e])},length:0,push:g,sort:[].sort,splice:[].splice},gt={};C("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){gt[a(e)]=e}));var ft={};C("input,select,option,textarea,button,form,details".split(","),(function(e){ft[e]=!0}));var vt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function yt(e,t){return(t=gt[t.toLowerCase()])&&ft[Z(e)]&&t}function bt(e,t){if(I(t)){var n=e.nodeType;return 1===n||n===xe?e.textContent:""}e.textContent=t}function St(e,t,n){n.call(e,t)}function _t(e,t,n){var r=t.relatedTarget;r&&(r===e||Xe.call(e,r))||n.call(e,t)}function Ct(){this.$get=function(){return P(Ze,{hasClass:function(e,t){return e.attr&&(e=e[0]),st(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),lt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),at(e,t)}})}}function $t(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return"function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||M)():r+":"+e}function wt(e,t){var n;t&&(n=0,this.nextUid=function(){return++n}),C(e,this.put,this)}C({data:ot,removeData:rt,hasData:function(e){for(var t in je[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)rt(e[t])}},(function(e,t){Ze[t]=e})),C({data:ot,inheritedData:ut,scope:function(e){return d.data(e,"$scope")||ut(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return d.data(e,"$isolateScope")||d.data(e,"$isolateScopeNoTemplate")},controller:dt,injector:function(e){return ut(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:st,css:function(e,t,n){if(t=Be(t),!R(n))return e.style[t];e.style[t]=n},attr:function(e,t,r){var i=e.nodeType;if(i!==xe&&2!==i&&8!==i)if(i=a(t),gt[i]){if(!R(r))return e[t]||(e.attributes.getNamedItem(t)||A).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(R(r))e.setAttribute(t,r);else if(e.getAttribute)return null===(t=e.getAttribute(t,2))?n:t},prop:function(e,t,n){if(!R(n))return e[t];e[t]=n},text:(bt.$dv="",bt),val:function(e,t){if(I(t)){if(e.multiple&&"select"===Z(e)){var n=[];return C(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(I(t))return e.innerHTML;tt(e,!0),e.innerHTML=t},empty:pt},(function(e,t){Ze.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==pt&&I(2==e.length&&e!==st&&e!==dt?t:n)){if(N(t)){for(r=0;r<o;r++)if(e===ot)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var s=I(c=e.$dv)?Math.min(o,1):o,a=0;a<s;a++)var l=e(this[a],t,n),c=c?c+l:l;return c}for(r=0;r<o;r++)e(this[r],t,n);return this}})),C({removeData:rt,on:function(e,t,r,i){if(R(i))throw Fe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Qe(e))for(var o=(i=it(e,!0)).events,s=(s=i.handle)||(i.handle=function(e,t){function n(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i,o=t[r||n.type],s=o?o.length:0;if(s){I(n.immediatePropagationStopped)&&(i=n.stopImmediatePropagation,n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),i&&i.call(n)}),n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=o.specialHandlerWrapper||St;1<s&&(o=ne(o));for(var l=0;l<s;l++)n.isImmediatePropagationStopped()||a(e,n,o[l])}}return n.elem=e,n}(e,o)),a=0<=t.indexOf(" ")?t.split(" "):[t],l=a.length,c=function(t,n,i){var a=o[t];a||((a=o[t]=[]).specialHandlerWrapper=n,"$destroy"===t||i||Re(e,t,s)),a.push(r)};l--;)t=a[l],Ue[t]?(c(Ue[t],_t),c(t,n,!0)):c(t)},off:nt,one:function(e,t,n){(e=d(e)).on(t,(function r(){e.off(t,n),e.off(t,r)})),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;tt(e),C(new Ze(t),(function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t}))},children:function(e){var t=[];return C(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var r=0,i=(t=new Ze(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(e,t){var n;1===e.nodeType&&(n=e.firstChild,C(new Ze(t),(function(t){e.insertBefore(t,n)})))},wrap:function(e,t){Je(e,d(t).eq(0).clone()[0])},remove:mt,detach:function(e){mt(e,!0)},after:function(e,t){for(var n=e,r=e.parentNode,i=0,o=(t=new Ze(t)).length;i<o;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:lt,removeClass:at,toggleClass:function(e,t,n){t&&C(t.split(" "),(function(t){var r=n;I(r)&&(r=!st(e,t)),(r?lt:at)(e,t)}))},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:et,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t;(o=(o=(o=it(e))&&o.events)&&o[s])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:s,target:e},t.type&&(r=P(r,t)),o=ne(o),i=n?[r].concat(n):[r],C(o,(function(t){r.isImmediatePropagationStopped()||t.apply(e,i)})))}},(function(e,t){Ze.prototype[t]=function(t,n,r){for(var i,o=0,s=this.length;o<s;o++)I(i)?R(i=e(this[o],t,n,r))&&(i=d(i)):ct(i,e(this[o],t,n,r));return R(i)?i:this},Ze.prototype.bind=Ze.prototype.on,Ze.prototype.unbind=Ze.prototype.off})),wt.prototype={put:function(e,t){this[$t(e,this.nextUid)]=t},get:function(e){return this[$t(e,this.nextUid)]},remove:function(e){var t=this[e=$t(e,this.nextUid)];return delete this[e],t}};var Mt=[function(){this.$get=[function(){return wt}]}],Tt=/^([^\(]+?)=>/,kt=/^[^\(]*\(\s*([^\)]*)\)/m,Pt=/,/,Dt=/^\s*(_?)(\S+?)\1\s*$/,Lt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,At=r("$injector");function xt(e){return(e=e.toString().replace(Lt,"")).match(Tt)||e.match(kt)}function Et(e,t){t=!0===t;var r={},i="Provider",o=[],s=new wt([],!0),a={$provide:{provider:h(g),factory:h(f),service:h((function(e,t){return f(e,["$injector",function(e){return e.instantiate(t)}])})),value:h((function(e,t){return f(e,E(t),!1)})),constant:h((function(e,t){Pe(e,"constant"),a[e]=t,d[e]=t})),decorator:function(e,t){var n=l.get(e+i),r=n.$get;n.$get=function(){var e=m.invoke(r,n);return m.invoke(t,null,{$delegate:e})}}}},l=a.$injector=v(a,(function(e,t){throw b.isString(t)&&o.push(t),At("unpr","Unknown provider: {0}",o.join(" <- "))})),d={},u=v(d,(function(e,t){return t=l.get(e+i,t),m.invoke(t.$get,t,n,e)})),m=u;return a["$injector"+i]={$get:E(u)},e=function e(t){Te(I(t)||B(t),"modulesToLoad","not an array");var n,r=[];return C(t,(function(t){if(!s.get(t)){s.put(t,!0);try{V(t)?(n=p(t),r=r.concat(e(n.requires)).concat(n._runBlocks),i(n._invokeQueue),i(n._configBlocks)):Y(t)||B(t)?r.push(l.invoke(t)):ke(t,"module")}catch(i){throw B(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),At("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=l.get(r[0]);i[r[1]].apply(i,r[2])}}})),r}(e),(m=u.get("$injector")).strictDi=t,C(e,(function(e){e&&m.invoke(e)})),m;function h(e){return function(t,n){if(!N(t))return e(t,n);C(t,w(e))}}function g(e,t){if(Pe(e,"service"),(Y(t)||B(t))&&(t=l.instantiate(t)),!t.$get)throw At("pget","Provider '{0}' must define $get factory method.",e);return a[e+i]=t}function f(e,t,n){return g(e,{$get:!1!==n?(r=e,i=t,function(){var e=m.invoke(i,this);if(I(e))throw At("undef","Provider '{0}' must return a value from $get factory method.",r);return e}):t});var r,i}function v(e,n){function s(t,i){if(e.hasOwnProperty(t)){if(e[t]===r)throw At("cdep","Circular dependency found: {0}",t+" <- "+o.join(" <- "));return e[t]}try{return o.unshift(t),e[t]=r,e[t]=n(t,i)}catch(i){throw e[t]===r&&delete e[t],i}finally{o.shift()}}function l(e,n,r){for(var i=[],o=Et.$$annotate(e,t,r),a=0,l=o.length;a<l;a++){var c=o[a];if("string"!=typeof c)throw At("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:s(c,r))}return i}return{invoke:function(e,t,n,r){return"string"==typeof n&&(r=n,n=null),n=l(e,n,r),B(e)&&(e=e[e.length-1]),r=e,c<=11||"function"!=typeof r||!/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(r))?e.apply(t,n):(n.unshift(null),new(Function.prototype.bind.apply(e,n)))},instantiate:function(e,t,n){var r=B(e)?e[e.length-1]:e;return(n=l(e,t,n)).unshift(null),new(Function.prototype.bind.apply(r,n))},get:s,annotate:Et.$$annotate,has:function(t){return a.hasOwnProperty(t+i)||e.hasOwnProperty(t)}}}}function jt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function s(e){var t,r;e?(e.scrollIntoView(),Y(r=a.yOffset)?r=r():X(r)?(t=r[0],r="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):U(r)||(r=0),(r=r)&&(e=e.getBoundingClientRect().top,n.scrollBy(0,e-r))):n.scrollTo(0,0)}function a(e){var t,n,i;(e=V(e)?e:r.hash())?(t=o.getElementById(e))?s(t):(n=o.getElementsByName(e),i=null,Array.prototype.some.call(n,(function(e){if("a"===Z(e))return i=e,!0})),(t=i)?s(t):"top"===e&&s(null)):s(null)}return t&&i.$watch((function(){return r.hash()}),(function(t,n){var r;t===n&&""===t||(t=function(){i.$evalAsync(a)},"complete"===(r=r||e).document.readyState?r.setTimeout(t):d(r).on("load",t))})),a}]}Et.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw V(n)&&n||(n=e.name||((t=xt(t=e))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),At("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);C(xt(e)[1].split(Pt),(function(e){e.replace(Dt,(function(e,t,n){r.push(n)}))}))}e.$inject=r}}else B(e)?(ke(e[n=e.length-1],"fn"),r=e.slice(0,n)):ke(e,"fn",!0);return r};var It=r("$animate"),Rt="ng-animate";function Nt(e,t){return e||t?e?t?(B(e)&&(e=e.join(" ")),B(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ot(e){return N(e)?e:{}}function Vt(){this.$get=A}function Ut(){var e=new wt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:A,on:A,off:A,pin:A,push:function(s,a,l,c){c&&c(),(l=l||{}).from&&s.css(l.from),l.to&&s.css(l.to),(l.addClass||l.removeClass)&&(d=s,c=l.addClass,s=l.removeClass,c=i(l=e.get(d)||{},c,!0),s=i(l,s,!1),(c||s)&&(e.put(d,l),t.push(d),1===t.length&&r.$$postDigest(o)));var d=new n;return d.complete(),d}};function i(e,t,n){var r=!1;return t&&C(t=V(t)?t.split(" "):B(t)?t:[],(function(t){t&&(r=!0,e[t]=n)})),r}function o(){C(t,(function(t){var n,r,i,o=e.get(t);o&&(n=function(e){V(e)&&(e=e.split(" "));var t=Ae();return C(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),i=r="",C(o,(function(e,t){e!==!!n[t]&&(e?r+=(r.length?" ":"")+t:i+=(i.length?" ":"")+t)})),C(t,(function(e){r&&lt(e,r),i&&at(e,i)})),e.remove(t))})),t.length=0}}]}function Ft(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),1<t.length||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]}function Bt(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e,0,!1):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function r(){n!==e.length?e[n]((function(e){!1!==e?(n++,r()):t(!1)})):t(!0)}()},o.all=function(e,t){var n=0,r=!0;function i(i){r=r&&i,++n===e.length&&t(r)}C(e,(function(e){e.done(i)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:A,getPromise:function(){var t;return this.promise||((t=this).promise=e((function(e,n){t.done((function(t){(!1===t?n:e)()}))}))),this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(C(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]}function Yt(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var i=r||{};i.$$prepared||(i=te(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:a,end:a};function a(){return e((function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null),o||s.complete(),o=!0})),s}}}]}var Gt=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw It("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter&&new RegExp("(\\s+|\\/)"+Rt+"(\\s+|\\/)").test(this.$$classNameFilter.toString())))throw It("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Rt);return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){var r;n&&(!(r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n))||r.parentNode||r.previousElementSibling||(n=null)),n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&d(r),i=i&&d(i),t(n,r=r||i.parent(),i),e.push(n,"enter",Ot(o))},move:function(n,r,i,o){return r=r&&d(r),i=i&&d(i),t(n,r=r||i.parent(),i),e.push(n,"move",Ot(o))},leave:function(t,n){return e.push(t,"leave",Ot(n),(function(){t.remove()}))},addClass:function(t,n,r){return(r=Ot(r)).addClass=Nt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=Ot(r)).removeClass=Nt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return(i=Ot(i)).addClass=Nt(i.addClass,n),i.removeClass=Nt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return(o=Ot(o)).from=o.from?P(o.from,n):n,o.to=o.to?P(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=Nt(o.tempClasses,i),e.push(t,"animate",o)}}}]}];function Ht(e,t,n,r){var i=this,o=e.location,s=e.history,a=e.setTimeout,l=e.clearTimeout,c={};i.isMock=!1;var u=0,p=[];function m(e){try{e.apply(null,ae(arguments,1))}finally{if(0==--u)for(;p.length;)try{p.pop()()}catch(e){n.error(e)}}}i.$$completeOutstandingRequest=m,i.$$incOutstandingRequestCount=function(){u++},i.notifyWhenNoOutstandingRequests=function(e){0===u?e():p.push(e)};var h,g,f=o.href,v=t.find("base"),y=null,b=r.history?function(){try{return s.state}catch(e){}}:A;M(),g=h,i.url=function(t,n,a){if(I(a)&&(a=null),o!==e.location&&(o=e.location),s!==e.history&&(s=e.history),t){var l=g===a;if(f===t&&(!r.history||l))return i;var c=f&&Nn(f)===Nn(t);return f=t,g=a,!r.history||c&&l?(c&&!y||(y=t),n?o.replace(t):c?o.hash=-1===(c=(l=t).indexOf("#"))?"":l.substr(c):o.href=t,o.href!==t&&(y=t)):(s[n?"replaceState":"pushState"](a,"",t),M(),g=h),i}return y||o.href.replace(/%27/g,"'")},i.state=function(){return h};var S=[],_=!1;function $(){y=null,M(),T()}var w=null;function M(){re(h=I(h=b())?null:h,w)&&(h=w),w=h}function T(){f===i.url()&&g===h||(f=i.url(),g=h,C(S,(function(e){e(i.url(),h)})))}i.onUrlChange=function(t){return _||(r.history&&d(e).on("popstate",$),d(e).on("hashchange",$),_=!0),S.push(t),t},i.$$applicationDestroyed=function(){d(e).off("hashchange popstate",$)},i.$$checkUrlChange=T,i.baseHref=function(){var e=v.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},i.defer=function(e,t){var n;return u++,n=a((function(){delete c[n],m(e)}),t||0),c[n]=!0,n},i.defer.cancel=function(e){return!!c[e]&&(delete c[e],l(e),m(A),!0)}}function zt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ht(e,r,t,n)}]}function qt(){this.$get=function(){var e={};function t(t,n){if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,o=P({},n,{id:t}),s=Ae(),a=n&&n.capacity||Number.MAX_VALUE,l=Ae(),c=null,d=null;return e[t]={put:function(e,t){if(!I(t))return a<Number.MAX_VALUE&&u(l[e]||(l[e]={key:e})),e in s||i++,s[e]=t,a<i&&this.remove(d.key),t},get:function(e){if(a<Number.MAX_VALUE){var t=l[e];if(!t)return;u(t)}return s[e]},remove:function(e){if(a<Number.MAX_VALUE){var t=l[e];if(!t)return;t==c&&(c=t.p),t==d&&(d=t.n),p(t.n,t.p),delete l[e]}e in s&&(delete s[e],i--)},removeAll:function(){s=Ae(),i=0,l=Ae(),c=d=null},destroy:function(){l=o=s=null,delete e[t]},info:function(){return P({},o,{size:i})}};function u(e){e!=c&&(d?d==e&&(d=e.n):d=e,p(e.n,e.p),p(e,c),(c=e).n=null)}function p(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return C(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function Wt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var Qt=r("$compile");function Kt(e,r){var i={},o="Directive",l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=function(e){for(var t={},n="ngSrc,ngSrcset,src,srcset".split(","),r=0;r<n.length;r++)t[n[r]]=!0;return t}(),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,g=Ae();function v(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return C(e,(function(e,o){if(e in g)i[o]=g[e];else{var s=e.match(r);if(!s)throw Qt("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(g[e]=i[o])}})),i}this.directive=function t(n,r){return Pe(n,"directive"),V(n)?(function(e){var t=e.charAt(0);if(!t||t!==a(t))throw Qt("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Qt("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Te(r,"directiveFactory"),i.hasOwnProperty(n)||(i[n]=[],e.factory(n+o,["$injector","$exceptionHandler",function(e,t){var r=[];return C(i[n],(function(i,o){try{var s=e.invoke(i);Y(s)?s={compile:E(s)}:!s.compile&&s.link&&(s.compile=E(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",s.$$moduleName=i.$$moduleName,r.push(s)}catch(i){t(i)}})),r}])),i[n].push(r)):C(n,w(t)),this},this.component=function(e,t){var n=t.controller||A;function r(e){function r(t){return Y(t)||B(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=t.template||t.templateUrl?t.template:"";return{controller:n,controllerAs:rn(t.controller)||t.controllerAs||"$ctrl",template:r(i),templateUrl:r(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require}}return C(t,(function(e,t){"$"===t.charAt(0)&&(r[t]=e,n[t]=e)})),r.$inject=["$injector"],this.directive(e,r)},this.aHrefSanitizationWhitelist=function(e){return R(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return R(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var y=!0;this.debugInfoEnabled=function(e){return R(e)?(y=e,this):y};var b=10;this.onChangesTtl=function(e){return arguments.length?(b=e,this):b},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,r,g,S,_,$,w,M,T,k){var D,E=/^\w/,j=t.createElement("div"),R=b;function O(){try{if(!--R)throw D=n,Qt("infchng","{0} $onChanges() iterations reached. Aborting!\n",b);w.$apply((function(){for(var e=0,t=D.length;e<t;++e)D[e]();D=n}))}finally{R++}}function U(e,t){if(t)for(var n,r=Object.keys(t),i=0,o=r.length;i<o;i++)this[n=r[i]]=t[n];else this.$attr={};this.$$element=e}function F(e,t){try{e.addClass(t)}catch(e){}}U.prototype={$normalize:Xt,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Zt(e,t);n&&n.length&&T.addClass(this.$$element,n),(e=Zt(t,e))&&e.length&&T.removeClass(this.$$element,e)},$set:function(e,t,n,r){var i=yt(this.$$element[0],e),o=vt[e],s=e;if(i?(this.$$element.prop(e,t),r=i):o&&(this[o]=t,s=o),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=we(e,"-")),"a"===(i=Z(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===i&&"src"===e)this[e]=t=k(t,"src"===e);else if("img"===i&&"srcset"===e){for(var a="",l=(o=K(t),i=/\s/.test(o)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o.split(i)),c=Math.floor(l.length/2),d=0;d<c;d++){var u=2*d;a+=k(K(l[u]),!0),a+=" "+K(l[1+u])}i=K(l[2*d]).split(/\s/),a+=k(K(i[0]),!0),2===i.length&&(a+=" "+K(i[1])),this[e]=t=a}!1!==n&&(null===t||I(t)?this.$$element.removeAttr(r):E.test(r)?this.$$element.attr(r,t):function(e,t,n){j.innerHTML="<span "+t+">";var r=j.firstChild.attributes;t=r[0];r.removeNamedItem(t.name),t.value=n,e.attributes.setNamedItem(t)}(this.$$element[0],r,t)),(r=this.$$observers)&&C(r[s],(function(e){try{e(t)}catch(e){g(e)}}))},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Ae()),i=r[e]||(r[e]=[]);return i.push(t),w.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(e)||I(n[e])||t(n[e])})),function(){ee(i,t)}}};var G=r.startSymbol(),H=r.endSymbol(),W="{{"==G&&"}}"==H?x:function(e){return e.replace(/\{\{/g,G).replace(/}}/g,H)},Q=/^ngAttr[A-Z]/,J=/^(.+)Start$/;return X.$$addBindingInfo=y?function(e,t){var n=e.data("$binding")||[];B(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:A,X.$$addBindingClass=y?function(e){F(e,"ng-binding")}:A,X.$$addScopeInfo=y?function(e,t,n,r){r=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e.data(r,t)}:A,X.$$addScopeClass=y?function(e,t){F(e,t?"ng-isolate-scope":"ng-scope")}:A,X.$$createComment=function(e,n){return n=y?" "+(e||"")+": "+(n||"")+" ":"",t.createComment(n)},X;function X(e,n,r,i,o){e instanceof d||(e=d(e));for(var s=/\S+/,a=0,l=e.length;a<l;a++){var c=e[a];c.nodeType===xe&&c.nodeValue.match(s)&&Je(c,e[a]=t.createElement("span"))}var u=te(e,n,e,r,i,o);X.$$addScopeClass(e);var p=null;return function(t,n,r){Te(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new());var i,s=(r=r||{}).parentBoundTranscludeFn,a=r.transcludeControllers;r=r.futureParentElement;if(s&&s.$$boundTransclude&&(s=s.$$boundTransclude),i="html"!==(p=p||function(e){return(e=e&&e[0])&&"foreignobject"!==Z(e)&&f.call(e).match(/SVG/)?"svg":"html"}(r))?d(ve(p,d("<div>").append(e).html())):n?ht.clone.call(e):e,a)for(var l in a)i.data("$"+l+"Controller",a[l].instance);return X.$$addScopeInfo(i,t),n&&n(i,t),u&&u(t,i,i,s),i}}function te(e,t,r,i,o,s){for(var a,l,c,u,p,m=[],h=0;h<e.length;h++)c=new U,(a=(a=ie(e[h],[],c,0===h?i:n,o)).length?ce(a,e[h],c,t,r,null,[],[],s):null)&&a.scope&&X.$$addScopeClass(c.$$element),c=a&&a.terminal||!(l=e[h].childNodes)||!l.length?null:te(l,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:t),(a||c)&&(m.push(h,a,c),u=!0,p=p||a),s=null;return u?function(e,r,i,o){var s,a,l,c,u,h,g,f;if(p){var v=r.length;for(f=new Array(v),u=0;u<m.length;u+=3)f[g=m[u]]=r[g]}else f=r;for(u=0,h=m.length;u<h;)l=f[m[u++]],s=m[u++],a=m[u++],s?(s.scope?(c=e.$new(),X.$$addScopeInfo(d(l),c)):c=e,s(a,c,l,i,s.transcludeOnThisElement?ne(e,s.transclude,o):!s.templateOnThisElement&&o?o:!o&&t?ne(e,t):null)):a&&a(e,l.childNodes,n,o)}:null}function ne(e,t,n){function r(r,i,o,s,a){return r||((r=e.$new(!1,a)).$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var i,o=r.$$slots=Ae();for(i in t.$$slots)t.$$slots[i]?o[i]=ne(e,t.$$slots[i],n):o[i]=null;return r}function ie(t,n,s,a,d){var m,g,f,v,y,b=t.nodeType,S=s.$attr;switch(b){case 1:pe(n,Xt(Z(t)),"E",a,d);for(var _,C=t.attributes,$=0,w=C&&C.length;$<w;$++){var T,k=!1,P=!1,D=(T=C[$]).name,L=K(T.value),A=Xt(D);(T=Q.test(A))&&(D=D.replace(Jt,"").substr(8).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))),(A=A.match(J))&&function(t){if(i.hasOwnProperty(t))for(var n=e.get(t+o),r=0,s=n.length;r<s;r++)if(n[r].multiElement)return!0;return!1}(A[1])&&(P=(k=D).substr(0,D.length-5)+"end",D=D.substr(0,D.length-6)),S[_=Xt(D.toLowerCase())]=D,!T&&s.hasOwnProperty(_)||(s[_]=L,yt(t,_)&&(s[_]=!0)),function(e,t,n,i,o){var s=function(e,t){return"srcdoc"==t?M.HTML:(e=Z(e),"xlinkHref"==t||"form"==e&&"action"==t||"img"!=e&&("src"==t||"ngSrc"==t)?M.RESOURCE_URL:void 0)}(e,i);o=p[i]||o;var a=r(n,!0,s,o);if(a){if("multiple"===i&&"select"===Z(e))throw Qt("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ge(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=Ae());if(h.test(i))throw Qt("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var d=l[i];d!==n&&(a=d&&r(d,!0,s,o),n=d),a&&(l[i]=a(e),(c[i]||(c[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(a,(function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)})))}}}})}}(t,n,L,_,T),pe(n,_,"A",a,d,k,P)}if(N(g=t.className)&&(g=g.animVal),V(g)&&""!==g)for(;m=u.exec(g);)pe(n,_=Xt(m[2]),"C",a,d)&&(s[_]=K(m[3])),g=g.substr(m.index+m[0].length);break;case xe:if(11===c)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===xe;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);f=n,v=t.nodeValue,(y=r(v,!0))&&f.push({priority:0,compile:function(e){var t=!!(e=e.parent()).length;return t&&X.$$addBindingClass(e),function(e,n){var r=n.parent();t||X.$$addBindingClass(r),X.$$addBindingInfo(r,y.expressions),e.$watch(y,(function(e){n[0].nodeValue=e}))}}});break;case 8:try{(m=l.exec(t.nodeValue))&&pe(n,_=Xt(m[1]),"M",a,d)&&(s[_]=K(m[2]))}catch(t){}}return n.sort(he),n}function oe(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Qt("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n)}while(1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling,0<i)}else r.push(e);return d(r)}function se(e,t,n){return function(r,i,o,s,a){return i=oe(i[0],t,n),e(r,i,o,s,a)}}function le(e,t,n,r,i,o){var s;return e?X(t,n,r,i,o):function(){return s||(s=X(t,n,r,i,o),t=n=o=null),s.apply(this,arguments)}}function ce(e,t,r,i,o,s,a,l,c){c=c||{};for(var u,p,m,h,f=-Number.MAX_VALUE,v=c.newScopeDirective,y=c.controllerDirectives,b=c.newIsolateScopeDirective,_=c.templateDirective,w=c.nonTlbTranscludeDirective,M=!1,T=!1,k=c.hasElementTranscludeDirective,D=r.$$element=d(t),A=s,x=i,E=!1,j=!1,R=0,O=e.length;R<O;R++){var V=(u=e[R]).$$start,G=u.$$end;if(V&&(D=oe(t,V,G)),J=n,f>u.priority)break;if((h=u.scope)&&(u.templateUrl||(N(h)?(fe("new/isolated scope",b||v,u,D),b=u):fe("new/isolated scope",b,u,D)),v=v||u),p=u.name,!E&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var H,q=R+1;H=e[q++];)if(H.transclude&&!H.$$tlb||H.replace&&(H.templateUrl||H.template)){j=!0;break}E=!0}if(!u.templateUrl&&u.controller&&(h=u.controller,y=y||Ae(),fe("'"+p+"' controller",y[p],u,D),y[p]=u),h=u.transclude)if(M=!0,u.$$tlb||(fe("transclusion",w,u,D),w=u),"element"==h)k=!0,f=u.priority,J=D,D=r.$$element=d(X.$$createComment(p,r[p])),t=D[0],ye(o,ae(J),t),J[0].$$parentNode=J[0].parentNode,x=le(j,J,i,f,A&&A.name,{nonTlbTranscludeDirective:w});else{var Q=Ae(),J=d(et(t)).contents();if(N(h)){J=[];var ee,re=Ae(),pe=Ae();for(ee in C(h,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,re[e]=t,Q[t]=null,pe[t]=n})),C(D.contents(),(function(e){var t=re[Xt(Z(e))];t?(pe[t]=!0,Q[t]=Q[t]||[],Q[t].push(e)):J.push(e)})),C(pe,(function(e,t){if(!e)throw Qt("reqslot","Required transclusion slot `{0}` was not filled.",t)})),Q)Q[ee]&&(Q[ee]=le(j,Q[ee],i))}D.empty(),(x=le(j,J,i,n,n,{needsNewScope:u.$$isolateScope||u.$$newScope})).$$slots=Q}if(u.template)if(T=!0,fe("template",_,u,D),h=Y((_=u).template)?u.template(D,r):u.template,h=W(h),u.replace){if(A=u,J=We(h)?[]:en(ve(u.templateNamespace,K(h))),t=J[0],1!=J.length||1!==t.nodeType)throw Qt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");ye(o,D,t);var he={$attr:{}},Ce=ie(t,[],he),$e=e.splice(R+1,e.length-(R+1));(b||v)&&ue(Ce,b,v),e=e.concat(Ce).concat($e),me(r,he),O=e.length}else D.html(h);if(u.templateUrl)T=!0,fe("template",_,u,D),(_=u).replace&&(A=u),Me=function(e,t,n,r,i,o,s,a){var l,c,u=[],p=t[0],m=e.shift(),h=L(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),g=Y(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,f=m.templateNamespace;return t.empty(),S(g).then((function(v){var y,b;if(v=W(v),m.replace){if(S=We(v)?[]:en(ve(f,K(v))),y=S[0],1!=S.length||1!==y.nodeType)throw Qt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,g);b={$attr:{}},ye(r,t,y);var S=ie(y,[],b);N(m.scope)&&ue(S,!0),e=S.concat(e),me(n,b)}else y=p,t.html(v);for(e.unshift(h),l=ce(e,y,n,i,t,m,o,s,a),C(r,(function(e,n){e==y&&(r[n]=t[0])})),c=te(t[0].childNodes,i);u.length;){var _,$=u.shift(),w=u.shift(),M=u.shift(),T=u.shift(),k=t[0];$.$$destroyed||(w!==p&&(_=w.className,a.hasElementTranscludeDirective&&m.replace||(k=et(y)),ye(M,d(w),k),F(d(k),_)),T=l.transcludeOnThisElement?ne($,l.transclude,T):T,l(c,$,k,r,T))}u=null})),function(e,t,n,r,i){var o=i;t.$$destroyed||(u?u.push(t,n,r,o):(l.transcludeOnThisElement&&(o=ne(t,l.transclude,i)),l(c,t,n,r,o)))}}(e.splice(R,e.length-R),D,r,o,M&&x,a,l,{controllerDirectives:y,newScopeDirective:v!==u&&v,newIsolateScopeDirective:b,templateDirective:_,nonTlbTranscludeDirective:w}),O=e.length;else if(u.compile)try{Y(m=u.compile(D,r,x))?we(null,m,V,G):m&&we(m.pre,m.post,V,G)}catch(e){g(e,ge(D))}u.terminal&&(Me.terminal=!0,f=Math.max(f,u.priority))}return Me.scope=v&&!0===v.scope,Me.transcludeOnThisElement=M,Me.templateOnThisElement=T,Me.transclude=x,c.hasElementTranscludeDirective=k,Me;function we(e,t,n,r){e&&(n&&(e=se(e,n,r)),e.require=u.require,e.directiveName=p,b!==u&&!u.$$isolateScope||(e=be(e,{isolateScope:!0})),a.push(e)),t&&(n&&(t=se(t,n,r)),t.require=u.require,t.directiveName=p,b!==u&&!u.$$isolateScope||(t=be(t,{isolateScope:!0})),l.push(t))}function Me(e,i,o,s,c){var u,p,m,h,g,f,S,w,M,T,D,L;for(L in t===o?w=(M=r).$$element:M=new U(w=d(o),r),g=i,b?h=i.$new(!0):v&&(g=i.$parent),c&&((S=function(e,t,r,i){var o;if(z(e)||(i=r,r=t,t=e,e=n),k&&(o=f),r=r||(k?w.parent():w),!i)return c(e,t,o,r,R);var s=c.$$slots[i];if(s)return s(e,t,o,r,R);if(I(s))throw Qt("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,ge(w))}).$$boundTransclude=c,S.isSlotFilled=function(e){return!!c.$$slots[e]}),y&&(f=function(e,t,n,r,i,o,s){var a,l=Ae();for(a in r){var c=r[a],d={$scope:c===s||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"==u&&(u=t[c.name]),d=$(u,d,!0,c.controllerAs),l[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return l}(w,M,S,y,h,i,b)),b&&(X.$$addScopeInfo(w,h,!0,!(_&&(_===b||_===b.$$originalDirective))),X.$$addScopeClass(w,!0),h.$$isolateBindings=b.$$isolateBindings,(T=_e(i,M,h,h.$$isolateBindings,b))&&h.$on("$destroy",T)),f){var A=y[L],x=f[L],E=A.$$bindings.bindToController;x.identifier&&E&&(D=_e(g,M,x.instance,E,A));var j=x();j!==x.instance&&(x.instance=j,w.data("$"+A.name+"Controller",j),D&&D(),D=_e(g,M,x.instance,E,A))}for(C(y,(function(e,t){var n=e.require;e.bindToController&&!B(n)&&N(n)&&P(f[t].instance,de(t,n,w,f))})),C(f,(function(e){var t=e.instance;Y(t.$onInit)&&t.$onInit(),Y(t.$onDestroy)&&g.$on("$destroy",(function(){t.$onDestroy()}))})),u=0,p=a.length;u<p;u++)Se(m=a[u],m.isolateScope?h:i,w,M,m.require&&de(m.directiveName,m.require,w,f),S);var R=i;for(b&&(b.template||null===b.templateUrl)&&(R=h),e&&e(R,o.childNodes,n,c),u=l.length-1;0<=u;u--)Se(m=l[u],m.isolateScope?h:i,w,M,m.require&&de(m.directiveName,m.require,w,f),S);C(f,(function(e){Y((e=e.instance).$postLink)&&e.$postLink()}))}}function de(e,t,n,r){if(V(t)){var i,o=t.match(m),s=t.substring(o[0].length),a=o[1]||o[3],l="?"===o[2];if("^^"===a?n=n.parent():i=(i=r&&r[s])&&i.instance,i||(o="$"+s+"Controller",i=a?n.inheritedData(o):n.data(o)),!i&&!l)throw Qt("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(B(t)){i=[];for(var c=0,d=t.length;c<d;c++)i[c]=de(e,t[c],n,r)}else N(t)&&(i={},C(t,(function(t,o){i[o]=de(e,t,n,r)})));return i||null}function ue(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=L(e[r],{$$isolateScope:t,$$newScope:n})}function pe(t,n,r,s,a,l,c){if(n!==a){var d=null;if(i.hasOwnProperty(n))for(var u=e.get(n+o),p=0,m=u.length;p<m;p++)try{var h,f=u[p];(I(s)||s>f.priority)&&-1!=f.restrict.indexOf(r)&&(l&&(f=L(f,{$$start:l,$$end:c})),f.$$bindings||(h=f.$$bindings=function(e,t){var n={isolateScope:null,bindToController:null};if(N(e.scope)&&(!0===e.bindToController?(n.bindToController=v(e.scope,t,!0),n.isolateScope={}):n.isolateScope=v(e.scope,t,!1)),N(e.bindToController)&&(n.bindToController=v(e.bindToController,t,!0)),N(n.bindToController)){var r=e.controller;e=e.controllerAs;if(!r)throw Qt("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!rn(r,e))throw Qt("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}(f,f.name),N(h.isolateScope)&&(f.$$isolateBindings=h.isolateScope)),t.push(f),d=f)}catch(t){g(t)}return d}}function me(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;C(e,(function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))})),C(t,(function(t,o){"class"==o?(F(i,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])}))}function he(e,t){var n=t.priority-e.priority;return 0!=n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function fe(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Qt("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,ge(r))}function ve(e,n){switch(e=a(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function ye(e,n,r){var i,o=n[0],s=n.length,a=o.parentNode;if(e)for(m=0,i=e.length;m<i;m++)if(e[m]==o){e[m++]=r;for(var l=m,c=l+s-1,u=e.length;l<u;l++,c++)c<u?e[l]=e[c]:delete e[l];e.length-=s-1,e.context===o&&(e.context=r);break}a&&a.replaceChild(r,o);for(var p=t.createDocumentFragment(),m=0;m<s;m++)p.appendChild(n[m]);for(d.hasData(o)&&(d.data(r,d.data(o)),d(o).off("$destroy")),d.cleanData(p.querySelectorAll("*")),m=1;m<s;m++)delete n[m];n[0]=r,n.length=1}function be(e,t){return P((function(){return e.apply(null,arguments)}),e,t)}function Se(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){g(e,ge(n))}}function _e(e,t,i,o,a){var l,c=[];function d(t,n,r){Y(i.$onChanges)&&n!==r&&(D||(e.$$postDigest(O),D=[]),l||(l={},D.push(u)),l[t]&&(r=l[t].previousValue),l[t]={previousValue:r,currentValue:n})}function u(){i.$onChanges(l),l=n}return C(o,(function(n,o){var l,u,p,m,h=n.attrName,g=n.optional;switch(n.mode){case"@":g||s.call(t,h)||(i[o]=t[h]=void 0),t.$observe(h,(function(e){var t;V(e)&&(t=i[o],d(o,e,t),i[o]=e)})),t.$$observers[h].$$scope=e,V(l=t[h])?i[o]=r(l)(e):q(l)&&(i[o]=l);break;case"=":if(!s.call(t,h)){if(g)break;t[h]=void 0}if(g&&!t[h])break;u=_(t[h]),m=u.literal?re:function(e,t){return e===t||e!=e&&t!=t},p=u.assign||function(){throw l=i[o]=u(e),Qt("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[h],h,a.name)},l=i[o]=u(e);var f=function(t){return m(t,i[o])||(m(t,l)?p(e,t=i[o]):i[o]=t),l=t};f.$stateful=!0,f=n.collection?e.$watchCollection(t[h],f):e.$watch(_(t[h],f),null,u.literal),c.push(f);break;case"<":if(!s.call(t,h)){if(g)break;t[h]=void 0}if(g&&!t[h])break;u=_(t[h]),i[o]=u(e),f=e.$watch(u,(function(e){var t=i[o];d(o,e,t),i[o]=e}),u.literal),c.push(f);break;case"&":if((u=t.hasOwnProperty(h)?_(t[h]):A)===A&&g)break;i[o]=function(t){return u(e,t)}}})),c.length&&function(){for(var e=0,t=c.length;e<t;++e)c[e]()}}}]}Kt.$inject=["$provide","$$sanitizeUriProvider"];var Jt=/^((?:x|data)[\:\-_])/i;function Xt(e){return Be(e.replace(Jt,""))}function Zt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue e;n+=(0<n.length?" ":"")+s}return n}function en(e){var t=(e=d(e)).length;if(t<=1)return e;for(;t--;)8===e[t].nodeType&&h.call(e,t,1);return e}var tn=r("$controller"),nn=/^(\S+)(\s+as\s+([\w$]+))?$/;function rn(e,t){return t&&V(t)?t:V(e)&&(e=nn.exec(e))?e[3]:void 0}function on(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Pe(t,"controller"),N(t)?P(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){return function(r,a,l,c){var d,u;if(l=!0===l,c&&V(c)&&(u=c),V(r)){if(!(c=r.match(nn)))throw tn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);d=c[1],u=u||c[3],ke(r=e.hasOwnProperty(d)?e[d]:De(a.$scope,d,!0)||(t?De(o,d,!0):n),d,!0)}if(l){l=(B(r)?r[r.length-1]:r).prototype;var p=Object.create(l||null);return u&&s(a,u,p,d||r.name),P((function(){var e=i.invoke(r,p,a,d);return e!==p&&(N(e)||Y(e))&&(p=e,u&&s(a,u,p,d||r.name)),p}),{instance:p,identifier:u})}return p=i.instantiate(r,a,d),u&&s(a,u,p,d||r.name),p};function s(e,t,n,i){if(!e||!N(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function sn(){this.$get=["$window",function(e){return d(e.document)}]}function an(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function ln(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof d&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]}var cn="application/json",dn={"Content-Type":cn+";charset=utf-8"},un=/^\[|^\{(?!\{)/,pn={"[":/]$/,"{":/}$/},mn=/^\)\]\}',?\n/,hn=r("$http"),gn=function(e){return function(){throw hn("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}};function fn(e){return N(e)?F(e)?e.toISOString():de(e):e}function vn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return $(e,(function(e,n){null===e||I(e)||(B(e)?C(e,(function(e){t.push(Se(n)+"="+Se(fn(e)))})):t.push(Se(n)+"="+Se(fn(e))))})),t.join("&")}}}function yn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,r,i){null===n||I(n)||(B(n)?C(n,(function(t,n){e(t,r+"["+(N(t)?n:"")+"]")})):N(n)&&!F(n)?$(n,(function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))})):t.push(Se(r)+"="+Se(fn(n))))}(e,"",!0),t.join("&")}}}function bn(e,t){var n,r;return V(e)&&(!(n=e.replace(mn,"").trim())||((r=t("Content-Type"))&&0===r.indexOf(cn)||(r=(t=n).match(un))&&pn[r[0]].test(t))&&(e=ue(n))),e}function Sn(e){var t,n=Ae();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return V(e)?C(e.split("\n"),(function(e){t=e.indexOf(":"),r(a(K(e.substr(0,t))),K(e.substr(t+1)))})):N(e)&&C(e,(function(e,t){r(a(t),K(e))})),n}function _n(e){var t;return function(n){return t=t||Sn(e),n?(void 0===(n=t[a(n)])&&(n=null),n):t}}function Cn(e,t,n,r){return Y(r)?r(e,t,n):(C(r,(function(r){e=r(e,t,n)})),e)}function $n(e){return 200<=e&&e<300}function wn(){var e=this.defaults={transformResponse:[bn],transformRequest:[function(e){return N(e)&&(n=e,"[object File]"!==f.call(n))&&(t=e,"[object Blob]"!==f.call(t))&&(t=e,"[object FormData]"!==f.call(t))?de(e):e;var t,n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ne(dn),put:ne(dn),patch:ne(dn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return R(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return R(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,c,d,u,p,m){var h=d("$http");e.paramSerializer=V(e.paramSerializer)?m.get(e.paramSerializer):e.paramSerializer;var g=[];function f(o){if(!N(o))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",o);if(!V(o.url))throw r("$http")("badreq","Http request configuration url must be a string.  Received: {0}",o.url);var d=P({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},o);d.headers=function(t){var n,r,i,o=e.headers,s=P({},t.headers);e:for(n in o=P({},o.common,o[a(t.method)])){for(i in r=a(n),s)if(a(i)===r)continue e;s[n]=o[n]}return function(e,t){var n,r={};return C(e,(function(e,i){Y(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e})),r}(s,ne(t))}(o),d.method=l(d.method),d.paramSerializer=V(d.paramSerializer)?m.get(d.paramSerializer):d.paramSerializer;var v=[function(r){var i=r.headers,o=Cn(r.data,_n(i),n,r.transformRequest);return I(o)&&C(i,(function(e,t){"content-type"===a(t)&&delete i[t]})),I(r.withCredentials)&&!I(e.withCredentials)&&(r.withCredentials=e.withCredentials),function(r,i){var o,a,l=p.defer(),d=l.promise,m=r.headers,g=function(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}(r.url,r.paramSerializer(r.params));return f.pendingRequests.push(r),d.then(b,b),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(o=N(r.cache)?r.cache:N(e.cache)?e.cache:h),o&&(R(a=o.get(g))?W(a)?a.then(y,y):B(a)?v(a[1],a[0],ne(a[2]),a[3]):v(a,200,{},"OK"):o.put(g,d)),I(a)&&((a=Fr(r.url)?c()[r.xsrfCookieName||e.xsrfCookieName]:n)&&(m[r.xsrfHeaderName||e.xsrfHeaderName]=a),s(r.method,g,i,(function(e,n,r,i){function s(){v(n,e,r,i)}o&&($n(e)?o.put(g,[e,n,Sn(r),i]):o.remove(g)),t?u.$applyAsync(s):(s(),u.$$phase||u.$apply())}),m,r.timeout,r.withCredentials,r.responseType)),d;function v(e,t,n,i){($n(t=-1<=t?t:0)?l.resolve:l.reject)({data:e,status:t,headers:_n(n),config:r,statusText:i})}function y(e){v(e.data,e.status,ne(e.headers()),e.statusText)}function b(){var e=f.pendingRequests.indexOf(r);-1!==e&&f.pendingRequests.splice(e,1)}}(r,o).then(_,_)},n],y=p.when(d);for(C(g,(function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)}));v.length;){var b=v.shift(),S=v.shift();y=y.then(b,S)}return i?(y.success=function(e){return ke(e,"fn"),y.then((function(t){e(t.data,t.status,t.headers,d)})),y},y.error=function(e){return ke(e,"fn"),y.then(null,(function(t){e(t.data,t.status,t.headers,d)})),y}):(y.success=gn("success"),y.error=gn("error")),y;function _(e){var t=P({},e);return t.data=Cn(e.data,e.headers,e.status,d.transformResponse),$n(e.status)?t:p.reject(t)}}return C(o,(function(e){g.unshift(V(e)?m.get(e):m.invoke(e))})),f.pendingRequests=[],function(){C(arguments,(function(e){f[e]=function(t,n){return f(P({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(){C(arguments,(function(e){f[e]=function(t,n,r){return f(P({},r||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),f.defaults=e,f}]}function Mn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Tn(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return o=r,s=(i=e).defer,l=t.angular.callbacks,c=n[0],function(e,t,n,r,d,u,p,m){if(i.$$incOutstandingRequestCount(),t=t||i.url(),"jsonp"==a(e)){var h="_"+(l.counter++).toString(36);l[h]=function(e){l[h].data=e,l[h].called=!0};var g=(v=t.replace("JSON_CALLBACK","angular.callbacks."+h),y=h,b=function(e,t){M(r,e,l[h].data,"",t),l[h]=A},S=c.createElement("script"),_=null,S.type="text/javascript",S.src=v,S.async=!0,_=function(e){Ne(S,"load",_),Ne(S,"error",_),c.body.removeChild(S),S=null;var t=-1,n="unknown";e&&("load"!==e.type||l[y].called||(e={type:"error"}),n=e.type,t="error"===e.type?404:200),b&&b(t,n)},Re(S,"load",_),Re(S,"error",_),c.body.appendChild(S),_)}else{var f=o(e,t);if(f.open(e,t,!0),C(d,(function(e,t){R(e)&&f.setRequestHeader(t,e)})),f.onload=function(){var e=f.statusText||"",n="response"in f?f.response:f.responseText,i=1223===f.status?204:f.status;0===i&&(i=n?200:"file"==Ur(t).protocol?404:0),M(r,i,n,f.getAllResponseHeaders(),e)},d=function(){M(r,-1,null,null,"")},f.onerror=d,f.onabort=d,p&&(f.withCredentials=!0),m)try{f.responseType=m}catch(e){if("json"!==m)throw e}f.send(I(n)?null:n)}var v,y,b,S,_,$;function w(){g&&g(),f&&f.abort()}function M(e,t,n,r,o){R($)&&s.cancel($),g=f=null,e(t,n,r,o),i.$$completeOutstandingRequest(A)}0<u?$=s(w,u):W(u)&&u.then(w)};var i,o,s,l,c}]}var kn=b.$interpolateMinErr=r("$interpolate");function Pn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=e.length,s=t.length,a=new RegExp(e.replace(/./g,c),"g"),l=new RegExp(t.replace(/./g,c),"g");function c(e){return"\\\\\\"+e}function d(n){return n.replace(a,e).replace(l,t)}function u(e,t,n,r){var i;return i=e.$watch((function(e){return i(),r(e)}),t,n)}function p(a,l,c,p){var m;if(!a.length||-1===a.indexOf(e))return l||((m=E(d(a))).exp=a,m.expressions=[],m.$$watchDelegate=u),m;p=!!p;for(var h,g,f=0,v=[],y=[],b=a.length,S=[],_=[];f<b;){if(-1==(g=a.indexOf(e,f))||-1==(h=a.indexOf(t,g+o))){f!==b&&S.push(d(a.substring(f)));break}f!==g&&S.push(d(a.substring(f,g))),g=a.substring(g+o,h),v.push(g),y.push(n(g,w)),f=h+s,_.push(S.length),S.push("")}if(c&&1<S.length&&kn.throwNoconcat(a),!l||v.length){var C=function(e){for(var t=0,n=v.length;t<n;t++){if(p&&I(e[t]))return;S[_[t]]=e[t]}return S.join("")},$=function(e){return c?i.getTrusted(c,e):i.valueOf(e)};return P((function(e){var t=0,n=v.length,i=new Array(n);try{for(;t<n;t++)i[t]=y[t](e);return C(i)}catch(e){r(kn.interr(a,e))}}),{exp:a,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,(function(r,i){var o=C(r);Y(t)&&t.call(this,o,r!==i?n:o,e),n=o}))}})}function w(e){try{return e=$(e),p&&!R(e)?e:function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=de(e)}return e}(e)}catch(e){r(kn.interr(a,e))}}}return p.startSymbol=function(){return e},p.endSymbol=function(){return t},p}]}function Dn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){var o={};function s(s,a,l,c){var d=4<arguments.length,u=d?ae(arguments,4):[],p=t.setInterval,m=t.clearInterval,h=0,g=R(c)&&!c,f=(g?r:n).defer(),v=f.promise;return l=R(l)?l:0,v.$$intervalId=p((function(){g?i.defer(y):e.$evalAsync(y),f.notify(h++),0<l&&l<=h&&(f.resolve(h),m(v.$$intervalId),delete o[v.$$intervalId]),g||e.$apply()}),a),o[v.$$intervalId]=f,v;function y(){d?s.apply(null,u):s(h)}}return s.cancel=function(e){return!(!e||!(e.$$intervalId in o)||(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],0))},s}]}kn.throwNoconcat=function(e){throw kn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},kn.interr=function(e,t){return kn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Ln=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,An={http:80,https:443,ftp:21},xn=r("$location");function En(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=be(t[n]);return t.join("/")}function jn(e,t){e=Ur(e),t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=D(e.port)||An[e.protocol]||null}function In(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e),e=Ur(e),t.$$path=decodeURIComponent(n&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),t.$$search=ve(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Rn(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Nn(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function On(e){return e.replace(/(#.+)|#$/,"$1")}function Vn(e,t,n){this.$$html5=!0,n=n||"",jn(e,this),this.$$parse=function(e){var n=Rn(t,e);if(!V(n))throw xn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);In(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ye(this.$$search),n=this.$$hash?"#"+be(this.$$hash):"";this.$$url=En(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(R(i=Rn(e,r))?o=R(i=Rn(n,o=i))?t+(Rn("/",i)||i):e+o:R(i=Rn(t,r))?o=t+i:t==r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o}}function Un(e,t,n){jn(e,this),this.$$parse=function(r){var i,o=Rn(e,r)||Rn(t,r);I(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",I(o)&&(e=r,this.replace())):I(i=Rn(n,o))&&(i=o),In(i,this),this.$$path=function(e,t,n){var r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(r=r.exec(e))?r[1]:e}(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=ye(this.$$search),r=this.$$hash?"#"+be(this.$$hash):"";this.$$url=En(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Nn(e)==Nn(t)&&(this.$$parse(t),!0)}}function Fn(e,t,n){this.$$html5=!0,Un.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e==Nn(r)?o=r:(i=Rn(t,r))?o=e+n+i:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o},this.$$compose=function(){var t=ye(this.$$search),r=this.$$hash?"#"+be(this.$$hash):"";this.$$url=En(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}var Bn={$$html5:!1,$$replace:!1,absUrl:Yn("$$absUrl"),url:function(e){if(I(e))return this.$$url;var t=Ln.exec(e);return!t[1]&&""!==e||this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Yn("$$protocol"),host:Yn("$$host"),port:Yn("$$port"),path:Gn("$$path",(function(e){return"/"==(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(V(e)||U(e))e=e.toString(),this.$$search=ve(e);else{if(!N(e))throw xn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");C(e=te(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:I(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Gn("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function Yn(e){return function(){return this[e]}}function Gn(e,t){return function(n){return I(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Hn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return R(t)?(e=t,this):e},this.html5Mode=function(e){return q(e)?(t.enabled=e,this):N(e)?(q(e.enabled)&&(t.enabled=e.enabled),q(e.requireBase)&&(t.requireBase=e.requireBase),q(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){var a,l,c=r.baseHref(),u=r.url();if(t.enabled){if(!c&&t.requireBase)throw xn("nobase","$location in HTML5 mode requires a <base> tag to be present!");a=(l=u).substring(0,l.indexOf("/",l.indexOf("//")+2))+(c||"/"),l=i.history?Vn:Fn}else a=Nn(u),l=Un;var p,m=(c=a).substr(0,Nn(c).lastIndexOf("/")+1);(p=new l(a,m,"#"+e)).$$parseLinkUrl(u,u),p.$$state=r.state();var h=/^\s*(javascript|mailto):/i;function g(e,t,n){var i=p.url(),o=p.$$state;try{r.url(e,t,n),p.$$state=r.state()}catch(e){throw p.url(i),p.$$state=o,e}}o.on("click",(function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=d(e.target);"a"!==Z(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var a=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");N(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Ur(a.animVal).href),h.test(a)||!a||i.attr("target")||e.isDefaultPrevented()||p.$$parseLinkUrl(a,l)&&(e.preventDefault(),p.absUrl()!=r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}})),On(p.absUrl())!=On(u)&&r.url(p.absUrl(),!0);var f=!0;return r.onUrlChange((function(e,t){I(Rn(m,e))?s.location.href=e:(n.$evalAsync((function(){var r,i=p.absUrl(),o=p.$$state;e=On(e),p.$$parse(e),p.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,p.absUrl()===e&&(r?(p.$$parse(i),p.$$state=o,g(i,!1,o)):(f=!1,v(i,o)))})),n.$$phase||n.$digest())})),n.$watch((function(){var e=On(r.url()),t=On(p.absUrl()),o=r.state(),s=p.$$replace,a=e!==t||p.$$html5&&i.history&&o!==p.$$state;(f||a)&&(f=!1,n.$evalAsync((function(){var t=p.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,p.$$state,o).defaultPrevented;p.absUrl()===t&&(r?(p.$$parse(e),p.$$state=o):(a&&g(t,s,o===p.$$state?null:p.$$state),v(e,o)))}))),p.$$replace=!1})),p;function v(e,t){n.$broadcast("$locationChangeSuccess",p.absUrl(),e,p.$$state,t)}}]}function zn(){var e=!0,t=this;this.debugEnabled=function(t){return R(t)?(e=t,this):e},this.$get=["$window",function(n){return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:(r=i("debug"),function(){e&&r.apply(t,arguments)})};var r;function i(e){var t=n.console||{},r=t[e]||t.log||A,i=!1;try{i=!!r.apply}catch(e){}return i?function(){var e=[];return C(arguments,(function(t){e.push(((t=t)instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t))})),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}}]}C([Fn,Un,Vn],(function(e){e.prototype=Object.create(Bn),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Vn||!this.$$html5)throw xn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=I(t)?null:t,this}}));var qn=r("$parse");function Wn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw qn("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Qn(e){return e+""}function Kn(e,t){if(e){if(e.constructor===e)throw qn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw qn("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw qn("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw qn("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}var Jn=Function.prototype.call,Xn=Function.prototype.apply,Zn=Function.prototype.bind;function er(e,t){if(e){if(e.constructor===e)throw qn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Jn||e===Xn||e===Zn)throw qn("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function tr(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw qn("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}var nr=Ae();C("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){nr[e]=!0}));var rr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ir=function(e){this.options=e};ir.prototype={constructor:ir,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t,n,r,i,o,s=this.text.charAt(this.index);'"'===s||"'"===s?this.readString(s):this.isNumber(s)||"."===s&&this.isNumber(this.peek())?this.readNumber():this.isIdent(s)?this.readIdent():this.is(s,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:s}),this.index++):this.isWhitespace(s)?this.index++:(n=(t=s+this.peek())+this.peek(2),r=nr[s],i=nr[t],o=nr[n],r||i||o?(s=o?n:i?t:s,this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,n=R(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,qn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=a(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o,s=this.text.charAt(this.index);if(r+=s,i)"u"===s?((o=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n+=rr[s]||s,i=!1;else if("\\"===s)i=!0;else{if(s===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=s}this.index++}this.throwError("Unterminated quote",t)}};var or=function(e,t){this.lexer=e,this.options=t};function sr(e,t){return void 0!==e?e:t}function ar(e,t){return void 0===e?t:void 0===t?e:e+t}function lr(e,t){return!e(t).$stateful}function cr(e,t){var n,r;switch(e.type){case or.Program:n=!0,C(e.body,(function(e){cr(e.expression,t),n=n&&e.expression.constant})),e.constant=n;break;case or.Literal:e.constant=!0,e.toWatch=[];break;case or.UnaryExpression:cr(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case or.BinaryExpression:cr(e.left,t),cr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case or.LogicalExpression:cr(e.left,t),cr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case or.ConditionalExpression:cr(e.test,t),cr(e.alternate,t),cr(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case or.Identifier:e.constant=!1,e.toWatch=[e];break;case or.MemberExpression:cr(e.object,t),e.computed&&cr(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case or.CallExpression:n=!!e.filter&&lr(t,e.callee.name),r=[],C(e.arguments,(function(e){cr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)})),e.constant=n,e.toWatch=e.filter&&lr(t,e.callee.name)?r:[e];break;case or.AssignmentExpression:cr(e.left,t),cr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case or.ArrayExpression:n=!0,r=[],C(e.elements,(function(e){cr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)})),e.constant=n,e.toWatch=r;break;case or.ObjectExpression:n=!0,r=[],C(e.properties,(function(e){cr(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)})),e.constant=n,e.toWatch=r;break;case or.ThisExpression:case or.LocalsExpression:e.constant=!1,e.toWatch=[]}}function dr(e){if(1==e.length){var t=e[0].expression;return 1!==(e=t.toWatch).length||e[0]!==t?e:n}}function ur(e){return e.type===or.Identifier||e.type===or.MemberExpression}function pr(e){if(1===e.body.length&&ur(e.body[0].expression))return{type:or.AssignmentExpression,left:e.body[0].expression,right:{type:or.NGValueParameter},operator:"="}}function mr(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===or.Literal||e.body[0].expression.type===or.ArrayExpression||e.body[0].expression.type===or.ObjectExpression)}function hr(e){return e.constant}function gr(e,t){this.astBuilder=e,this.$filter=t}function fr(e,t){this.astBuilder=e,this.$filter=t}or.Program="Program",or.ExpressionStatement="ExpressionStatement",or.AssignmentExpression="AssignmentExpression",or.ConditionalExpression="ConditionalExpression",or.LogicalExpression="LogicalExpression",or.BinaryExpression="BinaryExpression",or.UnaryExpression="UnaryExpression",or.CallExpression="CallExpression",or.MemberExpression="MemberExpression",or.Identifier="Identifier",or.Literal="Literal",or.ArrayExpression="ArrayExpression",or.Property="Property",or.ObjectExpression="ObjectExpression",or.ThisExpression="ThisExpression",or.LocalsExpression="LocalsExpression",or.NGValueParameter="NGValueParameter",or.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:or.Program,body:e}},expressionStatement:function(){return{type:or.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:or.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:or.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:or.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:or.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:or.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:or.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:or.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:or.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:or.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=te(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:or.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:or.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:or.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:or.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){var t=[e];for(e={type:or.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.expression()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:or.Identifier,name:e.text}},constant:function(){return{type:or.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)for(;!this.peek("]")&&(e.push(this.expression()),this.expect(",")););return this.consume("]"),{type:or.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)for(;!this.peek("}")&&(e={type:or.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e),this.expect(",")););return this.consume("}"),{type:or.ObjectExpression,properties:t}},throwError:function(e,t){throw qn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw qn("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw qn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e];if((e=o.text)===t||e===n||e===r||e===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){return!!(r=this.peek(e,t,n,r))&&(this.tokens.shift(),r)},selfReferential:{this:{type:or.ThisExpression},$locals:{type:or.LocalsExpression}}},gr.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},cr(i,r.$filter);var o="";this.stage="assign",(t=pr(i))&&(this.state.computing="assign",s=this.nextId(),this.recurse(t,s),this.return_(s),o="fn.assign="+this.generateFunction("assign","s,v,l"));var s=dr(i.body);return r.stage="inputs",C(s,(function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t})),this.state.computing="fn",this.stage="main",this.recurse(i),o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",e=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",o)(this.$filter,Wn,Kn,er,Qn,tr,sr,ar,e),this.state=this.stage=n,e.literal=mr(i),e.constant=hr(i),e},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return C(t,(function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))})),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return C(this.state.filters,(function(n,r){e.push(n+"=$filter("+t.escape(r)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,o,s){var a,l,c,d,u=this;if(i=i||A,!s&&R(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,o,!0));switch(e.type){case or.Program:C(e.body,(function(t,r){u.recurse(t.expression,n,n,(function(e){l=e})),r!==e.body.length-1?u.current().body.push(l,";"):u.return_(l)}));break;case or.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case or.UnaryExpression:this.recurse(e.argument,n,n,(function(e){l=e})),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),i(d);break;case or.BinaryExpression:this.recurse(e.left,n,n,(function(e){a=e})),this.recurse(e.right,n,n,(function(e){l=e})),d="+"===e.operator?this.plus(a,l):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(l,0):"("+a+")"+e.operator+"("+l+")",this.assign(t,d),i(d);break;case or.LogicalExpression:t=t||this.nextId(),u.recurse(e.left,t),u.if_("&&"===e.operator?t:u.not(t),u.lazyRecurse(e.right,t)),i(t);break;case or.ConditionalExpression:t=t||this.nextId(),u.recurse(e.test,t),u.if_(t,u.lazyRecurse(e.alternate,t),u.lazyRecurse(e.consequent,t)),i(t);break;case or.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===u.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Wn(e.name),u.if_("inputs"===u.stage||u.not(u.getHasOwnProperty("l",e.name)),(function(){u.if_("inputs"===u.stage||"s",(function(){o&&1!==o&&u.if_(u.not(u.nonComputedMember("s",e.name)),u.lazyAssign(u.nonComputedMember("s",e.name),"{}")),u.assign(t,u.nonComputedMember("s",e.name))}))}),t&&u.lazyAssign(t,u.nonComputedMember("l",e.name))),(u.state.expensiveChecks||yr(e.name))&&u.addEnsureSafeObject(t),i(t);break;case or.MemberExpression:a=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),u.recurse(e.object,a,n,(function(){u.if_(u.notNull(a),(function(){o&&1!==o&&u.addEnsureSafeAssignContext(a),e.computed?(l=u.nextId(),u.recurse(e.property,l),u.getStringValue(l),u.addEnsureSafeMemberName(l),o&&1!==o&&u.if_(u.not(u.computedMember(a,l)),u.lazyAssign(u.computedMember(a,l),"{}")),d=u.ensureSafeObject(u.computedMember(a,l)),u.assign(t,d),r&&(r.computed=!0,r.name=l)):(Wn(e.property.name),o&&1!==o&&u.if_(u.not(u.nonComputedMember(a,e.property.name)),u.lazyAssign(u.nonComputedMember(a,e.property.name),"{}")),d=u.nonComputedMember(a,e.property.name),(u.state.expensiveChecks||yr(e.property.name))&&(d=u.ensureSafeObject(d)),u.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))}),(function(){u.assign(t,"undefined")})),i(t)}),!!o);break;case or.CallExpression:t=t||this.nextId(),e.filter?(l=u.filter(e.callee.name),c=[],C(e.arguments,(function(e){var t=u.nextId();u.recurse(e,t),c.push(t)})),d=l+"("+c.join(",")+")",u.assign(t,d),i(t)):(l=u.nextId(),a={},c=[],u.recurse(e.callee,l,a,(function(){u.if_(u.notNull(l),(function(){u.addEnsureSafeFunction(l),C(e.arguments,(function(e){u.recurse(e,u.nextId(),n,(function(e){c.push(u.ensureSafeObject(e))}))})),d=a.name?(u.state.expensiveChecks||u.addEnsureSafeObject(a.context),u.member(a.context,a.name,a.computed)+"("+c.join(",")+")"):l+"("+c.join(",")+")",d=u.ensureSafeObject(d),u.assign(t,d)}),(function(){u.assign(t,"undefined")})),i(t)})));break;case or.AssignmentExpression:if(l=this.nextId(),a={},!ur(e.left))throw qn("lval","Trying to assign a value to a non l-value");this.recurse(e.left,n,a,(function(){u.if_(u.notNull(a.context),(function(){u.recurse(e.right,l),u.addEnsureSafeObject(u.member(a.context,a.name,a.computed)),u.addEnsureSafeAssignContext(a.context),d=u.member(a.context,a.name,a.computed)+e.operator+l,u.assign(t,d),i(t||d)}))}),1);break;case or.ArrayExpression:c=[],C(e.elements,(function(e){u.recurse(e,u.nextId(),n,(function(e){c.push(e)}))})),d="["+c.join(",")+"]",this.assign(t,d),i(d);break;case or.ObjectExpression:c=[],C(e.properties,(function(e){u.recurse(e.value,u.nextId(),n,(function(t){c.push(u.escape(e.key.type===or.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),d="{"+c.join(",")+"}",this.assign(t,d),i(d);break;case or.ThisExpression:this.assign(t,"s"),i("s");break;case or.LocalsExpression:this.assign(t,"l"),i("l");break;case or.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){var r;!0===e?t():((r=this.current().body).push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}")))},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(V(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(U(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw qn("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},fr.prototype={compile:function(e,t){var n,r,i=this,o=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,cr(o,i.$filter),(t=pr(o))&&(n=this.recurse(t)),(t=dr(o.body))&&(r=[],C(t,(function(e,t){var n=i.recurse(e);e.input=n,r.push(n),e.watchId=t})));var s=[];return C(o.body,(function(e){s.push(i.recurse(e.expression))})),t=0===o.body.length?A:1===o.body.length?s[0]:function(e,t){var n;return C(s,(function(r){n=r(e,t)})),n},n&&(t.assign=function(e,t,r){return n(e,r,t)}),r&&(t.inputs=r),t.literal=mr(o),t.constant=hr(o),t},recurse:function(e,t,r){var i,o,s,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case or.Literal:return this.value(e.value,t);case or.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case or.BinaryExpression:case or.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case or.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case or.Identifier:return Wn(e.name,a.expression),a.identifier(e.name,a.expensiveChecks||yr(e.name),t,r,a.expression);case or.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(Wn(e.property.name,a.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,r,a.expression):this.nonComputedMember(i,o,a.expensiveChecks,t,r,a.expression);case or.CallExpression:return s=[],C(e.arguments,(function(e){s.push(a.recurse(e))})),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,r,i,a){for(var l=[],c=0;c<s.length;++c)l.push(s[c](e,r,i,a));var d=o.apply(n,l,a);return t?{context:n,name:n,value:d}:d}:function(e,n,r,i){var l,c=o(e,n,r,i);if(null!=c.value){Kn(c.context,a.expression),er(c.value,a.expression);for(var d=[],u=0;u<s.length;++u)d.push(Kn(s[u](e,n,r,i),a.expression));l=Kn(c.value.apply(c.context,d),a.expression)}return t?{value:l}:l};case or.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,s){var l=i(e,n,r,s);s=o(e,n,r,s);return Kn(l.value,a.expression),tr(l.context),l.context[l.name]=s,t?{value:s}:s};case or.ArrayExpression:return s=[],C(e.elements,(function(e){s.push(a.recurse(e))})),function(e,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case or.ObjectExpression:return s=[],C(e.properties,(function(e){s.push({key:e.key.type===or.Identifier?e.key.name:""+e.key.value,value:a.recurse(e.value)})})),function(e,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case or.ThisExpression:return function(e){return t?{value:e}:e};case or.LocalsExpression:return function(e,n){return t?{value:n}:n};case or.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){return o=R(o=e(n,r,i,o))?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,r,i,o){return o=R(o=e(n,r,i,o))?-o:0,t?{value:o}:o}},"unary!":function(e,t){return function(n,r,i,o){return o=!e(n,r,i,o),t?{value:o}:o}},"binary+":function(e,t,n){return function(r,i,o,s){return s=ar(e(r,i,o,s),t(r,i,o,s)),n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s);s=t(r,i,o,s),s=(R(a)?a:0)-(R(s)?s:0);return n?{value:s}:s}},"binary*":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)*t(r,i,o,s),n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)/t(r,i,o,s),n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)%t(r,i,o,s),n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)===t(r,i,o,s),n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)!==t(r,i,o,s),n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)==t(r,i,o,s),n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)!=t(r,i,o,s),n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)<t(r,i,o,s),n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)>t(r,i,o,s),n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)<=t(r,i,o,s),n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)>=t(r,i,o,s),n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)&&t(r,i,o,s),n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,s){return s=e(r,i,o,s)||t(r,i,o,s),n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){return a=(e(i,o,s,a)?t:n)(i,o,s,a),r?{value:a}:a}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(s,a,l,c){return a=a&&e in a?a:s,i&&1!==i&&a&&!a[e]&&(a[e]={}),s=a?a[e]:n,t&&Kn(s,o),r?{context:a,name:e,value:s}:s}},computedMember:function(e,t,n,r,i){return function(o,s,a,l){var c,d,u=e(o,s,a,l);return null!=u&&(c=t(o,s,a,l),Wn(c+="",i),r&&1!==r&&(tr(u),u&&!u[c]&&(u[c]={})),Kn(d=u[c],i)),n?{context:u,name:c,value:d}:d}},nonComputedMember:function(e,t,r,i,o,s){return function(a,l,c,d){return c=e(a,l,c,d),o&&1!==o&&(tr(c),c&&!c[t]&&(c[t]={})),d=null!=c?c[t]:n,(r||yr(t))&&Kn(d,s),i?{context:c,name:t,value:d}:d}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var vr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new or(e,n),this.astCompiler=new(n.csp?fr:gr)(this.ast,t)};function yr(e){return"constructor"==e}vr.prototype={constructor:vr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var br=Object.prototype.valueOf;function Sr(e){return Y(e.valueOf)?e.valueOf():br.call(e)}function _r(){var e=Ae(),t=Ae(),r={true:!0,false:!1,null:null,undefined:n};this.addLiteral=function(e,t){r[e]=t},this.$get=["$filter",function(i){var o=ie().noUnsafeEval,s={csp:o,expensiveChecks:!1,literals:te(r)},a={csp:o,expensiveChecks:!0,literals:te(r)},l=!1;return c.$$runningExpensiveChecks=function(){return l},c;function c(n,r,o){var c,d;switch(o=o||l,typeof n){case"string":n=n.trim();var f,v,y,b=o?t:e;return(y=b[d=n])||(":"===n.charAt(0)&&":"===n.charAt(1)&&(c=!0,n=n.substring(2)),v=new ir(f=o?a:s),(y=new vr(v,i,f).parse(n)).constant?y.$$watchDelegate=h:c?y.$$watchDelegate=y.literal?m:p:y.inputs&&(y.$$watchDelegate=u),o&&(y=function e(t){if(!t)return t;r.$$watchDelegate=t.$$watchDelegate,r.assign=e(t.assign),r.constant=t.constant,r.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=e(t.inputs[n]);return r.inputs=t.inputs,r;function r(e,n,r,i){var o=l;l=!0;try{return t(e,n,r,i)}finally{l=o}}}(y)),b[d]=y),g(y,r);case"function":return g(n,r);default:return g(A,r)}}function d(e,t){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=Sr(e)))&&(e===t||e!=e&&t!=t)}function u(e,t,r,i,o){var s;if(1===(l=i.inputs).length){var a=d,l=l[0];return e.$watch((function(e){var t=l(e);return d(t,a)||(s=i(e,n,n,[t]),a=t&&Sr(t)),s}),t,r,o)}for(var c=[],u=[],p=0,m=l.length;p<m;p++)c[p]=d,u[p]=null;return e.$watch((function(e){for(var t=!1,r=0,o=l.length;r<o;r++){var a=l[r](e);(t=t||!d(a,c[r]))&&(u[r]=a,c[r]=a&&Sr(a))}return t&&(s=i(e,n,n,u)),s}),t,r,o)}function p(e,t,n,r){var i,o;return i=e.$watch((function(e){return r(e)}),(function(e,n,r){o=e,Y(t)&&t.apply(this,arguments),R(e)&&r.$$postDigest((function(){R(o)&&i()}))}),n)}function m(e,t,n,r){var i,o;return i=e.$watch((function(e){return r(e)}),(function(e,n,r){o=e,Y(t)&&t.call(this,e,n,r),s(e)&&r.$$postDigest((function(){s(o)&&i()}))}),n);function s(e){var t=!0;return C(e,(function(e){R(e)||(t=!1)})),t}}function h(e,t,n,r){var i;return i=e.$watch((function(e){return i(),r(e)}),t,n)}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1;n=n!==m&&n!==p?function(n,i,o,s){return s=r&&s?s[0]:e(n,i,o,s),t(s,n,i)}:function(n,r,i,o){return o=e(n,r,i,o),r=t(o,n,r),R(o)?r:o};return e.$$watchDelegate&&e.$$watchDelegate!==u?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=u,r=!e.inputs,n.inputs=e.inputs||[e]),n}}]}function Cr(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return wr((function(t){e.$evalAsync(t)}),t)}]}function $r(){this.$get=["$browser","$exceptionHandler",function(e,t){return wr((function(t){e.defer(t)}),t)}]}function wr(e,t){var i=r("$q",TypeError);function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function a(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,e((function(){!function(e){var r,i,o=e.pending;e.processScheduled=!1,e.pending=n;for(var s=0,a=o.length;s<a;++s){i=o[s][0],r=o[s][e.status];try{Y(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(e){i.reject(e),t(e)}}}(r)})))}function l(){this.promise=new o}function c(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise}function d(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)}P(o.prototype,{then:function(e,t,n){if(I(e)&&I(t)&&I(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&a(this.$$state),r.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return u(t,!0,e)}),(function(t){return u(t,!1,e)}),t)}}),P(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(i("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r=this,i=!1;try{(N(e)||Y(e))&&(n=e&&e.then),Y(n)?(this.promise.$$state.status=-1,n.call(e,(function(e){i||(i=!0,r.$$resolve(e))}),o,s(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,a(this.promise.$$state))}catch(e){o(e),t(e)}function o(e){i||(i=!0,r.$$reject(e))}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e((function(){for(var e,i,o=0,s=r.length;o<s;o++){i=r[o][0],e=r[o][3];try{i.notify(Y(e)?e(n):n)}catch(e){t(e)}}}))}});var u=function(e,t,n){var r=null;try{Y(n)&&(r=n())}catch(e){return c(e,!1)}return W(r)?r.then((function(){return c(e,t)}),(function(e){return c(e,!1)})):c(e,t)},p=d;function m(e){if(!Y(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);var t=new l;return e((function(e){t.resolve(e)}),(function(e){t.reject(e)})),t.promise}return m.prototype=o.prototype,m.defer=function(){var e=new l;return e.resolve=s(e,e.resolve),e.reject=s(e,e.reject),e.notify=s(e,e.notify),e},m.reject=function(e){var t=new l;return t.reject(e),t.promise},m.when=d,m.resolve=p,m.all=function(e){var t=new l,n=0,r=B(e)?[]:{};return C(e,(function(e,i){n++,d(e).then((function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))}),(function(e){r.hasOwnProperty(i)||t.reject(e)}))})),0===n&&t.resolve(r),t.promise},m}function Mr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n;return(e=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}}).supported=i,e}]}function Tr(){var e=10,t=r("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(r,o,a){function l(e){e.currentScope.$$destroyed=!0}function d(){this.$id=++S,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}d.prototype={constructor:d,$new:function(e,t){var n;function r(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++S,this.$$ChildScope=null}return t=t||this,e?(n=new d).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(r.prototype=this,r)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,!e&&t==this||n.$on("$destroy",l),n},$watch:function(e,t,r,i){var s=o(e);if(s.$$watchDelegate)return s.$$watchDelegate(this,t,r,s,e);var a=this,l=a.$$watchers,c={fn:t,last:b,get:s,exp:i||e,eq:!!r};return n=null,Y(t)||(c.fn=A),(l=l||(a.$$watchers=[])).unshift(c),v(this,1),function(){0<=ee(l,c)&&v(a,-1),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),r=new Array(e.length),i=[],o=this,s=!1,a=!0;if(e.length)return 1===e.length?this.$watch(e[0],(function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)})):(C(e,(function(e,t){e=o.$watch(e,(function(e,i){r[t]=e,n[t]=i,s||(s=!0,o.$evalAsync(c))})),i.push(e)})),function(){for(;i.length;)i.shift()()});var l=!0;return o.$evalAsync((function(){l&&t(r,r,o)})),function(){l=!1};function c(){s=!1,a?(a=!1,t(r,r,o)):t(r,n,o)}},$watchCollection:function(e,t){h.$stateful=!0;var n,r,i,a=this,l=1<t.length,c=0,d=(e=o(e,h),[]),u={},p=!0,m=0;function h(e){var t,i,o,a;if(!I(n=e)){if(N(n))if(_(n)){r!==d&&(m=(r=d).length=0,c++),t=n.length,m!==t&&(c++,r.length=m=t);for(var l=0;l<t;l++)a=r[l],o=n[l],a!=a&&o!=o||a===o||(c++,r[l]=o)}else{for(i in r!==u&&(r=u={},m=0,c++),t=0,n)s.call(n,i)&&(t++,o=n[i],a=r[i],i in r?a!=a&&o!=o||a===o||(c++,r[i]=o):(m++,r[i]=o,c++));if(t<m)for(i in c++,r)s.call(n,i)||(m--,delete r[i])}else r!==n&&(r=n,c++);return c}}return this.$watch(e,(function(){if(p?(p=!1,t(n,n,a)):t(n,i,a),l)if(N(n))if(_(n)){i=new Array(n.length);for(var e=0;e<n.length;e++)i[e]=n[e]}else for(var r in i={},n)s.call(n,r)&&(i[r]=n[r]);else i=n}))},$digest:function(){var o,s,l,c,d,h,v,y,S,_,C=e,w=[];g("$digest"),a.$$checkUrlChange(),this===u&&null!==i&&(a.defer.cancel(i),$()),n=null;do{for(h=!1,y=this;p.length;){try{(_=p.shift()).scope.$eval(_.expression,_.locals)}catch(o){r(o)}n=null}e:do{if(c=y.$$watchers)for(d=c.length;d--;)try{if(o=c[d])if((s=(0,o.get)(y))===(l=o.last)||(o.eq?re(s,l):"number"==typeof s&&"number"==typeof l&&isNaN(s)&&isNaN(l))){if(o===n){h=!1;break e}}else h=!0,(n=o).last=o.eq?te(s,null):s,(0,o.fn)(s,l===b?s:l,y),C<5&&(w[S=4-C]||(w[S]=[]),w[S].push({msg:Y(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:s,oldVal:l}))}catch(o){r(o)}if(!(v=y.$$watchersCount&&y.$$childHead||y!==this&&y.$$nextSibling))for(;y!==this&&!(v=y.$$nextSibling);)y=y.$parent}while(y=v);if((h||p.length)&&!C--)throw f(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,w)}while(h||p.length);for(f();m.length;)try{m.shift()()}catch(o){r(o)}},$destroy:function(){if(!this.$$destroyed){var e,t=this.$parent;for(e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===u&&a.$$applicationDestroyed(),v(this,-this.$$watchersCount),this.$$listenerCount)y(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=A,this.$on=this.$watch=this.$watchGroup=function(){return A},this.$$listeners={},this.$$nextSibling=null,function e(t){9===c&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){u.$$phase||p.length||a.defer((function(){p.length&&u.$digest()})),p.push({scope:this,expression:o(e),locals:t})},$$postDigest:function(e){m.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{f()}}catch(e){r(e)}finally{try{u.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(e){var t=this;e&&h.push((function(){t.$eval(e)})),e=o(e),null===i&&(i=a.defer((function(){u.$apply($)})))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);for(var r=this;r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++,r=r.$parent;);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,i,o,s=[],a=this,l=!1,c={name:e,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},d=se([c],arguments,1);do{for(n=a.$$listeners[e]||s,c.currentScope=a,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,d)}catch(e){r(e)}else n.splice(i,1),i--,o--;if(l)return c.currentScope=null,c}while(a=a.$parent);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,i=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var s,a,l,c=se([o],arguments,1);n=i;){for(a=0,l=(s=(o.currentScope=n).$$listeners[e]||[]).length;a<l;a++)if(s[a])try{s[a].apply(null,c)}catch(e){r(e)}else s.splice(a,1),a--,l--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var u=new d,p=u.$$asyncQueue=[],m=u.$$postDigestQueue=[],h=u.$$applyAsyncQueue=[];return u;function g(e){if(u.$$phase)throw t("inprog","{0} already in progress",u.$$phase);u.$$phase=e}function f(){u.$$phase=null}function v(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function y(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function b(){}function $(){for(;h.length;)try{h.shift()()}catch(e){r(e)}i=null}}]}function kr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return R(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return R(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i=r?t:e;return""===(r=Ur(n).href)||r.match(i)?n:"unsafe:"+r}}}var Pr=r("$sce"),Dr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function Lr(e){var t=[];return R(e)&&C(e,(function(e){t.push(function(e){if("self"===e)return e;if(V(e)){if(-1<e.indexOf("***"))throw Pr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=J(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(G(e))return new RegExp("^"+e.source+"$");throw Pr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Ar(){this.SCE_CONTEXTS=Dr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Lr(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Lr(e)),t},this.$get=["$injector",function(n){var r=function(){throw Pr("unsafe","Attempting to use an unsafe value in a safe context.")};function i(e,t){return"self"===e?Fr(t):e.exec(t.href)}function o(e){function t(e){this.$$unwrapTrustedValue=function(){return e}}return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(r=n.get("$sanitize"));var s=o(),a={};return a[Dr.HTML]=o(s),a[Dr.CSS]=o(s),a[Dr.URL]=o(s),a[Dr.JS]=o(s),a[Dr.RESOURCE_URL]=o(a[Dr.URL]),{trustAs:function(e,t){var n=a.hasOwnProperty(e)?a[e]:null;if(!n)throw Pr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||I(t)||""===t)return t;if("string"!=typeof t)throw Pr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(n,o){if(null===o||I(o)||""===o)return o;var s=a.hasOwnProperty(n)?a[n]:null;if(s&&o instanceof s)return o.$$unwrapTrustedValue();if(n===Dr.RESOURCE_URL){if(function(n){for(var r=Ur(n.toString()),o=!1,s=0,a=e.length;s<a;s++)if(i(e[s],r)){o=!0;break}if(o)for(s=0,a=t.length;s<a;s++)if(i(t[s],r)){o=!1;break}return o}(o))return o;throw Pr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(n===Dr.HTML)return r(o);throw Pr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof s?e.$$unwrapTrustedValue():e}}}]}function xr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&c<8)throw Pr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=ne(Dr);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=x),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,(function(t){return r.getTrusted(e,t)}))};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return C(Dr,(function(e,t){t=a(t),r[Be("parse_as_"+t)]=function(t){return i(e,t)},r[Be("get_trusted_"+t)]=function(t){return o(e,t)},r[Be("trust_as_"+t)]=function(t){return s(e,t)}})),r}]}function Er(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=!(e.chrome&&e.chrome.app&&e.chrome.app.runtime)&&e.history&&e.history.pushState,s=D((/android (\d+)/.exec(a((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),d=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,p=d.body&&d.body.style;e=!1,t=!1;if(p){for(var m in p)if(r=u.exec(m)){n=(n=r[0]).substr(0,1).toUpperCase()+n.substr(1);break}n=n||"WebkitOpacity"in p&&"webkit",e=!(!("transition"in p)&&!(n+"Transition"in p)),t=!(!("animation"in p)&&!(n+"Animation"in p)),!s||e&&t||(e=V(p.webkitTransition),t=V(p.webkitAnimation))}return{history:!(!o||s<4||l),hasEvent:function(e){return!("input"===e&&c<=11)&&(I(i[e])&&(t=d.createElement("div"),i[e]="on"+e in t),i[e]);var t},csp:ie(),vendorPrefix:n,transitions:e,animations:t,android:s}}]}var jr=r("$compile");function Ir(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(s,a){o.totalPendingRequests++,V(s)&&t.get(s)||(s=i.getTrustedResourceUrl(s));var l=n.defaults&&n.defaults.transformResponse;return B(l)?l=l.filter((function(e){return e!==bn})):l===bn&&(l=null),n.get(s,P({cache:t,transformResponse:l},e)).finally((function(){o.totalPendingRequests--})).then((function(e){return t.put(s,e.data),e.data}),(function(e){if(a)return r.reject(e);throw jr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText)}))}return o.totalPendingRequests=0,o}]}function Rr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var r=[];return C(e,(function(e){var i=b.element(e).data("$binding");i&&C(i,(function(i){n?new RegExp("(^|\\s)"+J(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!=i.indexOf(t)&&r.push(e)}))})),r},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]';if((o=e.querySelectorAll(o)).length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function Nr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var o={};function s(s,a,l){Y(s)||(l=a,a=s,s=A);var c=ae(arguments,3),d=R(l)&&!l,u=(d?r:n).defer(),p=u.promise;a=t.defer((function(){try{u.resolve(s.apply(null,c))}catch(e){u.reject(e),i(e)}finally{delete o[p.$$timeoutId]}d||e.$apply()}),a);return p.$$timeoutId=a,o[a]=u,p}return s.cancel=function(e){return!(!e||!(e.$$timeoutId in o))&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},s}]}var Or=t.createElement("a"),Vr=Ur(e.location.href);function Ur(e){return c&&(Or.setAttribute("href",e),e=Or.href),Or.setAttribute("href",e),{href:Or.href,protocol:Or.protocol?Or.protocol.replace(/:$/,""):"",host:Or.host,search:Or.search?Or.search.replace(/^\?/,""):"",hash:Or.hash?Or.hash.replace(/^#/,""):"",hostname:Or.hostname,port:Or.port,pathname:"/"===Or.pathname.charAt(0)?Or.pathname:"/"+Or.pathname}}function Fr(e){return(e=V(e)?Ur(e):e).protocol===Vr.protocol&&e.host===Vr.host}function Br(){this.$get=E(e)}function Yr(e){var t=e[0]||{},n={},r="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,s,a,l,c=t.cookie||"";if(c!==r)for(e=(r=c).split("; "),n={},s=0;s<e.length;s++)0<(a=(o=e[s]).indexOf("="))&&(l=i(o.substring(0,a)),I(n[l])&&(n[l]=i(o.substring(a+1))));return n}}function Gr(){this.$get=Yr}function Hr(e){var t="Filter";function n(r,i){if(N(r)){var o={};return C(r,(function(e,t){o[t]=n(t,e)})),o}return e.factory(r+t,i)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",Qr),n("date",ai),n("filter",zr),n("json",li),n("limitTo",ui),n("lowercase",ci),n("number",Kr),n("orderBy",pi),n("uppercase",di)}function zr(){return function(e,t,n){if(!_(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var i,o;switch(Wr(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=function(e,t,n){var r=N(e)&&"$"in e;return!0===t?t=re:Y(t)||(t=function(e,t){return!(I(e)||(null===e||null===t?e!==t:N(t)||N(e)&&!j(e)||(e=a(""+e),t=a(""+t),-1===e.indexOf(t))))}),function(i){return r&&!N(i)?qr(i,e.$,t,!1):qr(i,e,t,n)}}(t,n,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function qr(e,t,n,r,i){var o,s=Wr(e),a=Wr(t);if("string"===a&&"!"===t.charAt(0))return!qr(e,t.substring(1),n,r);if(B(e))return e.some((function(e){return qr(e,t,n,r)}));switch(s){case"object":if(r){for(o in e)if("$"!==o.charAt(0)&&qr(e[o],t,n,!0))return!0;return!i&&qr(e,t,n,!1)}if("object"!==a)return n(e,t);for(o in t){var l=t[o];if(!Y(l)&&!I(l)){var c="$"===o;if(!qr(c?e:e[o],l,n,c,c))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function Wr(e){return null===e?"null":typeof e}Yr.$inject=["$document"],Hr.$inject=["$provide"];function Qr(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return I(n)&&(n=t.CURRENCY_SYM),I(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Jr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Kr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Jr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Jr(e,t,n,r,i){if(!V(e)&&!U(e)||isNaN(e))return"";var o=!isFinite(e),s=!1,a=Math.abs(e)+"",l="";if(o)l="∞";else{!function(e,t,n,r){var i=e.d,o=i.length-e.i,s=(t=I(t)?Math.min(Math.max(n,o),r):+t)+e.i;r=i[s];if(0<s){i.splice(Math.max(e.i,s));for(var a=s;a<i.length;a++)i[a]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,s=t+1),i[0]=0;for(var l=1;l<s;l++)i[l]=0}if(5<=r)if(s-1<0){for(var c=0;s<c;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[s-1]++;for(;o<Math.max(0,t);o++)i.push(0);(r=i.reduceRight((function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)}),0))&&(i.unshift(r),e.i++)}(a=function(e){var t,n,r,i,o,s=0;for(-1<(n=e.indexOf("."))&&(e=e.replace(".","")),0<(r=e.search(/e/i))?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;"0"==e.charAt(r);r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;"0"==e.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return 22<n&&(t=t.splice(0,21),s=n-1,n=1),{d:t,e:s,i:n}}(a),i,t.minFrac,t.maxFrac);var c=a.d,d=a.i;for(i=a.e,a=[],s=c.reduce((function(e,t){return e&&!t}),!0);d<0;)c.unshift(0),d++;0<d?a=c.splice(d):(a=c,c=[0]);var u=[];for(c.length>=t.lgSize&&u.unshift(c.splice(-t.lgSize).join(""));c.length>t.gSize;)u.unshift(c.splice(-t.gSize).join(""));c.length&&u.unshift(c.join("")),l=u.join(n),a.length&&(l+=r+a.join("")),i&&(l+="e+"+i)}return e<0&&!s?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Xr(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Zr(e,t,n,r,i){return n=n||0,function(o){return o=o["get"+e](),(0<n||-n<o)&&(o+=n),0===o&&-12==n&&(o=12),Xr(o,t,r,i)}}function ei(e,t,n){return function(r,i){return r=r["get"+e](),i[l((n?"STANDALONE":"")+(t?"SHORT":"")+e)][r]}}function ti(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function ni(e){return function(t){var n=ti(t.getFullYear());t=t,n=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n;return Xr(1+Math.round(n/6048e5),e)}}function ri(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Qr.$inject=["$locale"];var ii={yyyy:Zr("FullYear",4,0,!(Kr.$inject=["$locale"]),!0),yy:Zr("FullYear",2,0,!0,!0),y:Zr("FullYear",1,0,!1,!0),MMMM:ei("Month"),MMM:ei("Month",!0),MM:Zr("Month",2,1),M:Zr("Month",1,1),LLLL:ei("Month",!1,!0),dd:Zr("Date",2),d:Zr("Date",1),HH:Zr("Hours",2),H:Zr("Hours",1),hh:Zr("Hours",2,-12),h:Zr("Hours",1,-12),mm:Zr("Minutes",2),m:Zr("Minutes",1),ss:Zr("Seconds",2),s:Zr("Seconds",1),sss:Zr("Milliseconds",3),EEEE:ei("Day"),EEE:ei("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n;return(n=0<=r?"+":"")+(Xr(Math[0<r?"floor":"ceil"](r/60),2)+Xr(Math.abs(r%60),2))},ww:ni(2),w:ni(1),G:ri,GG:ri,GGG:ri,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},oi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,si=/^\-?\d+$/;function ai(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,a="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,V(n)&&(n=(si.test(n)?D:function(e){if(a=e.match(t)){var n=new Date(0),r=0,i=0,o=a[8]?n.setUTCFullYear:n.setFullYear,s=a[8]?n.setUTCHours:n.setHours;a[9]&&(r=D(a[9]+a[10]),i=D(a[9]+a[11])),o.call(n,D(a[1]),D(a[2])-1,D(a[3]));o=D(a[4]||0)-r,r=D(a[5]||0)-i,i=D(a[6]||0);var a=Math.round(1e3*parseFloat("0."+(a[7]||0)));return s.call(n,o,r,i,a),n}return e})(n)),U(n)&&(n=new Date(n)),!F(n)||!isFinite(n.getTime()))return n;for(;r;)r=(s=oi.exec(r))?(l=se(l,s,1)).pop():(l.push(r),null);var c=n.getTimezoneOffset();return i&&(c=me(i,c),n=he(n,i,!0)),C(l,(function(t){a+=(o=ii[t])?o(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),a}}function li(){return function(e,t){return I(t)&&(t=2),de(e,t)}}ai.$inject=["$locale"];var ci=E(a),di=E(l);function ui(){return function(e,t,n){return t=(Math.abs(Number(t))===1/0?Number:D)(t),isNaN(t)?e:(U(e)&&(e=e.toString()),B(e)||V(e)?(n=(n=!n||isNaN(n)?0:D(n))<0?Math.max(0,e.length+n):n,0<=t?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function pi(e){return function(n,i,o){if(null==n)return n;if(!_(n))throw r("orderBy")("notarray","Expected array but received: {0}",n);B(i)||(i=[i]),0===i.length&&(i=["+"]);var s,a=(s=(s=o)?-1:1,i.map((function(t){var n,r=1,i=x;return Y(t)?i=t:V(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t)).constant&&(n=i(),i=function(e){return e[n]})),{get:i,descending:r*s}})));return a.push({get:function(){return{}},descending:o?-1:1}),(o=Array.prototype.map.call(n,(function(e,n){return{value:e,predicateValues:a.map((function(r){return function(e,n){var r=typeof e;return null===e?(r="string",e="null"):"string"===r?e=e.toLowerCase():"object"===r&&(e=function(e,n){return"function"==typeof e.valueOf&&t(e=e.valueOf())||j(e)&&t(e=e.toString())?e:n}(e,n)),{value:e,type:r}}(r.get(e),n)}))}}))).sort((function(e,t){for(var n=0,r=0,i=a.length;r<i&&!(n=function(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}(e.predicateValues[r],t.predicateValues[r])*a[r].descending);++r);return n})),o.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return 1;default:return}}}function mi(e){return Y(e)&&(e={link:e}),e.restrict=e.restrict||"AC",E(e)}pi.$inject=["$parse"];var hi=E({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){var n;"a"===t[0].nodeName.toLowerCase()&&(n="[object SVGAnimatedString]"===f.call(t.prop("href"))?"xlink:href":"href",t.on("click",(function(e){t.attr(n)||e.preventDefault()})))}}}),gi={};C(gt,(function(e,t){var n,r;function i(e,r,i){e.$watch(i[n],(function(e){i.$set(t,!!e)}))}"multiple"!=e&&(n=Xt("ng-"+t),r="checked"===e?function(e,t,r){r.ngModel!==r[n]&&i(e,0,r)}:i,gi[n]=function(){return{restrict:"A",priority:100,link:r}})})),C(vt,(function(e,t){gi[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var o=r.ngPattern.match(i);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(r[t],(function(e){r.$set(t,e)}))}}}})),C(["src","srcset","href"],(function(e){var t=Xt("ng-"+e);gi[t]=function(){return{priority:99,link:function(n,r,i){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===f.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(t,(function(t){t?(i.$set(s,t),c&&o&&r.prop(o,i[s])):"href"===e&&i.$set(s,null)}))}}}}));var fi={$addControl:A,$$renameControl:function(e,t){e.$name=t},$removeControl:A,$setValidity:A,$setDirty:A,$setPristine:A,$setSubmitted:A},vi="ng-submitted";function yi(e,t,r,i,o){var s=this,a=[];s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=fi,s.$rollbackViewValue=function(){C(a,(function(e){e.$rollbackViewValue()}))},s.$commitViewValue=function(){C(a,(function(e){e.$commitViewValue()}))},s.$addControl=function(e){Pe(e.$name,"input"),a.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],(s[t]=e).$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],C(s.$pending,(function(t,n){s.$setValidity(n,null,e)})),C(s.$error,(function(t,n){s.$setValidity(n,null,e)})),C(s.$$success,(function(t,n){s.$setValidity(n,null,e)})),ee(a,e),e.$$parentForm=fi},yo({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(ee(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,so),i.addClass(e,ao),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,so,ao+" "+vi),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,C(a,(function(e){e.$setPristine()}))},s.$setUntouched=function(){C(a,(function(e){e.$setUntouched()}))},s.$setSubmitted=function(){i.addClass(e,vi),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}yi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var bi=(Pi=function(e){return["$timeout","$parse",function(t,r){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:yi,compile:function(r,o){r.addClass(so).addClass(io);var s=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,r,o,a){var l,c=a[0];"action"in o||(l=function(t){e.$apply((function(){c.$commitViewValue(),c.$setSubmitted()})),t.preventDefault()},Re(r[0],"submit",l),r.on("$destroy",(function(){t((function(){Ne(r[0],"submit",l)}),0,!1)}))),(a[1]||c.$$parentForm).$addControl(c);var d=s?i(c.$name):A;s&&(d(e,c),o.$observe(s,(function(t){c.$name!==t&&(d(e,n),c.$$parentForm.$$renameControl(c,t),(d=i(c.$name))(e,c))}))),r.on("$destroy",(function(){c.$$parentForm.$removeControl(c),d(e,n),P(c,fi)}))}}}};function i(e){return""===e?r('this[""]').assign:r(e).assign||A}}]})(),Si=Pi(!0),_i=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ci=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,$i=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,wi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Mi=/^(\d{4,})-(\d{2})-(\d{2})$/,Ti=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ki=/^(\d{4,})-W(\d\d)$/,Pi=(g=/^(\d{4,})-(\d\d)$/,/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/),Di=Ae();C("date,datetime-local,month,time,week".split(","),(function(e){Di[e]=!0}));var Li={text:function(e,t,n,r,i,o){xi(0,t,n,r,i,o),Ai(r)},date:ji("date",Mi,Ei(Mi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ji("datetimelocal",Ti,Ei(Ti,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ji("time",Pi,Ei(Pi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ji("week",ki,(function(e,t){if(F(e))return e;if(V(e)&&(ki.lastIndex=0,a=ki.exec(e))){var n=+a[1],r=+a[2],i=0,o=0,s=0,a=(e=0,ti(n));r=7*(r-1);return t&&(i=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),e=t.getMilliseconds()),new Date(n,0,a.getDate()+r,i,o,s,e)}return NaN}),"yyyy-Www"),month:ji("month",g,Ei(g,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,r,i,o,s){var a,l;Ii(0,t,0,i),xi(0,t,r,i,o,s),i.$$parserName="number",i.$parsers.push((function(e){return i.$isEmpty(e)?null:wi.test(e)?parseFloat(e):n})),i.$formatters.push((function(e){if(!i.$isEmpty(e)){if(!U(e))throw ho("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})),(R(r.min)||r.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||I(a)||a<=e},r.$observe("min",(function(e){R(e)&&!U(e)&&(e=parseFloat(e,10)),a=U(e)&&!isNaN(e)?e:n,i.$validate()}))),(R(r.max)||r.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||I(l)||e<=l},r.$observe("max",(function(e){R(e)&&!U(e)&&(e=parseFloat(e,10)),l=U(e)&&!isNaN(e)?e:n,i.$validate()})))},url:function(e,t,n,r,i,o){xi(0,t,n,r,i,o),Ai(r),r.$$parserName="url",r.$validators.url=function(e,t){return t=e||t,r.$isEmpty(t)||Ci.test(t)}},email:function(e,t,n,r,i,o){xi(0,t,n,r,i,o),Ai(r),r.$$parserName="email",r.$validators.email=function(e,t){return t=e||t,r.$isEmpty(t)||$i.test(t)}},radio:function(e,t,n,r){I(n.name)&&t.attr("name",++S),t.on("click",(function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)})),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,o,s,a){var l=Ri(a,e,"ngTrueValue",n.ngTrueValue,!0),c=Ri(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",(function(e){r.$setViewValue(t[0].checked,e&&e.type)})),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push((function(e){return re(e,l)})),r.$parsers.push((function(e){return e?l:c}))},hidden:A,button:A,submit:A,reset:A,file:A};function Ai(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function xi(e,t,n,r,i,s){var l,c,d=a(t[0].type);i.android||(l=!1,t.on("compositionstart",(function(){l=!0})),t.on("compositionend",(function(){l=!1,p()})));var u,p=function(e){var i;c&&(s.defer.cancel(c),c=null),l||(i=t.val(),e=e&&e.type,"password"===d||n.ngTrim&&"false"===n.ngTrim||(i=K(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e))};i.hasEvent("input")?t.on("input",p):(u=function(e,t,n){c=c||s.defer((function(){c=null,t&&t.value===n||p(e)}))},t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)})),i.hasEvent("paste")&&t.on("paste cut",u)),t.on("change",p),Di[d]&&r.$$hasNativeValidators&&d===n.type&&t.on("keydown wheel mousedown",(function(e){var t,n,r;c||(t=this[o],n=t.badInput,r=t.typeMismatch,c=s.defer((function(){c=null,t.badInput===n&&t.typeMismatch===r||p(e)})))})),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Ei(e,t){return function(n,r){var i;if(F(n))return n;if(V(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),_i.test(n))return new Date(n);if(e.lastIndex=0,n=e.exec(n))return n.shift(),i=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},C(n,(function(e,n){n<t.length&&(i[t[n]]=+e)})),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function ji(e,t,r,i){return function(o,s,a,l,c,d,u){Ii(0,s,0,l),xi(0,s,a,l,c,d);var p,m,h,g=l&&l.$options&&l.$options.timezone;function f(e){return e&&(!e.getTime||e.getTime()==e.getTime())}function v(e){return R(e)&&!F(e)?r(e)||n:e}l.$$parserName=e,l.$parsers.push((function(e){return l.$isEmpty(e)?null:t.test(e)?(e=r(e,p),g&&(e=he(e,g)),e):n})),l.$formatters.push((function(e){if(e&&!F(e))throw ho("datefmt","Expected `{0}` to be a date",e);return f(e)?((p=e)&&g&&(p=he(p,g,!0)),u("date")(e,i,g)):(p=null,"")})),(R(a.min)||a.ngMin)&&(l.$validators.min=function(e){return!f(e)||I(m)||r(e)>=m},a.$observe("min",(function(e){m=v(e),l.$validate()}))),(R(a.max)||a.ngMax)&&(l.$validators.max=function(e){return!f(e)||I(h)||r(e)<=h},a.$observe("max",(function(e){h=v(e),l.$validate()})))}}function Ii(e,t,r,i){var s=t[0];(i.$$hasNativeValidators=N(s.validity))&&i.$parsers.push((function(e){var r=t.prop(o)||{};return r.badInput||r.typeMismatch?n:e}))}function Ri(e,t,n,r,i){if(R(r)){if(!(e=e(r)).constant)throw ho("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return e(t)}return i}function Ni(){return{restrict:"A",priority:100,compile:function(e,t){return Vi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,(function(e){n.$set("value",e)}))}}}}var Oi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,l){l[0]&&(Li[a(s.type)]||Li.text)(i,o,s,l[0],t,e,n,r)}}}}],Vi=/^(true|false|\d+)$/,Ui=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,(function(e){n.textContent=I(e)?"":e}))}}}}],Fi=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",(function(e){r.textContent=I(e)?"":e}))}}}}],Bi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,(function(e){return(e||"").toString()}));return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,(function(){r.html(e.getTrustedHtml(o(t))||"")}))}}}}],Yi=E({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Gi(e,t){return e="ngClass"+e,["$animate",function(n){return{restrict:"AC",link:function(o,s,a){var l;function c(e){e=d(e,1),a.$addClass(e)}function d(e,t){var n=s.data("$classCounts")||Ae(),r=[];return C(e,(function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&r.push(e))})),s.data("$classCounts",n),r.join(" ")}function u(e){var a,u,p,m;!0!==t&&o.$index%2!==t||(a=i(e||[]),l?re(e,l)||(m=r(p=a,u=m=i(l)),p=r(u,p),m=d(m,1),p=d(p,-1),m&&m.length&&n.addClass(s,m),p&&p.length&&n.removeClass(s,p)):c(a)),l=ne(e)}o.$watch(a[e],u,!0),a.$observe("class",(function(t){u(o.$eval(a[e]))})),"ngClass"!==e&&o.$watch("$index",(function(n,r){(n&=1)!=(1&r)&&(r=i(o.$eval(a[e])),(n===t?c:function(e){e=d(e,-1),a.$removeClass(e)})(r))}))}};function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return B(e)?(C(e,(function(e){t=t.concat(i(e))})),t):V(e)?e.split(" "):N(e)?(C(e,(function(e,n){e&&(t=t.concat(n.split(" ")))})),t):e}}]}var Hi=Gi("",!0),zi=Gi("Odd",0),qi=Gi("Even",1),Wi=mi({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Qi=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ki={},Ji={blur:!0,focus:!0};function Xi(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var o=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,a=s?K(o):o;i.$parsers.push((function(e){if(!I(e)){var t=[];return e&&C(e.split(a),(function(e){e&&t.push(s?K(e):e)})),t}})),i.$formatters.push((function(e){return B(e)?e.join(o):n})),i.$isEmpty=function(e){return!e||!e.length}}}}function Zi(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=te(e.$eval(t.ngModelOptions)),R(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=K(this.$options.updateOn.replace(vo,(function(){return n.$options.updateOnDefault=!0," "})))):this.$options.updateOnDefault=!0}]}}C("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=Xt("ng-"+e);Ki[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,(function(n){function i(){s(t,{$event:n})}Ji[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)}))}}}}]}));var eo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,l,c;n.$watch(i.ngIf,(function(n){n?l||s((function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),a={clone:n},e.enter(n,r.parent(),r)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=Le(a.clone),e.leave(c).then((function(){c=null})),a=null))}))}}}],to=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,l,c,d){function u(){m&&(m.remove(),m=null),p&&(p.$destroy(),p=null),h&&(n.leave(h).then((function(){m=null})),m=h,h=null)}var p,m,h,g=0;r.$watch(o,(function(o){function l(){!R(a)||a&&!r.$eval(a)||t()}var m=++g;o?(e(o,!0).then((function(e){var t;r.$$destroyed||m===g&&(t=r.$new(),c.template=e,e=d(t,(function(e){u(),n.enter(e,null,i).then(l)})),h=e,(p=t).$emit("$includeContentLoaded",o),r.$eval(s))}),(function(){r.$$destroyed||m===g&&(u(),r.$emit("$includeContentError",o))})),r.$emit("$includeContentRequested",o)):(u(),c.template=null)}))}}}}],no=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(f.call(r[0]).match(/SVG/))return r.empty(),void e(Ke(o.template,t).childNodes)(n,(function(e){r.append(e)}),{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],ro=mi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),io="ng-valid",oo="ng-invalid",so="ng-pristine",ao="ng-dirty",lo="ng-untouched",co="ng-touched",uo="ng-pending",po="ng-empty",mo="ng-not-empty",ho=r("ngModel"),go=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,o,s,a,l,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e),this.$$parentForm=fi;var u,p=o(r.ngModel),m=p.assign,h=p,g=m,f=null,v=this;this.$$setOptions=function(e){if((v.$options=e)&&e.getterSetter){var t=o(r.ngModel+"()"),n=o(r.ngModel+"($$$p)");h=function(e){var n=p(e);return Y(n)&&(n=t(e)),n},g=function(e,t){Y(p(e))?n(e,{$$$p:t}):m(e,t)}}else if(!p.assign)throw ho("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,ge(i))},this.$render=A,this.$isEmpty=function(e){return I(e)||""===e||null===e||e!=e},this.$$updateEmptyClasses=function(e){v.$isEmpty(e)?(s.removeClass(i,mo),s.addClass(i,po)):(s.removeClass(i,po),s.addClass(i,mo))};var y=0;yo({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,s.removeClass(i,ao),s.addClass(i,so)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,s.removeClass(i,so),s.addClass(i,ao),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,s.setClass(i,lo,co)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,s.setClass(i,co,lo)},this.$rollbackViewValue=function(){a.cancel(f),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){var e,t,r,i,o;U(v.$modelValue)&&isNaN(v.$modelValue)||(e=v.$$lastCommittedViewValue,t=v.$$rawModelValue,r=v.$valid,i=v.$modelValue,o=v.$options&&v.$options.allowInvalid,v.$$runValidators(t,e,(function(e){o||r===e||(v.$modelValue=e?t:n,v.$modelValue!==i&&v.$$writeModelToScope())})))},this.$$runValidators=function(e,t,r){var i,o,s,a=++y;function l(e,t){a===y&&v.$setValidity(e,t)}function d(e){a===y&&r(e)}!function(){var e=v.$$parserName||"parse";return I(u)?(l(e,null),!0):(u||(C(v.$validators,(function(e,t){l(t,null)})),C(v.$asyncValidators,(function(e,t){l(t,null)}))),l(e,u),u)}()?d(!1):(i=!0,C(v.$validators,(function(n,r){n=n(e,t),i=i&&n,l(r,n)})),i||(C(v.$asyncValidators,(function(e,t){l(t,null)})),0)?(o=[],s=!0,C(v.$asyncValidators,(function(r,i){if(!W(r=r(e,t)))throw ho("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",r);l(i,n),o.push(r.then((function(){l(i,!0)}),(function(){l(i,s=!1)})))})),o.length?c.all(o).then((function(){d(s)}),A):d(!0)):d(!1))},this.$commitViewValue=function(){var e=v.$viewValue;a.cancel(f),(v.$$lastCommittedViewValue!==e||""===e&&v.$$hasNativeValidators)&&(v.$$updateEmptyClasses(e),v.$$lastCommittedViewValue=e,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=v.$$lastCommittedViewValue;if(u=!I(t)||n)for(var r=0;r<v.$parsers.length;r++)if(I(t=v.$parsers[r](t))){u=!1;break}U(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=h(e));var i=v.$modelValue,o=v.$options&&v.$options.allowInvalid;function s(){v.$modelValue!==i&&v.$$writeModelToScope()}v.$$rawModelValue=t,o&&(v.$modelValue=t,s()),v.$$runValidators(t,v.$$lastCommittedViewValue,(function(e){o||(v.$modelValue=e?t:n,s())}))},this.$$writeModelToScope=function(){g(e,v.$modelValue),C(v.$viewChangeListeners,(function(e){try{e()}catch(e){t(e)}}))},this.$setViewValue=function(e,t){v.$viewValue=e,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,r=v.$options;r&&R(r.debounce)&&(U(r=r.debounce)?n=r:U(r[t])?n=r[t]:U(r.default)&&(n=r.default)),a.cancel(f),n?f=a((function(){v.$commitViewValue()}),n):l.$$phase?v.$commitViewValue():e.$apply((function(){v.$commitViewValue()}))},e.$watch((function(){var t=h(e);if(t!==v.$modelValue&&(v.$modelValue==v.$modelValue||t==t)){v.$modelValue=v.$$rawModelValue=t,u=n;for(var r=v.$formatters,i=r.length,o=t;i--;)o=r[i](o);v.$viewValue!==o&&(v.$$updateEmptyClasses(o),v.$viewValue=v.$$lastCommittedViewValue=o,v.$render(),v.$$runValidators(t,o,A))}return t}))}],fo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:go,priority:1,compile:function(t){return t.addClass(so).addClass(lo).addClass(io),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",(function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)})),e.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,(function(e){o.$$debounceViewValueCommit(e&&e.type)})),n.on("blur",(function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))}))}}}}}],vo=/(\s+|^)default(\s+|$)/;function yo(e){var t=e.ctrl,r=e.$element,i={},o=e.set,s=e.unset,a=e.$animate;function l(e,t){t&&!i[e]?(a.addClass(r,e),i[e]=!0):!t&&i[e]&&(a.removeClass(r,e),i[e]=!1)}function c(e,t){e=e?"-"+we(e,"-"):"",l(io+e,!0===t),l(oo+e,!1===t)}i[oo]=!(i[io]=r.hasClass(io)),t.$setValidity=function(e,r,i){(I(r)?function(e,n,r){t[e]||(t[e]={}),o(t[e],n,r)}:function(e,r,i){t[e]&&s(t[e],r,i),bo(t[e])&&(t[e]=n)})("$pending",e,i),q(r)?r?(s(t.$error,e,i),o(t.$$success,e,i)):(o(t.$error,e,i),s(t.$$success,e,i)):(s(t.$error,e,i),s(t.$$success,e,i)),t.$pending?(l(uo,!0),t.$valid=t.$invalid=n,c("",null)):(l(uo,!1),t.$valid=bo(t.$error),t.$invalid=!t.$valid,c("",t.$valid)),c(e,i=t.$pending&&t.$pending[e]?n:!t.$error[e]&&(!!t.$$success[e]||null)),t.$$parentForm.$setValidity(e,i,t)}}function bo(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var So=mi({terminal:!0,priority:1e3}),_o=r("ngOptions"),Co=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,$o=["$compile","$parse",function(e,n){function r(e,t,r){var i=e.match(Co);if(!i)throw _o("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,ge(t));function o(e,t){return u(e,v(e,t))}var s=i[5]||i[7],a=i[6],l=(e=/ as /.test(i[0])&&i[1],i[9]),c=(t=n(i[2]?i[1]:s),e&&n(e)||t),d=l&&n(l),u=l?function(e,t){return d(r,t)}:function(e){return $t(e)},p=n(i[2]||i[1]),m=n(i[3]||""),h=n(i[4]||""),g=n(i[8]),f={},v=a?function(e,t){return f[a]=t,f[s]=e,f}:function(e){return f[s]=e,f};function y(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function S(e){var t;if(!a&&_(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:l,getTrackByValue:o,getWatchables:n(g,(function(e){for(var t=[],n=S(e=e||[]),o=n.length,s=0;s<o;s++){var a=e[l=e===n?s:n[s]],l=v(a,l);a=u(a,l);t.push(a),(i[2]||i[1])&&(a=p(r,l),t.push(a)),i[4]&&(l=h(r,l),t.push(l))}return t})),getOptions:function(){for(var e=[],t={},n=g(r)||[],i=S(n),s=i.length,a=0;a<s;a++){var d=n===i?a:i[a],f=v(n[d],d),_=c(r,f);f=new y(d=u(_,f),_,p(r,f),m(r,f),h(r,f));e.push(f),t[d]=f}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[o(e)]},getViewValueFromOption:function(e){return l?b.copy(e.viewValue):e.viewValue}}}}}var i=t.createElement("option"),o=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=A},post:function(t,n,s,l){for(var c,u=l[0],p=l[1],m=s.multiple,h=0,g=n.children(),f=g.length;h<f;h++)if(""===g[h].value){c=g.eq(h);break}var v,y=!!c,b=d(i.cloneNode(!1));function S(){y||c.remove()}function _(){b.remove()}b.val("?");var $=r(s.ngOptions,n,t);function w(e,t){(e.element=t).disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function M(e,t,n,r){var i;return t&&a(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function T(e){for(var t;e;)t=e.nextSibling,mt(e),e=t}function k(){var e=v&&u.readValue();v=$.getOptions();var t,r={},s=n[0].firstChild;y&&n.prepend(c),s=function(e){var t=c&&c[0],n=b&&b[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===Z(e)&&""===e.value);)e=e.nextSibling;return e}(s),v.items.forEach((function(e){var t,a;R(e.group)?((t=r[e.group])||(a=M(n[0],s,"optgroup",o),s=a.nextSibling,a.label=e.group,t=r[e.group]={groupElement:a,currentOptionElement:a.firstChild}),w(e,a=M(t.groupElement,t.currentOptionElement,"option",i)),t.currentOptionElement=a.nextSibling):(w(e,a=M(n[0],s,"option",i)),s=a.nextSibling)})),Object.keys(r).forEach((function(e){T(r[e].currentOptionElement)})),T(s),p.$render(),p.$isEmpty(e)||(t=u.readValue(),($.trackBy||m?re(e,t):e===t)||(p.$setViewValue(t),p.$render()))}m?(p.$isEmpty=function(e){return!e||0===e.length},u.writeValue=function(e){v.items.forEach((function(e){e.element.selected=!1})),e&&e.forEach((function(e){(e=v.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)}))},u.readValue=function(){var e=n.val()||[],t=[];return C(e,(function(e){(e=v.selectValueMap[e])&&!e.disabled&&t.push(v.getViewValueFromOption(e))})),t},$.trackBy&&t.$watchCollection((function(){if(B(p.$viewValue))return p.$viewValue.map((function(e){return $.getTrackByValue(e)}))}),(function(){p.$render()}))):(u.writeValue=function(e){var t=v.getOptionFromViewValue(e);t&&!t.disabled?(n[0].value!==t.selectValue&&(_(),S(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||y?(_(),y||n.prepend(c),n.val(""),c.prop("selected",!0),c.attr("selected",!0)):(S(),n.prepend(b),n.val("?"),b.prop("selected",!0),b.attr("selected",!0))},u.readValue=function(){var e=v.selectValueMap[n.val()];return e&&!e.disabled?(S(),_(),v.getViewValueFromOption(e)):null},$.trackBy&&t.$watch((function(){return $.getTrackByValue(p.$viewValue)}),(function(){p.$render()}))),y?(c.remove(),e(c)(t),c.removeClass("ng-scope")):c=d(i.cloneNode(!1)),k(),t.$watchCollection($.getWatchables,k)}}}}],wo=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,l){var c,d=l.count,u=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,m=o.$eval(u)||{},h={},g=t.startSymbol(),f=t.endSymbol(),v=g+d+"-"+p+f,y=b.noop;function S(e){s.text(e||"")}C(l,(function(e,t){var n=i.exec(t);n&&(n=(n[1]?"-":"")+a(n[2]),m[n]=s.attr(l.$attr[t]))})),C(m,(function(e,n){h[n]=t(e.replace(r,v))})),o.$watch(d,(function(t){var r=parseFloat(t),i=isNaN(r);i||r in m||(r=e.pluralCat(r-p)),r===c||i&&U(c)&&isNaN(c)||(y(),I(i=h[r])?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+u),y=A,S()):y=o.$watch(i,S),c=r)}))}}}],Mo=["$parse","$animate","$compile",function(e,t,i){function o(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))}var a="$$NG_REMOVED",l=r("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,c){var d=c.ngRepeat,u=i.$$createComment("end ngRepeat",d),p=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var m=p[1],h=p[2],g=p[3];c=p[4];if(!(p=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var f,v,y,b,S=p[3]||p[1],$=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var w={$id:$t};return c?f=e(c):(y=function(e,t){return $t(t)},b=function(e){return e}),function(e,r,i,c,p){f&&(v=function(t,n,r){return $&&(w[$]=t),w[S]=n,w.$index=r,f(e,w)});var m=Ae();e.$watchCollection(h,(function(i){var c,h,f,w,M,T,k,P,D,L,A,x,E,j,I=r[0],R=Ae();if(g&&(e[g]=i),_(i))D=i,P=v||y;else for(var N in P=v||b,D=[],i)s.call(i,N)&&"$"!==N.charAt(0)&&D.push(N);for(w=D.length,A=new Array(w),c=0;c<w;c++)if(M=i===D?c:D[c],T=i[M],k=P(M,T,c),m[k])L=m[k],delete m[k],R[k]=L,A[c]=L;else{if(R[k])throw C(A,(function(e){e&&e.scope&&(m[e.id]=e)})),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,k,T);A[c]={id:k,scope:n,clone:n},R[k]=!0}for(E in m){if(x=Le((L=m[E]).clone),t.leave(x),x[0].parentNode)for(c=0,h=x.length;c<h;c++)x[c][a]=!0;L.scope.$destroy()}for(c=0;c<w;c++)if(M=i===D?c:D[c],T=i[M],(L=A[c]).scope){for(f=I;(f=f.nextSibling)&&f[a];);L.clone[0]!=f&&t.move(Le(L.clone),null,I),I=(j=L).clone[j.clone.length-1],o(L.scope,c,S,T,$,M,w)}else p((function(e,n){L.scope=n,n=u.cloneNode(!1),e[e.length++]=n,t.enter(e,null,I),I=n,L.clone=e,R[L.id]=L,o(L.scope,c,S,T,$,M,w)}));m=R}))}}}}],To="ng-hide",ko="ng-hide-animate",Po=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,(function(t){e[t?"removeClass":"addClass"](n,To,{tempClasses:ko})}))}}}],Do=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,(function(t){e[t?"addClass":"removeClass"](n,To,{tempClasses:ko})}))}}}],Lo=mi((function(e,t,n){e.$watch(n.ngStyle,(function(e,n){n&&e!==n&&C(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}),!0)})),Ao=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){i=i.ngSwitch||i.on;var s,a=[],l=[],c=[];n.$watch(i,(function(n){for(var r=0,i=l.length;r<i;++r)e.cancel(l[r]);for(r=l.length=0,i=c.length;r<i;++r){var d=Le(a[r].clone);c[r].$destroy(),(l[r]=e.leave(d)).then(function(e,t){return function(){e.splice(t,1)}}(l,r))}a.length=0,c.length=0,(s=o.cases["!"+n]||o.cases["?"])&&C(s,(function(n){n.transclude((function(r,i){c.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen"),i={clone:r},a.push(i),e.enter(r,o.parent(),o)}))}))}))}}}],xo=mi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Eo=mi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),jo=r("ngTransclude"),Io=mi({restrict:"EAC",link:function(e,t,n,r,i){if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!i)throw jo("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ge(t));i((function(e){e.length&&(t.empty(),t.append(e))}),null,n.ngTransclude||n.ngTranscludeSlot)}}),Ro=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&(n=n.id,t=t[0].text,e.put(n,t))}}}],No={$setViewValue:A,$render:A};function Oo(){return{restrict:"E",require:["select","?ngModel"],controller:Wo,priority:1,link:{pre:function(e,t,n,r){var i=r[1];if(i){var o,s,a=r[0];a.ngModelCtrl=i,t.on("change",(function(){e.$apply((function(){i.$setViewValue(a.readValue())}))})),n.multiple&&(a.readValue=function(){var e=[];return C(t.find("option"),(function(t){t.selected&&e.push(t.value)})),e},a.writeValue=function(e){var n=new wt(e);C(t.find("option"),(function(e){e.selected=R(n.get(e.value))}))},s=NaN,e.$watch((function(){s!==i.$viewValue||re(o,i.$viewValue)||(o=ne(i.$viewValue),i.$render()),s=i.$viewValue})),i.$isEmpty=function(e){return!e||0===e.length})}},post:function(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}}}function Vo(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",(function(){r.$validate()})))}}}function Uo(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){var s,a;o&&(a=i.ngPattern||i.pattern,i.$observe("pattern",(function(e){if(V(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,ge(t));s=e||n,o.$validate()})),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||I(s)||s.test(t)})}}}function Fo(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var i;r&&(i=-1,n.$observe("maxlength",(function(e){e=D(e),i=isNaN(e)?-1:e,r.$validate()})),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i})}}}function Bo(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var i;r&&(i=0,n.$observe("minlength",(function(e){i=D(e)||0,r.$validate()})),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i})}}}var Yo,Go,Ho,zo,qo,Wo=["$element","$scope",function(e,r){var i=this,o=new wt;i.ngModelCtrl=No,i.unknownOption=d(t.createElement("option")),i.renderUnknownOption=function(t){t="? "+$t(t)+" ?",i.unknownOption.val(t),e.prepend(i.unknownOption),e.val(t)},r.$on("$destroy",(function(){i.renderUnknownOption=A})),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(e,t){var n;8!==t[0].nodeType&&(Pe(e,'"option value"'),""===e&&(i.emptyOption=t),n=o.get(e)||0,o.put(e,n+1),i.ngModelCtrl.$render(),(t=t)[0].hasAttribute("selected")&&(t[0].selected=!0))},i.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(i.emptyOption=n)):o.put(e,t-1))},i.hasOption=function(e){return!!o.get(e)},i.registerOption=function(e,t,n,r,o){var s;r?n.$observe("value",(function(e){R(s)&&i.removeOption(s),s=e,i.addOption(e,t)})):o?e.$watch(o,(function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)})):i.addOption(n.value,t),t.on("$destroy",(function(){i.removeOption(n.value),i.ngModelCtrl.$render()}))}}],Qo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return R(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text()),function(e,t,n){var o="$selectController",s=t.parent();(o=s.data(o)||s.parent().data(o))&&o.registerOption(e,t,n,r,i)}}}}],Ko=E({restrict:"E",terminal:!1});function Jo(e,t,n){return e[t]||(e[t]=n())}e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(Me||(Go=oe(),(u=I(Go)?e.jQuery:Go?e[Go]:n)&&u.fn.on?(P((d=u).fn,{scope:ht.scope,isolateScope:ht.isolateScope,controller:ht.controller,injector:ht.injector,inheritedData:ht.inheritedData}),Yo=u.cleanData,u.cleanData=function(e){for(var t,n,r=0;null!=(n=e[r]);r++)(t=u._data(n,"events"))&&t.$destroy&&u(n).triggerHandler("$destroy");Yo(e)}):d=Ze,b.element=d,Me=!0),P(Ho=b,{bootstrap:Ce,copy:te,extend:P,merge:function(e){return k(e,m.call(arguments,1),!0)},equals:re,element:d,forEach:C,injector:Et,noop:A,bind:le,toJson:de,fromJson:ue,identity:x,isUndefined:I,isDefined:R,isString:V,isFunction:Y,isObject:N,isNumber:U,isElement:X,isArray:B,version:{full:"1.5.3",major:1,minor:5,dot:3,codeName:"diplohaplontic-meiosis"},isDate:F,lowercase:a,uppercase:l,callbacks:{counter:0},getTestability:function(e){if(!(e=b.element(e).injector()))throw y("test","no injector found for element argument to getTestability");return e.get("$$testability")},$$minErr:r,$$csp:ie,reloadWithDebugInfo:function(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}}),Ho=e,zo=r("$injector"),qo=r("ng"),(Ho=Jo(Ho,"angular",Object)).$$minErr=Ho.$$minErr||r,(p=Jo(Ho,"module",(function(){var e={};return function(t,n,r){return function(e,t){if("hasOwnProperty"===e)throw qo("badname","hasOwnProperty is not a valid {0} name","module")}(t),n&&e.hasOwnProperty(t)&&(e[t]=null),Jo(e,t,(function(){if(!n)throw zo("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var e=[],i=[],o=[],s=l("$injector","invoke","push",i),a={_invokeQueue:e,_configBlocks:i,_runBlocks:o,requires:n,name:t,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:c("$provide","decorator"),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:s,run:function(e){return o.push(e),this}};return r&&s(r),a;function l(t,n,r,i){return i=i||e,function(){return i[r||"push"]([t,n,arguments]),a}}function c(n,r){return function(i,o){return o&&Y(o)&&(o.$$moduleName=t),e.push([n,r,arguments]),a}}}))}})))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:kr}),e.provider("$compile",Kt).directive({a:hi,input:Oi,textarea:Oi,form:bi,script:Ro,select:Oo,style:Ko,option:Qo,ngBind:Ui,ngBindHtml:Bi,ngBindTemplate:Fi,ngClass:Hi,ngClassEven:qi,ngClassOdd:zi,ngCloak:Wi,ngController:Qi,ngForm:Si,ngHide:Do,ngIf:eo,ngInclude:to,ngInit:ro,ngNonBindable:So,ngPluralize:wo,ngRepeat:Mo,ngShow:Po,ngStyle:Lo,ngSwitch:Ao,ngSwitchWhen:xo,ngSwitchDefault:Eo,ngOptions:$o,ngTransclude:Io,ngModel:fo,ngList:Xi,ngChange:Yi,pattern:Uo,ngPattern:Uo,required:Vo,ngRequired:Vo,minlength:Bo,ngMinlength:Bo,maxlength:Fo,ngMaxlength:Fo,ngValue:Ni,ngModelOptions:Zi}).directive({ngInclude:no}).directive(gi).directive(Ki),e.provider({$anchorScroll:jt,$animate:Gt,$animateCss:Yt,$$animateJs:Vt,$$animateQueue:Ut,$$AnimateRunner:Bt,$$animateAsyncRun:Ft,$browser:zt,$cacheFactory:qt,$controller:on,$document:sn,$exceptionHandler:an,$filter:Hr,$$forceReflow:ln,$interpolate:Pn,$interval:Dn,$http:wn,$httpParamSerializer:vn,$httpParamSerializerJQLike:yn,$httpBackend:Tn,$xhrFactory:Mn,$location:Hn,$log:zn,$parse:_r,$rootScope:Tr,$q:Cr,$$q:$r,$sce:xr,$sceDelegate:Ar,$sniffer:Er,$templateCache:Wt,$templateRequest:Ir,$$testability:Rr,$timeout:Nr,$window:Br,$$rAF:Mr,$$jqLite:Ct,$$HashMap:Mt,$$cookieReader:Gr})}]),b.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e;t=function(e,t){var r=t;n===r&&(r=Math.min((t=e,-1==(i=(t+="").indexOf("."))?0:t.length-i-1),3));var i=Math.pow(10,r);return{v:r,f:(e*i|0)%i}}(e,t);return 1==r&&0==t.v?"one":"other"}})}]),d(t).ready((function(){!function(e,t){var n,r,i={};C(_e,(function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(r=(n=e).getAttribute(t))})),C(_e,(function(t){var i;t+="app",!n&&(i=e.querySelector("["+t.replace(":","\\:")+"]"))&&(r=(n=i).getAttribute(t))})),n&&(i.strictDi=null!==function(e,t){for(var n,r=_e.length,i=0;i<r;++i)if(n=_e[i]+"strict-di",V(n=e.getAttribute(n)))return n;return null}(n),t(n,r?[r]:[],i))}(t,Ce)})))}(window,document),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},function(e,t,n){var r={"./af":1,"./af.js":1,"./ar":2,"./ar-dz":3,"./ar-dz.js":3,"./ar-kw":4,"./ar-kw.js":4,"./ar-ly":5,"./ar-ly.js":5,"./ar-ma":6,"./ar-ma.js":6,"./ar-sa":7,"./ar-sa.js":7,"./ar-tn":8,"./ar-tn.js":8,"./ar.js":2,"./az":9,"./az.js":9,"./be":10,"./be.js":10,"./bg":11,"./bg.js":11,"./bm":12,"./bm.js":12,"./bn":13,"./bn.js":13,"./bo":14,"./bo.js":14,"./br":15,"./br.js":15,"./bs":16,"./bs.js":16,"./ca":17,"./ca.js":17,"./cs":18,"./cs.js":18,"./cv":19,"./cv.js":19,"./cy":20,"./cy.js":20,"./da":21,"./da.js":21,"./de":22,"./de-at":23,"./de-at.js":23,"./de-ch":24,"./de-ch.js":24,"./de.js":22,"./dv":25,"./dv.js":25,"./el":26,"./el.js":26,"./en-au":27,"./en-au.js":27,"./en-ca":28,"./en-ca.js":28,"./en-gb":29,"./en-gb.js":29,"./en-ie":30,"./en-ie.js":30,"./en-nz":31,"./en-nz.js":31,"./eo":32,"./eo.js":32,"./es":33,"./es-do":34,"./es-do.js":34,"./es-us":35,"./es-us.js":35,"./es.js":33,"./et":36,"./et.js":36,"./eu":37,"./eu.js":37,"./fa":38,"./fa.js":38,"./fi":39,"./fi.js":39,"./fo":40,"./fo.js":40,"./fr":41,"./fr-ca":42,"./fr-ca.js":42,"./fr-ch":43,"./fr-ch.js":43,"./fr.js":41,"./fy":44,"./fy.js":44,"./gd":45,"./gd.js":45,"./gl":46,"./gl.js":46,"./gom-latn":47,"./gom-latn.js":47,"./gu":48,"./gu.js":48,"./he":49,"./he.js":49,"./hi":50,"./hi.js":50,"./hr":51,"./hr.js":51,"./hu":52,"./hu.js":52,"./hy-am":53,"./hy-am.js":53,"./id":54,"./id.js":54,"./is":55,"./is.js":55,"./it":56,"./it.js":56,"./ja":57,"./ja.js":57,"./jv":58,"./jv.js":58,"./ka":59,"./ka.js":59,"./kk":60,"./kk.js":60,"./km":61,"./km.js":61,"./kn":62,"./kn.js":62,"./ko":63,"./ko.js":63,"./ky":64,"./ky.js":64,"./lb":65,"./lb.js":65,"./lo":66,"./lo.js":66,"./lt":67,"./lt.js":67,"./lv":68,"./lv.js":68,"./me":69,"./me.js":69,"./mi":70,"./mi.js":70,"./mk":71,"./mk.js":71,"./ml":72,"./ml.js":72,"./mr":73,"./mr.js":73,"./ms":74,"./ms-my":75,"./ms-my.js":75,"./ms.js":74,"./mt":76,"./mt.js":76,"./my":77,"./my.js":77,"./nb":78,"./nb.js":78,"./ne":79,"./ne.js":79,"./nl":80,"./nl-be":81,"./nl-be.js":81,"./nl.js":80,"./nn":82,"./nn.js":82,"./pa-in":83,"./pa-in.js":83,"./pl":84,"./pl.js":84,"./pt":85,"./pt-br":86,"./pt-br.js":86,"./pt.js":85,"./ro":87,"./ro.js":87,"./ru":88,"./ru.js":88,"./sd":89,"./sd.js":89,"./se":90,"./se.js":90,"./si":91,"./si.js":91,"./sk":92,"./sk.js":92,"./sl":93,"./sl.js":93,"./sq":94,"./sq.js":94,"./sr":95,"./sr-cyrl":96,"./sr-cyrl.js":96,"./sr.js":95,"./ss":97,"./ss.js":97,"./sv":98,"./sv.js":98,"./sw":99,"./sw.js":99,"./ta":100,"./ta.js":100,"./te":101,"./te.js":101,"./tet":102,"./tet.js":102,"./th":103,"./th.js":103,"./tl-ph":104,"./tl-ph.js":104,"./tlh":105,"./tlh.js":105,"./tr":106,"./tr.js":106,"./tzl":107,"./tzl.js":107,"./tzm":108,"./tzm-latn":109,"./tzm-latn.js":109,"./tzm.js":108,"./uk":110,"./uk.js":110,"./ur":111,"./ur.js":111,"./uz":112,"./uz-latn":113,"./uz-latn.js":113,"./uz.js":112,"./vi":114,"./vi.js":114,"./x-pseudo":115,"./x-pseudo.js":115,"./yo":116,"./yo.js":116,"./zh-cn":117,"./zh-cn.js":117,"./zh-hk":118,"./zh-hk.js":118,"./zh-tw":119,"./zh-tw.js":119};function i(e){return e=o(e),n(e)}function o(e){if(n.o(r,e))return r[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=123},function(e,t,n){var r;window,r=function(e,t,n){return function(e){function t(t){for(var r,s,a=t[0],l=t[1],c=t[2],u=0,p=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={jumper:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",Object.defineProperty(s,"p",{get:function(){try{if("string"!=typeof streamFullStaticPath)throw new Error("WebpackRequireFrom: 'streamFullStaticPath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return streamFullStaticPath}catch(e){return""}}});var a=window.webpackJsonp_name_=window.webpackJsonp_name_||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;return o.push(["./app/app.ts","jumper.common"]),n()}({"../../../../../.BtCxCache/MediaUx.Angular-Sanitize.1.5.3/node_modules/angular-sanitize/angular-sanitize.js":function(e,t){!function(e,t,n){"use strict";var r,i=t.$$minErr("$sanitize"),o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/([^\#-~ |!])/g,a=f("area,br,col,hr,img,wbr"),l=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c=f("rp,rt"),d=t.extend({},c,l),u=(l=t.extend({},l,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),c=t.extend({},c,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan")),p=f("script,style"),m=t.extend({},a,l,c,d),h=f("background,cite,href,longdesc,src,xlink:href"),g=(c=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),d=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),t.extend({},h,d,c));function f(e,n){for(var r={},i=e.split(","),o=0;o<i.length;o++)r[n?t.lowercase(i[o]):i[o]]=!0;return r}function v(e){return e.replace(/&/g,"&amp;").replace(o,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(s,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o){e=t.lowercase(e),!r&&p[e]&&(r=e),r||!0!==m[e]||(i("<"),i(e),t.forEach(o,(function(r,o){var s=t.lowercase(o),a="img"===e&&"src"===s||"background"===s;!0!==g[s]||!0===h[s]&&!n(r,a)||(i(" "),i(o),i('="'),i(v(r)),i('"'))})),i(">"))},end:function(e){e=t.lowercase(e),r||!0!==m[e]||!0===a[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(v(e))}}}!function(e){var t;if(!e.document||!e.document.implementation)throw i("noinert","Can't create an inert html document");1===(e=((t=e.document.implementation.createHTMLDocument("inert")).documentElement||t.getDocumentElement()).getElementsByTagName("body")).length?r=e[0]:(e=t.createElement("html"),r=t.createElement("body"),e.appendChild(r),t.appendChild(e))}(e),t.module("ngSanitize",[]).provider("$sanitize",(function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(m,u),function(e){var t=[];return function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e),r.innerHTML=e;var n=5;do{if(0===n)throw i("uinput","Failed to sanitize html because the input is unstable");n--,document.documentMode<=11&&function e(t){if(t.nodeType===Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.indexOf("ns1:")||(t.removeAttributeNode(o),r--,i--)}var a=t.firstChild;a&&e(a),(a=t.nextSibling)&&e(a)}(r),e=r.innerHTML,r.innerHTML=e}while(e!==r.innerHTML);for(var o,s=r.firstChild;s;){switch(s.nodeType){case 1:t.start(s.nodeName.toLowerCase(),function(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}(s.attributes));break;case 3:t.chars(s.textContent)}if(!((o=s.firstChild)||(1==s.nodeType&&t.end(s.nodeName.toLowerCase()),o=s.nextSibling)))for(;null==o&&(s=s.parentNode)!==r;)o=s.nextSibling,1==s.nodeType&&t.end(s.nodeName.toLowerCase());s=o}for(;s=r.firstChild;)r.removeChild(s)}(e,y(t,(function(e,t){return!/^unsafe:/.test(n(e,t))}))),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}})),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),o=t.isString;return function(s,a,l){if(null==s||""===s)return s;if(!o(s))throw i("notstring","Expected string but received: {0}",s);for(var c,d,u,p=s,m=[];c=p.match(n);)d=c[0],c[2]||c[4]||(d=(c[3]?"http://":"mailto:")+d),u=c.index,h(p.substr(0,u)),function(e,n){if(m.push("<a "),t.isFunction(l)&&(l=l(e)),t.isObject(l))for(var r in l)m.push(r+'="'+l[r]+'" ');else l={};!t.isDefined(a)||"target"in l||m.push('target="',a,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),h(n),m.push("</a>")}(d,c[0].replace(r,"")),p=p.substring(u+c[0].length);return h(p),e(m.join(""));function h(e){var n;e&&m.push((n=e,y(e=[],t.noop).chars(n),e.join("")))}}}])}(window,window.angular)},"../../../../../.BtCxCache/MediaUx.Angular-Sanitize.1.5.3/node_modules/angular-sanitize/index.js":function(e,t,n){n("../../../../../.BtCxCache/MediaUx.Angular-Sanitize.1.5.3/node_modules/angular-sanitize/angular-sanitize.js"),e.exports="ngSanitize"},"./app/AppController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.prototype.closeCurrentDialogs=function(){var e=$(".ngdialog");_.forEach(e,(function(e){(e=angular.element(e).scope())&&_.isFunction(e.closeThisDialog)&&e.closeThisDialog()}))},i.prototype.setDialogOverlayBackground=function(){var e=this.dialogOverlayStyle.sheet;e.cssRules.length&&e.deleteRule(0),e.insertRule(".ngdialog-open .ngdialog .ngdialog-overlay{background: rgba(0, 0, 0, 0.4)}",0)},i.prototype.isPage=function(e){return 0<=this.$location.path().toLowerCase().indexOf(e)},i.$inject=["$scope","$router","$location","navigationService","elementRefocusService","loggingService","clearQueryParamsService"],n=i;function i(e,t,n,r,i,o,s){var a=this;this.$scope=e,this.$location=n,this.navigationService=r,this.elementRefocusService=i,this.loggingService=o,this.clearQueryParamsService=s,t.config([{path:"/",component:"MyHub"},{path:"/browse/",component:"Browse"},{path:"/user/:id",component:"User"},{path:"/browse/:search",component:"Browse"},{path:"/video",component:"Video"},{path:"/video/:id",component:"Video"},{path:"/videoupdate/:id",component:"VideoUpdate"},{path:"/update/:id",component:"Update"},{path:"/channel/:id",component:"Channel"},{path:"/upload",component:"Upload"},{path:"/create",component:"CreateLive"},{path:"/usersettings",component:"UserSettings"},{path:"/mygroups",component:"MyGroups"},{path:"/studio",component:"Studio"},{path:"/studio/:view",component:"Studio"},{path:"/admin/downloadvideos",component:"AdminDownloadVideos"},{path:"/admin",component:"AdminSettings"},{path:"/**",component:"Fallback"},{path:"/welcome",component:"Welcome"},{path:"/invite",component:"Invite"},{path:"/group/:id",component:"Group"},{path:"/accessrequest/:id/:act",component:"AccessRequest"}]),this.clearQueryParamsService.init(),this.dialogOverlayStyle=document.createElement("style"),document.head.appendChild(this.dialogOverlayStyle),e.$on("$locationChangeSuccess",(function(e,t,n){a.navigationService.logHistory(n),a.closeCurrentDialogs(),a.setDialogOverlayBackground()})),setTimeout((function(){a.elementRefocusService.init()}),0)}t.JumperController=n,r.registerController("JumperController",n,angular.module("jumper.controllers"))},"./app/Controllers/AccessRequest/AccessRequestController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["$routeParams"],n=i;function i(e){this.accessRequestId=e.id,this.actionTaken=e.act}t.AccessRequestController=n,r.registerController("AccessRequestController",n,angular.module("jumper.controllers"))},"./app/Controllers/AdminDownloadVideos/AdminDownloadVideos.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/models/TelemetryEventModels.ts");n=function(){i.ActivityIds.initActivityId(o.ScreenName.AdminSettings)};t.AdminDownloadVideosController=n,r.registerController("AdminDownloadVideosController",n,angular.module("jumper.controllers"))},"./app/Controllers/AdminSettings/AdminSettingsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/models/TelemetryEventModels.ts");s.$inject=["$routeParams"],n=s;function s(e){i.ActivityIds.initActivityId(o.ScreenName.AdminSettings)}t.AdminSettingsController=n,r.registerController("AdminSettingsController",n,angular.module("jumper.controllers"))},"./app/Controllers/Browse/BrowseController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["$routeParams","resources"],n=i;function i(e,t){this.resources=t,this.routeParams=e}t.BrowseController=n,r.registerController("BrowseController",n,angular.module("jumper.controllers"))},"./app/Controllers/Channel/ChannelController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/models/TelemetryEventModels.ts");s.$inject=["$routeParams","telemetryService","$location"],n=s;function s(e,t,n){this.$routeParams=e,this.telemetryService=t,("edit"===(this.$location=n).search().mode?this.telemetryService.getTracker(o.ScreenName.ChannelUpdate):this.telemetryService.getTracker(o.ScreenName.ChannelView)).tagScreen(),this.channelId=e.id,i.ActivityIds.initActivityId(o.ScreenName.Channel)}t.ChannelController=n,r.registerController("ChannelController",n,angular.module("jumper.controllers"))},"./app/Controllers/CreateLive/CreateLiveController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/models/TelemetryEventModels.ts");n=n("./app/Controllers/LiveUpdateBasePage.ts"),i(c,o=n.LiveUpdateBasePage),c.$inject=["$routeParams","$rootScope","$q","$location","confirmationDialogService","navigationService","resources"],i=c;function c(e,t,n,r,i,s,c){return(c=o.call(this,t,n,r,i,s,c)||this).videoId=e.id,a.ActivityIds.initActivityId(l.ScreenName.CreateLive),c}t.CreateLiveController=i,s.registerController("CreateLiveController",i,angular.module("jumper.controllers"))},"./app/Controllers/Fallback/FallbackController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["resources","$location","$timeout"],n=i;function i(e,t,n){var r=this;this.resources=e,this.shouldShow=!1,n((function(){t.path()!==t.path().toLowerCase()?(t.url(t.url().toLowerCase()),t.replace()):r.shouldShow=!0}),0)}t.FallbackController=n,r.registerController("FallbackController",n,angular.module("jumper.controllers"))},"./app/Controllers/Group/GroupController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["$routeParams"],n=i;function i(e){this.routeParams=e,this.groupId=this.routeParams.id}t.GroupController=n,r.registerController("GroupController",n,angular.module("jumper.controllers"))},"./app/Controllers/Invite/InviteController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["$location","$window"],n=i;function i(e,t){this.$location=e,this.$window=t,this.$location.search().sender.toLocaleLowerCase()===sessionInfo.UserClaim.UserInfo.DisplayableId.toLocaleLowerCase()?setTimeout((function(){window.close()}),1e3):this.$window.location.replace("/welcome")}t.InviteController=n,r.registerController("InviteController",n,angular.module("jumper.controllers"))},"./app/Controllers/LiveUpdateBasePage.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts");i.prototype.canDeactivate=function(){var e=this;return this.$rootScope.ProducerPageLeaveAlertCondition&&this.$rootScope.ProducerPageLeaveAlertCondition()?this.onExit().then((function(){e.locationChangeCancelFunc()})):(this.locationChangeCancelFunc(),this.$q.resolve())},i.prototype.onExit=function(e){return e&&e.preventDefault(),this.confirmationDialogService.show({title:this.resources.ProducerLiveIngestExitTitle,message:this.resources.ProducerLiveIngestExitMessage,confirmButtonLabel:this.resources.ProducerLiveIngestExitButtonLeave,cancelButtonLabel:this.resources.Cancel})},n=i;function i(e,t,n,i,o,s){var a=this;this.$rootScope=e,this.$q=t,this.$location=n,this.confirmationDialogService=i,this.navigationService=o,this.resources=s,this.locationChangeCancelFunc=this.$rootScope.$on("$locationChangeStart",(function(e,t,i){var o,s;_.isNull(i)||_.isNull(t)||(o=a.navigationService.parseURL(i),s=a.navigationService.parseURL(t),i=a.navigationService.getPageName(i),o.pathname!==s.pathname&&(i===r.ScreenName.CreateLive||i===r.ScreenName.LiveUpdate)&&a.$rootScope.ProducerPageLeaveAlertCondition&&a.$rootScope.ProducerPageLeaveAlertCondition()&&a.onExit(e).then((function(){a.locationChangeCancelFunc(),a.$location.path(t.substring(n.absUrl().length-n.url().length))})))}))}t.LiveUpdateBasePage=n},"./app/Controllers/MyGroups/MyGroupsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["$routeParams"],n=i;function i(e){this.routeParams=e}t.MyGroupsController=n,r.registerController("MyGroupsController",n,angular.module("jumper.controllers"))},"./app/Controllers/MyHub/MyHubController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/models/TelemetryEventModels.ts");s.$inject=["telemetryService"],n=s;function s(e){this.telemetryService=e,this.showUpdateHomePage=!1,this.telemetryService.getTracker(o.ScreenName.Hub).tagScreen(),i.ActivityIds.initActivityId(o.ScreenName.Hub)}t.MyHubController=n,r.registerController("MyHubController",n,angular.module("jumper.controllers"))},"./app/Controllers/Studio/Studio.less":function(e,t){},"./app/Controllers/Studio/StudioController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/Controllers/Studio/Studio.less");var r=n("./app/utility/appUtil.ts");i.$inject=["resources","telemetryService","$routeParams"],n=i;function i(e,t,n){this.Resources=e,this.telemetryService=t,this.routeParams=n}t.StudioController=n,r.registerController("StudioController",n,angular.module("jumper.controllers"))},"./app/Controllers/Update/UpdateController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/models/TelemetryEventModels.ts");n=n("./app/Controllers/LiveUpdateBasePage.ts"),i(c,o=n.LiveUpdateBasePage),c.$inject=["$routeParams","$rootScope","$q","$location","confirmationDialogService","navigationService","resources"],i=c;function c(e,t,n,r,i,s,c){return(c=o.call(this,t,n,r,i,s,c)||this).videoId=e.id,a.ActivityIds.initActivityId(l.ScreenName.LiveUpdate),c}t.UpdateController=i,s.registerController("UpdateController",i,angular.module("jumper.controllers"))},"./app/Controllers/Upload/UploadController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/ActivityIds.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.canDeactivate=function(){var e=this;return this.showBgUploadNotice?this.onExit().then((function(){e.locationChangeCancelFunc()})):this.$q.resolve()},Object.defineProperty(a.prototype,"anyFilesInUpload",{get:function(){return _.some(this.filesToUpload,(function(e){return e.editStateInfo.videoState===i.Constants.VideoState.creating||e.editStateInfo.videoState===i.Constants.VideoState.created||e.editStateInfo.videoState===i.Constants.VideoState.uploading}))},enumerable:!0,configurable:!0}),a.prototype.onExit=function(e){var t=this;return this.exited?this.$q.resolve():this.filesToUpload&&0<this.filesToUpload.length&&this.anyFilesInUpload?(e&&e.preventDefault(),this.confirmationDialogService.show({title:this.resources.Upload.BgUploadNotice.Title,message:this.resources.Upload.BgUploadNotice.Message,confirmButtonLabel:this.resources.OK,cancelButtonLabel:this.resources.DontShowThisAgain}).then((function(){}),(function(e){"$document"!==e&&"$escape"!==e&&t.principalService.patchMySettings({general:{showBgUploadNotice:!1}}).then((function(e){}),(function(e){t.telemetryService.getTracker(s.ScreenName.Upload).fail(s.FeatureName.UpdatePrincipalSettings,s.SubFeatureName.General_ShowBgUploadNotice,e)}))})).finally((function(){t.exited=!0}))):this.$q.resolve()},a.$inject=["$rootScope","telemetryService","$q","resources","$location","confirmationDialogService","principalService"],n=a;function a(e,t,n,r,a,l,c){var d=this;this.$rootScope=e,this.telemetryService=t,this.$q=n,this.resources=r,this.$location=a,this.confirmationDialogService=l,this.principalService=c,this.exited=!1,this.showBgUploadNotice=!0,this.telemetryService.getTracker(s.ScreenName.Upload).tagScreen(),o.ActivityIds.initActivityId(s.ScreenName.Upload),this.principalService.getMyPrincipalInfo().then((function(e){e=e.data.settings,d.showBgUploadNotice=!e.general||void 0===e.general.showBgUploadNotice||!1!==e.general.showBgUploadNotice,d.showBgUploadNotice||d.locationChangeCancelFunc()})),this.locationChangeCancelFunc=this.$rootScope.$on("$locationChangeStart",(function(e,t,n){-1!==n.toLowerCase().indexOf(i.Constants.Routes.Upload)&&d.onExit(e).then((function(){d.locationChangeCancelFunc(),d.$location.path(t.substring(a.absUrl().length-a.url().length))}))}))}t.UploadController=n,r.registerController("UploadController",n,angular.module("jumper.controllers"))},"./app/Controllers/User/UserController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["$routeParams"],n=i;function i(e){this.userId=e.id}t.UserController=n,r.registerController("UserController",n,angular.module("jumper.controllers"))},"./app/Controllers/UserSettings/UserSettingsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/models/TelemetryEventModels.ts");s.$inject=["$routeParams"],n=s;function s(e){i.ActivityIds.initActivityId(o.ScreenName.UserSettings)}t.UserSettingsController=n,r.registerController("UserSettingsController",n,angular.module("jumper.controllers"))},"./app/Controllers/Video/VideoController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/models/TelemetryEventModels.ts");s.$inject=["$routeParams","featureFlagsService","telemetryService"],n=s;function s(e,t,n){var r;this.featureFlagsService=t,this.telemetryService=n,this.videoId=e.id,t.Values.NewVideoPage&&(t=document.location.search.length?document.location.search.substr(1).split("&"):[],r=!1,t.length&&t.forEach((function(e){0===e.toLocaleLowerCase().indexOf("newvideopage=")&&(r=!0)})),this.telemetryService.getTracker(o.ScreenName.Video,o.ResourceType.Video,this.videoId).succeed(o.FeatureName.RedirectToNewVideoPage),r?document.location.reload():(t.push("NewVideoPage=true"),t=t.join("&"),document.location.search=t)),i.ActivityIds.initActivityId(o.ScreenName.Video)}t.VideoController=n,r.registerController("VideoController",n,angular.module("jumper.controllers"))},"./app/Controllers/VideoUpdate/VideoUpdateController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/ActivityIds.ts");s.$inject=["$routeParams","telemetryService"],n=s;function s(e,t){this.$routeParams=e,this.telemetryService=t,this.telemetryService.getTracker(i.ScreenName.VideoUpdate).tagScreen(),o.ActivityIds.initActivityId(i.ScreenName.VideoUpdate),this.videoId=e.id}t.VideoUpdateController=n,r.registerController("VideoUpdateController",n,angular.module("jumper.controllers"))},"./app/Controllers/Welcome/WelcomeController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/ActivityIds.ts");s.$inject=["telemetryService"],n=s;function s(e){this.telemetryService=e,this.telemetryService.getTracker(i.ScreenName.Welcome).tagScreen(),o.ActivityIds.initActivityId(i.ScreenName.Welcome)}t.WelcomeController=n,r.registerController("WelcomeController",n,angular.module("jumper.controllers"))},"./app/Controllers/index.ts":function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./app/Controllers/Browse/BrowseController.ts")),r(n("./app/Controllers/Channel/ChannelController.ts")),r(n("./app/Controllers/Video/VideoController.ts")),r(n("./app/Controllers/VideoUpdate/VideoUpdateController.ts")),r(n("./app/Controllers/Upload/UploadController.ts")),r(n("./app/Controllers/Studio/StudioController.ts")),r(n("./app/Controllers/Fallback/FallbackController.ts")),r(n("./app/Controllers/MyHub/MyHubController.ts")),r(n("./app/Controllers/Welcome/WelcomeController.ts")),r(n("./app/Controllers/Invite/InviteController.ts")),r(n("./app/Controllers/User/UserController.ts")),r(n("./app/Controllers/AdminSettings/AdminSettingsController.ts")),r(n("./app/Controllers/AdminDownloadVideos/AdminDownloadVideos.ts")),r(n("./app/Controllers/UserSettings/UserSettingsController.ts")),r(n("./app/Controllers/Group/GroupController.ts")),r(n("./app/Controllers/MyGroups/MyGroupsController.ts")),r(n("./app/Controllers/CreateLive/CreateLiveController.ts")),r(n("./app/Controllers/Update/UpdateController.ts")),r(n("./app/Controllers/AccessRequest/AccessRequestController.ts"))},"./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialog.html":function(e,t){e.exports='<dialog-box> <section class=about-stream> <div class=row> <div class="column x-small-12"> <div class=icon-container> <svg-src svg-name=stream-icon></svg-src> </div> <div class=data-container> <h4>Microsoft Stream</h4> <div dir=ltr class=copyright>&#0169; Microsoft Corporation {{$ctrl.copyRightYear}}. {{::$ctrl.resources.AllRightsReserved}}</div> <div><span class=bold-text>{{::$ctrl.resources.VersionNumber}}</span> <span>{{::$ctrl.versionNumber}}</span></div> <div><span class=bold-text>{{::$ctrl.resources.ClientSessionIDText}}</span> <span>{{::$ctrl.clientSessionId}}</span></div> <div ng-if=::$ctrl.dataLocation><span class=bold-text>{{::$ctrl.resources.ServiceRegionText}}</span> <span>{{::$ctrl.dataLocation}}</span></div> <div ng-if=$ctrl.reproducableSessionQueryString> <div class=bold-text>{{::$ctrl.resources.SessionQueryList}}</div> <textarea class="f-no-resize ct-textarea-compact" readonly=true>{{::$ctrl.reproducableSessionQueryString}}</textarea> </div> </div> </div> </div> <div class=row> <div class="column x-small-12"> <button ng-click=$ctrl.cancel() class="c-button ct-button-compact close-dialog-button" type=button>{{::$ctrl.resources.DialogClose}}</button> </div> </div> </section> </dialog-box>'},"./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialog.less":function(e,t){},"./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(){return this.openDialog({template:n("./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialog.html"),plain:!0,controller:o.AboutStreamDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!0,showClose:!1,className:"dialog-box about-dialog-box",ariaRole:"dialog"})},i=l;function l(){return null!==a&&a.apply(this,arguments)||this}t.AboutStreamDialog=i,angular.module("jumper.controls").service("AboutStreamDialog",i)},"./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.prototype.cancel=function(){this.$scope.closeThisDialog()},i.$inject=["$scope","resources","featureFlagsService"],n=i;function i(e,t,n){this.$scope=e,this.resources=t,this.clientSessionId="",this.versionNumber="",this.localTime="",this.copyRightYear=0,this.dataLocation="",this.reproducableSessionQueryString="",t=new Date,this.localTime=t.toLocaleDateString(sessionInfo.UserRegion,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"long"}),this.versionNumber=portalConfiguration.BuildNumber,this.clientSessionId=sessionInfo.ClientSessionId,this.copyRightYear=r.CopyrightYear(sessionInfo),sessionInfo&&sessionInfo.DataLocation&&(this.dataLocation=sessionInfo.DataLocation),n.Values.ShowSessionFlagsInAbout&&(this.reproducableSessionQueryString=n.generateQueryStringForFlags())}t.AboutStreamDialogController=n},"./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialog.html":function(e,t){e.exports='<dialog-box heading={{::$ctrl.resources.AddChannelsDialogLabel}} left-button-text=$ctrl.resources.Cancel right-button-text=$ctrl.rightButtonText left-button-enabled=true right-button-enabled=$ctrl.rightButtonEnabled on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.create() error-heading=$ctrl.errorHeader class=add-channel-dialog auto-focus-selector=".dropdown-list-container input"> <div class=add-channels-container> <channel-selector video-id=$ctrl.videoId selected-channels=$ctrl.selectedChannels create-disabled=true selector-label={{::$ctrl.resources.AddChannelsDialogSelectorLabel}}></channel-selector> </div> </dialog-box>'},"./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialog.less":function(e,t){},"./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;t={template:n("./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialog.html"),controller:o.AddChannelsDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box",data:{videoId:e,channels:t},ariaRole:"dialog"};return(t=this.openDialog(t)).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),t},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.AddChannelsDialog=i,angular.module("jumper.controls").service("addChannelsDialog",i)},"./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts");function s(e,t,n,r,i){this.$scope=e,this.resources=t,this.videoService=n,this.telemetryService=r,this.navigationService=i,this.selectedChannels=[],this.isApplyingChanges=!1,this.addToChannelSummaryProperties={isCancelled:!1},this.addToChannelSummaryMetrics={channelsAdded:0},this.videoId=this.$scope.ngDialogData.videoId,this.channels=this.$scope.ngDialogData.channels,this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.AddChannelDialog,o.ResourceType.Video,this.videoId),this.featureTelemetryTracker.tagScreen()}n("./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialog.less"),s.prototype.handleError=function(e){this.featureTelemetryTracker.fail(o.FeatureName.UpdateVideo,o.SubFeatureName.VideoService_PatchVideo,e),e&&_.isNumber(e.status)&&e.status<500&&e.data&&e.data.error&&_.isString(e.data.error.message)?this.errorHeader=e.data.error.message:this.errorHeader=this.resources.AddChannelsDialogErrorLabel},s.prototype.cancel=function(){this.addToChannelSummaryProperties.isCancelled=!0,this.addToChannelSummaryMetrics.channelsAdded=this.selectedChannels.length,this.sendAddToChannelTelemetrySummary(),this.$scope.closeThisDialog(!1)},s.prototype.create=function(){var e,t,n=this;this.addToChannelSummaryProperties.isCancelled=!1,this.addToChannelSummaryMetrics.channelsAdded=this.selectedChannels.length,this.selectedChannels.length&&(e={},t=_.uniqBy(_.concat(this.channels,this.selectedChannels),"id"),e[i.Constants.ChannelOdataString]=_.map(t,(function(e){return e.id})),this.isApplyingChanges=!0,this.videoService.patch(this.videoId,e).then((function(){n.isApplyingChanges=!1,n.featureTelemetryTracker.succeed(o.FeatureName.AddVideoToChannel),n.sendAddToChannelTelemetrySummary(),n.$scope.closeThisDialog(!0)}),(function(e){n.isApplyingChanges=!1,n.handleError(e)})))},Object.defineProperty(s.prototype,"rightButtonEnabled",{get:function(){return this.selectedChannels&&0<this.selectedChannels.length&&!this.isApplyingChanges},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightButtonText",{get:function(){return this.isApplyingChanges?this.resources.Adding:this.resources.Add},enumerable:!0,configurable:!0}),s.prototype.onSuccess=function(){this.$scope.closeThisDialog()},s.prototype.sendAddToChannelTelemetrySummary=function(){this.telemetryService.getTracker(this.navigationService.getPageName()).trackEvent(o.TelemetryEventNames.AddToChannelDialogSummary,this.addToChannelSummaryProperties,this.addToChannelSummaryMetrics)},s.$inject=["$scope","resources","videoService","telemetryService","navigationService"],n=s,t.AddChannelsDialogController=n,r.registerController("AddChannelsDialogController",n,angular.module("jumper.controls"))},"./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialog.html":function(e,t){e.exports='<dialog-box heading={{::$ctrl.resources.AddToGroupChannelDialogTitle}} left-button-text=$ctrl.resources.Cancel right-button-text=$ctrl.rightButtonText left-button-enabled=true right-button-enabled=$ctrl.rightButtonEnabled on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.addVideoToChannels() error-heading=$ctrl.errorHeader class=add-group-channel-dialog auto-focus-selector=".dropdown-list-container input"> <div class=add-group-channels-container> <div class=info-title ng-if=!$ctrl.isViewerMode> {{::$ctrl.resources.AddToGroupChannelOwnerInfo}} <tooltip message=$ctrl.resources.AddToGroupChannelOwnerInfo button-aria-label={{::$ctrl.resources.AddToGroupChannelOwnerInfoTooltip}}> </tooltip> </div> <div class=video-permissions-column> <video-permissions video=$ctrl.video creator=$ctrl.video.creator is-in-admin-mode=$ctrl.isInAdminMode permissions-changed="$ctrl.isPermissionsChanged = true" permission-list=$ctrl.permissionList viewer-mode=$ctrl.isViewerMode hide-create=true preload-data=true summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties></video-permissions> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialog.less":function(e,t){},"./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;t={template:n("./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialog.html"),controller:o.AddGroupChannelsDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box",data:{video:e,isInAdminMode:t},ariaRole:"dialog"};return(t=this.openDialog(t)).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),t},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.AddGroupChannelsDialog=i,angular.module("jumper.controls").service("addGroupChannelsDialog",i)},"./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Upload/VideoPermissions/VideoPermissionsController.ts");l.prototype.handleError=function(e){this.featureTelemetryTracker.fail(s.FeatureName.UpdateVideo,s.SubFeatureName.VideoService_PatchVideo,e),e&&_.isNumber(e.status)&&e.status<500&&e.data&&e.data.error&&_.isString(e.data.error.message)?this.errorHeader=e.data.error.message:this.errorHeader=this.resources.AddChannelsDialogErrorLabel},l.prototype.cancel=function(){this.dialogCloseMessage=this.resources.AddToGroupChannelCancelledAria,this.addToChannelSummaryProperties.isCancelled=!0,this.sendAddToGroupChannelTelemetrySummary(),this.$scope.closeThisDialog({addedToChannel:!1,closeMessage:this.dialogCloseMessage})},Object.defineProperty(l.prototype,"isExclusiveVideo",{get:function(){return this.video&&this.video.creatorApplication&&this.video.creatorApplication.accessMode===i.Constants.VideoCreatorAccessMode.exclusive},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isViewerMode",{get:function(){return this.isExclusiveVideo||!this.video.userData.permissions.canEdit},enumerable:!0,configurable:!0}),l.prototype.addVideoToChannels=function(){var e,t,n=this;this.addToChannelSummaryProperties.isCancelled=!1,this.video.userData.permissions.canEdit?(this.isApplyingChanges=!0,a.flatPermissionToSetLinks(this.$q,this.roleService,this.permissionList).then((function(e){n.videoService.setLinks(n.video.id,e,n.isInAdminMode).then((function(){n.dialogCloseMessage=n.resources.VideoPermissionsUpdatedAria,n.isApplyingChanges=!1,n.featureTelemetryTracker.succeed(s.FeatureName.AddVideoToChannel),n.sendAddToGroupChannelTelemetrySummary(),n.$scope.closeThisDialog({addedToChannel:!0,closeMessage:n.dialogCloseMessage})}),(function(e){n.isApplyingChanges=!1,o.alertScreenReader(n.resources.VideoPermissionsUpdatedFailedAria),n.handleError(e)}))}))):(e=[],_.forEach(this.permissionList,(function(t){t.videoAdded&&t.channels.length&&(e=e.concat(t.channels))})),this.addToChannelSummaryMetrics.channelsAdded=e.length,e.length&&((t={})[i.Constants.ChannelOdataString]=_.map(e,(function(e){return e.id})),this.isApplyingChanges=!0,this.videoService.patch(this.video.id,t).then((function(){n.dialogCloseMessage=n.resources.AddToGroupChannelsSuccessAria,n.isApplyingChanges=!1,n.featureTelemetryTracker.succeed(s.FeatureName.AddVideoToChannel),n.sendAddToGroupChannelTelemetrySummary(),n.$scope.closeThisDialog({addedToChannel:!0,closeMessage:n.dialogCloseMessage})}),(function(e){n.isApplyingChanges=!1,o.alertScreenReader(n.resources.AddToGroupChannelsFailureAria),n.handleError(e)}))))},Object.defineProperty(l.prototype,"rightButtonEnabled",{get:function(){return this.isPermissionsChanged&&this.permissionList&&0<this.permissionList.length&&!this.isApplyingChanges},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rightButtonText",{get:function(){return this.isApplyingChanges?this.video.userData.permissions.canEdit?this.resources.Saving:this.resources.Adding:this.video.userData.permissions.canEdit?this.resources.Save:this.resources.Add},enumerable:!0,configurable:!0}),l.prototype.sendAddToGroupChannelTelemetrySummary=function(){this.telemetryService.getTracker(this.navigationService.getPageName()).trackEvent(s.TelemetryEventNames.AddToGroupChannelDialogSummary,angular.merge(this.addToChannelSummaryProperties,this.summaryProperties),angular.merge(this.addToChannelSummaryMetrics,this.summaryMetrics))},l.$inject=["$scope","$q","resources","videoService","telemetryService","navigationService","roleService"],n=l;function l(e,t,n,r,i,o,a){this.$scope=e,this.$q=t,this.resources=n,this.videoService=r,this.telemetryService=i,this.navigationService=o,this.roleService=a,this.summaryMetrics={permissionsChannelsAdded:0,permissionsGroupsAdded:0,permissionsPrincipalsAdded:0,permissionsTotalPermission:0,permissionsTotalPrivateChannels:0,permissionsTotalPublicChannels:0},this.summaryProperties={permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1},this.isApplyingChanges=!1,this.addToChannelSummaryProperties={isCancelled:!1},this.addToChannelSummaryMetrics={channelsAdded:0},this.video=this.$scope.ngDialogData.video,this.isInAdminMode=this.$scope.ngDialogData.isInAdminMode,this.featureTelemetryTracker=this.telemetryService.getTracker(s.ScreenName.AddChannelDialog,s.ResourceType.Video,this.video.id),this.featureTelemetryTracker.tagScreen()}t.AddGroupChannelsDialogController=n,r.registerController("AddGroupChannelsDialogController",n,angular.module("jumper.controls"))},"./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialog.html":function(e,t){e.exports='<section class="section section-size0 dialog-section"> <div class="channel-share-inner-dialog row row-size0"> <div class="dialog-container column large-centered large-8 medium-centered medium-10 small-centered small-10"> <div class=dialog-header> <tab-navigation class=tab-navigation-horiz-padding model=$ctrl.tabOptions value=$ctrl.selectedTabOption init-focus=true></tab-navigation> </div> <div class=dialog-content> <div class=note> {{::$ctrl.resources.Dialogs.ChannelShare.Note}} </div> <div ng-if=$ctrl.shareSelected class=share-tab> <div class="link-container row"> <div ng-class={{$ctrl.shareContentStyle}}> <div> <label class="c-label ct-label-compact"> {{::$ctrl.resources.Dialogs.ChannelShare.ShareLinkLabel}} <input class="c-text-field ct-textbox-compact channel-url" type=text value={{$ctrl.shareLink}} autocomplete=off autocorrect=off autocapitalize=off spellcheck=false /> </label> </div> </div> <div class="column xsmall-4 small-3 large-2 link-container-col2" ng-if=$ctrl.clipboardSupported> <button clipboard text=$ctrl.shareLink on-copied=$ctrl.onShareLinkCopied() class="stream-btn btn-primary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> </div> <div ng-if=$ctrl.embedSelected class=embed-tab> <div class=channel-size> <div class=channel-size-selector> <label class="c-label ct-label-compact" for=channelSizeSelector> {{::$ctrl.resources.Dialogs.ChannelShare.ChannelSizeLabel}} </label> <div class=embed-size-selector dir=ltr> <drop-down class=ct-dropdown-compact ltr-content=true name=dropdown options=$ctrl.sizeOptions value=$ctrl.selectedSize aria-label={{::$ctrl.resources.Dialogs.ChannelShare.ChannelSizeLabel}}></drop-down> </div> </div> <div class=channel-sort-selector> <label class="c-label ct-label-compact" for=channelSortSelector> {{::$ctrl.resources.Sortby}} </label> <div class=embed-sort-selector dir=ltr> <drop-down class=ct-dropdown-compact ltr-content=true name=dropdown options=$ctrl.sortOptions value=$ctrl.selectedSortOrder aria-label={{::$ctrl.resources.Sortby}}></drop-down> </div> </div> <div class="c-checkbox responsive-selector"> <label class="c-label ct-label-compact" id=responsive-toggle> {{::$ctrl.resources.Dialogs.VideoShare.ResponsiveToggleLabel}} </label> <toggle name=responsive-toggle value=$ctrl.isResponsiveOptionSelected on-toggle-click=$ctrl.onResponsiveToggleClick() /> </div> </div> <div class="c-textarea embed-code row"> <div ng-class={{$ctrl.shareContentStyle}}> <label class="c-label ct-label-compact"> {{::$ctrl.resources.Dialogs.VideoShare.EmbedCodeLabel}} <textarea dir=ltr class="f-no-resize f-scroll ct-textarea-compact" rows=4 autocomplete=off autocorrect=off autocapitalize=off spellcheck=false>{{$ctrl.embedCode}}</textarea> </label> </div> <div class="column xsmall-4 small-3 large-2 copy-button" ng-if=$ctrl.clipboardSupported> <button clipboard text=$ctrl.embedCode on-copied=$ctrl.onEmbedCodeCopied() class="stream-btn btn-primary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class="preview-container large-9"> <div class=iframe-container> <iframe id=container-frame name=container-frame ng-src={{$ctrl.embedLink}} class=container-iframe></iframe> </div> </div> </div> </div> <div class=dialog-footer> <button type=submit class="stream-btn close-button" ng-click=$ctrl.onCloseClicked()> {{::$ctrl.resources.Dialogs.ChannelShare.Close}} </button> </div> </div> </div> </section>'},"./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialog.less":function(e,t){},"./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts"),s=n("./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialogController.ts");n("./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialog.less");var a;i(l,a=o.BaseDialog),l.prototype.open=function(e){var t=this;return(e=this.openDialog({template:n("./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialog.html"),plain:!0,controller:s.ChannelShareDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"channel-share-dialog",data:{id:e},ariaRole:"dialog"})).closePromise.finally((function(){t.telemetryService.getTracker(t.navigationService.getPageName()).tagScreen()})),e},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetryService=e,i.navigationService=t,i}t.ChannelShareDialog=i,angular.module("jumper.controls").service("channelShareDialog",i)},"./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts"),a=n("./app/utility/appUtil.ts");function l(e,t,n,o,a){var l=this;this.$scope=e,this.resources=t,this.telemetryService=n,this.$element=o,this.$location=a,this.clipboardSupported=!1,this.selectedSize=s.Constants.EmbedPreviewSizes.mediumLarge,this.selectedSortOrder=s.Constants.VideoSortQueryParams.Trending,this.shareLinkTemplate="{0}://{1}/channel/{2}",this.embedLinkTemplate="{0}://{1}/embed/channel/{2}?sort={3}",this.embedCodeTemplate='<iframe width="{0}" height="{1}" src="{2}" allowfullscreen ></iframe>',this.isResponsiveOptionSelected=!1,this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.resources.Dialogs.ChannelShare.AriaLabel),this.$element.attr("aria-modal","true"),e.ngDialogData.id&&(this.channelId=angular.copy(e.ngDialogData).id),this.telemetryTracker=this.telemetryService.getTracker(i.ScreenName.ChannelShareDialog,i.ResourceType.Channel,this.channelId,null),this.telemetryTracker.tagScreen(),this.tabOptions={options:[{value:r.Share,text:this.resources.Dialogs.ChannelShare.Share},{value:r.Embed,text:this.resources.Dialogs.ChannelShare.Embed}]},this.selectedTabOption=r.Share,this.sizeOptions=[{text:s.Constants.EmbedPreviewSizes.medium.displayValue,value:s.Constants.EmbedPreviewSizes.medium},{text:s.Constants.EmbedPreviewSizes.mediumLarge.displayValue,value:s.Constants.EmbedPreviewSizes.mediumLarge},{text:s.Constants.EmbedPreviewSizes.large.displayValue,value:s.Constants.EmbedPreviewSizes.large},{text:s.Constants.EmbedPreviewSizes.extraLarge.displayValue,value:s.Constants.EmbedPreviewSizes.extraLarge}],this.sortOptions=[{text:this.resources.Browse.VideoSort.Trending,value:s.Constants.VideoSortQueryParams.Trending},{text:this.resources.Browse.VideoSort.PublishDate,value:s.Constants.VideoSortQueryParams.PublishDate},{text:this.resources.Browse.VideoSort.Views,value:s.Constants.VideoSortQueryParams.Views},{text:this.resources.Browse.VideoSort.Likes,value:s.Constants.VideoSortQueryParams.Likes}],this.clipboardSupported=document.queryCommandSupported&&document.queryCommandSupported("copy"),setTimeout((function(){l.$scope.$watch((function(){return l.selectedTabOption}),(function(e,t){t!==e&&(e===r.Share?$(".channel-url").focus():e===r.Embed&&$(".drop-down .selector").focus())}))}),0);var c=function(e){e.keyCode===s.Constants.KeyCodes.Esc&&(e.isDefaultPrevented()||(l.onCloseClicked(),e.stopPropagation()))}.bind(this);$("body").on("keydown",c),this.$scope.$on("$destroy",(function(){$("body").off("keydown",c)}))}(n=r=t.ChannelShareDialogTab||(t.ChannelShareDialogTab={}))[n.Share=0]="Share",n[n.Embed=1]="Embed",Object.defineProperty(l.prototype,"shareSelected",{get:function(){return this.selectedTabOption===r.Share},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"embedSelected",{get:function(){return this.selectedTabOption===r.Embed},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"shareLink",{get:function(){return o.formatString(this.shareLinkTemplate,this.$location.protocol(),this.$location.host(),this.channelId)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"embedLink",{get:function(){return o.formatString(this.embedLinkTemplate,this.$location.protocol(),this.$location.host(),this.channelId,this.selectedSortOrder)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"embedCode",{get:function(){var e=o.formatString(this.embedCodeTemplate,this.selectedSize.width.toString(),this.selectedSize.height.toString(),this.embedLink),t=e.indexOf("></iframe>"),n=new Array;return this.isResponsiveOptionSelected?(n.push(o.formatString("<div style='max-width: {0}px'><div style='position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;'>",this.selectedSize.width.toString())),n.push(e.slice(0,t)),n.push("style='border:none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; max-width: 100%;'"),n.push(e.slice(t)),n.push("</div></div>")):(n.push(e.slice(0,t)),n.push("style='border:none;'"),n.push(e.slice(t))),n.join("")},enumerable:!0,configurable:!0}),l.prototype.onCloseClicked=function(){var e={action:"DialogClosed"};e.resourceId=this.channelId,e.resourceType=i.ResourceType[i.ResourceType.Channel],this.telemetryTracker.trackEvent(i.TelemetryEventNames.ShareDialog,e),this.$scope.closeThisDialog()},l.prototype.onShareLinkCopied=function(){angular.element(document.querySelector(".share-tab .link-container .stream-btn")).focus(),a.alertScreenReader(this.resources.LinkCopiedAlertLabel);var e={action:"LinkCopied"};e.resourceId=this.channelId,e.resourceType=i.ResourceType[i.ResourceType.Channel],this.telemetryTracker.trackEvent(i.TelemetryEventNames.ShareDialog,e)},l.prototype.onEmbedCodeCopied=function(){angular.element(document.querySelector(".embed-tab .copy-button .stream-btn")).focus(),a.alertScreenReader(this.resources.EmbedCopiedAlertLabel);var e={action:"EmbedCodeCopied"};e.resourceId=this.channelId,e.resourceType=i.ResourceType[i.ResourceType.Channel],e.width=this.selectedSize.width,e.height=this.selectedSize.height,e.responsive=this.isResponsiveOptionSelected,e.sortOption=this.selectedSortOrder,this.telemetryTracker.trackEvent(i.TelemetryEventNames.ShareDialog,e)},l.prototype.onResponsiveToggleClick=function(){this.isResponsiveOptionSelected=!this.isResponsiveOptionSelected},Object.defineProperty(l.prototype,"shareContentStyle",{get:function(){var e=new Array;return e.push("'column'"),this.clipboardSupported?(e.push("'xsmall-8'"),e.push("'small-9'"),e.push("'large-10'")):e.push("'xsmall-12'"),o.formatString("[{0}]",e.join(", "))},enumerable:!0,configurable:!0}),l.$inject=["$scope","resources","telemetryService","$element","$location"],n=l,t.ChannelShareDialogController=n},"./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialog.html":function(e,t){e.exports='<dialog-box heading={{::$ctrl.dialogTitle}} class=company-policy-dialog> <div class=policy-acknowledge> <a external-link class="c-hyperlink policy-ack-link permissions-container-center" ng-if=!$ctrl.policyOpened ng-href={{$ctrl.policyLink}} target=_blank ng-click=$ctrl.openPolicy()> {{::$ctrl.resources.AcceptPolicyLinkText}} </a> <div ng-if=$ctrl.policyOpened class=policy-ack-description> {{::$ctrl.resources.AcceptPolicyAfterDescription}} </div> <div ng-if=!$ctrl.policyOpened class=policy-ack-sub-text> {{::$ctrl.resources.AcceptPolicySubText}} </div> <button type=submit class="c-button ct-button-compact policy-ack-button" ng-click=$ctrl.acceptPolicy() ng-disabled=!$ctrl.policyOpened> {{::$ctrl.resources.AcceptPolicyButtonText}} </button> <div ng-if=$ctrl.acknowlegementFailed class=policy-acknowledge-failed>{{::$ctrl.resources.PolicyAcknowledgementFailed}}</div> </div> </dialog-box>'},"./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialog.less":function(e,t){},"./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t,r){return r={template:n("./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialog.html"),controller:o.CompanyPolicyDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box",data:{dialogTitle:e,policyUrl:t,onAcceptClicked:r},ariaRole:"dialog"},this.openDialog(r)},l.$inject=["telemetryService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r){return(r=a.call(this,t,n,r)||this).telemetry=e,r}t.CompanyPolicyDialog=i,angular.module("jumper.controls").service("companyPolicyDialog",i)},"./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/models/TelemetryEventModels.ts");o.prototype.openPolicy=function(){this.policyOpened=!0},Object.defineProperty(o.prototype,"policyLink",{get:function(){var e=(e=this.policyUrl).trim();return _.startsWith(e,"http://")||_.startsWith(e,"https://")||(e="http://"+e),e},enumerable:!0,configurable:!0}),o.prototype.acceptPolicy=function(){var e=this;this.principalService.patchMySettings({system:{contentManagement:{companyUploadPolicy:{acknowledged:!0}}}}).then((function(){e.acknowlegementFailed=!1,e.telemetryTracker.succeed(i.FeatureName.UpdatePrincipalSettings,{subFeature:i.SubFeatureName.System_PolicyAcknowledgement}),e.$scope.closeThisDialog()}),(function(t){e.acknowlegementFailed=!0,e.telemetryTracker.fail(i.FeatureName.UpdatePrincipalSettings,i.SubFeatureName.System_PolicyAcknowledgement,t)}))},o.$inject=["$scope","resources","principalService","telemetryService"],n=o;function o(e,t,n,r){this.$scope=e,this.resources=t,this.principalService=n,this.telemetryService=r,this.telemetryTracker=this.telemetryService.getTracker(i.ScreenName.CompanyPolicyDialog),this.telemetryTracker.tagScreen(),this.dialogTitle=this.$scope.ngDialogData.dialogTitle,this.onAcceptClicked=this.$scope.ngDialogData.onAcceptClicked,this.policyUrl=this.$scope.ngDialogData.policyUrl}t.CompanyPolicyDialogController=n,r.registerController("CompanyPolicyDialogController",n,angular.module("jumper.controls"))},"./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/KeyCodes.ts");o.prototype.onConfirm=function(){this.dialogModel.confirmCheckboxText&&!this.checkboxModel||this.$scope.confirm()},o.prototype.setCheckboxFocus=function(){this.$element.find("#confirmationCheckbox").focus()},o.prototype.setConfirmButtonFocus=function(){this.$element.find(".dialog-confirm-button").focus()},o.prototype.confirmButtonEnabled=function(){return this.dialogModel.confirmCheckboxText&&!this.checkboxModel},o.prototype.onCancel=function(){this.$scope.closeThisDialog()},o.prototype.watchForEscape=function(e){"Escape"!==e.key&&e.keyCode!==i.KeyCodes.Escape||this.onCancel()},o.$inject=["$scope","dialogModel","$element"],n=o;function o(e,t,n){this.$scope=e,this.$element=n,this.dialogModel=t,this.checkboxModel=!1,this.$element.attr("aria-modal","true")}t.ConfirmationDialogController=n,r.registerController("ConfirmationDialogController",n,angular.module("jumper.controls"))},"./app/Controls/Dialogs/CreateChannelDialog/CreateChannelDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/CreateChannelDialog/CreateChannelDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogBase.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t,r){var i=this;r={template:n("./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogBase.html"),plain:!0,controller:o.CreateChannelDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box create-channel-dialog",data:{channelName:e,group:t,companyWideChannelCreationEnabled:r},ariaRole:"dialog"};return(r=this.openDialog(r)).closePromise.finally((function(){i.telemetry.getTracker(i.navigation.getPageName()).tagScreen()})),r},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.CreateChannelDialog=i,angular.module("jumper.controls").service("createChannelDialog",i)},"./app/Controls/Dialogs/CreateChannelDialog/CreateChannelDialogController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogControllerBase.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/Constants.ts");i(c,o=s.CreateUpdateChannelDialogControllerBase),c.$inject=["$q","$element","$scope","resources","channelService","telemetryService","featureFlagsService","navigationService","principalService","inAdminModeService"],i=c;function c(e,t,n,r,i,s,c,d,u,p){return p=o.call(this,e,t,n,r,i,s,c,d,u,p)||this,n.ngDialogData.group&&(p.channel.group=angular.copy(n.ngDialogData.group),p.groupType=l.Constants.GroupPrivacy.Private,p.groupSelected=!0),p.loadIdentity(),p.inCreateMode=!0,p.dialogTitle=r.CreateChannel,p.featureName=a.FeatureName.CreateChannel,p.setDialogAria(),p.initTelemetryTracker(),p}t.CreateChannelDialogController=i},"./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogBase.html":function(e,t){e.exports='<dialog-box left-button-text=$ctrl.resources.Cancel right-button-text="$ctrl.inCreateMode ? $ctrl.resources.Create : $ctrl.resources.Save" left-button-enabled=true right-button-enabled=$ctrl.confirmRightButtonEnabled() on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.process() inprogress=false error-heading=$ctrl.errorHeader hide-header=true auto-focus-selector=.channel-name-textbox> <div class=saving-overlay ng-if=$ctrl.inProgress> <loading-panel message=$ctrl.resources.Saving></loading-panel> </div> <div class="create-update-channel-header dialog-header-confirm"> <div class=header-container> <div id=dialog-header-content role=heading class="dialog-title header"> {{::$ctrl.dialogTitle}} </div> <div class=delete-container> <div class=delete-button-container ng-if="!$ctrl.inCreateMode && $ctrl.needsDeleteConfirm"> <button class="delete-button c-action-trigger" aria-label={{::$ctrl.resources.Components.ChannelEdit.Delete}} tabindex=0 ng-click=$ctrl.deleteChannel()> <svg-src svg-name=icon_delete inline-with-text=true></svg-src> {{::$ctrl.resources.Components.ChannelEdit.Delete}} </button> </div> <div class="delete-confirm-container delete-container-inner" ng-if="!$ctrl.inCreateMode && !$ctrl.needsDeleteConfirm"> <div class=delete-group-confirm-text> {{::$ctrl.resources.Components.ChannelCreate.DeleteConfirmHeader}} </div> <button class="delete-confirm-button c-action-trigger delete-button" aria-label={{::$ctrl.resources.Delete}} ng-click=$ctrl.deleteChannel()> <svg-src svg-name=icon_delete inline-with-text=true></svg-src> {{::$ctrl.resources.Delete}} </button> <button class="delete-cancel-button c-action-trigger cancel-button" aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelDelete()> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> {{::$ctrl.resources.Cancel}} </button> </div> </div> </div> </div> <div class=group-info-container ng-if=!$ctrl.inCreateMode> {{::$ctrl.groupInfoMessage}} </div> <div class=create-info-container ng-if=$ctrl.inCreateMode> {{::$ctrl.resources.CreateInfoMessage}} </div> <div class=error-placeholder ng-if="$ctrl.errorHeader && !$ctrl.forceHideErrMsg"> <custom-error-message is-compact=true error-message=$ctrl.errorHeader> </custom-error-message> </div> <section class=create-update-channel-dialog> <div class="row row-size1"> <channel-update-name-description ng-if=$ctrl.channel channel=$ctrl.channel save-button-enabled=$ctrl.saveButtonEnabled error-header=$ctrl.errorHeader description-rows=3 force-hide-name-err-msg=$ctrl.forceHideErrMsg group-id=$ctrl.reportedGroupId> </channel-update-name-description> <div class=group-selector-container ng-show=$ctrl.inCreateMode> <div class=group-selector-display> <label class="group-type-display-label-wrapper ct-label-compact" id={{$ctrl.groupRadioButtonLabel}}> <span class=group-type-display-label>{{::$ctrl.resources.Components.ChannelCreate.ChannelAccess}}</span> </label> </div> <tooltip message=$ctrl.resources.Components.ChannelCreate.ChannelAccessTooltip button-aria-label={{::$ctrl.resources.Components.ChannelCreate.ChannelAccessTooltipLabel}}></tooltip> <div class=group-type-selector> <fieldset> <legend aria-label={{::$ctrl.resources.Components.ChannelCreate.ChannelAccess}}></legend> <radio-button-group model=$ctrl.groupType button-models=$ctrl.radioButtonModels group-name={{$ctrl.radioButtonGroupName}} aria-described-by-radio-button=$ctrl.groupRadioButtonLabel /> </fieldset> </div> <div class=group-selector-dropdown ng-if="$ctrl.isPrivateGroupOptionSelected && !$ctrl.groupSelected"> <label for={{$ctrl.principalGroupSearchId}} class="ct-label-compact prinicipal-group-search-label">{{::$ctrl.resources.ChannelCreateGroupSelectorLabel}}</label> <principal-group-search me=$ctrl.me channel-selected="$ctrl.selectChannel(channel, group)" search-type-list=$ctrl.searchTypeList hide-create=true hide-label=true id-override=$ctrl.principalGroupSearchId></principal-group-search> </div> <div class=selected-group-name ng-if="$ctrl.isPrivateGroupOptionSelected && $ctrl.groupSelected"> <button class="delete-group-button c-action-trigger" aria-label={{$ctrl.resources.Components.ChannelCreate.DeleteAriaLabel}} ng-click=$ctrl.deleteGroup()> <svg-src svg-name=icon_cancel class=delete-icon inline-with-text=true></svg-src> </button> <span class=group-name-text>{{$ctrl.reportedGroupName}}</span> </div> </div> <div class=poster-image-container> <div class=upload-placeholder-label> <label class=ct-label-compact>{{::$ctrl.resources.Components.ChannelCreate.UploaderLabel}}</label> </div> <tooltip message=$ctrl.resources.Components.ChannelCreate.UploaderLabelTooltip button-aria-label={{::$ctrl.resources.Components.ChannelCreate.UploaderLabel}}></tooltip> <channel-poster-image src=$ctrl.channel.posterImage.large.url resource-id=$ctrl.channel.id selected-thumbnail=$ctrl.selectedThumbnail save-button-enabled=$ctrl.saveButtonEnabled can-edit=true handle-upload-result=$ctrl.handleUploadResult($result) is-in-admin-mode=$ctrl.isInAdminMode></channel-poster-image> </div> </div> </section> </dialog-box> '},"./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogBase.less":function(e,t){},"./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogControllerBase.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=n("./app/utility/appUtil.ts");l.prototype.cancel=function(){this.dialogCloseMessage=this.inCreateMode?this.resources.CreateChannelCancelledAria:this.resources.EditChannelCancelledAria,this.telemetryProperties.isDiscarded=!0,this.$scope.closeThisDialog({channel:this.inCreateMode?null:this.origChannel,closeMessage:this.dialogCloseMessage})},l.prototype.setDialogAria=function(){this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.dialogTitle)},l.prototype.process=function(){this.channel.id?this.update():this.create()},l.prototype.update=function(){var e=this;this.saveButtonEnabled=!1,this.errorHeader="",this.inProgress=!0,this.telemetryProperties.isUpdated=!0;var t=angular.copy(this.channel.group);this.channelService.patch(this.channel.id,{name:this.channel.name,description:this.channel.description},this.isInAdminMode).then((function(n){e.dialogCloseMessage=e.resources.EditChannelSuccessAria,e.handleSuccess(i.FeatureName.UpdateChannel),n.group=t,e.$scope.closeThisDialog({channel:n,closeMessage:e.dialogCloseMessage})}),(function(t){a.alertScreenReader(e.resources.EditChannelFailureAria);var n=e.resources.Components.ChannelEdit.DefaultUpdateError;e.handleError(i.FeatureName.UpdateChannel,i.SubFeatureName.ChannelService_PatchChannel)(t,n,e.channel.id),e.inProgress=!1}))},l.prototype.create=function(){var e=this;this.telemetryProperties.isCreated=!0,this.saveButtonEnabled=!1,this.errorHeader="",this.inProgress=!0,this.isPrivateGroupOptionSelected||(this.channel.group={id:""});var t,n=angular.copy(this.channel.group);t=e.$q.defer(),e.channelService.create(e.channel.name,e.channel.description,e.channel.group.id,e.isInAdminMode).then((function(r){e.channel=r,!e.channel.group&&n&&(e.channel.group=n),e.dialogCloseMessage=e.resources.CreateChannelSuccessAria,t.resolve()}),(function(n){var r=e.resources.Components.ChannelCreate.DefaultCreateError;e.handleError(i.FeatureName.CreateChannel,i.SubFeatureName.ChannelService_Create)(n,r),a.alertScreenReader(e.resources.CreateChannelFailureAria),e.inProgress=!1,t.reject()})),t.promise.then((function(){e.$scope.$broadcast(o.Constants.Events.ChannelIdReady,e.channel.id)}))},l.prototype.handleUploadResult=function(e){var t=this;e.then((function(e){return e&&e.thumbnailUploaded&&(t.telemetryProperties.customPosterUploaded=!0),t.channelService.get(t.channel.id,t.isInAdminMode,!0)})).then((function(e){t.channel=e.data,t.handleSuccess(t.featureName),t.$scope.closeThisDialog({channel:t.channel,closeMessage:t.dialogCloseMessage})}),(function(e){var n=t.resources.Components.ChannelCreate.DefaultCreateError;t.handleError(t.featureName,i.SubFeatureName.ChannelService_GetChannel)(e,n),t.inProgress=!1}))},l.prototype.deleteChannel=function(){var e=this;return this.needsDeleteConfirm?(this.needsDeleteConfirm=!this.needsDeleteConfirm,setTimeout((function(){$(".delete-confirm-button").focus()}),o.Constants.DebounceDelay),this.$q.resolve()):(this.telemetryProperties.isDeleted=!0,this.channelService.delete(this.channel.id,this.isInAdminMode).then((function(){e.dialogCloseMessage=e.resources.DeleteChannelSuccessAria,e.handleSuccess(i.FeatureName.DeleteChannel),e.$scope.closeThisDialog({closeMessage:e.dialogCloseMessage})}),(function(t){a.alertScreenReader(e.resources.DeleteChannelFailureAria);var n=e.resources.Components.ChannelEdit.DefaultDeleteError;e.handleError(i.FeatureName.DeleteChannel,i.SubFeatureName.ChannelService_DeleteChannel)(t,n,e.channel.id)})))},l.prototype.cancelDelete=function(){this.needsDeleteConfirm=!0,this.telemetryProperties.isDeleteCancelled=!0},l.prototype.selectChannel=function(e,t){this.channel.group=angular.copy(t),this.groupSelected=!0,setTimeout((function(){$("button.delete-group-button").focus()}),100)},l.prototype.deleteGroup=function(e){void 0===e&&(e=!0),this.channel.group={id:""},this.groupSelected=!1,e&&(this.telemetryProperties.groupRemoved=!0)},l.prototype.handlePrivateGroupButtonClicked=function(){this.telemetryProperties.privateGroupClicked=!0},l.prototype.handlePublicGroupButtonClicked=function(){this.telemetryProperties.defaultGroupClicked=!0,this.groupType=o.Constants.GroupPrivacy.Organization,this.deleteGroup(!1)},l.prototype.loadIdentity=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data,e.isInAdminMode=e.principalService.getIsStreamAdmin()&&e.principalService.getAdminModeStatus()}),(function(t){e.featureTelemetryTracker.fail(e.featureName,i.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)}))},Object.defineProperty(l.prototype,"reportedGroupName",{get:function(){return this.channel&&this.channel.group?this.channel.group.name:this.resources.Components.ChannelEdit.GroupNameLabel},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isPrivateGroupOptionSelected",{get:function(){return this.groupType===o.Constants.GroupPrivacy.Private},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"groupInfoMessage",{get:function(){return this.channel.group&&this.channel.group.isDefault?this.resources.ChannelInDefaultGroupInfoMessage:this.channel.group&&this.channel.group.privacyMode===o.Constants.privacyMode.private?s.formatString(this.resources.ChannelInPrivateGroupInfoMessage,this.channel.group.name):s.formatString(this.resources.ChannelInPublicGroupInfoMessage,this.channel.group.name)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"reportedGroupId",{get:function(){return this.channel&&this.channel.group?this.channel.group.id:""},enumerable:!0,configurable:!0}),l.prototype.confirmRightButtonEnabled=function(){return this.inCreateMode?this.saveButtonEnabled&&(this.isPrivateGroupOptionSelected&&this.groupSelected||!this.isPrivateGroupOptionSelected):this.saveButtonEnabled},l.prototype.handleError=function(e,t){var n=this;return this.featureTelemetryTracker||this.initTelemetryTracker(e),function(r,i,s){n.featureTelemetryTracker.setResourceId(s),r&&(r.status.toString()===o.Constants.HttpStatusCode.Conflict||r.data&&r.data.error&&r.data.error.code.toLowerCase()===o.Constants.ApiErrorCodes.QuotaExceeded.toLowerCase())?n.featureTelemetryTracker.warn(e,t,r):n.featureTelemetryTracker.fail(e,t,r),n.saveButtonEnabled=!0,(s=r)&&s.data&&s.data.error&&_.isString(s.data.error.message)&&0<s.data.error.message.length&&r.status<500?n.errorHeader=r.data.error.message:n.errorHeader=i}},l.prototype.handleSuccess=function(e){this.featureTelemetryTracker||this.initTelemetryTracker(e),this.featureTelemetryTracker.succeed(e),e=e===i.FeatureName.CreateChannel?i.TelemetryEventNames.channelCreateEventName:i.TelemetryEventNames.channelUpdateEventName,this.telemetryMetrics.timeDuration=(Date.now()-this.loadTime)/1e3,this.telemetryProperties.restrictedPrivacy=this.channel.privacyMode===o.Constants.privacyMode.custom,this.featureTelemetryTracker.trackEvent(e,this.telemetryProperties,this.telemetryMetrics)},l.prototype.initRadioButtons=function(e){this.radioButtonModels.push({wrapperClassName:"private-group",innerClassName:"private-group-selector",value:o.Constants.GroupPrivacy.Private,label:this.resources.PrivateGroup,onClick:this.handlePrivateGroupButtonClicked.bind(this)}),e&&this.radioButtonModels.push({wrapperClassName:"public-group",innerClassName:"public-group-selector",value:o.Constants.GroupPrivacy.Organization,label:this.resources.CompanyWideGroup,onClick:this.handlePublicGroupButtonClicked.bind(this)}),this.radioButtonGroupName="channelAccess"},l.prototype.initTelemetryTracker=function(e){void 0===e&&(e=this.featureName),e=this.featureName===i.FeatureName.CreateChannel?i.ScreenName.ChannelCreateDialog:i.ScreenName.ChannelUpdate,this.featureTelemetryTracker=this.telemetryService.getTracker(e),this.featureTelemetryTracker.tagScreen()},l.$inject=["$q","$element","$scope","resources","channelService","telemetryService","featureFlagsService","navigationService","principalService","inAdminModeService"],n=l;function l(e,t,n,i,s,l,c,d,u,p){this.$q=e,this.$element=t,this.$scope=n,this.resources=i,this.channelService=s,this.telemetryService=l,this.featureFlagsService=c,this.navigationService=d,this.principalService=u,this.inAdminModeService=p,this.inProgress=!1,this.isInAdminMode=!1,this.saveButtonEnabled=!1,this.errorHeader="",this.needsDeleteConfirm=!0,this.forceHideErrMsg=!0,this.principalGroupSearchId="group-search-"+a.generatePartialGuid(),this.isCompanyWideChannelCreationEnabled=!0,this.groupType=o.Constants.GroupPrivacy.Private,this.searchTypeList=[r.PrincipalSearchType.MyGroups],this.radioButtonModels=[],this.telemetryProperties={restrictedPrivacy:!1,groupRemoved:!1,groupAdded:!1,isCreated:!1,isDiscarded:!1,isUpdated:!1,isDeleted:!1,isDeleteCancelled:!1,customPosterUploaded:!1,defaultGroupClicked:!1,privateGroupClicked:!1},this.telemetryMetrics={timeDuration:0},this.groupSelected=!1,this.channel={id:"",name:"",description:"",privacyMode:o.Constants.privacyMode.organization,group:{id:""}},_.isString(this.$scope.ngDialogData.channelName)&&(this.channel.name=this.$scope.ngDialogData.channelName),this.$scope.ngDialogData.channel&&(this.channel=this.$scope.ngDialogData.channel),this.$scope.ngDialogData.group&&(this.group=this.$scope.ngDialogData.group),this.$scope.ngDialogData.isInAdminMode?this.isInAdminMode=this.$scope.ngDialogData.isInAdminMode:this.isInAdminMode=this.group&&this.group.id&&this.inAdminModeService.groupId&&this.inAdminModeService.groupId===this.group.id,void 0!==this.$scope.ngDialogData.companyWideChannelCreationEnabled&&(this.isCompanyWideChannelCreationEnabled=this.$scope.ngDialogData.companyWideChannelCreationEnabled),this.dialogTitle=this.resources.CreateChannel,this.inCreateMode=!0,this.origChannel=angular.copy(this.channel),this.initRadioButtons(this.isCompanyWideChannelCreationEnabled),this.loadTime=Date.now(),this.groupRadioButtonLabel="channel-access-radio-button-group-label"}t.CreateUpdateChannelDialogControllerBase=n},"./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialog.html":function(e,t){e.exports='<dialog-box heading={{::$ctrl.resources.DefaultVideoLanguageDialogTitle}} left-button-text=$ctrl.resources.DefaultVideoLanguageDialogLeftButtonText right-button-text=$ctrl.rightButtonText left-button-enabled=!$ctrl.isApplyingChanges right-button-enabled="$ctrl.selectedLanguage && !$ctrl.isApplyingChanges" on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.setDefaultVideoLanguage() class=default-video-language-dialog auto-focus-selector=.default-video-language-dropdown> <div class=default-video-language-container> <span>{{::$ctrl.resources.DefaultVideoLanguageDialogSubtext}}</span> <label class="ct-label-compact language-label" for={{$ctrl.selectId}}>{{::$ctrl.resources.DefaultVideoLanguageDialogDropdownLabel}}</label> <div class="ct-select-compact c-select"> <select class=default-video-language-dropdown id={{$ctrl.selectId}} ng-model=$ctrl.selectedLanguage ng-options="item.code as item.name for item in $ctrl.languageMappings" ng-change=$ctrl.videoLanguageChanged() default-option={{::$ctrl.resources.TextTrackSelectedLanguage}}></select> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialog.less":function(e,t){},"./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(){var e={template:n("./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialog.html"),controller:o.DefaultVideoLanguageDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box",data:{},ariaRole:"dialog"};return this.openDialog(e)},l.$inject=["telemetryService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r){return(r=a.call(this,t,n,r)||this).telemetry=e,r}t.DefaultVideoLanguageDialog=i,angular.module("jumper.controls").service("defaultVideoLanguageDialog",i)},"./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/models/TelemetryEventModels.ts");o.prototype.cancel=function(){this.patchPrincipal()},o.prototype.setDefaultVideoLanguage=function(){var e=this;this.isSavingChanges=!0,this.patchPrincipal(this.selectedLanguage).finally((function(){e.isSavingChanges=!1}))},o.prototype.patchPrincipal=function(e){var t=this,n={general:{hideDefaultVideoLanguageDialog:this.isApplyingChanges=!0}};e&&(n.general.defaultVideoLanguage=e);var r=this.telemetryService.getTracker();return this.principalService.patchMySettings(n).then((function(){t.dialogCloseMessage=e?t.resources.DefaultVideoLanguageSelectedAria:t.resources.DefaultVideoLanguageNotSelectedAria,r.succeed(i.FeatureName.UpdatePrincipalSettings)}),(function(e){t.dialogCloseMessage=t.resources.DefaultLanguageSettingUpdateFailureMessage,r.fail(i.FeatureName.UpdatePrincipalSettings,i.SubFeatureName.General_HideDefaultLanguageDialog,e)})).finally((function(){t.isApplyingChanges=!1,t.$scope.closeThisDialog({lang:e,closeMessage:t.dialogCloseMessage})}))},Object.defineProperty(o.prototype,"rightButtonText",{get:function(){return this.isSavingChanges?this.resources.Saving:this.resources.Save},enumerable:!0,configurable:!0}),o.$inject=["$scope","resources","textTrackLanguageService","principalService","telemetryService"],n=o;function o(e,t,n,i,o){this.$scope=e,this.resources=t,this.textTrackLanguageService=n,this.principalService=i,this.telemetryService=o,this.isApplyingChanges=!1,this.isSavingChanges=!1,this.selectId=r.generateGuid(),this.languageMappings=n.getAllLanguages()}t.DefaultVideoLanguageDialogController=n,r.registerController("DefaultVideoLanguageDialogController",n,angular.module("jumper.controls"))},"./app/Controls/Dialogs/EditChannelDialog/EditChannelDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/EditChannelDialog/EditChannelDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogBase.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;return void 0===t&&(t=!1),(t=this.openDialog({template:n("./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogBase.html"),plain:!0,controller:o.EditChannelDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box edit-channel-dialog",data:{channel:e,isInAdminMode:t},ariaRole:"dialog"})).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),t},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.EditChannelDialog=i,angular.module("jumper.controls").service("editChannelDialog",i)},"./app/Controls/Dialogs/EditChannelDialog/EditChannelDialogController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/Controls/Dialogs/CreateUpdateChannelDialogBase/CreateUpdateChannelDialogControllerBase.ts"),a=n("./app/models/TelemetryEventModels.ts");i(l,o=s.CreateUpdateChannelDialogControllerBase),l.$inject=["$q","$element","$scope","resources","channelService","telemetryService","featureFlagsService","navigationService","principalService","inAdminModeService"],i=l;function l(e,t,n,r,i,s,l,c,d,u){return(u=o.call(this,e,t,n,r,i,s,l,c,d,u)||this).inCreateMode=!1,u.dialogTitle=r.EditChannel,u.featureName=a.FeatureName.UpdateChannel,u.setDialogAria(),u.initTelemetryTracker(),u.forceHideErrMsg=!1,u}t.EditChannelDialogController=i},"./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialog.html":function(e,t){e.exports='<dialog-box hide-header=true hide-footer=true class=face-merge-dialog> <div class=header> {{::$ctrl.resources.FaceMergeDialogTitle}} </div> <div class=merge-status ng-switch on=$ctrl.faceMergeStatus> <div class=merging ng-switch-when=MERGING> <loading-panel message=$ctrl.mergeStatusString></loading-panel></div> <div class=merged ng-switch-when=MERGED> <div class=action-button-label>{{$ctrl.mergeStatusString}}</div> </div> <div class=error ng-switch-when=ERROR> <svg-src svg-name=icon_warning inline-with-text=true class=action-button-svg></svg-src> <span class=action-button-label>{{$ctrl.mergeStatusString}}</span> </div> <div class=default ng-switch-default>{{$ctrl.mergeStatusString}}</div> </div> <div class=face-container> <div class=face-list ng-if="$ctrl.faceMergeStatus!==\'MERGED\'"> <div ng-repeat="personsRow in $ctrl.persons" class=face-row> <span ng-repeat="person in personsRow" class=face-item ng-class="(person.id === $ctrl.selectedTargetPersonId) ? \'selected\' : \'\'"> <button class=face-image ng-click=$ctrl.selectTargetFace(person.id)> <img ng-src={{person.imageUrl}} alt={{$ctrl.faceImageAlt(person)}} /> </button> </span> </div> </div> </div> <div class=button-container> <div class=cancel-button ng-if="$ctrl.faceMergeStatus!==\'MERGED\'"> <button type=submit class="c-button ct-button-compact" ng-click=$ctrl.cancelButtonClicked()> {{::$ctrl.resources.Cancel}} </button> </div> <div class=merge-button ng-if="$ctrl.faceMergeStatus!==\'MERGED\'"> <button type=submit class="c-button ct-button-compact" ng-disabled=!$ctrl.mergeButtonEnabled ng-click=$ctrl.mergeButtonClicked()> {{::$ctrl.resources.Merge}} </button> </div> <div class=ok-button ng-if="$ctrl.faceMergeStatus===\'MERGED\'"> <button type=submit class="c-button ct-button-compact" ng-disabled=!$ctrl.mergeButtonEnabled ng-click=$ctrl.okButtonClicked()> {{::$ctrl.resources.OK}} </button> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialog.less":function(e,t){},"./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t,r){var i=this;return(r=this.openDialog({template:n("./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialog.html"),plain:!0,controller:o.FaceMergeDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!0,showClose:!1,className:"dialog-box",data:{videoId:e,persons:t,isAdmin:r},ariaRole:"dialog"})).closePromise.finally((function(){i.telemetry.getTracker(i.navigation.getPageName()).tagScreen()})),r},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.FaceMergeDialog=i,angular.module("jumper.controls").service("faceMergeDialog",i)},"./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts");s.prototype.cancelButtonClicked=function(){this.$scope.closeThisDialog()},s.prototype.selectTargetFace=function(e){this.selectedTargetPersonId=e},Object.defineProperty(s.prototype,"mergeButtonEnabled",{get:function(){return""!==this.selectedTargetPersonId},enumerable:!0,configurable:!0}),s.prototype.mergeButtonClicked=function(){var e=this;this.faceMergeStatus="MERGING",this.videoEventService.mergePersons(this.$scope.ngDialogData.videoId,this.personIds.filter((function(t){return t!==e.selectedTargetPersonId})),this.selectedTargetPersonId,this.$scope.ngDialogData.isAdmin).then((function(t){e.faceMergeStatus="MERGED",e.featureTelemetryTracker.succeed(r.FeatureName.MergePerson)}),(function(t){e.faceMergeStatus="ERROR",e.featureTelemetryTracker.fail(r.FeatureName.MergePerson,r.SubFeatureName.VideoEvent_MergePerson,t)}))},s.prototype.okButtonClicked=function(){this.$scope.closeThisDialog(this.selectedTargetPersonId)},Object.defineProperty(s.prototype,"mergeStatusString",{get:function(){return"MERGING"===this.faceMergeStatus?this.resources.FaceMerging:"MERGED"===this.faceMergeStatus?this.resources.FaceMergeSucceeded:"ERROR"===this.faceMergeStatus?this.resources.FaceMergeFailed:this.resources.FaceMergeDesc},enumerable:!0,configurable:!0}),s.$inject=["$scope","resources","telemetryService","$window","videoEventService"],n=s;function s(e,t,n,s,a){var l=this;function c(){s.innerWidth<i.Constants.ScreenBreakpoints.Small?l.persons=o.arraySplit(l.$scope.ngDialogData.persons,i.Constants.FacesPerRow.SmallScreen):l.persons=o.arraySplit(l.$scope.ngDialogData.persons,i.Constants.FacesPerRow.BigScreen)}this.$scope=e,this.resources=t,this.telemetryService=n,this.$window=s,this.videoEventService=a,this.persons=[],this.selectedTargetPersonId="",this.isMerging=!1,this.personIds=[],this.faceMergeStatus="NONE",this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Video,r.ResourceType.Video,this.$scope.ngDialogData.videoId,!1),_.isArray(this.$scope.ngDialogData.persons)&&(c(),this.$scope.ngDialogData.persons.forEach((function(e){l.personIds.push(e.id)}))),this.$window.addEventListener("resize",c),this.$scope.$on("$destroy",(function(e){l.$window.removeEventListener("resize",c)}))}t.FaceMergeDialogController=n},"./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialog.html":function(e,t){e.exports='<dialog-box hide-header=true left-button-text=$ctrl.resources.Cancel right-button-text=$ctrl.resources.Create left-button-enabled=true right-button-enabled=$ctrl.saveButtonEnabled on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.create() auto-focus-selector=.group-user-guideline> <form novalidate class=group-create> <div class=saving-overlay ng-if="$ctrl.isSaving || $ctrl.isLoading"> <loading-panel message=$ctrl.loadingPanelMessage></loading-panel> </div> <div class=header-container> <div id=dialog-header-content role=heading class=header aria-level=1> {{::$ctrl.dialogTitle}} </div> <p class=sub-header> {{::$ctrl.dialogSubtitle}} <a external-link ng-if=$ctrl.usageGuidelinesUrl ng-href={{::$ctrl.usageGuidelinesUrl}} target=_blank class="c-hyperlink group-user-guideline" auto-focus>{{::$ctrl.resources.Dialogs.GroupCreate.UsageGuidelinesUrl}}</a> </p> <custom-error-message ng-if=$ctrl.error is-compact=true error-message=$ctrl.errorHeader> </custom-error-message> </div> <fieldset> <div class="row row-size0 edit-section"> <div class="column small-6 name-component"> <label class=ct-label-compact for=group-name>{{::$ctrl.resources.Dialogs.GroupEdit.NameLabel}}</label> <input type=text id=group-name class=ct-textbox-compact spellcheck=false placeholder={{::$ctrl.resources.Dialogs.GroupCreate.NamePlaceHolder}} ng-class="{\'error-border\': !$ctrl.isNameValid}" ng-model=$ctrl.name ng-model-options="{debounce: 500}" ng-change=$ctrl.onNameChange() /> <span class=span-text ng-hide=$ctrl.hideNameHint>{{$ctrl.group.name}}</span> <custom-error-message ng-if=!$ctrl.isNameValid is-compact=true error-message=$ctrl.nameValidationErrorMessage> </custom-error-message> </div> <div class="column small-6 email-component"> <label class=ct-label-compact for=group-email>{{::$ctrl.resources.Dialogs.GroupCreate.EmailLabel}}</label> <div> <span class=group-email-input dir=ltr> <input type=text id=group-email class=ct-textbox-compact spellcheck=false placeholder={{::$ctrl.resources.Dialogs.GroupCreate.MailAliasPlaceHolder}} ng-class="{\'error-border\': !$ctrl.isEmailUnique || !$ctrl.isEmailValid}" ng-model=$ctrl.mailAlias ng-model-options="{debounce: 500}" ng-change=$ctrl.onEmailChange() /> <span>@...</span> </span> </div> <span class=span-text dir=ltr ng-hide=$ctrl.hideAliasHint>{{$ctrl.mailHint}}</span> <custom-error-message ng-if=!$ctrl.isEmailValid is-compact=true error-message=$ctrl.aliasValidationErrorMessage> </custom-error-message> <custom-error-message ng-if=!$ctrl.isEmailUnique is-compact=true error-message=$ctrl.resources.Dialogs.GroupCreate.NotAvailableEmail> </custom-error-message> </div> </div> </fieldset> <div class="row row-size0 edit-section"> <div class="column large-8"> <label class=ct-label-compact for=group-description>{{::$ctrl.resources.Dialogs.GroupEdit.DescriptionLabel}}</label> <textarea rows=2 id=group-description class=ct-textarea-compact placeholder={{::$ctrl.resources.Dialogs.GroupCreate.DescriptionPlaceHolder}} ng-model=$ctrl.group.description ng-change=$ctrl.onDescriptionChange() maxlength={{$ctrl.groupDescriptionMaxLength}}></textarea> </div> </div> <div class="row row-size0" ng-if="$ctrl.classificationOptions && $ctrl.classificationOptions.length"> <div class="column small-6 group-classifications"> <label class=ct-label-compact>{{::$ctrl.resources.Dialogs.GroupEdit.ClassificationsLabel}}</label> <tooltip button-aria-label={{::$ctrl.resources.Dialogs.GroupEdit.ClassificationsLabel}} message=$ctrl.classificationDescription customized-messages=$ctrl.supportedClassifications></tooltip> <drop-down name=dropdown class="search-type-dropdown ct-dropdown-compact" options=$ctrl.classificationOptions value=$ctrl.group.aadGroup.classification aria-label={{::$ctrl.resources.Dialogs.GroupEdit.ClassificationsLabel}}> </drop-down> </div> </div> <div class="row row-size0 edit-section"> <div class="column small-6 group-classifications"> <label class=ct-label-compact>{{::$ctrl.resources.Dialogs.GroupEdit.AccessLabel}}</label> <tooltip message=$ctrl.resources.Dialogs.GroupEdit.AccessTooltip button-aria-label={{::$ctrl.resources.Dialogs.GroupEdit.AccessLabel}}></tooltip> <drop-down name=dropdown class="group-access-type-dropdown search-type-dropdown ct-dropdown-compact" options=$ctrl.accessOptions.options value=$ctrl.group.privacyMode aria-label={{::$ctrl.resources.Dialogs.GroupEdit.AccessLabel}}> </drop-down> </div> <div class="column small-6 group-classifications"> <span class=allow-edit> <label class=ct-label-compact id=info-toggle>{{::$ctrl.resources.Dialogs.GroupEdit.AllowVideosEditLabel}}</label> <tooltip message=$ctrl.resources.Dialogs.GroupEdit.AllowVideosEditTooltip button-aria-label={{::$ctrl.resources.Dialogs.GroupEdit.AllowVideosEditLabel}}></tooltip> </span> <toggle class=group-create-toggle name=info-toggle value=$ctrl.areMembersViewer on-toggle-click=$ctrl.onToggleContributorClicked() /> </div> </div> <fieldset ng-if=$ctrl.me> <div class="row row-size0"> <div class="column small-6"> <principal-group-search me=$ctrl.me label={{$ctrl.resources.Dialogs.GroupCreate.AddMembersLabel}} tooltip-text={{$ctrl.resources.Dialogs.GroupCreate.AddMembersTooltip}} search-type-list=$ctrl.searchTypeList principal-selected=$ctrl.selectPrincipal(principal) is-disabled=$ctrl.searchPrincipalDisabled include-security-group=false> </principal-group-search> <custom-error-message ng-if=$ctrl.searchPrincipalDisabled is-warning=true is-compact=true error-message=$ctrl.membersLimitMessage> </custom-error-message> </div> </div> <div class="pgc-table members-table row column small-8 medium-6"> <div class=pgc-table-header> <div class=pgc-row> <div class=pgc-info-column role=columnheader> <span>{{::$ctrl.resources.Dialogs.GroupCreate.Members}}</span> </div> <div class=pgc-checkbox-column role=columnheader> <span>{{::$ctrl.resources.Dialogs.GroupCreate.Owner}}</span> <tooltip class=tooltip-owner message=$ctrl.resources.Dialogs.GroupCreate.OwnerTooltip button-aria-label={{::$ctrl.resources.Dialogs.GroupCreate.Owner}}></tooltip> </div> </div> </div> <ul class=pgc-table-body> <li class=pgc-row> <div class=pgc-info-column> <button type=button class=c-action-trigger aria-label={{::$ctrl.resources.Delete}} disabled=disabled> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> </button> <div class=pgc-image-container> <img ng-if=$ctrl.me.profileImageUrl alt="{{$ctrl.me.name? $ctrl.me.name : $ctrl.me.mail}}" ng-src={{::$ctrl.me.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img ng-if=!$ctrl.me.profileImageUrl alt="{{$ctrl.me.name? $ctrl.me.name : $ctrl.me.mail}}" src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=pgc-text-container> <span class=name>{{::$ctrl.resources.Me}}</span> <span class=email dir=ltr>{{::$ctrl.email($ctrl.me)}}</span> </div> </div> <div class=pgc-checkbox-column> <div class="c-checkbox ct-checkbox"> <label class=c-label> <input type=checkbox aria-checked=true checked=checked aria-label={{::$ctrl.resources.Dialogs.GroupCreate.OwnerCheckboxAriaLabel}} disabled=disabled /> <span></span> </label> </div> </div> </li> <li ng-repeat="m in $ctrl.members" class=pgc-row> <div class=pgc-info-column> <button type=button class=c-action-trigger ng-click=$ctrl.onRemoveMember(m) aria-label="{{::$ctrl.deleteButtonLabel(m.name? m.name : m.mail)}}"> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> </button> <div class=pgc-image-container> <img ng-if=m.profileImageUrl alt="{{m.name? m.name : m.mail}}" ng-src={{::m.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img ng-if=!m.profileImageUrl alt="{{m.name? m.name : m.mail}}" src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=pgc-text-container> <span class=name>{{m.name? m.name : m.mail}}</span> <span class=email>{{::$ctrl.email(m)}}</span> </div> </div> <div class=pgc-checkbox-column> <div class="c-checkbox ct-checkbox"> <label class=c-label> <input type=checkbox aria-checked={{m.isOwner}} ng-model=m.isOwner> <span></span> </label> </div> </div> </li> </ul> </div> </fieldset> </form> </dialog-box>'},"./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialog.less":function(e,t){},"./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;return(t=this.openDialog({template:n("./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialog.html"),plain:!0,controller:o.GroupCreateDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,data:{isAdmin:e,groupName:t},className:"dialog-box",ariaRole:"dialog"})).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),t},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.GroupCreateDialog=i,angular.module("jumper.controls").service("groupCreateDialog",i)},"./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts"),a=n("./app/utility/string.ts"),l=n("./app/utility/appUtil.ts");c.prototype.initialize=function(){var e=this;this.dialogTitle=this.resources.Dialogs.GroupCreate.Title,this.dialogSubtitle=this.resources.Dialogs.GroupCreate.Subtitle,this.membersLimitMessage=o.formatString(this.resources.Dialogs.GroupCreate.AddMembersLimit,i.Constants.MaxLengths.PrincipleAssignmentsLimit.toString()),this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.dialogTitle),this.isAdmin=this.$scope.ngDialogData.isAdmin;var t=this.$scope.ngDialogData.groupName;this.group={name:t||"",privacyMode:i.Constants.GroupPrivacy.Private,description:"",aadGroup:{mailAlias:"",membersRoleId:""}},this.name=t,this.principalService.getMyPrincipalInfo(!1).then((function(t){e.me=t.data}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.PrincipalService_GetMyInfo,t)}));var n=[],s=this.roleService.getContributorRoleId().catch((function(t){return e.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.RoleService_GetContributorRoleId,t),e.$q.reject()})),a=this.roleService.getViewerRoleId().catch((function(t){return e.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.RoleService_GetViewerRoleId,t),e.$q.reject()})),l=this.roleService.getOwnerRoleId().catch((function(t){return e.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.RoleService_GetOwnerRoleId,t),e.$q.reject()})),c=this.groupService.getPolicies().catch((function(t){return e.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.GroupService_GetPolicies,t),e.$q.reject()}));n.push(s),n.push(a),n.push(l),n.push(c),this.$q.all(n).then((function(n){if(e.contributorRoleId=n[0],e.viewerRoleId=n[1],e.ownerRoleId=n[2],e.supportedClassifications=n[3].data&&n[3].data.classifications&&n[3].data.classifications.supportedClassifications,e.defaultClassification=n[3].data&&n[3].data.classifications&&n[3].data.classifications.defaultClassification,e.usageGuidelinesUrl=_.get(n[3],"data.general.usageGuidelinesUrl",""),n[3].data&&n[3].data.inputRequirements){for(var r=n[3].data&&n[3].data.inputRequirements,i=0;i<r.length;i++){var o=r[i];"requiredPrefix"===o.requirementType&&"name"===o.propertyName?e.namePrefix=o.value||"":"requiredSuffix"===o.requirementType&&"name"===o.propertyName?e.nameSuffix=o.value||"":"requiredPrefix"===o.requirementType&&"aadGroup.mailAlias"===o.propertyName?e.aliasPrefix=o.value||"":"requiredSuffix"===o.requirementType&&"aadGroup.mailAlias"===o.propertyName&&(e.aliasSuffix=o.value||"")}e.hideNameHint=!(""!==e.namePrefix||""!==e.nameSuffix),e.hideAliasHint=!(""!==e.aliasPrefix||""!==e.aliasSuffix)}_.isArray(e.supportedClassifications)&&e.supportedClassifications.length&&(e.classificationOptions=_.map(e.supportedClassifications,(function(e){return{text:e.name,value:e.name,description:e.name}})),e.defaultClassification&&e.supportedClassifications&&1===e.supportedClassifications.filter((function(t){return t.name===e.defaultClassification.name})).length?e.group.aadGroup.classification=e.defaultClassification.name:e.group.aadGroup.classification=e.supportedClassifications[0].name),_.isArray(e.supportedClassifications)&&e.supportedClassifications.length&&(e.classificationDescription=e.supportedClassifications.filter((function(e){return null!=e.description})).map((function(e){return e.name+" - "+e.description})).join(";"),e.classificationDescription=void 0!==e.classificationDescription&&e.classificationDescription?e.classificationDescription:e.resources.Dialogs.GroupEdit.ClassificationsTooltip),e.group.aadGroup.membersRoleId=e.viewerRoleId,e.roleReady=!0,t&&e.onNameChange()}),(function(t){e.error=!0,e.errorHeader=e.resources.Dialogs.GroupCreate.GenericInitializationFail})).finally((function(){e.isLoading=!1}))},c.prototype.updateState=function(e,t){var n=this;if(!e)return this.error&&(this.error=!1,this.errorHeader=""),this.isEmailUnique=!0,this.hasOtherError=!1,this.isNameValid=0<this.name.length,this.isNameValid?(this.isEmailValid=0<this.mailAlias.length&&this.mailAlias.length<this.max&&this.isEmailFormatValid(this.mailAlias),this.isEmailValid?void this.groupService.validate(this.group).then((function(e){}),(function(e){n.featureTelemetryTracker.warn(r.FeatureName.GroupCreate,r.SubFeatureName.GroupService_ValidateInGroupCreate,e);var t=e.data.error.details,o=null,s=null;if(t){for(var a=0;a<t.length;a++){var l=t[a];l.target===i.Constants.targetGroupName?(n.isNameValid=!1,o?o+="; "+l.message:o=l.message):l.target===i.Constants.targetGroupEmailAlias?"PropertyConflict"===l.code?n.isEmailUnique=!1:(n.isEmailValid=!1,s?s+="; "+l.message:s=l.message):(n.hasOtherError=n.error=!0,n.errorHeader=n.resources.Dialogs.GroupCreate.GenericValidationFailure)}n.nameValidationErrorMessage=o,n.aliasValidationErrorMessage=s}else n.hasOtherError=n.error=!0,n.errorHeader=n.resources.Dialogs.GroupCreate.GenericValidationFailure})).finally((function(){n.saveButtonEnabled=n.isNameValid&&n.isEmailValid&&n.isEmailUnique&&!n.hasOtherError})):(this.saveButtonEnabled=!1,void(this.aliasValidationErrorMessage=this.resources.Dialogs.GroupCreate.ErrorInvalidEmail))):(this.saveButtonEnabled=!1,void(this.nameValidationErrorMessage=this.resources.Dialogs.GroupCreate.ErrorNameRequired));this.error=!0,t&&t.data&&t.data.error&&_.isString(t.data.error.message)?this.errorHeader=e+" "+t.data.error.message:this.errorHeader=e},Object.defineProperty(c.prototype,"areMembersContributor",{get:function(){return this.group.aadGroup.membersRoleId===this.contributorRoleId},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"areMembersViewer",{get:function(){return!(this.group.aadGroup.membersRoleId===this.viewerRoleId)},enumerable:!0,configurable:!0}),c.prototype.onToggleContributorClicked=function(){this.group.aadGroup.membersRoleId===this.contributorRoleId?this.group.aadGroup.membersRoleId=this.viewerRoleId:this.group.aadGroup.membersRoleId=this.contributorRoleId},c.prototype.onNameChange=function(){this.group.name=""+this.namePrefix+this.name+this.nameSuffix,this.isEmailComputed&&(this.mailAlias=this.name?this.name.split(" ").join(""):"",this.group.aadGroup.mailAlias=this.aliasPrefix+this.mailAlias+this.aliasSuffix,this.mailHint=this.group.aadGroup.mailAlias+"@..."),this.updateState()},c.prototype.onEmailChange=function(){this.isEmailComputed=!1,this.group.aadGroup.mailAlias=this.aliasPrefix+this.mailAlias+this.aliasSuffix,this.mailHint=this.group.aadGroup.mailAlias+"@...",this.updateState()},c.prototype.cancel=function(){this.telemetryProperties.isDiscarded=!0,this.dialogCloseMessage=this.resources.Dialogs.GroupCreate.DialogClosedMessage,this.$scope.closeThisDialog({closeMessage:this.dialogCloseMessage})},c.prototype.addMembers=function(e){var t=this,n=this.members.filter((function(e){return e.isOwner})).map((function(e){return e.id})),i=this.members.map((function(e){return e.id}));this.me.id&&i.push(this.me.id);var o=(e.aadGroup.membersRoleId===this.viewerRoleId?this.groupService.addViewers:this.groupService.addContributors).bind(this.groupService);return this.$q.all([this.groupService.addOwners(e.id,n),o(e.id,i)]).then((function(){return t.$q.resolve()}),(function(e){return t.updateState(t.resources.Dialogs.GroupCreate.CreateFailure,e),t.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.GroupService_AddMembers,e),t.$q.reject()}))},c.prototype.create=function(){var e=this;this.telemetryProperties.isCreated=!0,this.saveButtonEnabled=!1,this.error=!1,this.errorHeader="",this.isSaving=!0,this.groupService.create(this.group).then((function(t){return e.newGroup=t.data,e.dialogCloseMessage=e.resources.Dialogs.GroupCreate.AfterCreationMessage,e.addMembers(e.newGroup)}),(function(t){return t.status==i.Constants.HttpStatusCode.Conflict?e.featureTelemetryTracker.warn(r.FeatureName.GroupCreate,r.SubFeatureName.GroupService_Create,t):e.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.GroupService_Create,t),l.alertScreenReader(e.resources.Dialogs.GroupCreate.CreateGroupFailedAria),e.updateState(e.resources.Dialogs.GroupCreate.CreateFailure,t),e.$q.reject(t)})).then((function(){e.featureTelemetryTracker.succeed(r.FeatureName.GroupCreate),e.$scope.closeThisDialog({group:e.newGroup,closeMessage:e.dialogCloseMessage})})).finally((function(){e.saveButtonEnabled=!0,e.isSaving=!1}))},c.prototype.onRemoveMember=function(e){this.members=this.members.filter((function(t){return t.id!==e.id})),l.alertScreenReader(this.resources.Dialogs.GroupCreate.MemberRemovedAlert)},c.prototype.selectPrincipal=function(e){e.id!==this.me.id&&0===_.filter(this.members,(function(t){return t.id===e.id})).length&&(e.isOwner=!1,this.members.push(e),l.alertScreenReader(this.resources.Dialogs.GroupCreate.MemberAddedAlert))},c.prototype.email=function(e){return e.mail?"("+a.removeDomainNameFromEmail(e.mail)+")":""},c.prototype.deleteButtonLabel=function(e){return o.formatString(this.resources.DeleteButtonLabel,e)},Object.defineProperty(c.prototype,"loadingPanelMessage",{get:function(){return this.isSaving?this.resources.Saving:this.resources.Loading},enumerable:!0,configurable:!0}),c.prototype.isEmailFormatValid=function(e){return this.emailRegex.test(e)},c.$inject=["$q","$element","$scope","resources","groupService","principalService","roleService","telemetryService"],n=c;function c(e,t,n,o,a,l,c,d){var u=this;this.$q=e,this.$element=t,this.$scope=n,this.resources=o,this.groupService=a,this.principalService=l,this.roleService=c,this.telemetryService=d,this.isEmailComputed=!0,this.isEmailValid=!0,this.isEmailUnique=!0,this.isNameValid=!0,this.hasOtherError=!0,this.roleReady=!1,this.max=i.Constants.MaxLengths.GroupEmailAlias,this.members=[],this.searchTypeList=[s.PrincipalSearchType.PrincipalUsers],this.isLoading=!0,this.namePrefix="",this.nameSuffix="",this.aliasPrefix="",this.aliasSuffix="",this.groupDescriptionMaxLength=i.Constants.MaxLengths.GroupDescription,this.emailRegex=i.Constants.MailAliasRegEx,this.hideNameHint=!0,this.hideAliasHint=!0,this.telemetryProperties={isCreated:!1,isDiscarded:!1,allowEditVideo:!1,groupPrivacy:""},this.telemetryMetrics={numMembers:0},this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.GroupCreateDialog),this.featureTelemetryTracker.tagScreen(),this.initialize(),n.$on("$destroy",(function(){u.telemetryProperties.allowEditVideo=u.areMembersContributor,u.telemetryProperties.groupPrivacy=u.group.privacyMode,u.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.groupCreateSummary,u.telemetryProperties,u.telemetryMetrics)})),this.accessOptions={label:"",options:[{value:i.Constants.GroupPrivacy.OrganizationAsViewer,text:this.resources.Dialogs.Group.PrivacyOptions.Company},{value:i.Constants.GroupPrivacy.Private,text:this.resources.Dialogs.Group.PrivacyOptions.Limited}]}}t.GroupCreateDialogController=n},"./app/Controls/Dialogs/GroupEditDialog/GroupEditDialog.html":function(e,t){e.exports='<dialog-box hide-header=true left-button-text=$ctrl.resources.Cancel right-button-text=$ctrl.resources.Save left-button-enabled=true right-button-enabled=$ctrl.saveButtonEnabled on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.save()> <form novalidate class="group-edit dialog-header-confirm"> <div class=saving-overlay ng-if=$ctrl.isLoading> <loading-panel message=$ctrl.loadingPanelMessage></loading-panel> </div> <div class=header-container> <div role=heading class=header> {{::$ctrl.dialogTitle}} </div> <div class=delete-container ng-if="!$ctrl.isSpotlightEnabled && $ctrl.group.userData.permissions.canDelete"> <button ng-if=!$ctrl.deleteOpen ng-click="$ctrl.deleteOpen = true" type=button class=c-action-trigger ng-class="{\'admin-mode-button\':$ctrl.isInAdminMode}"> <svg-src class=delete-icon svg-name=icon_delete inline-with-text=true></svg-src> {{::$ctrl.resources.Dialogs.GroupEdit.DeleteButton}} </button> <div ng-if=$ctrl.deleteOpen class=delete-container-inner> <div class=delete-group-confirm-text> {{::$ctrl.resources.Dialogs.GroupEdit.DeleteConfirmation}} </div> <button class="c-action-trigger delete-button link-color" ng-click=$ctrl.delete()> <svg-src svg-name=icon_delete inline-with-text=true></svg-src> {{::$ctrl.resources.Delete}} </button> <button class="c-action-trigger cancel-button link-color" ng-click="$ctrl.deleteOpen = false"> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> {{::$ctrl.resources.Cancel}} </button> </div> </div> </div> <div class=group-admin-mode-message ng-if="$ctrl.isOffice365Group && $ctrl.isStreamAdmin && !$ctrl.isTenantAdmin && $ctrl.isAdmin"> {{::$ctrl.resources.AdminMode.Group.StreamAdminMessage}} </div> <a external-link ng-href={{::$ctrl.usageGuidelinesUrl}} target=_blank class=c-hyperlink>{{::$ctrl.resources.Dialogs.GroupCreate.UsageGuidelinesUrl}}</a> <custom-error-message ng-if=$ctrl.error is-compact=true error-message=$ctrl.errorHeader> </custom-error-message> <fieldset class=edit-section> <div class="row row-size0"> <div class="column small-6"> <label class=ct-label-compact for=group-name>{{::$ctrl.resources.Dialogs.GroupEdit.NameLabel}}</label> <input type=text id=group-name class=ct-textbox-compact ng-model=$ctrl.group.name ng-model-options="{debounce: 500}" ng-change=$ctrl.onNameChange() ng-disabled="$ctrl.isOffice365Group && $ctrl.isStreamAdmin && !$ctrl.isTenantAdmin && $ctrl.isAdmin"/> <span class=span-text ng-hide=$ctrl.hideNameHint>{{$ctrl.name}}</span> <custom-error-message class=custom-error-messager-name ng-if=!$ctrl.isNameValid is-compact=true error-message=$ctrl.nameValidationErrorMessage> </custom-error-message> </div> <div class="column small-6 email-component" ng-if=$ctrl.isOffice365Group> <label class="ct-label-compact email-label" for=group-email>{{::$ctrl.resources.Dialogs.GroupEdit.EmailLabel}}</label> <div> <span class=group-email-input dir=ltr> <input type=text id=group-email class=ct-textbox-compact ng-model=$ctrl.group.aadGroup.mailAlias disabled=disabled /> <span>@...</span> </span> </div> </div> </div> </fieldset> <div class="row row-size0 edit-section"> <div class=column> <label class=ct-label-compact for=group-description>{{::$ctrl.resources.Dialogs.GroupEdit.DescriptionLabel}}</label> <textarea rows=3 id=group-description class=ct-textarea-compact ng-model=$ctrl.group.description ng-change=$ctrl.onDescriptionChange() maxlength={{$ctrl.groupDescriptionMaxLength}} ng-disabled="$ctrl.isOffice365Group && $ctrl.isStreamAdmin && !$ctrl.isTenantAdmin && $ctrl.isAdmin"></textarea> </div> </div> <div class="row row-size0 edit-section" ng-if="$ctrl.classificationOptions && $ctrl.classificationOptions.length"> <div class="column small-6 group-classifications"> <label class=ct-label-compact for=group-classification>{{::$ctrl.resources.Dialogs.GroupEdit.ClassificationsLabel}}</label> <tooltip message=$ctrl.classificationDescription button-aria-label={{::$ctrl.resources.Dialogs.GroupEdit.ClassificationsLabel}} customized-messages=$ctrl.supportedClassifications></tooltip> <drop-down id=group-classification class="group-classification-dropdown search-type-dropdown ct-dropdown-compact" disabled="$ctrl.isOffice365Group && $ctrl.isStreamAdmin && !$ctrl.isTenantAdmin && $ctrl.isAdmin" options=$ctrl.classificationOptions value=$ctrl.group.aadGroup.classification aria-label={{::$ctrl.resources.Dialogs.GroupEdit.ClassificationsLabel}}> </drop-down> </div> </div> <div class="row row-size0 edit-section"> <div class="column small-6 group-classifications"> <label class=ct-label-compact for=group-access>{{::$ctrl.resources.Dialogs.GroupEdit.AccessLabel}}</label> <tooltip message=$ctrl.resources.Dialogs.GroupEdit.AccessTooltip button-aria-label={{::$ctrl.resources.Dialogs.GroupEdit.AccessLabel}}></tooltip> <drop-down id=group-access class="group-classification-dropdown group-access-type-dropdown search-type-dropdown ct-dropdown-compact" disabled=$ctrl.disableAccess options=$ctrl.accessOptions.options value=$ctrl.access aria-label={{::$ctrl.resources.Dialogs.GroupEdit.AccessLabel}}> </drop-down> </div> <div class="column small-6 group-classifications"> <div class=allow-video-edit> <span class=all-video-edit-span> <label class=ct-label-compact id=info-toggle>{{::$ctrl.allowVideoEditLabel}}</label> <tooltip message=$ctrl.allowVideoEditTooltip button-aria-label={{::$ctrl.resources.Dialogs.GroupEdit.AllowVideosEditLabel}}></tooltip> </span> </div> <toggle class=info-toggle name=info-toggle value=$ctrl.areMembersContributor disabled="$ctrl.disableLocalGroupPrivacyMode || $ctrl.disableToggle" on-toggle-click=$ctrl.onToggleContributorClicked() /> </div> </div> </form> </dialog-box> '},"./app/Controls/Dialogs/GroupEditDialog/GroupEditDialog.less":function(e,t){},"./app/Controls/Dialogs/GroupEditDialog/GroupEditDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/GroupEditDialog/GroupEditDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/GroupEditDialog/GroupEditDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;return void 0===t&&(t=!1),(t=this.openDialog({template:n("./app/Controls/Dialogs/GroupEditDialog/GroupEditDialog.html"),plain:!0,controller:o.GroupEditDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",data:{group:e,isAdmin:t},ariaRole:"dialog"})).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),t},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.GroupEditDialog=i,angular.module("jumper.controls").service("groupEditDialog",i)},"./app/Controls/Dialogs/GroupEditDialog/GroupEditDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts");s.prototype.initialize=function(){var e=this;this.dialogTitle=this.resources.Dialogs.GroupEdit.Title,this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.dialogTitle),this.group=this.$scope.ngDialogData.group,this.isAdmin=this.$scope.ngDialogData.isAdmin,this.groupOrginal=angular.copy(this.group),this.access=this.group.privacyMode===i.Constants.GroupPrivacy.Private?i.Constants.GroupPrivacy.Private:i.Constants.GroupPrivacy.OrganizationAsViewer,this.disableToggle=!this.isOffice365Group&&this.group.privacyMode===i.Constants.GroupPrivacy.Private,this.nameOriginal=this.group.name,this.groupService.get(this.group.id,this.isAdmin).then((function(t){e.group=t.data,e.isOffice365Group?e.disableOffice365PrivacyMode=e.group.userData&&!e.group.userData.permissions.canManagePrivacyMode:e.disableLocalGroupPrivacyMode=e.group.userData&&!e.group.userData.permissions.canManagePrivacyMode,e.featureTelemetryTracker.succeed(r.FeatureName.Group)}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.Group,r.SubFeatureName.GroupService_Get,t)}));var t=[],n=this.roleService.getContributorRoleId().catch((function(t){return e.featureTelemetryTracker.fail(r.FeatureName.GroupEdit,r.SubFeatureName.RoleService_GetContributorRoleId,t),e.$q.reject()})),o=this.roleService.getViewerRoleId().catch((function(t){return e.featureTelemetryTracker.fail(r.FeatureName.GroupEdit,r.SubFeatureName.RoleService_GetViewerRoleId,t),e.$q.reject()}));t.push(n),t.push(o),this.isOffice365Group?(o=this.groupService.getPolicies().catch((function(t){return e.featureTelemetryTracker.fail(r.FeatureName.GroupCreate,r.SubFeatureName.GroupService_GetPolicies,t),e.$q.reject()})),t.push(o),this.allowVideoEditLabel=this.resources.Dialogs.GroupEdit.AllowVideosEditLabel,this.allowVideoEditTooltip=this.resources.Dialogs.GroupEdit.AllowVideosEditTooltip):(this.allowVideoEditLabel=this.resources.Dialogs.GroupEdit.LocalGroup.AllowVideosEditLabel,this.allowVideoEditTooltip=this.resources.Dialogs.GroupEdit.LocalGroup.AllowVideosEditTooltip),this.$q.all(t).then((function(t){if(e.contributorRoleId=t[0],e.viewerRoleId=t[1],e.isOffice365Group&&(e.supportedClassifications=t[2].data&&t[2].data.classifications&&t[2].data.classifications.supportedClassifications,e.defaultClassification=t[2].data&&t[2].data.classifications&&t[2].data.classifications.defaultClassification,e.usageGuidelinesUrl=t[2].data&&t[2].data.general&&t[2].data.general.usageGuidelinesUrl,_.isArray(e.supportedClassifications)&&e.supportedClassifications.length&&(e.classificationOptions=_.map(e.supportedClassifications,(function(e){return{text:e.name,value:e.name,description:e.name}}))),_.isArray(e.supportedClassifications)&&e.supportedClassifications.length&&(e.classificationDescription=e.supportedClassifications.filter((function(e){return null!=e.description})).map((function(e){return e.name+" - "+e.description})).join(";"),e.classificationDescription=void 0!==e.classificationDescription&&e.classificationDescription?e.classificationDescription:e.resources.Dialogs.GroupEdit.ClassificationsTooltip)),e.isOffice365Group&&t[2].data&&t[2].data.inputRequirements){for(var n=t[2].data&&t[2].data.inputRequirements,i=0;i<n.length;i++){var o=n[i];"requiredPrefix"===o.requirementType&&"name"===o.propertyName?e.namePrefix=o.value||"":"requiredSuffix"===o.requirementType&&"name"===o.propertyName&&(e.nameSuffix=o.value||"")}e.hideNameHint=!(""!==e.namePrefix||""!==e.nameSuffix)}e.featureTelemetryTracker.succeed(r.FeatureName.GroupEdit),e.roleReady=!0}),(function(t){e.error=!0,e.errorHeader=e.resources.Dialogs.GroupEdit.GenericInitializationFail})).finally((function(){e.isLoading=!1})),this.$scope.$watch((function(){return e.access}),(function(t){_.isString(t)&&(e.isOffice365Group?e.group.privacyMode=e.access:e.access===i.Constants.GroupPrivacy.Private?(e.group.privacyMode=i.Constants.GroupPrivacy.Private,e.disableToggle=!0):(e.disableToggle=!1,e.access===i.Constants.GroupPrivacy.OrganizationAsViewer&&!1===e.areMembersContributor?e.group.privacyMode=i.Constants.GroupPrivacy.OrganizationAsViewer:e.group.privacyMode=i.Constants.GroupPrivacy.OrganizationAsContributor),e.updateState())})),this.isOffice365Group&&this.$scope.$watch((function(){return e.group.aadGroup.classification}),(function(t){_.isString(t)&&e.updateState()}))},s.prototype.updateState=function(e,t){var n=this;this.hasOtherError=!1,e?(this.error=!0,t&&t.data&&t.data.error&&_.isString(t.data.error.message)?this.errorHeader=e+" "+t.data.error.message:this.errorHeader=e):(this.error&&(this.error=!1,this.errorHeader=""),this.telemetryProperties.nameModified=this.group.name!==this.groupOrginal.name,this.telemetryProperties.descriptionModified=this.group.description!==this.groupOrginal.description,this.isOffice365Group&&(this.telemetryProperties.membersPermissionModified=this.group.aadGroup.membersRoleId!==this.groupOrginal.aadGroup.membersRoleId),this.telemetryProperties.privacyModified=this.group.privacyMode!==this.groupOrginal.privacyMode,this.isOffice365Group&&this.group.name!==this.groupOrginal.name&&this.name&&this.groupService.validatePatch({id:this.group.id,name:this.name},this.isAdmin).then((function(e){}),(function(e){n.featureTelemetryTracker.warn(r.FeatureName.GroupEdit,r.SubFeatureName.GroupService_ValidateInGroupEdit,e);var t=e.data.error.details,o=null;if(t){for(var s=0;s<t.length;s++){var a=t[s];a.target===i.Constants.targetGroupName?(n.isNameValid=!1,o?o+="; "+a.message:o=a.message):(n.hasOtherError=n.error=!0,n.errorHeader=n.resources.Dialogs.GroupEdit.GenericValidationFailure)}n.nameValidationErrorMessage=o}else n.hasOtherError=n.error=!0,n.errorHeader=n.resources.Dialogs.GroupEdit.GenericValidationFailure})),this.saveButtonEnabled=this.isDirty()&&this.isNameValid&&!this.hasOtherError)},s.prototype.isDirty=function(){return this.group.name!==this.groupOrginal.name||this.group.description!==this.groupOrginal.description||this.group.privacyMode!==this.groupOrginal.privacyMode||!!this.isOffice365Group&&this.group.aadGroup.membersRoleId!==this.groupOrginal.aadGroup.membersRoleId||!!this.isOffice365Group&&this.group.aadGroup.classification!==this.groupOrginal.aadGroup.classification},Object.defineProperty(s.prototype,"areMembersContributor",{get:function(){return this.isOffice365Group?this.group.aadGroup.membersRoleId===this.contributorRoleId:this.group.privacyMode!==i.Constants.GroupPrivacy.Private&&this.group.privacyMode!==i.Constants.GroupPrivacy.OrganizationAsViewer},enumerable:!0,configurable:!0}),s.prototype.onToggleContributorClicked=function(){this.isOffice365Group?this.group.aadGroup.membersRoleId===this.contributorRoleId?this.group.aadGroup.membersRoleId=this.viewerRoleId:this.group.aadGroup.membersRoleId=this.contributorRoleId:this.access===i.Constants.GroupPrivacy.Private||(this.areMembersContributor?this.group.privacyMode=i.Constants.GroupPrivacy.OrganizationAsViewer:this.group.privacyMode=i.Constants.GroupPrivacy.OrganizationAsContributor),this.updateState()},s.prototype.onNameChange=function(){this.isNameValid=!!this.group.name,this.isNameValid||(this.nameValidationErrorMessage=this.resources.Dialogs.GroupCreate.ErrorNameRequired),this.nameOriginal===this.group.name?this.hideNameHint=!0:this.namePrefix||this.nameSuffix?(this.hideNameHint=!1,0===this.group.name.indexOf(this.namePrefix)&&this.group.name.lastIndexOf(this.nameSuffix)===this.group.name.length-this.nameSuffix.length?this.name=this.group.name:0===this.group.name.indexOf(this.namePrefix)&&this.group.name.lastIndexOf(this.nameSuffix)!==this.group.name.length-this.nameSuffix.length?this.name=this.group.name+this.nameSuffix:0!==this.group.name.indexOf(this.namePrefix)&&this.group.name.lastIndexOf(this.nameSuffix)===this.group.name.length-this.nameSuffix.length?this.name=this.namePrefix+this.group.name:this.name=this.namePrefix+this.group.name+this.nameSuffix):this.namePrefix||this.nameSuffix||(this.hideNameHint=!0,this.name=this.group.name),this.updateState()},s.prototype.onDescriptionChange=function(){this.updateState()},s.prototype.cancel=function(){this.telemetryProperties.isDiscarded=!0,this.dialogCloseMessage=this.resources.Dialogs.GroupEdit.DialogClosedMessage,this.$scope.closeThisDialog({group:this.groupOrginal,closeMessage:this.dialogCloseMessage})},s.prototype.save=function(){var e=this;this.telemetryProperties.isSaved=!0,this.saveButtonEnabled=!1,this.groupService.patch({id:this.group.id,name:this.name,description:this.group.description,privacyMode:this.group.privacyMode,aadGroup:this.isOffice365Group?{membersRoleId:this.group.aadGroup.membersRoleId,classification:this.group.aadGroup.classification}:null},this.isAdmin).then((function(t){e.featureTelemetryTracker.succeed(r.FeatureName.GroupEdit),e.group=t.data,e.dialogCloseMessage=e.resources.Dialogs.GroupEdit.AfterUpdateMessage,e.$scope.closeThisDialog({group:e.group,closeMessage:e.dialogCloseMessage})}),(function(t){o.alertScreenReader(e.resources.Dialogs.GroupEdit.UpdateFailedMessage),e.featureTelemetryTracker.fail(r.FeatureName.GroupEdit,r.SubFeatureName.GroupService_Patch,t),e.updateState(e.resources.Dialogs.GroupEdit.UpdateFailure,t)})).finally((function(){e.saveButtonEnabled=!0}))},s.prototype.delete=function(){var e=this;this.groupService.delete(this.group.id,this.isAdmin).then((function(t){e.dialogCloseMessage=e.resources.DeleteGroupSuccessAria,e.featureTelemetryTracker.succeed(r.FeatureName.GroupDelete),e.$scope.closeThisDialog({closeMessage:e.dialogCloseMessage})}),(function(t){o.alertScreenReader(e.resources.DeleteGroupFailureAria),e.featureTelemetryTracker.fail(r.FeatureName.GroupEdit,r.SubFeatureName.GroupService_Delete,t),e.updateState(e.resources.Dialogs.GroupEdit.DeleteFailure,t)}))},Object.defineProperty(s.prototype,"loadingPanelMessage",{get:function(){return this.resources.Loading},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"disableAccess",{get:function(){return this.disableOffice365PrivacyMode||this.disableLocalGroupPrivacyMode||this.isOffice365Group&&this.isStreamAdmin&&!this.isTenantAdmin&&this.isAdmin},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isOffice365Group",{get:function(){return!this.featureFlagsService.Values.LocalGroups||!(!this.group||!this.group.aadGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isSpotlightEnabled",{get:function(){return this.featureFlagsService.Values.GroupSpotlight},enumerable:!0,configurable:!0}),s.$inject=["$q","$element","$scope","resources","groupService","principalService","roleService","telemetryService","featureFlagsService"],n=s;function s(e,t,n,o,s,a,l,c,d){var u=this;this.$q=e,this.$element=t,this.$scope=n,this.resources=o,this.groupService=s,this.principalService=a,this.roleService=l,this.telemetryService=c,this.featureFlagsService=d,this.isNameValid=!0,this.hasOtherError=!1,this.roleReady=!1,this.isLoading=!0,this.saveButtonEnabled=!1,this.deleteOpen=!1,this.error=!1,this.groupDescriptionMaxLength=i.Constants.MaxLengths.GroupDescription,this.hideNameHint=!0,this.namePrefix="",this.nameSuffix="",this.showInfo=!1,this.disableLocalGroupPrivacyMode=!1,this.disableOffice365PrivacyMode=!1,this.telemetryProperties={isSaved:!1,isDiscarded:!1,nameModified:!1,descriptionModified:!1,privacyModified:!1,membersPermissionModified:!1},this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.GroupEditDialog),this.featureTelemetryTracker.tagScreen(),this.initialize(),this.principalService.getMyPrincipalInfo().then((function(e){u.isTenantAdmin=e.data.permissions.canManageTenant,u.isStreamAdmin=u.principalService.getIsStreamAdmin()}),(function(e){u.isTenantAdmin=!1,u.isStreamAdmin=!1,u.featureTelemetryTracker.fail(r.FeatureName.GetPrincipalSettings,r.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})),n.$on("$destroy",(function(){u.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.groupEditSummary,u.telemetryProperties,{})})),this.accessOptions={label:"",options:[{value:i.Constants.GroupPrivacy.OrganizationAsViewer,text:this.resources.Dialogs.Group.PrivacyOptions.Company},{value:i.Constants.GroupPrivacy.Private,text:this.resources.Dialogs.Group.PrivacyOptions.Limited}]}}t.GroupEditDialogController=n},"./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialog.html":function(e,t){e.exports='<dialog-box hide-header=true left-button-text=$ctrl.resources.Cancel right-button-text=$ctrl.resources.Save left-button-enabled=true right-button-enabled=$ctrl.saveButtonEnabled on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.addMembers($ctrl.group)> <form novalidate class=group-members> <div class=saving-overlay ng-if=$ctrl.isSaving> <loading-panel message=$ctrl.resources.Saving></loading-panel> </div> <div class=header-container> <div role=heading class=header> {{::$ctrl.dialogTitle}} </div> <custom-error-message ng-if=$ctrl.error is-compact=true error-message=$ctrl.errorHeader> </custom-error-message> </div> <fieldset ng-if=$ctrl.me class=members-container> <div class="row row-size0"> <div class="column small-6"> <principal-group-search me=$ctrl.me label={{$ctrl.resources.Dialogs.GroupCreate.AddMembersLabel}} tooltip-text={{$ctrl.resources.Dialogs.GroupCreate.AddMembersTooltip}} search-type-list=$ctrl.searchTypeList principal-selected=$ctrl.selectPrincipal(principal) is-disabled=$ctrl.searchPrincipalDisabled include-security-group=!$ctrl.isOffice365Group> </principal-group-search> <custom-error-message ng-if=$ctrl.searchPrincipalDisabled is-warning=true is-compact=true error-message=$ctrl.membersLimitMessage> </custom-error-message> </div> </div> <div class="pgc-table members-table row column small-12 medium-12"> <div class=pgc-table-header> <div class=pgc-row> <div class=pgc-info-column role=columnheader> <span>{{::$ctrl.resources.Dialogs.GroupCreate.Members}}</span> </div> <div class=memberRole role=columnheader ng-if=$ctrl.localGroupEnabled> <span>{{::$ctrl.resources.GroupMemberType.Label}}</span> <tooltip message=$ctrl.roleTooltip button-aria-label={{::$ctrl.roleTooltip}}></tooltip> </div> <div class=pgc-checkbox-column role=columnheader ng-if=!$ctrl.localGroupEnabled> <span>{{::$ctrl.resources.Dialogs.GroupCreate.Owner}}</span> <tooltip message=$ctrl.resources.Dialogs.GroupCreate.OwnerTooltip button-aria-label={{::$ctrl.resources.Dialogs.GroupCreate.Owner}}></tooltip> </div> </div> <hr class=c-divider> </div> <ul class=pgc-table-body> <li ng-repeat="m in $ctrl.members" class=pgc-row> <div class=pgc-info-column> <button type=button class=c-action-trigger ng-click=$ctrl.onRemoveMember(m) aria-label="{{::$ctrl.deleteButtonLabel(m.name? m.name : m.mail)}}"> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> </button> <div class=pgc-image-container> <img ng-if=m.profileImageUrl alt="{{m.name? m.name : m.mail}}" ng-src={{::m.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img ng-if=!m.profileImageUrl alt="{{m.name? m.name : m.mail}}" src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=pgc-text-container> <span class=name>{{m.name? m.name : m.mail}}</span> <span class=email dir=ltr>{{::$ctrl.email(m)}}</span> </div> </div> <div class=pgc-checkbox-column ng-if=!$ctrl.localGroupEnabled> <div class="c-checkbox ct-checkbox"> <label class=c-label> <input type=checkbox aria-checked={{m.isOwner}} ng-model=m.isOwner> <span></span> </label> </div> </div> <drop-down name=dropdown class="search-type-dropdown ct-dropdown-compact" ng-if=$ctrl.localGroupEnabled options=$ctrl.memberTypes.options value=m.memberType> </drop-down> </li> </ul> </div> </fieldset> </form> </dialog-box>'},"./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialog.less":function(e,t){},"./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;return(e=this.openDialog({template:n("./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialog.html"),plain:!0,controller:o.GroupMembersAddDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,data:{isAdmin:t,group:e},className:"dialog-box group-members-dialog",ariaRole:"dialog"})).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),e},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.GroupMembersAddDialog=i,angular.module("jumper.controls").service("groupMembersAddDialog",i)},"./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/string.ts"),o=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts"),s=n("./app/utility/string.ts"),a=n("./app/utility/appUtil.ts"),l=n("./app/utility/Constants.ts");c.prototype.initialize=function(){var e,t,n=this;this.membersLimitMessage=i.formatString(this.resources.Dialogs.GroupCreate.AddMembersLimit,l.Constants.MaxLengths.PrincipleAssignmentsLimit.toString()),this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.dialogTitle),this.isAdmin=this.$scope.ngDialogData.isAdmin,this.group=this.$scope.ngDialogData.group,this.principalService.getMyPrincipalInfo(!1).then((function(e){n.me=e.data}),(function(e){n.featureTelemetryTracker.fail(r.FeatureName.AddGroupMembers,r.SubFeatureName.PrincipalService_GetMyInfo,e)})),this.isOffice365Group?this.roleTooltip=this.resources.Dialogs.GroupCreate.RoleTooltip:this.roleTooltip=this.resources.Dialogs.GroupCreate.LocalGroupRoleTooltip,this.roleService.getViewerRoleId().then((function(e){n.viewerRoleId=e}),(function(e){return n.featureTelemetryTracker.fail(r.FeatureName.AddGroupMembers,r.SubFeatureName.RoleService_GetViewerRoleId,e),n.$q.reject()})),this.localGroupEnabled&&(e=this.resources.GroupMember.MemberTypeFilter.Options,t=l.Constants.GroupMemberType,this.isOffice365Group?(this.memberTypes={label:this.resources.GroupMemberType.Label,options:[{value:t.Viewers,text:e.Member}]},this.memberTypes.options.push({value:t.Owners,text:e.Owner})):this.group.privacyMode===l.Constants.GroupPrivacy.Private?(this.memberTypes={label:this.resources.GroupMemberType.Label,options:[{value:t.Viewers,text:e.Viewer}]},this.memberTypes.options.push({value:t.Contributors,text:e.Contributor}),this.memberTypes.options.push({value:t.Owners,text:e.Owner})):this.group.privacyMode===l.Constants.GroupPrivacy.OrganizationAsViewer?(this.memberTypes={label:this.resources.GroupMemberType.Label,options:[{value:t.Contributors,text:e.Contributor}]},this.memberTypes.options.push({value:t.Owners,text:e.Owner})):this.memberTypes={label:this.resources.GroupMemberType.Label,options:[{value:t.Owners,text:e.Owner}]})},c.prototype.updateState=function(e,t){e?(this.error=!0,t&&t.data&&t.data.error&&_.isString(t.data.error.message)?this.errorHeader=e+" "+t.data.error.message:this.errorHeader=e):this.error&&(this.error=!1,this.errorHeader="")},c.prototype.cancel=function(){this.telemetryProperties.isDiscarded=!0,this.dialogCloseMessage=this.resources.Dialogs.GroupMembers.DialogClosedMessage,this.$scope.closeThisDialog({closeMessage:this.dialogCloseMessage})},c.prototype.addMembers=function(e){var t=this;this.isSaving=!0,this.saveButtonEnabled=!1;var n,i,o,s=[],a=[],c=[],d=this.principalService.getIsStreamAdmin()&&this.principalService.getAdminModeStatus();return this.isOffice365Group?(c=this.localGroupEnabled?(a=this.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Owners})).map((function(e){return e.id})),this.members.map((function(e){return e.id}))):(a=this.members.filter((function(e){return e.isOwner})).map((function(e){return e.id})),this.members.map((function(e){return e.id}))),o=(e.aadGroup&&e.aadGroup.membersRoleId!==this.viewerRoleId?this.groupService.addContributors:this.groupService.addViewers).bind(this.groupService),0<a.length&&s.push(this.groupService.addOwners(e.id,a,d)),0<c.length&&s.push(o(e.id,c,d))):(n=this.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Owners})).map((function(e){return e.id})),i=this.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Viewers})).map((function(e){return e.id})),a=this.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Contributors})).map((function(e){return e.id})),o=this.groupService.addViewers.bind(this.groupService),c=this.groupService.addContributors.bind(this.groupService),0<n.length&&s.push(this.groupService.addOwners(e.id,n,d)),0<i.length&&s.push(o(e.id,i,d)),0<a.length&&s.push(c(e.id,a,d))),this.$q.all(s).then((function(){return t.telemetryMetrics.numMembers=t.members.length,t.telemetryProperties.isSaved=!0,t.localGroupEnabled?t.localGroupEnabled&&(t.isOffice365Group?(t.telemetryProperties.numberOfOwners=t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Owners})).length,t.telemetryProperties.numberOfMembers=t.members.length-t.telemetryProperties.numberOfOwners,t.$scope.closeThisDialog({closeMessage:t.resources.Dialogs.GroupMembers.AddedSuccessfully,isSaved:!0,owners:t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Owners})),members:t.members.filter((function(e){return e.memberType!==l.Constants.GroupMemberType.Owners}))})):(t.telemetryProperties.numberOfOwners=t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Owners})).length,t.telemetryProperties.numberOfViewers=t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Viewers})).length,t.telemetryProperties.numberOfContributors=t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Contributors})).length,t.$scope.closeThisDialog({closeMessage:t.resources.Dialogs.GroupMembers.AddedSuccessfully,isSaved:!0,owners:t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Owners})),viewers:t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Viewers})),contributors:t.members.filter((function(e){return e.memberType===l.Constants.GroupMemberType.Contributors}))}))):(t.telemetryProperties.numberOfOwners=t.members.filter((function(e){return e.isOwner})).length,t.telemetryProperties.numberOfMembers=t.members.length-t.telemetryProperties.numberOfOwners,t.$scope.closeThisDialog({closeMessage:t.resources.Dialogs.GroupMembers.AddedSuccessfully,isSaved:!0,owners:t.members.filter((function(e){return e.isOwner})),members:t.members.filter((function(e){return!e.isOwner}))})),t.$q.resolve()}),(function(e){return t.updateState(t.resources.GroupMembers.Dialog.Failed,e),t.featureTelemetryTracker.fail(r.FeatureName.AddGroupMembers,r.SubFeatureName.GroupService_AddMembers,e),t.$q.reject()})).finally((function(){t.saveButtonEnabled=!0,t.isSaving=!1}))},c.prototype.onRemoveMember=function(e){this.telemetryProperties.numberOfMembers--,this.members=this.members.filter((function(t){return t.id!==e.id})),a.alertScreenReader(this.resources.Dialogs.GroupCreate.MemberRemovedAlert),this.saveButtonEnabled=0<this.members.length},c.prototype.selectPrincipal=function(e){var t;e.id===this.me.id&&(t=this.isOffice365Group&&this.me.permissions.canManageTenant||!this.isOffice365Group&&this.me.permissions.canManageStream),e.id===this.me.id&&!t||0!==_.filter(this.members,(function(t){return t.id===e.id})).length||(this.localGroupEnabled?this.isOffice365Group||this.group.privacyMode===l.Constants.GroupPrivacy.Private?e.memberType=l.Constants.GroupMemberType.Viewers:this.group.privacyMode===l.Constants.GroupPrivacy.OrganizationAsViewer?e.memberType=l.Constants.GroupMemberType.Contributors:e.memberType=l.Constants.GroupMemberType.Owners:e.isOwner=!1,this.members.push(e),a.alertScreenReader(this.resources.Dialogs.GroupCreate.MemberAddedAlert),this.saveButtonEnabled=!0)},c.prototype.email=function(e){return e.mail?"("+s.removeDomainNameFromEmail(e.mail)+")":""},c.prototype.deleteButtonLabel=function(e){return i.formatString(this.resources.DeleteButtonLabel,e)},Object.defineProperty(c.prototype,"isOffice365Group",{get:function(){return!this.featureFlagsService.Values.LocalGroups||!(!this.group||!this.group.aadGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"localGroupEnabled",{get:function(){return this.featureFlagsService.Values.LocalGroups},enumerable:!0,configurable:!0}),c.$inject=["$q","$element","$scope","resources","groupService","principalService","roleService","telemetryService","featureFlagsService"],n=c;function c(e,t,n,s,a,c,d,u,p){var m=this;this.$q=e,this.$element=t,this.$scope=n,this.resources=s,this.groupService=a,this.principalService=c,this.roleService=d,this.telemetryService=u,this.featureFlagsService=p,this.roleReady=!1,this.max=l.Constants.MaxLengths.GroupEmailAlias,this.members=[],this.searchTypeList=[o.PrincipalSearchType.PrincipalUsers],this.telemetryProperties={isSaved:!1,isDiscarded:!1,numberOfOwners:0,numberOfMembers:0,numberOfViewers:0,numberOfContributors:0},this.telemetryMetrics={numMembers:0},this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.GroupMembersAddDialog),this.featureTelemetryTracker.tagScreen(),this.initialize(),this.dialogTitle=i.formatString(this.resources.GroupMembersAdd.DialogHeader,this.group.name),n.$on("$destroy",(function(){m.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.addGroupMembersSummary,m.telemetryProperties,m.telemetryMetrics)}))}t.GroupMembersAddDialogController=n},"./app/Controls/Dialogs/InviteDialog/InviteDialog.html":function(e,t){e.exports="<dialog-box ng-class=\"$ctrl.isEmailEnabled() ? '' : 'email-disabled'\" heading={{::$ctrl.resources.Components.InviteDialog.Title}} left-button-text=$ctrl.resources.Cancel right-button-text=$ctrl.resources.Invite left-button-enabled=true right-button-enabled=$ctrl.principals.length on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.create() inprogress=false error-heading=$ctrl.errorHeader> <principal-selector ng-if=$ctrl.isEmailEnabled() principals=$ctrl.principals telemetry-tracker=$ctrl.telemetryTracker email-needed=true /> <div ng-if=!$ctrl.isEmailEnabled() class=email-disabled-message> <a class=c-hyperlink external-link target=_blank href={{::$ctrl.serviceUpdatesLink}} auto-focus> {{::$ctrl.resources.FeatureUnavailable}} </a> </div> </dialog-box>"},"./app/Controls/Dialogs/InviteDialog/InviteDialog.less":function(e,t){},"./app/Controls/Dialogs/InviteDialog/InviteDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/InviteDialog/InviteDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/InviteDialog/InviteDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e){var t=this,r=this.openDialog({template:n("./app/Controls/Dialogs/InviteDialog/InviteDialog.html"),plain:!0,controller:o.InviteDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",ariaRole:"dialog"});return r.closePromise.finally((function(){t.telemetry.getTracker(t.navigation.getPageName()).tagScreen()})),r},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.InviteDialog=i,angular.module("jumper.controls").service("inviteDialog",i)},"./app/Controls/Dialogs/InviteDialog/InviteDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts");o.prototype.cancel=function(){this.$scope.closeThisDialog()},o.prototype.create=function(){var e=this;this.inviteDialogSummary={usersInvited:0,viralUserInvited:0,managedUsersInvited:0,mailSent:0,mailFailed:0},this.inviteDialogSummary.usersInvited=this.principals.length;for(var t=0;t<this.principals.length;t++)this.principals[t].mail===this.principals[t].name?this.inviteDialogSummary.viralUserInvited++:this.inviteDialogSummary.managedUsersInvited++;this.invitationService.invite(this.principals).then((function(t){t=JSON.parse(t.data).users,_.forEach(t,(function(t){var n=t.responseCode;t.responseCode.toLocaleLowerCase()===i.Constants.OfficeAPI.ResponseCodes.Success?(e.inviteDialogSummary.mailSent++,e.telemetryTracker.trackEvent(r.TelemetryEventNames.InviteEmail,{sent:!0,responseCode:n},{})):(e.inviteDialogSummary.mailFailed++,e.telemetryTracker.trackEvent(r.TelemetryEventNames.InviteEmail,{sent:!1,responseCode:n},{}),e.inviteDialogSummary["mailFailed-"+n]=e.inviteDialogSummary["mailFailed-"+n]?e.inviteDialogSummary["mailFailed-"+n]+1:1)})),e.telemetryTracker.trackEvent(r.TelemetryEventNames.inviteDialogSessionSummary,{invitationSent:!0},e.inviteDialogSummary),e.telemetryTracker.succeed(r.FeatureName.InviteOthers)})).catch((function(t){e.telemetryTracker.fail(r.FeatureName.InviteOthers,r.SubFeatureName.NotApplicable,t)})),this.$scope.closeThisDialog()},o.prototype.isEmailEnabled=function(){return this.featureFlagsService.Values.EmailEnabled},o.$inject=["$scope","resources","telemetryService","featureFlagsService","invitationService","$element"],n=o;function o(e,t,n,o,s,a){this.$scope=e,this.resources=t,this.telemetryService=n,this.featureFlagsService=o,this.invitationService=s,this.$element=a,this.principals=[],this.serviceUpdatesLink=i.Constants.ServiceUpdatesLink,this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.resources.InviteOthers),this.$element.attr("aria-modal","true"),this.telemetryTracker=this.telemetryService.getTracker(r.ScreenName.InviteDialog),this.telemetryTracker.tagScreen()}t.InviteDialogController=n},"./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialog.html":function(e,t){e.exports='<dialog-box hide-header=true left-button-text=$ctrl.resources.Cancel right-button-text=$ctrl.resources.Save left-button-enabled=true right-button-enabled=$ctrl.saveButtonEnabled on-left-button-clicked=$ctrl.cancel() on-right-button-clicked=$ctrl.save() class=principal-edit> <form novalidate class=dialog-header-confirm> <div class=heading> {{$ctrl.editUserDetailsText}} <div class=name> {{$ctrl.nameInTitle}} </div> </div> <div class=gradiant-separator-lighting></div> <div class=image-outer ng-class="{\'image-outer-hover\': hover}" ng-mouseenter="hover=true" ng-mouseleave="hover=false"> <img ng-if=$ctrl.principal.profileImageUrl ng-src={{::$ctrl.principal.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}} /> <img ng-if=!$ctrl.principal.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}} /> </div> <custom-error-message ng-if=$ctrl.errorMessage is-compact=true error-message=$ctrl.errorMessage> </custom-error-message> <div class=name-label>{{$ctrl.resources.ForgottenUsersNameTitle}}</div> <div class=name-value> <input type=text class=ct-textbox-compact ng-model=$ctrl.principal.name ng-model-options="{debounce: 500}" ng-change=$ctrl.onNameChange() /> </div> <div class=name-change-hint>{{$ctrl.resources.Dialogs.PrincipalEdit.NameChangeHint}} <a external-link href={{::$ctrl.resources.ForgottenUsersLearnMoreLink}} class=c-hyperlink target=_blank>{{$ctrl.resources.ForgottenUsersLearnMore}}</a> </div> <div class=email-change-hint>{{$ctrl.resources.Dialogs.PrincipalEdit.EmailChangeHint}}</div> <div class=gradiant-separator-darkening></div> </form> </dialog-box> '},"./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialog.less":function(e,t){},"./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;return void 0===t&&(t=!1),(t=this.openDialog({template:n("./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialog.html"),plain:!0,controller:o.PrincipalEditDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",data:{principal:e,isAdmin:t},ariaRole:"dialog"})).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),t},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.PrincipalEditDialog=i,angular.module("jumper.controls").service("principalEditDialog",i)},"./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/appUtil.ts");o.prototype.initialize=function(){this.principal=this.$scope.ngDialogData.principal,this.editUserDetailsText=this.resources.EditUserDetails,this.nameInTitle=""+this.principal.name,this.$element.attr("aria-label",this.resources.EditUserDetails+this.nameInTitle),this.principal=this.$scope.ngDialogData.principal,this.isAdmin=this.$scope.ngDialogData.isAdmin,this.principalOrginal=angular.copy(this.principal)},o.prototype.isDirty=function(){return this.principal.name!==this.principalOrginal.name},o.prototype.onNameChange=function(){this.isNameValid=!!this.principal.name,this.isNameValid?(this.telemetryProperties.firstNameModified=!0,this.telemetryProperties.lastNameModified=!0):this.nameValidationErrorMessage=this.resources.Dialogs.PrincipalEdit.ErrorNameRequired,this.saveButtonEnabled=this.isDirty()&&this.isNameValid},o.prototype.cancel=function(){this.telemetryProperties.isDiscarded=!0,this.dialogCloseMessage=this.resources.Dialogs.PrincipalEdit.PrincipalClosedMessage,this.$scope.closeThisDialog({principal:this.principalOrginal,closeMessage:this.dialogCloseMessage})},o.prototype.save=function(){var e=this;this.telemetryProperties.isSaved=!0,this.saveButtonEnabled=!1,this.principalService.patch(this.principal,this.isAdmin).then((function(t){e.featureTelemetryTracker.succeed(r.FeatureName.PrincipalEdit),e.principal=t.data,e.dialogCloseMessage=e.resources.Dialogs.PrincipalEdit.AfterUpdateMessage,e.$scope.closeThisDialog({principal:e.principal,closeMessage:e.dialogCloseMessage})}),(function(t){e.errorMessage=i.errorMessage(t)||e.resources.Dialogs.PrincipalEdit.UpdateFailedMessage,i.alertScreenReader(e.errorMessage),e.featureTelemetryTracker.fail(r.FeatureName.PrincipalEdit,r.SubFeatureName.PrincipalService_Patch,t)})).finally((function(){e.saveButtonEnabled=!0}))},o.$inject=["$q","$element","$scope","resources","principalService","telemetryService"],n=o;function o(e,t,n,i,o,s){var a=this;this.$q=e,this.$element=t,this.$scope=n,this.resources=i,this.principalService=o,this.telemetryService=s,this.isNameValid=!0,this.saveButtonEnabled=!1,this.telemetryProperties={isSaved:!1,isDiscarded:!1,firstNameModified:!1,lastNameModified:!1,emailModified:!1},this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.PrincipalEditDialog),this.featureTelemetryTracker.tagScreen(),this.initialize(),n.$on("$destroy",(function(){a.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.principalEditSummary,a.telemetryProperties,{})}))}t.PrincipalEditDialogController=n},"./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialog.html":function(e,t){e.exports='<dialog-box class=upload-video-dialog show-close-in-header=true on-close-clicked=$ctrl.closeDialog() hide-footer=true> <section class=upload-video> <h4>{{$ctrl.resources.RecordVideoDialogTitle}}</h4> <div class=upload-video-instructions> {{$ctrl.resources.RecordVideoDialogDesc1}}<br/> {{$ctrl.resources.RecordVideoDialogDesc2}} </div> <div class=upload-video-buttons> <button class="stream-btn btn-primary btn-windows-version" ng-click=$ctrl.downloadWindowsVersionTool()> {{$ctrl.resources.RecordVideoDownloadWindowsTool}} </button> <button class="stream-btn btn-primary btn-mac-version" ng-click=$ctrl.downloadMacVersionTool()> {{$ctrl.resources.RecordVideoDownloadMacTool}} </button> </div> <div class=upload-video-launch> <button class=c-hyperlink ng-click=$ctrl.launchTool()>{{$ctrl.resources.RecordVideoDialogLaunchTool}}</button> </div> <div class=upload-video-terms> <a external-link target=_blank href="https://go.microsoft.com/fwlink/?linkid=2008687&clcid=0x409">{{$ctrl.resources.RecordVideoDialogLegal}}</a> </div> </section> </dialog-box>'},"./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialog.less":function(e,t){},"./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e){var t=this,r=this.dialogService.open({template:n("./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialog.html"),plain:!0,controller:o.RecordVideoDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",ariaRole:"dialog"});return r.closePromise.finally((function(){t.telemetry.getTracker(t.navigation.getPageName()).tagScreen()})),r},l.$inject=["ngDialog","telemetryService","navigationService","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,e,r,i)||this).dialogService=e,i.telemetry=t,i.navigation=n,i}t.RecordVideoDialog=i,angular.module("jumper.controls").service("recordVideoDialog",i)},"./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts");i.prototype.sendTelemetryEvents=function(e){void 0===e&&(e={}),this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.recordVideo,e)},i.prototype.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},i.prototype.downloadInstaller=function(e){var t=portalConfiguration.ScreenRecorderInstallerPaths?portalConfiguration.ScreenRecorderInstallerPaths.split(","):[];t.length&&(t=e?t[0]:t[1],t=portalConfiguration.PartnerBinariesUri.trim()+t.trim(),this.isIE11()?window.open(t):window.open(t,"_self"))},i.prototype.closeDialog=function(){this.sendTelemetryDataAndCloseDialog({installed:!1})},i.prototype.downloadWindowsVersionTool=function(){this.sendTelemetryDataAndCloseDialog({installed:!1,downloadWindows:!0}),this.downloadInstaller(!0)},i.prototype.downloadMacVersionTool=function(){this.sendTelemetryDataAndCloseDialog({installed:!1,downloadMac:!0}),this.downloadInstaller(!1)},i.prototype.launchTool=function(e){this.videoRecorderService.initialize(),this.sendTelemetryDataAndCloseDialog({installed:!0})},i.prototype.sendTelemetryDataAndCloseDialog=function(e){this.sendTelemetryEvents(e),this.$scope.closeThisDialog()},i.$inject=["$element","$scope","resources","$window","telemetryService","videoRecorderService"],n=i;function i(e,t,n,r,i,o){this.$element=e,this.$scope=t,this.resources=n,this.$window=r,this.telemetryService=i,this.videoRecorderService=o,this.featureTelemetryTracker=this.telemetryService.getTracker()}t.RecordVideoDialogController=n},"./app/Controls/Dialogs/RecordVideoFailedDialog/RecordVideoFailedDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["resources"],n=i;function i(e){this.resources=e,this.resources=e}t.RecordVideoFailedDialogController=n,r.registerController("RecordVideoFailedDialogController",n,angular.module("jumper.controls"))},"./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialog.html":function(e,t){e.exports='<dialog-box show-close-in-header=true on-close-clicked=$ctrl.close() heading={{::$ctrl.dialogTitle}} hide-footer=true> <custom-error-message ng-if=$ctrl.errorMessage is-compact=true error-message=$ctrl.errorMessage> </custom-error-message> <section class=related-channels-dialog-no-data ng-if="!$ctrl.isThereLinkedGroupOrChannel && !$ctrl.errorMessage">{{::$ctrl.resources.NoLinkedGroupOrChannel}}</section> <section class=related-channels-dialog-content ng-if=$ctrl.isThereLinkedGroupOrChannel> <div class=group-channels-secion ng-if=$ctrl.nonPublicGroups.length> <div class="row header-row"> <div class="column xsmall-9 small-6 column-header item-row"> {{$ctrl.resources.Components.RelatedChannelsDialog.ListHeader.GroupTitle}} </div> <div class="column xsmall-3 small-6 column-header item-row"> {{$ctrl.resources.Components.RelatedChannelsDialog.ListHeader.ChannelTitle}} </div> </div> <div class=contain ng-repeat="group in $ctrl.nonPublicGroups"> <div class="row data-row" ng-repeat="channel in group.channels"> <div class="column xsmall-9 small-6 item-row"> <div class=item-image> <a class="c-hyperlink item-thumbnail-link thumbnail-link" ng-href={{::$ctrl.getGroupPage(group)}} ng-click=$ctrl.onGroupClick(group) aria-label={{$ctrl.getGroupItemAriaLabel(group)}}> <img ng-if=group.imageUrl alt={{::$ctrl.getGroupThumbnailAltTag(group)}} ng-src={{::group.imageUrl}} onerror=\'this.style.display="none"\'/> </a> </div> <button class="c-hyperlink black-link group-link item-name" ng-click=$ctrl.goToGroup(group.id)> {{group.name}} </button> <span class=arrow-icon><svg-src svg-name=icon_right_arrow ng-if=!channel.isDefault /></span> </div> <div class="column xsmall-3 small-6 item-row" ng-if=!channel.isDefault> <div class=item-image> <a class="c-hyperlink item-thumbnail-link thumbnail-link" ng-href={{::$ctrl.getChannelPage(channel)}} ng-click=$ctrl.onChannelClick(channel) aria-label={{$ctrl.getChannelItemAriaLabel(channel)}}> <img ng-if=channel.posterImage.small.url alt={{::$ctrl.getChannelThumbnailAltTag(channel)}} ng-src={{channel.posterImage.small.url}} onerror=\'this.style.display="none"\'/> </a> </div> <button class="c-hyperlink black-link item-name channel-name channel-link" ng-click=$ctrl.goToChannel(channel.id)> {{channel.name}} </button> </div> </div> </div> </div> <div class=public-channels-secion ng-if=$ctrl.publicChannels.length> <div class="row header-row public-channels"> <div class="column xsmall-12 column-header item-row"> {{$ctrl.resources.Components.RelatedChannelsDialog.PublicChannels}} </div> </div> <div class=contain> <div class="row data-row" ng-repeat="channel in $ctrl.publicChannels"> <div class="column xsmall-12 item-row"> <div class=item-image> <a class="c-hyperlink item-thumbnail-link thumbnail-link" ng-href={{::$ctrl.getChannelPage(channel)}} ng-click=$ctrl.onChannelClick(channel) aria-label={{$ctrl.getChannelItemAriaLabel(channel)}}> <img ng-if=channel.posterImage.small.url alt={{::$ctrl.getChannelThumbnailAltTag(channel)}} ng-src={{channel.posterImage.small.url}} onerror=\'this.style.display="none"\'/> </a> </div> <button class="c-hyperlink black-link item-name channel-link" ng-click=$ctrl.goToChannel(channel.id)> {{channel.name}} </button> </div> </div> </div> </div> </section> </dialog-box>'},"./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialog.less":function(e,t){},"./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t,n,r){return this.getDialog({groups:e,video:t,goToChannel:n,goToGroup:r})},l.prototype.openWithErrorMessage=function(e,t){return this.getDialog({video:e,errorMessage:t})},l.prototype.getDialog=function(e){return this.openDialog({template:n("./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialog.html"),plain:!0,controller:o.RelatedChannelsDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!0,showClose:!1,data:e,className:"dialog-box related-channels-dialog",ariaRole:"dialog"})},l.$inject=["ngDialog","$rootScope","resources"],i=l;function l(e,t,n){return a.call(this,e,t,n)||this}t.RelatedChannelsDialog=i,angular.module("jumper.controls").service("RelatedChannelsDialog",i)},"./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/services/NavigationService.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts");a.prototype.close=function(){this.$scope.closeThisDialog()},a.prototype.getGroupThumbnailAltTag=function(e){return e&&e.name?o.getResourceThumbnailAltTag(e.name,this.resources.Group):""},a.prototype.getGroupItemAriaLabel=function(e){return e&&e.name?s.formatString("{0} {1}",e.name,this.resources.Group):""},a.prototype.getGroupPage=function(e){return e&&e.id?i.generatePathWithQueryStrings(r.Constants.Routes.Group,e.id,{}):""},a.prototype.onGroupClick=function(e){this.goToGroup(e.id)},a.prototype.getChannelThumbnailAltTag=function(e){return e&&e.name?o.getResourceThumbnailAltTag(e.name,this.resources.Channel):""},a.prototype.getChannelItemAriaLabel=function(e){return e&&e.name?s.formatString("{0} {1}",e.name,this.resources.Channel):""},a.prototype.getChannelPage=function(e){return e&&e.id?i.generatePathWithQueryStrings(r.Constants.Routes.Channel,e.id,{}):""},a.prototype.onChannelClick=function(e){this.goToChannel(e.id)},Object.defineProperty(a.prototype,"dialogTitle",{get:function(){return s.formatString(this.resources.Components.RelatedChannelsDialog.DialogTitle,this.video.name)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"publicChannels",{get:function(){var e=_.find(this.groups,(function(e){return e.isDefault}));return e?e.channels:[]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"nonPublicGroups",{get:function(){return _.filter(this.groups,(function(e){return!e.isDefault}))},enumerable:!0,configurable:!0}),a.prototype.channelPosterImageAriaLabel=function(e){return s.formatString(this.resources.ChannelPosterImageAltWithChannelName,e)},a.$inject=["$scope","resources"],n=a;function a(e,t){this.$scope=e,this.resources=t,this.groups=this.$scope.ngDialogData.groups,this.video=this.$scope.ngDialogData.video,this.goToChannel=this.$scope.ngDialogData.goToChannel,this.goToGroup=this.$scope.ngDialogData.goToGroup,this.isThereLinkedGroupOrChannel=_.some(this.groups),this.errorMessage=this.$scope.ngDialogData.errorMessage}t.RelatedChannelsDialogController=n},"./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialog.html":function(e,t){e.exports='<copyright-banner class=replace-dialog-copyright-banner company-policy-address=$ctrl.companyPolicy aria-label={{::$ctrl.companyPolicy}}></copyright-banner> <section class="section section-size1 dialog-section"> <div class="replace-video-inner-dialog row row-size0" ngf-drag-over-class="\'replace-drag\'" ngf-drop=$ctrl.uploadSelectFile() ng-model=$ctrl.file ngf-multiple=false ngf-drop-disabled=$ctrl.uploadDisabled> <div class="dialog-container column large-centered large-4 medium-centered medium-4 small-centered small-4 xsmall-centered xsmall-4" role=dialog aria-modal=true aria-labelledby=replace-dialog-header> <div class=dialog-header> <div role=heading class=header id=replace-dialog-header aria-level=1 aria-label={{::$ctrl.dialogTitle}}> {{::$ctrl.dialogTitle}} </div> </div> <div class=dialog-content> <div class=replace-message-bar ng-if=$ctrl.shouldShowReplaceMessageBar> <div class=content> {{$ctrl.replaceMessageBarContent}} </div> <button class="c-action-trigger c-glyph cancel-button" ng-click=$ctrl.onHideReplaceMessageBar() aria-label={{::$ctrl.resources.ReplaceVideo.ReplaceMessageBarHide}} title={{::$ctrl.resources.ReplaceVideo.ReplaceMessageBarHide}}> <svg-src svg-name=icon_cancel inline-with-text=true class=cancel-button-svg></svg-src> </button> </div> <div class=replace-video> <div class=upload-video-container> <div class=file-select-container ng-hide=$ctrl.uploadDisabled> <button class=c-hyperlink role=link ngf-select=$ctrl.uploadSelectFile() ng-model=$ctrl.file ngf-multiple=false aria-label={{::$ctrl.uploadMessageAriaLabel}}> {{::$ctrl.uploadPrompt}} </button> </div> <div ng-if=$ctrl.isFailed> <ul> <li> <custom-error-message aria-label={{::$ctrl.failedMessage}} error-message=$ctrl.failedMessage> </custom-error-message><br/> </li> <li> <a class="c-action-trigger supportedFormatsLink" external-link ng-href={{::$ctrl.supportedFormatsLink}} target=_blank aria-label={{::$ctrl.supportedFileFormats}}> {{::$ctrl.supportedFileFormats}} </a> </li> </ul> </div> <div class=file-name-container ng-show=$ctrl.replaceButtonEnabled> <span aria-label={{::$ctrl.fileName}} class=file-name>{{$ctrl.fileName}}</span> <button id=removeFileButton aria-label={{::$ctrl.removeFileAriaLabel}} custom-title={{::$ctrl.removeFileAriaLabel}} light-style=true ng-show=$ctrl.replaceButtonEnabled class=c-action-trigger ng-click=$ctrl.changeFile()> <svg-src class=medium-icon svg-name=icon_cancel inline-with-text=true> </svg-src> </button> </div> </div> <div ng-if=!$ctrl.isNonRecordedLiveEvent> <div aria-label={{::$ctrl.deleteWarning}} class=download-prompt-container> {{::$ctrl.deleteWarning}} <button class=c-hyperlink role=link ng-click=$ctrl.download()> {{::$ctrl.downloadPrompt}} </button> </div> <div class=replace-prompt-container> <div class=replace-deleted-items id=replace-deleted-items-header> {{::$ctrl.deletedItemsHeader}} <ul class=deleted-items-list aria-labelledby=replace-deleted-items-header> <li class=deleted-item ng-repeat="deleted in $ctrl.deletedItems" aria-label={{deleted}}> <svg-src svg-name=icon_warning_triangle_pink inline-with-text=true class=warning-icon></svg-src> {{deleted}} </li> </ul> </div> <div class=replace-disconnected-items id=replace-disconnected-items-header> {{::$ctrl.disconnectedItemsHeader}} <ul class=disconnected-items-list aria-labelledby=replace-disconnected-items-header> <li class=disconnected-item ng-repeat="disconnected in $ctrl.disconnectedItems" aria-label={{disconnected}}> <svg-src svg-name=icon_warning_triangle_pink inline-with-text=true class=warning-icon></svg-src> {{disconnected}} <tooltip message=$ctrl.formsTooltip button-aria-label={{::$ctrl.formsTooltip}}></tooltip> </li> </ul> </div> <div class=replace-saved-items id=replace-saved-items-header> {{::$ctrl.savedItemsHeader}} <ul class=saved-items-list aria-labelledby=replace-saved-items-header> <li class=saved-item ng-repeat="saved in $ctrl.savedItems" aria-label={{saved}}> <svg-src svg-name=icon_checkmark_green inline-with-text=true class=checkmark-icon></svg-src> {{saved}} </li> </ul> </div> </div> </div> </div> </div> <div class=dialog-footer> <div class=left> <button class="stream-btn cancel-button" ng-click=$ctrl.cancel()> {{::$ctrl.resources.Cancel}} </button> </div> <div class=right> <button type=submit class="stream-btn replace-button" ng-disabled="!$ctrl.replaceButtonEnabled || $ctrl.isFailed" ng-class="{\'btn-primary\':true}" ng-click=$ctrl.replace()> {{::$ctrl.replaceButtonText}} </button> </div> </div> </div> </div> </section>'},"./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialog.less":function(e,t){},"./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t,r){var i=this;return void 0===t&&(t=!1),void 0===r&&(r=""),(r=this.openDialog({template:n("./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialog.html"),plain:!0,controller:o.ReplaceVideoDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!0,showClose:!1,className:"replace-video-dialog",data:{video:e,isAdmin:t,companyPolicy:r},ariaRole:"dialog"})).closePromise.finally((function(){i.telemetry.getTracker(i.navigation.getPageName()).tagScreen()})),r},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.ReplaceVideoDialog=i,angular.module("jumper.controls").service("replaceVideoDialog",i)},"./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/LiveEventUtils.ts"),s=n("./app/utility/appUtil.ts");a.prototype.cancel=function(){this.closeDialog(!1)},a.prototype.download=function(){this.mediaDownloaderService.downloadAssetFile(this.video.id,i.Constants.VideoFileType.video,this.featureTelemetryTracker)},a.prototype.replace=function(){this.setFileInfo(this.file),this.closeDialog(!0)},a.prototype.changeFile=function(){this.uploadDisabled=!1,this.replaceButtonEnabled=!1,this.isFailed=!1,this.failedMessage=null,this.$scope.form&&this.$scope.form.$setPristine()},a.prototype.uploadSelectFile=function(){this.focusOnElement("#removeFileButton"),this.replaceButtonEnabled=!0},Object.defineProperty(a.prototype,"replaceMessageBarContent",{get:function(){return o.isNonRecordedLiveEvent(this.video)?this.resources.ReplaceVideo.ReplaceMessageBarContentNonRecorded:this.resources.ReplaceVideo.ReplaceMessageBarContentNotViewable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"replaceButtonText",{get:function(){return o.isNonRecordedLiveEvent(this.video)?this.resources.ReplaceVideo.Upload:this.resources.ReplaceVideo.Replace},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"shouldShowReplaceMessageBar",{get:function(){return o.isEndedVodlessLiveEvent(this.video)&&!this.isHideReplaceVideoMessageBar},enumerable:!0,configurable:!0}),a.prototype.onHideReplaceMessageBar=function(){this.isHideReplaceVideoMessageBar=!0},a.prototype.focusOnElement=function(e){var t=angular.element(e);t&&0<t.length&&this.$timeout((function(){t[0].focus()}),100)},a.prototype.closeDialog=function(e){e?(this.focusOnElement("#deleteVideoButton"),this.$scope.closeThisDialog({fileInfo:this.fileInfo})):(this.focusOnElement("#replaceDialogEntry"),this.$scope.closeThisDialog())},a.prototype.setFileInfo=function(e){this.fileInfo={file:e,editStateInfo:{videoState:i.Constants.VideoState.uploading,uploadProgress:0,newlyUploadedItem:!1,isReplacingVideo:!0}}},a.$inject=["$scope","mediaDownloaderService","telemetryService","featureFlagsService","videoService","resources","$timeout"],n=a;function a(e,t,n,a,l,c,d){var u=this;this.$scope=e,this.mediaDownloaderService=t,this.telemetryService=n,this.featureFlagsService=a,this.videoService=l,this.resources=c,this.$timeout=d,this.isFailed=!1,this.replaceButtonEnabled=!1,this.uploadDisabled=!1,this.supportedFormatsLink=s.generateFwLink(i.Constants.ExternalLinkIds.SupportedFormats),this.isHideReplaceVideoMessageBar=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Auto),this.uploadPrompt=this.resources.Dialogs.ReplaceVideo.UploadMessage,this.deleteWarning=this.resources.Dialogs.ReplaceVideo.DeleteWarning,this.downloadPrompt=this.resources.Dialogs.ReplaceVideo.DownloadOriginalVideo,this.deletedItemsHeader=this.resources.Dialogs.ReplaceVideo.DeletedItems,this.disconnectedItemsHeader=this.resources.Dialogs.ReplaceVideo.DisconnectedItems,this.savedItemsHeader=this.resources.Dialogs.ReplaceVideo.SavedItems,this.formsTooltip=this.resources.Dialogs.ReplaceVideo.FormsToolTip,this.formsTooltipLabel=this.resources.Dialogs.ReplaceVideo.Forms,this.supportedFileFormats=this.resources.UploadSupportedFormats,this.removeFileAriaLabel=this.resources.Dialogs.ReplaceVideo.RemoveFileAriaLabel,this.uploadMessageAriaLabel=this.resources.Dialogs.ReplaceVideo.UploadMessageAriaLabel,this.downloadOriginalVideoAriaLabel=this.resources.Dialogs.ReplaceVideo.DownloadOriginalVideoAriaLabel,this.deletedItems=[this.resources.Dialogs.ReplaceVideo.OriginalVideo,this.resources.Dialogs.ReplaceVideo.Thumbnails,this.resources.Dialogs.ReplaceVideo.CaptionFile,this.resources.Dialogs.ReplaceVideo.SubtitleFiles],this.featureFlagsService.Values.DisableFaceDetection||this.deletedItems.push(this.resources.Dialogs.ReplaceVideo.People),this.disconnectedItems=[this.resources.Dialogs.ReplaceVideo.Forms],this.savedItems=[this.resources.Dialogs.ReplaceVideo.ViewCountsLikesComments,this.resources.Dialogs.ReplaceVideo.DetailsOptionsPermissions],this.video=this.$scope.ngDialogData.video,this.companyPolicy=this.$scope.ngDialogData.companyPolicy,this.isNonRecordedLiveEvent=o.isNonRecordedLiveEvent(this.video),this.dialogTitle=this.isNonRecordedLiveEvent?this.resources.ReplaceVideo.UploadNewVideo:this.resources.ReplaceVideo.ReplaceVideo,this.$scope.$watch((function(){return u.file}),(function(e){e&&u.videoService.getSupportedExtensions().then((function(e){var t=u.file.name.split("."),n=("."+t[t.length-1]).toLowerCase();e.data.extensions.some((function(e){return e===n}))?(u.uploadDisabled=!0,u.replaceButtonEnabled=!0,u.fileName=u.file.name,u.isFailed=!1,u.failedMessage=null):(u.isFailed=!0,u.failedMessage=u.file.name+": "+u.resources.Dialogs.ReplaceVideo.InvalidFormat)}))}))}t.ReplaceVideoDialogController=n},"./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialog.html":function(e,t){e.exports='<section class=screen-recorder-dialog-content> <div class="large-12 medium-12 small-12 xsmall-12 screen-recorder-host"> <screen-recorder close-event-target=::$ctrl on-close-clicked=::$ctrl.$scope.closeThisDialog user-session-data=$ctrl.userSessionData></screen-recorder> </div> </section> '},"./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialog.less":function(e,t){},"./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialog.ts":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialogController.ts");n("./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialog.less");var o=(s.prototype.open=function(e){var t=this,n=this.navigationService.getQueryParams();return this.navigationService.addQueryParam(r({},n,{showScreenRecorder:"true"})),this.openOptions.data=e,(e=this.ngDialog.open(this.openOptions)).closePromise.then((function(){t.navigationService.removeQueryParam("showScreenRecorder")})),e},s.$inject=["ngDialog","navigationService"],s);function s(e,t){this.ngDialog=e,this.navigationService=t,this.openOptions={template:n("./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialog.html"),controller:i.ScreenRecorderDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,data:null,ariaRole:"dialog",className:"screen-recorder-dialog"}}t.ScreenRecorderDialog=o,angular.module("jumper.controls").service("screenRecorderDialog",o)},"./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/utilities-browser/index.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/KeyCodes.ts"),s=n("./app/vNextBridges/reactMappings/ReactUserSession.ts");a.prototype.addEventListener=function(e,t,n){this.eventTarget.addEventListener(e,t,n)},a.prototype.dispatchEvent=function(e){return this.eventTarget.dispatchEvent(e)},a.prototype.removeEventListener=function(e,t,n){this.eventTarget.removeEventListener(e,t,n)},a.prototype.close=function(){this.$scope.closeThisDialog()},a.$inject=["$rootScope","$scope","$timeout","$element"],n=a;function a(e,t,n,a){var l=this;this.$rootScope=e,this.$scope=t,this.$timeout=n,this.$element=a,this.isScreenRecorderLoaded=!1,this.userSessionData=s.getDataToCreateReactUserSession(),this.eventTarget=r.createEventTarget(),this.$element.attr("aria-modal","true"),this.unsubscribeFromTokenRenewal=e.$on(i.Constants.Events.TokenRenewedWithApiGateway,(function(){l.userSessionData=s.getDataToCreateReactUserSession()})),n((function(){var e=function(e){var t,n;e.keyCode===o.KeyCodes.Escape?e.defaultPrevented||(t="ScreenRecorderCloseRequested",n=void 0,"function"==typeof Event?n=new Event(t,{cancelable:!0}):(e=document.createEvent("Event"),n.initEvent(t,!0,!0)),l.dispatchEvent(n)&&(l.close(),e.stopPropagation())):(e.keyCode,o.KeyCodes.Tab)}.bind(l);window.addEventListener("keydown",e),l.$scope.$on("$destroy",(function(){window.removeEventListener("keydown",e),l.unsubscribeFromTokenRenewal()}))}))}t.ScreenRecorderDialogController=n},"./app/Controls/Dialogs/SpotlightDialog/SpotlightDialog.less":function(e,t){},"./app/Controls/Dialogs/SpotlightDialog/SpotlightDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/components/GroupSpotlightVideos/GroupSpotlightVideosController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/SpotlightDialog/SpotlightDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){var r=this;return void 0===t&&(t=!1),(t=this.openDialog({template:n("./app/components/GroupSpotlightVideos/GroupSpotlightVideos.html"),plain:!0,controller:o.GroupSpotlightVideosController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",data:{group:e,isAdmin:t},ariaRole:"dialog"})).closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),t},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=a.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.SpotlightDialog=i,angular.module("jumper.controls").service("spotlightDialog",i)},"./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialog.html":function(e,t){e.exports='<dialog-box hide-header=true hide-footer=true> <div class=trial-countdown-dialog-content> <div class=trial-countdown-dialog-header role=heading> {{$ctrl.headingText}} </div> <div class=trial-countdown-dialog-description> {{$ctrl.descriptionText}} <span class=learn-more-link> <a external-link ng-href={{$ctrl.learnMoreLink}} target=_blank>{{::$ctrl.resources.TrialCountdownDialogLearnMoreLink}}</a> </span> </div> </div> <div class=trial-countdown-dialog-footer> <div class="column x-small-12"> <button ng-click=$ctrl.close() class="c-button ct-button-compact close-dialog-button" type=button>{{::$ctrl.resources.TrialCountdownDialogAckButtonLabel}}</button> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialog.less":function(e,t){},"./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(e,t){return t={template:n("./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialog.html"),controller:o.TrialCountdownDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box trial-countdown-dialog",data:{user:e,notification:t},ariaRole:"dialog"},this.openDialog(t)},l.$inject=["ngDialog","$rootScope","resources"],i=l;function l(e,t,n){return a.call(this,e,t,n)||this}t.TrialCountdownDialog=i,angular.module("jumper.controls").service("trialCountdownDialog",i)},"./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/ServicePlanUtils.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts"),a=n("./app/utility/appUtil.ts");Object.defineProperty(l.prototype,"headingText",{get:function(){var e=sessionInfo&&sessionInfo.UserClaim&&sessionInfo.UserClaim.UserInfo?sessionInfo.UserClaim.UserInfo.GivenName:null;return this.isSuspended?o.formatString(this.resources.TrialExpiredDialogHeader,e):this.getCountdownHeader(e)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"descriptionText",{get:function(){return this.isSuspended?this.getExpiredDescription():a.handleStringCardinality(this.numActiveAccountDays,this.resources.TrialCountdownDialogDescriptionSingular,this.resources.TrialCountdownDialogDescriptionPlural)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"learnMoreLink",{get:function(){return s.Constants.TrialExperience.LearnMoreLink},enumerable:!0,configurable:!0}),l.prototype.close=function(){var e=this,t={};t[this.isSuspended?s.Constants.UserNotificationSettingKeys.hideTrialSuspensionNotice:s.Constants.UserNotificationSettingKeys.hideTrialSuspensionWarning]=!0;var n={};n.general=t,this.principalService.patchMySettings(n).then((function(){e.telemetryTracker.succeed(e.featureName)}),(function(t){e.handleFeatureFailure(r.SubFeatureName.PrincipalService_PatchMySettings,t)})).finally((function(){e.$scope.closeThisDialog()}))},l.prototype.getExpiredDescription=function(){var e=new Array;e.push(o.formatString(this.resources.TrialExpiredDialogDescriptionPart1,s.Constants.ProductName));var t=a.handleStringCardinality(this.numActiveAccountDays,this.resources.TrialExpiredDialogDescriptionPart2Singular,this.resources.TrialExpiredDialogDescriptionPart2Plural);return e.push(t),e.join(" ")},l.prototype.getCountdownHeader=function(e){return 1===this.numActiveTrialDays?e?o.formatString(this.resources.TrialCountdownDialogHeaderSingular,e):this.resources.TrialCountdownDialogHeaderSingularNoName:e?o.formatString(this.resources.TrialCountdownDialogHeaderPlural,e,this.numActiveTrialDays.toString()):o.formatString(this.resources.TrialCountdownDialogHeaderPluralNoName,this.numActiveTrialDays.toString())},l.prototype.getExpiredHeader=function(e){return e?o.formatString(this.resources.TrialExpiredDialogHeader,e):this.resources.TrialExpiredDialogHeaderNoName},Object.defineProperty(l.prototype,"numActiveAccountDays",{get:function(){return i.ServicePlanUtils.getRemainingDaysUntilExpirationAfterSuspension(this.user)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"numActiveTrialDays",{get:function(){return i.ServicePlanUtils.getRemainingDaysUntilSuspension(this.user)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isSuspended",{get:function(){var e=i.ServicePlanUtils.getTrialPlanForUser(this.user,!0);return i.ServicePlanUtils.isSuspendedTrial(e)},enumerable:!0,configurable:!0}),l.prototype.handleFeatureFailure=function(e,t){this.telemetryTracker.fail(this.featureName,e,t)},l.$inject=["$scope","resources","$element","telemetryService","principalService"],n=l;function l(e,t,n,i,o){this.$scope=e,this.resources=t,this.$element=n,this.telemetryService=i,this.principalService=o,this.featureName=r.FeatureName.TrialSuspensionDialog,this.telemetryTracker=this.telemetryService.getTracker(r.ScreenName.TrialCountdownDialog),(o=this.$scope.ngDialogData).user&&(this.user=o.user,this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.headingText)),o.notification&&(this.notification=o.notification)}t.TrialCountdownDialogController=n},"./app/Controls/Dialogs/TrialDialog/TrialDialog.html":function(e,t){e.exports='<dialog-box hide-header=true hide-footer=true class=trial-dialog> <div class=trial-bar>{{::$ctrl.trialBarMessage}} <a external-link ng-href={{::$ctrl.buyNowLink}} target=_blank>{{::$ctrl.resources.TopBar.Trial.LinkText}}</a></div> <div class=trial-dialog-container> <div class=trial-dialog-content> <div class="column xsmall-4 small-5"></div> <div class="column xsmall-8 small-7 text-contents"> <h1 class=c-heading-3>{{::$ctrl.welcomeMessage}}</h1> <p class=intro-text>{{::$ctrl.welcomeBody}} </p> <div class=info-list> {{::$ctrl.resources.TrialDialg.ListHeader}} <ul> <li><div class=bullet-point />{{::$ctrl.resources.TrialDialg.List.Line1}}</li> <li><div class=bullet-point />{{::$ctrl.resources.TrialDialg.List.Line2}}</li> <li><div class=bullet-point />{{::$ctrl.resources.TrialDialg.List.Line3}}</li> </ul> </div> <div class=info-list> <a ng-href={{::$ctrl.learnMoreLink}} target=_blank external-link class=learn-more-link>{{::$ctrl.resources.TrialDialg.LearnMore.LinkText}}</a> {{::$ctrl.resources.TrialDialg.LearnMore.LabelText}} </div> <div class=info-list> <button class=c-button ng-click=$ctrl.close()>{{::$ctrl.startText}} </button> </div> </div> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/TrialDialog/TrialDialog.less":function(e,t){},"./app/Controls/Dialogs/TrialDialog/TrialDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/TrialDialog/TrialDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/TrialDialog/TrialDialog.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(){var e={template:n("./app/Controls/Dialogs/TrialDialog/TrialDialog.html"),controller:o.TrialDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box trial-dialog",data:{},ariaRole:"dialog"};return this.openDialog(e)},l.$inject=["ngDialog","$rootScope","resources"],i=l;function l(e,t,n){return a.call(this,e,t,n)||this}t.TrialDialog=i,angular.module("jumper.controls").service("trialDialog",i)},"./app/Controls/Dialogs/TrialDialog/TrialDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),i=n("./app/utility/Constants.ts");o.prototype.close=function(){this.$scope.closeThisDialog()},o.$inject=["$scope","resources"],n=o;function o(e,t){this.$scope=e,this.resources=t,this.trialBarMessage=r.formatString(this.resources.TopBar.TrialBar.Message,i.Constants.ProductName),this.welcomeMessage=r.formatString(this.resources.TrialDialg.WelcomeMessage,i.Constants.ProductName),this.welcomeBody=r.formatString(this.resources.TrialDialg.Desc,i.Constants.ProductName),this.startText=r.formatString(this.resources.TrialDialg.Start,i.Constants.ProductName),this.buyNowLink=i.Constants.TrialExperience.BuyNowLink,this.learnMoreLink=i.Constants.TrialExperience.LearnMoreLink}t.TrialDialogController=n},"./app/Controls/Dialogs/UploadCaption/UploadCaption.html":function(e,t){e.exports='<dialog-box heading={{UploadCaptionModal.getHeadingText()}} left-button-text=UploadCaptionModal.resources.Cancel right-button-text=UploadCaptionModal.rightButtonText left-button-enabled=true right-button-enabled=UploadCaptionModal.okButtonEnabled on-left-button-clicked=UploadCaptionModal.onCancel() on-right-button-clicked=UploadCaptionModal.onSubmit() in-progress=UploadCaptionModal.creating progress-heading=UploadCaptionModal.resources.CaptionUploadProgress error-heading=UploadCaptionModal.errorHeader> <accessibility-options video-id=UploadCaptionModal.videoId is-in-admin-mode=UploadCaptionModal.isInAdminMode tracks-saved="UploadCaptionModal.tracksSaved(trackUploaded, trackDeleted, videoLanguageFromCaption)" ok-button-enabled=UploadCaptionModal.okButtonEnabled selected-tab-option=UploadCaptionModal.selectedTabOption video-language=UploadCaptionModal.videoLanguage></accessibility-options> </dialog-box> '},"./app/Controls/Dialogs/UploadCaption/UploadCaption.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/Controls/Dialogs/UploadCaption/UploadCaptionController.ts"),a=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");i(l,o=a.BaseDialog),l.prototype.open=function(e,t,r,i){var o=this;return void 0===t&&(t=!1),(i=this.openDialog({template:n("./app/Controls/Dialogs/UploadCaption/UploadCaption.html"),plain:!0,controller:s.UploadCaptionController,controllerAs:"UploadCaptionModal",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",data:{videoId:e,isInAdminMode:t,selectedTabOption:r,videoLanguage:i},ariaRole:"dialog"})).closePromise.finally((function(){o.telemetry.getTracker(o.navigation.getPageName()).tagScreen()})),i},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],i=l;function l(e,t,n,r,i){return(i=o.call(this,n,r,i)||this).telemetry=e,i.navigation=t,i}t.UploadCaptionDialog=i,angular.module("jumper.controls").service("uploadCaptionDialog",i)},"./app/Controls/Dialogs/UploadCaption/UploadCaptionController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");n("./app/models/TextTrackModels.ts");var i=n("./app/utility/Constants.ts");o.prototype.onSubmit=function(){this.rightButtonText=this.resources.Saving,this.$scope.$broadcast(i.Constants.Events.SaveTextTracks)},o.prototype.tracksSaved=function(e,t,n){this.rightButtonText=this.resources.OK,this.dialogCloseMessage=this.selectedTabOption===i.Constants.VideoAccessibilityTab.Captions?this.resources.CaptionsSavedAria:this.resources.SubtitlesSavedAria,this.$scope.closeThisDialog({textTrackUploaded:e,textTrackDeleted:t,videoLanguage:n,closeMessage:this.dialogCloseMessage})},o.prototype.onCancel=function(){this.dialogCloseMessage=this.selectedTabOption===i.Constants.VideoAccessibilityTab.Captions?this.resources.CaptionsNotSavedAria:this.resources.SubtitlesNotSavedAria,this.$scope.closeThisDialog({closeMessage:this.dialogCloseMessage})},o.prototype.getHeadingText=function(){return this.selectedTabOption===i.Constants.VideoAccessibilityTab.Captions?this.resources.AccessibilityCaptions:this.resources.AccessibilitySubtitles},o.$inject=["$q","$scope","resources","textTrackDataFactory","mediaUploaderFactory","telemetryService","navigationService"],n=o;function o(e,t,n,r,i,o,s){this.$q=e,this.$scope=t,this.resources=n,this.mediaUploaderFactory=i,this.telemetryService=o,this.navigationService=s,this.rightButtonText=this.resources.OK,this.videoId=this.$scope.ngDialogData.videoId,this.isInAdminMode=this.$scope.ngDialogData.isInAdminMode,this.selectedTabOption=this.$scope.ngDialogData.selectedTabOption,this.videoLanguage=this.$scope.ngDialogData.videoLanguage}t.UploadCaptionController=n,r.registerController("UploadCaptionController",n,angular.module("jumper.controls"))},"./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetup.html":function(e,t){e.exports='<dialog-box heading={{::$ctrl.resources.VerifySetupHeading}} left-button-text=$ctrl.resources.VerifySetupClearResults right-button-text=$ctrl.resources.DialogClose left-button-enabled=$ctrl.enableLeftButton right-button-enabled=true on-left-button-clicked=$ctrl.resetControls() on-right-button-clicked=$ctrl.close() auto-focus-selector=.video-search-textbox right-button-not-primary=$ctrl.notPrimary> <div class=sdn-verify-setup-container> <label class=video-input-label>{{::$ctrl.resources.VerifySetupSubHeading}}</label> <div class="video-input search-container"> <video-channel-search item-selected=$ctrl.selectVideo(video) place-holder-text=$ctrl.resources.VerifySetupSearchPlaceholder is-video-search=$ctrl.videoResultsOnly> </video-channel-search> </div> <div class="xsmall-12 small-12 video-player-container"> <div class=player-content-wrapper169> <div class=player-content ng-if=$ctrl.video> <video-player-view video=$ctrl.video video-item=$ctrl.video is-producer-view=false sdn-init-success=$ctrl.onSdnInitSuccess(details) sdn-init-failure=$ctrl.onSdnInitFailure(details) sdn-fatal-error=$ctrl.onSdnFatalError(details) ng-if=!$ctrl.shouldShowEndEventMessage on-audience-did-reach-end-of-vodless-playback=$ctrl.onAudienceDidReachEndOfVodlessPlayback()> </video-player-view> <ended-live-player-overlay message=$ctrl.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage ng-if=$ctrl.shouldShowEndEventMessage></ended-live-player-overlay> </div> </div> </div> <div class=sdn-detals-container> <div ng-if=$ctrl.video> <span class=message-text ng-if=$ctrl.showVerifying>{{::$ctrl.resources.VerifySetupVerifyingText}}</span> <span class=message-text ng-if=$ctrl.sdnInitSucceeded> <svg-src class="message-icon green-icon" svg-name=icon_checkmark_green></svg-src> {{::$ctrl.resources.VerifySetupSuccessMessage}} </span> <span class=message-text ng-if="$ctrl.sdnInitFailed || $ctrl.showTimeoutMessage"> <svg-src class="message-icon red-icon" svg-name=icon_error_message></svg-src> {{::$ctrl.errorMessage}} </span> <label class=verify-textarea-label id=event-messages-label>{{::$ctrl.resources.VerifySetupSdnMessages}}</label> <textarea class="c-text-area verify-textarea" name=event-messages-label-text ng-model=$ctrl.eventMessage aria-labelledby=event-messages-label aria-label={{::$ctrl.resources.VerifySetupSdnMessagesArialabel}} rows=4 /> </div> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetup.less":function(e,t){},"./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetup.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetupController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetup.less");var a;i(l,a=s.BaseDialog),l.prototype.open=function(){var e={template:n("./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetup.html"),controller:o.VerifySdnSetupController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box verify-sdn-setup-dialog",data:{},ariaRole:"dialog"};return this.openDialog(e)},l.$inject=["ngDialog","$rootScope","resources"],i=l;function l(e,t,n){return a.call(this,e,t,n)||this}t.VerifySdnSetup=i,angular.module("jumper.controls").service("verifySdnSetup",i)},"./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetupController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/LiveEventUtils.ts");s.prototype.selectVideo=function(e){var t=this;e&&(this.video=null,this.$timeout((function(){t.videoService.getTokens(e.id,!0).then((function(n){e.tokens=_.get(n,"data.value"),t.featureTelemetryTracker.succeed(i.FeatureName.GetVideo)}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.GetVideo,i.SubFeatureName.VideoService_GetTokens,e)})).finally((function(){t.video=e,t.showVerifying=!0,t.startTimer()}))}),0))},s.prototype.close=function(){this.$scope.closeThisDialog()},s.prototype.resetControls=function(){this.video=null,this.eventMessage="",this.showVerifying=!1,this.showTimeoutMessage=!1,this.sdnInitSucceeded=!1,this.sdnInitFailed=!1},s.prototype.onSdnInitSuccess=function(e){this.showVerifying=!1,this.sdnInitSucceeded=!0,this.eventMessage="sdnInitSuccess - "+JSON.stringify(e)},s.prototype.onSdnInitFailure=function(e){this.showVerifying=!1,this.sdnInitFailed=!0,this.eventMessage="sdnInitFailure - "+JSON.stringify(e)},s.prototype.onSdnFatalError=function(e){this.showVerifying=!1,this.sdnInitFailed=!0,this.eventMessage="sdnFatalError - "+JSON.stringify(e)},s.prototype.onAudienceDidReachEndOfVodlessPlayback=function(){this.audienceDidReachEndOfVodlessPlayback=!0},Object.defineProperty(s.prototype,"enableLeftButton",{get:function(){return!!this.video&&!!this.eventMessage},enumerable:!0,configurable:!0}),s.prototype.startTimer=function(){var e=this;this.$timeout((function(){e.showVerifying&&(e.showVerifying=!1,e.showTimeoutMessage=!0,e.eventMessage="none")}),r.Constants.verifySdnTimeOut)},Object.defineProperty(s.prototype,"errorMessage",{get:function(){return this.sdnInitFailed?this.resources.VerifySetupFailureMessage:this.showTimeoutMessage?this.resources.VerifySetupTimeoutMessage:""},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"shouldShowEndEventMessage",{get:function(){return this.audienceDidReachEndOfVodlessPlayback||o.isEndedVodlessLiveEvent(this.video)},enumerable:!0,configurable:!0}),s.$inject=["$scope","resources","videoService","telemetryService","featureFlagsService","$timeout"],n=s;function s(e,t,n,r,o,s){this.$scope=e,this.resources=t,this.videoService=n,this.telemetryService=r,this.featureFlagsService=o,this.$timeout=s,this.videoResultsOnly=!0,this.eventMessage="",this.showVerifying=!1,this.notPrimary=!0,this.sdnInitSucceeded=!1,this.sdnInitFailed=!1,this.showTimeoutMessage=!1,this.audienceDidReachEndOfVodlessPlayback=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(i.ScreenName.AdminSettings,i.ResourceType.Video)}t.VerifySdnSetupController=n},"./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialog.html":function(e,t){e.exports='<section class="section video-player-dialog-content"> <div class="dialog-container-outer row row-size0"> <div class="column large-10 medium-10 small-10 xsmall-10 dialog-container-inner"> <div class=dialog-close-overlay> <button class="c-action-trigger dialog-close-button" ng-click=$ctrl.close() aria-label={{::$ctrl.resources.CloseButton}}> <svg-src class=video-dialog-close svg-name=icon_cancel></svg-src> </button> </div> <div class=player-container> <media-player ng-if=$ctrl.playerOptions.playbackUrls player-options=$ctrl.playerOptions on-viewed=$ctrl.onViewed() summary-heartbeat="$ctrl.summaryHeartbeat(properties, metrics)" playback-summary="$ctrl.playbackSummary(properties, metrics)" on-error="$ctrl.onError(properties, metrics, errorTrace)" preload=true video-id=$ctrl.videoId> </media-player> </div> </div> </div> </section>'},"./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialog.less":function(e,t){},"./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialog.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialogController.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialog.less");var l;i(c,l=a.BaseDialog),c.prototype.openGetStartedVideo=function(e,t,n,r){return t={playerOptions:{playbackUrls:n,autoplay:!0,disableLogo:!0,aesToken:"Bearer "+sessionInfo.AccessToken,enableTelemetry:!0,tracks:r},videoId:e,contentType:t,screenName:s.ScreenName.GetStartedVideoDialog},this.openOptions.className="getstarted-video-dialog",this.openOptions.data=t,this.pauseRecoverVideo=!1,this.openDialog(this.openOptions)},c.$inject=["ngDialog","$rootScope","resources"],i=c;function c(e,t,r){return(r=l.call(this,e,t,r)||this).openOptions={template:n("./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialog.html"),controller:o.VideoPlayerDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,plain:!0,className:"",data:null,ariaRole:"dialog"},r}t.VideoPlayerDialog=i,angular.module("jumper.controls").service("videoPlayerDialog",i)},"./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialogController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./common/components/MediaPlayer/PlayerPageTelemetryBaseClass.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/Constants.ts");i(c,o=s.PlayerPageTelemetryBaseClass),c.prototype.onViewed=function(){this.reportPlayerFeatureSuccess()},c.prototype.close=function(){this.$scope.closeThisDialog()},c.$inject=["$scope","videoService","telemetryService","featureFlagsService","sdnUtilService","resources","$timeout","$element","dataShareService"],i=c;function c(e,t,n,r,i,s,c,d,u){var p=o.call(this,n,r,i,u,a.ScreenName.Auto)||this;return p.$scope=e,p.videoService=t,p.telemetryService=n,p.sdnUtilService=i,p.resources=s,p.$element=d,p.dataShareService=u,p.playerOptions=p.$scope.ngDialogData.playerOptions,p.$element.attr("aria-modal","true"),p.videoId=p.$scope.ngDialogData.videoId,p.contentType=p.$scope.ngDialogData.contentType,(u=p.$scope.ngDialogData.screenName)!==a.ScreenName.Auto&&p.setScreenName(u),p.telemetryService.getTracker(u).tagScreen(),c((function(){var t=function(e){e.keyCode===l.Constants.KeyCodes.Esc&&(e.isDefaultPrevented()||(p.close(),e.stopPropagation()))}.bind(p);$("body").on("keydown",t),e.$on("$destroy",(function(){$("body").off("keydown",t)}))})),p}t.VideoPlayerDialogController=i},"./app/Controls/index.ts":function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialogController.ts")),r(n("./app/Controls/Dialogs/AddChannelsDialog/AddChannelsDialog.ts")),r(n("./app/Controls/Dialogs/AddGroupChannelsDialog/AddGroupChannelsDialog.ts")),r(n("./app/Controls/Dialogs/CreateChannelDialog/CreateChannelDialog.ts")),r(n("./app/Controls/Dialogs/EditChannelDialog/EditChannelDialog.ts")),r(n("./app/Controls/Dialogs/UploadCaption/UploadCaptionController.ts")),r(n("./app/Controls/Dialogs/DialogBox/DialogBox.ts")),r(n("./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.ts")),r(n("./app/Controls/Dialogs/InviteDialog/InviteDialog.ts")),r(n("./app/Controls/Dialogs/VideoPlayerDialog/VideoPlayerDialog.ts")),r(n("./app/Controls/Dialogs/AboutStreamDialog/AboutStreamDialog.ts")),r(n("./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.ts")),r(n("./app/Controls/Dialogs/GroupCreateDialog/GroupCreateDialog.ts")),r(n("./app/Controls/Dialogs/GroupEditDialog/GroupEditDialog.ts")),r(n("./app/Controls/Dialogs/RelatedChannelsDialog/RelatedChannelsDialog.ts")),r(n("./app/Controls/Dialogs/TrialDialog/TrialDialog.ts")),r(n("./app/Controls/Dialogs/TrialCountdownDialog/TrialCountdownDialog.ts")),r(n("./app/Controls/Dialogs/DefaultVideoLanguageDialog/DefaultVideoLanguageDialog.ts")),r(n("./app/Controls/Dialogs/FaceMergeDialog/FaceMergeDialog.ts")),r(n("./app/Controls/Dialogs/UploadCaption/UploadCaption.ts")),r(n("./app/Controls/Dialogs/GroupMembersAddDialog/GroupMembersAddDialog.ts")),r(n("./app/Controls/Dialogs/ChannelShareDialog/ChannelShareDialog.ts")),r(n("./app/Controls/Dialogs/SpotlightDialog/SpotlightDialog.ts")),r(n("./app/Controls/Dialogs/PrincipalEditDialog/PrincipalEditDialog.ts")),r(n("./app/Controls/Dialogs/RecordVideoDialog/RecordVideoDialog.ts")),r(n("./app/Controls/Dialogs/RecordVideoFailedDialog/RecordVideoFailedDialogController.ts")),r(n("./app/Controls/Dialogs/VerifySdnSetup/VerifySdnSetup.ts")),r(n("./app/Controls/Dialogs/CompanyPolicyDialog/CompanyPolicyDialog.ts")),r(n("./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.ts")),r(n("./app/Controls/Dialogs/ReplaceVideoDialog/ReplaceVideoDialog.ts")),r(n("./app/Controls/Dialogs/ScreenRecorderDialog/ScreenRecorderDialog.ts"))},"./app/Filters/groupFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");function i(e){return function(t){return r.handleStringCardinality(t,e.Components.GroupStatistics.Video.Singular,e.Components.GroupStatistics.Video.Plural)}}function o(e){return function(t){return r.handleStringCardinality(t,e.Components.GroupStatistics.Channel.Singular,e.Components.GroupStatistics.Channel.Plural)}}(t.groupVideos=i).$inject=["resources"],(t.groupChannels=o).$inject=["resources"],r.registerFilter("groupVideos",i,angular.module("jumper.filters")),r.registerFilter("groupChannels",o,angular.module("jumper.filters"))},"./app/Filters/index.ts":function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./app/Filters/common.ts")),r(n("./app/Filters/channelFilters.ts")),r(n("./app/Filters/videoFilters.ts")),r(n("./app/Filters/commentFilters.ts")),r(n("./app/Filters/groupFilters.ts")),r(n("./app/Filters/LiveEventFilters.ts"))},"./app/Index.ts":function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./app/services/index.ts")),r(n("./app/components/index.ts")),r(n("./app/Controls/index.ts")),r(n("./app/Controllers/index.ts")),r(n("./app/Filters/index.ts"))},"./app/Resources/generated/templateCache.js":function(e,t){!function(e){"use strict";var t=(n.prototype.enableCache=function(e){e=e?"?v="+e:"",this.$templateCache.put("/Controllers/AccessRequest/AccessRequest.html"+e,'<access-request-decision ng-if="AccessRequest.accessRequestId" access-request-id="AccessRequest.accessRequestId" action-taken="AccessRequest.actionTaken"></access-request-decision>\n'),this.$templateCache.put("/Controllers/AdminDownloadVideos/AdminDownloadVideos.html"+e,"<admin-download-videos-page></admin-download-videos-page>\n"),this.$templateCache.put("/Controllers/AdminSettings/AdminSettings.html"+e,"<admin-setting-detail></admin-setting-detail>\n"),this.$templateCache.put("/Controllers/Browse/Browse.html"+e,'<browse-page route-params="Browse.routeParams"></browse-page>\n'),this.$templateCache.put("/Controllers/Channel/Channel.html"+e,'<div>\n    <channel-detail ng-if="Channel.channelId" channel-id="Channel.channelId"></channel-detail>\n</div>\n'),this.$templateCache.put("/Controllers/CreateLive/CreateLive.html"+e,"<live-create-page></live-create-page>\n"),this.$templateCache.put("/Controllers/Fallback/Fallback.html"+e,'<fallback ng-show="Fallback.shouldShow"></fallback>\n'),this.$templateCache.put("/Controllers/Group/Group.html"+e,'<group-page group-id="Group.groupId" ng-if="Group.groupId"></group-page>\n'),this.$templateCache.put("/Controllers/Invite/Invite.html"+e,""),this.$templateCache.put("/Controllers/MyGroups/MyGroups.html"+e,"<studio-group-results></studio-group-results>\n"),this.$templateCache.put("/Controllers/MyHub/MyHub.html"+e,"<home-page></home-page>\n"),this.$templateCache.put("/Controllers/Studio/Studio.html"+e,'<studio-page search-string="Studio.searchString" route-params="Studio.routeParams"></studio-page>\n'),this.$templateCache.put("/Controllers/Update/Update.html"+e,'<live-update-page ng-if="Update.videoId" video-id="Update.videoId"></live-update-page>\n\x3c!-- later this needs to get video and load live-update-page or update-video, based on the content source--\x3e\n'),this.$templateCache.put("/Controllers/Upload/Upload.html"+e,'<upload-video files-to-upload="Upload.filesToUpload"></upload-video>\n'),this.$templateCache.put("/Controllers/User/User.html"+e,'<user-page user-id="User.userId" ng-if="User.userId"></user-page>\n'),this.$templateCache.put("/Controllers/UserSettings/UserSettings.html"+e,"<user-setting-detail></user-setting-detail>\n"),this.$templateCache.put("/Controllers/Video/Video.html"+e,'<video-page video-id="Video.videoId" ng-if="Video.videoId"></video-page>\n'),this.$templateCache.put("/Controllers/VideoUpdate/VideoUpdate.html"+e,'<video-update ng-if="VideoUpdate.videoId" video-id="VideoUpdate.videoId"></video-update>\n'),this.$templateCache.put("/Controllers/Welcome/Welcome.html"+e,"<first-run></first-run>\n")},n);function n(e){this.$templateCache=e}angular.module("jumper.templates",[]).service("templateCache",["$templateCache",t])}()},"./app/app.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/commonDependencies.ts");try{supportedLanguages=n("./cssmodules/cultureInfo.js")}catch(e){}angular.module("jumper.services",["ngResource","ngDialog"]),angular.module("jumper.controllers",["ngNewRouter","ngDialog"]),angular.module("jumper.controls",["ngDialog"]);var r=n("./app/utility/Constants.ts"),i=n("./app/utility/appUtil.ts"),o=n("./app/vNextBridges/streamCoreInit.ts"),s=n("./app/models/TelemetryEventModels.ts");angular.module("jumper.filters",["jumper.services","ngSanitize"]),(t=angular.module("jumper",["jumper.services","jumper.common","jumper.templates","jumper.controls","jumper.controllers","jumper.filters","ngFileUpload","ngSanitize","angular-clipboard","ngAria","ngPerformanceMeasure","vAccordion","ngAnimate"])).factory(r.Constants.CacheId.RoleCache,["$cacheFactory",function(e){return e(r.Constants.CacheId.RoleCache,{capacity:r.Constants.CacheCapacity.RoleCache})}]),t.factory(r.Constants.CacheId.SignalCache,["$cacheFactory",function(e){return e(r.Constants.CacheId.SignalCache,{capacity:r.Constants.CacheCapacity.SignalCache})}]),t.config(["$componentLoaderProvider",function(e){e.setTemplateMapping((function(e){return"/Controllers/"+e+"/"+e+".html"}))}]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|wirecasts|wirecast):/)}]).config(["$locationProvider",function(e){e.html5Mode({enabled:!0,requireBase:!1})}]).run(["templateCache","featureFlagsService","loggingService","telemetryService","mdsLoggerService","sessionManager","sessionExpiredManager","notificationService","startupDialogLauncher",function(e,t,n,r,i,a,l,c,d){o.initalizeStreamCore(t),c.setupNotificationService(!0),e.enableCache(),r=r.getTracker(),_.isNull(sessionInfo.UserClaim)?r.trackEvent(s.TelemetryEventNames.sessionInfoUserClaimMissing):a.initialize()}]),t.run(["$rootScope","featureFlagsService",function(e,t){portalConfiguration.EnableMockApiGateway&&(e.loadPage=!0),i.hookBoomerang(e)}]),n("./app/appStartup.ts"),n("./app/AppController.ts"),n("./common/stream.ts"),n("./app/Resources/generated/templateCache.js"),n("./app/Index.ts"),regionInfo=n("./app/utility/regionInfo.js"),n("./node_modules/core-js/es/symbol/index.js")},"./app/components/AccessRequest/AccessRequestDecision.html":function(e,t){e.exports='<div class=access-request-decision> <div class=page-body> <div class=information-frame> <div class=access-request-icon> <svg-src class="access-denied-icon action-success-icon" ng-if=$ctrl.loaded svg-name=no_access></svg-src> <svg-src class=warning-icon ng-if=$ctrl.pageLoadErr svg-name=warning></svg-src> </div> <div class=access-request-messages> <div class="access-request-denial-message action-success-message message-heading" ng-if="$ctrl.loaded && $ctrl.denied"> {{::$ctrl.resources.AccessRequest.DenialMessage}} </div> <div class="access-request-approval-message action-success-message message-heading" ng-if="$ctrl.loaded && $ctrl.approved"> {{::$ctrl.resources.AccessRequest.ApprovalMessage}} </div> <div class="access-request-error-message message-heading" ng-if=$ctrl.pageLoadErr> {{::$ctrl.pageLoadErr}} </div> <div class="access-request-denial-message-detail action-success-message-detail message-detail" ng-if="$ctrl.loaded && $ctrl.denied"> {{::$ctrl.denialDetail}} </div> <div class="access-request-approval-message-detail action-success-message-detail message-detail" ng-if="$ctrl.loaded && $ctrl.approved"> {{::$ctrl.approvalDetail}} </div> <div class="access-request-error-message-detail message-detail" ng-if=$ctrl.pageLoadErrMsg> {{::$ctrl.pageLoadErrMsg}} </div> </div> <button class=edit-video-button ng-if=$ctrl.editAccess ng-click=$ctrl.onButtonClick()> <p class=button-text>Change Permissions</p> </button> </div> </div> </div>'},"./app/components/AccessRequest/AccessRequestDecision.less":function(e,t){},"./app/components/AccessRequest/AccessRequestDecision.ts":function(e,t,n){function r(){this.controller=o.AccessRequestDecisionController,this.template=n("./app/components/AccessRequest/AccessRequestDecision.html"),this.bindToController=!0,this.bindings={accessRequestId:"<",actionTaken:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/AccessRequest/AccessRequestDecision.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/AccessRequest/AccessRequestDecisionController.ts");t.AccessRequestDecision=r,i.registerComponent("accessRequestDecision",r,angular.module("jumper"))},"./app/components/AccessRequest/AccessRequestDecisionController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/models/TelemetryEventModels.ts");s.prototype.onButtonClick=function(){this.navigationService.redirect(i.formatString(r.Constants.Routes.VideoUpdate,this.videoId))},s.prototype.approveAccessRequest=function(){var e=this;this.accessRequestService.approve(this.accessRequestId).then((function(){e.pageLoadErrMsg=null,e.loaded=!0,e.approved=!0,e.featureTracker.succeed(o.FeatureName.ApproveAccessRequest),e.$q.resolve()}),(function(t){e.featureTracker.fail(o.FeatureName.ApproveAccessRequest,o.SubFeatureName.NotApplicable,t),t.status.toString()===r.Constants.HttpStatusCode.NotFound?e.pageLoadErr=e.resources.AccessRequest.NotFoundMessage:t.status.toString()===r.Constants.HttpStatusCode.Forbidden?(e.editAccess=!1,e.pageLoadErr=e.resources.AccessRequest.ForbiddenMessage):e.pageLoadErr=e.resources.Components.AccessRequests.ServerError,e.$q.reject()}))},s.prototype.getAccessRequestInfo=function(){var e=this;return this.accessRequestService.get(this.accessRequestId).then((function(t){return t?(e.requestorId=t.data.userObjectId,e.videoId=t.data.mediaItemId,"approved"==t.data.status?(e.pageLoadErr=e.resources.AccessRequest.AlreadyApprovedMessage,e.pageLoadErrMsg=e.resources.AccessRequest.AlreadyApprovedDetail,e.$q.reject()):"denied"==t.data.status?(e.pageLoadErr=e.resources.AccessRequest.AlreadyDeniedMessage,e.pageLoadErrMsg=e.resources.AccessRequest.AlreadyDeniedDetail,e.$q.reject()):(e.pageLoadErrMsg=null,e.$q.resolve(t.data))):(e.navigationService.redirect(r.Constants.Routes.Error),e.$q.reject())}),(function(t){return t.status.toString()===r.Constants.HttpStatusCode.NotFound?e.pageLoadErr=e.resources.AccessRequest.NotFoundMessage:t.status.toString()===r.Constants.HttpStatusCode.Forbidden?(e.editAccess=!1,e.pageLoadErr=e.resources.Components.AccessRequests.AuthErrorMessage):t.status.toString()===r.Constants.HttpStatusCode.BadRequest?(e.pageLoadErr=e.resources.AccessRequest.AlreadyDeniedMessage,e.pageLoadErrMsg=e.resources.AccessRequest.AlreadyDeniedDetail):e.pageLoadErr=e.resources.Components.AccessRequests.ServerError,e.$q.reject()}))},s.prototype.denyAccessRequest=function(){var e=this;return this.accessRequestService.deny(this.accessRequestId).then((function(){return e.pageLoadErrMsg=null,e.loaded=!0,e.denied=!0,e.featureTracker.succeed(o.FeatureName.DenyAccessRequest),e.$q.resolve()}),(function(t){return e.featureTracker.fail(o.FeatureName.DenyAccessRequest,o.SubFeatureName.NotApplicable,t),t.status.toString()===r.Constants.HttpStatusCode.NotFound?e.navigationService.redirect(r.Constants.Routes.Error):t.status.toString()===r.Constants.HttpStatusCode.Forbidden?(e.editAccess=!1,e.pageLoadErr=e.resources.AccessRequest.ForbiddenMessage):t.status.toString()===r.Constants.HttpStatusCode.BadRequest?(e.pageLoadErr=e.resources.AccessRequest.AlreadyApprovedMessage,e.pageLoadErrMsg=e.resources.AccessRequest.AlreadyApprovedDetail):e.pageLoadErr=e.resources.Components.AccessRequests.ServerError,e.$q.reject()}))},s.prototype.loadViewerRoleId=function(){var e=this;return this.roleService.getViewerRoleId().then((function(t){return e.viewerRoleId=t,e.$q.resolve(e.viewerRoleId)}))},s.prototype.getUser=function(){var e=this;this.principalService.getPrincipalById(this.requestorId).then((function(t){t&&t.data?(e.requestor=t.data,e.approvalDetail=i.formatString(e.resources.AccessRequest.ApprovalMessageDetail,e.requestor.name),e.denialDetail=i.formatString(e.resources.AccessRequest.DenialMessageDetail,e.requestor.name),e.featureTracker.succeed(o.FeatureName.GetUser),e.$q.resolve(t.data)):(e.navigationService.redirect(r.Constants.Routes.Error),e.$q.reject())}),(function(t){e.featureTracker.fail(o.FeatureName.GetUser,o.SubFeatureName.NotApplicable,t),e.navigationService.redirect(r.Constants.Routes.Error),e.$q.reject()}))},s.prototype.setRoleAssignment=function(){var e=this;return this.roleAssignmentService.addVideoRoleAssignment(this.viewerRoleId,this.requestorId,"User",this.videoId).then((function(){return e.$q.resolve()}),(function(t){return t.status.toString()===r.Constants.HttpStatusCode.OperationNotAllowed||t.status.toString()===r.Constants.HttpStatusCode.NotFound?e.navigationService.redirect(r.Constants.Routes.Error):t.status.toString()===r.Constants.HttpStatusCode.Forbidden?e.pageLoadErr=e.resources.AccessRequest.ForbiddenMessage:e.pageLoadErrMsg=e.resources.StreamGroupSetRoleAssignmentsFailed,e.$q.reject()}))},s.$inject=["$q","accessRequestService","resources","telemetryService","$window","navigationService","roleAssignmentService","roleService","principalService"],n=s;function s(e,t,n,o,s,a,l,c,d){var u=this;this.$q=e,this.accessRequestService=t,this.resources=n,this.telemetryService=o,this.$window=s,this.navigationService=a,this.roleAssignmentService=l,this.roleService=c,this.principalService=d,this.editAccess=!0,this.featureTracker=this.telemetryService.getTracker(),"approve"==this.actionTaken&&this.$q.all([this.getAccessRequestInfo(),this.loadViewerRoleId()]).then((function(){u.setRoleAssignment().then((function(){u.approveAccessRequest()})),u.getUser()})),"deny"==this.actionTaken&&this.getAccessRequestInfo().then((function(){u.denyAccessRequest().then((function(){})),u.getUser()})),this.$window.document.title=i.formatString(this.resources.BrowserTitle.AccessRequests,r.Constants.ProductName)}t.AccessRequestDecisionController=n},"./app/components/AdminSettingDetail/AdminSettingDetail.ts":function(e,t,n){function r(){this.controller=o.AdminSettingDetailController,this.template=n("./app/components/AdminSettingDetail/AdminSettingDetailV2.html"),this.bindings={}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/AdminSettingDetail/AdminSettingDetailV2.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/AdminSettingDetail/AdminSettingDetailController.ts");t.AdminSettingDetail=r,i.registerComponent("adminSettingDetail",r,angular.module("jumper"))},"./app/components/AdminSettingDetail/AdminSettingDetailController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts"),a=n("./app/utility/appUtil.ts"),l=n("./common/components/TabNavigation/TabNavigationController.ts");(n=r=t.Tabs||(t.Tabs={}))[n.Administrators=0]="Administrators",n[n.SpotlightVideos=1]="SpotlightVideos",n[n.CompanyPolicies=2]="CompanyPolicies",n[n.UsageDetails=3]="UsageDetails",n[n.Group=4]="Group",n[n.Support=5]="Support",n[n.Comments=6]="Comments",n[n.FaceDetection=7]="FaceDetection",n[n.ForgottenUsers=8]="ForgottenUsers",n[n.PersonalData=9]="PersonalData",n[n.ContentCreation=10]="ContentCreation",n[n.StreamAccess=11]="StreamAccess",n[n.LiveEvents=12]="LiveEvents",n[n.NetworkCaching=13]="NetworkCaching",n[n.RecycleBin=14]="RecycleBin",n[n.ExternalSharing=15]="ExternalSharing",n[n.EnableMigration=16]="EnableMigration",n[n.MigrationSettings=17]="MigrationSettings",n[n.MigrationReports=18]="MigrationReports",n[n.UserMigration=19]="UserMigration";var c=(d.prototype.getMyInfo=function(){var e=this;return this.principalService.getMyPrincipalInfo(!this.featureFlagsService.Values.AdminSettingsV2).then((function(t){return e.$q.resolve(t.data)}),(function(t){return e.telemetryTracker.fail(o.FeatureName.GetAdminSettings,o.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t),e.$q.reject(t)}))},d.prototype.refresh=function(e){var t=this;return this.getMyInfo().then((function(n){return t.me=n,t.original.me=angular.copy(t.me),t.me&&t.me.permissions&&t.me.permissions.canManageStream||!t.featureFlagsService.Values.AdminSettingsV2?t.$q.all([t.getStreamAdmins(),t.getTenantSettings(n).then((function(e){return t.getUploaderPrincipals(e)}))]).then((function(n){t.telemetryTracker.succeed(o.FeatureName.GetAdminSettings),t.adminList=n[0],t.uploaderList=n[1].uploaders,t.tenantSettings=n[1].tenantSettings,t.original.adminList=angular.copy(t.adminList),t.original.uploaderList=angular.copy(t.uploaderList),t.original.tenantSettings=angular.copy(t.tenantSettings),e&&e()})):t.$q.resolve()}))},d.prototype.dirty=function(){return!_.isEqual(this.adminList,this.original.adminList)||!_.isEqual(this.tenantSettings,this.original.tenantSettings)||!_.isEqual(this.uploaderList,this.original.uploaderList)},d.prototype.save=function(){var e=this;return this.saveStreamAdmins().then((function(){return e.getMyInfo()})).then((function(t){return t&&t.permissions&&t.permissions.canManageStream||!e.featureFlagsService.Values.AdminSettingsV2?e.$q.all([e.saveTenantSettings(),e.saveUploaders()]).then((function(){return e.$q.resolve()}),(function(t){return e.$q.reject(t)})):e.$q.resolve()})).then((function(){e.telemetryTracker.succeed(o.FeatureName.UpdateAdminSettings)}))},d.prototype.revert=function(){this.me=angular.copy(this.original.me),this.tenantSettings=angular.copy(this.original.tenantSettings),this.adminList=angular.copy(this.original.adminList),this.uploaderList=angular.copy(this.original.uploaderList)},d.prototype.getStreamAdmins=function(){var e=this;return this.me.permissions.canManageRoleAssignments?this.roleService.getStreamAdminRoleId().then((function(t){return e.roleAssignmentService.getGlobalRoleAssignments(t).then((function(t){return e.$q.resolve(t.map((function(e){return e.principal})))}),(function(n){return e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(o.FeatureName.GetAdminSettings,o.SubFeatureName.RoleAssignmentService_GetGlobalAssignment,n),e.telemetryTracker.setResourceId(null),e.$q.reject(n)}))}),(function(t){return e.telemetryTracker.fail(o.FeatureName.GetAdminSettings,o.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)})):this.$q.resolve(null)},d.prototype.getTenantSettings=function(e){var t=this;return e.permissions.canManageStream?this.tenantService.getSettings().then((function(e){return e=e.data,t.$q.resolve(e)}),(function(e){t.telemetryTracker.fail(o.FeatureName.GetAdminSettings,o.SubFeatureName.TenantService_GetTenantSettings,e),t.$q.reject(e)})):this.$q.resolve(null)},d.prototype.getUploaderPrincipals=function(e){var t=this;return e?this.roleService.getMediaCreatorRoleId().then((function(n){return t.roleAssignmentService.getGlobalRoleAssignments(n).then((function(n){return t.$q.resolve({tenantSettings:e,uploaders:n.map((function(e){return e.principal}))})}),(function(e){return t.telemetryTracker.setResourceId(n),t.telemetryTracker.fail(o.FeatureName.GetAdminSettings,o.SubFeatureName.RoleAssignmentService_GetGlobalAssignment,e),t.telemetryTracker.setResourceId(null),t.$q.reject(e)}))}),(function(e){return t.telemetryTracker.fail(o.FeatureName.GetAdminSettings,o.SubFeatureName.RoleService_GetGlobalRoleId,e),t.$q.reject(e)})):this.$q.resolve({tenantSettings:null,uploaders:null})},d.prototype.saveStreamAdmins=function(){var e=this;return _.isEqual(this.adminList,this.original.adminList)?this.$q.resolve():this.roleService.getStreamAdminRoleId().then((function(t){return e.roleAssignmentService.setGlobalAssignments(t,e.adminList).then((function(){return e.$q.resolve()}),(function(n){return e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(o.FeatureName.UpdateAdminSettings,o.SubFeatureName.RoleAssignmentService_SetGlobalAssignment,n),e.telemetryTracker.setResourceId(null),e.$q.reject(n)}))}),(function(t){return e.telemetryTracker.fail(o.FeatureName.UpdateAdminSettings,o.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)}))},d.prototype.saveTenantSettings=function(){var e=this;if(_.isEqual(this.tenantSettings,this.original.tenantSettings))return this.$q.resolve();var t=this.tenantSettings.system.contentManagement.companyUploadPolicy.url,n=angular.copy(this.tenantSettings);return t?n.system.contentManagement.companyUploadPolicy.url=s.htmlEncode(t):(n.system.contentManagement.companyUploadPolicy.url=null,n.system.contentManagement.companyUploadPolicy.acknowledgementRequired=!1),this.tenantService.patchSettings(n).then((function(){return e.$q.resolve()}),(function(t){return e.telemetryTracker.fail(o.FeatureName.UpdateAdminSettings,o.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)}))},d.prototype.saveUploaders=function(){var e=this;return _.isEqual(this.uploaderList,this.original.uploaderList)?this.$q.resolve():this.roleService.getMediaCreatorRoleId().then((function(t){return e.roleAssignmentService.setGlobalAssignments(t,e.uploaderList).then((function(){return e.$q.resolve()}),(function(n){return e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(o.FeatureName.UpdateAdminSettings,o.SubFeatureName.RoleAssignmentService_SetGlobalAssignment,n),e.telemetryTracker.setResourceId(null),e.$q.reject(n)}))}),(function(t){return e.telemetryTracker.fail(o.FeatureName.UpdateAdminSettings,o.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)}))},d);function d(e,t,n,r,i,o,s){this.$q=e,this.featureFlagsService=t,this.principalService=n,this.roleService=r,this.roleAssignmentService=i,this.tenantService=o,this.telemetryTracker=s,this.original={me:null}}function u(e,t,n,l,d,u,p,m,h,g,f,v,y,b){var S=this;this.$scope=e,this.$element=t,this.$q=n,this.$timeout=l,this.featureFlagsService=d,this.resources=u,this.principalService=p,this.roleService=m,this.roleAssignmentService=h,this.tenantService=g,this.telemetryService=f,this.$window=v,this.changeTabConfirmation=y,this.$location=b,this.saveBtnEnabled=!1,this.invalidURL=!1,this.policyErrorMessage="",this.supportLink="https://go.microsoft.com/fwlink/?linkid=848786",this.o365Link="https://portal.office.com/adminportal/home#/groups",this.azurePortalLink="https://portal.azure.com/#blade/Microsoft_AAD_IAM/UserManagementMenuBlade/All%20groups/menuId/",this.extraQueryParams=this.$location.search(),this.saveMsgFadeInOutTime=1e3,this.saveMsgStayTime=3e3,this.telemetryMetrics={numAdminsAdded:0,numAdminsRemoved:0,totalNumAdmins:0,numUploadersAdded:0,numUploadersRemoved:0,totalNumUploaders:0},this.telemetryProperties={companyPolicyAcknowledgementRequired:!1,restrictUpload:!1},this.tabNames=r,v.document.title=s.formatString(this.resources.BrowserTitle.AdminSettings,i.Constants.ProductName),this.pagePermissionDeniedMsg=this.resources.AdminSettingsPermissionDeniedText,this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.AdminSettings),this.featureTelemetryTracker.tagScreen(),this.viewModel=new c(this.$q,this.featureFlagsService,this.principalService,this.roleService,this.roleAssignmentService,this.tenantService,this.featureTelemetryTracker),this.principalSearch={search:function(e){var t=n.defer();return S.principalService.searchPrincipals(e,i.Constants.MaxLengths.PrincipleSearchOutput,0,!1,[i.Constants.PrincipalType.User,i.Constants.PrincipalType.SecurityGroup]).then((function(e){S.featureTelemetryTracker.succeed(o.FeatureName.SearchPrincipals),t.resolve(e.data.value)}),(function(e){S.featureTelemetryTracker.fail(o.FeatureName.SearchPrincipals,o.SubFeatureName.PrincipalService_SearchPrincipals,e),t.reject(e)})),t.promise}},e.$watch((function(){return S.lastSelectedAdmin}),(function(e,t){e&&S.viewModel&&(S.viewModel.adminList||(S.viewModel.adminList=[]),0===S.viewModel.adminList.filter((function(t,n,r){return t.id===e.id})).length&&(S.viewModel.adminList.push(e),a.alertScreenReader(s.formatString(S.resources.Principal.Add.AccessibilityMessage,e.name)+" "+S.resources.Accessibility.ApplyReminder),S.checkSearchAdminDisabled(),S.telemetryMetrics.numAdminsAdded+=1,e.id===S.viewModel.me.id&&(S.viewModel.me.permissions.canManageStream=!0)))})),e.$watch((function(){return S.lastSelectedUploader}),(function(e,t){e&&S.viewModel&&(S.viewModel.uploaderList||(S.viewModel.uploaderList=[]),0===S.viewModel.uploaderList.filter((function(t,n,r){return t.id===e.id})).length&&(S.viewModel.uploaderList.push(e),a.alertScreenReader(s.formatString(S.resources.Principal.Add.AccessibilityMessage,e.name)+" "+S.resources.Accessibility.ApplyReminder),S.checkSearchUploaderDisabled(),S.telemetryMetrics.numUploadersAdded+=1))})),e.$watchGroup([function(){return S.viewModel.dirty()},function(){return S.policyEmpty&&S.policyRequired||S.invalidURL}],(function(e){var t=e[0];e=e[1];t?(S.successMessage="",S.viewModel.tenantSettings&&S.viewModel.me.permissions.canManageStream?S.saveBtnEnabled=!e:S.saveBtnEnabled=!0):S.saveBtnEnabled=!1})),e.$watch((function(){return S.currentTab}),(function(e,t){void 0!==e&&S.$location.search(_.assign({},S.extraQueryParams,{view:r[e]}))})),e.$watch((function(){return S.$location.search()}),(function(e,t){e[i.Constants.QueryStringKeys.View]?S.currentTab=r[String(e[i.Constants.QueryStringKeys.View])]:S.currentTab=r.Administrators})),this.featureFlagsService.Values.AdminSettingsV2&&e.$on(i.Constants.Events.AdminPrivilegeRevoked,(function(){S.viewModel.refresh()})),this.viewModel.refresh((function(){return S.initTabOptions()}))}u.prototype.onAssignAdminsInit=function(e){this.assignAdminsController=e},u.prototype.onCompanyPoliciesInit=function(e){this.companyPoliciesController=e},u.prototype.onCommentsInit=function(e){this.commentsManagementController=e},u.prototype.onFaceDetectionInit=function(e){this.faceDetectionController=e},u.prototype.onContentCreationInit=function(e){this.contentCreationController=e},u.prototype.onUsageDetailsInit=function(e){this.usageDetailsController=e},u.prototype.onSpotlightVideosInit=function(e){this.spotlightVideosController=e},u.prototype.onLiveEventInit=function(e){this.liveEventsController=e},u.prototype.onNetworkCachingInit=function(e){this.networkCachingController=e},u.prototype.onRecycleBinInit=function(e){this.recycleBinController=e},u.prototype.onExternalSharingInit=function(e){this.guestUserManagementController=e},u.prototype.onEnableMigrationInit=function(e){this.enableMigrationController=e},u.prototype.onMigrationSettingsInit=function(e){this.migrationSettingsController=e},u.prototype.onMigrationReportsInit=function(e){this.migrationReportsController=e},u.prototype.onUserMigrationInit=function(e){this.userMigrationController=e},u.prototype.initTabOptions=function(){this.tabOptions={options:[{value:r.Administrators,text:this.resources.AdminSettingsAdministratorsTab,svgName:"icon_administrator"},{value:r.SpotlightVideos,text:this.resources.AdminSettingsSpotlightVideosTab,svgName:"icon_spotlight",hide:!this.canManageStream},{value:r.LiveEvents,text:this.isLiveGAEnabled?this.resources.AdminSettingsLiveEventsTab:this.resources.AdminSettingsLiveEventsTab+" ("+this.resources.LivePreviewTag+")",svgName:"icon_live_event",hide:!(this.canManageStream&&this.featureFlagsService.Values.LiveEventAdminSetting)},{value:r.CompanyPolicies,text:this.resources.AdminSettingsCompanyPoliciesTab,svgName:"icon_company_policy",hide:!(this.canManageStream&&this.tenantSettingsReady)},{value:r.UsageDetails,text:this.resources.AdminSettingsUsageDetailTab,svgName:"icon_usage_details",hide:!this.canManageStream},{value:r.RecycleBin,text:this.resources.AdminSettingsRecycleBinTab,svgName:"icon_delete",hide:!(this.canManageStream&&this.isRecycleBinEnabled)},{value:r.Group,text:this.resources.AdminSettingsGroupsTab,svgName:"icon_groups",hide:!this.canManageStream},{value:r.Support,text:this.resources.AdminSettingsSupportTab,svgName:"icon_support"},{value:r.Comments,text:this.resources.AdminSettingsCommentsTab,svgName:"icon_comments_left",hide:!(this.canManageStream&&this.tenantSettingsReady)},{value:r.FaceDetection,text:this.resources.AdminSettingsFaceDetectionTab,svgName:"icon_face_detection",hide:!(this.canManageStream&&this.tenantSettingsReady&&!this.featureFlagsService.Values.DisableFaceDetection)},{value:r.ContentCreation,text:this.resources.AdminSettingsContentCreationTab,svgName:"icon_add_no_circle",hide:!(this.canManageStream&&this.tenantSettingsReady)},{value:r.NetworkCaching,text:this.resources.AdminSettingsNetworkCachingTabText,svgName:"icon_networkcaching",hide:!(this.canManageStream&&this.tenantSettingsReady&&this.featureFlagsService.Values.NetworkCaching&&portalConfiguration.PartnerBinariesUri&&portalConfiguration.SDNNamesWithVersions)},{value:r.ExternalSharing,text:this.resources.AdminSettingsExternalSharingTabText,svgName:"icon_guest_user_setting",hide:!(this.canManageStream&&this.tenantSettingsReady&&this.isExternalSharingEnabled)}]},this.streamMigrationTabOptions={options:[{value:r.EnableMigration,text:this.resources.AdminSettingsEnableMigrationTab,svgName:"icon_enable_migration_toggle",hide:!(this.canManageStream&&this.isStreamMigrationEnabled)},{value:r.MigrationSettings,text:this.resources.AdminSettingsMigrationSettingsTab,svgName:"icon_migration_settings",hide:!(this.canManageStream&&this.isMigrationSettingsEnabled)},{value:r.MigrationReports,text:this.resources.AdminSettingsMigrationReportsTab,svgName:"icon_download_document",hide:!(this.canManageStream&&this.isMigrationReportsEnabled)},{value:r.UserMigration,text:this.resources.AdminSettingsUserMigrationTab,svgName:"icon_self_service",hide:!(this.canManageStream&&this.isUserMigrationEnabled)}]},this.manageUsersTabOptions={options:[{value:r.PersonalData,text:this.resources.AdminSettingsPersonalDataTab,svgName:"icon_personal_data",hide:!(this.canManageStream&&this.isPersonalDataEnabled)},{value:r.ForgottenUsers,text:this.resources.AdminSettingsForgottenUsersTab,svgName:"icon_forgotten_user",hide:!(this.canManageStream&&this.isForgottenUsersEnabled)}]}},u.prototype.checkSearchAdminDisabled=function(){var e=this.viewModel.adminList?this.viewModel.adminList.length:0;this.searchAdminDisabled=e>=i.Constants.MaxLengths.AdministractorAssignmentsLimit},u.prototype.checkSearchUploaderDisabled=function(){var e=this.viewModel.uploaderList?this.viewModel.uploaderList.length:0;this.searchUploaderDisabled=e>=i.Constants.MaxLengths.UploaderAssignmentsLimit},u.prototype.sendTelemetry=function(){this.viewModel.tenantSettings&&this.viewModel.tenantSettings.system&&this.viewModel.tenantSettings.system.contentManagement?this.telemetryProperties.companyPolicyAcknowledgementRequired=this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired:(this.telemetryProperties.restrictUpload=null,this.telemetryProperties.companyPolicyAcknowledgementRequired=null),this.telemetryMetrics.totalNumAdmins=this.viewModel.adminList?this.viewModel.adminList.length:0,this.telemetryMetrics.totalNumUploaders=this.viewModel.uploaderList?this.viewModel.uploaderList.length:0,this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.administratorSettingsEventName,this.telemetryProperties,this.telemetryMetrics),this.telemetryMetrics.numAdminsAdded=0,this.telemetryMetrics.numAdminsRemoved=0,this.telemetryMetrics.numUploadersAdded=0,this.telemetryMetrics.numUploadersRemoved=0},Object.defineProperty(u.prototype,"isAdminSettingsV2Enabled",{get:function(){return this.featureFlagsService.Values.AdminSettingsV2},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tabHeaderDirection",{get:function(){return l.ITabDirection.vertical},enumerable:!0,configurable:!0}),u.prototype.onAdminRemoved=function(e){var t=this;this.featureFlagsService.Values.AdminSettingsV2||(this.viewModel.adminList&&_.isArray(this.viewModel.adminList)?this.viewModel.me.permissions.canManageStream=0!==this.viewModel.adminList.filter((function(e){return e.id===t.viewModel.me.id})).length:this.viewModel.me.permissions.canManageStream=!1),a.alertScreenReader(s.formatString(this.resources.Principal.Delete.AccessibilityMessage,e.name)+" "+this.resources.Accessibility.ApplyReminder),this.checkSearchAdminDisabled(),this.telemetryMetrics.numAdminsRemoved+=1},u.prototype.onUploaderRemoved=function(e){a.alertScreenReader(s.formatString(this.resources.Principal.Delete.AccessibilityMessage,e.name)+" "+this.resources.Accessibility.ApplyReminder),this.checkSearchUploaderDisabled(),this.telemetryMetrics.numUploadersRemoved+=1},u.prototype.discardChanges=function(){this.viewModel.revert(),this.failureMessage="",this.successMessage="",this.$element.find(".update-status").hide()},Object.defineProperty(u.prototype,"canManageStream",{get:function(){return!!(this.viewModel.me&&this.viewModel.me.permissions&&this.viewModel.original.me&&this.viewModel.original.me.permissions)&&this.viewModel.me.permissions.canManageStream&&this.viewModel.original.me.permissions.canManageStream},enumerable:!0,configurable:!0}),u.prototype.saveChanges=function(){var e=this;this.viewModel.save().then((function(){return e.viewModel.refresh(null)})).then((function(){e.failureMessage="",e.successMessage=e.resources.AdminSettingsUpdateSuccessMessage}),(function(t){e.successMessage="",t&&t.data&&t.data.error&&t.data.error.message&&_.isString(t.data.error.message)?e.failureMessage=e.resources.AdminSettingsUpdateFailMessage+". "+t.data.error.message:t&&t.statusText&&_.isString(t.statusText)?e.failureMessage=e.resources.AdminSettingsUpdateFailMessage+". "+t.statusText:e.failureMessage=e.resources.AdminSettingsUpdateFailMessage})).finally((function(){e.successMessage?e.viewModel.me.permissions.canManageRoleAssignments?(e.$element.find(".update-status").fadeIn(e.saveMsgFadeInOutTime,(function(){e.$element.find(".update-status h6").focus()})),e.$timeout((function(){e.$element.find(".update-status").fadeOut(e.saveMsgFadeInOutTime)}),e.saveMsgStayTime)):e.pagePermissionDeniedMsg=e.resources.AdminSettingsUpdateSuccessMessage:e.$element.find(".update-status").fadeIn(e.saveMsgFadeInOutTime,(function(){e.$element.find(".update-status h6").focus()})),e.sendTelemetry()}))},u.prototype.toggleText=function(e){return e?this.resources.On:this.resources.Off},Object.defineProperty(u.prototype,"tenantSettingsReady",{get:function(){return this.viewModel&&this.viewModel.tenantSettings&&null!==this.viewModel.tenantSettings.system},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"commentRestricted",{get:function(){return!this.viewModel.tenantSettings.system.contentManagement.allowComment},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"policyRequired",{get:function(){try{return this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired}catch(e){return!1}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"policyEmpty",{get:function(){try{return 0===this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.url.length}catch(e){return!0}},enumerable:!0,configurable:!0}),u.prototype.onToggleCompanyPolicyClicked=function(){var e=this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired;this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired=!e,this.validateURL()},u.prototype.onToggleCommentRestrictionClicked=function(){this.viewModel.tenantSettings.system.contentManagement.allowComment=!this.viewModel.tenantSettings.system.contentManagement.allowComment},u.prototype.validateURL=function(){var e=new RegExp(i.Constants.urlRegEx.source);this.invalidURL=!1,this.policyRequired&&this.policyEmpty?(this.policyErrorMessage=this.resources.AdminSettingsPolicyInputErrorMessage,this.invalidURL=!0):0===this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.url.length||e.test(this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.url)||(this.policyErrorMessage=this.resources.AdminSettingDetailInvalidUrlMessage,this.invalidURL=!0)},u.prototype.resetErrors=function(){this.invalidURL=!1},Object.defineProperty(u.prototype,"adminSettingsGroupSectionName",{get:function(){return s.formatString(this.resources.AdminSettingGroupAdminTitle,i.Constants.ProductName)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"adminSettingsGroupSectionDescription",{get:function(){var e=i.Constants.Microsoft365Name;return this.featureFlagsService.Values.HideM365GroupLabel&&(e=i.Constants.Office365Name),s.formatString(this.resources.AdminSettingGroupAdminSubTitlePart1,i.Constants.ProductName,e,i.Constants.ProductName,e,i.Constants.AADName,e)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"o365LinkText",{get:function(){var e=i.Constants.Microsoft365Name;return this.featureFlagsService.Values.HideM365GroupLabel&&(e=i.Constants.Office365Name),s.formatString(this.resources.AdminSettingO365GroupLink,e)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"azurePortalLinkText",{get:function(){return s.formatString(this.resources.AdminSettingAzurePortalLink,i.Constants.AzureName)},enumerable:!0,configurable:!0}),u.prototype.isTabSet=function(e){return this.currentTab===e},u.prototype.isThereUnSavedChanges=function(){var e=this,t=this.$q.defer(),n={title:this.resources.AdminSettingsUnSavedChangeConfirmationTitle,message:this.resources.AdminSettingsUnSavedChangeConfirmationMessage,confirmButtonLabel:this.resources.AdminSettingsUnSavedChangeConfirmationMessageBoxStayButton,cancelButtonLabel:this.resources.AdminSettingsUnSavedChangeConfirmationMessageBoxLeaveButton};switch(this.currentTab){case r.Administrators:this.assignAdminsController&&this.assignAdminsController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.assignAdminsController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.CompanyPolicies:this.companyPoliciesController&&this.companyPoliciesController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.companyPoliciesController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.ContentCreation:this.contentCreationController&&this.contentCreationController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.contentCreationController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.Comments:this.commentsManagementController&&this.commentsManagementController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.commentsManagementController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.FaceDetection:this.faceDetectionController&&this.faceDetectionController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.faceDetectionController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.UsageDetails:this.usageDetailsController&&this.usageDetailsController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.usageDetailsController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.SpotlightVideos:this.spotlightVideosController&&this.spotlightVideosController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.spotlightVideosController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.ForgottenUsers:this.forgottenUsersController&&this.forgottenUsersController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.forgottenUsersController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.PersonalData:this.personalDataController&&this.personalDataController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.personalDataController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.NetworkCaching:this.networkCachingController&&this.networkCachingController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.networkCachingController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.RecycleBin:this.recycleBinController&&this.recycleBinController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.recycleBinController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.EnableMigration:this.enableMigrationController&&this.enableMigrationController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.enableMigrationController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.MigrationSettings:this.migrationSettingsController&&this.migrationSettingsController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.migrationSettingsController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.MigrationReports:this.migrationReportsController&&this.migrationReportsController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.migrationReportsController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;case r.UserMigration:this.userMigrationController&&this.userMigrationController.isDirty?this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.userMigrationController.discardChanges(),t.resolve(!1)})):t.resolve(!1);break;default:t.resolve(!1)}return t.promise},u.prototype.tabHeaderAriaLabel=function(e){return s.formatString(this.resources.AdminSettingsTabHeaderAriaLabel,e)},Object.defineProperty(u.prototype,"isForgottenUsersEnabled",{get:function(){return this.featureFlagsService.Values.ForgottenUsers},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isPersonalDataEnabled",{get:function(){return this.featureFlagsService.Values.PersonalData},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isLiveGAEnabled",{get:function(){return this.featureFlagsService.Values.LiveGA},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isRecycleBinEnabled",{get:function(){return this.featureFlagsService.Values.RecycleBinAdminSettings},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isStreamMigrationEnabled",{get:function(){return this.featureFlagsService.Values.StreamMigration},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isMigrationSettingsEnabled",{get:function(){return this.featureFlagsService.Values.StreamMigration&&this.featureFlagsService.Values.MigrationSettings},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isMigrationReportsEnabled",{get:function(){return this.featureFlagsService.Values.StreamMigration&&this.featureFlagsService.Values.MigrationReports},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isUserMigrationEnabled",{get:function(){return this.featureFlagsService.Values.StreamMigration&&this.featureFlagsService.Values.UserMigration},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isFaceDetectionEnabled",{get:function(){return!this.featureFlagsService.Values.DisableFaceDetection},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isExternalSharingEnabled",{get:function(){return this.featureFlagsService.Values.ExternalSharingAdminSetting},enumerable:!0,configurable:!0}),u.$inject=["$scope","$element","$q","$timeout","featureFlagsService","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","$window","confirmationDialogService","$location"],n=u,t.AdminSettingDetailController=n},"./app/components/AdminSettingDetail/AdminSettingDetailV2.html":function(e,t){e.exports='<div ng-if="$ctrl.viewModel.me && $ctrl.viewModel.me.permissions && $ctrl.isAdminSettingsV2Enabled" class=admin-setting-detail-v2-container> <div ng-if=!$ctrl.viewModel.me.permissions.canManageRoleAssignments class=error-page> <error-box title-str={{$ctrl.pagePermissionDeniedMsg}} no-actions=true hide-message=true full-screen=true></error-box> </div> <section class="section-size0 admin-setting-detail-v2" ng-if=$ctrl.viewModel.me.permissions.canManageRoleAssignments> <div class=admin-row> <admin-message failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage></admin-message> <div class=tabs> <div class=top-header>{{::$ctrl.resources.AdminSettings}}</div> <div class=tab-header> <button class=c-glyph expansion-panel aria-expanded=true aria-controls=manage-stream-navigation> <svg-src svg-name=icon_settings inline-with-text=true /> <span class=admin-tab-title>{{::$ctrl.resources.AdminSettingsManageStream}}</span> </button> </div> <hr class=c-divider> <tab-navigation id=manage-stream-navigation model=$ctrl.tabOptions class=admin-setting-detail-tab-navigation value=$ctrl.currentTab direction=$ctrl.tabHeaderDirection un-saved-change=$ctrl.isThereUnSavedChanges()></tab-navigation> <div ng-if=$ctrl.isStreamMigrationEnabled> <div class=tab-header> <button class=c-glyph expansion-panel aria-expanded=true aria-controls=manage-stream-migration-navigation> <svg-src svg-name=icon_stream_migration inline-with-text=true /> <span class=admin-tab-title>{{::$ctrl.resources.AdminSettingsStreamMigration}}</span> </button> </div> <hr class=c-divider> <tab-navigation id=manage-stream-migration-navigation model=$ctrl.streamMigrationTabOptions class=admin-setting-detail-tab-navigation value=$ctrl.currentTab direction=$ctrl.tabHeaderDirection un-saved-change=$ctrl.isThereUnSavedChanges()></tab-navigation> </div> <div class=tab-header> <button class=c-glyph expansion-panel aria-expanded=true aria-controls=manage-users-navigation> <svg-src svg-name=icon_privacy_my_org inline-with-text=true /> <span class=admin-tab-title>{{::$ctrl.resources.AdminSettingsManageUsers}}</span> </button> </div> <hr class=c-divider> <tab-navigation id=manage-users-navigation class=admin-setting-detail-tab-navigation model=$ctrl.manageUsersTabOptions value=$ctrl.currentTab direction=$ctrl.tabHeaderDirection un-saved-change=$ctrl.isThereUnSavedChanges()></tab-navigation> </div> <div class=tab-page> <assign-admins ng-if=$ctrl.isTabSet($ctrl.tabNames.Administrators) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onAssignAdminsInit(assignAdminsController)></assign-admins> <spotlight-videos ng-if=$ctrl.isTabSet($ctrl.tabNames.SpotlightVideos) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onSpotlightVideosInit(spotlightVideosController) is-admin-mode=true></spotlight-videos> <recycle-bin ng-if=$ctrl.isTabSet($ctrl.tabNames.RecycleBin) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onRecycleBinInit(recycleBinController) is-admin-mode=true></recycle-bin> <company-policies ng-if=$ctrl.isTabSet($ctrl.tabNames.CompanyPolicies) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onCompanyPoliciesInit(companyPoliciesController)></company-policies> <usage-details ng-if=$ctrl.isTabSet($ctrl.tabNames.UsageDetails) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onUsageDetailsInit(usageDetailsController)></usage-details> <groups ng-if=$ctrl.isTabSet($ctrl.tabNames.Group) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage></groups> <support ng-if=$ctrl.isTabSet($ctrl.tabNames.Support) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage></support> <comments-management ng-if=$ctrl.isTabSet($ctrl.tabNames.Comments) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onCommentsInit(commentsManagementController)></comments-management> <face-detection ng-if="$ctrl.isTabSet($ctrl.tabNames.FaceDetection) && $ctrl.isFaceDetectionEnabled" failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onFaceDetectionInit(faceDetectionController)></face-detection> <forgotten-users ng-if=$ctrl.isTabSet($ctrl.tabNames.ForgottenUsers) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage></forgotten-users> <personal-data ng-if=$ctrl.isTabSet($ctrl.tabNames.PersonalData) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage></personal-data> <content-creation ng-if=$ctrl.isTabSet($ctrl.tabNames.ContentCreation) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onContentCreationInit(contentCreationController)></content-creation> <network-caching ng-if=$ctrl.isTabSet($ctrl.tabNames.NetworkCaching) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onNetworkCachingInit(networkCachingController)></network-caching> <stream-access ng-if=$ctrl.isTabSet($ctrl.tabNames.StreamAccess) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage></stream-access> <live-events ng-if=$ctrl.isTabSet($ctrl.tabNames.LiveEvents) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onLiveEventInit(liveEventsController)></live-events> <guest-user-management ng-if=$ctrl.isTabSet($ctrl.tabNames.ExternalSharing) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onExternalSharingInit(guestUserManagementController)></guest-user-management> <enable-migration ng-if=$ctrl.isTabSet($ctrl.tabNames.EnableMigration) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onEnableMigrationInit(enableMigrationController)></enable-migration> <migration-settings ng-if=$ctrl.isTabSet($ctrl.tabNames.MigrationSettings) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onMigrationSettingsInit(migrationSettingsController)></migration-settings> <migration-reports ng-if=$ctrl.isTabSet($ctrl.tabNames.MigrationReports) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onMigrationReportsInit(migrationReportsController)></migration-reports> <user-migration ng-if=$ctrl.isTabSet($ctrl.tabNames.UserMigration) failure-message=$ctrl.failureMessage success-message=$ctrl.successMessage on-init=$ctrl.onUserMigrationInit(userMigrationController)></user-migration> </div> </div> </section> </div>'},"./app/components/AdminSettingDetail/AdminSettingDetailV2.less":function(e,t){},"./app/components/Administrator/AdminBaseController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.prototype.saveChanges=function(e){var t=this,n=this.viewModel.save();return n.then((function(){return t.failureMessage="",t.successMessage=t.resources.AdminSettingsUpdateSuccessMessage,r.alertScreenReader(t.resources.AdminSettingsUpdateSuccessMessage),e(),t.viewModel.refresh()}),(function(e){return t.handleError(e)})),n},i.prototype.handleError=function(e){this.successMessage="",e&&e.data&&e.data.error&&e.data.error.message&&_.isString(e.data.error.message)?this.failureMessage=this.resources.AdminSettingsUpdateFailMessage+". "+e.data.error.message:e&&e.statusText&&_.isString(e.statusText)?this.failureMessage=this.resources.AdminSettingsUpdateFailMessage+". "+e.statusText:this.failureMessage=this.resources.AdminSettingsUpdateFailMessage,r.alertScreenReader(this.failureMessage)},i.prototype.discardChanges=function(){this.viewModel.revert(),r.alertScreenReader(this.resources.AdminSettingsChangesDiscarded),this.failureMessage="",this.successMessage=""},Object.defineProperty(i.prototype,"isDirty",{get:function(){return this.viewModel.dirty()},enumerable:!0,configurable:!0}),n=i;function i(e,t){var n=this;this.$scope=e,this.resources=t,this.show=!1,e&&e.$watch((function(){return n.viewModel.dirty()}),(function(e){e?(n.successMessage="",n.failureMessage="",n.saveDiscardActions&&(n.saveDiscardActions.isSaveDisabled=!1,n.saveDiscardActions.isDiscardDisabled=!1)):n.saveDiscardActions&&(n.saveDiscardActions.isSaveDisabled=!0,n.saveDiscardActions.isDiscardDisabled=!0)})),this.pagePermissionDeniedMsg=this.resources.AdminSettingsPermissionDeniedText}t.AdminBaseController=n},"./app/components/Administrator/AdminBaseViewModel.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts");o.prototype.getUploaderPrincipals=function(e,t){var n=this;return void 0===e&&(e=0),void 0===t&&(t=50),this.roleService.getMediaCreatorRoleId().then((function(o){return n.roleAssignmentService.getGlobalRoleAssignments(o,e,t).then((function(e){return n.telemetryTracker.succeed(r.FeatureName.GetAdminSettings),n.$q.resolve({mediaUploaders:e.filter((function(e){return null!==e.principal})).map((function(e){return e.principal})),mediaUploadRestricted:!(1===_.filter(e,(function(e){return null===e.principal&&e.assignedTo.scope===i.Constants.RoleAssignmentScope.Organization})).length)})}),(function(e){n.telemetryTracker.setResourceId(o),n.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.RoleAssignmentService_GetGlobalAssignment,e),n.telemetryTracker.setResourceId(null)}))}),(function(e){return n.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.RoleService_GetGlobalRoleId,e),n.$q.reject(e)}))},o.prototype.getChannelCreationPrincipals=function(e,t){var n=this;return void 0===e&&(e=0),void 0===t&&(t=50),this.roleService.getGroupCreatorRoleId().then((function(o){return n.roleAssignmentService.getGlobalRoleAssignments(o,e,t).then((function(e){return n.telemetryTracker.succeed(r.FeatureName.GetAdminSettings),n.$q.resolve({channelCreators:e.filter((function(e){return null!==e.principal})).map((function(e){return e.principal})),channelCreationRestricted:!(1===_.filter(e,(function(e){return null===e.principal&&e.assignedTo.scope===i.Constants.RoleAssignmentScope.Organization})).length)})}),(function(e){n.telemetryTracker.setResourceId(o),n.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.RoleAssignmentService_GetGlobalAssignment,e),n.telemetryTracker.setResourceId(null)}))}),(function(e){return n.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.RoleService_GetGlobalRoleId,e),n.$q.reject(e)}))},o.prototype.getLiveEventPrincipals=function(){var e=this;return this.roleService.getLiveEventCreatorRoleId().then((function(t){return e.roleAssignmentService.getGlobalRoleAssignments(t).then((function(t){return e.telemetryTracker.succeed(r.FeatureName.GetAdminSettings),e.$q.resolve({liveEventCreators:t.filter((function(e){return null!==e.principal})).map((function(e){return e.principal})),liveEventCreationRestricted:!(1===_.filter(t,(function(e){return null===e.principal&&e.assignedTo.scope===i.Constants.RoleAssignmentScope.Organization})).length)})}),(function(n){e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.RoleAssignmentService_GetGlobalAssignment,n),e.telemetryTracker.setResourceId(null)}))}),(function(t){return e.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)}))},o.prototype.getTenantSettings=function(e,t){var n=this;return void 0===t&&(t=!1),e.permissions.canManageStream?this.tenantService.getSettings(t).then((function(e){return e=e.data,n.$q.resolve(e)}),(function(e){n.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.TenantService_GetTenantSettings,e),n.$q.reject(e)})):this.$q.resolve(null)},o.prototype.getMyInfo=function(e){var t=this;return void 0===e&&(e=!1),this.principalService.getMyPrincipalInfo(e).then((function(e){return t.$q.resolve(e.data)}),(function(e){return t.telemetryTracker.fail(r.FeatureName.GetAdminSettings,r.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e),t.$q.reject(e)}))},o.prototype.saveTenantSettings=function(e,t){var n=this;return _.isEqual(e,t)?this.$q.resolve(e):this.tenantService.patchSettings(e).then((function(e){return n.$q.resolve(e.data)}),(function(e){return n.$q.reject(e)}))},n=o;function o(e,t,n,r,i,o){this.$q=e,this.roleService=t,this.roleAssignmentService=n,this.tenantService=r,this.telemetryTracker=i,this.principalService=o}t.AdminBaseViewModel=n},"./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItem.html":function(e,t){e.exports='<div class="video-item admin-delete-video-item"> <list-row ng-if=$ctrl.headerRow class=video-item-header-row header-row=true> <list-header-cell class=name-column-header header-label=$ctrl.Resources.VideoResultsHeaderName> </list-header-cell> <list-header-cell class=actions-column-header header-label=$ctrl.Resources.VideoResultsHeaderActions centered=true> </list-header-cell> </list-row> <list-row ng-if=!$ctrl.headerRow class=video-item-row tabindex=-1 role=presentation ng-click=$ctrl.gotoVideo($event) enable-hover=true> <list-cell class=name-column fill-size=true no-fade=true> <div class="draft-poster-container video-list-item-item-thumb"> <a ng-href={{$ctrl.videoPageUrl}} tabindex=-1 role=presentation ng-click=$ctrl.onVideoClick($event) class="c-hyperlink draft-poster-link" aria-label={{$ctrl.videoItemAriaLabel}}> <draft-poster video=$ctrl.videoItem selected-thumbnail={images:$ctrl.videoItem.posterImage} video-state=$ctrl.videoState on-publish=$ctrl.onPublishSuccess($ctrl.videoItem) process-progress=$ctrl.processProgress upload-progress=$ctrl.uploadProgress hide-publish-button=true is-in-edit-mode=false mute-thumbnail=true></draft-poster> </a> </div> <div class=name-description> <a class="c-hyperlink c-caption-1 video-list-item-title no-hover" ng-href={{$ctrl.videoPageUrl}} ng-click=$ctrl.onVideoClick($event) id={{$ctrl.videoItemDOMId}} aria-label={{$ctrl.videoItemAriaLabel}}> <div class=draft-info-message> <span class=draft-message ng-if=$ctrl.showDraftState aria-hidden=true>{{::$ctrl.Resources.VideoItemTitlePrefixDraftString}}</span> <span class=state-info-message ng-if=$ctrl.showInfoState aria-hidden=true>{{$ctrl.videoStateInfoString}}</span> </div> <svg-src ng-if=$ctrl.isLiveVideo svg-name=icon_live_event ng-class="{\'live-icon-completed\' : $ctrl.isLiveVideoCompleted}" class=live-icon aria-label={{$ctrl.liveVideoIconAriaLabel}}></svg-src> <span class=video-title aria-hidden=true custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </a> <read-less-read-more text-content=$ctrl.videoItem.description enable-custom-title=true class="c-caption-1 description" default-max-lines=2 ng-cloak on-time-tag-clicked=$ctrl.onTimeTagClicked() use-ellipsis=true is-time-tag-startup=true telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> </div> </list-cell> <list-cell class=actions-column no-fade=true allow-overflow=true right-aligned=true ng-click=$ctrl.onActionColumnClick($event)> <div class=download-buttons-container> <button ng-if=$ctrl.privateVideoDownloadUrl class="c-action-trigger edit-button" custom-title={{$ctrl.Resources.Download}} aria-label={{$ctrl.Resources.Download}} ng-click=$ctrl.onDownload()> <svg-src svg-name=icon_download></svg-src> </button> <button ng-if=$ctrl.privatePPTDownloadURL class="c-action-trigger edit-button" custom-title={{$ctrl.Resources.DownloadPPT}} aria-label={{$ctrl.Resources.DownloadPPT}} ng-click=$ctrl.onDownloadPPT()> <svg-src svg-name=icon_download></svg-src> </button> </div> </list-cell> </list-row> </div>'},"./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItem.less":function(e,t){},"./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItem.less"),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItemController.ts"),l=n("./app/components/VideoItem/VideoItem.ts");i(c,o=l.VideoItem),i=c;function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.AdminDownloadVideoItemController,e.template=n("./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItem.html"),e.bindings={videoItem:"=",onVideoDeleted:"&",onInit:"&",hideToolBox:"<",hidePrivacy:"<",videoSource:"<",hideCreator:"<",metrics:"<",videoOwner:"<",isStreamAdmin:"<",headerRow:"<",sortKey:"<",fixedElements:"<",isInAdminMode:"<"},e}t.AdminDownloadVideoItem=i,s.registerComponent("adminDownloadVideoItem",i,angular.module("jumper"))},"./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/VideoItem/VideoItemController.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/services/NavigationService.ts"),c=n("./app/utility/Constants.ts");i(d,o=s.VideoItemController),d.prototype.onActionColumnClick=function(e){e.stopPropagation()},Object.defineProperty(d.prototype,"editButtonText",{get:function(){return this.Resources.AdminMode.Enter},enumerable:!0,configurable:!0}),d.prototype.InitDrawerItems=function(){},Object.defineProperty(d.prototype,"videoPageUrl",{get:function(){var e={};return e[c.Constants.DataQueryParams.IsInAdminMode]=!0,l.generatePathWithQueryStrings(c.Constants.Routes.Video,this.videoItem.id,e)},enumerable:!0,configurable:!0}),d.prototype.initFileUrls=function(){var e=this;this.videoService.getFiles(this.videoItem.id,!0).then((function(t){var n=t.data&&t.data.value?t.data.value:[];t=_.find(n,(function(e){return e.type===c.Constants.VideoFileType.video})),n=_.find(n,(function(e){return e.type===c.Constants.VideoFileType.presentation}));t&&t.downloadUrl&&(e.privateVideoDownloadUrl=t.downloadUrl,e.metrics&&!e.metrics[a.ItemMetricEventNames.ItemDownloaded]&&(e.metrics[a.ItemMetricEventNames.ItemDownloaded]=0)),n&&n.downloadUrl&&(e.privatePPTDownloadURL=n.downloadUrl,e.metrics&&!e.metrics[a.ItemMetricEventNames.ItemPPTDownloaded]&&(e.metrics[a.ItemMetricEventNames.ItemPPTDownloaded]=0)),t||n||e.telemetryTracker.trackEvent(a.TelemetryEventNames.adminDownloadFilesMissing),e.featureTelemetryTracker.succeed(a.FeatureName.GetAdminDownloadFiles)}),(function(t){e.featureTelemetryTracker.fail(a.FeatureName.GetAdminDownloadFiles,a.SubFeatureName.VideoService_GetFiles,t)}))},d.prototype.onDownload=function(){return this.privateVideoDownloadUrl&&(this.metrics&&(this.metrics[a.ItemMetricEventNames.ItemDownloaded]=1+this.metrics[a.ItemMetricEventNames.ItemDownloaded]),this.mediaDownloaderService.downloadFile(this.privateVideoDownloadUrl)),this.$q.resolve()},d.prototype.onDownloadPPT=function(){return this.privatePPTDownloadURL&&(this.metrics&&(this.metrics[a.ItemMetricEventNames.ItemPPTDownloaded]=1+this.metrics[a.ItemMetricEventNames.ItemPPTDownloaded]),this.mediaDownloaderService.downloadFile(this.privatePPTDownloadURL)),this.$q.resolve()},d.prototype.pollVideo=function(e){void 0===e&&(e=!1)},d.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=d;function d(e,t,n,r,i,s,l,d,u,p,m,h,g,f,v,y,b,S,_,C,$){return(C=o.call(this,e,t,n,r,i,s,l,d,u,p,m,h,g,f,v,y,b,S,_,C,$,c.Constants.TagClickSource.LiveEventVideoItem)||this).principalService=S,C.replaceVideoService=$,C.privateVideoDownloadUrl="",C.privatePPTDownloadURL="",C.itemsListController=C.listScope.$ctrl,C.videoSource={},C.videoItem&&C.videoItem.id&&C.initFileUrls(),C.featureTelemetryTracker=C.telemetryService.getTracker(a.ScreenName.AdminDownloadVideos),C.featureTelemetryTracker.tagScreen(a.ScreenName.AdminDownloadVideos),C}t.AdminDownloadVideoItemController=i},"./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPage.html":function(e,t){e.exports='<div class="row column row-size1 items-list admin-download-videos-list"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Videos screen-name=$ctrl.screenName on-more-data-load=$ctrl.onMoreDataLoad(dataLoaded) on-data-change=$ctrl.onDataChange(changedData) on-init=$ctrl.onItemsListInit(itemsListController) full-page-list=false additional-success-telemetry=$ctrl.additionalSuccessTelemetry() additional-failure-telemetry=$ctrl.additionalFailureTelemetry(err)> <header> <admin-download-video-item header-row=true> </admin-download-video-item> </header> <item> <admin-download-video-item class=video-item hide-creator=true video-item=item metrics=$ctrl.listEvents.itemsEvents></admin-download-video-item> </item> <no-data-message class=no-data-message ng-if=$ctrl.noDataMessage> {{$ctrl.noDataMessage}} </no-data-message> </items-list> </div>'},"./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPage.less":function(e,t){},"./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPage.ts":function(e,t,n){function r(){this.controller=i.AdminDownloadVideosPageController,this.template=n("./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPage.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPage.less");var i=n("./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPageController.ts"),o=n("./app/utility/appUtil.ts");t.AdminDownloadVideosPage=r,o.registerComponent("adminDownloadVideosPage",r,angular.module("jumper"))},"./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPageController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/ItemsList/ListBase/ListBase.ts"),l=n("./app/utility/string.ts");i(c,o=a.ListBase),c.prototype.onItemsListInit=function(e){this.itemsListController=e},c.prototype.additionalSuccessTelemetry=function(){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminDownloadVideosLoadVideosEventName,null,null)},c.prototype.additionalFailureTelemetry=function(e){this.featureTelemetryTracker.fail(s.FeatureName.GetAdminDownloadVideos,s.SubFeatureName.VideoService_GetAll,e)},c.prototype.loadDataPage=function(e,t){return this.videoService.getAll(e,t,!0)},c.prototype.onMoreDataLoad=function(e){this.prepareMessageAndInput(),this.dataLoaded=e,this.changedData=e},c.prototype.onDataChange=function(e){this.changedData=e,this.prepareMessageAndInput()},c.prototype.prepareMessageAndInput=function(){this.changedData&&0!==this.changedData.length?(this.noDataMessage="",this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!1)):(this.noDataMessage=l.formatString(this.resources.ItemList.NoMatchingResultsMessage,this.resources.ItemList.ResourceName.Videos),this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!0))},c.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService"],i=c;function c(e,t,n,r,i){return(i=o.call(this,e,r,i)||this).$scope=e,i.videoService=t,i.resources=n,i.telemetryService=r,i.isVideoSearch=!0,i.screenName=s.ScreenName.AdminDownloadVideos,i.featureTelemetryTracker=i.telemetryService.getTracker(s.ScreenName.AdminDownloadVideos),i.featureTelemetryTracker.tagScreen(s.ScreenName.AdminDownloadVideos),i}t.AdminDownloadVideosPageController=i},"./app/components/Administrator/AdminMessage/AdminMessage.html":function(e,t){e.exports='<div class=admin-message ng-if="$ctrl.successMessage || $ctrl.failureMessage"> <div class=message-container> <span ng-if=$ctrl.isSuccessMessage class=message-text> <svg-src svg-name=icon_checkmark_green inline-with-text=true class=message-icon></svg-src> {{$ctrl.successMessage}} </span> <span ng-if=$ctrl.isFailureMessage class=message-text> <svg-src svg-name=icon_warning inline-with-text=true class=message-icon></svg-src> {{$ctrl.failureMessage}} </span> <button class="action-button cancel-button" aria-label={{::$ctrl.resources.AdminSettingsMessageCloseButton}} ng-click=$ctrl.hide()> <svg-src svg-name=icon_cancel></svg-src> </button> </div> </div>'},"./app/components/Administrator/AdminMessage/AdminMessage.less":function(e,t){},"./app/components/Administrator/AdminMessage/AdminMessage.ts":function(e,t,n){function r(){this.controller=i.AdminMessageController,this.template=n("./app/components/Administrator/AdminMessage/AdminMessage.html"),this.bindings={failureMessage:"=",successMessage:"="}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/AdminMessage/AdminMessage.less");var i=n("./app/components/Administrator/AdminMessage/AdminMessageController.ts"),o=n("./app/utility/appUtil.ts");t.AdminMessage=r,o.registerComponent("adminMessage",r,angular.module("jumper"))},"./app/components/Administrator/AdminMessage/AdminMessageController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(r.prototype,"isSuccessMessage",{get:function(){var e=this;return this.successMessage&&!this.runFromTest&&this.$timeout((function(){e.successMessage=""}),this.saveMsgStayTime),!!this.successMessage},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isFailureMessage",{get:function(){return!!this.failureMessage},enumerable:!0,configurable:!0}),r.prototype.hide=function(){this.failureMessage="",this.successMessage=""},r.$inject=["$element","$timeout","resources","$location"],r);function r(e,t,n,r){this.$element=e,this.$timeout=t,this.resources=n,this.saveMsgStayTime=3e3,this.runFromTest=r.search().runFromTest}t.AdminMessageController=n},"./app/components/Administrator/AssignAdmins/AssignAdmins.html":function(e,t){e.exports=' <div class=assign-admins-settings role=region aria-label={{::$ctrl.resources.AdminSettingsAssignAdminsTitle}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsAssignAdminsTitle}} </h1> <div class=info-container> {{::$ctrl.resources.AdminSettingsAssignAdminsSubTitle}} </div> <div class=principal-searchbox> <span class=c-label ng-if=!$ctrl.searchAdminDisabled> {{::$ctrl.resources.AdminSettingsAssignAdminsLabel}} </span> <span class=c-label ng-if=$ctrl.searchAdminDisabled> <span class=search-limit-icon><svg-src svg-name=icon_library></svg-src></span>{{$ctrl.resources.FormValidationAdminLimit}}</span> <auto-complete search-min-input=3 search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedAdmin hide-label=true custom-disabled=$ctrl.searchAdminDisabled> </auto-complete> </div> <div class=principal-list ng-if="$ctrl.viewModel.people && $ctrl.viewModel.people.length"> <span class=c-label>{{::$ctrl.resources.AdminSettingsCurrentAdmins}}</span> <div class=principal-list-inner> <principal-group-compact principals=$ctrl.viewModel.people principals-removed=$ctrl.onAdminRemovedFromAdminList($principal)> </principal-group-compact> </div> </div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div>'},"./app/components/Administrator/AssignAdmins/AssignAdmins.less":function(e,t){},"./app/components/Administrator/AssignAdmins/AssignAdmins.ts":function(e,t,n){function r(){this.controller=i.AssignAdminsController,this.template=n("./app/components/Administrator/AssignAdmins/AssignAdmins.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/AssignAdmins/AssignAdmins.less");var i=n("./app/components/Administrator/AssignAdmins/AssignAdminsController.ts"),o=n("./app/utility/appUtil.ts");t.AssignAdmins=r,o.registerComponent("assignAdmins",r,angular.module("jumper"))},"./app/components/Administrator/AssignAdmins/AssignAdminsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,l=n("./app/utility/Constants.ts"),c=n("./app/models/TelemetryEventModels.ts"),d=n("./app/utility/appUtil.ts"),u=n("./app/utility/string.ts"),p=n("./app/components/Administrator/AdminBaseController.ts"),m=n("./app/components/Administrator/AdminBaseViewModel.ts"),h=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),g=(i(f,a=m.AdminBaseViewModel),f.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){return o(e,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:this.me=t,this.people=[],e=0,n=100,i.label=1;case 1:return[4,this.getStreamAdmins(t,e,n)];case 2:return(r=i.sent())&&0<r.length&&(this.people=this.people.concat(r),e+=n),!r||r.length<n?(this.telemetryTracker.succeed(c.FeatureName.GetAdminSettings),[3,3]):[3,1];case 3:return this.original.me=angular.copy(this.me),this.original.people=angular.copy(this.people),[2]}}))}))}))},f.prototype.dirty=function(){return this.original&&this.original.people&&!_.isEqual(this.people,this.original.people)},f.prototype.save=function(){var e=this;return this.saveStreamAdmins().then((function(){return e.telemetryTracker.succeed(c.FeatureName.UpdateAdminAssignAdminSettings),e.people.indexOf(e.me)<0&&e.featureFlagsService.Values.AdminSettingsV2?e.getMyInfo(!0).then((function(t){return e.me=angular.copy(t),e.$q.resolve()}),(function(t){return e.telemetryTracker.warn(c.FeatureName.UpdateAdminAssignAdminSettings,c.SubFeatureName.PrincipalService_GetMyInfo,t),e.$q.resolve()})):e.$q.resolve()}),(function(t){return e.$q.reject(t)}))},f.prototype.revert=function(){this.me=angular.copy(this.original.me),this.people=angular.copy(this.original.people)},f.prototype.getStreamAdmins=function(e,t,n){var r=this;return void 0===t&&(t=0),void 0===n&&(n=50),e.permissions.canManageRoleAssignments?this.roleService.getStreamAdminRoleId().then((function(e){return r.roleAssignmentService.getGlobalRoleAssignments(e,t,n).then((function(e){return r.$q.resolve(e.filter((function(e){return null!==e.principal})).map((function(e){return e.principal})))}),(function(t){return r.telemetryTracker.setResourceId(e),r.telemetryTracker.fail(c.FeatureName.GetAdminSettings,c.SubFeatureName.RoleAssignmentService_GetGlobalAssignment,t),r.telemetryTracker.setResourceId(null),r.$q.reject(t)}))}),(function(e){return r.telemetryTracker.fail(c.FeatureName.GetAdminSettings,c.SubFeatureName.RoleService_GetGlobalRoleId,e),r.$q.reject(e)})):this.$q.resolve(null)},f.prototype.saveStreamAdmins=function(){var e=this;return _.isEqual(this.people,this.original.people)?this.$q.resolve():this.roleService.getStreamAdminRoleId().then((function(t){return e.roleAssignmentService.setGlobalAssignments(t,e.people).then((function(){return e.$q.resolve()}),(function(n){return e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(c.FeatureName.UpdateAdminAssignAdminSettings,c.SubFeatureName.RoleAssignmentService_SetGlobalAssignment,n),e.telemetryTracker.setResourceId(null),e.$q.reject(n)}))}),(function(t){return e.telemetryTracker.fail(c.FeatureName.UpdateAdminAssignAdminSettings,c.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)}))},f);function f(e,t,n,r,i,o){return(t=a.call(this,e,n,r,null,i,t)||this).featureFlagsService=o,t.original={me:null},t}t.AssignAdminsViewModel=g;var v;i(y,v=p.AdminBaseController),y.prototype.sendSuccessTelemetry=function(){this.telemetryMetrics.totalNumAdmins=this.viewModel.people?this.viewModel.people.length:0,this.featureTelemetryTracker.trackEvent(c.TelemetryEventNames.adminSettingsAssignAdminsEventName,null,this.telemetryMetrics),this.telemetryMetrics.numAdminsAdded=0,this.telemetryMetrics.numAdminsRemoved=0},y.prototype.onAdminRemovedFromAdminList=function(e){d.alertScreenReader(u.formatString(this.resources.Principal.Delete.AccessibilityMessage,e.name)+" "+this.resources.Accessibility.ApplyReminder),this.checkSearchAdminDisabled(),this.telemetryMetrics.numAdminsRemoved+=1},y.prototype.discardChanges=function(){this.viewModel.revert(),this.checkSearchAdminDisabled(),d.alertScreenReader(this.resources.AdminSettingsChangesDiscarded),this.failureMessage="",this.successMessage=""},y.prototype.checkSearchAdminDisabled=function(){var e=this.viewModel.people?this.viewModel.people.length:0;this.searchAdminDisabled=e>=l.Constants.MaxLengths.AdministractorAssignmentsLimit},y.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","telemetryService","featureFlagsService"],i=y;function y(e,t,n,r,i,o,s,a){var p=v.call(this,e,n)||this;return p.$q=t,p.principalService=r,p.roleService=i,p.roleAssignmentService=o,p.telemetryService=s,p.featureFlagsService=a,p.telemetryMetrics={numAdminsAdded:0,numAdminsRemoved:0,totalNumAdmins:0},p.featureTelemetryTracker=p.telemetryService.getTracker(c.ScreenName.AdminSettings),p.viewModel=new g(p.$q,p.principalService,p.roleService,p.roleAssignmentService,p.featureTelemetryTracker,p.featureFlagsService),p.principalSearch={search:function(e){var n=t.defer();return p.principalService.searchPrincipals(e,l.Constants.MaxLengths.PrincipleSearchOutput,0,!1,[l.Constants.PrincipalType.User,l.Constants.PrincipalType.SecurityGroup]).then((function(e){p.featureTelemetryTracker.succeed(c.FeatureName.SearchPrincipals),n.resolve(e.data.value)}),(function(e){p.featureTelemetryTracker.fail(c.FeatureName.SearchPrincipals,c.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},e.$watch((function(){return p.lastSelectedAdmin}),(function(e,t){e&&p.viewModel&&(p.viewModel.people||(p.viewModel.people=[]),0===p.viewModel.people.filter((function(t,n,r){return t.id===e.id})).length&&(p.viewModel.people.push(e),d.alertScreenReader(u.formatString(p.resources.Principal.Add.AccessibilityMessage,e.name)+" "+p.resources.Accessibility.ApplyReminder),p.checkSearchAdminDisabled(),p.telemetryMetrics.numAdminsAdded+=1,e.id===p.viewModel.me.id&&(p.viewModel.me.permissions.canManageStream=!0)))})),p.saveDiscardActions=new h.SaveDiscardActions(p.saveChanges.bind(p,(function(){return p.sendSuccessTelemetry()})),p.discardChanges.bind(p),!0,!0),p.onInit&&p.onInit({assignAdminsController:p}),p.viewModel.refresh().then((function(){p.checkSearchAdminDisabled(),p.featureFlagsService.Values.AdminSettingsV2&&e.$watch((function(){return p.viewModel.me.permissions.canManageStream}),(function(t,n){t||e.$emit(l.Constants.Events.AdminPrivilegeRevoked)}))})),p}t.AssignAdminsController=i},"./app/components/Administrator/CommentsManagement/CommentsManagement.html":function(e,t){e.exports=' <div class=comments-management-settings role=region aria-label={{::$ctrl.resources.AdminSettingsRestrictCommentTitle}}> <h1 class=c-heading-1>{{::$ctrl.resources.AdminSettingsRestrictCommentTitle}}</h1> <label class=info-container id=toggle-restrict-comment>{{::$ctrl.resources.AdminSettingsRestrictCommentSubTitle}}</label> <div class="toggle c-toggle ct-toggle-compact"> <toggle name=toggle-restrict-comment value=$ctrl.commentRestricted on-toggle-click=$ctrl.onToggleCommentRestrictionClicked() /> </div> <div ng-hide=$ctrl.commentRestricted class=comment-no-restrict>{{::$ctrl.resources.AdminSettingsNoCommentRestrictionInfo}}</div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div>'},"./app/components/Administrator/CommentsManagement/CommentsManagement.less":function(e,t){},"./app/components/Administrator/CommentsManagement/CommentsManagement.ts":function(e,t,n){function r(){this.controller=i.CommentsManagementController,this.template=n("./app/components/Administrator/CommentsManagement/CommentsManagement.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/CommentsManagement/CommentsManagement.less");var i=n("./app/components/Administrator/CommentsManagement/CommentsManagementController.ts"),o=n("./app/utility/appUtil.ts");t.CommentsManagement=r,o.registerComponent("commentsManagement",r,angular.module("jumper"))},"./app/components/Administrator/CommentsManagement/CommentsManagementController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Administrator/AdminBaseController.ts"),l=n("./app/components/Administrator/AdminBaseViewModel.ts"),c=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),d=(i(u,o=l.AdminBaseViewModel),u.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(s.FeatureName.GetAdminSettings),e.tenantSettings=t,e.original.tenantSettings=angular.copy(t)}))}))},u.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings,this.original.tenantSettings)},u.prototype.save=function(){var e=this;return this.me.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(){e.$q.resolve(),e.telemetryTracker.succeed(s.FeatureName.UpdateAdminCommentSettings)}),(function(t){e.telemetryTracker.fail(s.FeatureName.UpdateAdminCommentSettings,s.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},u.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings)},u);function u(e,t,n,r,i,s){return(t=o.call(this,e,n,r,i,s,t)||this).original={me:null,tenantSettings:null},t.refresh(),t}t.CommentsManagementViewModel=d;var p;i(m,p=a.AdminBaseController),m.prototype.onToggleCommentRestrictionClicked=function(){this.viewModel.tenantSettings.system.contentManagement.allowComment=!this.viewModel.tenantSettings.system.contentManagement.allowComment},Object.defineProperty(m.prototype,"commentRestricted",{get:function(){return this.viewModel.tenantSettings&&this.viewModel.tenantSettings.system&&this.viewModel.tenantSettings.system.contentManagement&&!this.viewModel.tenantSettings.system.contentManagement.allowComment},enumerable:!0,configurable:!0}),m.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsCommentsEventName,null,null)},m.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService"],i=m;function m(e,t,n,r,i,o,a,l){var u=p.call(this,e,n)||this;return u.$q=t,u.principalService=r,u.roleService=i,u.roleAssignmentService=o,u.tenantService=a,u.telemetryService=l,u.featureTelemetryTracker=u.telemetryService.getTracker(s.ScreenName.AdminSettings),u.viewModel=new d(u.$q,u.principalService,u.roleService,u.roleAssignmentService,u.tenantService,u.featureTelemetryTracker),u.saveDiscardActions=new c.SaveDiscardActions(u.saveChanges.bind(u,(function(){return u.sendTelemetry()})),u.discardChanges.bind(u),!0,!0),u.onInit&&u.onInit({commentsManagementController:u}),u.viewModel.refresh(),u}t.CommentsManagementController=i},"./app/components/Administrator/CompanyPolicies/CompanyPolicies.html":function(e,t){e.exports='<div class=company-policies-settings role=region aria-label={{::$ctrl.resources.AdminSettingsPolicyInputTitle}}> <h1 class=c-heading-1>{{::$ctrl.resources.AdminSettingsCompanyPoliciesTitle}}</h1> <div class=company-policies-divider> <hr class=c-divider> </div> <header> <h2 class=c-heading-2> {{::$ctrl.resources.AdminSettingsPolicyInputTitle}} </h2> <div class=info-container> {{::$ctrl.resources.AdminSettingsPolicyInputSubTitle}} </div> </header> <div class=policy-link> <label class=c-label id=company-policy-link>{{::$ctrl.resources.AdminSettingsPolicyInputLabel}}</label> <div class=company-policy-container> <input class=c-text-field type=text ng-class="{ \'error-border\': $ctrl.policyRequired && $ctrl.policyEmpty }" spellcheck=false name=company-policy-link placeholder={{::$ctrl.resources.AdminSettingsPolicyInput}} ng-model=$ctrl.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.url ng-model-options="{ debounce: 300 }" aria-labelledby=company-policy-link ng-blur=$ctrl.validateURL() ng-focus=$ctrl.resetErrors() aria-label={{::$ctrl.resources.AdminSettingsPolicyInputTitle}} /> <custom-error-message ng-if=$ctrl.viewModel.invalidURL error-message=$ctrl.policyErrorMessage></custom-error-message> </div> </div> <div class=policy-link-display> <label class=c-label id=company-policy-link-display>{{::$ctrl.resources.AdminSettingsPolicyDisplayInputLabel}}</label> <div class=company-policy-container> <input class=c-text-field type=text spellcheck=false name=company-policy-link placeholder={{::$ctrl.resources.AdminSettingsPolicyDisplayInput}} ng-model=$ctrl.viewModel.tenantSettings.general.linkDisplayText ng-model-options="{ debounce: 300 }" aria-labelledby=company-policy-link-display /> </div> </div> <div class=company-policies-divider> <hr class=c-divider> </div> <h2 class="c-heading-2 toggle-heading"> {{::$ctrl.resources.AdminSettingsPolicyToggleTitle}} </h2> <label class=info-container id=toggle-require-policy>{{::$ctrl.resources.AdminSettingsPolicyToggleLabel}}</label> <toggle name=toggle-require-policy value=$ctrl.policyRequired on-toggle-click=$ctrl.onToggleCompanyPolicyClicked() aria-label={{::$ctrl.resources.AdminSettingsPolicyToggleTitle}} /> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> <div> <div class=company-policies-divider> <hr class=c-divider> </div> <h2 class="c-heading-2 toggle-heading"> {{::$ctrl.resources.AdminSettingsPolicyResetTitle}} </h2> <label class=info-container>{{::$ctrl.resources.AdminSettingsPolicyResetLabel}}</label> <div class=reset-button> <button class="stream-btn btn-secondary ng-binding" id=reset-company-policies-button type=button ng-disabled=!$ctrl.resetEnabled ng-click=$ctrl.onResetCompanyPolicyClicked() aria-labelledby="reset-company-policies-button last-reset"> {{::$ctrl.resources.AdminSettingsPolicyResetButtonTitle}} </button> <label class=info-container ng-if=$ctrl.hasBeenReset id=last-reset> {{$ctrl.lastResetMessage}}</label> </div> </div> </div>'},"./app/components/Administrator/CompanyPolicies/CompanyPolicies.less":function(e,t){},"./app/components/Administrator/CompanyPolicies/CompanyPolicies.ts":function(e,t,n){function r(){this.controller=i.CompanyPoliciesController,this.template=n("./app/components/Administrator/CompanyPolicies/CompanyPolicies.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/CompanyPolicies/CompanyPolicies.less");var i=n("./app/components/Administrator/CompanyPolicies/CompanyPoliciesController.ts"),o=n("./app/utility/appUtil.ts");t.CompanyPolicies=r,o.registerComponent("companyPolicies",r,angular.module("jumper"))},"./app/components/Administrator/CompanyPolicies/CompanyPoliciesController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/components/Administrator/AdminBaseController.ts"),c=n("./app/components/Administrator/AdminBaseViewModel.ts"),d=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),u=n("./app/utility/appUtil.ts"),p=n("./app/utility/string.ts"),m=(i(h,o=c.AdminBaseViewModel),h.prototype.refresh=function(){return this.refershInternal(!1)},h.prototype.refershInternal=function(e){var t=this;return this.getMyInfo().then((function(n){return t.me=n,t.original.me=angular.copy(t.me),t.getTenantSettings(n,e).then((function(e){t.telemetryTracker.succeed(a.FeatureName.GetAdminSettings),t.tenantSettings=e,t.tenantSettings.system.contentManagement.companyUploadPolicy.url=p.htmlDecode(e.system.contentManagement.companyUploadPolicy.url),t.original.tenantSettings=angular.copy(e),t.original.tenantSettings.system.contentManagement.companyUploadPolicy.url=p.htmlDecode(e.system.contentManagement.companyUploadPolicy.url)}))}))},h.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings,this.original.tenantSettings)&&!(this.policyEmpty()&&this.policyRequired())&&!this.invalidURL},h.prototype.save=function(){var e=this;if(this.me.permissions.canManageStream){var t,n=angular.copy(this.tenantSettings);this.tenantSettings.system.contentManagement.companyUploadPolicy.url!==this.original.tenantSettings.system.contentManagement.companyUploadPolicy.url&&((t=n.system.contentManagement.companyUploadPolicy.url)?n.system.contentManagement.companyUploadPolicy.url=p.htmlEncode(t):(n.system.contentManagement.companyUploadPolicy.url=null,n.system.contentManagement.companyUploadPolicy.acknowledgementRequired=!1));var r=this.tenantSettings.general.linkDisplayText!==this.original.tenantSettings.general.linkDisplayText;return this.saveTenantSettings(n,this.original.tenantSettings).then((function(t){e.tenantSettings=t,e.original.tenantSettings=angular.copy(t),e.$q.resolve(),e.telemetryTracker.succeed(a.FeatureName.UpdateAdminCompanyPolicySettings,{updatedDisplayText:r})}),(function(t){e.$q.reject(t),e.telemetryTracker.fail(a.FeatureName.UpdateAdminCompanyPolicySettings,a.SubFeatureName.TenantService_PatchTenantSettings,t,{updatedDisplayText:r})}))}return this.$q.resolve()},h.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings)},h.prototype.resetCompanyPolicy=function(){var e=this,t=this.$q.defer(),n=this.tenantSettings.system.contentManagement.companyUploadPolicy.lastResetDate;return this.tenantService.resetCompanyPolicy().then((function(){e.refershInternal(!0).then((function(n){var r=e.tenantSettings.system.contentManagement.companyUploadPolicy.lastResetDate;e.telemetryTracker.succeed(a.FeatureName.ResetCompanyPolicy,{lastResetDate:r}),t.resolve()}),(function(r){e.telemetryTracker.fail(a.FeatureName.ResetCompanyPolicy,a.SubFeatureName.TenantService_GetTenantSettings,r,{lastResetDate:n}),t.reject(r)}))}),(function(r){e.telemetryTracker.fail(a.FeatureName.ResetCompanyPolicy,a.SubFeatureName.TenantService_ResetCompanyPolicy,r,{lastResetDate:n}),t.reject(r)})),t.promise},h.prototype.policyRequired=function(){try{return this.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired}catch(e){return!1}},h.prototype.resetDate=function(){try{return u.formatISODateTimeToTwoDigitDate(this.tenantSettings.system.contentManagement.companyUploadPolicy.lastResetDate)}catch(e){return null}},h.prototype.hasBeenReset=function(){try{return!!this.tenantSettings.system.contentManagement.companyUploadPolicy.lastResetDate}catch(e){return!1}},h.prototype.resetEnabled=function(){try{return this.original.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired}catch(e){return!1}},h.prototype.policyEmpty=function(){try{return 0===this.tenantSettings.system.contentManagement.companyUploadPolicy.url.length}catch(e){return!0}},h);function h(e,t,n,r,i,s,a){return(t=o.call(this,e,n,r,i,s,t)||this).confirmationDialogService=a,t.original={me:null,tenantSettings:null},t.invalidURL=!1,t}t.CompanyPoliciesViewModel=m;var g;i(f,g=l.AdminBaseController),f.prototype.validateURL=function(){var e=new RegExp(s.Constants.companyPolicyUrlRegEx.source);this.viewModel.invalidURL=!1,this.policyRequired&&this.policyEmpty?(this.policyErrorMessage=this.resources.AdminSettingsPolicyInputErrorMessage,this.viewModel.invalidURL=!0):0===this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.url.length||e.test(this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.url)||(this.policyErrorMessage=this.resources.AdminSettingDetailInvalidUrlMessage,this.viewModel.invalidURL=!0)},f.prototype.onToggleCompanyPolicyClicked=function(){var e=this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired;this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired=!e,this.validateURL()},f.prototype.presentSaveConfirmationDialog=function(e){var t=this,n=this.viewModel.original.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired;this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.acknowledgementRequired&&!n?(this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsCompanyPoliciesEventName,{action:"SaveCompanyPolicyConfirmationDisplayed"}),n={title:this.resources.AdminSettingsPolicyConfirmationTitle,message:this.resources.AdminSettingsPolicyConfirmationMessage,confirmButtonLabel:this.resources.AdminSettingsPolicyConfirmationButtonTitle,cancelButtonLabel:this.resources.Cancel},this.confirmationDialogService.show(n).then((function(){t.saveChanges(e).then((function(){t.lastResetMessage=t.getFormattedResetDateLabel()})),t.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsCompanyPoliciesEventName,{action:"SaveCompanyPolicyConfirmed"})}),(function(e){t.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsCompanyPoliciesEventName,{action:"SaveCompanyPolicyCancelled"})}))):this.saveChanges(e)},f.prototype.onResetCompanyPolicyClicked=function(){var e=this,t=this.$q.defer(),n=this.viewModel.tenantSettings.system.contentManagement.companyUploadPolicy.lastResetDate;this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsResetCompanyPolicy,{action:"ResetCompanyPolicyClicked",lastResetDate:n});var r={title:this.resources.AdminSettingsPolicyResetConfirmationTitle,message:this.resources.AdminSettingsPolicyResetConfirmationLabel,confirmButtonLabel:this.resources.AdminSettingsPolicyResetConfirmationButtonTitle,cancelButtonLabel:this.resources.Cancel};return this.confirmationDialogService.show(r).then((function(){e.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsResetCompanyPolicy,{action:"ResetCompanyPolicyConfimed",lastResetDate:n}),e.viewModel.resetCompanyPolicy().then((function(){e.lastResetMessage=e.getFormattedResetDateLabel(),t.resolve()}),(function(n){e.handleError(n),t.reject(n)}))}),(function(r){e.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsResetCompanyPolicy,{action:"ResetCompanyPolicyConfimed",lastResetDate:n}),t.reject(r)})),t.promise},Object.defineProperty(f.prototype,"hasBeenReset",{get:function(){return this.viewModel.hasBeenReset()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"policyRequired",{get:function(){return this.viewModel.policyRequired()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"resetEnabled",{get:function(){return this.viewModel.resetEnabled()},enumerable:!0,configurable:!0}),f.prototype.resetErrors=function(){this.viewModel.invalidURL=!1},Object.defineProperty(f.prototype,"policyEmpty",{get:function(){return this.viewModel.policyEmpty()},enumerable:!0,configurable:!0}),f.prototype.getFormattedResetDateLabel=function(){return p.formatString(this.resources.AdminSettingsPolicyResetLastLabel,this.viewModel.resetDate())},f.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsCompanyPoliciesEventName,null,null)},f.$inject=["$scope","$element","$q","$timeout","featureFlagsService","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","confirmationDialogService","$window"],i=f;function f(e,t,n,r,i,o,s,l,c,u,p,h,f){var v=g.call(this,e,o)||this;return v.$element=t,v.$q=n,v.$timeout=r,v.featureFlagsService=i,v.principalService=s,v.roleService=l,v.roleAssignmentService=c,v.tenantService=u,v.telemetryService=p,v.confirmationDialogService=h,v.$window=f,v.policyErrorMessage="",v.lastResetMessage="",v.featureTelemetryTracker=v.telemetryService.getTracker(a.ScreenName.AdminSettings),v.viewModel=new m(v.$q,v.principalService,v.roleService,v.roleAssignmentService,v.tenantService,v.featureTelemetryTracker,v.confirmationDialogService),v.saveDiscardActions=new d.SaveDiscardActions(v.presentSaveConfirmationDialog.bind(v,(function(){return v.sendTelemetry()})),v.discardChanges.bind(v),!0,!0),v.onInit&&v.onInit({companyPoliciesController:v}),v.viewModel.refresh().then((function(){v.lastResetMessage=v.getFormattedResetDateLabel()})),v}t.CompanyPoliciesController=i},"./app/components/Administrator/ContentCreation/ContentCreation.html":function(e,t){e.exports='<div class=content-creation-settings role=region aria-label={{::$ctrl.resources.AdminSettingsRestrictUploadTitleForVideoUploads}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsContentCreationTitle}} </h1> <div class=content-creation-divider> <hr class=c-divider> </div> <h2 class=c-heading-2>{{::$ctrl.resources.AdminSettingsRestrictUploadTitleForVideoUploads}}</h2> <label class=info-container id=toggle-restrict-upload>{{::$ctrl.resources.AdminSettingsRestrictUploadSubTitleForUploadVideos}}</label> <toggle name=toggle-restrict-upload value=$ctrl.uploadRestricted on-toggle-click=$ctrl.onToggleUploadRestrictionClicked() /> <div ng-hide=$ctrl.uploadRestricted class=upload-no-restrict> {{::$ctrl.resources.AdminSettingsNoUploadRestrictionInfoForUpload}} </div> <div ng-show=$ctrl.uploadRestricted> <div class=principal-searchbox> <span class=c-label ng-if=!$ctrl.searchUploaderDisabled id=AdminSettingsSearchUploaderLabelId> {{::$ctrl.resources.AdminSettingsAddUploaderLabel}} </span> <span class=c-label ng-if=$ctrl.searchUploaderDisabled> <span class=search-limit-icon><svg-src svg-name=icon_library></svg-src></span>{{$ctrl.resources.FormValidationUploaderLimit}} </span> <auto-complete id=searchUploader search-min-input=3 search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedUploader hide-label=true custom-disabled=$ctrl.searchUploaderDisabled label-id=AdminSettingsSearchUploaderLabelId> </auto-complete> </div> <span class=c-label ng-if="$ctrl.viewModel.uploaderList && $ctrl.viewModel.uploaderList.length"> {{::$ctrl.resources.AdminSettingsCurrentUnrestrictedUsers}} </span> <div class=principal-list ng-if="$ctrl.viewModel.uploaderList && $ctrl.viewModel.uploaderList.length"> <div class=principal-list-inner> <principal-group-compact principals=$ctrl.viewModel.uploaderList principals-removed=$ctrl.onUploaderRemoved($principal)> </principal-group-compact> </div> </div> </div> </div> <div class=content-creation-divider> <hr class=c-divider> </div> <div class=content-creation-settings role=region aria-label={{::$ctrl.resources.AdminSettingsRestrictUploadTitleForChannelCreation}}> <h2 class=c-heading-2>{{::$ctrl.resources.AdminSettingsRestrictUploadTitleForChannelCreation}}</h2> <label class=info-container id=toggle-restrict-upload>{{::$ctrl.resources.AdminSettingsRestrictUploadSubTitleForCreateChannel}}</label> <toggle name=toggle-restrict-upload value=$ctrl.channelCreationRestricted on-toggle-click=$ctrl.onToggleChannelCreationRestrictionClicked() /> <div ng-hide=$ctrl.channelCreationRestricted class=upload-no-restrict> {{::$ctrl.resources.AdminSettingsNoUploadRestrictionInfoForCreate}} </div> <div ng-show=$ctrl.channelCreationRestricted> <div class=principal-searchbox> <span class=c-label ng-if=!$ctrl.searchChannelCreatorDisabled id=AdminSettingsSearchChannelCreatorLabelId> {{::$ctrl.resources.AdminSettingsAddUploaderLabel}} </span> <span class=c-label ng-if=$ctrl.searchChannelCreatorDisabled> <span class=search-limit-icon><svg-src svg-name=icon_library></svg-src></span>{{$ctrl.resources.FormValidationUploaderLimit}} </span> <auto-complete search-min-input=3 search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedChannelCreator hide-label=true custom-disabled=$ctrl.searchChannelCreatorDisabled label-id=AdminSettingsSearchChannelCreatorLabelId> </auto-complete> </div> <div class=c-label ng-if="$ctrl.viewModel.channelCreatorList && $ctrl.viewModel.channelCreatorList.length"> {{::$ctrl.resources.AdminSettingsCurrentUnrestrictedUsers}} </div> <div class=principal-list ng-if="$ctrl.viewModel.channelCreatorList && $ctrl.viewModel.channelCreatorList.length"> <div class=principal-list-inner> <principal-group-compact principals=$ctrl.viewModel.channelCreatorList principals-removed=$ctrl.onChannelCreationRemoved($principal)> </principal-group-compact> </div> </div> </div> </div> <div ng-if=::$ctrl.defaultVideoPermissionSettingEnabled> <div class=content-creation-divider> <hr class=c-divider> </div> <div class=content-creation-settings role=region aria-label={{::$ctrl.resources.AdminSettingsDefaultPrivacyModeTitleForVideos}}> <h2 class=c-heading-2>{{::$ctrl.resources.AdminSettingsDefaultPrivacyModeTitleForVideos}}</h2> <label class="info-container default-permissions-dropdown-label" for=defaultVideoPermissionSetting> {{::$ctrl.resources.AdminSettingsDefaultPrivacyModeForVideosDropdownLabel}} </label> <tooltip message=$ctrl.resources.AdminSettingsDefaultPrivacyModeForVideosDropdownTooltip button-aria-label={{::$ctrl.resources.AdminSettingsDefaultPrivacyModeTitleForVideos}}> </tooltip> <div class="ct-select-compact c-select default-permissions-dropdown" aria-expanded=false> <select ng-model=$ctrl.viewModel.tenantSettings.system.contentManagement.defaultVideoPrivacyMode id=defaultVideoPermissionSetting ng-options="item.value as item.text for item in $ctrl.viewModel.privacyModeOptions"> </select> </div> </div> </div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard>'},"./app/components/Administrator/ContentCreation/ContentCreation.less":function(e,t){},"./app/components/Administrator/ContentCreation/ContentCreation.ts":function(e,t,n){function r(){this.controller=i.ContentCreationController,this.template=n("./app/components/Administrator/ContentCreation/ContentCreation.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/ContentCreation/ContentCreation.less");var i=n("./app/components/Administrator/ContentCreation/ContentCreationController.ts"),o=n("./app/utility/appUtil.ts");t.ContentCreation=r,o.registerComponent("contentCreation",r,angular.module("jumper"))},"./app/components/Administrator/ContentCreation/ContentCreationController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,l=n("./app/utility/Constants.ts"),c=n("./app/models/TelemetryEventModels.ts"),d=n("./app/utility/appUtil.ts"),u=n("./app/utility/string.ts"),p=n("./app/components/Administrator/AdminBaseController.ts"),m=n("./app/components/Administrator/AdminBaseViewModel.ts"),h=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),g=(i(f,a=m.AdminBaseViewModel),f.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){return o(e,void 0,void 0,(function(){var e,n,r,i=this;return s(this,(function(o){switch(o.label){case 0:this.me=t,this.tenantSettings||this.getTenantSettings(this.me).then((function(e){i.telemetryTracker.succeed(c.FeatureName.UpdateAdminContentCreationSettings),i.tenantSettings=e,i.original.tenantSettings=angular.copy(i.tenantSettings)})),this.channelCreatorList=[],this.uploaderList=[],e=0,n=100,o.label=1;case 1:return[4,this.getUploaderPrincipals(e,n)];case 2:return(r=o.sent())&&r.mediaUploaders&&0<r.mediaUploaders.length&&(this.uploaderList=this.uploaderList.concat(r.mediaUploaders),this.uploadRestricted=r.mediaUploadRestricted,e+=n),!r||!r.mediaUploaders||r.mediaUploaders.length<n?(this.uploaderList=this.uploaderList.sort(this.principalSorter),this.telemetryTracker.succeed(c.FeatureName.UpdateAdminContentCreationSettings),[3,3]):[3,1];case 3:e=0,o.label=4;case 4:return[4,this.getChannelCreationPrincipals(e,n)];case 5:return(r=o.sent())&&r.channelCreators&&0<r.channelCreators.length&&(this.channelCreatorList=this.channelCreatorList.concat(r.channelCreators),this.channelCreationRestricted=r.channelCreationRestricted,e+=n),!r||!r.channelCreators||r.channelCreators.length<n?(this.channelCreatorList=this.channelCreatorList.sort(this.principalSorter),this.telemetryTracker.succeed(c.FeatureName.UpdateAdminContentCreationSettings),[3,6]):[3,4];case 6:return this.original.me=angular.copy(this.me),this.original.uploadRestricted=this.uploadRestricted,this.original.channelCreationRestricted=this.channelCreationRestricted,this.original.uploaderList=angular.copy(this.uploaderList),this.original.channelCreatorList=angular.copy(this.channelCreatorList),[2]}}))}))}))},f.prototype.dirty=function(){return this.original&&this.original.uploaderList&&this.original.channelCreatorList&&(!_.isEqual(this.uploaderList,this.original.uploaderList)||!_.isEqual(this.uploadRestricted,this.original.uploadRestricted)||!_.isEqual(this.tenantSettings.system.contentManagement.defaultVideoPrivacyMode,this.original.tenantSettings.system.contentManagement.defaultVideoPrivacyMode)||!_.isEqual(this.channelCreatorList,this.original.channelCreatorList)||!_.isEqual(this.channelCreationRestricted,this.original.channelCreationRestricted))},f.prototype.save=function(){var e=this;return this.getMyInfo().then((function(t){return t.permissions.canManageStream?(t=[],_.isEqual(e.uploaderList,e.original.uploaderList)&&_.isEqual(e.uploadRestricted,e.original.uploadRestricted)||t.push(e.saveUploaders()),_.isEqual(e.channelCreatorList,e.original.channelCreatorList)&&_.isEqual(e.channelCreationRestricted,e.original.channelCreationRestricted)||t.push(e.saveChannelCreators()),e.tenantSettings.system.contentManagement.defaultVideoPrivacyMode!==e.original.tenantSettings.system.contentManagement.defaultVideoPrivacyMode&&t.push(e.saveDefaultVideoPrivacyMode()),e.$q.all(t).then((function(){return e.telemetryTracker.succeed(c.FeatureName.UpdateAdminContentCreationSettings),e.$q.resolve()}),(function(t){return e.$q.reject(t)}))):e.$q.resolve()}))},f.prototype.principalSorter=function(e,t){if(e&&t&&e.name&&t.name){if(e=e.name.toLowerCase(),(t=t.name.toLowerCase())<e)return 1;if(e<t)return-1}return 0},f.prototype.saveUploaders=function(){var e=this;return this.uploadRestricted||(this.uploaderList=this.original.uploaderList),this.roleService.getMediaCreatorRoleId().then((function(t){return e.roleAssignmentService.setGlobalAssignments(t,e.uploaderList,e.uploadRestricted).then((function(){return e.$q.resolve()}),(function(n){return e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(c.FeatureName.UpdateAdminContentCreationSettings,c.SubFeatureName.RoleAssignmentService_SetGlobalAssignment,n),e.telemetryTracker.setResourceId(null),e.$q.reject(n)}))}),(function(t){return e.telemetryTracker.fail(c.FeatureName.UpdateAdminContentCreationSettings,c.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)}))},f.prototype.saveChannelCreators=function(){var e=this;return this.channelCreationRestricted||(this.channelCreatorList=this.original.channelCreatorList),this.roleService.getGroupCreatorRoleId().then((function(t){return e.roleAssignmentService.setGlobalAssignments(t,e.channelCreatorList,e.channelCreationRestricted).then((function(){return e.$q.resolve()}),(function(n){return e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(c.FeatureName.UpdateAdminContentCreationSettings,c.SubFeatureName.RoleAssignmentService_SetGlobalAssignment,n),e.telemetryTracker.setResourceId(null),e.$q.reject(n)}))}),(function(t){return e.telemetryTracker.fail(c.FeatureName.UpdateAdminContentCreationSettings,c.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)}))},f.prototype.saveDefaultVideoPrivacyMode=function(){var e=this;return this.me.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(t){e.tenantSettings=t,e.original.tenantSettings=angular.copy(t),e.$q.resolve(),e.telemetryTracker.succeed(c.FeatureName.UpdateAdminContentCreationSettings)}),(function(t){e.telemetryTracker.fail(c.FeatureName.UpdateAdminContentCreationSettings,c.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},f.prototype.revert=function(){this.me=angular.copy(this.original.me),this.uploaderList=angular.copy(this.original.uploaderList),this.channelCreatorList=angular.copy(this.original.channelCreatorList),this.uploadRestricted=this.original.uploadRestricted,this.channelCreationRestricted=this.original.channelCreationRestricted},f);function f(e,t,n,r,i,o,s){return(n=a.call(this,e,r,i,o,s,n)||this).original={me:null},n.privacyModeOptions=[{value:l.Constants.privacyMode.organization,text:t.AdminSettingsDefaultPrivacyModeOrganizationLabel},{value:l.Constants.privacyMode.private,text:t.AdminSettingsDefaultPrivacyModePrivateLabel}],n}t.ContentCreationViewModel=g;var v;i(y,v=p.AdminBaseController),y.prototype.onToggleUploadRestrictionClicked=function(){this.viewModel.uploadRestricted=!this.viewModel.uploadRestricted},Object.defineProperty(y.prototype,"uploadRestricted",{get:function(){return this.viewModel.uploadRestricted},enumerable:!0,configurable:!0}),y.prototype.onToggleChannelCreationRestrictionClicked=function(){this.viewModel.channelCreationRestricted=!this.viewModel.channelCreationRestricted},Object.defineProperty(y.prototype,"channelCreationRestricted",{get:function(){return this.viewModel.channelCreationRestricted},enumerable:!0,configurable:!0}),y.prototype.onUploaderRemoved=function(e){d.alertScreenReader(u.formatString(this.resources.Principal.Delete.AccessibilityMessage,e.name)+" "+this.resources.Accessibility.ApplyReminder),this.checkSearchUploaderDisabled(),this.telemetryMetrics.numUploadersRemoved+=1},Object.defineProperty(y.prototype,"defaultVideoPermissionSettingEnabled",{get:function(){return this.featureFlagsService.Values.DefaultPrivacyModeTenantSetting},enumerable:!0,configurable:!0}),y.prototype.onChannelCreationRemoved=function(e){d.alertScreenReader(u.formatString(this.resources.Principal.Delete.AccessibilityMessage,e.name)+" "+this.resources.Accessibility.ApplyReminder),this.checkSearchChannelCreationerDisabled(),this.telemetryMetrics.numUploadersRemoved+=1},y.prototype.sendTelemetry=function(){this.telemetryMetrics.totalNumUploaders=this.viewModel.uploaderList?this.viewModel.uploaderList.length:0,this.telemetryMetrics.totalChannelCreators=this.viewModel.channelCreatorList?this.viewModel.channelCreatorList.length:0,this.featureTelemetryTracker.trackEvent(c.TelemetryEventNames.adminSettingsContentCreationEventName,null,this.telemetryMetrics),this.telemetryMetrics.numUploadersAdded=0,this.telemetryMetrics.numUploadersRemoved=0,this.telemetryMetrics.numChannelCreatorsAdded=0,this.telemetryMetrics.numChannelCreatorsRemoved=0},y.prototype.checkSearchUploaderDisabled=function(){var e=this.viewModel.uploaderList?this.viewModel.uploaderList.length:0;this.searchUploaderDisabled=e>=l.Constants.MaxLengths.UploaderAssignmentsLimit},y.prototype.checkSearchChannelCreationerDisabled=function(){var e=this.viewModel.channelCreatorList?this.viewModel.channelCreatorList.length:0;this.searchChannelCreatorDisabled=e>=l.Constants.MaxLengths.UploaderAssignmentsLimit},y.$inject=["$scope","$q","featureFlagsService","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService"],i=y;function y(e,t,n,r,i,o,s,a,p){var m=v.call(this,e,r)||this;return m.$q=t,m.featureFlagsService=n,m.principalService=i,m.roleService=o,m.roleAssignmentService=s,m.tenantService=a,m.telemetryService=p,m.telemetryMetrics={numUploadersAdded:0,numUploadersRemoved:0,totalNumUploaders:0,numChannelCreatorsAdded:0,numChannelCreatorsRemoved:0,totalChannelCreators:0},m.featureTelemetryTracker=m.telemetryService.getTracker(c.ScreenName.AdminSettings),m.viewModel=new g(m.$q,m.resources,m.principalService,m.roleService,m.roleAssignmentService,m.tenantService,m.featureTelemetryTracker),m.saveDiscardActions=new h.SaveDiscardActions(m.saveChanges.bind(m,(function(){return m.sendTelemetry()})),m.discardChanges.bind(m),!0,!0),m.viewModel.refresh().then((function(){m.principalSearch={search:function(e){var n=t.defer();return m.principalService.searchPrincipals(e,l.Constants.MaxLengths.PrincipleSearchOutput,0,!1,[l.Constants.PrincipalType.User,l.Constants.PrincipalType.SecurityGroup]).then((function(e){m.featureTelemetryTracker.succeed(c.FeatureName.SearchPrincipals),n.resolve(e.data.value)}),(function(e){m.featureTelemetryTracker.fail(c.FeatureName.SearchPrincipals,c.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},e.$watch((function(){return m.lastSelectedUploader}),(function(e,t){e&&m.viewModel&&(m.viewModel.uploaderList||(m.viewModel.uploaderList=[]),0===m.viewModel.uploaderList.filter((function(t,n,r){return t.id===e.id})).length&&(m.viewModel.uploaderList.push(e),d.alertScreenReader(u.formatString(m.resources.Principal.Add.AccessibilityMessage,e.name)+" "+m.resources.Accessibility.ApplyReminder),m.checkSearchUploaderDisabled(),m.telemetryMetrics.numUploadersAdded+=1))})),e.$watch((function(){return m.lastSelectedChannelCreator}),(function(e,t){e&&m.viewModel&&(m.viewModel.channelCreatorList||(m.viewModel.channelCreatorList=[]),0===m.viewModel.channelCreatorList.filter((function(t,n,r){return t.id===e.id})).length&&(m.viewModel.channelCreatorList.push(e),d.alertScreenReader(u.formatString(m.resources.Principal.Add.AccessibilityMessage,e.name)+" "+m.resources.Accessibility.ApplyReminder),m.checkSearchChannelCreationerDisabled(),m.telemetryMetrics.numChannelCreatorsAdded+=1))})),m.onInit&&m.onInit({contentCreationController:m})})),m}t.ContentCreationController=i},"./app/components/Administrator/EnableMigration/EnableMigration.html":function(e,t){e.exports='<section class=enable-migration-settings aria-label={{::$ctrl.resources.AdminSettingsEnableMigrationTab}}> <header> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsContentMigrationTitle}} </h1> <div class=info-container> <label class="info-container enable-migration-section-subtitle"> {{::$ctrl.resources.AdminSettingsContentMigrationDescription}} </label> <p> <span>{{::$ctrl.resources.AdminSettingsContentMigrationSubDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutContentMigrationLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </p> <br><br> <a external-link ng-href={{::$ctrl.migrationDocumentSiteLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.migrationDocumentLinkText}} </a> <br><br> <a external-link ng-href={{::$ctrl.migrationVideoLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.migrationVideoLinkText}} </a> </div> </header> <div class=enable-migration-divider> <hr class=c-divider> </div> <div class=migration-toggle-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsEnableMigrationTitle}} </h1> <div class=info-container> <label class="info-container enable-migration-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsEnableMigrationDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutEnablingMigrationLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <div class=warning-message> <svg-src svg-name=icon_library class=error-icon></svg-src> <span class=warning-message-box> <span>{{::$ctrl.resources.WarningBeforeEnablingMigration}}</span> </span> </div><br> <toggle name=migration-toggle id=enable-migration-toggle value=$ctrl.migrationEnabled on-toggle-click=$ctrl.onToggleMigrationClicked() auto-play-custom-on-label-text=$ctrl.migrationCustomOnLabelText auto-play-custom-off-label-text=$ctrl.migrationCustomOffLabelText aria-label={{::$ctrl.resources.AdminSettingsEnableMigrationTitle}} /> </div> </div> <div class=enable-migration-divider> <hr class=c-divider> </div> <div class=migration-picker-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsNavigateToMigrationToolTitle}} </h1> <div class=info-container> <label class="info-container enable-migration-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsMigrationToolDescription}}</span> <br> <a external-link ng-href={{::$ctrl.learnMoreAboutMigrationToolLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br><br> <a external-link ng-href={{::$ctrl.moverWebAppLink}} target=_blank class=c-hyperlink> <button class="stream-btn color-btn" ng-disabled=!$ctrl.goToMoverButtonEnabled>{{::$ctrl.resources.AdminSettingsGoToMover}}</button> </a> </div> </div> <div class=enable-migration-divider> <hr class=c-divider> </div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </section>'},"./app/components/Administrator/EnableMigration/EnableMigration.less":function(e,t){},"./app/components/Administrator/EnableMigration/EnableMigration.ts":function(e,t,n){function r(){this.controller=i.EnableMigrationController,this.template=n("./app/components/Administrator/EnableMigration/EnableMigration.html"),this.bindings={isAdminMode:"<",failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/EnableMigration/EnableMigration.less");var i=n("./app/components/Administrator/EnableMigration/EnableMigrationController.ts"),o=n("./app/utility/appUtil.ts");t.EnableMigration=r,o.registerComponent("enableMigration",r,angular.module("jumper"))},"./app/components/Administrator/EnableMigration/EnableMigrationController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Administrator/AdminBaseController.ts"),l=n("./app/components/Administrator/AdminBaseViewModel.ts"),c=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),d=n("./app/utility/Constants.ts"),u=(i(p,o=l.AdminBaseViewModel),p.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(s.FeatureName.GetAdminSettings),e.tenantSettings=t,e.original.tenantSettings=angular.copy(t),e.migrationFlag=e.tenantSettings&&e.tenantSettings.system&&e.tenantSettings.system.contentManagement&&e.tenantSettings.system.contentManagement.enableMigration}))}))},p.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings,this.original.tenantSettings)},p.prototype.save=function(){var e=this;return this.me.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(){e.$q.resolve(),e.telemetryTracker.succeed(s.FeatureName.UpdateAdminMigrationSettings)}),(function(t){e.telemetryTracker.fail(s.FeatureName.UpdateAdminMigrationSettings,s.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},p.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings)},p);function p(e,t,n,r,i,s,a){return(t=o.call(this,e,n,r,i,s,t)||this).$timeout=a,t.original={me:null,tenantSettings:null},t.migrationFlag=!1,t}t.EnableMigrationViewModel=u;var m;i(h,m=a.AdminBaseController),h.prototype.onToggleMigrationClicked=function(){this.viewModel.tenantSettings.system.contentManagement.enableMigration=!this.viewModel.tenantSettings.system.contentManagement.enableMigration},Object.defineProperty(h.prototype,"migrationEnabled",{get:function(){return this.viewModel.tenantSettings&&this.viewModel.tenantSettings.system&&this.viewModel.tenantSettings.system.contentManagement&&this.viewModel.tenantSettings.system.contentManagement.enableMigration},enumerable:!0,configurable:!0}),h.prototype.sendTelemetry=function(){var e={oldMigrationState:this.viewModel.original.tenantSettings.system.contentManagement.enableMigration,newMigrationState:this.viewModel.tenantSettings.system.contentManagement.enableMigration};this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsEnableMigrationEventName,e,null)},Object.defineProperty(h.prototype,"goToMoverButtonEnabled",{get:function(){var e=this.viewModel;return this.migrationFlag=e.migrationFlag,this.migrationFlag},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"learnMoreLinkText",{get:function(){return this.resources.LearnMore},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"migrationDocumentLinkText",{get:function(){return this.resources.AdminSettingsMigrationDocumentLink},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"migrationVideoLinkText",{get:function(){return this.resources.AdminSettingMigrationVideoLink},enumerable:!0,configurable:!0}),h.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","$timeout"],i=h;function h(e,t,n,r,i,o,a,l,p){var h=m.call(this,e,n)||this;return h.$q=t,h.principalService=r,h.roleService=i,h.roleAssignmentService=o,h.tenantService=a,h.telemetryService=l,h.$timeout=p,h.screenName=s.ScreenName.AdminSettingsEnableMigration,h.learnMoreAboutContentMigrationLink=d.Constants.Migration.learnMoreAboutContentMigrationLink,h.migrationDocumentSiteLink=d.Constants.Migration.migrationDocumentSiteLink,h.migrationVideoLink=d.Constants.Migration.migrationVideoLink,h.learnMoreAboutEnablingMigrationLink=d.Constants.Migration.learnMoreAboutEnablingMigrationLink,h.learnMoreAboutMigrationToolLink=d.Constants.Migration.learnMoreAboutMigrationToolLink,h.moverWebAppLink=d.Constants.Migration.moverWebAppLink,h.migrationFlag=!1,h.featureTelemetryTracker=h.telemetryService.getTracker(h.screenName),h.migrationCustomOnLabelText=h.resources.AdminSettingsMigrationToggleOn,h.migrationCustomOffLabelText=h.resources.AdminSettingsMigrationToggleOff,h.viewModel=new u(h.$q,h.principalService,h.roleService,h.roleAssignmentService,h.tenantService,h.featureTelemetryTracker,h.$timeout),h.saveDiscardActions=new c.SaveDiscardActions(h.saveChanges.bind(h,(function(){return h.sendTelemetry()})),h.discardChanges.bind(h),!0,!0),h.onInit&&h.onInit({enableMigrationController:h}),h.viewModel.refresh(),h}t.EnableMigrationController=i},"./app/components/Administrator/FaceDetection/FaceDetection.html":function(e,t){e.exports=' <div class=face-detection-settings role=region aria-label={{::$ctrl.resources.AdminSettingsFaceDetectionTitle}}> <h1 class=c-heading-1>{{::$ctrl.resources.AdminSettingsFaceDetectionTitle}}</h1> <label class=info-container id=toggle-restrict-face-detection>{{::$ctrl.resources.AdminSettingsFaceDetectionSubTitle}}</label> <div> <div class=face-detection-info-content> <span class=settings-option>{{::$ctrl.resources.AdminFaceDetectionReenableInfoOption}}</span>{{::$ctrl.resources.AdminFaceDetectionReenableInfoTitle}} </div> <div class=face-detection-info-content> <span class=settings-option>{{::$ctrl.resources.AdminFaceDetectionDisableInfoOption}}</span>{{::$ctrl.resources.AdminFaceDetectionDisableInfoTitle}} </div> <div class=face-detection-info-content> <span class=caution-note>{{::$ctrl.resources.AdminFaceDetectionCautionInfoLabel}}</span>{{::$ctrl.resources.AdminFaceDetectionCautionInfoContent}} </div> <div class=learn-more-link> <a class=c-hyperlink external-link ng-href={{::$ctrl.learnMoreLink}} target=_blank> {{::$ctrl.resources.AdminFaceDetectionLearnMoreLink}} </a> </div> </div> <div class="toggle c-toggle ct-toggle-compact"> <toggle name=toggle-restrict-face-detection value=$ctrl.faceDetectionEnabled on-toggle-click=$ctrl.onToggleFaceDetectionClicked() /> </div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div>'},"./app/components/Administrator/FaceDetection/FaceDetection.less":function(e,t){},"./app/components/Administrator/FaceDetection/FaceDetection.ts":function(e,t,n){function r(){this.controller=i.FaceDetectionController,this.template=n("./app/components/Administrator/FaceDetection/FaceDetection.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/FaceDetection/FaceDetection.less");var i=n("./app/components/Administrator/FaceDetection/FaceDetectionController.ts"),o=n("./app/utility/appUtil.ts");t.FaceDetection=r,o.registerComponent("faceDetection",r,angular.module("jumper"))},"./app/components/Administrator/FaceDetection/FaceDetectionController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Administrator/AdminBaseController.ts"),l=n("./app/components/Administrator/AdminBaseViewModel.ts"),c=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),d=(i(u,o=l.AdminBaseViewModel),u.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(s.FeatureName.GetAdminSettings),e.tenantSettings=t,e.original.tenantSettings=angular.copy(t)}))}))},u.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings.system.contentManagement.allowFaceDetection,this.original.tenantSettings.system.contentManagement.allowFaceDetection)},u.prototype.save=function(){var e=this;return this.me.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(t){return e.tenantSettings=t,e.original.tenantSettings=angular.copy(t),e.telemetryTracker.succeed(s.FeatureName.UpdateAdminFaceDetectionSettings),e.$q.resolve()}),(function(t){return e.telemetryTracker.fail(s.FeatureName.UpdateAdminFaceDetectionSettings,s.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},u.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings)},u);function u(e,t,n,r,i,s,a,l){return(t=o.call(this,e,n,r,i,s,t)||this).resources=a,t.confirmationDialogService=l,t.original={me:null,tenantSettings:null},t.refresh(),t}t.FaceDetectionViewModel=d;var p;i(m,p=a.AdminBaseController),m.prototype.onToggleFaceDetectionClicked=function(){this.viewModel.tenantSettings.system.contentManagement.allowFaceDetection=!this.viewModel.tenantSettings.system.contentManagement.allowFaceDetection},Object.defineProperty(m.prototype,"faceDetectionEnabled",{get:function(){return this.viewModel.tenantSettings&&this.viewModel.tenantSettings.system&&this.viewModel.tenantSettings.system.contentManagement&&this.viewModel.tenantSettings.system.contentManagement.allowFaceDetection},enumerable:!0,configurable:!0}),m.prototype.sendTelemetry=function(e){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsFaceDetectionEventName,e,null)},m.prototype.saveFaceDetection=function(){var e=this,t=this.$q.defer(),n=this.viewModel.tenantSettings.system.contentManagement.allowFaceDetection?{title:this.resources.AdminFaceDetectionConfirmationTitle,message:this.resources.AdminFaceDetectionEnableConfirmationMessage,confirmButtonLabel:this.resources.AdminFaceDetectionConfirmationOkayButton,cancelButtonLabel:this.resources.AdminFaceDetectionConfirmationCancelButton,confirmCheckboxText:this.resources.AdminFaceDetectionEnableCheckboxLabel,linkUrl:this.learnMoreLink,linkLabel:this.resources.AdminFaceDetectionLearnMoreLink}:{title:this.resources.AdminFaceDetectionConfirmationTitle,message:this.resources.AdminFaceDetectionDisableConfirmationMessage,confirmButtonLabel:this.resources.AdminFaceDetectionConfirmationOkayButton,cancelButtonLabel:this.resources.AdminFaceDetectionConfirmationCancelButton,confirmCheckboxText:this.resources.AdminFaceDetectionDisableCheckboxLabel,linkUrl:this.learnMoreLink,linkLabel:this.resources.AdminFaceDetectionLearnMoreLink},r=(n=this.confirmationDialogService.show(n),{old:this.viewModel.original.tenantSettings.system.contentManagement.allowFaceDetection,new:this.viewModel.tenantSettings.system.contentManagement.allowFaceDetection});return n.then((function(){e.saveChanges((function(){return e.sendTelemetry(r)})).then((function(){t.resolve(!1)}))})),t.promise},m.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","confirmationDialogService"],i=m;function m(e,t,n,r,i,o,a,l,u){return(e=p.call(this,e,n)||this).$q=t,e.principalService=r,e.roleService=i,e.roleAssignmentService=o,e.tenantService=a,e.telemetryService=l,e.confirmationDialogService=u,e.learnMoreLink="https://go.microsoft.com/fwlink/?linkid=2077166",e.featureTelemetryTracker=e.telemetryService.getTracker(s.ScreenName.AdminSettings),e.viewModel=new d(e.$q,e.principalService,e.roleService,e.roleAssignmentService,e.tenantService,e.featureTelemetryTracker,n,e.confirmationDialogService),e.saveDiscardActions=new c.SaveDiscardActions(e.saveFaceDetection.bind(e),e.discardChanges.bind(e),!0,!0,e.resources.ActionBar.Button.Confirm),e.onInit&&e.onInit({faceDetectionController:e}),e.viewModel.refresh(),e}t.FaceDetectionController=i},"./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItem.html":function(e,t){e.exports='<principal-item-base header-row=$ctrl.headerRow class=forgotten-principal-item additional-cols=$ctrl.getMoreCols> <custom-column1 ng-transclude=customColumn1> <button class="edit c-action-trigger" aria-label={{::$ctrl.resources.Edit}} ng-click=$ctrl.edit()> <svg-src svg-name=icon_edit></svg-src> </button> </custom-column1> <custom-column2 ng-transclude=customColumn2> <button class="delete c-action-trigger" aria-label={{::$ctrl.resources.Delete}} ng-click=$ctrl.deletePrincipal()> <svg-src svg-name=icon_delete></svg-src> </button> </custom-column2> </principal-item-base>'},"./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItem.less":function(e,t){},"./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItem.ts":function(e,t,n){function r(){this.controller=o.ForgottenPrincipalItemController,this.template=n("./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItem.html"),this.bindings={headerRow:"<",onPrincipalUpdate:"&",onPrincipalDelete:"&"},this.transclude={customHeader:"?customHeader",customColumn1:"?customColumn1",customColumn2:"?customColumn2"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItem.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItemController.ts");t.ForgottenPrincipalItem=r,i.registerComponent("forgottenPrincipalItem",r,angular.module("jumper"))},"./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/PrincipalItemBase/PrincipalItemBaseController.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/appUtil.ts"),c=n("./app/models/TelemetryEventModels.ts"),d=n("./app/utility/string.ts");i(u,o=s.PrincipalItemBaseController),Object.defineProperty(u.prototype,"getMoreCols",{get:function(){return this.moreCols},enumerable:!0,configurable:!0}),u.prototype.edit=function(){var e=this;this.principalEditDialog.open(angular.copy(this.principal)).closePromise.then((function(t){t.value&&t.value.principal&&(e.principal=t.value.principal,e.onPrincipalUpdate({principal:e.principal}))}))},u.prototype.deletePrincipal=function(){var e=this;this.deleteConfirmation.show(this.dialogModel).then((function(){e.principalService.deletePrincipal(e.principal.id).then((function(){e.featureTelemetryTracker.succeed(a.FeatureName.PrincipalDelete),e.onPrincipalDelete({principal:e.principal}),l.alertScreenReader(d.formatString(e.resources.Principal.Delete.AccessibilityMessage,e.principal.name))}),(function(t){e.errorMessage=l.errorMessage(t)||e.resources.ForgottenUsersDeleteFailedMessage,l.alertScreenReader(e.errorMessage),e.featureTelemetryTracker.fail(a.FeatureName.PrincipalDelete,a.SubFeatureName.PrincipalService_Delete,t)}))}))},u.$inject=["$scope","$timeout","resources","principalEditDialog","confirmationDialogService","principalService","telemetryService"],i=u;function u(e,t,n,r,i,s,a){return(n=o.call(this,e,t,n)||this).$scope=e,n.principalEditDialog=r,n.deleteConfirmation=i,n.principalService=s,n.telemetryService=a,n.moreCols=["action-column-1","action-column-2"],n.telemetryProperties={isSaved:!1,isDiscarded:!1,firstNameModified:!1,lastNameModified:!1,emailModified:!1,isDeleted:!1},n.featureTelemetryTracker=n.telemetryService.getTracker(c.ScreenName.ForgottenUsers),n.dialogModel={title:n.resources.ForgottenUsersDeleteConfirmationMessageTitle,message:n.resources.ForgottenUsersDeleteConfirmationMessage,confirmButtonLabel:n.resources.Remove,cancelButtonLabel:n.resources.Cancel},n}t.ForgottenPrincipalItemController=i},"./app/components/Administrator/ForgottenUsers/ForgottenUsers.html":function(e,t){e.exports='<div class=forgotten-users-settings role=region aria-label={{::$ctrl.resources.AdminSettingsForgottenUsersTab}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsForgottenUsersTab}} </h1> <div class=info-container> <span> {{::$ctrl.resources.AdminSettingsForgottenUsersSubTitle}} </span> <a external-link href={{::$ctrl.resources.ForgottenUsersLearnMoreLink}} class="browse-link c-hyperlink" target=_blank> {{$ctrl.resources.ForgottenUsersLearnMore}} </a> </div> <forgotten-users-list screen-name=$ctrl.screenName additional-success-telemetry=$ctrl.loadForgottenUsersSuccessTelemetry() additional-failure-telemetry=$ctrl.loadForgottenUsersFailureTelemetry(err)></forgotten-users-list> </div>'},"./app/components/Administrator/ForgottenUsers/ForgottenUsers.less":function(e,t){},"./app/components/Administrator/ForgottenUsers/ForgottenUsers.ts":function(e,t,n){function r(){this.controller=i.ForgottenUsersController,this.template=n("./app/components/Administrator/ForgottenUsers/ForgottenUsers.html"),this.bindings={failureMessage:"=",successMessage:"="}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/ForgottenUsers/ForgottenUsers.less");var i=n("./app/components/Administrator/ForgottenUsers/ForgottenUsersController.ts"),o=n("./app/utility/appUtil.ts");t.ForgottenUsers=r,o.registerComponent("forgottenUsers",r,angular.module("jumper"))},"./app/components/Administrator/ForgottenUsers/ForgottenUsersController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/Administrator/AdminBaseViewModel.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=(n=n("./app/components/Administrator/AdminBaseController.ts"),i(c,o=s.AdminBaseViewModel),c.prototype.refresh=function(){return this.$q.resolve()},c.prototype.dirty=function(){return!1},c.prototype.save=function(){return this.$q.resolve()},c.prototype.revert=function(){return this.$q.resolve()},c);function c(e,t,n,r){return(t=o.call(this,e,null,null,null,n,t)||this).forgottenUsersController=r,t.original={me:null,people:null},t}t.ForgottenUsersViewModel=l;var d;i(u,d=n.AdminBaseController),u.prototype.loadForgottenUsersSuccessTelemetry=function(){this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsForgottenUsersEventName,null,null)},u.prototype.loadForgottenUsersFailureTelemetry=function(e){this.featureTelemetryTracker.fail(a.FeatureName.GetVideosForSpotlight,a.SubFeatureName.SpotlightService_GetTenantSpotlight,e)},Object.defineProperty(u.prototype,"screenName",{get:function(){return a.ScreenName.AdminSettings.toString()},enumerable:!0,configurable:!0}),u.$inject=["$scope","$q","resources","principalService","telemetryService"],i=u;function u(e,t,n,r,i){return(n=d.call(this,e,n)||this).$q=t,n.principalService=r,n.telemetryService=i,n.dataLoaded=!1,n.featureTelemetryTracker=n.telemetryService.getTracker(a.ScreenName.AdminSettings),n.viewModel=new l(n.$q,n.principalService,n.featureTelemetryTracker,n),n.onInit&&n.onInit({forgottenUsersController:n}),n}t.ForgottenUsersController=i},"./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersList.html":function(e,t){e.exports='<div class=forgotten-users-list> <div class="row row-size0"> <div class="search-filter-bar forgotten-search-filter" auto-margin-next=true> <search-and-filter> <search-bar class="forgotten-search-bar column large-6 medium-6 small-6" placeholder=$ctrl.resources.PrincipalNameOrEmailSearchPlaceholder label=$ctrl.resources.ForgottenUsersSearchLabel default-value=$ctrl.searchString on-search=$ctrl.searchPressed(value) events-list=$ctrl.listEvents.searchEvents> </search-bar> </search-and-filter> </div> </div> <div class="row column row-size1 items-list"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.People screen-name=$ctrl.screenName on-more-data-load=$ctrl.onMoreDataLoad(dataLoaded) on-data-change=$ctrl.onDataChange(changedData) on-init=$ctrl.onItemsListInit(itemsListController) full-page-list=false additional-success-telemetry=$ctrl.additionalSuccessTelemetry() additional-failure-telemetry=$ctrl.additionalFailureTelemetry(err)> <header ng-transclude=header> <forgotten-principal-item header-row=true> </forgotten-principal-item> </header> <item ng-transclude=item> <forgotten-principal-item on-principal-update=$ctrl.onPrincipalUpdate(principal) on-principal-delete=$ctrl.onPrincipalDelete(principal)> </forgotten-principal-item> </item> <no-data-message ng-transclude=noDataMessage class="no-data-message admin-no-data-message" ng-if=$ctrl.noDataMessage> <span>{{$ctrl.noDataMessage}}</span> </no-data-message> </items-list> </div> </div>'},"./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersList.less":function(e,t){},"./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersListController.ts");function o(){this.controller=i.ForgottenUsersListController,this.template=n("./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersList.html"),this.bindings={onInit:"&",noDataMessage:"<",screenName:"<",additionalSuccessTelemetry:"&",additionalFailureTelemetry:"&",me:"<"},this.transclude={noDataMessage:"?noDataMessage",item:"?item",header:"?header"}}n("./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersList.less"),t.ForgottenUsersList=o,r.registerComponent("forgottenUsersList",o,angular.module("jumper"))},"./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersListController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/ActivityIds.ts"),a=n("./app/utility/Constants.ts"),l=n("./app/components/ItemsList/ListBase/ListBase.ts"),c=n("./app/utility/appUtil.ts");i(d,o=l.ListBase),d.prototype.initBindings_ItemsList=function(){var e=this;this.itemsPerRow=4,this.resourceName=this.resources.ItemList.ResourceName.People,this.loadDataPage=function(t,n){return _.isEmpty(_.trim(e.searchString))||0!==t?e.$q.resolve({data:{value:[]}}):e.principalService.searchPrincipals(e.searchString||"",a.Constants.PrincipalsList.top,t,!1,[a.Constants.PrincipalType.User],!0).then((function(t){var n=e.noDataMessage=e.resources.ForgottenUsersNoDataErrorMessage;return e.noDataMessage!==n&&(e.noDataMessage=n),t}))}},d.prototype.initBindings_SearchAndFilter=function(){this.filterStickyClass="show-for-medium"},d.prototype.initBindings_NoDataMessage=function(){this.noDataMessage=""},d.prototype.searchPressed=function(e){this.searchString=e},d.prototype.onItemsListInit=function(e){this.itemsListController=e},d.prototype.refresh=function(){this.itemsListController&&this.itemsListController.loadData(a.Constants.ItemsListDefault.RowCount,a.Constants.ItemsListDefault.ItemsPerRow)},d.prototype.onMoreDataLoad=function(e){this.dataLoaded=e,this.changedData=e},d.prototype.onDataChange=function(e){this.changedData=e},d.prototype.onPrincipalUpdate=function(e){var t;this.changedData&&_.isArray(this.changedData)&&(t=_.findIndex(this.changedData,{id:e.id}),this.changedData.splice(t,1,e))},d.prototype.onPrincipalDelete=function(e){this.changedData&&_.isArray(this.changedData)&&(e=_.findIndex(this.changedData,{id:e.id}),this.changedData.splice(e,1))},d.prototype.prepareMessage=function(){this.changedData&&0!==this.changedData.length?(this.noDataMessage="",this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!1)):this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!0,c.alertScreenReader(this.resources.NoDeletedUser))},d.$inject=["$scope","resources","principalService","$q"],i=d;function d(e,t,n,r){var i=o.call(this,e)||this;return i.$scope=e,i.resources=t,i.principalService=n,i.$q=r,i.firstTimePageLoad=!0,i.onInit({forgottenUsersListController:i}),s.ActivityIds.initActivityId(i.screenName),i.$scope.$watch((function(){return i.dataLoaded}),(function(){return i.prepareMessage()})),i.$scope.$watch((function(){return i.changedData}),(function(){return i.prepareMessage()})),i.initBindings_ItemsList(),i.initBindings_SearchAndFilter(),i.initBindings_NoDataMessage(),i.$scope.$watch((function(){return i.searchString}),(function(e,t){i.firstTimePageLoad||(i.refreshData=!0),i.firstTimePageLoad=!1})),i}t.ForgottenUsersListController=i},"./app/components/Administrator/Groups/Groups.html":function(e,t){e.exports='<div class=groups-settings role=region aria-label={{$ctrl.adminSettingsGroupSectionName}}> <h1 class=c-heading-1>{{$ctrl.adminSettingsGroupSectionName}}</h1> <label class="info-container group-admin-section-subtitle"> <span>{{::$ctrl.adminSettingsGroupSectionDescription}}</span> <a external-link ng-href={{::$ctrl.o365Link}} target=_blank class="c-hyperlink group-admin-link o365-portal-admin-link">{{$ctrl.o365LinkText}}</a> <span>{{::$ctrl.resources.AdminSettingGroupAdminSubTitlePart2}}</span> <a external-link ng-href={{::$ctrl.azurePortalLink}} target=_blank class="c-hyperlink group-admin-link azure-portal-admin-link">{{::$ctrl.azurePortalLinkText}}</a>. </label> </div>'},"./app/components/Administrator/Groups/Groups.less":function(e,t){},"./app/components/Administrator/Groups/Groups.ts":function(e,t,n){function r(){this.controller=i.GroupsController,this.template=n("./app/components/Administrator/Groups/Groups.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/Groups/Groups.less");var i=n("./app/components/Administrator/Groups/GroupsController.ts"),o=n("./app/utility/appUtil.ts");t.Groups=r,o.registerComponent("groups",r,angular.module("jumper"))},"./app/components/Administrator/Groups/GroupsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/string.ts"),l=n("./app/utility/Constants.ts"),c=n("./app/components/Administrator/AdminBaseController.ts"),d=(n=n("./app/components/Administrator/AdminBaseViewModel.ts"),i(u,o=n.AdminBaseViewModel),u.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me)}))},u);function u(e,t,n){return(t=o.call(this,e,null,null,null,n,t)||this).original={me:null},t.refresh(),t}t.GroupsViewModel=d;var p;i(m,p=c.AdminBaseController),Object.defineProperty(m.prototype,"adminSettingsGroupSectionName",{get:function(){return a.formatString(this.resources.AdminSettingGroupAdminTitle,l.Constants.ProductName)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"adminSettingsGroupSectionDescription",{get:function(){var e=l.Constants.Microsoft365Name;return this.featureFlagsService.Values.HideM365GroupLabel&&(e=l.Constants.Office365Name),a.formatString(this.resources.AdminSettingGroupAdminSubTitlePart1,l.Constants.ProductName,e,l.Constants.ProductName,e,l.Constants.AADName,e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"o365LinkText",{get:function(){var e=l.Constants.Microsoft365Name;return this.featureFlagsService.Values.HideM365GroupLabel&&(e=l.Constants.Office365Name),a.formatString(this.resources.AdminSettingO365GroupLink,e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"azurePortalLinkText",{get:function(){return a.formatString(this.resources.AdminSettingAzurePortalLink,l.Constants.AzureName)},enumerable:!0,configurable:!0}),m.$inject=["$q","resources","principalService","telemetryService","featureFlagsService"],i=m;function m(e,t,n,r,i){return(t=p.call(this,null,t)||this).$q=e,t.principalService=n,t.telemetryService=r,t.featureFlagsService=i,t.azurePortalLink="https://portal.azure.com/#blade/Microsoft_AAD_IAM/UserManagementMenuBlade/All%20groups/menuId/",t.o365Link="https://portal.office.com/adminportal/home#/groups",t.featureTelemetryTracker=t.telemetryService.getTracker(s.ScreenName.AdminSettings),t.viewModel=new d(t.$q,t.principalService,t.featureTelemetryTracker),t.viewModel.refresh(),t}t.GroupsController=i},"./app/components/Administrator/GuestUserManagement/GuestUserManagement.html":function(e,t){e.exports='<div class=guest-user-settings role=region aria-label={{::$ctrl.resources.AdminSettingsRestrictExternalSharingTitle}}> <h1 class=c-heading-1>{{::$ctrl.resources.AdminSettingsRestrictExternalSharingTitle}}</h1> <label class=info-container id=toggle-restrict-guest>{{::$ctrl.resources.AdminSettingsRestrictExternalSharingSubTitle}}</label> <div class="toggle c-toggle ct-toggle-compact"> <toggle name=toggle-restrict-guest value=$ctrl.externalSharingEnabled on-toggle-click=$ctrl.onToggleExternalSharingClicked() /> </div> <div ng-show=$ctrl.externalSharingEnabled class=guest-user-no-restrict> {{::$ctrl.resources.AdminSettingsExternalSharingEnabledInfo}}</div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div>'},"./app/components/Administrator/GuestUserManagement/GuestUserManagement.less":function(e,t){},"./app/components/Administrator/GuestUserManagement/GuestUserManagement.ts":function(e,t,n){function r(){this.controller=i.GuestUserManagementController,this.template=n("./app/components/Administrator/GuestUserManagement/GuestUserManagement.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/GuestUserManagement/GuestUserManagement.less");var i=n("./app/components/Administrator/GuestUserManagement/GuestUserManagementController.ts"),o=n("./app/utility/appUtil.ts");t.GuestUserManagement=r,o.registerComponent("guestUserManagement",r,angular.module("jumper"))},"./app/components/Administrator/GuestUserManagement/GuestUserManagementController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Administrator/AdminBaseController.ts"),l=n("./app/components/Administrator/AdminBaseViewModel.ts"),c=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),d=(i(u,o=l.AdminBaseViewModel),u.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.principal=t,e.initialAdminViewModel.me=angular.copy(e.principal),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(s.FeatureName.GetAdminSettings),e.tenantSettings=t,e.initialAdminViewModel.tenantSettings=angular.copy(t)}))}))},u.prototype.dirty=function(){return this.initialAdminViewModel&&this.initialAdminViewModel.tenantSettings&&!_.isEqual(this.tenantSettings,this.initialAdminViewModel.tenantSettings)},u.prototype.save=function(){var e=this;return this.principal.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.initialAdminViewModel.tenantSettings).then((function(t){return e.tenantSettings=t,e.initialAdminViewModel.tenantSettings=angular.copy(t),e.telemetryTracker.succeed(s.FeatureName.UpdateAdminExternalSharingSettings),e.$q.resolve()}),(function(t){return e.telemetryTracker.fail(s.FeatureName.UpdateAdminExternalSharingSettings,s.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},u.prototype.revert=function(){this.tenantSettings=angular.copy(this.initialAdminViewModel.tenantSettings)},u);function u(e,t,n,r,i,s){return(t=o.call(this,e,n,r,i,s,t)||this).initialAdminViewModel={me:null,tenantSettings:null},t.refresh(),t}t.GuestUserManagementViewModel=d;var p;i(m,p=a.AdminBaseController),m.prototype.onToggleExternalSharingClicked=function(){this.viewModel.tenantSettings.system.contentManagement.enableGuestUserAccess=!this.viewModel.tenantSettings.system.contentManagement.enableGuestUserAccess},Object.defineProperty(m.prototype,"externalSharingEnabled",{get:function(){return this.viewModel.tenantSettings&&this.viewModel.tenantSettings.system&&this.viewModel.tenantSettings.system.contentManagement&&this.viewModel.tenantSettings.system.contentManagement.enableGuestUserAccess},enumerable:!0,configurable:!0}),m.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsExternalSharingEventName,null,null)},m.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService"],i=m;function m(e,t,n,r,i,o,a,l){var u=p.call(this,e,n)||this;return u.$q=t,u.principalService=r,u.roleService=i,u.roleAssignmentService=o,u.tenantService=a,u.telemetryService=l,u.featureTelemetryTracker=u.telemetryService.getTracker(s.ScreenName.AdminSettings),u.viewModel=new d(u.$q,u.principalService,u.roleService,u.roleAssignmentService,u.tenantService,u.featureTelemetryTracker),u.saveDiscardActions=new c.SaveDiscardActions(u.saveChanges.bind(u,(function(){return u.sendTelemetry()})),u.discardChanges.bind(u),!0,!0),u.onInit&&u.onInit({guestAccessManagementController:u}),u.viewModel.refresh(),u}t.GuestUserManagementController=i},"./app/components/Administrator/LiveEvents/LiveEvents.html":function(e,t){e.exports='<div class=live-event-settings role=region aria-label={{::$ctrl.resources.AdminSettingsLiveEventsTitle}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsLiveEventsTitle}} </h1> <div class="tab-navigation-bar topbar-configuration"> <div class="navigation-bar row"> <tab-navigation model=$ctrl.tabOptions value=$ctrl.selectedTabOption on-select=$ctrl.tabSelected(value)></tab-navigation> </div> <div class=live-events-divider> <hr class=c-divider> </div> <section class="section-size3 page-section" aria-label={{$ctrl.selectedTabText}}> <div class="row row-size1" ng-if=$ctrl.settingsSelected> <div> <label class=info-container id=toggle-enable-live-events>{{::$ctrl.resources.AdminSettingsEnableLiveEventsToggleLabel}}</label> <toggle name=toggle-enable-live-events value=$ctrl.liveEventCreationRestricted on-toggle-click=$ctrl.onToggleLiveEventRestrictionClicked() /> </div> <div ng-if=!$ctrl.liveEventCreationRestricted class=upload-no-restrict> {{::$ctrl.resources.AdminSettingsNoCreateLiveEventsRestrictionInfo}} </div> <div ng-show=$ctrl.liveEventCreationRestricted> <div class=principal-searchbox> <span class=c-label ng-if=!$ctrl.searchLiveEventCreatorDisabled> {{::$ctrl.resources.AdminSettingsAddUploaderLabel}} </span> <auto-complete search-min-input=3 search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedLiveEventCreator hide-label=true custom-disabled=$ctrl.searchLiveEventCreatorDisabled> </auto-complete> </div> <div class=principal-list ng-if="$ctrl.viewModel.liveEventCreatorList && $ctrl.viewModel.liveEventCreatorList.length"> <span class=c-label> {{::$ctrl.resources.AdminSettingsCurrentUnrestrictedUsers}} </span> <div class=principal-list-inner> <principal-group-compact principals=$ctrl.viewModel.liveEventCreatorList principals-removed=$ctrl.onLiveEventCreatorRemoved($principal)> </principal-group-compact> </div> </div> </div> <div class=availability-radio-header ng-if=$ctrl.isVODLessEnabled> <div class=info-header> {{::$ctrl.resources.VideoAvailabilitySettingsHeader}} </div> <div class=info-subheader> {{::$ctrl.resources.VideoAvailabilitySettingsDescription}} </div> <radio-button-group model=$ctrl.viewModel.tenantSettings.system.contentManagement.videoAvailabilityDefault button-models=$ctrl.radioButtonModels group-name={{$ctrl.radioButtonGroupName}} aria-described-by-radio-button=$ctrl.groupRadioButtonLabel /> <div class=info-subheader> {{::$ctrl.resources.VideoAvailabilityRestrictedHeader}} </div> <span class="c-checkbox ct-checkbox"> <label class="c-label ct-label-compact"> <input type=checkbox ng-model=$ctrl.viewModel.tenantSettings.system.contentManagement.isVideoAvailabilityRestrictedToDefault aria-label={{::$ctrl.resources.VideoAvailabilityRestrictedLabel}}> <span aria-hidden=true>{{::$ctrl.resources.VideoAvailabilityRestrictedLabel}}</span> </label> </span> </div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div> <div class="row row-size1" ng-if=$ctrl.liveNowSelected> <live-event-list load-data="$ctrl.loadLiveEvents(skip, top)" on-init=$ctrl.onLiveEventListInit(liveEventsController) screen-name=$ctrl.screenName additional-success-telemetry=$ctrl.loadVideosDataSuccessTelemetry() additional-failure-telemetry=$ctrl.loadVideosDataFailureTelemetry(err) me=$ctrl.me video-source=$ctrl.videoSource></live-event-list> </div> <div class="row row-size1" ng-if=$ctrl.upcomingSelected> <live-event-list load-data="$ctrl.loadCreatedLiveEventsByStartTime(skip, top)" on-init=$ctrl.onLiveEventListInit(liveEventsController) screen-name=$ctrl.screenName additional-success-telemetry=$ctrl.loadVideosDataSuccessTelemetry() additional-failure-telemetry=$ctrl.loadVideosDataFailureTelemetry(err) me=$ctrl.me video-source=$ctrl.videoSource></live-event-list> </div> </section> </div> </div>'},"./app/components/Administrator/LiveEvents/LiveEvents.less":function(e,t){},"./app/components/Administrator/LiveEvents/LiveEvents.ts":function(e,t,n){function r(){this.controller=i.LiveEventsController,this.template=n("./app/components/Administrator/LiveEvents/LiveEvents.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/LiveEvents/LiveEvents.less");var i=n("./app/components/Administrator/LiveEvents/LiveEventsController.ts"),o=n("./app/utility/appUtil.ts");t.LiveEvents=r,o.registerComponent("liveEvents",r,angular.module("jumper"))},"./app/components/Administrator/LiveEvents/LiveEventsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/appUtil.ts"),c=n("./app/utility/string.ts"),d=n("./app/components/Administrator/AdminBaseController.ts"),u=n("./app/components/Administrator/AdminBaseViewModel.ts"),p=n("./common/Directives/SaveDiscard/SaveDiscard.ts");(n=o=t.TypeFilter||(t.TypeFilter={}))[n.Settings=0]="Settings",n[n.LiveNow=1]="LiveNow",n[n.Upcoming=2]="Upcoming";var m,h=(i(g,m=u.AdminBaseViewModel),g.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.tenantService.getSettings(!0).then((function(t){t&&t.data&&(e.tenantSettings=t.data,e.original.tenantSettings=angular.copy(e.tenantSettings)),e.getLiveEventPrincipals().then((function(t){e.telemetryTracker.succeed(a.FeatureName.UpdateAdminLiveEventsSettings),e.liveEventCreatorList=angular.copy(t.liveEventCreators),e.liveEventCreationRestricted=angular.copy(t.liveEventCreationRestricted),e.original.liveEventCreatorList=t.liveEventCreators,e.original.liveEventCreationRestricted=t.liveEventCreationRestricted}))}))}))},g.prototype.dirty=function(){return this.original&&this.original.liveEventCreatorList&&(!_.isEqual(this.liveEventCreatorList,this.original.liveEventCreatorList)||!_.isEqual(this.liveEventCreationRestricted,this.original.liveEventCreationRestricted)||!_.isEqual(this.tenantSettings.system.contentManagement.videoAvailabilityDefault,this.original.tenantSettings.system.contentManagement.videoAvailabilityDefault)||!_.isEqual(this.tenantSettings.system.contentManagement.isVideoAvailabilityRestrictedToDefault,this.original.tenantSettings.system.contentManagement.isVideoAvailabilityRestrictedToDefault))},g.prototype.save=function(){var e=this;return this.getMyInfo().then((function(t){return t.permissions.canManageStream?(t=[],e.dirty()&&(t.push(e.saveLiveEventCreators()),t.push(e.saveVideoAvailability())),e.$q.all(t).then((function(){return e.$q.resolve()}),(function(t){return e.$q.reject(t)}))):e.$q.resolve()}))},g.prototype.saveVideoAvailability=function(){var e=this;return this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(){e.$q.resolve(),e.telemetryTracker.succeed(a.FeatureName.UpdateAdminLiveEventsSettings)}),(function(t){e.telemetryTracker.fail(a.FeatureName.UpdateAdminLiveEventsSettings,a.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)}))},g.prototype.saveLiveEventCreators=function(){var e=this;return this.liveEventCreationRestricted||(this.liveEventCreatorList=this.original.liveEventCreatorList),this.roleService.getLiveEventCreatorRoleId().then((function(t){return e.roleAssignmentService.setGlobalAssignments(t,e.liveEventCreatorList,e.liveEventCreationRestricted).then((function(){return e.telemetryTracker.succeed(a.FeatureName.UpdateAdminLiveEventsSettings),e.$q.resolve()}),(function(n){return e.telemetryTracker.setResourceId(t),e.telemetryTracker.fail(a.FeatureName.UpdateAdminLiveEventsSettings,a.SubFeatureName.RoleAssignmentService_SetGlobalAssignment,n),e.telemetryTracker.setResourceId(null),e.$q.reject(n)}))}),(function(t){return e.telemetryTracker.fail(a.FeatureName.UpdateAdminLiveEventsSettings,a.SubFeatureName.RoleService_GetGlobalRoleId,t),e.$q.reject(t)}))},g.prototype.revert=function(){this.me=angular.copy(this.original.me),this.liveEventCreatorList=angular.copy(this.original.liveEventCreatorList),this.liveEventCreationRestricted=this.original.liveEventCreationRestricted,this.tenantSettings.system.contentManagement.videoAvailabilityDefault=this.original.tenantSettings.system.contentManagement.videoAvailabilityDefault,this.tenantSettings.system.contentManagement.isVideoAvailabilityRestrictedToDefault=this.original.tenantSettings.system.contentManagement.isVideoAvailabilityRestrictedToDefault},g);function g(e,t,n,r,i,o){return(t=m.call(this,e,n,r,i,o,t)||this).tenantSettings={system:{alerts:null,contentManagement:{companyUploadPolicy:null,isVideoAvailabilityRestrictedToDefault:!1,videoAvailabilityDefault:s.Constants.VideoAvailability.availableToViewersWithPermission}}},t.original={me:null,tenantSettings:angular.copy(t.tenantSettings)},t}t.LiveEventsViewModel=h;var f;i(v,f=d.AdminBaseController),v.prototype.onToggleLiveEventRestrictionClicked=function(){this.viewModel.liveEventCreationRestricted=!this.viewModel.liveEventCreationRestricted},Object.defineProperty(v.prototype,"liveEventCreationRestricted",{get:function(){return this.viewModel.liveEventCreationRestricted},enumerable:!0,configurable:!0}),v.prototype.onToggleSaveButton=function(){this.saveDiscardActions.isSaveDisabled=!1,this.saveDiscardActions.isDiscardDisabled=!1},v.prototype.onLiveEventCreatorRemoved=function(e){l.alertScreenReader(c.formatString(this.resources.Principal.Delete.AccessibilityMessage,e.name)+" "+this.resources.Accessibility.ApplyReminder),this.checkSearchLiveEventCreatorDisabled(),this.telemetryMetrics.numLiveEventsCreatorsRemoved+=1},Object.defineProperty(v.prototype,"settingsSelected",{get:function(){return this.selectedTabOption===o.Settings},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"liveNowSelected",{get:function(){return this.selectedTabOption===o.LiveNow},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"upcomingSelected",{get:function(){return this.selectedTabOption===o.Upcoming},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isVODLessEnabled",{get:function(){return this.featureFlagsService.Values.LiveEventOptions},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"selectedTabText",{get:function(){return this.settingsSelected?this.resources.AdminSettingsLiveEventsSettingsTab:this.liveNowSelected?this.resources.AdminSettingsLiveEventsStreamingLiveNowTab:this.upcomingSelected?this.resources.AdminSettingsLiveEventsStreamingUpcomingTab:""},enumerable:!0,configurable:!0}),v.prototype.loadLiveEvents=function(e,t){return this.videoService.getLiveEvents(s.Constants.VideoSortOptions.StartDate,s.Constants.SortDirection.Ascending,e,t,!0,!0)},v.prototype.loadCreatedLiveEventsByStartTime=function(e,t){return this.videoService.getCreatedLiveEventsByStartTime(s.Constants.VideoSortOptions.StartDate,s.Constants.SortDirection.Ascending,e,t,!0,!0)},v.prototype.onLiveEventListInit=function(e){this.liveEventListController=e},v.prototype.loadVideosDataSuccessTelemetry=function(){this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsLiveEventEventName,null,null)},v.prototype.loadVideosDataFailureTelemetry=function(e){this.featureTelemetryTracker.fail(a.FeatureName.GetVideosForLiveEvent,a.SubFeatureName.LiveEventService_GetTenantLiveEvent,e)},v.prototype.sendTelemetry=function(){this.telemetryMetrics.totalNumLiveEventsCreators=this.viewModel.liveEventCreatorList?this.viewModel.liveEventCreatorList.length:0,this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsLiveEventEventName,null,this.telemetryMetrics),this.telemetryMetrics.numLiveEventsCreatorsAdded=0,this.telemetryMetrics.numLiveEventsCreatorsRemoved=0},v.prototype.initTabOptions=function(){this.tabOptions={options:[{value:o.Settings,text:this.resources.AdminSettingsLiveEventsSettingsTab},{value:o.LiveNow,text:this.resources.AdminSettingsLiveEventsStreamingLiveNowTab},{value:o.Upcoming,text:this.resources.AdminSettingsLiveEventsStreamingUpcomingTab}]},this.selectedTabOption=o.Settings},v.prototype.checkSearchLiveEventCreatorDisabled=function(){var e=this.viewModel.liveEventCreatorList?this.viewModel.liveEventCreatorList.length:0;this.searchLiveEventCreatorDisabled=e>=s.Constants.MaxLengths.LiveEventCreatorAssignmentsLimit},v.prototype.setAvailabilityPermissions=function(){this.viewModel.tenantSettings.system.contentManagement.videoAvailabilityDefault=s.Constants.VideoAvailability.availableToViewersWithPermission},v.prototype.setAvailabilityToOwners=function(){this.viewModel.tenantSettings.system.contentManagement.videoAvailabilityDefault=s.Constants.VideoAvailability.availableToOwners},v.prototype.setAvailabilityNotRecorded=function(){this.viewModel.tenantSettings.system.contentManagement.videoAvailabilityDefault=s.Constants.VideoAvailability.notRecorded},v.prototype.initRadioButtons=function(){this.radioButtonModels.push({wrapperClassName:"private-group",innerClassName:"private-group-selector",value:s.Constants.VideoAvailability.availableToViewersWithPermission,label:this.resources.EndedLiveEventViewable,onClick:this.setAvailabilityPermissions.bind(this)}),this.radioButtonModels.push({wrapperClassName:"public-group",innerClassName:"public-group-selector",value:s.Constants.VideoAvailability.availableToOwners,label:this.resources.EndedLiveEventDownloadable,onClick:this.setAvailabilityToOwners.bind(this)}),this.radioButtonModels.push({wrapperClassName:"public-group",innerClassName:"public-group-selector",value:s.Constants.VideoAvailability.notRecorded,label:this.resources.EndedLiveEventNotRecorded,onClick:this.setAvailabilityNotRecorded.bind(this)}),this.radioButtonGroupName="videoAvailability"},v.$inject=["$scope","$element","$q","$timeout","resources","featureFlagsService","principalService","roleService","roleAssignmentService","tenantService","telemetryService","$window","videoService"],i=v;function v(e,t,n,r,i,o,d,u,m,g,v,y,b){var S=f.call(this,e,i)||this;return S.$element=t,S.$q=n,S.$timeout=r,S.featureFlagsService=o,S.principalService=d,S.roleService=u,S.roleAssignmentService=m,S.tenantService=g,S.telemetryService=v,S.$window=y,S.videoService=b,S.videoSource={},S.radioButtonModels=[],S.telemetryMetrics={numLiveEventsCreatorsAdded:0,numLiveEventsCreatorsRemoved:0,totalNumLiveEventsCreators:0},S.featureTelemetryTracker=S.telemetryService.getTracker(a.ScreenName.AdminSettings),S.viewModel=new h(S.$q,S.principalService,S.roleService,S.roleAssignmentService,S.tenantService,S.featureTelemetryTracker),S.principalSearch={search:function(e){var t=n.defer();return S.principalService.searchPrincipals(e,s.Constants.MaxLengths.PrincipleSearchOutput,0,!1,[s.Constants.PrincipalType.User,s.Constants.PrincipalType.SecurityGroup]).then((function(e){S.featureTelemetryTracker.succeed(a.FeatureName.SearchPrincipals),t.resolve(e.data.value)}),(function(e){S.featureTelemetryTracker.fail(a.FeatureName.SearchPrincipals,a.SubFeatureName.PrincipalService_SearchPrincipals,e),t.reject(e)})),t.promise}},e.$watch((function(){return S.lastSelectedLiveEventCreator}),(function(e,t){e&&S.viewModel&&(S.viewModel.liveEventCreatorList||(S.viewModel.liveEventCreatorList=[]),0===S.viewModel.liveEventCreatorList.filter((function(t,n,r){return t.id===e.id})).length&&(S.viewModel.liveEventCreatorList.push(e),l.alertScreenReader(c.formatString(S.resources.Principal.Add.AccessibilityMessage,e.name)+" "+S.resources.Accessibility.ApplyReminder),S.checkSearchLiveEventCreatorDisabled(),S.telemetryMetrics.numLiveEventsCreatorsAdded+=1))})),S.initTabOptions(),S.saveDiscardActions=new p.SaveDiscardActions(S.saveChanges.bind(S,(function(){return S.sendTelemetry()})),S.discardChanges.bind(S),!0,!0),S.onInit&&S.onInit({liveEventsController:S}),S.initRadioButtons(),S.viewModel.refresh(),S}t.LiveEventsController=i},"./app/components/Administrator/MigrationReports/MigrationReports.html":function(e,t){e.exports='<section class=migration-reports-settings aria-label={{::$ctrl.resources.AdminSettingsMigrationReportsTab}}> <div class=migration-report-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsMigrationReportTitle}} </h1> <div class=info-container> <label class="info-container migration-reports-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsMigrationReportDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutMigrationReport}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <a external-link ng-if=$ctrl.previewModeEnabled ng-href={{::$ctrl.migrationReportDownloadLink}} target=_blank class="c-hyperlink disabled-link"> {{::$ctrl.downloadReportLinkText}} </a> <a external-link ng-if=!$ctrl.previewModeEnabled ng-href={{::$ctrl.migrationReportDownloadLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{::$ctrl.downloadReportLinkText}} </a> <div class=migration-reports-divider> <hr class=c-divider> </div> </div> </div> <div class=migration-report-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsUnusedContentReportTitle}} </h1> <div class=info-container> <label class="info-container migration-reports-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsUnusedContentReportDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutUnusedContentLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <a external-link ng-if=$ctrl.previewModeEnabled ng-href={{::$ctrl.unusedContentReportDownloadLink}} target=_blank class="c-hyperlink disabled-link"> {{::$ctrl.downloadReportLinkText}} </a> <a external-link ng-if=!$ctrl.previewModeEnabled ng-href={{::$ctrl.unusedContentReportDownloadLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{::$ctrl.downloadReportLinkText}} </a> <div class=migration-reports-divider> <hr class=c-divider> </div> </div> </div> <div class=migration-report-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsOwnershipMatrixTitle}} </h1> <div class=info-container> <label class="info-container migration-reports-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsOwnershipMatrixDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutOwnershipMatrixLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <a external-link ng-if=$ctrl.previewModeEnabled ng-href={{::$ctrl.ownershipMatrixDownloadLink}} target=_blank class="c-hyperlink disabled-link"> {{::$ctrl.downloadReportLinkText}} </a> <a external-link ng-if=!$ctrl.previewModeEnabled ng-href={{::$ctrl.ownershipMatrixDownloadLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{::$ctrl.downloadReportLinkText}} </a> <div class=migration-reports-divider> <hr class=c-divider> </div> </div> </div> </section>'},"./app/components/Administrator/MigrationReports/MigrationReports.less":function(e,t){},"./app/components/Administrator/MigrationReports/MigrationReports.ts":function(e,t,n){function r(){this.controller=i.MigrationReportsController,this.template=n("./app/components/Administrator/MigrationReports/MigrationReports.html"),this.bindings={isAdminMode:"<",failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/MigrationReports/MigrationReports.less");var i=n("./app/components/Administrator/MigrationReports/MigrationReportsController.ts"),o=n("./app/utility/appUtil.ts");t.MigrationReports=r,o.registerComponent("migrationReports",r,angular.module("jumper"))},"./app/components/Administrator/MigrationReports/MigrationReportsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Administrator/AdminBaseController.ts"),l=n("./app/components/Administrator/AdminBaseViewModel.ts"),c=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),d=n("./app/utility/Constants.ts"),u=(i(p,o=l.AdminBaseViewModel),p.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(s.FeatureName.GetAdminSettings),e.tenantSettings=t,e.original.tenantSettings=angular.copy(t)}))}))},p.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings,this.original.tenantSettings)},p.prototype.save=function(){var e=this;return this.me.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(){e.$q.resolve(),e.telemetryTracker.succeed(s.FeatureName.UpdateAdminMigrationSettings)}),(function(t){e.telemetryTracker.fail(s.FeatureName.UpdateAdminMigrationSettings,s.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},p.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings)},p);function p(e,t,n,r,i,s,a){return(t=o.call(this,e,n,r,i,s,t)||this).$timeout=a,t.original={me:null,tenantSettings:null},t}t.MigrationReportsViewModel=u;var m;i(h,m=a.AdminBaseController),Object.defineProperty(h.prototype,"previewModeEnabled",{get:function(){return this.isPreviewMode},enumerable:!0,configurable:!0}),h.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsMigrationReportsEventName,null,null)},Object.defineProperty(h.prototype,"learnMoreLinkText",{get:function(){return this.resources.LearnMore},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"downloadReportLinkText",{get:function(){return this.resources.AdminSettingDownloadReport},enumerable:!0,configurable:!0}),h.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","$timeout"],i=h;function h(e,t,n,r,i,o,a,l,p){var h=m.call(this,e,n)||this;return h.$q=t,h.principalService=r,h.roleService=i,h.roleAssignmentService=o,h.tenantService=a,h.telemetryService=l,h.$timeout=p,h.screenName=s.ScreenName.AdminSettingsMigrationReports,h.isPreviewMode=!0,h.learnMoreAboutMigrationReport=d.Constants.Migration.learnMoreAboutMigrationReport,h.learnMoreAboutUnusedContentLink=d.Constants.Migration.learnMoreAboutUnusedContentLink,h.learnMoreAboutOwnershipMatrixLink=d.Constants.Migration.learnMoreAboutOwnershipMatrixLink,h.migrationReportDownloadLink=d.Constants.Migration.migrationReportDownloadLink,h.unusedContentReportDownloadLink=d.Constants.Migration.unusedContentReportDownloadLink,h.ownershipMatrixDownloadLink=d.Constants.Migration.ownershipMatrixDownloadLink,h.featureTelemetryTracker=h.telemetryService.getTracker(h.screenName),h.viewModel=new u(h.$q,h.principalService,h.roleService,h.roleAssignmentService,h.tenantService,h.featureTelemetryTracker,h.$timeout),h.saveDiscardActions=new c.SaveDiscardActions(h.saveChanges.bind(h,(function(){return h.sendTelemetry()})),h.discardChanges.bind(h),!0,!0),h.onInit&&h.onInit({migrationReportsController:h}),h.viewModel.refresh(),h}t.MigrationReportsController=i},"./app/components/Administrator/MigrationSettings/MigrationSettings.html":function(e,t){e.exports='<section class=migration-settings aria-label={{::$ctrl.resources.AdminSettingsMigrationSettingsTab}}> <header> <div class=migration-toggle-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsMigratingOldContentTitle}} </h1> <div class=info-container> <label class="info-container migration-settings-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsMigratingOldContentDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutMigratingOldContentLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <toggle name=migration-from-a-date-toggle id=toggle1 value=$ctrl.migratingFromADateEnabled on-toggle-click=$ctrl.onToggleMigrationFromADateClicked() auto-play-custom-on-label-text=$ctrl.oldContentDateToggleOn auto-play-custom-off-label-text=$ctrl.oldContentDateToggleOff disabled=$ctrl.previewModeEnabled aria-label={{::$ctrl.resources.AdminSettingsMigratingOldContentTitle}} /> <br> <label class="info-container migration-settings-section-subtitle small-text" ng-if=!$ctrl.previewModeEnabled> <span>{{::$ctrl.resources.AdminSettingsChoosingDateForOldContentDateLabel}}</span> </label> <label class="info-container migration-settings-section-subtitle disabled-section" ng-if=$ctrl.previewModeEnabled> <span>{{::$ctrl.resources.AdminSettingsChoosingDateForOldContentDateLabel}}</span> </label> <input type=date class=date-picker name=pickdate min=1921-01-01 max=2021-01-01 value="" ng-disabled=!$ctrl.migratingFromADateEnabled /> <div class=migration-settings-divider> <hr class=c-divider> </div> </div> </div> </header> <div class=migration-toggle-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsCustomMessagebarClassicStreamTitle}} </h1> <div class=info-container> <label class="info-container migration-settings-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsCustomMessagebarClassicStreamDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutMessagebarInClassicStreamLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <toggle name=messagebar-in-classic-stream-toggle id=toggle2 value=$ctrl.messagebarInClassicStreamEnabled on-toggle-click=$ctrl.onToggleMessagebarInClassicStreamClicked() auto-play-custom-on-label-text=$ctrl.messagebarClassicStreamToggleOn auto-play-custom-off-label-text=$ctrl.messagebarClassicStreamToggleOff disabled=$ctrl.previewModeEnabled aria-label={{::$ctrl.resources.AdminSettingsCustomMessagebarClassicStreamTitle}} /> <br> <label class="info-container user-migration-section-subtitle" ng-if=!$ctrl.messagebarInClassicStreamEnabled> <span class=disabled-section>{{::$ctrl.resources.AdminSettingsCustomMessagebarText}}</span> </label> <label class="info-container user-migration-section-subtitle" ng-if=$ctrl.messagebarInClassicStreamEnabled> <span class=small-text>{{::$ctrl.resources.AdminSettingsCustomMessagebarText}}</span> </label> <input class=input-messagebar type=text size=80 ng-disabled=!$ctrl.messagebarInClassicStreamEnabled placeholder="Input text"> <div class=migration-settings-divider> <hr class=c-divider> </div> </div> </div> <div class=migration-toggle-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsCustomMessagebarNewStreamTitle}} </h1> <div class=info-container> <label class="info-container migration-settings-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsCustomMessagebarNewStreamDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutMessagebarInNewStreamLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <toggle name=messagebar-in-new-stream-toggle id=toggle3 value=$ctrl.messagebarInNewStreamEnabled on-toggle-click=$ctrl.onToggleMessagebarInNewStreamClicked() auto-play-custom-on-label-text=$ctrl.messagebarNewStreamToggleOn auto-play-custom-off-label-text=$ctrl.messagebarNewStreamToggleOff disabled=$ctrl.previewModeEnabled aria-label={{::$ctrl.resources.AdminSettingsCustomMessagebarNewStreamTitle}} /> <br> <label class="info-container user-migration-section-subtitle" ng-if=!$ctrl.messagebarInNewStreamEnabled> <span class=disabled-section>{{::$ctrl.resources.AdminSettingsCustomMessagebarText}}</span> </label> <label class="info-container user-migration-section-subtitle" ng-if=$ctrl.messagebarInNewStreamEnabled> <span class=small-text>{{::$ctrl.resources.AdminSettingsCustomMessagebarText}}</span> </label> <input class=input-messagebar type=text size=80 ng-disabled=!$ctrl.messagebarInNewStreamEnabled placeholder="Input text"> <div class=migration-settings-divider> <hr class=c-divider> </div> </div> </div> <div class=migration-toggle-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsNewStreamDefaultHomeTitle}} </h1> <div class=info-container> <label class="info-container migration-settings-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsNewStreamDefaultHomeDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutDefaultHomeSettingsLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link"> {{$ctrl.learnMoreLinkText}} </a> </label> <br> <toggle name=default-home-setting-toggle id=toggle4 value=$ctrl.defaultHomeSettingEnabled on-toggle-click=$ctrl.onToggleDefaultHomeSettingClicked() auto-play-custom-on-label-text=$ctrl.newStreamDefaultHomeToggleOn auto-play-custom-off-label-text=$ctrl.newStreamDefaultHomeToggleOff disabled=$ctrl.previewModeEnabled aria-label={{::$ctrl.resources.AdminSettingsNewStreamDefaultHomeTitle}} /> <div class=migration-settings-divider> <hr class=c-divider> </div> </div> </div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </section>'},"./app/components/Administrator/MigrationSettings/MigrationSettings.less":function(e,t){},"./app/components/Administrator/MigrationSettings/MigrationSettings.ts":function(e,t,n){function r(){this.controller=i.MigrationSettingsController,this.template=n("./app/components/Administrator/MigrationSettings/MigrationSettings.html"),this.bindings={isAdminMode:"<",failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/MigrationSettings/MigrationSettings.less");var i=n("./app/components/Administrator/MigrationSettings/MigrationSettingsController.ts"),o=n("./app/utility/appUtil.ts");t.MigrationSettings=r,o.registerComponent("migrationSettings",r,angular.module("jumper"))},"./app/components/Administrator/MigrationSettings/MigrationSettingsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Administrator/AdminBaseController.ts"),l=n("./app/components/Administrator/AdminBaseViewModel.ts"),c=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),d=n("./app/utility/Constants.ts"),u=(i(p,o=l.AdminBaseViewModel),p.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(s.FeatureName.GetAdminSettings),e.tenantSettings=t,e.original.tenantSettings=angular.copy(t)}))}))},p.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings,this.original.tenantSettings)},p.prototype.save=function(){var e=this;return this.me.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(){e.$q.resolve(),e.telemetryTracker.succeed(s.FeatureName.UpdateAdminMigrationSettings)}),(function(t){e.telemetryTracker.fail(s.FeatureName.UpdateAdminMigrationSettings,s.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},p.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings)},p);function p(e,t,n,r,i,s,a){return(t=o.call(this,e,n,r,i,s,t)||this).$timeout=a,t.original={me:null,tenantSettings:null},t}t.MigrationSettingsViewModel=u;var m;i(h,m=a.AdminBaseController),Object.defineProperty(h.prototype,"previewModeEnabled",{get:function(){return this.isPreviewMode},enumerable:!0,configurable:!0}),h.prototype.onToggleMigrationFromADateClicked=function(){this.migrationFromADateEnabled=!this.migrationFromADateEnabled},Object.defineProperty(h.prototype,"migratingFromADateEnabled",{get:function(){return this.migrationFromADateEnabled},enumerable:!0,configurable:!0}),h.prototype.onToggleMessagebarInClassicStreamClicked=function(){this.messagebarInClassicStreamIsEnabled=!this.messagebarInClassicStreamIsEnabled},Object.defineProperty(h.prototype,"messagebarInClassicStreamEnabled",{get:function(){return this.messagebarInClassicStreamIsEnabled},enumerable:!0,configurable:!0}),h.prototype.onToggleMessagebarInNewStreamClicked=function(){this.messagebarInNewStreamIsEnabled=!this.messagebarInNewStreamIsEnabled},Object.defineProperty(h.prototype,"messagebarInNewStreamEnabled",{get:function(){return this.messagebarInNewStreamIsEnabled},enumerable:!0,configurable:!0}),h.prototype.onToggleDefaultHomeSettingClicked=function(){this.defaultHomeSettingIsEnabled=!this.defaultHomeSettingIsEnabled},Object.defineProperty(h.prototype,"defaultHomeSettingEnabled",{get:function(){return this.defaultHomeSettingIsEnabled},enumerable:!0,configurable:!0}),h.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsMigrationSettingsEventName,null,null)},Object.defineProperty(h.prototype,"learnMoreLinkText",{get:function(){return this.resources.LearnMore},enumerable:!0,configurable:!0}),h.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","$timeout"],i=h;function h(e,t,n,r,i,o,a,l,p){var h=m.call(this,e,n)||this;return h.$q=t,h.principalService=r,h.roleService=i,h.roleAssignmentService=o,h.tenantService=a,h.telemetryService=l,h.$timeout=p,h.screenName=s.ScreenName.AdminSettingsMigrationSettings,h.isPreviewMode=!0,h.migrationFromADateEnabled=!1,h.messagebarInClassicStreamIsEnabled=!1,h.messagebarInNewStreamIsEnabled=!1,h.defaultHomeSettingIsEnabled=!1,h.learnMoreAboutMigratingOldContentLink=d.Constants.Migration.learnMoreAboutMigratingOldContentLink,h.learnMoreAboutMessagebarInClassicStreamLink=d.Constants.Migration.learnMoreAboutMessagebarInClassicStreamLink,h.learnMoreAboutMessagebarInNewStreamLink=d.Constants.Migration.learnMoreAboutMessagebarInNewStreamLink,h.learnMoreAboutDefaultHomeSettingsLink=d.Constants.Migration.learnMoreAboutDefaultHomeSettingsLink,h.featureTelemetryTracker=h.telemetryService.getTracker(h.screenName),h.oldContentDateToggleOn=h.resources.AdminSettingsOldContentDateToggleOn,h.oldContentDateToggleOff=h.resources.AdminSettingsOldContentDateToggleOff,h.messagebarClassicStreamToggleOn=h.resources.AdminSettingsStreamMessagebarClassicStreamToggleOn,h.messagebarClassicStreamToggleOff=h.resources.AdminSettingsStreamMessagebarClassicStreamToggleOff,h.messagebarNewStreamToggleOn=h.resources.AdminSettingsStreamMessagebarNewStreamToggleOn,h.messagebarNewStreamToggleOff=h.resources.AdminSettingsStreamMessagebarNewStreamToggleOff,h.newStreamDefaultHomeToggleOn=h.resources.AdminSettingsNewStreamDefaultHomeToggleOn,h.newStreamDefaultHomeToggleOff=h.resources.AdminSettingsNewStreamDefaultHomeToggleOff,h.viewModel=new u(h.$q,h.principalService,h.roleService,h.roleAssignmentService,h.tenantService,h.featureTelemetryTracker,h.$timeout),h.saveDiscardActions=new c.SaveDiscardActions(h.saveChanges.bind(h,(function(){return h.sendTelemetry()})),h.discardChanges.bind(h),!0,!0),h.onInit&&h.onInit({migrationSettingsController:h}),h.viewModel.refresh(),h}t.MigrationSettingsController=i},"./app/components/Administrator/NetworkCaching/NetworkCaching.html":function(e,t){e.exports='<section class=network-caching-settings aria-label={{::$ctrl.resources.AdminSettingsNetworkCachingPageTitle}}> <header> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsNetworkCachingTitle}} </h1> <div class=info-container> <p class=line-one> {{::$ctrl.resources.AdminSettingsNetworkCachingDescriptionLine1}} </p> <p class=line-two> <span> <a external-link href="https://go.microsoft.com/fwlink/?linkid=2004490" class=c-hyperlink target=_blank>{{::$ctrl.resources.AdminSettingsNetworkCachingDescriptionLine2}}</a> </span> <span> <a external-link href="https://go.microsoft.com/fwlink/?linkid=2004491" class=c-hyperlink target=_blank>{{::$ctrl.resources.LearnMore}}</a> </span> </p> </div> </header> <p> {{$ctrl.streamTenantIdText}} </p> <div class=sdn-toggle-container> <label class=info-container id=sdn-toggle>{{::$ctrl.resources.AdminSettingsNetworkCachingToggleHeading}}</label> <toggle name=sdn-toggle value=$ctrl.sdnEnabled on-toggle-click=$ctrl.onToggleSdnClicked() aria-label={{::$ctrl.resources.AdminSettingsNetworkCachingToggleHeading}} /> </div> <div class=sdn-settings-container ng-if=$ctrl.sdnEnabled> <div class="sdn-provider-dropdown-container sdn-setting-option"> <label class=sdn-proprty-label id=sdn-caching-provider>{{::$ctrl.resources.AdminSettingsNetworkCachingOptionsLabel}}</label> <drop-down name=sdn-caching-provider options=$ctrl.sdnDropDownOptions value=$ctrl.sdnProvider value-changed=$ctrl.sdnProviderChanged(newValue) aria-label={{::$ctrl.resources.AdminSettingsNetworkCachingOptionsLabel}} class=sdn-provider placeholder-text=$ctrl.sdnDropDownPlaceHolder></drop-down> </div> <div class="sdn-license-id-container sdn-setting-option"> <label class=sdn-proprty-label id=sdn-caching-license>{{::$ctrl.resources.AdminSettingsNetworkCachingCustomerIdLabel}}</label> <input class=c-text-field type=text ng-class="{ \'error-border\': $ctrl.policyRequired && $ctrl.policyEmpty }" spellcheck=false name=sdn-caching-license-text ng-model=$ctrl.viewModel.tenantSettings.system.networkCaching.licenseId ng-model-options="{ debounce: 300 }" aria-labelledby=sdn-caching-license aria-label={{::$ctrl.resources.AdminSettingsNetworkCachingCustomerAriaLabel}} /> </div> <div class="sdn-analytics-url sdn-setting-option"> <label class=sdn-proprty-label id=sdn-network-report-url>{{::$ctrl.resources.AdminSettingsNetworkCachingReportUrlLabel}}</label> <input class=c-text-field type=text ng-class="{ \'error-border\': $ctrl.policyRequired && $ctrl.policyEmpty }" spellcheck=false name=sdn-network-report-url-text ng-model=$ctrl.viewModel.tenantSettings.system.networkCaching.providerVideoUrl ng-blur=$ctrl.validateURL() ng-focus=$ctrl.resetErrors() aria-labelledby=sdn-network-report-url aria-label={{::$ctrl.resources.AdminSettingsNetworkCachingReportUrlAriaLabel}} /> <custom-error-message ng-if=$ctrl.viewModel.invalidURL error-message=$ctrl.sdnErrorMessage></custom-error-message> </div> <div class="sdn-configuration sdn-setting-option"> <label class=sdn-proprty-label id=sdn-configuration-settings>{{::$ctrl.resources.AdminSettingsNetworkCachingConfigurationLabel}}</label> <textarea class=c-text-area name=sdn-configuration-settings-text ng-model=$ctrl.viewModel.tenantSettings.system.networkCaching.configuration aria-labelledby=sdn-configuration-settings aria-label={{::$ctrl.resources.AdminSettingsNetworkCachingConfigurationAriaLabel}} rows=4 /> </div> </div> <div class=bottom-buttons-container> <div class=save-discard-container> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div> <div class=verify-button-container> <button ng-click=$ctrl.verifySetUp() class=stream-btn ng-disabled=$ctrl.disableVerify ng-if=$ctrl.sdnEnabled>{{::$ctrl.resources.AdminSettingsNetworkCachingVerifySetup}}</button> </div> </div> </section>'},"./app/components/Administrator/NetworkCaching/NetworkCaching.less":function(e,t){},"./app/components/Administrator/NetworkCaching/NetworkCaching.ts":function(e,t,n){function r(){this.controller=i.NetworkCachingController,this.template=n("./app/components/Administrator/NetworkCaching/NetworkCaching.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/NetworkCaching/NetworkCaching.less");var i=n("./app/components/Administrator/NetworkCaching/NetworkCachingController.ts"),o=n("./app/utility/appUtil.ts");t.NetworkCaching=r,o.registerComponent("networkCaching",r,angular.module("jumper"))},"./app/components/Administrator/NetworkCaching/NetworkCachingController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/string.ts"),c=n("./app/components/Administrator/AdminBaseController.ts"),d=n("./app/components/Administrator/AdminBaseViewModel.ts"),u=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),p=n("./app/utility/string.ts"),m=(i(h,o=d.AdminBaseViewModel),h.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(a.FeatureName.GetAdminSettings),e.tenantSettings=t,e.original.tenantSettings=angular.copy(t),e.sdnActivated=!(!_.get(e.tenantSettings,"system.networkCaching.licenseId","")||!_.get(e.tenantSettings,"system.networkCaching.provider","")),e.original.sdnActivated=angular.copy(e.sdnActivated)}))}))},Object.defineProperty(h.prototype,"validateCustomerDetails",{get:function(){return!(!_.get(this.tenantSettings,"system.networkCaching.provider","")||!_.get(this.tenantSettings,"system.networkCaching.licenseId",""))||!(_.get(this.tenantSettings,"system.networkCaching.provider","")||_.get(this.tenantSettings,"system.networkCaching.licenseId","")||_.get(this.tenantSettings,"system.networkCaching.providerVideoUrl","")||_.get(this.tenantSettings,"system.networkCaching.configuration",""))},enumerable:!0,configurable:!0}),h.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings,this.original.tenantSettings)&&!this.invalidURL&&this.validateCustomerDetails},h.prototype.save=function(){var e=this;if(this.me.permissions.canManageStream){var t,n=angular.copy(this.tenantSettings);return this.tenantSettings.system.networkCaching.providerVideoUrl===this.original.tenantSettings.system.networkCaching.providerVideoUrl||(t=this.tenantSettings.system.networkCaching.providerVideoUrl)&&(n.system.networkCaching.providerVideoUrl=l.htmlEncode(t)),this.saveTenantSettings(n,this.original.tenantSettings).then((function(t){return e.tenantSettings=t,e.original.tenantSettings=angular.copy(t),e.telemetryTracker.succeed(a.FeatureName.UpdateAdminNetworkCachingSettings),e.$q.resolve()}),(function(t){e.telemetryTracker.fail(a.FeatureName.UpdateAdminNetworkCachingSettings,a.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)}))}return this.$q.resolve()},h.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings),this.sdnActivated=angular.copy(this.original.sdnActivated)},h);function h(e,t,n,r,i,s){return(t=o.call(this,e,n,r,i,s,t)||this).original={me:null,tenantSettings:null,sdnActivated:!1},t.sdnActivated=!1,t.invalidURL=!1,t}t.NetworkCachingViewModel=m;var g;i(f,g=c.AdminBaseController),f.prototype.validateURL=function(){var e=new RegExp(s.Constants.urlRegEx.source);this.viewModel.invalidURL=!1;var t=_.get(this.viewModel,"tenantSettings.system.networkCaching.providerVideoUrl",""),n=0<t.trim().length;e=n&&e.test(t);n&&!e?(this.sdnErrorMessage=this.resources.AdminSettingDetailInvalidUrlMessage,this.viewModel.invalidURL=!0):e&&-1===t.indexOf(s.Constants.sdnAnalyticsReplaceStrings.videoId)&&(this.sdnErrorMessage=this.resources.AdminSettingsNetworkCachingUrlErrorMessgage,this.viewModel.invalidURL=!0)},f.prototype.onToggleSdnClicked=function(){var e;this.viewModel.sdnActivated?(this.viewModel.sdnActivated=!1,this.viewModel.original.sdnActivated?(e=this.viewModel.tenantSettings.system.networkCaching.customerId,this.viewModel.tenantSettings.system.networkCaching={provider:null,customerId:e,licenseId:null,configuration:null,providerVideoUrl:null}):this.viewModel.tenantSettings=angular.copy(this.viewModel.original.tenantSettings)):this.viewModel.sdnActivated=!0},Object.defineProperty(f.prototype,"sdnEnabled",{get:function(){return this.viewModel.sdnActivated},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"sdnProvider",{get:function(){return _.get(this.viewModel,"tenantSettings.system.networkCaching.provider","")},enumerable:!0,configurable:!0}),f.prototype.sdnProviderChanged=function(e){this.viewModel.tenantSettings.system.networkCaching.provider=e},f.prototype.resetErrors=function(){this.viewModel.invalidURL=!1},f.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.adminSettingsNetworkCachingEventName,null,null)},Object.defineProperty(f.prototype,"sdnCustomerId",{get:function(){return _.get(this.viewModel,"tenantSettings.system.networkCaching.customerId","")},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"streamTenantIdText",{get:function(){return p.formatString(this.resources.AdminSettingsNetworkCachingStreamId,this.sdnCustomerId)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"disableVerify",{get:function(){return!_.get(this.viewModel,"original.sdnActivated",!1)||this.viewModel.dirty()},enumerable:!0,configurable:!0}),f.prototype.verifySetUp=function(){this.verifySdnSetup.open().closePromise.then((function(e){}))},f.$inject=["$scope","$element","$q","$timeout","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","$window","sdnUtilService","verifySdnSetup"],i=f;function f(e,t,n,r,i,o,s,l,c,d,p,h,f){var v=g.call(this,e,i)||this;v.$element=t,v.$q=n,v.$timeout=r,v.principalService=o,v.roleService=s,v.roleAssignmentService=l,v.tenantService=c,v.telemetryService=d,v.$window=p,v.sdnUtilService=h,v.verifySdnSetup=f,v.sdnErrorMessage="",v.sdnNamesList=[],v.sdnDropDownOptions=[],v.featureTelemetryTracker=v.telemetryService.getTracker(a.ScreenName.AdminSettings),v.sdnDropDownPlaceHolder=v.resources.AdminSettingsNetworkCachingDropdownPlaceholder,v.viewModel=new m(v.$q,v.principalService,v.roleService,v.roleAssignmentService,v.tenantService,v.featureTelemetryTracker),v.saveDiscardActions=new u.SaveDiscardActions(v.saveChanges.bind(v,(function(){return v.sendTelemetry()})),v.discardChanges.bind(v),!0,!0),v.onInit&&v.onInit({networkCachingController:v}),v.sdnNamesList=v.sdnUtilService.sdnNames;var y=v.sdnUtilService.sdnDisplayNames;return v.sdnDropDownOptions=_.map(v.sdnNamesList,(function(e){return{text:y[e],value:e}})),v.viewModel.refresh(),v.dropDownOptionSelect=v.sdnProvider,v}t.NetworkCachingController=i},"./app/components/Administrator/PersonalData/PersonalData.html":function(e,t){e.exports='<div class=personal-data-settings role=region aria-label={{::$ctrl.resources.AdminSettingsPersonalDataTitle}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsPersonalDataTitle}} </h1> <div class=info-container> {{::$ctrl.resources.AdminSettingsPersonalDataSubTitle}} </div> <div class=get-report> <div class=people-search-title id=AdminSettingsPersonalDataPeopleSearchTitleId> {{$ctrl.resources.AdminSettingsPersonalDataPeopleSearchTitle}} </div> <div class=people-search> <principal-group-search me=$ctrl.me label={{$ctrl.resources.Dialogs.GroupCreate.AddMembersLabel}} tooltip-text={{$ctrl.resources.Dialogs.GroupCreate.AddMembersTooltip}} search-type-list=$ctrl.searchTypeList principal-selected=$ctrl.selectPrincipal(principal) is-disabled=$ctrl.searchPrincipalDisabled hide-label=true , on-init=$ctrl.onprincipalGroupSearchController(principalGroupSearchControllerClear) on-search-changes=$ctrl.onSearchParamChanges() place-holder-text-override=$ctrl.resources.PrincipalNameOrEmailSearchPlaceholder clear-search=false label-id=AdminSettingsPersonalDataPeopleSearchTitleId></principal-group-search> <button class="stream-btn btn-primary get-report-button" type=button ng-click=$ctrl.getReport() ng-disabled=!$ctrl.isUserSelected> {{$ctrl.resources.AdminSettingsPersonalDataGetReportButton}} </button> </div> <custom-error-message ng-if=$ctrl.message error-message=$ctrl.failureMessage is-compact=true></custom-error-message> </div> <h2 class=list-title> {{::$ctrl.resources.AdminSettingsPersonalDataReportHistoryTitle}} </h2> <div class=list-sub-title> {{::$ctrl.resources.AdminSettingsPersonalDataReportHistorySubTitle}} </div> <personal-data-users-list load-data="$ctrl.loadData(skip, top)" screen-name=$ctrl.screenName additional-success-telemetry=$ctrl.loadPersonalDataSuccessTelemetry() additional-failure-telemetry=$ctrl.loadPersonalDataFailureTelemetry(err) on-init=$ctrl.onPersonalDataListInit(currentList)></personal-data-users-list> </div>'},"./app/components/Administrator/PersonalData/PersonalData.less":function(e,t){},"./app/components/Administrator/PersonalData/PersonalData.ts":function(e,t,n){function r(){this.controller=i.PersonalDataController,this.template=n("./app/components/Administrator/PersonalData/PersonalData.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/PersonalData/PersonalData.less");var i=n("./app/components/Administrator/PersonalData/PersonalDataController.ts"),o=n("./app/utility/appUtil.ts");t.PersonalData=r,o.registerComponent("personalData",r,angular.module("jumper"))},"./app/components/Administrator/PersonalData/PersonalDataController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/Administrator/AdminBaseViewModel.ts"),a=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts"),l=n("./app/models/TelemetryEventModels.ts"),c=n("./app/components/Administrator/AdminBaseController.ts"),d=n("./app/utility/appUtil.ts"),u=n("./app/utility/Constants.ts"),p=(i(m,o=s.AdminBaseViewModel),m.prototype.refresh=function(){return this.$q.resolve()},m.prototype.loadData=function(e,t){return this.tenantService.getExportedData(e,t)},m.prototype.dirty=function(){return!1},m.prototype.save=function(){return this.$q.resolve()},m.prototype.revert=function(){return this.$q.resolve()},m);function m(e,t,n,r,i){return(t=o.call(this,e,null,null,r,n,t)||this).PersonalDataController=i,t}t.PersonalDataViewModel=p;var h;i(g,h=c.AdminBaseController),g.prototype.loadData=function(e,t){return this.viewModel.loadData(t,e)},g.prototype.listInGrid=function(e){this.currentList=e},g.prototype.loadPersonalDataSuccessTelemetry=function(){this.featureTelemetryTracker.trackEvent(l.TelemetryEventNames.adminSettingsPersonalDataEventName,null,null)},g.prototype.onPersonalDataListInit=function(e){this.currentList=e},g.prototype.loadPersonalDataFailureTelemetry=function(e){this.featureTelemetryTracker.fail(l.FeatureName.GetUserExportData,l.SubFeatureName.TenantService_GetDataExport,e)},g.prototype.onSearchParamChanges=function(){this.selectedPrincipal=null},g.prototype.onprincipalGroupSearchController=function(e){this.principalGroupSearchControllerClear=e},g.prototype.selectPrincipal=function(e){this.selectedPrincipal=e,this.featureFlagsService.Values.DisableAutoSearchForGroups?this.inputBox=document.querySelector(".principal-group-search-field"):this.inputBox=document.querySelector(".principal-group-search-textbox"),this.inputBox.value=e.name,d.alertScreenReader(this.resources.AdminSettingsPersonalDataUserSelectedNotification)},Object.defineProperty(g.prototype,"isUserSelected",{get:function(){return null!==this.selectedPrincipal},enumerable:!0,configurable:!0}),g.prototype.getReport=function(){var e=this;this.principalService.exportData(this.selectedPrincipal).then((function(){var t=new Date;t.setDate(t.getDate()+u.Constants.UserExportData.expiryDays),t={principal:angular.copy(e.selectedPrincipal),expiredTime:t.toISOString(),requestedTime:(new Date).toISOString(),principalId:e.selectedPrincipal.id,state:u.Constants.UserExportData.creatingState},_.some(e.currentList)?(_.remove(e.currentList,{principalId:t.principalId}),e.currentList.unshift(t)):e.currentList=[t],e.featureTelemetryTracker.succeed(l.FeatureName.GeneratePersonalData,{principalId:e.selectedPrincipal.id})}),(function(t){e.failureMessage=d.errorMessage(t)||e.resources.AdminSettingsPersonalDataExportGeneralError,e.featureTelemetryTracker.fail(l.FeatureName.GeneratePersonalData,l.SubFeatureName.PrincipalService_exportData,t)})).finally((function(){e.principalGroupSearchControllerClear(),e.selectedPrincipal=null}))},g.$inject=["$scope","$q","resources","principalService","telemetryService","tenantService","featureFlagsService"],i=g;function g(e,t,n,r,i,o,s){var c=h.call(this,e,n)||this;return c.$q=t,c.principalService=r,c.telemetryService=i,c.featureFlagsService=s,c.selectedPrincipal=null,c.searchTypeList=[a.PrincipalSearchType.PrincipalUsers],c.failureMessage="",c.featureTelemetryTracker=c.telemetryService.getTracker(l.ScreenName.AdminSettings),c.viewModel=new p(c.$q,c.principalService,c.featureTelemetryTracker,o,c),c.principalService.getMyPrincipalInfo(!1).then((function(e){c.me=e.data}),(function(e){c.featureTelemetryTracker.fail(l.FeatureName.GroupCreate,l.SubFeatureName.PrincipalService_GetMyInfo,e)})),c}t.PersonalDataController=i},"./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItem.html":function(e,t){e.exports='<principal-item-base header-row=$ctrl.headerRow additional-cols=$ctrl.getMoreCols> <custom-column1 ng-transclude=customColumn1> <span class=requested-date custom-title={{::$ctrl.requestedDate}} light-style=true>{{$ctrl.requestedDate}}</span> </custom-column1> <custom-column2 ng-transclude=customColumn2> <span ng-class="{\'done\': $ctrl.isExportDone}" custom-title={{::$ctrl.state}} light-style=true>{{$ctrl.state}}</span> </custom-column2> <custom-column3 ng-transclude=customColumn3> <span class=expired-date custom-title={{::$ctrl.expiryDate}} light-style=true>{{$ctrl.expiryDate}}</span> </custom-column3> <custom-column4 ng-transclude=customColumn4> <a external-link target=_self class="download c-action-trigger" aria-label={{::$ctrl.resources.DownloadFile}} ng-if=$ctrl.reportUrl href={{$ctrl.reportUrl}} $ctrl.download=report.html> <svg-src svg-name=icon_download></svg-src> </a> </custom-column4> </principal-item-base>'},"./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItem.less":function(e,t){},"./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItem.ts":function(e,t,n){function r(){this.controller=o.PersonalDataPrincipalItemController,this.template=n("./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItem.html"),this.bindings={headerRow:"<"},this.transclude={customHeader:"?customHeader",customColumn1:"?customColumn1",customColumn2:"?customColumn2",customColumn3:"?customColumn3",customColumn4:"?customColumn4"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItem.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItemController.ts");t.PersonalDataPrincipalItem=r,i.registerComponent("personalDataPrincipalItem",r,angular.module("jumper"))},"./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/PrincipalItemBase/PrincipalItemBaseController.ts"),a=n("./app/models/TenantModel.ts");i(l,o=s.PrincipalItemBaseController),Object.defineProperty(l.prototype,"getMoreCols",{get:function(){return this.moreCols},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isExportDone",{get:function(){return this.dataExport&&this.dataExport.state===a.dataExportCreateState.created},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"state",{get:function(){return this.dataExport&&this.dataExport.state===a.dataExportCreateState.created?this.resources.AdminSettingsPersonalDataCompleteState:this.resources.AdminSettingsPersonalDataExportingState},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"requestedDate",{get:function(){return this.$filter("localDate")(this.dataExport.requestedTime,"ll")},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"expiryDate",{get:function(){return this.$filter("localDate")(this.dataExport.expiredTime,"ll")},enumerable:!0,configurable:!0}),l.prototype.download=function(e){window.open(e)},Object.defineProperty(l.prototype,"reportName",{get:function(){return this.dataExport.principal.name},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"reportUrl",{get:function(){return this.dataExport.url},enumerable:!0,configurable:!0}),l.$inject=["$scope","$timeout","resources","principalEditDialog","$filter"],i=l;function l(e,t,n,r,i){return(n=o.call(this,e,t,n)||this).$scope=e,n.principalEditDialog=r,n.$filter=i,n.moreCols=[n.resources.AdminSettingsPersonalDataRequestedColumnName,n.resources.AdminSettingsPersonalDataStatusColumnName,n.resources.AdminSettingsPersonalDataExpiresColumnName,"action-column-1"],n.dataExport=n.item,n}t.PersonalDataPrincipalItemController=i},"./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersList.html":function(e,t){e.exports='<div class="row column row-size1 items-list personal-data-users-list"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Videos screen-name=$ctrl.screenName on-more-data-load=$ctrl.onMoreDataLoad(dataLoaded) on-data-change=$ctrl.onDataChange(changedData) on-init=$ctrl.onItemsListInit(itemsListController) full-page-list=false item-identifier="\'principalId\'" additional-success-telemetry=$ctrl.additionalSuccessTelemetry() additional-failure-telemetry=$ctrl.additionalFailureTelemetry(err)> <header ng-transclude=header> <personal-data-principal-item header-row=true> </personal-data-principal-item> </header> <item ng-transclude=item> <personal-data-principal-item> </personal-data-principal-item> </item> <no-data-message ng-transclude=noDataMessage class="no-data-message admin-no-data-message" ng-if=$ctrl.noDataMessage> <span>{{$ctrl.noDataMessage}}</span> </no-data-message> </items-list> </div>'},"./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersList.less":function(e,t){},"./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersListController.ts");function o(){this.controller=i.PersonalDataUsersListController,this.template=n("./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersList.html"),this.bindings={loadData:"&",onInit:"&",screenName:"<",additionalSuccessTelemetry:"&",additionalFailureTelemetry:"&",me:"<"},this.transclude={noDataMessage:"?noDataMessage",item:"?item",header:"?header"}}n("./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersList.less"),t.PersonalDataUsersList=o,r.registerComponent("personalDataUsersList",o,angular.module("jumper"))},"./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersListController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/ActivityIds.ts");n=n("./app/components/ItemsList/ListBase/ListBase.ts"),i(l,o=n.ListBase),l.prototype.loadDataPage=function(e,t){return this.loadData({skip:e,top:t})},l.prototype.onItemsListInit=function(e){this.itemsListController=e},l.prototype.refresh=function(){this.itemsListController&&this.itemsListController.loadData(s.Constants.ItemsListDefault.RowCount,s.Constants.ItemsListDefault.ItemsPerRow)},l.prototype.onMoreDataLoad=function(e){this.dataLoaded=e,this.changedData=e},l.prototype.onDataChange=function(e){this.changedData=e},l.prototype.onDataReady=function(){this.onInit({currentList:this.itemsListController.currentList}),this.changedData&&0!==this.changedData.length?(this.noDataMessage="",this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!1)):(this.noDataMessage=this.resources.AdminSettingsPersonalDataNoDataErrorMessage,this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!0))},l.$inject=["$scope","resources","telemetryService","$rootScope"],i=l;function l(e,t,n,r){var i=o.call(this,e)||this;return i.$scope=e,i.resources=t,i.telemetryService=n,i.$rootScope=r,a.ActivityIds.initActivityId(i.screenName),i.$scope.$watch((function(){return i.dataLoaded}),(function(){return i.onDataReady()})),i.$scope.$watch((function(){return i.changedData}),(function(){return i.onDataReady()})),i.featureTelemetryTracker=i.telemetryService.getTracker(i.screenName),r.$on(s.Constants.Events.Notification_Principal,(function(e,t){i.itemsListController&&(i.itemsListController.buffer=[],i.itemsListController.loadData(s.Constants.ItemsListDefault.RowCount,s.Constants.ItemsListDefault.ItemsPerRow))})),i}t.PersonalDataUsersListController=i},"./app/components/Administrator/RecycleBin/RecycleBin.html":function(e,t){e.exports='<div class=recycle-bin-sys-settings role=region aria-label={{::$ctrl.resources.AdminSettingsRecycleBinTitle}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsRecycleBinTitle}} </h1> <recycle-bin-list is-admin-mode=$ctrl.isAdminMode load-data="$ctrl.loadData(skip, top)" on-init=$ctrl.onRecycleBinListInit(recycleBinListController) screen-name=$ctrl.screenName></recycle-bin-list> </div>'},"./app/components/Administrator/RecycleBin/RecycleBin.less":function(e,t){},"./app/components/Administrator/RecycleBin/RecycleBin.ts":function(e,t,n){function r(){this.controller=i.RecycleBinController,this.template=n("./app/components/Administrator/RecycleBin/RecycleBin.html"),this.bindings={onInit:"&",isAdminMode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/RecycleBin/RecycleBin.less");var i=n("./app/components/Administrator/RecycleBin/RecycleBinController.ts"),o=n("./app/utility/appUtil.ts");t.RecycleBin=r,o.registerComponent("recycleBin",r,angular.module("jumper"))},"./app/components/Administrator/RecycleBin/RecycleBinController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/Administrator/AdminBaseViewModel.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/components/Administrator/AdminBaseController.ts"),c=n("./app/utility/ActivityIds.ts"),d=(i(u,o=s.AdminBaseViewModel),u.prototype.refresh=function(){return this.$q.resolve()},u.prototype.loadData=function(e,t,n){return!0===this.firstLoad&&(this.focusActiveButton(),this.firstLoad=!1),this.recycleBinService.getDeletedVideos(t,e,this.isAdminMode,n)},u.prototype.dirty=function(){return!1},u.prototype.save=function(){return this.$q.resolve()},u.prototype.revert=function(){return this.$q.resolve()},u.prototype.focusActiveButton=function(){this.$timeout((function(){$("button.f-active:visible:enabled",$("[ng-viewport]")).first().focus()}),0)},u);function u(e,t,n,r,i,s,a,l,c){return(t=o.call(this,e,n,r,i,s,t)||this).recycleBinService=a,t.isAdminMode=l,t.$timeout=c,t.firstLoad=!0,t}t.RecycleBinViewModel=d;var p;i(m,p=l.AdminBaseController),m.prototype.onRecycleBinListInit=function(e){this.recycleBinListController=e},m.prototype.loadData=function(e,t){return this.viewModel.loadData(t,e,this.recycleBinListController.searchString)},m.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","recycleBinService","telemetryService","$timeout"],i=m;function m(e,t,n,r,i,o,s,l,u,m){return(e=p.call(this,e,n)||this).$q=t,e.resources=n,e.principalService=r,e.roleService=i,e.roleAssignmentService=o,e.tenantService=s,e.recycleBinService=l,e.telemetryService=u,e.$timeout=m,e.screenName=a.ScreenName.AdminSettingsRecycleBin,e.isAdminMode=!0,e.featureTelemetryTracker=e.telemetryService.getTracker(e.screenName),e.viewModel=new d(e.$q,e.principalService,e.roleService,e.roleAssignmentService,e.tenantService,e.featureTelemetryTracker,e.recycleBinService,e.isAdminMode,e.$timeout),e.featureTelemetryTracker.tagScreen(),c.ActivityIds.initActivityId(e.screenName),e}t.RecycleBinController=i},"./app/components/Administrator/SpotlightVideos/SpotlightVideos.html":function(e,t){e.exports="<div class=spotlight-videos-settings role=region aria-label={{::$ctrl.resources.AdminSpotlightTitle}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsSpotlightTitle}} </h1> <spotlight-list load-data=$ctrl.loadData() on-init=$ctrl.onSpotlightListInit(spotlightListController) screen-name=$ctrl.screenName additional-success-telemetry=$ctrl.loadVideosDataSuccessTelemetry() additional-failure-telemetry=$ctrl.loadVideosDataFailureTelemetry(err) me=$ctrl.me is-admin-mode=$ctrl.isAdminMode></spotlight-list> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div>"},"./app/components/Administrator/SpotlightVideos/SpotlightVideos.less":function(e,t){},"./app/components/Administrator/SpotlightVideos/SpotlightVideos.ts":function(e,t,n){function r(){this.controller=i.SpotlightVideosController,this.template=n("./app/components/Administrator/SpotlightVideos/SpotlightVideos.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&",isAdminMode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/SpotlightVideos/SpotlightVideos.less");var i=n("./app/components/Administrator/SpotlightVideos/SpotlightVideosController.ts"),o=n("./app/utility/appUtil.ts");t.SpotlightVideos=r,o.registerComponent("spotlightVideos",r,angular.module("jumper"))},"./app/components/Administrator/SpotlightVideos/SpotlightVideosController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/Administrator/AdminBaseViewModel.ts"),a=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),l=n("./app/models/TelemetryEventModels.ts"),c=(n=n("./app/components/Administrator/AdminBaseController.ts"),i(d,o=s.AdminBaseViewModel),d.prototype.refresh=function(){return this.spotlightVideoController.loadData()},d.prototype.loadData=function(){return this.spotlightService.getTenantSpotlightVideos(!0)},d.prototype.dirty=function(){if(!(this.spotlightVideos&&0!==this.spotlightVideos.length||this.original.spotlightVideos))return!1;if(!this.original.spotlightVideos&&this.spotlightVideos&&0<this.spotlightVideos.length||this.spotlightVideos.length!==this.original.spotlightVideos.length)return!0;if(0<this.spotlightVideos.length&&0<this.original.spotlightVideos.length)for(var e=0,t=this.spotlightVideos.length;e<t;e++)if(this.spotlightVideos[e].id!==this.original.spotlightVideos[e].id)return!0;return!1},d.prototype.save=function(){var e=this;return this.saveSpotlight().then((function(){return e.telemetryTracker.succeed(l.FeatureName.UpdateAdminSpotlightSettings),e.$q.resolve()}),(function(t){return e.telemetryTracker.fail(l.FeatureName.UpdateAdminSpotlightSettings,l.SubFeatureName.SpotlightService_GetTenantSpotlight,t),e.$q.reject(t)}))},d.prototype.revert=function(){var e;this.spotlightVideoController&&this.spotlightVideoController.spotlightListController&&this.spotlightVideoController.spotlightListController.itemsListController&&(void 0===(e=angular.copy(this.original.spotlightVideos))&&(e=[]),this.spotlightVideoController.spotlightListController.itemsListController.removeListAnimation(),this.spotlightVideoController.spotlightListController.itemsListController.currentList=e,this.spotlightVideos=e)},d.prototype.saveSpotlight=function(){var e=this;if(_.isEqual(this.spotlightVideos,this.original.spotlightVideos))return this.$q.resolve();var t=angular.copy(this.spotlightVideos);return t?this.spotlightService.postTenantSpotlightVideos(t,!0).then((function(){return e.original.spotlightVideos=angular.copy(e.spotlightVideos),e.$q.resolve()}),(function(t){return e.$q.reject(t)})):this.$q.resolve()},d);function d(e,t,n,r,i,s,a,l){return(t=o.call(this,e,n,r,i,a,t)||this).spotlightService=s,t.spotlightVideoController=l,t.original={me:null,spotlightVideos:null},t}t.SpotlightVideosViewModel=c;var u;i(p,u=n.AdminBaseController),p.prototype.loadData=function(){var e=this;return this.dataLoaded?this.$q.resolve():(this.dataLoaded=!0,this.viewModel.getMyInfo().then((function(t){return e.me=t,e.viewModel.loadData()})))},p.prototype.onSpotlightListInit=function(e){this.spotlightListController=e,this.viewModel.original.spotlightVideos=this.spotlightListController.dataLoaded},p.prototype.loadVideosDataSuccessTelemetry=function(){this.featureTelemetryTracker.trackEvent(l.TelemetryEventNames.adminSettingsSpotlightVideosEventName,null,null)},p.prototype.loadVideosDataFailureTelemetry=function(e){this.featureTelemetryTracker.fail(l.FeatureName.GetVideosForSpotlight,l.SubFeatureName.SpotlightService_GetTenantSpotlight,e)},p.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(l.TelemetryEventNames.adminSettingsSpotlightEventName,null,null)},Object.defineProperty(p.prototype,"screenName",{get:function(){return l.ScreenName.AdminSettings.toString()},enumerable:!0,configurable:!0}),p.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","spotlightService","telemetryService"],i=p;function p(e,t,n,r,i,o,s,d,p){var m=u.call(this,e,n)||this;return m.$q=t,m.principalService=r,m.roleService=i,m.roleAssignmentService=o,m.tenantService=s,m.spotlightService=d,m.telemetryService=p,m.dataLoaded=!1,m.featureTelemetryTracker=m.telemetryService.getTracker(l.ScreenName.AdminSettings),m.viewModel=new c(m.$q,m.principalService,m.roleService,m.roleAssignmentService,m.tenantService,m.spotlightService,m.featureTelemetryTracker,m),m.saveDiscardActions=new a.SaveDiscardActions(m.saveChanges.bind(m,(function(){return m.sendTelemetry()})),m.discardChanges.bind(m),!0,!0,void 0,m.resources.ActionBar.Button.Cancel),m.onInit&&m.onInit({spotlightVideosController:m}),e.$watch((function(){return m.spotlightListController&&m.spotlightListController.dataLoaded}),(function(){m.spotlightListController&&(m.viewModel.original.spotlightVideos=m.spotlightListController.dataLoaded)})),e.$watch((function(){return m.spotlightListController&&m.spotlightListController.changedData}),(function(){m.spotlightListController&&(m.viewModel.spotlightVideos=m.spotlightListController.changedData)})),m}t.SpotlightVideosController=i},"./app/components/Administrator/StreamAccess/StreamAccess.html":function(e,t){e.exports="<div class=stream-access-settings role=region> Stream access coming soon ... </div> "},"./app/components/Administrator/StreamAccess/StreamAccess.less":function(e,t){},"./app/components/Administrator/StreamAccess/StreamAccess.ts":function(e,t,n){function r(){this.controller=i.StreamAccessController,this.template=n("./app/components/Administrator/StreamAccess/StreamAccess.html"),this.bindings={failureMessage:"=",successMessage:"="}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/StreamAccess/StreamAccess.less");var i=n("./app/components/Administrator/StreamAccess/StreamAccessController.ts"),o=n("./app/utility/appUtil.ts");t.StreamAccess=r,o.registerComponent("streamAccess",r,angular.module("jumper"))},"./app/components/Administrator/StreamAccess/StreamAccessController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StreamAccessController=function(){}},"./app/components/Administrator/Support/Support.html":function(e,t){e.exports='<div class=support-settings role=region aria-label={{::$ctrl.resources.AdminSettingsSupportTitle}}> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsSupportTitle}} </h1> <label class="info-container support-section-subtitle">{{::$ctrl.resources.AdminSettingsSupportSubTitle}}</label> <a external-link ng-href={{::$ctrl.supportLink}} target=_blank class="c-hyperlink support-link">{{::$ctrl.resources.AdminSettingsSupportLinkName}}</a> </div>'},"./app/components/Administrator/Support/Support.less":function(e,t){},"./app/components/Administrator/Support/Support.ts":function(e,t,n){function r(){this.controller=i.SupportController,this.template=n("./app/components/Administrator/Support/Support.html"),this.bindings={failureMessage:"=",successMessage:"="}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/Support/Support.less");var i=n("./app/components/Administrator/Support/SupportController.ts"),o=n("./app/utility/appUtil.ts");t.Support=r,o.registerComponent("support",r,angular.module("jumper"))},"./app/components/Administrator/Support/SupportController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.$inject=["resources"],r);function r(e){this.resources=e,this.supportLink="https://go.microsoft.com/fwlink/?linkid=848786"}t.SupportController=n},"./app/components/Administrator/UsageDetails/UsageDetails.html":function(e,t){e.exports='<div class=usage-details-settings role=region> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsUsageTitle}} </h1> <label class="info-container usage-section-subtitle"> {{::$ctrl.resources.AdminSettingsUsageSubTitle}} </label> <div class=usage-section-container> <div class=usage-data> <div class=usage-bar-wrapper> <usage-bar used=$ctrl.viewModel.totalUsageMetrics.value limit=$ctrl.viewModel.totalUsageMetrics.limit text-template=$ctrl.resources.AdminSettingsUsageDetails show-percentage-label=$ctrl.recycleBinEnabled percentage-label=$ctrl.resources.AdminSettingsUsageDetailsTotalStorageUsed></usage-bar> </div> <div class=storage-upsell ng-if=$ctrl.isStorageUpsellEnabled> <span class=storage-upsell-text> <span class=storage-upsell-prompt>{{::$ctrl.resources.AdminSettingsUsageStorageUpsell}}</span> <span class=storage-upsell-details><a external-link ng-href={{$ctrl.upsellLink}} target=_blank>{{::$ctrl.resources.AdminSettingsUsageStorageUpsellDetails}}</a></span> </span> </div> <div class=recycle-bin-usage-container ng-if=$ctrl.recycleBinEnabled> <div class=recycle-bin-usage-text> {{::$ctrl.resources.AdminSettingsUsageDetailsRecycleBinStorageUsed}} {{$ctrl.viewModel.recycleBinUsagePercentageText}}% </div> <button class="manage-recycle-bin c-glyph c-action-trigger" aria-label={{::$ctrl.resources.AdminSettingsUsageDetailsManageRecycleBin}} ng-click=$ctrl.goToRecycleBin($event)> <svg-src svg-name=icon_settings class=small-icon inline-with-text=true></svg-src> <span class=icon-text>{{::$ctrl.resources.AdminSettingsUsageDetailsManageRecycleBin}}</span> </button> </div> </div> <div class=usage-email-settings ng-if=$ctrl.isDataUsageNotificationsEnabled> <span class="c-checkbox ct-checkbox notification-opt-in"> <label class="c-label ct-label-compact"> <span aria-hidden=true>{{::$ctrl.resources.AdminSettingsUsageNotificationSetting}}</span> </label> </span> <span class=notification-threshold-input> <input class="c-text-field ct-textbox-compact" type=number maxlength=3 max=100 min=1 ng-model=$ctrl.viewModel.tenantSettings.system.alerts.thresholdPercent.storage ng-disabled=$ctrl.isLoading ng-change=$ctrl.onCustomThresholdChange() aria-label={{$ctrl.viewModel.thresholdInputAriaLabel}} autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required/> % </span> <save-discard save-discard-actions=$ctrl.saveDiscardActions /> </div> </div> </div> '},"./app/components/Administrator/UsageDetails/UsageDetails.less":function(e,t){},"./app/components/Administrator/UsageDetails/UsageDetails.ts":function(e,t,n){function r(){this.controller=i.UsageDetailsController,this.template=n("./app/components/Administrator/UsageDetails/UsageDetails.html"),this.bindings={failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/UsageDetails/UsageDetails.less");var i=n("./app/components/Administrator/UsageDetails/UsageDetailsController.ts"),o=n("./app/utility/appUtil.ts");t.UsageDetails=r,o.registerComponent("usageDetails",r,angular.module("jumper"))},"./app/components/Administrator/UsageDetails/UsageDetailsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/string.ts"),l=n("./app/utility/appUtil.ts"),c=n("./app/utility/ServicePlanUtils.ts"),d=n("./app/utility/Constants.ts"),u=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),p=n("./app/components/Administrator/AdminBaseController.ts"),m=n("./app/components/Administrator/AdminBaseViewModel.ts"),h=n("./app/components/AdminSettingDetail/AdminSettingDetailController.ts"),g=(i(f,o=m.AdminBaseViewModel),f.prototype.init=function(){return this.onInit&&this.onInit({usageDetailsController:this}),this.$q.all([this.getMyUsage(),this.getDataUsageThreshold()])},f.prototype.refresh=function(){return this.$q.resolve()},f.prototype.dirty=function(){return!!(this.tenantSettings&&this.tenantSettings.system&&this.tenantSettings.system.alerts&&this.tenantSettings.system.alerts.thresholdPercent)&&(this.tenantSettings.system.alerts.thresholdPercent.storage!==this.originalSettings.system.alerts.thresholdPercent.storage||this.isCustomThreshold!==this.isOriginallyCustomThreshold)&&0<=this.tenantSettings.system.alerts.thresholdPercent.storage&&this.tenantSettings.system.alerts.thresholdPercent.storage<=100},f.prototype.save=function(){var e=this,t=this.$q.defer();return this.tenantService.patchSettings(this.tenantSettings).then((function(n){e.originalSettings=angular.copy(e.tenantSettings),e.isOriginallyCustomThreshold=e.isCustomThreshold,e.userNotificationService.updateNotificationCache().then((function(){e.telemetryTracker.succeed(s.FeatureName.AdminManagement_DataUsage),t.resolve()}),(function(n){e.handleFailure(s.SubFeatureName.UserNotificationService_Query,n,t)}))}),(function(n){e.handleFailure(s.SubFeatureName.TenantService_PatchTenantSettings,n,t)})),t.promise},f.prototype.revert=function(){this.isCustomThreshold=this.isOriginallyCustomThreshold,this.tenantSettings=angular.copy(this.originalSettings),this.$element.find("#isCustomThreshold").focus()},Object.defineProperty(f.prototype,"thresholdInputAriaLabel",{get:function(){return this.tenantSettings&&this.tenantSettings.system&&this.tenantSettings.system.alerts&&this.tenantSettings.system.alerts.thresholdPercent&&this.tenantSettings.system.alerts.thresholdPercent.storage?a.formatString(this.resources.AdminSettingsThresholdInputAriaLabel,this.tenantSettings.system.alerts.thresholdPercent.storage.toString()):""},enumerable:!0,configurable:!0}),f.prototype.getMyUsage=function(){var e=this,t=this.$q.defer();return this.tenantService.getUsages().then((function(n){var r,i=n.data;i&&i.value?((r=e.getUsageMetric(i,d.Constants.StorageTypes.InputVideoStorage))&&(e.totalUsageMetrics.limit=r.limit/d.Constants.Data.GB,e.totalUsageMetrics.value=r.value/d.Constants.Data.GB,(i=e.getUsageMetric(i,d.Constants.StorageTypes.RecycleBinStorage))&&e.totalUsageMetrics.limit&&(i=i.value/d.Constants.Data.GB,e.recycleBinUsagePercentageText=e.getRecycleBinUsagePercentageText(e.totalUsageMetrics.limit,i))),t.resolve()):e.handleFailure(s.SubFeatureName.TenantService_GetTenantUsages,n,t)}),(function(n){e.handleFailure(s.SubFeatureName.TenantService_GetTenantUsages,n,t)})),t.promise},f.prototype.getUsageMetric=function(e,t){return _.find(e.value,(function(e){return e.resourceType===t}))},f.prototype.getRecycleBinUsagePercentageText=function(e,t){var n=0;return t&&0<e&&(1<(n=t/e)&&(n=1),n=Math.round(100*n)),n},f.prototype.getDataUsageThreshold=function(){var e=this,t=this.$q.defer();return this.tenantService.getSettings().then((function(n){e.tenantSettings=angular.copy(n.data),e.originalSettings=angular.copy(e.tenantSettings),e.tenantSettings&&e.tenantSettings.system&&e.tenantSettings.system.alerts&&e.tenantSettings.system.alerts.thresholdPercent?(e.isCustomThreshold=e.isOriginallyCustomThreshold=e.tenantSettings.system.alerts.thresholdPercent.storage!==e.defaultThreshold,t.resolve()):e.handleFailure(s.SubFeatureName.TenantService_GetTenantSettings,{},t)}),(function(n){e.handleFailure(s.SubFeatureName.TenantService_GetTenantSettings,n,t)})),t.promise},f.prototype.handleFailure=function(e,t,n){this.telemetryTracker.fail(s.FeatureName.AdminManagement_DataUsage,e,t),n&&n.reject(t)},f);function f(e,t,n,r,i,s,a,l,c){return(t=o.call(this,e,n,r,i,a,t)||this).userNotificationService=s,t.resources=l,t.$element=c,t.isCustomThreshold=!1,t.tenantSettings=null,t.totalUsageMetrics={resourceType:"total",resourceUnit:"GB",limit:0,value:0},t.recycleBinUsagePercentageText=0,t.originalSettings=null,t.isOriginallyCustomThreshold=!1,t.defaultThreshold=85,t}t.UsageDetailsViewModel=g;var v;i(y,v=p.AdminBaseController),y.prototype.initButtons=function(){var e=this;this.saveDiscardActions=new u.SaveDiscardActions(this.saveChanges.bind(this,(function(){return e.sendTelemetry()})),this.discardChanges.bind(this),!0,!0)},y.prototype.initTelemetry=function(){this.telemetryProperties={customEmailNotificationsToggled:!1,customNotificationThresholdChanged:!1,saveClicked:!1,discardClicked:!1},this.telemetryMetrics={totalNotificationThresholdChanges:0,totalDiscardClicked:0,totalSaveClicked:0}},y.prototype.init=function(){var e=this;this.initTelemetry(),this.initButtons(),this.viewModel.init().then((function(){e.isLoading=!1,e.featureTelemetryTracker.succeed(s.FeatureName.AdminManagement_DataUsage)}),(function(t){return e.handleFailure(t)})),this.onInit&&this.onInit({usageDetailsController:this})},y.prototype.onToggleCustomThresholdClicked=function(){this.telemetryProperties.customEmailNotificationsToggled=!0},y.prototype.onCustomThresholdChange=function(){this.telemetryMetrics.totalNotificationThresholdChanges++},Object.defineProperty(y.prototype,"isDataUsageNotificationsEnabled",{get:function(){return this.featureFlagsService.Values.DataUsageNotifications},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isStorageUpsellEnabled",{get:function(){return c.ServicePlanUtils.isTrialPlan(sessionInfo.ServicePlanForTelemetry)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"upsellLink",{get:function(){return l.generateFwLink(d.Constants.ExternalLinkIds.StorageUpsell)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"recycleBinEnabled",{get:function(){return!!this.featureFlagsService.Values.RecycleBinAdminSettings},enumerable:!0,configurable:!0}),y.prototype.goToRecycleBin=function(){function e(){t.$location.search(_.assign({},t.extraQueryParams,{view:h.Tabs[h.Tabs.RecycleBin]}))}var t=this;this.isDirty?this.confirmKeepChanges().then((function(t){t||e()})):e()},y.prototype.confirmKeepChanges=function(){var e=this,t=this.$q.defer(),n={title:this.resources.AdminSettingsUnSavedChangeConfirmationTitle,message:this.resources.AdminSettingsUnSavedChangeConfirmationMessage,confirmButtonLabel:this.resources.AdminSettingsUnSavedChangeConfirmationMessageBoxStayButton,cancelButtonLabel:this.resources.AdminSettingsUnSavedChangeConfirmationMessageBoxLeaveButton};return this.changeTabConfirmation.show(n).then((function(){t.resolve(!0)}),(function(){e.discardChanges(),t.resolve(!1)})),t.promise},y.prototype.sendTelemetry=function(){this.telemetryMetrics.totalSaveClicked++,this.telemetryProperties.saveClicked=!0,this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsUsageDetailsEventName,this.telemetryProperties,this.telemetryMetrics),this.initTelemetry()},y.prototype.handleFailure=function(e){e&&e.data&&e.data.error&&e.data.error.message&&_.isString(e.data.error.message)?this.failureMessage=e.data.error.message:this.failureMessage=this.resources.AdminSettingsDataUsageDefaultError},y.$inject=["$scope","$q","resources","telemetryService","featureFlagsService","tenantService","principalService","roleService","roleAssignmentService","userNotificationService","$location","$element","confirmationDialogService"],i=y;function y(e,t,n,r,i,o,a,l,c,d,u,p,m){return(e=v.call(this,e,n)||this).$q=t,e.telemetryService=r,e.featureFlagsService=i,e.tenantService=o,e.principalService=a,e.roleService=l,e.roleAssignmentService=c,e.userNotificationService=d,e.$location=u,e.$element=p,e.changeTabConfirmation=m,e.telemetryProperties=null,e.telemetryMetrics=null,e.isLoading=!0,e.featureTelemetryTracker=e.telemetryService.getTracker(s.ScreenName.AdminSettings),e.featureTelemetryTracker.tagScreen(),e.extraQueryParams=e.$location.search(),e.viewModel=new g(e.$q,e.principalService,e.roleService,e.roleAssignmentService,e.tenantService,e.userNotificationService,e.featureTelemetryTracker,n,e.$element),e.init(),e}t.UsageDetailsController=i},"./app/components/Administrator/UserMigration/UserMigration.html":function(e,t){e.exports='<section class=user-migration-settings aria-label={{::$ctrl.resources.AdminSettingsUserMigrationTab}}> <div class=migration-toggle-container> <h1 class=c-heading-1> {{::$ctrl.resources.AdminSettingsUserMigrationTitle}} </h1> <div class=info-container> <label class="info-container user-migration-section-subtitle"> <span>{{::$ctrl.resources.AdminSettingsUserMigrationDescription}}</span> <a external-link ng-href={{::$ctrl.learnMoreAboutUserMigrationLink}} target=_blank class="c-hyperlink migration-document-link o365-portal-admin-link">{{$ctrl.learnMoreLinkText}}</a> </label> <br> <toggle name=user-migration-toggle id=toggle_user_migration value=$ctrl.userMigrationEnabled on-toggle-click=$ctrl.onToggleUserMigrationClicked() auto-play-custom-on-label-text=$ctrl.userMigrationToggleOn auto-play-custom-off-label-text=$ctrl.userMigrationToggleOff disabled=$ctrl.previewModeEnabled aria-label={{::$ctrl.resources.AdminSettingsUserMigrationTitle}} /> <span class="c-checkbox ct-checkbox"> <label class="c-label small-text"> <input type=checkbox ng-model=$ctrl.allowAllUsersToMigrate ng-disabled=$ctrl.previewModeEnabled aria-label={{::$ctrl.resources.AdminSettingsUserMigrationForAllLabel}}> <span aria-hidden=true>{{::$ctrl.resources.AdminSettingsUserMigrationForAllLabel}}</span> </label> </span> <br> <label class="info-container user-migration-section-subtitle small-text disabled-section"> <span>{{::$ctrl.resources.AdminSettingsSelectUsersLabel}}</span> </label> <input class=input-users type=text ng-disabled=$ctrl.previewModeEnabled size=80> <div class=user-migration-divider> <hr class=c-divider> </div> </div> </div> <save-discard save-discard-actions=$ctrl.saveDiscardActions></save-discard> </section>'},"./app/components/Administrator/UserMigration/UserMigration.less":function(e,t){},"./app/components/Administrator/UserMigration/UserMigration.ts":function(e,t,n){function r(){this.controller=i.UserMigrationController,this.template=n("./app/components/Administrator/UserMigration/UserMigration.html"),this.bindings={isAdminMode:"<",failureMessage:"=",successMessage:"=",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Administrator/UserMigration/UserMigration.less");var i=n("./app/components/Administrator/UserMigration/UserMigrationController.ts"),o=n("./app/utility/appUtil.ts");t.UserMigration=r,o.registerComponent("userMigration",r,angular.module("jumper"))},"./app/components/Administrator/UserMigration/UserMigrationController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Administrator/AdminBaseController.ts"),l=n("./app/components/Administrator/AdminBaseViewModel.ts"),c=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),d=n("./app/utility/Constants.ts"),u=(i(p,o=l.AdminBaseViewModel),p.prototype.refresh=function(){var e=this;return this.getMyInfo().then((function(t){e.me=t,e.original.me=angular.copy(e.me),e.getTenantSettings(t).then((function(t){e.telemetryTracker.succeed(s.FeatureName.GetAdminSettings),e.tenantSettings=t,e.original.tenantSettings=angular.copy(t)}))}))},p.prototype.dirty=function(){return this.original&&this.original.tenantSettings&&!_.isEqual(this.tenantSettings,this.original.tenantSettings)},p.prototype.save=function(){var e=this;return this.me.permissions.canManageStream?this.saveTenantSettings(this.tenantSettings,this.original.tenantSettings).then((function(){e.$q.resolve(),e.telemetryTracker.succeed(s.FeatureName.UpdateAdminMigrationSettings)}),(function(t){e.telemetryTracker.fail(s.FeatureName.UpdateAdminMigrationSettings,s.SubFeatureName.TenantService_PatchTenantSettings,t),e.$q.reject(t)})):this.$q.resolve()},p.prototype.revert=function(){this.tenantSettings=angular.copy(this.original.tenantSettings)},p);function p(e,t,n,r,i,s,a){return(t=o.call(this,e,n,r,i,s,t)||this).$timeout=a,t.original={me:null,tenantSettings:null},t}t.UserMigrationViewModel=u;var m;i(h,m=a.AdminBaseController),Object.defineProperty(h.prototype,"previewModeEnabled",{get:function(){return this.isPreviewMode},enumerable:!0,configurable:!0}),h.prototype.onToggleUserMigrationClicked=function(){this.userMigrationIsEnabled=!this.userMigrationIsEnabled},Object.defineProperty(h.prototype,"userMigrationEnabled",{get:function(){return this.userMigrationIsEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"allowAllUsersToMigrate",{get:function(){return this.allUsersChecked},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"learnMoreLinkText",{get:function(){return this.resources.LearnMore},enumerable:!0,configurable:!0}),h.prototype.sendTelemetry=function(){this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.adminSettingsUserMigrationEventName,null,null)},h.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","telemetryService","$timeout"],i=h;function h(e,t,n,r,i,o,a,l,p){var h=m.call(this,e,n)||this;return h.$q=t,h.principalService=r,h.roleService=i,h.roleAssignmentService=o,h.tenantService=a,h.telemetryService=l,h.$timeout=p,h.screenName=s.ScreenName.AdminSettingsUserMigration,h.isPreviewMode=!0,h.allUsersChecked=!1,h.userMigrationIsEnabled=!1,h.learnMoreAboutUserMigrationLink=d.Constants.Migration.learnMoreAboutUserMigrationLink,h.featureTelemetryTracker=h.telemetryService.getTracker(h.screenName),h.userMigrationToggleOn=h.resources.AdminSettingsUserMigrationToggleOn,h.userMigrationToggleOff=h.resources.AdminSettingsUserMigrationToggleOff,h.viewModel=new u(h.$q,h.principalService,h.roleService,h.roleAssignmentService,h.tenantService,h.featureTelemetryTracker,h.$timeout),h.saveDiscardActions=new c.SaveDiscardActions(h.saveChanges.bind(h,(function(){return h.sendTelemetry()})),h.discardChanges.bind(h),!0,!0),h.onInit&&h.onInit({userMigrationController:h}),h.viewModel.refresh(),h}t.UserMigrationController=i},"./app/components/Banner/Banner.html":function(e,t){e.exports='<div class=banner ng-hide=$ctrl.shouldHideBanner> <div class=banner-content> <span class=banner-icon> <svg-src ng-if=$ctrl.iconName svg-name={{$ctrl.iconName}} inline-with-text=true></svg-src> </span> <span class=banner-text-container> <span class=banner-header ng-if=$ctrl.header>{{$ctrl.header}}</span> <span class=banner-message ng-if=$ctrl.text>{{$ctrl.text}}</span> <a external-link class="banner-link c-hyperlink" href={{$ctrl.linkUrl}} ng-if="$ctrl.linkUrl && $ctrl.linkLabel" aria-label={{$ctrl.linkAriaLabel}} target=_blank>{{$ctrl.linkLabel}}</a> </span> </div> </div>'},"./app/components/Banner/Banner.less":function(e,t){},"./app/components/Banner/Banner.ts":function(e,t,n){function r(){this.controller=o.BannerController,this.bindToController=!0,this.template=n("./app/components/Banner/Banner.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Banner/Banner.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Banner/BannerController.ts");t.Banner=r,i.registerComponent("banner",r,angular.module("jumper"))},"./app/components/Banner/BannerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/UserNotificationUtils.ts"),i=n("./app/utility/ServicePlanUtils.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/models/TelemetryEventModels.ts");Object.defineProperty(l.prototype,"shouldHideBanner",{get:function(){return _.isEmpty(this.header)&&_.isEmpty(this.text)&&_.isEmpty(this.linkUrl)&&_.isEmpty(this.linkLabel)},enumerable:!0,configurable:!0}),l.prototype.updateNotifications=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){t&&t.data&&(e.me=t.data);var n,l,c,d=angular.copy(e.dataShareService.notifications);e.clearNotification(),_.isArray(d)&&0<d.length&&(n=Object.keys(o.Constants.UserNotificationTypes).map((function(e){return e.toLowerCase()})),t=new Array,e.featureFlagsService.Values.EndOfTrialBar?e.isUserOnStandaloneTrial?(t.push(r.UserNotificationType[r.UserNotificationType.StorageUsageOverThreshold].toLowerCase()),t.push(r.UserNotificationType[r.UserNotificationType.StorageUsageOverLimit].toLowerCase())):(e.me.permissions.canManageStream||(t.push(r.UserNotificationType[r.UserNotificationType.StorageUsageOverThreshold].toLowerCase()),t.push(r.UserNotificationType[r.UserNotificationType.StorageUsageOverLimit].toLowerCase())),t.push(r.UserNotificationType[r.UserNotificationType.TrialSuspended].toLowerCase()),t.push(r.UserNotificationType[r.UserNotificationType.TrialSuspensionWarning].toLowerCase())):(t.push(r.UserNotificationType[r.UserNotificationType.TrialSuspended].toLowerCase()),t.push(r.UserNotificationType[r.UserNotificationType.TrialSuspensionWarning].toLowerCase())),e.featureFlagsService.Values.DataUsageNotifications||(t.push(r.UserNotificationType[r.UserNotificationType.StorageUsageOverThreshold].toLowerCase()),t.push(r.UserNotificationType[r.UserNotificationType.StorageUsageOverLimit].toLowerCase())),l=new RegExp(n.join("|")),c=0<t.length?new RegExp(t.join("|")):null,(d=d.filter((function(e){return e=e.type.toLowerCase(),l.test(e)&&(_.isNull(c)||!c.test(e))}))).sort(r.NotificationComparator),0<d.length&&e.processNotification(d[0])),(e.isUserOnStandaloneTrial||i.ServicePlanUtils.isUserOnBasicPaidPlan(e.me))&&e.featureFlagsService.Values.EndOfTrialBar&&(u="",0<=(d=i.ServicePlanUtils.getRemainingDaysUntilSuspension(e.me))&&(e.isUserOnStandaloneTrial||i.ServicePlanUtils.isUserOnBasicPaidPlan(e.me)&&d<=30)?u=e.isUserOnStandaloneTrial?s.handleStringCardinality(d,e.resources.TopBar.TrialBar.TrialCountdownMessageSingular,e.resources.TopBar.TrialBar.TrialCountdownMessagePlural):s.handleStringCardinality(d,e.resources.TopBar.TrialBar.PremiumAccessCountdownMessageSingular,e.resources.TopBar.TrialBar.PremiumAccessCountdownMessagePlural):d<0&&(e.isUserOnStandaloneTrial?u=e.resources.TopBar.TrialBar.TrialEndedMessage:!e.isUserOnStandaloneTrial&&-7<=d&&(u=e.resources.TopBar.TrialBar.PremiumAccessEndedMessage)),u&&e.displayNotification(null,u,o.Constants.TrialExperience.LearnMoreLink,e.resources.TrialCountdownDialogLearnMoreLink)),e.telemetryTracker.succeed(a.FeatureName.UserNotifications);var u=".office-scroll-body";e.shouldHideBanner?angular.element(u).removeClass("trial-body"):angular.element(u).addClass("trial-body")}),(function(t){e.telemetryTracker.fail(a.FeatureName.UserNotifications,a.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)}))},l.prototype.processNotification=function(e){switch(this.severity=e.severity,this.severity===o.Constants.UserNotificationSeverities.Critical?this.iconName="icon_warning":this.severity===o.Constants.UserNotificationSeverities.Warning&&(this.iconName="icon_warning_yellow"),e.type){case o.Constants.UserNotificationTypes.TrialSuspended:this.displayNotification(null,this.resources.TopBar.TrialBar.TrialEndedMessage,o.Constants.TrialExperience.LearnMoreLink,this.resources.TrialCountdownDialogLearnMoreLink);break;case o.Constants.UserNotificationTypes.TrialSuspensionWarning:var t=Math.max(i.ServicePlanUtils.getRemainingDaysUntilSuspension(this.me),0);t=s.handleStringCardinality(t,this.resources.TopBar.TrialBar.TrialCountdownMessageSingular,this.resources.TopBar.TrialBar.TrialCountdownMessagePlural);this.displayNotification(null,t,o.Constants.TrialExperience.LearnMoreLink,this.resources.TrialCountdownDialogLearnMoreLink);break;case o.Constants.UserNotificationTypes.StorageUsageOverLimit:this.displayNotification(this.resources.BannerStorageLimitExceededHeader,this.resources.BannerOutOfStorageMessage);break;case o.Constants.UserNotificationTypes.StorageUsageOverThreshold:this.displayNotification(this.resources.BannerOutOfStorageHeader,this.resources.BannerOutOfStorageMessage);break;default:this.clearNotification()}},l.prototype.displayNotification=function(e,t,n,r){this.header=e,this.text=t,this.linkUrl=n,this.linkLabel=r},l.prototype.clearNotification=function(){this.header=this.text=this.linkLabel=this.linkUrl=this.iconName=null},Object.defineProperty(l.prototype,"linkAriaLabel",{get:function(){return this.customLinkAria||this.linkLabel},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isUserOnStandaloneTrial",{get:function(){return i.ServicePlanUtils.isUserOnTrialPlan(this.me,!0)},enumerable:!0,configurable:!0}),l.$inject=["$scope","$q","featureFlagsService","principalService","dataShareService","telemetryService","resources"],n=l;function l(e,t,n,r,i,s,l){var c=this;this.$scope=e,this.$q=t,this.featureFlagsService=n,this.principalService=r,this.dataShareService=i,this.telemetryService=s,this.resources=l,this.telemetryTracker=this.telemetryService.getTracker(a.ScreenName.TopBar),this.$scope.$on(o.Constants.Events.UserNotificationsReady,(function(){c.updateNotifications()}))}t.BannerController=n},"./app/components/Banner/CopyrightBanner/CopyrightBanner.html":function(e,t){e.exports='<div class=copyright-banner dir={{$ctrl.dir}}> <svg-src svg-name=icon_library class=error-icon></svg-src> <span class=warning-message-box> <a ng-if=$ctrl.displayCompanyPolicyLink class="c-hyperlink warning-message" target=_blank external-link ng-href={{$ctrl.companyPolicyUrl}}>{{::$ctrl.resources.BannerUploadCopyrightWarning}}</a> <span ng-if=!$ctrl.displayCompanyPolicyLink class=warning-message>{{::$ctrl.resources.BannerUploadCopyrightWarningPlainText}}</span> </span> </div>'},"./app/components/Banner/CopyrightBanner/CopyrightBanner.less":function(e,t){},"./app/components/Banner/CopyrightBanner/CopyrightBanner.ts":function(e,t,n){function r(){this.controller=o.CopyrightBannerController,this.template=n("./app/components/Banner/CopyrightBanner/CopyrightBanner.html"),this.bindings={companyPolicyAddress:"<"},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Banner/CopyrightBanner/CopyrightBanner.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Banner/CopyrightBanner/CopyrightBannerController.ts");t.CopyrightBanner=r,i.registerComponent("copyrightBanner",r,angular.module("jumper"))},"./app/components/Banner/CopyrightBanner/CopyrightBannerController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(r.prototype,"displayCompanyPolicyLink",{get:function(){return!_.isEmpty(this.companyPolicyAddress)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"companyPolicyUrl",{get:function(){var e=(e=this.companyPolicyAddress).trim();return _.startsWith(e,"http://")||_.startsWith(e,"https://")||(e="http://"+e),e},enumerable:!0,configurable:!0}),r.$inject=["resources"],r);function r(e){this.resources=e,this.companyPolicyAddress="",this.dir="ltr",this.dir=sessionInfo.IsRightToLeft?"rtl":"ltr"}t.CopyrightBannerController=n},"./app/components/Browse/BrowseChannelResults/BrowseChannelResults.html":function(e,t){e.exports='<channel-results load-channel-results="$ctrl.loadChannelResults(skip, top)" on-init=$ctrl.onInit(channelResultsController) , extra-query-params=$ctrl.extraQueryParams> </channel-results>'},"./app/components/Browse/BrowseChannelResults/BrowseChannelResults.less":function(e,t){},"./app/components/Browse/BrowseChannelResults/BrowseChannelResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Browse/BrowseChannelResults/BrowseChannelResultsController.ts");function o(){this.controller=i.BrowseChannelResultsController,this.template=n("./app/components/Browse/BrowseChannelResults/BrowseChannelResults.html"),this.bindings={searchString:"<",channelSort:"<"},this.bindtocontroller=!0}n("./app/components/Browse/BrowseChannelResults/BrowseChannelResults.less"),t.BrowseChannelResults=o,r.registerComponent("browseChannelResults",o,angular.module("jumper"))},"./app/components/Browse/BrowseChannelResults/BrowseChannelResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){var t=this;this.channelResultsController=e,this.channelResultsController.telemetryEventName=s.TelemetryEventNames.browseChannelsSessionEventName,this.channelResultsController.screenName=s.ScreenName.BrowseChannels,this.channelResultsController.defaultSort=r.Constants.ChannelsSortOptions.Subscribers,!this.featureFlagsService.Values.BrowseBack&&this.$location.search()[r.Constants.QueryStringKeys.SearchTerm]&&(e.defaultSort=r.Constants.ChannelsSortOptions.Relevance),this.featureFlagsService.Values.BrowseBack||this.$timeout((function(){t.channelResultsController.searchString=t.searchString,t.$scope.$watch((function(){return t.searchString}),(function(e,n){t.channelResultsController.searchString=t.searchString}))}),0)},a.prototype.loadChannelResults=function(e,t){return this.channelService.search(this.channelResultsController.searchString||void 0,this.channelResultsController.channelSort,this.channelResultsController.sortDirection,e,t,!0,this.channelResultsController.isInAdminMode)},a.$inject=["$scope","channelService","featureFlagsService","resources","$window","$timeout","telemetryService","$location"],n=a;function a(e,t,n,a,l,c,d,u){var p=this;this.$scope=e,this.channelService=t,this.featureFlagsService=n,this.resources=a,this.$window=l,this.$timeout=c,this.telemetryService=d,this.$location=u,this.extraQueryParams={view:r.Constants.BrowseView.Channel},this.screenName=s.ScreenName.BrowseChannels,this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(this.screenName),this.$window.document.title=o.formatString(this.resources.BrowserTitle.BrowseChannels,r.Constants.ProductName),e.$on("$destroy",(function(){p.$location.search(r.Constants.QueryStringKeys.Sort,null)}))}t.BrowseChannelResultsController=n},"./app/components/Browse/BrowseGroupResults/BrowseGroupResults.html":function(e,t){e.exports='<group-results load-group-results="$ctrl.loadGroupResults(skip, top)" on-init=$ctrl.onInit(groupResultsController) , extra-query-params=$ctrl.extraQueryParams> </group-results>'},"./app/components/Browse/BrowseGroupResults/BrowseGroupResults.less":function(e,t){},"./app/components/Browse/BrowseGroupResults/BrowseGroupResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Browse/BrowseGroupResults/BrowseGroupResultsController.ts");function o(){this.controller=i.BrowseGroupResultsController,this.template=n("./app/components/Browse/BrowseGroupResults/BrowseGroupResults.html"),this.bindings={groupSort:"<",groupFilter:"<"},this.bindtocontroller=!0}n("./app/components/Browse/BrowseGroupResults/BrowseGroupResults.less"),t.BrowseGroupResults=o,r.registerComponent("browseGroupResults",o,angular.module("jumper"))},"./app/components/Browse/BrowseGroupResults/BrowseGroupResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){this.groupResultsController=e,this.groupResultsController.telemetryEventName=s.TelemetryEventNames.browseGroupsSessionEventName,this.groupResultsController.screenName=s.ScreenName.BrowseGroups,this.groupResultsController.defaultSort=r.Constants.GroupsSortOptions.Videos,this.groupResultsController.defaultGroupFilter=r.Constants.GroupsFilterOptions.HideEmptyGroups},a.prototype.loadGroupResults=function(e,t){var n=this.groupResultsController.searchString||"",r=this.groupResultsController.groupFilter;return this.isGroupSearchDisabled()?this.$q.reject({reason:this.groupQueryDisabled,status:429}):this.groupResultsController.isFilterEmptyGroupsEnabled()?this.groupService.search(n,this.groupResultsController.groupSort,this.groupResultsController.sortDirection,e,t,!1,r):this.groupService.search(n,this.groupResultsController.groupSort,this.groupResultsController.sortDirection,e,t)},a.prototype.isGroupSearchDisabled=function(){return this.featureFlagService.Values.DisableGroupSearch},a.$inject=["$scope","groupService","resources","$window","$timeout","telemetryService","featureFlagsService","$q","$location"],n=a;function a(e,t,n,a,l,c,d,u,p){var m=this;this.$scope=e,this.groupService=t,this.resources=n,this.$window=a,this.$timeout=l,this.telemetryService=c,this.featureFlagService=d,this.$q=u,this.$location=p,this.extraQueryParams={view:r.Constants.BrowseView.Group},this.screenName=s.ScreenName.BrowseGroups,this.groupQueryDisabled="Group query disabled because of high CPU usage",this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(this.screenName),this.$window.document.title=o.formatString(this.resources.BrowserTitle.BrowseGroups,r.Constants.ProductName),e.$on("$destroy",(function(){m.$location.search(r.Constants.QueryStringKeys.Sort,null)}))}t.BrowseGroupResultsController=n},"./app/components/Browse/BrowsePage/BrowsePage.html":function(e,t){e.exports='<div class=browse-page> <div class="new-tab-navigation-bar o365-topnav-configuration"> <div class=gradient-wrapper></div> <div class="navigation-bar row column row-size1"> <tab-navigation model=$ctrl.tabOptions value=$ctrl.selectedTabOption on-select=$ctrl.tabSelected(value) is-v2-style-enabled=true fixed-elements=$ctrl.fixedElements></tab-navigation> </div> </div> <section class="section-size3 page-section o365-page-style" aria-label={{$ctrl.selectedTabText}} ng-class="{\'new-list-page-style\' : $ctrl.videosSelected}"> <div class="row row-size1 column" ng-if=$ctrl.videosSelected> <div class=items-list> <browse-video-results search-string=$ctrl.searchString video-sort=$ctrl.videoSort transcript-search=$ctrl.transcriptSearchEnabled> </browse-video-results> </div> </div> <div class="row row-size1 column browse-items-list channels-result" ng-if=$ctrl.channelsSelected> <div class=items-list> <browse-channel-results search-string=$ctrl.searchString channel-sort=$ctrl.channelSort> </browse-channel-results> </div> </div> <div class="row row-size1 column browse-items-list" ng-if=$ctrl.peopleSelected> <div class=items-list> <browse-people-results search-string=$ctrl.searchString> </browse-people-results> </div> </div> <div class="row row-size1 column browse-items-list browse-groups-list" ng-if=$ctrl.groupsSelected> <div class=items-list> <browse-group-results group-sort=$ctrl.groupSort group-filter=$ctrl.groupFilter> </browse-group-results> </div> </div> </section> </div> '},"./app/components/Browse/BrowsePage/BrowsePage.less":function(e,t){},"./app/components/Browse/BrowsePage/BrowsePage.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Browse/BrowsePage/BrowsePageController.ts");function o(){this.controller=i.BrowsePageController,this.template=n("./app/components/Browse/BrowsePage/BrowsePage.html"),this.bindings={routeParams:"<"},this.bindToController=!0}n("./app/components/Browse/BrowsePage/BrowsePage.less"),t.BrowsePage=o,r.registerComponent("browsePage",o,angular.module("jumper"))},"./app/components/Browse/BrowsePage/BrowsePageController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/models/TelemetryEventModels.ts");function a(e,t,n,r,i,a){var l=this;this.$scope=e,this.resources=t,this.principalService=n,this.$location=r,this.$timeout=i,this.telemetryService=a,this.extraQueryParams=this.$location.search(),this.fixedElements=["header"],this.telemetryTracker=this.telemetryService.getTracker(o.ScreenName.BrowseVideos),this.principalService.getMyPrincipalInfo().then((function(e){l.me=e.data,l.telemetryTracker.succeed(s.FeatureName.GetPrincipalSettings)}),(function(e){l.telemetryTracker.fail(s.FeatureName.GetPrincipalSettings,s.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})).finally((function(){l.transcriptSearchEnabled=l.me&&l.me.servicePlans.capabilities.transcriptSearch,i((function(){l.init()}),0)}))}(n=r=t.TypeFilter||(t.TypeFilter={}))[n.Videos=0]="Videos",n[n.Channels=1]="Channels",n[n.People=2]="People",n[n.Groups=3]="Groups",a.prototype.init=function(){var e=this;this.initTabOptions(),this.$timeout((function(){e.$scope.$watch((function(){return e.$location.search()}),(function(t,n){void 0!==t[i.Constants.QueryStringKeys.SearchTerm]&&(e.searchString=t[i.Constants.QueryStringKeys.SearchTerm]),(t=t[i.Constants.QueryStringKeys.View])?t===i.Constants.BrowseView.Channel?e.selectedTabOption=r.Channels:t===i.Constants.BrowseView.People?e.selectedTabOption=r.People:t===i.Constants.BrowseView.Group&&(e.selectedTabOption=r.Groups):e.selectedTabOption=r.Videos}))}),0);var t=_.values(i.Constants.BrowseView);this.$scope.$watch((function(){return e.$location.search()}),(function(n,r){n&&(e.selectedTabOption=Math.max(t.indexOf(n[i.Constants.QueryStringKeys.View]),0))}))},a.prototype.initTabOptions=function(){var e=this.$location.search();this.tabOptions={options:[{value:r.Videos,text:this.resources.TopbarVideos},{value:r.Channels,text:this.resources.TopbarChannels},{value:r.People,text:this.resources.TopbarPeople},{value:r.Groups,text:this.resources.TopbarGroups}]},this.selectedTabOption=r.Videos,e.view&&((e=e.view)===i.Constants.BrowseView.Channel?this.selectedTabOption=r.Channels:e===i.Constants.BrowseView.People?this.selectedTabOption=r.People:e===i.Constants.BrowseView.Group&&(this.selectedTabOption=r.Groups))},Object.defineProperty(a.prototype,"videosSelected",{get:function(){return this.selectedTabOption===r.Videos},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"channelsSelected",{get:function(){return this.selectedTabOption===r.Channels},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"peopleSelected",{get:function(){return this.selectedTabOption===r.People},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"groupsSelected",{get:function(){return this.selectedTabOption===r.Groups},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selectedTabText",{get:function(){var e=this,t=this.tabOptions?_.find(this.tabOptions.options,(function(t){return t.value===e.selectedTabOption})):void 0;return t?t.text:""},enumerable:!0,configurable:!0}),a.prototype.tabSelected=function(e){(this.selectedTabOption=e)===r.Channels?this.$location.search(_.assign({},this.extraQueryParams,{view:i.Constants.BrowseView.Channel})):e===r.People?this.$location.search(_.assign({},this.extraQueryParams,{view:i.Constants.BrowseView.People})):e===r.Groups?this.$location.search(_.assign({},this.extraQueryParams,{view:i.Constants.BrowseView.Group})):this.$location.search(_.assign({},this.extraQueryParams,{}))},a.$inject=["$scope","resources","principalService","$location","$timeout","telemetryService"],n=a,t.BrowsePageController=n},"./app/components/Browse/BrowsePeopleResults/BrowsePeopleResults.html":function(e,t){e.exports='<div class="row row-size0"> <div class=search-filter-bar sticky-element=$ctrl.filterStickyClass auto-margin-next=true> <search-and-filter> <search-bar class="column large-3 medium-4 small-6" placeholder=$ctrl.searchBarText label=$ctrl.searchBarLabel default-value=$ctrl.searchString on-search=$ctrl.searchPressed(value) events-list=$ctrl.listEvents.searchEvents> </search-bar> </search-and-filter> </div> </div> <div class="row row-size1 items-list relativeposition"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" items-per-row-large=$ctrl.itemsPerRow refresh-data=$ctrl.refreshData list-events=$ctrl.listEvents resource-name=$ctrl.resourceName screen-name=$ctrl.screenName class=people-list> <item> <person-item></person-item> </item> <no-data-message> <div class=column> {{$ctrl.noDataMessage}} </div> </no-data-message> </items-list> </div>'},"./app/components/Browse/BrowsePeopleResults/BrowsePeopleResults.less":function(e,t){},"./app/components/Browse/BrowsePeopleResults/BrowsePeopleResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Browse/BrowsePeopleResults/BrowsePeopleResultsController.ts");function o(){this.controller=i.BrowsePeopleResultsController,this.template=n("./app/components/Browse/BrowsePeopleResults/BrowsePeopleResults.html"),this.bindings={searchString:"<"},this.bindtocontroller=!0}n("./app/components/Browse/BrowsePeopleResults/BrowsePeopleResults.less"),t.BrowsePeopleResults=o,r.registerComponent("browsePeopleResults",o,angular.module("jumper"))},"./app/components/Browse/BrowsePeopleResults/BrowsePeopleResultsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/utility/string.ts"),c=n("./app/components/ItemsList/ListBase/ListBase.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=c.ListBase),u.prototype.initBindings_ItemsList=function(){var e=this;this.itemsPerRow=4,this.screenName=d.ScreenName.BrowsePeople,this.resourceName=this.resources.ItemList.ResourceName.People,this.loadDataPage=function(t,n){return e.searchString&&0!==e.searchString.length&&0===t?e.principalService.searchPrincipals(e.searchString||"",s.Constants.PrincipalsList.top,t,!1,[s.Constants.PrincipalType.User]).then((function(t){var n=l.formatString(e.resources.ItemList.NoMatchingResultsMessage,e.resources.ItemList.ResourceName.People);return e.noDataMessage!==n&&(e.noDataMessage=n),t})):e.$q.resolve({data:{value:[]}})}},u.prototype.initBindings_SearchAndFilter=function(){var e=this;this.searchPressed=function(t){e.searchString=t},this.searchBarText=this.resources.Components.SearchBar.SearchForPeople,this.searchBarLabel=this.resources.Components.SearchBar.SearchForPeopleLabel,this.filterStickyClass="show-for-medium"},u.prototype.initBindings_NoDataMessage=function(){this.noDataMessage=this.resources.Components.SearchBar.SearchForPeopleFull},u.$inject=["$scope","principalService","resources","telemetryService","featureFlagsService","$window","$transclude","$q","$location","$timeout","clearQueryParamsService"],i=u;function u(e,t,n,r,i,c,u,p,m,h,g){var f=o.call(this,e,r,i)||this;return f.$scope=e,f.principalService=t,f.resources=n,f.telemetryService=r,f.$window=c,f.$transclude=u,f.$q=p,f.$location=m,f.$timeout=h,f.clearQueryParamsService=g,f.firstTimePageLoad=!0,f.$window.document.title=l.formatString(f.resources.BrowserTitle.BrowsePeople,s.Constants.ProductName),f.telemetryService.getTracker(d.ScreenName.BrowsePeople).tagScreen(),a.ActivityIds.initActivityId(d.ScreenName.BrowsePeople),f.initBindings_ItemsList(),f.initBindings_SearchAndFilter(),f.initBindings_NoDataMessage(),f.featureFlagsService.Values.BrowseBack&&f.$scope.$watch((function(){return f.$location.search()}),(function(e,t){e[s.Constants.QueryStringKeys.SearchTerm]&&(f.searchString=e[s.Constants.QueryStringKeys.SearchTerm]),f.clearQueryParamsService.diffPathName||e[s.Constants.QueryStringKeys.SearchTerm]||(f.searchString=null)})),f.$scope.$watch((function(){return f.searchString}),(function(e,t){f.firstTimePageLoad||(f.refreshData=!0),f.firstTimePageLoad=!1,f.featureFlagsService.Values.BrowseBack&&(e===t||f.clearQueryParamsService.diffPathName||(e?(f.featureFlagsService.Values.BrowseBack,f.$location.search(_.assign({},{view:s.Constants.BrowseView.People,q:e}))):f.$location.search(s.Constants.QueryStringKeys.SearchTerm,null))),f.clearQueryParamsService.diffPathName=!1})),f}t.BrowsePeopleResultsController=i},"./app/components/Browse/BrowseVideoItem/BrowseVideoItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Browse/BrowseVideoItem/BrowseVideoItemController.ts");n=n("./app/components/VideoItem/VideoItem.ts"),i(l,o=n.VideoItem),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.BrowseVideoItemController,e}t.BrowseVideoItem=i,s.registerComponent("browseVideoItem",i,angular.module("jumper"))},"./app/components/Browse/BrowseVideoItem/BrowseVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/string.ts"),a=n("./app/utility/Constants.ts"),l=n("./app/components/VideoItem/VideoItemController.ts"),c=n("./app/components/Creator/CreatorController.ts");i(d,o=l.VideoItemController),Object.defineProperty(d.prototype,"infoMessage",{get:function(){if(this.videoItem.creator){var e=new Date(this.videoItem.created);return s.formatString(this.Resources.UploadedOnDateByCreator,this.$filter("localDate")(e.toISOString(),"l"),c.processNameTemplate(this.videoItem.creator.name))}return""},enumerable:!0,configurable:!0}),d.prototype.InitDrawerItems=function(){this.drawerItems=[],o.prototype.InitDrawerItems.call(this)},d.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=d;function d(e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C){return(y=o.call(this,e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C,a.Constants.TagClickSource.BrowseVideoItem)||this).$scope=e,y.videoService=t,y.deleteConfirmationDialogService=n,y.dataPollingService=r,y.Resources=i,y.$q=s,y.navigationService=l,y.$filter=c,y.addChannelsDialog=d,y.addGroupChannelsDialog=u,y.videoShareDialog=p,y.videoBgUploaderService=m,y.$timeout=h,y.telemetryService=g,y.principalService=b,y.$window=S,y.videoEditorDialog=_,y.replaceVideoService=C,y}t.BrowseVideoItemController=i},"./app/components/Browse/BrowseVideoResults/BrowseVideoResults.html":function(e,t){e.exports='<video-results load-video-results="$ctrl.loadVideoResults(skip, top, isInAdminMode)" on-init=$ctrl.onInit(videoResultsController)> <item> <browse-video-item hide-creator=false video-item=item video-source=$ctrl.videoResultsController.videoSource metrics=$ctrl.videoResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.videoResultsController.isStreamAdmin fixed-elements=$ctrl.fixedElements is-in-admin-mode=$ctrl.videoResultsController.isInAdminMode> <info-message> <video-creator item=item get-creator-message-template=$ctrl.getCreatorMessageTemplate(videoItem)> </video-creator> </info-message> </browse-video-item> </item> </video-results>'},"./app/components/Browse/BrowseVideoResults/BrowseVideoResults.ts":function(e,t,n){function r(){this.controller=o.BrowseVideoResultsController,this.template=n("./app/components/Browse/BrowseVideoResults/BrowseVideoResults.html"),this.bindings={searchString:"<",videoSort:"<",transcriptSearch:"<"}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Browse/BrowseVideoResults/BrowseVideoResultsController.ts");t.BrowseVideoResults=r,i.registerComponent("browseVideoResults",r,angular.module("jumper"))},"./app/components/Browse/BrowseVideoResults/BrowseVideoResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Creator/CreatorController.ts");l.prototype.onInit=function(e){var t=this;(this.videoResultsController=e).searchBarText=this.resources.Components.SearchBar.SearchForVideos,e.searchBarLabel=this.resources.Components.SearchBar.SearchForVideosLabel,e.telemetryEventName=s.TelemetryEventNames.browseVideosSessionEventName,e.screenName=s.ScreenName.BrowseVideos,e.defaultSort=r.Constants.VideoSortOptions.Trending,!this.featureFlagsService.Values.BrowseBack&&this.$location.search()[r.Constants.QueryStringKeys.SearchTerm]&&(e.defaultSort=r.Constants.VideoSortOptions.Relevance),e.videoSortOptions={label:this.resources.Sortby,options:(this.featureFlagsService.Values.SortByName?[{value:r.Constants.VideoSortOptions.Name,text:this.resources.Browse.VideoSort.Name,telemetrySuffix:r.Constants.sortBySuffixOptions.Name}]:[]).concat([{value:r.Constants.VideoSortOptions.Relevance,text:this.resources.Browse.VideoSort.Relevance,telemetrySuffix:r.Constants.sortBySuffixOptions.Relevance},{value:r.Constants.VideoSortOptions.Trending,text:this.resources.Browse.VideoSort.Trending,telemetrySuffix:r.Constants.sortBySuffixOptions.Trending},{value:r.Constants.VideoSortOptions.PublishDate,text:this.resources.Browse.VideoSort.PublishDate,telemetrySuffix:r.Constants.sortBySuffixOptions.PublishDate},{value:r.Constants.VideoSortOptions.Views,text:this.resources.Browse.VideoSort.Views,telemetrySuffix:r.Constants.sortBySuffixOptions.Views},{value:r.Constants.VideoSortOptions.Likes,text:this.resources.Browse.VideoSort.Likes,telemetrySuffix:r.Constants.sortBySuffixOptions.Likes}])},this.featureFlagsService.Values.BrowseBack||this.$timeout((function(){e.searchString=t.searchString,t.$scope.$watch((function(){return t.searchString}),(function(e,n){t.videoResultsController.searchString=t.searchString}))}),0)},l.prototype.loadVideoResults=function(e,t,n){void 0===n&&(n=!1),this.videoResultsController.sortDirection=r.Constants.VideoSortOptionToSortDirection[this.videoResultsController.videoSort]||r.Constants.SortDirection.Descending;var i=this.featureFlagsService.Values.LiveEventOptions&&!this.videoResultsController.searchString?r.Constants.VideosBesidesEndedNonRecordedLiveFilter:r.Constants.DataQueryDefaultFilter;return this.videoService.search(this.videoResultsController.searchString,this.videoResultsController.videoSort,this.videoResultsController.sortDirection,e,t,!0,i,n)},l.prototype.getCreatorMessageTemplate=function(e){var t=new Date(e.publishedDate);return o.formatString(this.resources.UploadedOnDateByCreator,this.$filter("localDate")(t.toISOString(),"l"),a.processNameTemplate(e.creator.name))},l.$inject=["$scope","videoService","resources","$window","$timeout","navigationService","telemetryService","featureFlagsService","$filter","$location"],n=l;function l(e,t,n,a,l,c,d,u,p,m){var h=this;this.$scope=e,this.videoService=t,this.resources=n,this.$window=a,this.$timeout=l,this.navigationService=c,this.telemetryService=d,this.featureFlagsService=u,this.$filter=p,this.$location=m,this.fixedElements=[".topbar-v2",".o365-topnav-configuration",".search-filter-bar"],this.screenName=s.ScreenName.BrowseVideos,this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(s.ScreenName.BrowseVideos),this.$window.document.title=o.formatString(this.resources.BrowserTitle.BrowseVideos,r.Constants.ProductName),this.$location.search(r.Constants.QueryStringKeys.View,null),e.$on("$destroy",(function(){h.$location.search(r.Constants.QueryStringKeys.Sort,null)}))}t.BrowseVideoResultsController=n},"./app/components/Channel/ChannelCard/ChannelCard.html":function(e,t){e.exports='<div class=channel-card ng-class=$ctrl.getDynamicClasses()> <a class="c-hyperlink channel-card-link" aria-label={{$ctrl.getChannelLabel}} ng-href={{::$ctrl.getChannelPageUrl()}} ng-click=$ctrl.channelClick()> <div class=header tabindex=-1 id={{$ctrl.channelItem.id}}> <img cardimage-onload entity=channel class=channel-poster aria-hidden=true ng-src={{$ctrl.channelItem.posterImage.small.url}} style=background-image:url({{::$ctrl.channelItem.posterImage.small.url}}) alt={{::$ctrl.getThumbnailAltText($ctrl.channelItem.name)}} ng-if=$ctrl.channelItem.posterImage.small.url /> <div class="channel-poster channel-poster-default" ng-if=!$ctrl.channelItem.posterImage.small.url> <svg-src svg-name=icon_channel_poster class=channel-poster-default-svg></svg-src> </div> <div class=name-group> <div class=channel-title custom-title={{$ctrl.channelItem.name}} light-style=true on-ellipsis-only=true> {{$ctrl.channelItem.name}} </div> <div class=group ng-if="!$ctrl.hideGroupName && !$ctrl.channelItem.group.isDefault"> {{$ctrl.channelItem.group.name}} </div> <div class=new-badge ng-if="$ctrl.channelItem.metrics.videos> 0 && $ctrl.inSevenDays($ctrl.videos[0].publishedDate)"> <div class=new-badge-text> {{::$ctrl.resources.ChannelCard.NewBadgeLabel}} </div> </div> </div> </div> </a> <div class=content> <div class=description ng-if=$ctrl.showDescription> <div ng-if=$ctrl.channelItem.description> <read-less-read-more class=channel-description text-content=$ctrl.channelItem.description default-max-lines=3 use-ellipsis=true telemetry-tracker=$ctrl.featureTelemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> </div> <div class=no-description ng-if=!$ctrl.channelItem.description> {{::$ctrl.resources.ChannelCard.NoDescription}} </div> </div> <div class=separator-line ng-if="$ctrl.showDescription && $ctrl.showVideos"> </div> <div class=videos ng-if=$ctrl.showVideos> <div ng-if="$ctrl.channelItem.metrics.videos > 0"> <div class=videos-loading ng-show=$ctrl.videosState.loading> <div class=videos-loading-inner> <div class="c-progress f-indeterminate-local f-progress-small" role=progressbar aria-valuetext={{$ctrl.resources.Loading}}> <span></span> <span></span> <span></span> <span></span> <span></span> </div> <h4 class=c-heading-4>{{::$ctrl.resources.Loading}}</h4> </div> </div> <div class=error-banner ng-show=$ctrl.videosState.error> <h6 class=c-heading-6>{{$ctrl.videosState.errMsg}}</h6> </div> <div class=videos-ready ng-show=$ctrl.videosState.ready> <div class=channel-card-video-item ng-repeat="videoItem in $ctrl.videos"> <a class="c-hyperlink video-link" role=link ng-href="{{$ctrl.getVideoPageUrl($ctrl.channelItem, videoItem.id)}}" ng-click="$ctrl.videoClicked($event, videoItem.id)" aria-label={{$ctrl.getVideoPosterAriaLabel(videoItem)}}> <img class=video-poster ng-src={{videoItem.posterImage.extraSmall.url}} alt={{::$ctrl.getThumbnailAltText(videoItem.name)}} /> <div class=video-name> {{videoItem.name}} <div class=new-circle ng-if=$ctrl.inSevenDays(videoItem.publishedDate)> </div> </div> </a> </div> <div class=more-videos ng-if="$ctrl.channelItem.metrics.videos > 3"> <a class=c-hyperlink ng-href={{::$ctrl.getChannelPageUrl()}} ng-click=$ctrl.channelClick($event)> <svg-src svg-name=icon_plus inline-with-text=true class=more-videos-svg></svg-src> <span class=more-videos-label> {{$ctrl.moreVideosLabel}} </span> </a> </div> </div> </div> <div class=no-videos ng-if="$ctrl.channelItem.metrics.videos == 0"> {{::$ctrl.resources.ChannelCard.NoVideos}} </div> </div> <div class=channel-statistics ng-if=!$ctrl.showVideos> <div class=video-count role=img aria-label="{{$ctrl.channelItem.metrics.videos | localNumber | channelVideos}}"> <svg-src svg-name=icon_video_count inline-with-text=true class=statistics-svg></svg-src> <span aria-hidden=true>{{$ctrl.channelItem.metrics.videos | localNumber}}</span> </div> <div class=following-info role=img aria-label="{{$ctrl.channelItem.metrics.follows | localNumber | channelFollows}}"> <svg-src svg-name=icon_privacy_my_org inline-with-text=true class=statistics-svg></svg-src> <span aria-hidden=true>{{$ctrl.channelItem.metrics.follows | localNumber}}</span> </div> </div> <div class=following> <follow-action-trigger ng-if=$ctrl.channelItem.userData.permissions.canFollowChannel channel=$ctrl.channelItem class=follow-trigger num-follow-click=$ctrl.numFollowClick num-unfollow-click=$ctrl.numUnfollowClick hide-on-unfollow=$ctrl.hideOnUnfollow on-feature-success=$ctrl.followOrUnFollowActionSucess(featureName) on-feature-failure="$ctrl.followOrUnFollowActionFailure(featureName, subFeatureName, err)" on-unfollow=$ctrl.onUnfollow()></follow-action-trigger> <div class=following-info ng-if=!$ctrl.isListItem role=img aria-label="{{$ctrl.channelItem.metrics.follows | localNumber | channelFollows}}" custom-title="{{$ctrl.channelItem.metrics.follows | localNumber | channelFollows}}" light-style=true> <svg-src svg-name=icon_privacy_my_org inline-with-text=true class=statistics-svg></svg-src> <span aria-hidden=true>{{$ctrl.channelItem.metrics.follows}}</span> </div> <div class=channel-toolbox ng-if=$ctrl.isListItem> <drawer drawer-items=$ctrl.drawerItems item=$ctrl.channelItem></drawer> </div> </div> </div> </div>'},"./app/components/Channel/ChannelCard/ChannelCard.less":function(e,t){},"./app/components/Channel/ChannelCard/ChannelCard.ts":function(e,t,n){function r(){this.controller=o.ChannelCardController,this.template=n("./app/components/Channel/ChannelCard/ChannelCard.html"),this.bindings={channelItem:"=",isListItem:"<",showDescription:"<",showVideos:"<",exitByProperty:"=",exitByValues:"<",numFollowClick:"=?",numUnfollowClick:"=?",onUpdate:"&",isStreamAdmin:"<",hideOnUnfollow:"<",metrics:"<",hideGroupName:"<",group:"<",searchString:"<?",sort:"<?",isInAdminMode:"<",afterChannelRemoved:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Channel/ChannelCard/ChannelCard.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Channel/ChannelCard/ChannelCardController.ts");t.ChannelCard=r,i.registerComponent("channelCard",r,angular.module("jumper"))},"./app/components/Channel/ChannelCard/ChannelCardController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/string.ts"),l=n("./app/services/NavigationService.ts"),c=n("./app/models/TelemetryEventModels.ts"),d=n("./app/components/ItemsList/ListBase/ListItemBase.ts"),u=n("./common/Directives/Drawer/Drawer.ts"),p=n("./app/models/TelemetryEventModels.ts"),m=n("./app/utility/appUtil.ts");i(h,o=d.ListItemBase),h.prototype.followOrUnFollowActionSucess=function(e){e===c.FeatureName.Follow?m.alertScreenReader(a.formatString(this.resources.FollowedChannel,this.channelItem.name)):m.alertScreenReader(a.formatString(this.resources.UnfollowedChannel,this.channelItem.name)),this.featureTelemetryTracker.succeed(e),this.onUpdate&&this.onUpdate({channel:this.channelItem,action:e})},h.prototype.followOrUnFollowActionFailure=function(e,t,n){this.featureTelemetryTracker.fail(e,t,n)},h.prototype.loadingVideos=function(){var e=this;this.videosState.loading=!0,this.channelService.getVideos(this.channelItem.id,s.Constants.ChannelCard.DefaultVideosShown,s.Constants.QueryConfigDefaults.DefaultSkip,s.Constants.VideoSortOptions.PublishDate,s.Constants.SortDirection.Descending,void 0,this.isInAdminMode).then((function(t){e.videos=t.data.value,e.videosState.ready=!0,e.videosState.error=!1,3<e.channelItem.metrics.videos&&(e.channelItem.metrics.videos-3==1?e.moreVideosLabel=e.resources.ChannelCard.OneMoreVideo:e.moreVideosLabel=a.formatString(e.resources.ChannelCard.MoreVideos,(e.channelItem.metrics.videos-3).toString())),e.featureTelemetryTracker.succeed(c.FeatureName.ChannelVideos)}),(function(t){e.videosState.error=!0,e.videosState.ready=!1,e.videosState.errMsg=t.data.error?t.data.error.message:"",e.featureTelemetryTracker.fail(c.FeatureName.ChannelVideos,c.SubFeatureName.ChannelService_GetVideos,t)})).finally((function(){e.videosState.loading=!1}))},h.prototype.videoClicked=function(e,t){this.exitByProperty&&this.exitByValues&&(this.exitByProperty=this.exitByValues.channelVideo),e.ctrlKey||this.isInAdminMode&&this.navigationService.addQueryParam({isInAdminMode:"true"})},h.prototype.inSevenDays=function(e){return Date.now()-Date.parse(e)<s.Constants.Time.SEVEN_DAYS},h.prototype.getVideoPageUrl=function(e,t){return e={channelId:e.id,channelName:e.name},this.isInAdminMode&&(e[s.Constants.DataQueryParams.IsInAdminMode]=!0),l.generatePathWithQueryStrings(s.Constants.Routes.Video,t,e)},h.prototype.getChannelPageUrl=function(){var e={};return this.isInAdminMode&&(e[s.Constants.DataQueryParams.IsInAdminMode]=!0),l.generatePathWithQueryStrings(s.Constants.Routes.Channel,this.channelItem.id,e)},h.prototype.getVideoPosterAriaLabel=function(e){return a.formatString(this.resources.VideoPosterImageAriaLabel,e.name,m.formatISODuration(e.media.duration))},h.prototype.getThumbnailAltText=function(e){return a.formatString(this.resources.ThumbnailAccessibilityText,e)},h.prototype.channelClick=function(e){this.exitByProperty&&this.exitByValues&&(this.exitByProperty=this.exitByValues.channel),this.metrics&&(this.metrics[p.ItemMetricEventNames.ItemClicked]=1+this.metrics[p.ItemMetricEventNames.ItemClicked]),e&&!e.ctrlKey&&this.isInAdminMode&&this.navigationService.addQueryParam({isInAdminMode:"true",view:"channels"})},h.prototype.InitDrawerItems=function(){var e=(this.channelItem.creator?this.channelItem.creator.id:null)===sessionInfo.UserClaim.UserInfo.UniqueId;this.drawerItems=[],(e||!this.isStreamAdmin&&this.channelItem.userData&&this.channelItem.userData.permissions.canEdit||this.isInAdminMode)&&(this.drawerItems.push(new u.DrawerItem("edit-button",this.resources.Edit,this.onEdit.bind(this),"icon_edit")),this.metrics&&!this.metrics[p.ItemMetricEventNames.ItemChanged]&&(this.metrics[p.ItemMetricEventNames.ItemChanged]=0)),this.channelItem.userData&&!this.channelItem.userData.permissions.canDelete||(this.drawerItems.push(new u.DrawerItem("delete-button",this.resources.Delete,this.onDeleteChannel.bind(this),"icon_delete")),this.metrics&&!this.metrics[p.ItemMetricEventNames.ItemDeleteClicked]&&(this.metrics[p.ItemMetricEventNames.ItemDeleteClicked]=0)),this.metrics&&!this.metrics[p.ItemMetricEventNames.ItemClicked]&&(this.metrics[p.ItemMetricEventNames.ItemClicked]=0),this.drawerItems.push(new u.DrawerItem("share-button",this.resources.Dialogs.ChannelShare.Share,this.onShare.bind(this),"icon_share")),this.metrics&&!this.metrics[p.ItemMetricEventNames.ItemShared]&&(this.metrics[p.ItemMetricEventNames.ItemShared]=0)},h.prototype.onShare=function(){this.metrics&&(this.metrics[p.ItemMetricEventNames.ItemShared]=1+this.metrics[p.ItemMetricEventNames.ItemShared]);var e=this.$q.defer();return this.channelShareDialog.open(this.channelItem.id).closePromise.finally((function(){e.resolve()})),e.promise},h.prototype.getDynamicClasses=function(){var e=[];return this.isListItem&&e.push(this.itemBaseClass,this.itemUniqueClass),e.join(" ")},h.prototype.onEdit=function(e){var t=this;void 0===e&&(e=!1);var n=this.$q.defer();this.metrics&&(this.metrics[p.ItemMetricEventNames.ItemChanged]=1+this.metrics[p.ItemMetricEventNames.ItemChanged]);var r=angular.copy(this.channelItem);return this.group&&(r.group=angular.copy(this.group)),this.editChannelDialog.open(r,e||this.isInAdminMode).closePromise.then((function(e){e&&e.value&&e.value.channel?_.isEqual(t.channelItem,e.value.channel)||(t.channelItem=_.merge(t.channelItem,e.value.channel),t.onItemChanged(e.value.channel)):t.onItemDeleted(t.channelItem)})).finally((function(){n.resolve()})),n.promise},h.prototype.onDeleteChannel=function(){var e=this,t=this.$q.defer();return this.metrics&&(this.metrics[p.ItemMetricEventNames.ItemDeleteClicked]=1+this.metrics[p.ItemMetricEventNames.ItemDeleteClicked]),this.deleteConfirmationDialogService.show(s.Constants.ResourceNames.Channel,this.channelItem.name).then((function(){e.channelService.delete(e.channelItem.id,e.isInAdminMode).then((function(){var t=e.onItemDeleted(e.channelItem);e.featureTelemetryTracker.succeed(c.FeatureName.DeleteChannel),e.afterChannelRemoved&&e.$scope.$evalAsync((function(){e.afterChannelRemoved({index:t})}))}),(function(t){e.featureTelemetryTracker.fail(c.FeatureName.DeleteChannel,c.SubFeatureName.ChannelService_DeleteChannel,t)}))})).finally((function(){t.resolve()})),t.promise},h.prototype.onUnfollow=function(){this.hideOnUnfollow&&this.onFollowedChannelDeleted(this.channelItem)},Object.defineProperty(h.prototype,"groupPageUrl",{get:function(){return this.channelItem.group?a.formatString(s.Constants.Routes.Group,this.channelItem.group.id):null},enumerable:!0,configurable:!0}),h.prototype.groupClick=function(e){this.exitByProperty&&this.exitByValues&&(this.exitByProperty=this.exitByValues.channelGroup),e.ctrlKey||this.navigationService.clearQueryParams()},Object.defineProperty(h.prototype,"posterImageAriaLabel",{get:function(){return a.formatString(this.resources.ChannelPosterImageAltWithChannelName,this.channelItem.name)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"getChannelLabel",{get:function(){return this.channelItem.metrics?this.channelItem.description?a.formatString(this.resources.ChannelNameDescrAndStats,this.channelItem.name,this.channelItem.description,String(this.channelItem.metrics.videos),String(this.channelItem.metrics.follows)):a.formatString(this.resources.ChannelNameAndStats,this.channelItem.name,String(this.channelItem.metrics.videos),String(this.channelItem.metrics.follows)):""},enumerable:!0,configurable:!0}),h.$inject=["resources","channelService","telemetryService","navigationService","$scope","$timeout","deleteConfirmationDialogService","editChannelDialog","$q","channelShareDialog","inAdminModeService","featureFlagsService","$location"],i=h;function h(e,t,n,r,i,a,l,d,u,p,m,g,f){var v=o.call(this,i,a,h)||this;return v.resources=e,v.channelService=t,v.telemetryService=n,v.navigationService=r,v.$scope=i,v.$timeout=a,v.deleteConfirmationDialogService=l,v.editChannelDialog=d,v.$q=u,v.channelShareDialog=p,v.inAdminModeService=m,v.featureFlagsService=g,v.$location=f,v.hideOnUnfollow=!1,v.videosState={ready:!1,loading:!1,error:!1,errMsg:""},v.itemBaseClass="channel-card-list-item",v.isListItem?(v.channelItem=v.item,v.featureTelemetryTracker=v.telemetryTracker,v.InitDrawerItems()):v.featureTelemetryTracker=n.getTracker(c.ScreenName.Auto),v.showVideos&&v.loadingVideos(),v.tagClickedTelemetryProperties={source:s.Constants.TagClickSource.ChannelCard,id:v.channelItem?v.channelItem.id:""},v}t.ChannelCardController=i},"./app/components/Channel/ChannelDetail/ChannelDetail.html":function(e,t){e.exports='<div class=error-page ng-if=$ctrl.pageLoadErrMsg> <error-box title-str={{::$ctrl.pageLoadErrTitle}} message={{::$ctrl.pageLoadErrMsg}} no-actions=true full-screen=true player-page=true /> </div> <div class="channel-detail channel-detail-v2" ng-if=$ctrl.pageLoadReady ngf-drop ngf-drop-disabled="!$ctrl.channel || !$ctrl.channel.userData.permissions.canAddMediaItemsToChannel  || $ctrl.uploadDisabled" ng-model=$ctrl.files ngf-drag-over-class=dragover ngf-multiple=true> <div class=channel-info> <div class=channel-header-container> <div class="row column channel-header"> <div class=channel-name-action> <div class=channel-name><span>{{$ctrl.channel.name}}</span></div> <drawer class=action-drawer drawer-items=$ctrl.drawerItems></drawer> </div> <div class=group-name ng-if=!$ctrl.channel.group.isDefault> <a class=c-hyperlink ng-href={{$ctrl.groupPageUrl}} ng-click=$ctrl.groupClick()> {{$ctrl.channel.group.name}} </a> </div> <div class=channel-poster-image> <img check-aspect-ratio class=channel-poster-image-content ng-src={{::$ctrl.channel.posterImage.small.url}} onerror=\'this.src="../../bundles/app/generated/channel-poster-default.png"\' aria-label={{$ctrl.resources.ChannelPosterImageAlt}} ng-if=$ctrl.channel.posterImage.small.url /> <div class="channel-poster-image-content channel-poster-default" aria-label={{$ctrl.resources.ChannelPosterImageAlt}} ng-if=!$ctrl.channel.posterImage.small.url> <svg-src svg-name=icon_channel_poster class=channel-poster-default-svg></svg-src> </div> </div> </div> </div> <div class=channel-other-container> <div class="row column channel-other"> <read-less-read-more ng-if=$ctrl.channel.description class="channel-description c-caption-1" text-content=$ctrl.channel.description default-max-lines=2 telemetry-tracker=$ctrl.featureTelemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <div class=follow-statistics> <follow-action-trigger ng-if="$ctrl.channel && $ctrl.channel.userData.permissions.canFollowChannel" channel=$ctrl.channel class=channel-action-trigger num-follow-click=$ctrl.telemetryMetrics.followClick num-unfollow-click=$ctrl.telemetryMetrics.unfollowClick on-feature-success=$ctrl.followOrUnFollowActionSucess(featureName) on-feature-failure="$ctrl.followOrUnFollowActionFailure(featureName, subFeatureName, err)"> </follow-action-trigger> <channel-statistics-with-icon class=channel-statistics channel=$ctrl.channel /> </div> </div> </div> </div> <upload-permissions compact=true files=$ctrl.files upload-disabled=$ctrl.uploadDisabled ng-if="$ctrl.channel && $ctrl.channel.userData.permissions.canAddMediaItemsToChannel"> </upload-permissions> <section class="section-size3 page-section new-list-page-style"> <channel-video-list ng-if=$ctrl.channelCopy channel-copy=$ctrl.channelCopy channel-origin=$ctrl.channel is-edit-mode=$ctrl.isEditMode video-id=$ctrl.videoIdForPoster selected-thumbnail=$ctrl.selectedThumbnail telemetry-data=$ctrl.videoListTelemetryData is-in-admin-mode=$ctrl.isInAdminMode edit-eligible=$ctrl.editEligible> </channel-video-list> </section> </div> '},"./app/components/Channel/ChannelDetail/ChannelDetail.less":function(e,t){},"./app/components/Channel/ChannelDetail/ChannelDetail.ts":function(e,t,n){function r(){this.restrict="E",this.controller=o.ChannelDetailController,this.template=n("./app/components/Channel/ChannelDetail/ChannelDetail.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={channelId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Channel/ChannelDetail/ChannelDetail.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Channel/ChannelDetail/ChannelDetailController.ts");t.ChannelDetail=r,i.registerDirective("channelDetail",r,angular.module("jumper"))},"./app/components/Channel/ChannelDetail/ChannelDetailController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/components/Channel/ChannelDetail/ChannelDetailErrorHandler.ts"),a=n("./common/Directives/Drawer/Drawer.ts");l.prototype.sendTelemetryEvents=function(){this.isTelemetrySent||(this.telemetryProperties.isEditMode=this.isEditMode,this.copyListEvents(),this.telemetryService.getTracker(r.ScreenName.ChannelView).trackEvent(r.TelemetryEventNames.channelSummaryEventName,this.telemetryProperties,this.telemetryMetrics),this.flushAdminModeTelemetry(),this.isTelemetrySent=!0)},l.prototype.initChannel=function(){var e=this,t=this.$q.defer();return this.channelService.get(this.channelId,this.isInAdminMode,!0).then((function(n){e.channel=n.data,e.channelCopy=angular.copy(e.channel),e.$window.document.title=o.formatString(e.resources.BrowserTitle.Channel,i.Constants.ProductName,e.channel.name),e.pageLoadErrMsg=null,t.resolve()}),(function(n){e.pageLoadErrMsg=e.errorHandler.report(n,r.FeatureName.LoadChannelPage,r.SubFeatureName.ChannelService_GetChannel),500<=n.status?(e.featureTelemetryTracker.fail(r.FeatureName.LoadChannelPage,r.SubFeatureName.ChannelService_GetChannel,n),e.navigationService.navigate("fallback")):n.status==i.Constants.HttpStatusCode.NotFound?(e.pageLoadErrTitle=e.resources.Controllers.Channel.NotAvailable.Title,e.featureTelemetryTracker.warn(r.FeatureName.LoadChannelPage,r.SubFeatureName.ChannelService_GetChannel,n)):n.status==i.Constants.HttpStatusCode.Forbidden&&(e.pageLoadErrTitle=e.resources.AdminModeChannelForbiddenTitle,e.featureTelemetryTracker.warn(r.FeatureName.LoadChannelPage,r.SubFeatureName.ChannelService_GetChannel,n)),t.reject()})),t.promise},l.prototype.initPermission=function(){var e=this.channel.creator.id===sessionInfo.UserClaim.UserInfo.UniqueId;this.editEligible=this.channel.userData.permissions.canEdit,this.deleteEligible=this.channel.userData.permissions.canDelete,this.drawerItems=[],(this.editEligible||this.deleteEligible)&&((this.isInAdminMode||e||!this.isStreamAdmin&&this.editEligible)&&this.drawerItems.push(new a.DrawerItem("icon-edit",this.resources.Edit,this.onEditClicked.bind(this),"icon_edit")),(this.isInAdminMode||this.deleteEligible)&&this.drawerItems.push(new a.DrawerItem("delete-button",this.resources.Delete,this.onDeleteClicked.bind(this),"icon_delete"))),this.drawerItems.push(new a.DrawerItem("share-button",this.resources.Share,this.onShareClicked.bind(this),"icon_share")),this.isInAdminMode||!this.isStreamAdmin||e||this.drawerItems.push(new a.DrawerItem("admin-mode-button",this.resources.AdminMode.Enter,this.onAdminModeClick.bind(this,[!0]),"icon_edit")),this.pageLoadReady=!0},l.prototype.updateTelemetryMetrics=function(e){e.name&&(this.telemetryMetrics.nameChanged+=1),e.description&&(this.telemetryMetrics.descriptionChanged+=1),e.privacyMode&&(this.telemetryMetrics.restrictContributorChanged+=1),e.posterImage&&(this.telemetryMetrics.posterImageChanged+=1),e.principal&&(this.telemetryMetrics.principalChanged+=1)},l.prototype.onDeleteClicked=function(){var e=this,t=this.$q.defer();return this.telemetryProperties.deleteClicked=!0,this.deleteConfirmation.show(i.Constants.ResourceNames.Channel,this.channel.name).then((function(){e.channelService.delete(e.channelId,e.isInAdminMode).then((function(){e.featureTelemetryTracker.succeed(r.FeatureName.DeleteChannel),e.navigationService.navigate("/")})).catch((function(t){e.errorHandler.report(t,r.FeatureName.DeleteChannel,r.SubFeatureName.ChannelService_DeleteChannel)}))})).finally((function(){t.resolve()})),t.promise},l.prototype.onShareClicked=function(){var e=this.$q.defer();return this.telemetryProperties.shareClicked=!0,this.telemetryMetrics.shareClick+=1,this.shareChannelDialog.open(this.channel.id).closePromise.finally((function(){e.resolve()})),e.promise},l.prototype.onEditClicked=function(){var e=this.$q.defer();return this.telemetryMetrics.editClick+=1,this.handleEditDialogResult(this.isInAdminMode,e),e.promise},Object.defineProperty(l.prototype,"productName",{get:function(){return i.Constants.ProductName},enumerable:!0,configurable:!0}),l.prototype.followOrUnFollowActionSucess=function(e){this.featureTelemetryTracker.succeed(e)},l.prototype.followOrUnFollowActionFailure=function(e,t,n){this.featureTelemetryTracker.fail(e,t,n)},l.prototype.onAdminModeClick=function(){var e=this;this.isInAdminMode=!this.isInAdminMode,this.drawerItems=[],this.initChannel().then((function(){e.initPermission(),e.featureTelemetryTracker.succeed(r.FeatureName.LoadChannelPage)})),this.channel=null,this.isInAdminMode?this.inAdminModeService.channelId=this.channelId:(this.inAdminModeService.videoId=null,this.inAdminModeService.groupId=null,this.inAdminModeService.channelId=null,this.navigationService.clearQueryParams(),this.$window.location.reload())},l.prototype.handleEditDialogResult=function(e,t){var n=this;void 0===e&&(e=!1);var r=angular.copy(this.channel);this.editChannelDialog.open(r,e).closePromise.then((function(e){(e=e.value&&e.value.channel?e.value.channel:null)?n.channel=e:n.navigationService.navigate("/")})).finally((function(){t.resolve()}))},l.prototype.flushAdminModeTelemetry=function(){if(this.copyListEvents(),this.isInAdminMode){for(var e in this.telemetryProperties)this.elevatedChannelSummaryProperties[e]=this.telemetryProperties[e];this.telemetryService.getTracker(r.ScreenName.ChannelView).trackEvent(r.TelemetryEventNames.elevatedChannelSession,this.elevatedChannelSummaryProperties,this.telemetryMetrics)}},l.prototype.copyListEvents=function(){this.telemetryProperties.searchHistory=this.videoListTelemetryData.searchHistory.join(",").slice(0,5e3),this.telemetryMetrics.setPosterImageClick=this.videoListTelemetryData.numSetPosterImageClick,this.telemetryMetrics.removeFromChannelClick=this.videoListTelemetryData.numRemoveFromChannelClick,this.telemetryMetrics.sortByLikesClick=this.videoListTelemetryData.numSortByLikesClick,this.telemetryMetrics.sortByViewsClick=this.videoListTelemetryData.numSortByViewsClick,this.telemetryMetrics.sortByPublishedDateClick=this.videoListTelemetryData.numSortByPublishedDateClick,this.telemetryMetrics.sortByRelevanceClick=this.videoListTelemetryData.numSortByRelevanceClick,this.telemetryMetrics.shareVideoClick=this.videoListTelemetryData.numShareVideoClick,this.telemetryMetrics.editVideoClick=this.videoListTelemetryData.numEditVideoClick,this.telemetryMetrics.uploadVideosCount=this.videoListTelemetryData.numUploadVideos},Object.defineProperty(l.prototype,"groupPageUrl",{get:function(){return o.formatString(i.Constants.Routes.Group,this.channel&&this.channel.group&&this.channel.group.id)},enumerable:!0,configurable:!0}),l.prototype.groupClick=function(){this.navigationService.clearQueryParams()},l.$inject=["$q","$scope","resources","channelService","principalService","dataShareService","deleteConfirmationDialogService","$location","telemetryService","$window","featureFlagsService","navigationService","editChannelDialog","channelShareDialog","inAdminModeService"],n=l;function l(e,t,n,o,a,l,c,d,u,p,m,h,g,f,v){var y=this;this.$q=e,this.$scope=t,this.resources=n,this.channelService=o,this.principalService=a,this.dataShareService=l,this.deleteConfirmation=c,this.$location=d,this.telemetryService=u,this.$window=p,this.featureFlagsService=m,this.navigationService=h,this.editChannelDialog=g,this.shareChannelDialog=f,this.inAdminModeService=v,this.videoIdForPoster="",this.selectedThumbnail=null,this.pageLoadReady=!1,this.uploadDisabled=!0,this.isTelemetrySent=!1,this.telemetryProperties={isEditMode:!1,customPosterUploaded:!1,channelId:"",searchHistory:"",shareClicked:!1},this.telemetryMetrics={editClick:0,applyChangesClick:0,discardChangesClick:0,followClick:0,unfollowClick:0,setPosterImageClick:0,removeFromChannelClick:0,shareVideoClick:0,editVideoClick:0,sortByRelevanceClick:0,sortByPublishedDateClick:0,sortByLikesClick:0,sortByViewsClick:0,uploadVideosCount:0,nameChanged:0,descriptionChanged:0,restrictContributorChanged:0,posterImageChanged:0,principalChanged:0,adminClick:0,shareClick:0},this.elevatedChannelSummaryProperties={isEditMode:!0,customPosterUploaded:!1,channelId:"",searchHistory:"",shareClicked:!1},this.videoListTelemetryData={searchHistory:[],numSearchClick:0,numSortByRelevanceClick:0,numSortByPublishedDateClick:0,numSortByViewsClick:0,numSortByLikesClick:0,numSetPosterImageClick:0,numRemoveFromChannelClick:0,numShareVideoClick:0,numEditVideoClick:0,numUploadVideos:0,numPlayAllButtonClick:0},this.telemetryProperties.channelId=this.channelId,this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Channel),this.principalService.getMyPrincipalInfo().then((function(e){y.isStreamAdmin=y.principalService.getIsStreamAdmin(),y.isInAdminMode=y.isStreamAdmin&&y.principalService.getAdminModeStatus(),y.$scope.$watch(y.principalService.getAdminModeStatus,(function(e,t){e!=t&&y.onAdminModeClick()}))})).finally((function(){var e;y.isInAdminMode?(e=y.$location.search(),y.elevatedChannelSummaryProperties.adminEntryComponent=e.entryPoint||r.ElevatedItemEntryPoint.AdminAccessOnlyBar,y.elevatedChannelSummaryProperties.entryScreen=e.srcScreen||r.ScreenName.ChannelView,y.inAdminModeService.channelId=y.channelId):y.inAdminModeService.channelId=null,y.errorHandler=new s.ChannelDetailErrorHandler(y.resources,y.telemetryService),y.initChannel().then((function(){y.initPermission(),y.featureTelemetryTracker.succeed(r.FeatureName.LoadChannelPage)}))}));var b=this.sendTelemetryEvents.bind(this);t.$on("$destroy",(function(){y.sendTelemetryEvents(),y.$window.removeEventListener("beforeunload",b),y.$location.search(i.Constants.QueryStringKeys.ChannelMode,null),y.isInAdminMode&&(y.inAdminModeService.channelId=null)})),this.$window.addEventListener("beforeunload",b),this.$scope.$watch((function(){return y.files}),(function(e){e&&0<e.length&&(l.files=e,l.channel=y.channel,l.group=y.channel.group,y.videoListTelemetryData.numUploadVideos=e.length,h.navigate(i.Constants.Routes.Upload))})),this.tagClickedTelemetryProperties={source:i.Constants.TagClickSource.ChannelDetails,id:this.channelId}}t.ChannelDetailController=n},"./app/components/Channel/ChannelDetail/ChannelDetailErrorHandler.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/string.ts");o.prototype.report=function(e,t,n){var o="",s=e&&e.data&&e.data.error&&"string"==typeof e.data.error.message&&0<e.data.error.message.length?e.data.error.message:"";if(this.telemetryService.getTracker(r.ScreenName.ChannelUpdate).fail(t,n,e),t===r.FeatureName.UpdateChannel)o=e.status<500?s:this.resources.Components.ChannelDetail.UpdateFailHeader;else if(n)switch(n){case r.SubFeatureName.ChannelService_GetChannel:o=0<s.length?e.status<500?i.formatString("{0}. {1}.",this.resources.Components.ChannelDetail.LoadFailHeader,s):"":e.status<500?i.formatString("{0}.",this.resources.Components.ChannelDetail.LoadFailHeader):"";break;case r.SubFeatureName.RoleService_GetContributorRoleId:case r.SubFeatureName.RoleAssignmentService_GetChannelAssignment:o=e.status<500?i.formatString("{0}. {1}.",this.resources.Components.ChannelDetail.LoadFailHeader,s):this.resources.Components.ChannelDetail.LoadFailHeader;break;case r.SubFeatureName.ChannelService_DeleteChannel:}return o},n=o;function o(e,t){this.resources=e,this.telemetryService=t}t.ChannelDetailErrorHandler=n},"./app/components/Channel/ChannelStatistics/ChannelStatistics.html":function(e,t){e.exports="<div class=channel-statistics ng-if=$ctrl.channel> <div class=\"c-caption-1 channel-follows follow-count\" ng-class=\"$ctrl.flowVertically?'vertical-List-item':'horizontal-List-item'\"> {{$ctrl.channel.metrics.follows | localNumber | channelFollows}} </div> <span class=horizontal-space-16px /> <div class=\"c-caption-1 channel-videos video-count\" ng-class=\"$ctrl.flowVertically?'vertical-List-item':'horizontal-List-item'\"> {{::$ctrl.channel.metrics.videos | localNumber | channelVideos}} </div> </div>"},"./app/components/Channel/ChannelStatistics/ChannelStatistics.less":function(e,t){},"./app/components/Channel/ChannelStatistics/ChannelStatistics.ts":function(e,t,n){function r(){this.template=n("./app/components/Channel/ChannelStatistics/ChannelStatistics.html"),this.bindings={channel:"<",flowVertically:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Channel/ChannelStatistics/ChannelStatistics.less");var i=n("./app/utility/appUtil.ts");t.ChannelStatistics=r,i.registerComponent("channelStatistics",r,angular.module("jumper"))},"./app/components/Channel/ChannelStatisticsWithIcon/ChannelStatisticsWithIcon.html":function(e,t){e.exports='<div class=channel-statistics> <div class=channel-videos role=img aria-label="{{$ctrl.channel.metrics.videos | localNumber | channelVideos}}"> <svg-src svg-name=icon_video_count inline-with-text=true class=statistics-svg></svg-src> <span aria-hidden=true>{{$ctrl.channel.metrics.videos | localNumber}}</span> </div> <div class=channel-follows role=img aria-label="{{$ctrl.channel.metrics.follows | localNumber | channelFollows}}"> <svg-src svg-name=icon_privacy_my_org inline-with-text=true class=statistics-svg></svg-src> <span aria-hidden=true>{{$ctrl.channel.metrics.follows | localNumber}}</span> </div> </div>'},"./app/components/Channel/ChannelStatisticsWithIcon/ChannelStatisticsWithIcon.less":function(e,t){},"./app/components/Channel/ChannelStatisticsWithIcon/ChannelStatisticsWithIcon.ts":function(e,t,n){function r(){this.template=n("./app/components/Channel/ChannelStatisticsWithIcon/ChannelStatisticsWithIcon.html"),this.bindings={channel:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Channel/ChannelStatisticsWithIcon/ChannelStatisticsWithIcon.less");var i=n("./app/utility/appUtil.ts");t.ChannelStatisticsWithIcon=r,i.registerComponent("channelStatisticsWithIcon",r,angular.module("jumper"))},"./app/components/Channel/ChannelVideoItem/ChannelVideoItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Channel/ChannelVideoItem/ChannelVideoItemController.ts");n=n("./app/components/VideoItem/VideoItem.ts"),i(l,o=n.VideoItem),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.ChannelVideoItemController,e.bindToController=!0,e.bindings={videoItem:"=",channel:"<",onVideoDeleted:"&",onFeatureFailure:"&",onFeatureSuccess:"&",hideToolBox:"<",hidePrivacy:"<",videoSource:"<",hideCreator:"<",setAsPosterImage:"&",removeVideoFromChannel:"&",editVideo:"&",shareVideo:"&",metrics:"<",isEditMode:"<",videoOwner:"<",isStreamAdmin:"<",isInAdminMode:"<",headerRow:"<",sortKey:"<",fixedElements:"<",autoPlaySortValue:"<",channelPageList:"<"},e}t.ChannelVideoItem=i,s.registerComponent("channelVideoItem",i,angular.module("jumper"))},"./app/components/Channel/ChannelVideoItem/ChannelVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/string.ts"),a=n("./app/utility/Constants.ts"),l=n("./app/components/VideoItem/VideoItemController.ts"),c=n("./common/Directives/Drawer/Drawer.ts");i(d,o=l.VideoItemController),Object.defineProperty(d.prototype,"infoMessage",{get:function(){return this.videoItem&&this.videoItem.publishedDate&&this.videoItem.creator?s.formatString(this.Resources.Components.ChannelVideoList.InfoMessage,this.$filter("localDate")(this.videoItem.publishedDate,"l"),this.videoItem.creator.name):""},enumerable:!0,configurable:!0}),d.prototype.gotoVideo=function(e){var t,n=this;this.featureFlagsService.Values.AutoPlay&&"channelId"in this.videoSource&&(this.videoSource.sort=this.autoPlaySortValue.toString(),this.videoSource.autoplay="false",t=this.channelPageList.findIndex((function(e){return e.id===n.videoItem.id})),this.videoSource.skip=t),o.prototype.gotoVideo.call(this,e)},d.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=d;function d(e,t,n,r,i,s,l,d,u,p,m,h,g,f,v,y,b,S,_,C,$){var w=o.call(this,e,t,n,r,i,s,l,d,u,p,m,h,g,f,v,y,b,S,_,C,$,a.Constants.TagClickSource.ChannelVideoItem)||this;return w.$scope=e,w.videoService=t,w.deleteConfirmationDialogService=n,w.dataPollingService=r,w.Resources=i,w.$q=s,w.navigationService=l,w.$filter=d,w.addChannelsDialog=u,w.addGroupChannelsDialog=p,w.videoShareDialog=m,w.videoBgUploaderService=h,w.telemetryService=f,w.principalService=S,w.$window=_,w.videoEditorDialog=C,w.replaceVideoService=$,w.videoItem&&w.channel&&(w.videoSource={channelId:w.channel.id},w.$scope.$watch((function(){return w.isEditMode}),(function(e){w.drawerItems=[],o.prototype.InitDrawerItems.call(w),w.channel.userData&&w.channel.userData.permissions.canEdit&&w.drawerItems.push(new c.DrawerItem("set-poster-image-button"+(w.isInAdminMode?" admin-mode-button":""),w.Resources.Components.ChannelEdit.SetAsPosterImage,w.setAsPosterImage.bind(w,{video:w.videoItem}),"icon_set_channel_poster")),w.channel.userData&&w.channel.userData.permissions.canAddMediaItemsToChannel&&w.drawerItems.push(new c.DrawerItem("remove-from-channel-button"+(w.isInAdminMode?" admin-mode-button":""),w.Resources.Components.ChannelEdit.RemoveFromChannel,w.removeVideoFromChannel.bind(w,{video:w.videoItem}),"icon-remove-from-channel"))}))),w}t.ChannelVideoItemController=i},"./app/components/Channel/ChannelVideoList/ChannelVideoList.html":function(e,t){e.exports='<video-results ng-if=$ctrl.ready load-video-results="$ctrl.loadChannelVideos(skip, top)" on-init=$ctrl.onInit(videoResultsController) channel-page-list=$ctrl.setChannelList(list) id-of-first-video-to-play=$ctrl.setIdOfFirstVideoInChannel(id)> <filters> <search-and-filter ng-class="{\'search-and-filter-edit-order\': $ctrl.onEditOrderButtonClicked && ($ctrl.isInAdminMode || $ctrl.editEligible)}"> <search-bar class="column large-3 medium-4 small-6" ng-if=!$ctrl.isEditVideoOrderMode placeholder=$ctrl.videoResultsController.searchBarText label=$ctrl.videoResultsController.searchBarLabel default-value=$ctrl.videoResultsController.searchString on-search=$ctrl.videoResultsController.searchPressed(value) events-list=$ctrl.videoResultsController.listEvents.searchEvents></search-bar> <search-filter action-role=sort class="column end large-3 medium-4 small-6 video-sort-options" model=$ctrl.videoResultsController.videoSortOptions value=$ctrl.videoResultsController.videoSort metrics=$ctrl.videoResultsController.listEvents.sortEvents telemetry-prefix=$ctrl.videoResultsController.sortByPrefix></search-filter> <button type=button class="stream-btn btn-primary edit" ng-if="$ctrl.setDefaultSortOptionChannels && $ctrl.onEditOrderButtonClicked && ($ctrl.isInAdminMode || $ctrl.editEligible)" ng-click=$ctrl.onEditOrderButtonClicked()>{{$ctrl.orderButtonText}}</button> <button type=button class="stream-btn btn-primary play-all" ng-if=$ctrl.showPlayAllButtonForChannels ng-click=$ctrl.onPlayAllButtonClicked()>{{::$ctrl.resources.PlayAllButtonText}}</button> </search-and-filter> </filters> <item> <channel-video-item channel=$ctrl.channelOrigin hide-creator=false video-item=item video-source=$ctrl.videoSourceParams metrics=$ctrl.videoResultsController.listEvents.itemsEvents remove-video-from-channel=$ctrl.removeVideoFromChannel(video) set-as-poster-image=$ctrl.setAsPosterImage(video) share-video=$ctrl.shareVideo(video) edit-video=$ctrl.editVideo(video) is-edit-mode=$ctrl.isEditMode is-stream-admin=$ctrl.videoResultsController.isStreamAdmin is-in-admin-mode=$ctrl.isInAdminMode hide-tool-box=$ctrl.isEditVideoOrderMode auto-play-sort-value=$ctrl.videoResultsController.videoSort channel-page-list=$ctrl.channelPageList> <info-message> <video-creator item=item get-creator-message-template=$ctrl.getCreatorMessageTemplate(videoItem)> </video-creator> </info-message> </channel-video-item> </item> </video-results> '},"./app/components/Channel/ChannelVideoList/ChannelVideoList.less":function(e,t){},"./app/components/Channel/ChannelVideoList/ChannelVideoList.ts":function(e,t,n){function r(){this.controller=o.ChannelVideoListController,this.template=n("./app/components/Channel/ChannelVideoList/ChannelVideoList.html"),this.bindings={channelCopy:"=",channelOrigin:"=",isEditMode:"<",videoId:"=",telemetryData:"=",selectedThumbnail:"=",isInAdminMode:"<",editEligible:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Channel/ChannelVideoList/ChannelVideoList.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Channel/ChannelVideoList/ChannelVideoListController.ts");t.ChannelVideoList=r,i.registerComponent("channelVideoList",r,angular.module("jumper"))},"./app/components/Channel/ChannelVideoList/ChannelVideoListController.ts":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/components/Creator/CreatorController.ts");c.prototype.loadChannelVideos=function(e,t){var n=this.me&&this.me.servicePlans.capabilities.transcriptSearch;return this.videoResultsController.sortDirection=i.Constants.VideoSortOptionToSortDirection[this.videoResultsController.videoSort]||i.Constants.SortDirection.Descending,this.channelService.getVideos(this.channelCopy.id,t,e,this.videoResultsController.videoSort,this.videoResultsController.sortDirection,this.videoResultsController.searchString,this.isInAdminMode,n)},c.prototype.onInit=function(e){var t=this;(this.videoResultsController=e).searchBarText=this.resources.Components.SearchBar.SearchForVideos,e.searchBarLabel=this.resources.Components.SearchBar.SearchForVideosLabel,e.searchString="",e.telemetryEventName=a.TelemetryEventNames.channelSummaryEventName,e.screenName=this.screenName,this.videoSourceParams=e.videoSource={channelId:this.channelCopy.id},e.filterStickyClass="hide",e.defaultSort=Object.keys(i.Constants.VideoSortOptions).some((function(e){return t.channelCopy.settings&&i.Constants.VideoSortOptions[e]===t.channelCopy.settings.defaultSortOption}))?this.channelCopy.settings.defaultSortOption:i.Constants.VideoSortOptions.Trending},c.prototype.removeVideoFromChannel=function(e){var t=this,n=this.$q.defer();return this.telemetryData.numRemoveFromChannelClick++,this.channelService.removeVideo(this.channelCopy.id,e.id,this.isInAdminMode).then((function(n){t.removedVideo=e,t.videoResultsController.removeItem=e,t.onFeatureSuccess(a.FeatureName.RemoveVideoFromChannel)})).catch((function(e){t.onFeatureFailure(e,a.FeatureName.RemoveVideoFromChannel,a.SubFeatureName.ChannelService_RemoveVideo,!0)})).finally((function(){n.resolve()})),n.promise},c.prototype.editVideo=function(e){this.telemetryData.numEditVideoClick++,this.navigationService.navigate(o.formatString(i.Constants.Routes.VideoUpdate,e.id))},c.prototype.shareVideo=function(e){this.telemetryData.numShareVideoClick++,this.videoShareDialog.open(e)},c.prototype.onFeatureFailure=function(e,t,n,r){void 0===r&&(r=!1),this.featureTelemetryTracker.fail(t,n,e)},c.prototype.onFeatureSuccess=function(e){this.featureTelemetryTracker.succeed(e)},c.prototype.setAsPosterImage=function(e){var t=this,n=this.$q.defer();return this.telemetryData.numSetPosterImageClick++,this.isEditMode?(this.channelCopy.posterImage=angular.copy(e.posterImage),this.videoId=e.id,n.resolve(!0)):this.channelService.setVideoAsPosterImage(this.channelOrigin.id,e.id,this.isInAdminMode).then((function(){t.channelService.get(t.channelOrigin.id,t.isInAdminMode).then((function(e){t.channelOrigin=e.data,t.channelCopy=angular.copy(e.data),t.onFeatureSuccess(a.FeatureName.UpdateChannel),t.selectedThumbnail=null,s.alertScreenReader(t.resources.ChannelPosterUpdatedAlt)}),(function(e){t.featureTelemetryTracker.setResourceId(t.channelCopy.id),t.featureTelemetryTracker.fail(a.FeatureName.UpdateChannel,a.SubFeatureName.ChannelService_GetChannel,e)}))}),(function(e){t.featureTelemetryTracker.setResourceId(t.channelCopy.id),t.featureTelemetryTracker.fail(a.FeatureName.UpdateChannel,a.SubFeatureName.ChannelService_SetPosterImage,e)})).finally((function(){n.resolve(!0)})),n.promise},c.prototype.getCreatorMessageTemplate=function(e){var t=new Date(e.publishedDate);return o.formatString(this.resources.UploadedOnDateByCreator,this.$filter("localDate")(t.toISOString(),"l"),l.processNameTemplate(e.creator.name))},c.prototype.onEditOrderButtonClicked=function(){var e=this;this.isEditVideoOrderMode?(this.isEditVideoOrderMode=!1,this.orderButtonText=this.resources.EditVideoOrder,this.videoResultsController.videoSortOptions.label=this.resources.Sortby,this.videoResultsController.defaultSort!==this.videoResultsController.videoSort&&this.channelService.patch(this.channelCopy.id,{settings:r({},this.channelCopy.settings,{defaultSortOption:this.videoResultsController.videoSort})},this.isInAdminMode).then((function(t){e.featureTelemetryTracker.succeed(a.FeatureName.SetDefaultSortOption,{channelId:t.id,previousSortOption:e.channelCopy.settings.defaultSortOption,newSortOption:t.settings.defaultSortOption})})).catch((function(t){e.featureTelemetryTracker.fail(a.FeatureName.SetDefaultSortOption,a.SubFeatureName.ChannelService_PatchChannel,t)}))):(this.isEditVideoOrderMode=!0,this.orderButtonText=this.resources.Done,this.videoResultsController.videoSortOptions.label=this.resources.SetDefaultSort,this.videoResultsController.videoSort=this.videoResultsController.defaultSort)},c.prototype.setChannelList=function(e){this.channelPageList=e},c.prototype.onPlayAllButtonClicked=function(){this.telemetryData.numPlayAllButtonClick++;var e={channelId:this.channelOrigin.id,sort:this.videoResultsController.videoSort?this.videoResultsController.videoSort.toString():this.videoResultsController.defaultSort,autoplay:"true",skip:0};this.navigationService.navigate(o.formatString(i.Constants.Routes.Video,this.idOfFirstVideoInChannel),e)},c.prototype.setIdOfFirstVideoInChannel=function(e){this.idOfFirstVideoInChannel=e,this.showPlayAllButtonForChannels=this.featureFlagsService.Values.AutoPlay&&!!this.idOfFirstVideoInChannel},c.$inject=["$q","$scope","resources","channelService","principalService","deleteConfirmationDialogService","navigationService","videoShareDialog","telemetryService","featureFlagsService","$filter"],n=c;function c(e,t,n,r,o,s,l,c,d,u,p){var m=this;this.$q=e,this.$scope=t,this.resources=n,this.channelService=r,this.principalService=o,this.deleteConfirmation=s,this.navigationService=l,this.videoShareDialog=c,this.telemetryService=d,this.featureFlagsService=u,this.$filter=p,this.sortByPrefix=i.Constants.metricsPrefixes.SortBy,this.screenName=a.ScreenName.ChannelView,this.idOfFirstVideoInChannel=null,this.hasSearched=!1,this.setDefaultSortOptionChannels=this.featureFlagsService.Values.SetDefaultSortOptionChannels,this.orderButtonText=this.resources.EditVideoOrder,this.showPlayAllButtonForChannels=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(this.screenName),this.principalService.getMyPrincipalInfo().then((function(e){m.me=e.data,m.featureTelemetryTracker.succeed(a.FeatureName.GetPrincipalSettings)}),(function(e){m.featureTelemetryTracker.fail(a.FeatureName.GetPrincipalSettings,a.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})).finally((function(){m.ready=!0}))}t.ChannelVideoListController=n},"./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributor.html":function(e,t){e.exports='<div class=channel-update-contributor ng-if=$ctrl.canModifyContributor()> <div class=c-group> <div class="channel-permission c-checkbox"> <label class=c-label> <input type=checkbox ng-model=$ctrl.isRestricted ng-change=$ctrl.setPrivacyMode($ctrl.isRestricted)> <span>{{::$ctrl.resources.Components.ChannelCreate.RestrictContributor}}</span> </label> </div> <tooltip message=$ctrl.resources.ToolTip.Restrict button-aria-label={{::$ctrl.resources.Components.ChannelCreate.RestrictContributor}}></tooltip> </div> <div class=search-box ng-if=$ctrl.isRestricted> <span ng-show=$ctrl.searchDisabled> <span class="searchLimit tooltip-validation-container"><svg-src svg-name=icon_library class=tool-tip-icon></svg-src></span> <label class=label-info-message>{{$ctrl.resources.FormValidation.MaxChannelContributors}}</label> </span> <auto-complete search-min-input={{$ctrl.searchMinInput}} search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedPrincipal principals-searched=$ctrl.principalsSearched() principals-added=$ctrl.principalsAdded() hide-label=true custom-disabled=$ctrl.searchDisabled> </auto-complete> </div> <div class="principal-group column" ng-if="$ctrl.principals && $ctrl.principals.length"> <principal-group ng-if=$ctrl.isRestricted principals=$ctrl.principals principals-removed=$ctrl.onPrincipalsRemoved()> </principal-group> </div> </div> '},"./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributor.less":function(e,t){},"./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributor.ts":function(e,t,n){function r(){this.controller=o.ChannelUpdateContributorController,this.template=n("./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributor.html"),this.bindings={channel:"=",principals:"=",principalsSearched:"&?",principalsAdded:"&?",principalsRemoved:"&?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributor.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributorController.ts");t.ChannelUpdateContributor=r,i.registerComponent("channelUpdateContributor",r,angular.module("jumper"))},"./app/components/ChannelCreateUpdate/ChannelUpdateContributorCompact/ChannelUpdateContributorCompact.html":function(e,t){e.exports='<div class=channel-update-contributor-compact ng-if=$ctrl.canModifyContributor()> <div class=c-group> <div class="channel-permission c-checkbox"> <label class=c-label> <input type=checkbox ng-model=$ctrl.isRestricted ng-change=$ctrl.setPrivacyMode($ctrl.isRestricted)> <span>{{::$ctrl.resources.Components.ChannelCreate.RestrictContributor}}</span> </label> </div> <tooltip message=$ctrl.resources.ToolTip.Restrict button-aria-label={{::$ctrl.resources.Components.ChannelCreate.RestrictContributor}}></tooltip> </div> <div class=search-box ng-if=$ctrl.isRestricted> <span ng-show=$ctrl.searchDisabled> <span class="searchLimit tooltip-validation-container"><svg-src svg-name=icon_library class=tool-tip-icon></svg-src></span> <label class=label-info-message>{{$ctrl.resources.FormValidation.MaxChannelContributors}}</label> </span> <auto-complete search-min-input={{$ctrl.searchMinInput}} search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedPrincipal principals-searched=$ctrl.principalsSearched() principals-added=$ctrl.principalsAdded() hide-label=true custom-disabled=$ctrl.searchDisabled> </auto-complete> </div> <div class="principal-group-compact column" ng-if="$ctrl.principals && $ctrl.principals.length"> <principal-group-compact ng-if=$ctrl.isRestricted principals=$ctrl.principals principals-removed=$ctrl.onPrincipalsRemoved()> </principal-group-compact> </div> </div> '},"./app/components/ChannelCreateUpdate/ChannelUpdateContributorCompact/ChannelUpdateContributorCompact.less":function(e,t){},"./app/components/ChannelCreateUpdate/ChannelUpdateContributorCompact/ChannelUpdateContributorCompact.ts":function(e,t,n){function r(){this.controller=o.ChannelUpdateContributorController,this.template=n("./app/components/ChannelCreateUpdate/ChannelUpdateContributorCompact/ChannelUpdateContributorCompact.html"),this.bindings={channel:"=",principals:"=",principalsSearched:"&?",principalsAdded:"&?",principalsRemoved:"&?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ChannelCreateUpdate/ChannelUpdateContributorCompact/ChannelUpdateContributorCompact.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributorController.ts");t.ChannelUpdateContributorCompact=r,i.registerComponent("channelUpdateContributorCompact",r,angular.module("jumper"))},"./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescription.html":function(e,t){e.exports='<div class=channel-update-name-description-v2> <div class=channel-name-v2> <label class=ct-label-compact> {{::$ctrl.resources.Components.ChannelCreate.NameLabel}} </label> <input class="ct-textbox-compact channel-name-textbox" type=text aria-label={{::$ctrl.resources.Components.ChannelCreate.NameAriaLabel}} placeholder={{::$ctrl.resources.Components.ChannelCreate.NamePlaceholder}} ng-model=$ctrl.channel.name ng-model-options="{ debounce: 300 }" ng-change=$ctrl.onNameChange() ng-class="!$ctrl.showNameError ? \'\': \'error-border\'" maxlength={{::$ctrl.channelTitleMaxLength}} /> </div> <div class=channel-description-v2> <label class=ct-label-compact> {{::$ctrl.resources.Components.ChannelCreate.DescriptionLabel}} </label> <textarea class="f-no-resize f-scroll channel-description-textarea ct-textarea-compact" rows={{$ctrl.textRows}} aria-label={{::$ctrl.resources.Components.ChannelCreate.DescriptionAriaLabel}} placeholder={{::$ctrl.resources.Components.ChannelCreate.DescriptionPlaceholder}} ng-model=$ctrl.channel.description ng-model-options="{ debounce: 1000 }" maxlength={{$ctrl.channelDescriptionMaxLength}} ng-class="$ctrl.isDescriptionValid? \'\' : \'error-border\'"></textarea> </div> </div> '},"./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescription.less":function(e,t){},"./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescription.ts":function(e,t,n){function r(){this.controller=o.ChannelUpdateNameDescriptionController,this.template=n("./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescription.html"),this.bindings={channel:"=",isValid:"=?",descriptionRows:"=?",errorHeader:"=?",forceHideNameErrMsg:"=?",groupId:"<",saveButtonEnabled:"="}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescription.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescriptionController.ts");t.ChannelUpdateNameDescription=r,i.registerComponent("channelUpdateNameDescription",r,angular.module("jumper"))},"./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescriptionController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/models/TelemetryEventModels.ts");s.prototype.updateSaveButton=function(){this.saveButtonEnabled=this.nameChanged&&this.isNameAllowed||this.descriptionChanged&&this.isNameAllowed},s.prototype.onNameChange=function(){this.forceHideNameErrMsg&&(this.forceHideNameErrMsg=!1)},s.prototype.validateNameAndDescription=function(){var e=this;if(this.isNameAllowed=!1,!this.channel.name||0===this.channel.name.length)return this.forceHideNameErrMsg||(this.errorHeader=this.nameValidationErrMsg=this.resources.Components.ChannelCreate.NameEmptyError),void(this.saveButtonEnabled=!1);function t(t){e.telemetryTracker.fail(o.FeatureName.GetChannelByName,o.SubFeatureName.ChannelService_Query,t)}(this.groupId?this.$q.resolve(this.groupId):this.groupService.getDefaultGroupId()).then((function(n){var s=e.principalService.getAdminModeStatus();n!==r.Constants.noDefaultGroups?e.groupService.getChannelByName(n,e.channel.name,s).then((function(n){var r;n&&n.data&&n.data.value?((r=r=n.data.value[0])&&r.id!==e.channel.id?(r=i.formatString(e.resources.Components.ChannelCreate.NameDuplicationError,e.channel.name),e.errorHeader!==r&&(e.errorHeader=r)):(e.isNameAllowed=!0,e.errorHeader=e.nameValidationErrMsg=""),e.updateSaveButton(),e.telemetryTracker.succeed(o.FeatureName.GetChannelByName)):t(n)}),t):(e.isNameAllowed=!0,e.errorHeader=e.nameValidationErrMsg="",e.updateSaveButton())}))},Object.defineProperty(s.prototype,"isNameValid",{get:function(){return!(this.nameValidationErrMsg&&0<this.nameValidationErrMsg.length)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDescriptionValid",{get:function(){return!(this.descriptionValidationErrMsg&&0<this.descriptionValidationErrMsg.length)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showNameError",{get:function(){return!this.isNameValid&&!this.forceHideNameErrMsg},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textRows",{get:function(){return _.isNumber(this.descriptionRows)&&0<this.descriptionRows?this.descriptionRows:12},enumerable:!0,configurable:!0}),s.$inject=["$scope","resources","channelService","groupService","telemetryService","$q","principalService"],n=s;function s(e,t,n,i,s,a,l){var c=this;this.$scope=e,this.resources=t,this.channelService=n,this.groupService=i,this.telemetryService=s,this.$q=a,this.principalService=l,this.isNameAllowed=!1,this.descriptionChanged=!1,this.nameChanged=!1,this.descriptionValidationErrMsg="",this.nameValidationErrMsg="",this.channelTitleMaxLength=r.Constants.MaxLengths.ChannelTitle,this.channelDescriptionMaxLength=r.Constants.MaxLengths.ChannelDescription,this.channel.id?this.telemetryTracker=this.telemetryService.getTracker(o.ScreenName.ChannelUpdate,o.ResourceType.Channel,this.channel.id,!1):this.telemetryTracker=this.telemetryService.getTracker(o.ScreenName.AddChannelDialog,o.ResourceType.Channel,"",!1),this.channel.name&&0!==this.channel.name.length?this.validateNameAndDescription():this.forceHideNameErrMsg=!0,e.$watch((function(){return c.channel.name}),(function(e,t){e===t&&""!==e||(c.nameChanged=!0,c.validateNameAndDescription())})),e.$watch((function(){return c.groupId}),(function(e,t){e===t||c.forceHideNameErrMsg||c.validateNameAndDescription()})),e.$watch((function(){return c.isNameValid&&c.isDescriptionValid}),(function(e){c.isValid=e})),e.$watch((function(){return c.channel.description}),(function(e,t){c.descriptionChanged=e!==t,c.descriptionChanged&&c.validateNameAndDescription()}))}t.ChannelUpdateNameDescriptionController=n},"./app/components/ChannelList/ChannelResults.html":function(e,t){e.exports='<div class="row row-size0 sticky-bar"> <div class=search-filter-bar sticky-element=$ctrl.filterStickyClass auto-margin-next=true> <div class="row column page-title" ng-if=$ctrl.pageTitle ng-transclude=pageTitle> <h1 class="c-heading-3 ng-binding page-title">{{::$ctrl.pageTitle}}</h1> </div> <div ng-transclude=filters> <search-and-filter> <search-bar class="column large-3 medium-4 small-6" placeholder=$ctrl.searchBarText label=$ctrl.searchBarLabel default-value=$ctrl.searchString on-search=$ctrl.searchPressed(value) events-list=$ctrl.listEvents.searchEvents></search-bar> <search-filter action-role=sort class="column end large-3 medium-4 small-6 channel-sort-options" model=$ctrl.channelSortOptions value=$ctrl.channelSort metrics=$ctrl.listEvents.sortEvents telemetry-prefix=$ctrl.sortByPrefix></search-filter> </search-and-filter> </div> </div> </div> <div class="row row-size1 items-list relativeposition"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" items-per-row-large=$ctrl.itemsPerRow refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem new-item=$ctrl.newCreatedChannel list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Channels screen-name=$ctrl.screenName class=channels-list has-a-prepended-item=$ctrl.hasAPrependedItem ng-if=$ctrl.principalEntityFetched on-init=$ctrl.onItemsListInit(itemsListController)> <item ng-transclude=item> <channel-card ng-if=!$ctrl.isItemTranscluded channel-item=item is-list-item=true show-description=true show-videos=false hide-on-unfollow=$ctrl.hideOnUnfollow metrics=$ctrl.listEvents.itemsEvents is-stream-admin=$ctrl.isStreamAdmin is-in-admin-mode=$ctrl.isInAdminMode hide-group-name=$ctrl.hideGroupName search-string=$ctrl.searchString sort=$ctrl.defaultSort after-channel-removed=$ctrl.afterChannelRemoved(index) /> </item> <no-data-message ng-transclude=noDataMessage> <div class="row column" ng-if=!$ctrl.hasAPrependedItem> <div class="no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.NoDataHeader}}</div> <p class=sub-text-container> {{$ctrl.noDataMessage}} </p> </div> </div> <div ng-if=$ctrl.hasAPrependedItem>{{$ctrl.noDataMessage}}</div> </no-data-message> <prepend-item ng-transclude=prependItem ng-if=$ctrl.hasAPrependedItem> </prepend-item> </items-list> </div> '},"./app/components/ChannelList/ChannelResults.less":function(e,t){},"./app/components/ChannelList/ChannelResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/ChannelList/ChannelResultsController.ts");function o(){this.controller=i.ChannelResultsController,this.template=n("./app/components/ChannelList/ChannelResults.html"),this.bindings={loadChannelResults:"&",onInit:"&",hideOnUnfollow:"<",hideSearchAndFilter:"<",hideGroupName:"<",extraQueryParams:"<?"},this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"?item",filters:"?filters",pageTitle:"?pageTitle"}}n("./app/components/ChannelList/ChannelResults.less"),t.ChannelResults=o,r.registerComponent("channelResults",o,angular.module("jumper"))},"./app/components/ChannelList/ChannelResultsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/utility/string.ts"),c=n("./app/components/ItemsList/ListBase/ListBase.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=c.ListBase),u.prototype.loadDataPage=function(e,t){return this.loadChannelResults({skip:e,top:t})},u.prototype.onItemsListInit=function(e){this.itemsListController=e},u.prototype.searchPressed=function(e){e&&0<e.length&&!this.hasSearched&&this.channelSort===this.defaultSort&&(this.channelSort=s.Constants.ChannelsSortOptions.Relevance),this.hasSearched=!0,this.searchString=e},u.prototype.followOrUnFollowActionSucess=function(e){this.featureTelemetryTracker.succeed(e)},u.prototype.followOrUnFollowActionFailure=function(e,t,n){this.featureTelemetryTracker.fail(e,t,n)},u.prototype.onInitInternal=function(){var e=this;this.principalService.getMyPrincipalInfo.bind(this.principalService),this.principalService.getMyPrincipalInfo().then((function(t){e.canCreateChannel=t.data.permissions.canCreateChannel}),(function(t){e.telemetryService.getTracker(e.screenName).fail(d.FeatureName.GetPrincipalSettings,d.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)})).finally((function(){e.principalEntityFetched=!0})),this.isItemTranscluded=this.$transclude.isSlotFilled("item"),this.itemsPerRow=4,this.watchGroup=[function(){return e.searchString},function(){return e.channelSort}],this.defaultSort=s.Constants.ChannelsSortOptions.Created,this.channelSortOptions={label:this.resources.Sortby,options:[{value:s.Constants.ChannelsSortOptions.Relevance,text:this.resources.Browse.ChannelSort.Relavance,telemetrySuffix:s.Constants.sortBySuffixOptions.Relevance},{value:s.Constants.ChannelsSortOptions.Videos,text:this.resources.Browse.ChannelSort.Videos,telemetrySuffix:s.Constants.sortBySuffixOptions.Videos},{value:s.Constants.ChannelsSortOptions.Subscribers,text:this.resources.Browse.ChannelSort.Subscribers,telemetrySuffix:s.Constants.sortBySuffixOptions.Subscribers}]},this.searchBarText=this.resources.Components.SearchBar.SearchForChannels,this.searchBarLabel=this.resources.Components.SearchBar.SearchForChannelsLabel,this.sortByPrefix=s.Constants.metricsPrefixes.SortBy,this.sortDirection=s.Constants.SortDirection.Descending,this.noDataMessage=l.formatString(this.resources.ItemList.NoMatchingResultsMessage,this.resources.ItemList.ResourceName.Channels),this.filterStickyClass="show-for-medium"},u.prototype.onInitWatchersInternal=function(){var e=this;this.channelSort=this.defaultSort,this.$scope.$watchGroup(this.watchGroup,(function(t,n,r){e.filtersDefaultWatchFired&&n&&!_.some(t.slice(1),(function(e){return void 0===e}))&&(e.refreshData=!0),e.filtersDefaultWatchFired=!0}))},u.prototype.afterChannelRemoved=function(e){this.itemsListController.currentList&&0!==this.itemsListController.currentList.length?(this.channelCardIndex=e,this.focusOnCard=!0,e>=this.itemsListController.currentList.length&&(this.channelCardIndex=this.itemsListController.currentList.length-1)):this.focusOnChannelTab=!0},u.$inject=["$scope","channelService","resources","telemetryService","featureFlagsService","$window","$transclude","principalService","$timeout","$location","clearQueryParamsService"],i=u;function u(e,t,n,r,i,l,c,d,u,p,m){var h=o.call(this,e,r,i,d,!0)||this;h.$scope=e,h.channelService=t,h.resources=n,h.telemetryService=r,h.$window=l,h.$transclude=c,h.principalService=d,h.$timeout=u,h.$location=p,h.clearQueryParamsService=m,h.channelSource={},h.filtersDefaultWatchFired=!1,h.hasAPrependedItem=!1,h.canCreateChannel=!0,h.principalEntityFetched=!1,h.skipSetQueryParams=!1,h.isItemTranscluded=!1,h.focusOnCard=!1,h.numberOfCards=0,h.focusOnChannelTab=!1,h.onInitInternal(),h.hasAPrependedItem=c.isSlotFilled("prependItem"),h.onInit({channelResultsController:h}),h.featureTelemetryTracker=h.telemetryService.getTracker(h.screenName),a.ActivityIds.initActivityId(h.screenName),h.onInitWatchersInternal(),h.featureFlagsService.Values.BrowseBack&&(setTimeout((function(){h.$scope.$watch((function(){return h.$location.search()}),(function(e,t){e[s.Constants.QueryStringKeys.Sort]&&(h.channelSort=e[s.Constants.QueryStringKeys.Sort]),e[s.Constants.QueryStringKeys.SearchTerm]&&(h.searchString=e[s.Constants.QueryStringKeys.SearchTerm]),h.clearQueryParamsService.diffPathName||(e[s.Constants.QueryStringKeys.Sort]||(e[s.Constants.QueryStringKeys.SearchTerm]?h.channelSort=s.Constants.ChannelsSortOptions.Relevance:(h.channelSort=h.defaultSort,h.skipSetQueryParams=!0)),e[s.Constants.QueryStringKeys.SearchTerm]||(h.searchString=null))}))}),0),h.$scope.$watch((function(){return h.searchString}),(function(e,t){e===t||h.clearQueryParamsService.diffPathName||(e?(h.featureFlagsService.Values.BrowseBack,h.$location.search(_.assign({},h.extraQueryParams,{sort:h.channelSort,q:e}))):h.$location.search(s.Constants.QueryStringKeys.SearchTerm,null))})),setTimeout((function(){h.$scope.$watch((function(){return h.channelSort}),(function(e,t){!e||e===t||h.skipSetQueryParams||h.clearQueryParamsService.diffPathName||(h.featureFlagsService.Values.BrowseBack,h.$location.search(_.assign({},h.extraQueryParams,{sort:e,q:h.searchString}))),h.skipSetQueryParams=!1,h.clearQueryParamsService.diffPathName=!1}))}),100));var g=new MutationObserver((function(){var e=$("channel-card").length;h.focusOnChannelTab?($("button.f-active:visible:enabled",$("[ng-viewport]")).first().focus(),h.focusOnChannelTab=!1):e<h.numberOfCards&&h.focusOnCard&&($("channel-card:eq("+h.channelCardIndex+") div.header a").first().focus(),h.focusOnCard=!1),h.numberOfCards=e}));return g.observe($("channel-results").get(0),{subtree:!0,childList:!0}),e.$on("$destroy",(function(){g.disconnect()})),h}t.ChannelResultsController=i},"./app/components/ChannelPosterImage/ChannelPosterImage.html":function(e,t){e.exports='<div class=channel-poster-image-v2> <div class=poster-container ng-class="$ctrl.src? \'custom-image-container\' : \'default-image-container\'" ng-if=!$ctrl.canEdit> <img ng-if=$ctrl.src ng-src={{$ctrl.src}} class=channel-poster-image-content alt={{::$ctrl.resources.ChannelPosterImageAlt}} /> <div ng-if=!$ctrl.src class=channel-default-poster> <svg-src svg-name=channel_poster_default class=channel-poster-image-content></svg-src> </div> </div> <div class=upload-placeholder-container ng-if=$ctrl.canEdit> <div class=upload-placeholder ng-if="!$ctrl.src && !$ctrl.thumbnailUrl"> <button class="c-action-trigger action-button upload-button" name=channelPoster ngf-select=$ctrl.uploadIfReady($file) ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" aria-label={{::$ctrl.resources.Components.ChannelCreate.UploaderLabel}} tabindex=0> <svg-src svg-name=icon_plus class=action-button-svg></svg-src> </button> </div> <button class="c-hyperlink current-poster" ngf-select=$ctrl.uploadIfReady($file) ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" aria-label={{::$ctrl.resources.Components.ChannelCreate.UploaderLabel}} ng-if=$ctrl.isUpdateEnabled tabindex=0> <img ng-if="$ctrl.src && !$ctrl.thumbnailUrl" ng-src={{$ctrl.src}} class=channel-poster-image-content alt={{::$ctrl.resources.ChannelPosterImageAlt}} /> <img ng-if=$ctrl.thumbnailUrl ng-src={{$ctrl.thumbnailUrl}} class=channel-poster-image-content alt={{::$ctrl.resources.ChannelPosterImageAlt}} /> <div class=upload-icon ng-if=$ctrl.isUpdateEnabled> <svg-src svg-name=icon_upload class=action-button-svg></svg-src> </div> </button> </div> <div class=delete-current-poster-container ng-if="$ctrl.isUpdateEnabled && $ctrl.displayDeletePoster"> <a class=c-hyperlink ng-click=$ctrl.deleteCurrentPoster() tabindex=0>{{::$ctrl.resources.Components.ChannelCreate.DeleteCustomPoster}}</a> </div> </div>'},"./app/components/ChannelPosterImage/ChannelPosterImage.less":function(e,t){},"./app/components/ChannelPosterImage/ChannelPosterImage.ts":function(e,t,n){function r(){this.controller=i.ChannelPosterImageController,this.template=n("./app/components/ChannelPosterImage/ChannelPosterImage.html"),this.bindings={src:"<",resourceId:"<",selectedThumbnail:"=",customPosterUploaded:"&",canEdit:"<",handleUploadResult:"&",isInAdminMode:"<",saveButtonEnabled:"="}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ChannelPosterImage/ChannelPosterImage.less");var i=n("./app/components/ChannelPosterImage/ChannelPosterImageController.ts"),o=n("./app/utility/appUtil.ts");t.ChannelPosterImage=r,o.registerComponent("channelPosterImage",r,angular.module("jumper"))},"./app/components/ChannelPosterImage/ChannelPosterImageController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/Poster/PosterController.ts"),a=n("./app/utility/Constants.ts"),l=n("./app/models/TelemetryEventModels.ts");i(c,o=s.PosterController),Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){if(this.fileToUploadUrl)return this.fileToUploadUrl;if(this.selectedThumbnail&&this.selectedThumbnail.images)switch(this.posterSize){case a.Constants.PosterSizeStrings.ExtraSmall:return this.selectedThumbnail.images.extraSmall.url;case a.Constants.PosterSizeStrings.Small:return this.selectedThumbnail.images.small.url;case a.Constants.PosterSizeStrings.Medium:return this.selectedThumbnail.images.medium.url;case a.Constants.PosterSizeStrings.Large:default:return this.selectedThumbnail.images.large.url}},enumerable:!0,configurable:!0}),c.prototype.uploadIfReady=function(e){var t=this;if(this.resourceId){var n=this.doUpload(e);return n.then((function(){t.saveButtonEnabled=!0,t.src&&(t.src=null)})),n}return e?(this.fileToUpload=e,this.readImageFile(this.fileToUpload)):this.$q.resolve()},c.prototype.deleteCurrentPoster=function(){this.fileToUploadUrl?(this.fileToUploadUrl=null,this.fileToUpload=null):this.selectedThumbnail?this.selectedThumbnail=null:this.src?this.src=null:this.featureTelemetryTracker.fail(this.featureName,l.SubFeatureName.ChannelEvent_DeletePosterImage,{})},Object.defineProperty(c.prototype,"isUpdateEnabled",{get:function(){return!_.isEmpty(this.src)||!_.isEmpty(this.thumbnailUrl)},enumerable:!0,configurable:!0}),c.prototype.readImageFile=function(e){var t=this,n=this.$q.defer(),r=new FileReader;return r.onload=function(e){t.fileToUploadUrl=e.target.result,t.$scope.$apply(),n.resolve()},r.onerror=function(e){n.reject(e)},r.readAsDataURL(e),n.promise},c.prototype.waitForThumbnailToPersist=function(){var e=this,t=this.$q,n=this.resourceId;return this.dataPollingService.Poll((function(){var r=t.defer();return e.channelService.get(n,e.isInAdminMode,!0).then((function(e){r.resolve(e.data)})),r.promise}),(function(e){return null!==e.posterImage}))},Object.defineProperty(c.prototype,"displayDeletePoster",{get:function(){return this.featureFlagsService.Values.DeleteChannelPoster},enumerable:!0,configurable:!0}),c.$inject=["$q","$scope","Upload","resources","thumbnailService","mediaUploaderFactory","telemetryService","navigationService","featureFlagsService","channelService","dataPollingService"],i=c;function c(e,t,n,r,i,s,c,d,u,p,m){var h=o.call(this,e,t,n,r,i,s,c,d,a.Constants.ResourceNames.Channels,l.ResourceType.Channel,l.FeatureName.UploadChannelCustomThumbnail)||this;return h.featureFlagsService=u,h.channelService=p,h.dataPollingService=m,h.$scope.$on(a.Constants.Events.ChannelIdReady,(function(e,t){h.resourceId=t;var n;t=h.$q.resolve({thumbnailUploaded:!1});h.fileToUpload&&(n=h.$q.defer(),h.doUpload(h.fileToUpload).then((function(){return h.waitForThumbnailToPersist()})).then((function(){n.resolve({thumbnailUploaded:!0})})),t=n.promise),h.handleUploadResult({$result:t})})),h}t.ChannelPosterImageController=i},"./app/components/ChannelSelector/ChannelSelector.html":function(e,t){e.exports='<div class=channel-selector ng-if=$ctrl.videoId> <label class="c-label channel-label" ng-if=!$ctrl.selectorLabel>{{::$ctrl.resources.ChannelSelector.Channels}}</label> <tooltip ng-if=!$ctrl.selectorLabel message=$ctrl.resources.ToolTip.Channel class=channel-label button-aria-label={{::$ctrl.resources.ChannelSelector.Channels}}></tooltip> <label class="c-label channel-label" ng-if=$ctrl.selectorLabel>{{::$ctrl.selectorLabel}}</label> <tooltip ng-if=$ctrl.selectorLabel message=$ctrl.resources.ToolTip.Channel class=channel-label button-aria-label={{::$ctrl.selectorLabel}}></tooltip> <dropdown-list placeholder={{$ctrl.resources.ChannelSelector.AddToChannels}} on-query=$ctrl.queryChannel(skip) on-search="$ctrl.searchChannel(skip, userInput)" on-select=$ctrl.selectChannel(item) on-create-new=$ctrl.launchDialog(userInput) create-new-text={{$ctrl.createText}} option-type-for-aria={{::$ctrl.resources.ChannelSelector.Channels}}></dropdown-list> <ul class="c-group f-wrap-items channel-tag-group"> <li class="c-choice-summary channel-tag" ng-repeat="ch in $ctrl.selectedChannels"> <button class="c-action-trigger c-glyph glyph-cancel remove-channel-btn" type=button aria-label={{$ctrl.removeAriaLabel(ch)}} ng-click=$ctrl.removeChannel(ch)></button> <span class=channel-name> {{ch.name}} </span> </li> </ul> </div> '},"./app/components/ChannelSelector/ChannelSelector.less":function(e,t){},"./app/components/ChannelSelector/ChannelSelector.ts":function(e,t,n){function r(){this.controller=o.ChannelSelectorController,this.template=n("./app/components/ChannelSelector/ChannelSelector.html"),this.bindings={videoId:"<",selectedChannels:"=",createDisabled:"<",selectorLabel:"@",channelAdded:"&",channelCreated:"&",channelRemoved:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ChannelSelector/ChannelSelector.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/ChannelSelector/ChannelSelectorController.ts");t.ChannelSelector=r,i.registerComponent("channelSelector",r,angular.module("jumper"))},"./app/components/ChannelSelector/ChannelSelectorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts");o.prototype.removeChannel=function(e){this.channelRemoved&&this.channelRemoved(),_.remove(this.selectedChannels,(function(t){return t.id===e.id}))},o.prototype.selectChannel=function(e){this.selectedChannels||(this.selectedChannels=[]),_.find(this.selectedChannels,(function(t){return t.id===e.id}))||(this.channelAdded&&this.channelAdded(),this.selectedChannels.push(e))},o.prototype.queryChannel=function(e){return this.channelService.query(this.queryTop,e,r.Constants.ChannelsSortOptions.Created,r.Constants.SortDirection.Descending,"",!0).then((function(e){return e.data.value}))},o.prototype.searchChannel=function(e,t){return this.channelService.query(this.queryTop,e,r.Constants.ChannelsSortOptions.Created,r.Constants.SortDirection.Descending,t,!0).then((function(e){return e.data.value}))},o.prototype.launchDialog=function(e){var t=this;this.createChannelDialog.open(e).closePromise.then((function(e){(e=e.value&&e.value.channel?e.value.channel:null)&&(t.channelCreated&&t.channelCreated(),t.selectChannel(e))}))},Object.defineProperty(o.prototype,"createText",{get:function(){return this.createDisabled?"":this.resources.ChannelSelector.CreateNew},enumerable:!0,configurable:!0}),o.prototype.removeAriaLabel=function(e){return i.formatString(this.resources.ChannelSelector.RemoveAriaLabel,e.name)},o.$inject=["$q","$scope","resources","channelService","createChannelDialog","$location"],n=o;function o(e,t,n,i,o,s){this.$q=e,this.$scope=t,this.resources=n,this.channelService=i,this.createChannelDialog=o,this.$location=s,this.queryTop=r.Constants.DefaultQueryCounts.top}t.ChannelSelectorController=n},"./app/components/Creator/Comment/CommentCreator.less":function(e,t){},"./app/components/Creator/Comment/CommentCreator.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Creator/Comment/CommentCreator.less");var o,s=n("./app/components/Creator/Comment/CommentCreatorController.ts"),a=n("./app/utility/appUtil.ts");n=n("./app/components/Creator/Creator.ts"),i(l,o=n.Creator),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=s.CommentCreatorController,e.bindings={item:"<"},e}t.CommentCreator=i,a.registerComponent("commentCreator",i,angular.module("jumper"))},"./app/components/Creator/Comment/CommentCreatorController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/Creator/CreatorController.ts"),a=n("./app/utility/string.ts");i(l,o=s.CreatorController),l.$inject=["dataShareService"],i=l;function l(e){return(e=o.call(this,e)||this).canDisplayCreator&&(e.creatorMessageTemplate=a.formatString("!{0}!",e.item.creator.name),e.processCreatorMessage()),e}t.CommentCreatorController=i},"./app/components/Creator/Creator.html":function(e,t){e.exports='\ufeff<span class=info-message-content ng-if=::($ctrl.canDisplayCreator)>{{::$ctrl.creatorMessages[0]}} <a class="c-hyperlink info-message-link" ng-href={{::$ctrl.creatorPageUrl}} ng-click=$ctrl.cacheCreator()>{{::$ctrl.creatorMessages[1]}}</a> {{::$ctrl.creatorMessages[2]}} </span>'},"./app/components/Creator/Creator.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Creator=function(){this.template=n("./app/components/Creator/Creator.html"),this.bindToController=!0}},"./app/components/Creator/CreatorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),i=n("./app/utility/Constants.ts");function o(e){this.dataShareService=e}t.processNameTemplate=function(e){return r.formatString("!{0}!",e)},o.prototype.processCreatorMessage=function(){this.creatorMessages=this.creatorMessageTemplate.split("!")},Object.defineProperty(o.prototype,"creatorPageUrl",{get:function(){return r.formatString(i.Constants.Routes.User,this.item.creator.id)},enumerable:!0,configurable:!0}),o.prototype.cacheCreator=function(){this.dataShareService.cache[this.item.creator.id]=this.item.creator},Object.defineProperty(o.prototype,"canDisplayCreator",{get:function(){return this.item&&this.item.creator&&this.item.creator.id&&this.item.creator.name},enumerable:!0,configurable:!0}),n=o,t.CreatorController=n},"./app/components/Creator/Video/VideoCreator.less":function(e,t){},"./app/components/Creator/Video/VideoCreator.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Creator/Video/VideoCreator.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Creator/Video/VideoCreatorController.ts");n=n("./app/components/Creator/Creator.ts"),i(l,o=n.Creator),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.VideoCreatorController,e.bindings={item:"<",getCreatorMessageTemplate:"&"},e}t.VideoCreator=i,s.registerComponent("videoCreator",i,angular.module("jumper"))},"./app/components/Creator/Video/VideoCreatorController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o;n=n("./app/components/Creator/CreatorController.ts"),i(s,o=n.CreatorController),s.$inject=["$timeout","dataShareService"],i=s;function s(e,t){var n=o.call(this,t)||this;return n.$timeout=e,n.$timeout((function(){n.canDisplayCreator&&(n.creatorMessageTemplate=n.getCreatorMessageTemplate({videoItem:n.item}),n.processCreatorMessage())}),0),n}t.VideoCreatorController=i},"./app/components/FaceChart/FaceChart.html":function(e,t){e.exports='<div class=face-chart-loading ng-if=$ctrl.isLoading> <loading-panel></loading-panel> </div> <div class=error ng-if=$ctrl.isError> <custom-error-message error-message=$ctrl.errorMessage></custom-error-message> </div> <div class=face-chart-container ng-if="!$ctrl.isLoading && !$ctrl.isError"> <div class=face-chart-operation ng-if="($ctrl.video.userData.permissions.canEdit || $ctrl.isAdmin) && $ctrl.isEditMode"> <div class="c-checkbox ct-checkbox checkbox-all-faces"> <label class=c-label> <input type=checkbox ng-model=$ctrl.isAllFacesSelected aria-label={{::$ctrl.resources.SelectAllPeople}} ng-click=$ctrl.onToggleAll()> <span></span> </label> </div> <div class=face-actions-container> <div class=face-actions> <button class="c-action-trigger c-glyph action-button face-action-show" ng-click=$ctrl.onHideButtonClick(false) ng-disabled=$ctrl.showButtonDisabled aria-label={{::$ctrl.resources.Unhide}}> <svg-src svg-name=icon_show inline-with-text=true class=action-button-svg></svg-src> <span class=action-button-label>{{::$ctrl.resources.Unhide}}</span> </button> <button class="c-action-trigger c-glyph action-button face-action-hide" ng-click=$ctrl.onHideButtonClick(true) ng-disabled=$ctrl.hideButtonDisabled aria-label={{::$ctrl.resources.Hide}}> <svg-src svg-name=icon_hide inline-with-text=true class=action-button-svg></svg-src> <span class=action-button-label>{{::$ctrl.resources.Hide}}</span> </button> <button class="c-action-trigger c-glyph action-button face-action-merge" ng-click=$ctrl.onMergeButtonClick() ng-disabled=$ctrl.mergeButtonDisabled aria-label={{::$ctrl.resources.Merge}}> <svg-src svg-name=icon_merge inline-with-text=true class=action-button-svg></svg-src> <span class=action-button-label>{{::$ctrl.resources.Merge}}</span> </button> </div> </div> </div> <div ng-if="$ctrl.noFaceShown && !$ctrl.isEditMode" class=no-face-shown> <div class=no-data-message-cont> <div class=no-data-message> <span class=message-icon-cont> <svg-src svg-name=icon_library inline-with-text=true class=message-icon></svg-src> </span> <span ng-if=!$ctrl.notReady>{{::$ctrl.resources.FaceChart.NoFacesMessage}}</span> <span ng-if="$ctrl.vodNotReady || $ctrl.liveVodNotReady">{{::$ctrl.resources.FaceChartIndexingNotReady}}</span> <span ng-if=$ctrl.liveNotReady>{{::$ctrl.resources.LivePeopleNotAvailableMessage}}</span> </div> </div> </div> <div ng-if="!$ctrl.noFaceShown && !$ctrl.notReady" class=face-chart> <div class=faces-container> <ul class=faces-list> <li ng-repeat="person in $ctrl.persons track by person.id" id=face-{{person.id}} ng-if="$ctrl.isEditMode || !person.events[0].hidden"> <div title={{$ctrl.faceImageAlt(person)}} ng-style="{\'background-image\': $ctrl.formatImgPath(person.imageUrl)}" class=face-img ng-class="person.events[0].hidden ? \'hide-face\' : \'show-face\'"></div> <div class="c-checkbox ct-checkbox checkbox-face" ng-if=$ctrl.isEditMode> <label class=c-label> <input type=checkbox ng-model=person.selected aria-label={{$ctrl.faceSelectCheckboxAriaLabel(person.id)}}> <span></span> </label> </div> </li> </ul> </div> <div class=timelines-container tabindex=-1 ng-mousemove=$ctrl.onMouseMove($event) ng-click=$ctrl.onClick($event) role=presentation> <div class=timeline-slider role=slider tabindex=0 ng-show=$ctrl.seekingReady aria-label={{::$ctrl.resources.FaceChart.SliderAriaLabel}} aria-valuemin=0 aria-valuemax={{$ctrl.videoDuration}} aria-valuenow={{$ctrl.seekTime}} ng-mousedown=$ctrl.onMouseDown($event) ng-keydown=$ctrl.onKeyDown($event)> <div class=slider-line></div> <ul> <li ng-repeat="display in $ctrl.nodeDisplayList track by $index"> <div ng-show=display class=cross-node ng-style="{\'top\': $index * 43 + 15}"></div> </li> </ul> </div> <ul class=timelines> <li ng-repeat="events in $ctrl.faceEventsList" id=timeline-{{events[0].id}} ng-if="$ctrl.isEditMode || !events[0].hidden"> <div class=timeline-container> <face-timeline face-events=events video-duration=$ctrl.videoDuration hide-face=events[0].hidden seek-time=$ctrl.seekTime></face-timeline> </div> </li> </ul> </div> </div> <div class="face-chart-footer face-chart-edit-container" ng-if=$ctrl.showCommandBar() ng-class="$ctrl.isEditMode ?  \'edit-mode\' : \'view-mode\'"> <div class=actions> <button type=button class="c-action-trigger face-action-trigger load-more" ng-click=$ctrl.loadMore() ng-disabled=$ctrl.isLoadingMore ng-show="(!$ctrl.reachedEndInViewMode && !$ctrl.isEditMode) || $ctrl.isLoadingMore">{{$ctrl.loadMoreText}}</button> <button class="c-action-trigger c-glyph face-action-trigger edit" ng-click=$ctrl.faceActionClick() ng-if=$ctrl.showEditButton() ng-disabled="$ctrl.isLoadingMore || $ctrl.faceActionStatus === \'SAVING\'" aria-label={{$ctrl.faceActionLabel}} aria-hidden=true> <span class=svg-cont> <svg-src svg-name=icon_edit inline-with-text=true class=edit-button-svg></svg-src> </span> <span>{{$ctrl.faceActionLabel}}</span> </button> </div> <div class=action-status ng-if=$ctrl.isEditMode ng-switch on=$ctrl.faceActionStatus> <span class=saving ng-switch-when=SAVING>{{$ctrl.actionStatusString}}</span> <span class=saved ng-switch-when=SAVED> <svg-src svg-name=icon_checkmark inline-with-text=true class=action-button-svg></svg-src> <span class=action-button-label>{{$ctrl.actionStatusString}}</span> </span> <span class=error ng-switch-when=ERROR> <svg-src svg-name=icon_warning inline-with-text=true class=action-button-svg></svg-src> <span class=action-button-label>{{$ctrl.actionStatusString}}</span> </span> <span class=refreshing ng-switch-when=REFRESHING>{{$ctrl.actionStatusString}}</span> <span class=refresherror ng-switch-when=REFRESHERROR>{{$ctrl.actionStatusString}}</span> <span class=default ng-switch-default>{{$ctrl.actionStatusString}}</span> </div> </div> </div>'},"./app/components/FaceChart/FaceChart.less":function(e,t){},"./app/components/FaceChart/FaceChart.ts":function(e,t,n){function r(){this.controller=o.FaceChartController,this.template=n("./app/components/FaceChart/FaceChart.html"),this.bindings={video:"<",playerTime:"<",isAdmin:"<",notReady:"<",isLiveContent:"<",isCreated:"<",isCompleted:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/FaceChart/FaceChart.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/FaceChart/FaceChartController.ts");t.FaceChart=r,i.registerComponent("faceChart",r,angular.module("jumper"))},"./app/components/FaceChart/FaceChartController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");Object.defineProperty(a.prototype,"sliderElement",{get:function(){return this.$element.find(".timeline-slider")},enumerable:!0,configurable:!0}),a.prototype.mapSeekPositionToTime=function(e){var t,n=(t=this.$element.find(".timelines-container")).width();return t=n<(t=(t=e-t.offset().left)<0?0:t)?n:t,this.videoDuration*t/n},a.prototype.loadMore=function(){var e=this;if(!this.reachedEndInViewMode)return this.isLoadingMore=!0,this.personSerivce.getPersons(this.video.id,this.top,this.skip,this.isAdmin).then((function(t){for(var n=!1,o=0;o<t.data.value.length;o++){var a=t.data.value[o],l={id:a.id,imageUrl:a.imageUrl,events:a.events,selected:!1};0<l.events.length&&l.events[0].hidden&&(n=!0),a=_.filter(l.events,(function(e){return e.type.toLowerCase()===r.Constants.VideoEventType.face.toLowerCase()})),a=_.map(a,(function(e){return{id:e.id,start:e.start,end:e.end,startInSeconds:i.formatISODurationToSeconds(e.start),endInSeconds:i.formatISODurationToSeconds(e.end),eventData:e.eventData,hidden:e.hidden||!1}})),l.events=a,e.faceEventsList.push(a),e.persons.push(l)}var c=t.data.value.length;e.skip+=c,e.reachedEndInViewMode=c<e.top||n,e.featureTelemetryTracker.succeed(s.FeatureName.LoadPersons)}),(function(t){return e.featureTelemetryTracker.fail(s.FeatureName.LoadPersons,s.SubFeatureName.PersonService_GetPersons,t),e.$q.reject(t)})).finally((function(){e.isLoadingMore=!1}))},a.prototype.updateSeekPostion=function(e,t){var n=this;e=e>this.videoDuration?this.videoDuration:e,this.nodeDisplayList=_.map(this.faceEventsList,(function(t){return n.inEventsRange(t,e)}));var r=(100*e/this.videoDuration).toString()+"%";t?this.sliderElement.animate({left:r},1e3,"linear"):this.sliderElement.css({left:r})},a.prototype.inEventsRange=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.startInSeconds<t&&r.endInSeconds>=t)return!0}return!1},a.prototype.sendTimeTagClick=function(e){this.$scope.$emit(r.Constants.Events.TimeStampTagClicked,{timeInSeconds:e}),this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.timeTagClickedEventName,{source:r.Constants.TagClickSource.FaceChart,id:this.video.id})},Object.defineProperty(a.prototype,"liveNotReady",{get:function(){return this.notReady&&!this.isCompleted&&this.isLiveContent},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"vodNotReady",{get:function(){return this.notReady&&!this.isLiveContent},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"liveVodNotReady",{get:function(){return this.notReady&&this.isCompleted&&this.isLiveContent},enumerable:!0,configurable:!0}),a.prototype.onMouseDown=function(e){1===e.which&&(this.sliderElement.stop(),this.dragging=!0)},a.prototype.onMouseMove=function(e){this.dragging&&(this.seekTime=this.mapSeekPositionToTime(e.pageX),this.updateSeekPostion(this.seekTime,!1))},a.prototype.onClick=function(e){1===e.which&&(this.sliderElement.stop(),this.seeking=!0,this.seekTime=this.mapSeekPositionToTime(e.pageX),this.sendTimeTagClick(this.seekTime),this.updateSeekPostion(this.seekTime,!1))},a.prototype.onKeyDown=function(e){37!==e.keyCode&&39!==e.keyCode||(this.sliderElement.stop(),this.seeking=!0,37===e.keyCode?(this.seekTime=this.seekTime-1,this.seekTime=this.seekTime<0?0:this.seekTime):(this.seekTime=this.seekTime+1,this.seekTime=this.seekTime>this.videoDuration?this.videoDuration:this.seekTime),this.sendTimeTagClick(this.seekTime),this.updateSeekPostion(this.seekTime,!1))},Object.defineProperty(a.prototype,"loadMoreText",{get:function(){return this.isLoadingMore?this.resources.Loading+"...":this.resources.FaceChart.LoadMore},enumerable:!0,configurable:!0}),a.prototype.faceImageAlt=function(e){var t=0;return this.persons.forEach((function(n,r){n.id===e.id&&(t=r+1)})),o.formatString(this.resources.FaceChart.FaceImageAlt,t.toString())},Object.defineProperty(a.prototype,"noFaceShown",{get:function(){return!(!_.isArray(this.faceEventsList)||0!==this.faceEventsList.filter((function(e){return e.length&&!e[0].hidden})).length)},enumerable:!0,configurable:!0}),a.prototype.showEditButton=function(){return this.video.userData.permissions.canEdit||this.isAdmin},a.prototype.showCommandBar=function(){return this.persons.length&&(this.showEditButton()||!this.reachedEndInViewMode)},Object.defineProperty(a.prototype,"faceActionLabel",{get:function(){return this.isEditMode?this.resources.Done:this.resources.Edit},enumerable:!0,configurable:!0}),a.prototype.deletePerson=function(e){var t=this,n={title:this.resources.Components.ConfirmationDialog.HidePersonTitle,message:"",confirmButtonLabel:this.resources.Remove,cancelButtonLabel:this.resources.Cancel};this.confirmationDialog.show(n).then((function(){var n,r,i,o,a;n=function(){t.persons=t.persons.filter((function(t){return t.id!==e.id})),t.faceEventsList=t.faceEventsList.filter((function(t){return t.length&&t[0].eventData.personId!==e.id})),t.$scope.$applyAsync(),t.videoEventService.hidePerson(t.video.id,e.id,t.isAdmin).then((function(){t.featureTelemetryTracker.succeed(s.FeatureName.HidePerson)}),(function(e){t.featureTelemetryTracker.fail(s.FeatureName.HidePerson,s.SubFeatureName.VideoEvent_HidePerson,e)}))},r=$(".timeline-slider"),i=$("#face-"+e.id),o=$("#timeline-"+e.id),a=$(".face-chart-container").width(),r.hide(),i.animate({marginLeft:-a},{duration:1e3,queue:!1,easing:"linear"}),o.animate({marginLeft:-a,marginRight:a},{duration:1e3,queue:!1,easing:"linear",complete:function(){r.show(),i.hide(),o.hide(),$(".timeline-slider").show(),n()}})}))},a.prototype.formatImgPath=function(e){return"url("+e+")"},a.prototype.loadFacesInEditMode=function(){var e=this;this.reachedEndInEditMode||(this.isLoadingMore=!0,this.personSerivce.getPersons(this.video.id,this.topAll,this.skip,this.isAdmin).then((function(t){for(var n=0;n<t.data.value.length;n++){var o={id:(a=t.data.value[n]).id,imageUrl:a.imageUrl,events:a.events,selected:!1},a=_.filter(o.events,(function(e){return e.type.toLowerCase()===r.Constants.VideoEventType.face.toLowerCase()}));a=_.map(a,(function(e){return{id:e.id,start:e.start,end:e.end,startInSeconds:i.formatISODurationToSeconds(e.start),endInSeconds:i.formatISODurationToSeconds(e.end),eventData:e.eventData,hidden:e.hidden||!1}}));o.events=a,e.faceEventsLoadedInEditMode.push(a),e.personsLoadedInEditMode.push(o)}var l=t.data.value.length;e.skip+=l,e.featureTelemetryTracker.succeed(s.FeatureName.LoadPersons),l===e.topAll?e.loadFacesInEditMode():(e.personsLoadedInEditMode.forEach((function(t){e.persons.push(t)})),e.faceEventsLoadedInEditMode.forEach((function(t){e.faceEventsList.push(t)})),e.isLoadingMore=!1,e.reachedEndInViewMode=!0,e.reachedEndInEditMode=!0)}),(function(t){return e.featureTelemetryTracker.fail(s.FeatureName.LoadPersons,s.SubFeatureName.PersonService_GetPersons,t),e.isLoadingMore=!1,e.$q.reject(t)})))},a.prototype.faceActionClick=function(){this.isEditMode=!this.isEditMode,this.isEditMode?this.loadFacesInEditMode():(this.isAllFacesSelected=!1,this.faceActionStatus="NONE",this.persons.forEach((function(e){e.selected=!1})))},a.prototype.onToggleAll=function(){var e=this;this.persons.forEach((function(t){t.selected=e.isAllFacesSelected}))},Object.defineProperty(a.prototype,"showButtonDisabled",{get:function(){for(var e=!0,t=0;t<this.persons.length;t++)if(this.persons[t].selected&&this.persons[t].events[0].hidden){e=!1;break}return e||"SAVING"===this.faceActionStatus||"REFRESHING"===this.faceActionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hideButtonDisabled",{get:function(){for(var e=!0,t=0;t<this.persons.length;t++)if(this.persons[t].selected&&!this.persons[t].events[0].hidden){e=!1;break}return e||"SAVING"===this.faceActionStatus||"REFRESHING"===this.faceActionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mergeButtonDisabled",{get:function(){for(var e=0,t=0;t<this.persons.length&&!(this.persons[t].selected&&1<++e);t++);return e<2||"SAVING"===this.faceActionStatus||"REFRESHING"===this.faceActionStatus},enumerable:!0,configurable:!0}),a.prototype.onHideButtonClick=function(e){var t=this,n=[];this.faceActionStatus="SAVING";for(var r=e?s.FeatureName.HidePerson:s.FeatureName.UnHidePerson,i=e?s.SubFeatureName.VideoEvent_HidePerson:s.SubFeatureName.VideoEvent_UnhidePerson,o=(e?this.videoEventService.hidePerson:this.videoEventService.unhidePerson).bind(this.videoEventService),a=this,l=0;l<this.persons.length;l++)!function(s){var l,c=a.persons[s];c.selected&&(e?!c.events[0].hidden:c.events[0].hidden)&&(l=a.$q.defer(),o(a.video.id,c.id,a.isAdmin).then((function(){t.featureTelemetryTracker.succeed(r),c.events[0].hidden=e,l.resolve()}),(function(e){t.featureTelemetryTracker.fail(r,i,e),l.reject()})),n.push(l.promise))}(l);this.$q.all(n).then((function(){t.faceActionStatus="SAVED"}),(function(e){t.faceActionStatus="ERROR"}))},a.prototype.faceSelectCheckboxAriaLabel=function(e){return o.formatString(this.resources.FaceCheckbox,e)},Object.defineProperty(a.prototype,"actionStatusString",{get:function(){return"SAVING"===this.faceActionStatus?this.resources.Saving:"SAVED"===this.faceActionStatus?this.resources.ChangesSaved:"ERROR"===this.faceActionStatus?this.resources.SaveFailed:"REFRESHING"===this.faceActionStatus?this.resources.FaceRefreshing:"REFRESHERROR"===this.faceActionStatus?this.resources.FaceRefreshError:""},enumerable:!0,configurable:!0}),a.prototype.onMergeButtonClick=function(){var e=this,t=[];this.persons.forEach((function(e){e.selected&&t.push(e)})),this.faceMergeDialog.open(this.video.id,t,this.isAdmin).closePromise.then((function(t){var n,o;t&&t.value&&(e.faceActionStatus="REFRESHING",n=[],e.persons.forEach((function(e,r){e.selected&&(e.id!==t.value?n.push(r):o=r)})),e.personSerivce.getPerson(e.video.id,t.value,e.isAdmin).then((function(t){t=t.events,t=_.filter(t,(function(e){return e.type.toLowerCase()===r.Constants.VideoEventType.face.toLowerCase()})),t=_.map(t,(function(e){return{id:e.id,start:e.start,end:e.end,startInSeconds:i.formatISODurationToSeconds(e.start),endInSeconds:i.formatISODurationToSeconds(e.end),eventData:e.eventData,hidden:e.hidden||!1}})),e.persons[o].events=t,e.persons[o].selected=!1,e.faceEventsList[o]=t;for(var a=n.length-1;0<=a;a--)e.persons.splice(n[a],1),e.faceEventsList.splice(n[a],1);e.faceActionStatus="NONE",e.featureTelemetryTracker.succeed(s.FeatureName.LoadPersons)}),(function(t){e.faceActionStatus="REFRESHERROR",e.featureTelemetryTracker.fail(s.FeatureName.LoadPersons,s.SubFeatureName.PersonService_GetPersons,t)})))}))},a.$inject=["$scope","$element","$q","resources","personService","videoEventService","telemetryService","confirmationDialogService","faceMergeDialog"],n=a;function a(e,t,n,o,a,l,c,d,u){var p=this;this.$scope=e,this.$element=t,this.$q=n,this.resources=o,this.personSerivce=a,this.videoEventService=l,this.telemetryService=c,this.confirmationDialog=d,this.faceMergeDialog=u,this.isEditMode=!1,this.isAllFacesSelected=!1,this.isNoFacesSelected=!0,this.persons=[],this.personsLoadedInEditMode=[],this.faceEventsList=[],this.faceEventsLoadedInEditMode=[],this.videoDuration=90,this.nodeDisplayList=[],this.seekingReady=!1,this.reachedEndInViewMode=!1,this.reachedEndInEditMode=!1,this.isLoading=!0,this.isError=!1,this.faceActionStatus="NONE",this.isLoadingMore=!1,this.top=r.Constants.QueryConfigDefaults.DefaultFaceTop,this.skip=0,this.topAll=r.Constants.QueryConfigDefaults.MaxTop,this.seeking=!1,this.dragging=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(s.ScreenName.Video,s.ResourceType.Video,this.video.id,!1),this.videoDuration=i.formatISODurationToSeconds(this.video.media.duration),e.$watch((function(){return p.playerTime}),(function(e){_.isNumber(e)&&(p.seekingReady||(p.seekingReady=!0),p.dragging||(p.seeking?Math.abs(p.seekTime-e)<1&&(p.seeking=!1,p.seekTime=e):(p.sliderElement.stop(),p.seekTime=e,p.updateSeekPostion(e,!0))))})),e.$watch((function(){return p.persons}),(function(e,t){if(e!==t){for(var n=!0,r=0;r<e.length;r++)if(!e[r].selected){n=!1;break}p.isAllFacesSelected=n}}),!0);var m="mouseup.face-chart-"+this.video.id;$("body").on(m,(function(e){p.dragging&&(p.sendTimeTagClick(p.seekTime),p.dragging=!1,p.seeking=!0)})),this.$scope.$on("$destroy",(function(){$("body").off(m)})),this.notReady?this.isLoading=!1:this.loadMore().catch((function(e){p.isError=!0,e&&e.data&&e.data.error&&e.data.error.message&&_.isString(e.data.error.message)?p.errorMessage=p.resources.FaceChart.FailureMessage+" "+e.data.error.message:p.errorMessage=p.resources.FaceChart.FailureMessage})).finally((function(){p.isLoading=!1}))}t.FaceChartController=n},"./app/components/FaceTimeline/FaceTimeline.html":function(e,t){e.exports="<div class=face-timeline ng-class=\"$ctrl.hideFace ?  'hide-face' : 'show-face'\"> <ul> <li ng-repeat=\"range in $ctrl.ranges\" ng-class=\"$ctrl.hideFace ?  'range-hidden' : 'range-show'\" ng-style=\"{'left': range.left , 'width': range.width}\"> </li> </ul> </div>"},"./app/components/FaceTimeline/FaceTimeline.less":function(e,t){},"./app/components/FaceTimeline/FaceTimeline.ts":function(e,t,n){function r(){this.controller=i.FaceTimelineController,this.template=n("./app/components/FaceTimeline/FaceTimeline.html"),this.bindings={faceEvents:"<",videoDuration:"<",hideFace:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/FaceTimeline/FaceTimeline.less");var i=n("./app/components/FaceTimeline/FaceTimelineController.ts"),o=n("./app/utility/appUtil.ts");t.FaceTimeline=r,o.registerComponent("faceTimeline",r,angular.module("jumper"))},"./app/components/FaceTimeline/FaceTimelineController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.$inject=["$scope"],n=i;function i(e){var t=this;this.$scope=e,this.ranges=_.map(this.faceEvents,(function(e){var n=_.isNumber(e.startInSeconds)?e.startInSeconds:r.formatISODurationToSeconds(e.start),i=_.isNumber(e.endInSeconds)?e.endInSeconds:r.formatISODurationToSeconds(e.end),o=n/t.videoDuration;e=(i-n)/t.videoDuration;return{start:n,end:i,left:(100*o).toString()+"%",width:(100*e).toString()+"%"}}))}t.FaceTimelineController=n},"./app/components/FirstRun/FirstRun.html":function(e,t){e.exports='<section ng-if="!($ctrl.licenseAlreadyAssigned && $ctrl.provisionCheckTimes<2)" class=first-run-container> <div class=upper-section-bg> <div class=data-container> <div class="row column welcome-container"> <div class=welcome-icon-container> <svg-src svg-name=stream-icon></svg-src> </div> <h2 ng-hide=$ctrl.provisioningDone class=c-heading-2> {{$ctrl.resources.FirstRun.AlmostDone}} </h2> <h2 ng-show=$ctrl.provisioningDone class=c-heading-2> {{$ctrl.resources.FirstRun.ReadyHeading}} </h2> <p ng-hide=$ctrl.provisioningDone>{{$ctrl.resources.FirstRun.AlmostDoneSubText}}</p> <a ng-show=$ctrl.provisioningDone class=c-button role=button ng-href={{$ctrl.continueUri()}}>{{$ctrl.resources.Continue}}</a> <div class="welcome-player-container row column xsmall-10"> <div class=player-content-wrapper169> <div class=player-content> <media-player ng-if=$ctrl.loadComplete player-options=$ctrl.playerOptions class=dialog-responsive-player on-viewed=$ctrl.onVideoViewed() summary-heartbeat=$ctrl.summaryHeartbeat(properties) playback-summary=$ctrl.playbackSummary(properties) on-error="$ctrl.onError(metrics, traceId)" preload=true video-id=$ctrl.videoId></media-player> </div> </div> </div> </div> </div> </div> </section> <div ng-if="!($ctrl.licenseAlreadyAssigned && $ctrl.provisionCheckTimes<2)" class=first-run-bottom-fill></div>'},"./app/components/FirstRun/FirstRun.less":function(e,t){},"./app/components/FirstRun/FirstRun.ts":function(e,t,n){function r(){this.controller=o.FirstRunController,this.bindToController=!0,this.template=n("./app/components/FirstRun/FirstRun.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/FirstRun/FirstRun.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/FirstRun/FirstRunController.ts");t.FirstRun=r,i.registerComponent("firstRun",r,angular.module("jumper"))},"./app/components/FirstRun/FirstRunController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/Constants.ts"),l=n("./app/utility/string.ts");n=n("./common/components/MediaPlayer/PlayerPageTelemetryBaseClass.ts"),i(c,o=n.PlayerPageTelemetryBaseClass),c.prototype.doProvisioning=function(){var e=this;this.provisionCheckTimes++,this.tenantService.getProvisionedClientInfo().then((function(t){sessionInfo.ApiGatewayUri=t.data.apiEndpoint,sessionInfo.ServiceRegion=t.data.region&&t.data.region.trim()?t.data.region:"notset",sessionInfo.DataLocation=t.data.dataLocation,sessionInfo.NotificationEndPoint=t.data.notificationEndpoint,e.$scope.$emit(a.Constants.Events.RenewTokenUponSignup),e.provisioningDone=!0,e.licenseAlreadyAssigned&&1===e.provisionCheckTimes&&e.navigationService.href(e.continueUri())}),(function(t){var n=Date.now()-e.provisioningStartTime;t.status<600&&401<=t.status&&n<=a.Constants.HttpRetry.TenantPatchMaxWaitTimeInMs?e.$timeout((function(){e.doProvisioning()}),a.Constants.HttpRetry.TenantPatchWaitTimeInMs):e.featureTelemetryTracker.fail(s.FeatureName.TenantProvisioning,s.SubFeatureName.TenantService_GetTenantProvisioningInfo,t)}))},c.prototype.continueUri=function(){if(!(e=_.isString(this.$location.search()[this.redirectUriParamName])?decodeURI(this.$location.search()[this.redirectUriParamName]):null)||0===e.length)return"/";var e,t=l.urlResolve(e),n=t.host.split(".").reverse();return 2<=(e=this.$location.host().split(".").reverse()).length&&2<=n.length&&e[0]===n[0]&&e[1]===n[1]?(e=0<t.search.length?"?"+t.search:"",n=0<t.hash.length?"#"+t.hash:"",t.pathname+e+n):"/"},c.prototype.licenseAlreadyAssignedCheck=function(){var e=this.$location.search()[this.responseParamName];console.log(e),this.licenseAlreadyAssigned=e&&"AlreadyAssignedLicense"===e},c.prototype.onVideoViewed=function(){this.reportPlayerFeatureSuccess()},c.prototype.setWelcomeVideo=function(){var e=this;this.howToVideoService.getVideos(this.welcomeVideoList).then((function(t){e.videoId=t[0].id,e.contentType=t[0].contentType,e.playerOptions={playbackUrls:t[0].playbackUrls,tracks:t[0].tracks,autoplay:!0,disableLogo:!0,aesToken:"Bearer "+sessionInfo.AccessToken,enableTelemetry:!0},e.loadComplete=!0}))},c.$inject=["$scope","telemetryService","featureFlagsService","$timeout","resources","tenantService","$location","dataService","navigationService","howToVideoService","sdnUtilService","dataShareService"],i=c;function c(e,t,n,r,i,a,l,c,d,u,p,m){var h=o.call(this,t,n,p,m,s.ScreenName.Welcome)||this;return h.$scope=e,h.telemetryService=t,h.$timeout=r,h.resources=i,h.tenantService=a,h.$location=l,h.dataService=c,h.navigationService=d,h.howToVideoService=u,h.sdnUtilService=p,h.dataShareService=m,h.provisionCheckTimes=0,h.playerOptions={playbackUrls:null},h.redirectUriParamName="ru",h.responseParamName="response",h.welcomeVideoList=["welcomeVideo"],h.loadComplete=!1,h.licenseAlreadyAssigned=!1,h.licenseAlreadyAssignedCheck(),h.featureTelemetryTracker=h.telemetryService.getTracker(s.ScreenName.Welcome),h.featureTelemetryTracker.tagScreen(),h.setWelcomeVideo(),h.provisioningDone=!1,h.provisioningStartTime=Date.now(),h.doProvisioning(),h.$scope.$on("$destroy",(function(){h.$location.search(h.redirectUriParamName,null),h.$location.search("utm_source",null),h.$location.search("utm_medium",null),h.$location.search("utm_campaign",null)})),h}t.FirstRunController=i},"./app/components/Footer/Footer.html":function(e,t){e.exports='<div class="row column" ng-show=$ctrl.videoEditorInactive> <section class=footer-section> <ul class="c-list f-bare footer-link-list-left"> <li> <a ng-href=/usersettings aria-label={{::$ctrl.languageSelectorAriaLabel}} class=language-selector-link> <span class="c-glyph glyph-world" aria-hidden=true></span> {{$ctrl.selectedLanguage}} </a> </li> <li> <a external-link class="c-hyperlink footer-link company-policy-link" ng-href={{::$ctrl.companyPolicy}} target=_blank> {{::$ctrl.companyPolicyDisplayText}} </a> </li> </ul> <ul class="c-list f-bare footer-link-list-right"> <li> <a external-link class="c-hyperlink footer-link contact-us-link" ng-href={{::$ctrl.contactUs}} target=_blank> {{::$ctrl.resources.Footer.ContactUs}} </a> </li> <li> <a external-link class="c-hyperlink footer-link privacy-and-cookies-link" ng-href={{::$ctrl.privacyAndCookies}} target=_blank> {{::$ctrl.resources.Footer.Privacy}} </a> </li> <li> <a external-link class="c-hyperlink footer-link terms-of-use-link" ng-href={{::$ctrl.termsOfUse}} target=_blank> {{::$ctrl.resources.Footer.TermsOfUse}} </a> </li> <li> <a external-link class="c-hyperlink footer-link third-party-notices-link" href={{::$ctrl.thirdPartyNoticesURL}} download=NOTICE target=_blank> {{::$ctrl.resources.Footer.ThirdPartyNotices}} </a> </li> <li> <a external-link class="c-hyperlink footer-link terms-and-conditions-link" ng-href={{::$ctrl.termsAndConditions}} target=_blank> {{::$ctrl.resources.Footer.TermsAndConditions}} </a> </li> <li dir=ltr class=copyright> &#0169; {{::$ctrl.copyrightYear}} Microsoft </li> </ul> </section> </div>'},"./app/components/Footer/Footer.less":function(e,t){},"./app/components/Footer/Footer.ts":function(e,t,n){function r(){this.controller=i.FooterController,this.template=n("./app/components/Footer/Footer.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Footer/Footer.less");var i=n("./app/components/Footer/FooterController.ts"),o=n("./app/utility/appUtil.ts");t.Footer=r,o.registerComponent("footer",r,angular.module("jumper"))},"./app/components/Footer/FooterController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts");Object.defineProperty(s.prototype,"thirdPartyNoticesURL",{get:function(){return portalConfiguration.StaticContentLocation+"/"+portalConfiguration.StaticContentContainer+"/bundles/app/generated/thirdpartynotices/notice.txt"},enumerable:!0,configurable:!0}),s.$inject=["resources","$scope","tenantService","featureFlagsService","$window"],n=s;function s(e,t,n,s,a,l){var c=this;this.resources=e,this.$scope=t,this.tenantService=n,this.featureFlagsService=s,this.$window=a,this.mediaDownloaderService=l,this.videoEditorInactive=!0,this.selectedLanguage=_.find(supportedLanguages,(function(e){return e.value.toLowerCase()===sessionInfo.UserLanguage.toLowerCase()})).text,this.tenantService.getSettings().then((function(e){e.data.system.contentManagement.companyUploadPolicy&&e.data.system.contentManagement.companyUploadPolicy.url&&0!==e.data.system.contentManagement.companyUploadPolicy.url.length&&(c.companyPolicy=e.data.system.contentManagement.companyUploadPolicy.url,c.companyPolicyDisplayText=e.data.general&&e.data.general.linkDisplayText&&""!=e.data.general.linkDisplayText?e.data.general.linkDisplayText:c.resources.Footer.CompanyPolicy)})),this.contactUs="http://go.microsoft.com/fwlink/?LinkID=808783&clcid="+sessionInfo.LCID,this.privacyAndCookies="http://go.microsoft.com/fwlink/?LinkID=808237&clcid="+sessionInfo.LCID,this.termsOfUse="http://go.microsoft.com/fwlink/?LinkID=808780&clcid="+sessionInfo.LCID,this.termsAndConditions="http://go.microsoft.com/fwlink/?LinkID=808240&clcid="+sessionInfo.LCID,this.copyrightYear=i.CopyrightYear(sessionInfo),this.languageSelectorAriaLabel=o.formatString(e.LanguageSelectorFooterLabel,this.selectedLanguage),this.$scope.$on(r.Constants.Events.videoEditorLoaded,(function(){c.videoEditorInactive=!1})),this.$scope.$on(r.Constants.Events.videoEditorClosed,(function(){c.videoEditorInactive=!0}))}t.FooterController=n},"./app/components/GetStarted/GetStarted.html":function(e,t){e.exports='<section class=position-relative aria-label={{::$ctrl.resources.GetStarted.Title}}> <div class="row row-size3 column get-started position-relative" ng-if="$ctrl.visible && $ctrl.getStartedVideos.length"> <div class="get-started-title section-title-container"> <h2 class="c-heading-3 home-section-item-title"> {{::$ctrl.resources.GetStarted.Title}} </h2> <div class=see-all><button class=c-action-trigger ng-click=$ctrl.hideThisSection()>{{::$ctrl.resources.DontShowThisAgain}}</button></div> </div> <ul class="row row-size0 margin-20"> <li class="column large-3 medium-3 small-6 xsmall-6" ng-repeat="videoItem in $ctrl.getStartedVideos"> <button ng-click=$ctrl.openVideoDialog(videoItem) aria-label={{$ctrl.getVideoTitle(videoItem.id)}} class=get-started-image-button> <div class=get-started-content-container> <svg-src svg-name={{$ctrl.getSvg(videoItem.id)}} class=intro-svg inline-with-text=true></svg-src> <div class=video-name>{{$ctrl.getVideoName(videoItem.id)}}</div> <div class=watch-now>{{$ctrl.resources.WatchNow}}</div> </div> </button> </li> </ul> </div> </section>'},"./app/components/GetStarted/GetStarted.less":function(e,t){},"./app/components/GetStarted/GetStarted.ts":function(e,t,n){function r(){this.bindings={getStartedMetrics:"<",gettingStartedDismissed:"&"},this.controller=o.GetStartedController,this.template=n("./app/components/GetStarted/GetStarted.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/GetStarted/GetStarted.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/GetStarted/GetStartedController.ts");t.GetStarted=r,i.registerComponent("getStarted",r,angular.module("jumper"))},"./app/components/GetStarted/GetStartedController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts");i.prototype.hideThisSection=function(){var e=this,t=this.featureFlagsService.Values.TrialExperience?{general:{showHowToVideos:!1}}:{general:{showGettingStarted:!1}};this.principalService.patchMySettings(t).then((function(t){t.data,e.visible=!1,e.gettingStartedDismissed()}),(function(t){e.telemetryService.getTracker(r.ScreenName.Hub).fail(r.FeatureName.UpdatePrincipalSettings,r.SubFeatureName.General_ShowGettingStarted,t)}))},i.prototype.openVideoDialog=function(e){var t=this;this.getStartedMetrics&&(this.getStartedMetrics.getStartedVideoClick+=1);var n=[];angular.copy(e.tracks,n),this.videoPlayerDialog.openGetStartedVideo(e.id,e.contentType,e.playbackUrls,n).closePromise.finally((function(){t.telemetryService.getTracker(r.ScreenName.Hub).tagScreen()})),this.dataShareService.videoPlaybackLoadStartInMs=performance.now()},i.prototype.getHowToVideos=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data})).finally((function(){var t=["securelyUpload","findContent","channelsAndGroups"];e.me&&e.me.permissions&&e.me.permissions.canCreateLiveEvent?t.unshift("createLiveEvent"):t.push("embedAndShare"),e.homeHowToVideos=t,e.howToVideoService.getVideos(e.homeHowToVideos).then((function(t){e.getStartedVideos=t}))}))},i.prototype.getVideoName=function(e){return _.find(this.videoConstants,(function(t){return t.id===e})).name},i.prototype.getSvg=function(e){return _.find(this.videoConstants,(function(t){return t.id===e})).svgSrc},i.prototype.getVideoTitle=function(e){return _.find(this.videoConstants,(function(t){return t.id===e})).title},i.$inject=["videoPlayerDialog","resources","telemetryService","featureFlagsService","principalService","howToVideoService","dataShareService"],n=i;function i(e,t,n,r,i,o,s){this.videoPlayerDialog=e,this.resources=t,this.telemetryService=n,this.featureFlagsService=r,this.principalService=i,this.howToVideoService=o,this.dataShareService=s,this.visible=!0,this.videoConstants=[{id:"welcomeVideo",title:this.resources.HomeTiles.GettingStarted.Title,name:this.resources.HomeTiles.GettingStarted.Name,svgSrc:"stream-icon-watermark"},{id:"getStartedVideo",title:this.resources.HomeTiles.GettingStarted.Title,name:this.resources.HomeTiles.GettingStarted.Name,svgSrc:"stream-icon-watermark"},{id:"howToUpload",title:this.resources.HomeTiles.UploadingVideos.Title,name:this.resources.HomeTiles.UploadingVideos.Name,svgSrc:"icon_upload"},{id:"howToSearch",title:this.resources.HomeTiles.FindingVideos.Title,name:this.resources.HomeTiles.FindingVideos.Name,svgSrc:"icon_discover"},{id:"howToShare",title:this.resources.HomeTiles.SharingVideos.Title,name:this.resources.HomeTiles.SharingVideos.Name,svgSrc:"icon_share"},{id:"channelsAndGroups",title:this.resources.HomeTiles.ChannelsAndGroups.Title,name:this.resources.HomeTiles.ChannelsAndGroups.Name,svgSrc:"icon_channel_poster"},{id:"securelyUpload",title:this.resources.HomeTiles.SecurelyUpload.Title,name:this.resources.HomeTiles.SecurelyUpload.Name,svgSrc:"icon_upload"},{id:"findContent",title:this.resources.HomeTiles.FindContent.Title,name:this.resources.HomeTiles.FindContent.Name,svgSrc:"icon_discover"},{id:"embedAndShare",title:this.resources.HomeTiles.EmbedAndShare.Title,name:this.resources.HomeTiles.EmbedAndShare.Name,svgSrc:"icon_share"},{id:"createLiveEvent",title:this.resources.HomeTiles.CreateLiveEvent.Title,name:this.resources.HomeTiles.CreateLiveEvent.Name,svgSrc:"icon_live_event"}],this.homeHowToVideos=[],this.getHowToVideos()}t.GetStartedController=n},"./app/components/Group/GroupChannels/GroupChannels.html":function(e,t){e.exports='<channel-results load-channel-results="$ctrl.loadChannelResults(skip, top)" on-init=$ctrl.onInit(channelResultsController) hide-search-and-filter=$ctrl.noChannelsInGroup hide-group-name=true extra-query-params=$ctrl.extraQueryParams> <no-data-message> <div class="group-channels-no-data-info listpage-no-data-info row column"> <div class=text-container> {{::$ctrl.resources.NoChannelsInGroup}} </div> <div class=sub-text-container> <a ng-click="$ctrl.createChannel({$event: $event})" class="no-data-message-link c-hyperlink" ng-if="$ctrl.canManageChannels || $ctrl.isInAdminMode">{{::$ctrl.resources.CreateNewChannel}}</a> </div> </div> </no-data-message> <item> <channel-card channel-item=item is-list-item=true show-description=true show-videos=false hide-on-unfollow=$ctrl.channelResultsController.hideOnUnfollow metrics=$ctrl.channelResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.channelResultsController.isStreamAdmin hide-group-name=$ctrl.channelResultsController.hideGroupName group=$ctrl.group is-in-admin-mode=$ctrl.isInAdminMode /> </item> </channel-results>'},"./app/components/Group/GroupChannels/GroupChannels.less":function(e,t){},"./app/components/Group/GroupChannels/GroupChannels.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Group/GroupChannels/GroupChannelsController.ts");function o(){this.controller=i.GroupChannelsController,this.template=n("./app/components/Group/GroupChannels/GroupChannels.html"),this.bindings={group:"<",initGroupChannels:"&",createChannel:"&",canManageChannels:"<"},this.bindtocontroller=!0}n("./app/components/Group/GroupChannels/GroupChannels.less"),t.GroupChannels=o,r.registerComponent("groupChannels",o,angular.module("jumper"))},"./app/components/Group/GroupChannels/GroupChannelsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){this.channelResultsController=e,this.channelResultsController.telemetryEventName=s.TelemetryEventNames.groupChannelsSessionEventName,this.channelResultsController.screenName=s.ScreenName.GroupChannels,this.channelResultsController.defaultSort=r.Constants.ChannelsSortOptions.Subscribers,this.channelResultsController.filterStickyClass="no-sticky-class",this.channelResultsController.channelSortOptions={label:this.resources.Sortby,options:[{value:r.Constants.ChannelsSortOptions.Created,text:this.resources.Browse.ChannelSort.CreationDate,telemetrySuffix:r.Constants.sortBySuffixOptions.CreatedDate},{value:r.Constants.ChannelsSortOptions.Relevance,text:this.resources.Browse.ChannelSort.Relavance,telemetrySuffix:r.Constants.sortBySuffixOptions.Relevance},{value:r.Constants.ChannelsSortOptions.Subscribers,text:this.resources.Browse.ChannelSort.Subscribers,telemetrySuffix:r.Constants.sortBySuffixOptions.Subscribers},{value:r.Constants.ChannelsSortOptions.Videos,text:this.resources.Browse.ChannelSort.Videos,telemetrySuffix:r.Constants.sortBySuffixOptions.Videos}]}},a.prototype.loadChannelResults=function(e,t){return this.groupService.getChannels(this.group.id,t,e,this.channelResultsController.channelSort,this.channelResultsController.sortDirection,this.channelResultsController.searchString||void 0,null,this.channelResultsController.isInAdminMode)},Object.defineProperty(a.prototype,"noChannelsInGroup",{get:function(){return this.group&&this.group.metrics.channels<=1},enumerable:!0,configurable:!0}),a.$inject=["groupService","resources","$window","telemetryService","inAdminModeService"],n=a;function a(e,t,n,a,l){this.groupService=e,this.resources=t,this.$window=n,this.telemetryService=a,this.inAdminModeService=l,this.screenName=s.ScreenName.GroupChannels,this.extraQueryParams={view:r.Constants.GroupView.Channels},this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(this.screenName),this.$window.document.title=o.formatString(this.resources.BrowserTitle.GroupChannels,this.group.name,r.Constants.ProductName),this.initGroupChannels({groupChannelsController:this}),this.isInAdminMode=this.inAdminModeService.groupId&&this.inAdminModeService.groupId===this.group.id}t.GroupChannelsController=n},"./app/components/Group/GroupHome/GroupHome.html":function(e,t){e.exports='<div class="row group-home-container" ng-if="($ctrl.trendingVideos.length || $ctrl.popularChannels.length || $ctrl.newVideos.length) && $ctrl.contentLoaded"> <div ng-if=$ctrl.trendingVideos.length class="column xsmall-12 trending-videos-container" ng-class=$ctrl.trendingClasses> <div class=section-title-container> <button class="c-heading-3 home-section-item-title" ng-click=$ctrl.goToGroupTrendingVideos()><h2 class=button-text>{{::$ctrl.trendingTitle}}</h2></button> <span class=see-all ng-if="$ctrl.trendingVideos.length >= 2"> <button ng-click=$ctrl.goToGroupTrendingVideos() class=c-action-trigger>{{::$ctrl.resources.SeeAll}}</button> </span> </div> <div class="row row-size0"> <div ng-repeat="videoItem in $ctrl.trendingVideos" class="column xsmall-12 trending-videos-list" ng-class="$ctrl.popularChannels.length > 1 || $ctrl.newVideos.length ? \'medium-12\' : [\'medium-6\', \'large-6\']"> <video-item-with-overlay video-item=videoItem exit-by-property=$ctrl.groupHomeSummaryProperties.exitBy exit-by-value=$ctrl.trendingExitByValue share-metrics=$ctrl.groupHomeSummaryMetrics.trendingVideoShareClick like-unlike-metrics=$ctrl.groupHomeSummaryMetrics.trendingVideoLikeUnlikeClick add-remove-watchlist-metrics=$ctrl.groupHomeSummaryMetrics.trendingVideoAddOrRemoveFromWatchListClick screen-name=$ctrl.screenName is-in-admin-mode=$ctrl.isInAdminMode></video-item-with-overlay> </div> </div> </div> <div ng-if="$ctrl.popularChannels.length || $ctrl.newVideos.length" class="column xsmall-12 videos-channels-container" ng-class="$ctrl.trendingVideos.length ? [\'medium-4\', \'large-6\'] : [\'medium-12\', \'large-12\']"> <div class="popular-channels-container row column" ng-if="$ctrl.popularChannels.length > 1"> <div class=section-title-container> <button class="c-heading-3 home-section-item-title hide-for-medium-only" ng-click=$ctrl.gotoGroupChannels()><h2 class=button-text>{{::$ctrl.resources.hubpage.popularchannels}}</h2></button> <button class="c-heading-3 home-section-item-title show-for-medium-only" ng-click=$ctrl.gotoGroupChannels()><h2 class=button-text>{{::$ctrl.resources.hubpage.popular}}</h2></button> <span class=see-all> <button ng-click=$ctrl.gotoGroupChannels() class=c-action-trigger>{{::$ctrl.resources.SeeAll}}</button> </span> </div> <ul class="row row-size0" role=presentation> <li class="column large-6 medium-12 small-6 xsmall-12 videos-channels-list popular-channels-list limited" ng-repeat="currentChannel in $ctrl.popularChannels" ng-class=$ctrl.channelsDisplayClasses> <channel-card channel-item=currentChannel show-description=true show-videos=true exit-by-values=$ctrl.popularChannelExitByValues exit-by-property=$ctrl.groupHomeSummaryProperties.exitBy screen-name=$ctrl.screenName num-follow-click=$ctrl.groupHomeSummaryMetrics.popularChannelFollow num-unfollow-click=$ctrl.groupHomeSummaryMetrics.popularChannelUnfollow on-update=$ctrl.updateChannels() is-in-admin-mode=$ctrl.isInAdminMode /> </li> </ul> </div> <div class="new-videos-container row row-size0 column" ng-if=$ctrl.newVideos.length> <div class=section-title-container ng-class="$ctrl.popularChannels.length && $ctrl.popularChannels.length > 1 && $ctrl.trendingVideos.length? \'reduced-margin\': \'\'"> <button class="c-heading-3 home-section-item-title" ng-click=$ctrl.goToGroupRecentVideos()><h2 class=button-text>{{::$ctrl.resources.Components.Groups.RecentVideos}}</h2></button> <span class=see-all> <button ng-click=$ctrl.goToGroupRecentVideos() class=c-action-trigger>{{::$ctrl.resources.SeeAll}}</button> </span> </div> <ul class="row row-size0"> <li class="column large-6 medium-12 small-6 xsmall-12 videos-channels-list" ng-repeat="currentVideo in $ctrl.newVideos" ng-class=$ctrl.channelsDisplayClasses> <responsive-video-item video-item=currentVideo new-video=$ctrl.inSevenDays(currentVideo.publishedDate) item-clicked=$ctrl.recentVideoClicked() show-medium=true is-in-admin-mode=$ctrl.isInAdminMode></responsive-video-item> </li> </ul> </div> </div> </div> <div class="row column" ng-if="$ctrl.showNoDataMsg && $ctrl.contentLoaded"> <div class="group-home-no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.GroupHomeNoDataText}}</div> <p class=sub-text-container>{{::$ctrl.resources.GroupHomeNoDataSubText}}</p> </div> </div> <div class="row column" ng-if="$ctrl.showError && $ctrl.contentLoaded"> <div class="group-home-no-data-info listpage-no-data-info"> <div class=error-text>{{::$ctrl.resources.hubpage.ErrorText}}</div> </div> </div> <div class=loading-page-progress ng-if=!$ctrl.contentLoaded> <div class=loading-spin-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> <span class=loading-message aria-label={{$ctrl.resources.Loading}}>{{$ctrl.resources.Loading}}</span> </div> </div>'},"./app/components/Group/GroupHome/GroupHome.less":function(e,t){},"./app/components/Group/GroupHome/GroupHome.ts":function(e,t,n){function r(){this.controller=o.GroupHomeController,this.template=n("./app/components/Group/GroupHome/GroupHome.html"),this.bindings={group:"<",trendingVideos:"<",newVideos:"<",loadVideos:"<",selectedTabOption:"=",videoSort:"=",parentVideoLoaded:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Group/GroupHome/GroupHome.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Group/GroupHome/GroupHomeController.ts");t.GroupHome=r,i.registerComponent("groupHome",r,angular.module("jumper"))},"./app/components/Group/GroupHome/GroupHomeController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/components/Group/GroupPage/GroupPageController.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts");function a(e,n,i,a,l,c,d,u){var p=this;this.$scope=e,this.groupService=n,this.resources=i,this.telemetryService=a,this.$window=l,this.inAdminModeService=c,this.navigationService=d,this.principalService=u,this.groupHomeSummaryProperties={exitBy:t.GroupHomeExitBy.other},this.groupHomeSummaryMetrics={popularChannelFollow:0,popularChannelUnfollow:0,trendingVideoShareClick:0,trendingVideoLikeUnlikeClick:0,trendingVideoAddOrRemoveFromWatchListClick:0},this.popularChannelExitByValues={channel:t.GroupHomeExitBy.popularChannelClicked,channelVideo:t.GroupHomeExitBy.videoFromPopularChannelCardClicked},this.popularChannels=[],this.popularChannelsFetchCount=4,this.newVideosFetchCount=6,this.trendingExitByValue=t.GroupHomeExitBy.trendingVideosClicked,this.loadComplete=!1,this.popularChannelsLoadError=!1,this.newVideosLoadError=!1,this.newVideosLoaded=!1,this.channelsLoaded=!1,this.$window.document.title=s.formatString(this.resources.BrowserTitle.GroupHome,this.group.name,r.Constants.ProductName),this.screenName=o.ScreenName.GroupHome,this.featureTelemetryTracker=this.telemetryService.getTracker(this.screenName);var m=this.sendTelemetryEvents.bind(this);this.$scope.$on("$destroy",(function(){p.sendTelemetryEvents(),p.$window.removeEventListener("beforeunload",m)})),this.$window.addEventListener("beforeunload",m),this.loadVideos?(this.newVideos=[],this.initNewVideos()):this.group&&this.group.metrics.videos<=10&&(this.newVideosLoaded=!0),this.group&&6<this.group.metrics.videos?this.initPopularChannels():this.channelsLoaded=!0,this.isInAdminMode=this.inAdminModeService.groupId===this.group.id}t.GroupHomeExitBy={trendingVideosClicked:"GroupPageTrendingVideosClicked",trendingVideosSeeAllClicked:"GroupPageTrendingSeeAllClicked",popularChannelClicked:"GroupPagePopularChannelClicked",videoFromPopularChannelCardClicked:"GroupPageVideoFromPopularChannelCardClicked",popularChannelSeeAllClicked:"GroupPagePopularChannelSeeAllClicked",recentVideoClicked:"GroupPageRecentVideoClicked",RecentVideosSeeAllClicked:"GroupPageRevcentVideosSeeAllClicked",other:"Other"},a.prototype.initPopularChannels=function(){var e=this,t=this.principalService.getAdminModeStatus();this.groupService.getChannels(this.group.id,this.popularChannelsFetchCount,0,r.Constants.ChannelsSortOptions.Subscribers,r.Constants.SortDirection.Descending,void 0,void 0,t).then((function(t){e.popularChannels=t.data.value,e.featureTelemetryTracker.succeed(o.FeatureName.GroupPopularChannels),e.loadComplete=!0}),(function(t){e.popularChannelsLoadError=!0,e.featureTelemetryTracker.fail(o.FeatureName.GroupPopularChannels,o.SubFeatureName.GroupService_GetChannels,t)})).finally((function(){e.channelsLoaded=!0}))},a.prototype.initNewVideos=function(){var e=this,t=this.principalService.getAdminModeStatus();this.groupService.getVideos(this.group.id,this.newVideosFetchCount,0,r.Constants.VideoSortOptions.PublishDate,r.Constants.SortDirection.Descending,void 0,void 0,t).then((function(t){e.newVideos=t.data.value,e.featureTelemetryTracker.succeed(o.FeatureName.GroupRecentVideos)}),(function(t){e.newVideosLoadError=!0,e.featureTelemetryTracker.fail(o.FeatureName.GroupRecentVideos,o.SubFeatureName.GroupService_GetVideos,t)})).finally((function(){e.newVideosLoaded=!0}))},a.prototype.inSevenDays=function(e){return Date.now()-Date.parse(e)<r.Constants.Time.SEVEN_DAYS},a.prototype.gotoGroupChannels=function(){this.groupHomeSummaryProperties.exitBy=t.GroupHomeExitBy.popularChannelSeeAllClicked,this.selectedTabOption=i.TypeFilter.Channels,this.navigationService.addQueryParam({view:r.Constants.GroupView.Channels})},a.prototype.goToGroupRecentVideos=function(){this.videoSort=r.Constants.VideoSortOptions.PublishDate,this.groupHomeSummaryProperties.exitBy=t.GroupHomeExitBy.RecentVideosSeeAllClicked,this.selectedTabOption=i.TypeFilter.Videos,this.navigationService.addQueryParam({view:r.Constants.GroupView.Videos})},a.prototype.goToGroupTrendingVideos=function(){this.videoSort=this.loadVideos||this.newVideos.length?r.Constants.VideoSortOptions.Trending:r.Constants.VideoSortOptions.PublishDate,this.groupHomeSummaryProperties.exitBy=t.GroupHomeExitBy.trendingVideosSeeAllClicked,this.selectedTabOption=i.TypeFilter.Videos,this.navigationService.addQueryParam({view:r.Constants.GroupView.Videos})},a.prototype.sendTelemetryEvents=function(){this.groupHomeSummaryProperties&&this.groupHomeSummaryMetrics&&(this.telemetryService.getTracker(o.ScreenName.Hub).trackEvent(o.TelemetryEventNames.hubPageEventName,this.groupHomeSummaryProperties,this.groupHomeSummaryMetrics),this.groupHomeSummaryProperties=void 0,this.groupHomeSummaryMetrics=void 0)},a.prototype.recentVideoClicked=function(){this.groupHomeSummaryProperties.exitBy=t.GroupHomeExitBy.recentVideoClicked},Object.defineProperty(a.prototype,"showNoDataMsg",{get:function(){return this.group&&0===this.group.metrics.videos},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"showError",{get:function(){return this.popularChannelsLoadError||this.newVideosLoadError},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"trendingTitle",{get:function(){return this.loadVideos||this.newVideos.length?this.resources.HubTrendingVideo:this.resources.Components.Groups.RecentVideos},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"trendingClasses",{get:function(){return 1<this.popularChannels.length||this.newVideos.length?["medium-8","large-6"]:["medium-12","large-12"]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"contentLoaded",{get:function(){return this.newVideosLoaded&&this.channelsLoaded&&this.parentVideoLoaded},enumerable:!0,configurable:!0}),a.$inject=["$scope","groupService","resources","telemetryService","$window","inAdminModeService","navigationService","principalService"],n=a,t.GroupHomeController=n},"./app/components/Group/GroupOverlay/GroupOverlay.html":function(e,t){e.exports="<div class=group-detail-container> <div> <h1 class=group-title>{{$ctrl.group.name}}</h1> <read-less-read-more text-content=$ctrl.group.description default-max-lines=4 use-ellipsis=true class=show-for-large-only telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <read-less-read-more text-content=$ctrl.group.description default-max-lines=3 use-ellipsis=true class=show-for-medium-only telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <div class=privacy-container> <span class=group-tag ng-if=$ctrl.isOffice365Group>{{$ctrl.officeGroup}}</span> <span class=classification-tag ng-if=$ctrl.group.aadGroup.classification>{{$ctrl.group.aadGroup.classification}}</span> <span class=public-group-tag ng-if=!$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> <span class=private-group-tag ng-if=$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> </div> </div> </div>"},"./app/components/Group/GroupOverlay/GroupOverlay.less":function(e,t){},"./app/components/Group/GroupOverlay/GroupOverlay.ts":function(e,t,n){function r(){this.controller=o.GroupOverlayController,this.template=n("./app/components/Group/GroupOverlay/GroupOverlay.html"),this.bindings={group:"<",privacyMode:"=",groupPermission:"<",isPrivateGroup:"<",telemetryTracker:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Group/GroupOverlay/GroupOverlay.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Group/GroupOverlay/GroupOverlayController.ts");t.GroupOverlay=r,i.registerComponent("groupOverlay",r,angular.module("jumper"))},"./app/components/Group/GroupOverlay/GroupOverlayController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts");Object.defineProperty(i.prototype,"isOffice365Group",{get:function(){return this.group&&null!==this.group.aadGroup},enumerable:!0,configurable:!0}),i.$inject=["resources","featureFlagsService"],n=i;function i(e,t){this.resources=e,this.featureFlagsService=t,this.privacyMode="false",this.officeGroup=r.Constants.M365Name,this.isTelemetrySent=!1,this.tagClickedTelemetryProperties={source:r.Constants.TagClickSource.GroupOverlay,id:this.group?this.group.id:""},this.featureFlagsService.Values.HideM365GroupLabel&&(this.officeGroup=r.Constants.O365Name)}t.GroupOverlayController=n},"./app/components/Group/GroupPage/GroupPage.html":function(e,t){e.exports='<div class=read-only-mode-banner ng-if=$ctrl.isReadOnlyGroup> {{::$ctrl.resources.ReadonlyGroupBanner}} </div> <section class=group-page-container ng-if=$ctrl.group ngf-drop ngf-drop-disabled=$ctrl.isUploadDisabled ngf-change=$ctrl.uploadVideoFiles($files) ngf-drag-over-class=dragover ngf-multiple=true> <section class=group-page-static-container> <div class="row column position-relative"> <div class=settings-button-container ng-if="$ctrl.group.userData.permissions.canEdit && !$ctrl.isSpotlightEnabled"> <button class=settings-button ng-click=$ctrl.editGroup()> <svg-src svg-name=icon_settings></svg-src> <span class=show-for-medium>{{::$ctrl.resources.Components.Groups.Settings}}</span> </button> </div> <div class=carousel-place-holder> <video-carousel carousel-videos=$ctrl.carouselVideos ng-if="$ctrl.carouselVideos.length || $ctrl.showDefaultActions" group=$ctrl.group privacy-mode=$ctrl.privacyMode carousel-exit-by=$ctrl.groupPageSummaryProperties.exitBy selected-tab-option=$ctrl.selectedTabOption init-videos=$ctrl.refresh() screen-name=$ctrl.screenName is-stream-admin=$ctrl.isStreamAdmin is-in-admin-mode=$ctrl.isInAdminMode telemetry-tracker=$ctrl.featureTelemetryTracker></video-carousel> <drawer ng-show="$ctrl.drawerItems.length && $ctrl.isSpotlightEnabled" class="action-drawer group-drawer action-drawer-with-label" drawer-items=$ctrl.drawerItems do-not-stop-propagation=true group-icon=true> <transcludebutton> <span role=presentation> <button name=dropdown class="c-action-trigger c-glyph drawer-button drawer-button-stream drawer-button-without-label group-icon" custom-title={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} aria-label={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} aria-expanded=false ng-click=return;> <svg-src svg-name=icon_settings inline-with-text=true></svg-src> </button> </span> </transcludebutton> </drawer> </div> </div> <div class=new-tab-navigation-bar> <div class="navigation-bar group-navigation-bar row column"> <tab-navigation model=$ctrl.tabOptions value=$ctrl.selectedTabOption on-select=$ctrl.tabSelected(value)> </tab-navigation> <div class=right-buttons> <div class=upload-button> <button class=c-action-trigger ngf-select ngf-change=$ctrl.uploadVideoFiles($files) ngf-multiple=true ng-if=!$ctrl.isUploadDisabled aria-label={{::$ctrl.resources.UploadVideo}}> <svg-src svg-name=icon_upload inline-with-text=true class=upload-button-icon /> <span>{{::$ctrl.resources.UploadVideoButton}}</span> </button> </div> <button class=c-action-trigger ng-if=$ctrl.isCreateChannelEnabled ng-click=$ctrl.createChannel($event) aria-label={{::$ctrl.resources.NewChannel}}> <svg-src svg-name=icon_add inline-with-text=true class=new-channel-icon /> <span>{{::$ctrl.resources.NewChannel}}</span> </button> <button class=c-action-trigger ng-if=$ctrl.addMemberButtonEnabled ng-click=$ctrl.addMembers($event) aria-label={{::$ctrl.resources.GroupMembers.AddMembersAction}}> <svg-src svg-name=icon_add inline-with-text=true class=new-channel-icon /> <span>{{::$ctrl.resources.GroupMembers.AddMembersAction}}</span> </button> </div> </div> </div> </section> <section class=group-page-dynamic-container> <group-home group=$ctrl.group trending-videos=$ctrl.trendingVideos ng-if=$ctrl.groupHomeSelected selected-tab-option=$ctrl.selectedTabOption new-videos=$ctrl.recentVideos load-videos=$ctrl.groupHomeLoadVideos video-sort=$ctrl.videoSort parent-video-loaded=$ctrl.videosLoaded></group-home> <group-video-results ng-if=$ctrl.videosSelected search-string=$ctrl.searchString video-sort=$ctrl.videoSort group=$ctrl.group transcript-search=$ctrl.transcriptSearchEnabled is-read-only=$ctrl.isReadOnlyGroup> </group-video-results> <group-channels group=$ctrl.group init-group-channels=$ctrl.initGroupChannelsController(groupChannelsController) ng-if=$ctrl.groupChannelsSelected create-channel=$ctrl.createChannel($event) can-manage-channels="$ctrl.group.userData.permissions.canManageChannels && !$ctrl.isReadOnlyGroup"/> <group-principals group=$ctrl.group ng-if=$ctrl.groupPrincipalsSelected added-members=$ctrl.addedMembers privacy-mode-changed=$ctrl.privacyMode is-tenant-admin=$ctrl.isTenantAdmin /> </section> </section> <section class="group-page-container error-screen" ng-if=$ctrl.showErrorPage> <error-box title-str={{$ctrl.errorBoxTitle}} message={{$ctrl.errorBoxMessage}} no-actions=true full-screen=true /> </section> <react-group-edit ng-if=$ctrl.useO365GroupShareableControl on-close=::$ctrl.onO365GroupCRUDControlClose group-id=$ctrl.groupId group-name=$ctrl.group.name members-role-id=$ctrl.membersRoleId />'},"./app/components/Group/GroupPage/GroupPage.less":function(e,t){},"./app/components/Group/GroupPage/GroupPage.ts":function(e,t,n){function r(){this.controller=o.GroupPageController,this.template=n("./app/components/Group/GroupPage/GroupPage.html"),this.bindings={groupId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Group/GroupPage/GroupPage.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Group/GroupPage/GroupPageController.ts");t.GroupPage=r,i.registerComponent("groupPage",r,angular.module("jumper"))},"./app/components/Group/GroupPage/GroupPageController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/utility/Constants.ts"),o=n("./common/Directives/Drawer/Drawer.ts"),s=n("./app/models/TelemetryEventModels.ts");function a(e,t,n,r,o,a,l,c,d,u,p,m,h,g,f,v,y,b,S,_){var C=this;function $(e){C.isTelemetrySent||C.isSpotlightEnabled||(C.sendTelemetryEvents(),C.isTelemetrySent=!0)}this.$scope=e,this.$rootScope=t,this.$q=n,this.groupService=r,this.resources=o,this.$location=a,this.groupEditDialog=l,this.telemetryService=c,this.featureFlagsService=d,this.$window=u,this.dataShareService=p,this.navigationService=m,this.principalService=h,this.dataService=g,this.createChannelDialog=f,this.groupMembersAddDialog=v,this.spotlightService=y,this.spotlightDialog=b,this.$attrs=S,this.deleteConfirmationDialogService=_,this.groupPageSummaryProperties={exitBy:i.Constants.GroupPageExitBy.other},this.groupPageSummaryMetrics={settingsButtonClick:0,o365GroupLinkClick:0},this.carouselVideos=[],this.trendingVideos=[],this.recentVideos=[],this.groupHomeLoadVideos=!1,this.trendingVideosTopFetchCount=7,this.showCarousel=!1,this.showDefaultActions=!1,this.showWelcomeSlide=!1,this.showErrorPage=!1,this.videoSort=i.Constants.VideoSortOptions.Trending,this.productName=i.Constants.ProductName,this.errorBoxMessage="",this.errorBoxTitle="",this.isStreamAdmin=!1,this.isTenantAdmin=!1,this.isTelemetrySent=!1,this.privacyMode="false",this.isInAdminMode=!1,this.spotlightVideos=[],this.maxNumberOfCarousel=4,this.extraQueryParams=this.$location.search(),this.videosLoaded=!1,this.drawerItems=[],this.useO365GroupShareableControl=!1,this.groupPageActionsMetrics={editButtonClick:0,manageSpotlightButtonClick:0,deleteButtonClick:0},this.editCompleteCallback=function(e){C.telemetryService.getTracker(C.screenName).tagScreen(),e&&e.value&&(C.privacyMode="true"),e&&e.value&&e.value.group?C.group=e.value.group:C.groupDeletePostAction()},this.onO365GroupCRUDControlClose=function(e,t){e&&C.groupService.get(e).then((function(e){C.featureTelemetryTracker.succeed(s.FeatureName.O365GroupLoadedAfterUpdate),C.group=e.data}),(function(e){C.featureTelemetryTracker.fail(s.FeatureName.O365GroupLoadedAfterUpdate,s.SubFeatureName.GroupService_Get,e)})),C.useO365GroupShareableControl=!1,t&&C.groupDeletePostAction()},this.screenName=s.ScreenName.Group,this.featureTelemetryTracker=this.telemetryService.getTracker(this.screenName),this.$scope.$on("$destroy",(function(){$(),C.$window.removeEventListener("beforeunload",$)})),this.$window.addEventListener("beforeunload",$),this.initGroupDetail(),this.initTabOptions(),this.initLocationWatcher()}(n=r=t.TypeFilter||(t.TypeFilter={}))[n.GroupHome=0]="GroupHome",n[n.Videos=1]="Videos",n[n.Channels=2]="Channels",n[n.Members=3]="Members",Object.defineProperty(a.prototype,"videosSelected",{get:function(){return this.selectedTabOption===r.Videos},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"membersRoleId",{get:function(){return this.group&&this.group.aadGroup?this.group.aadGroup.membersRoleId:""},enumerable:!0,configurable:!0}),a.prototype.initDrawerItems=function(){2<this.drawerItems.length||((this.isInAdminMode||this.group.userData.permissions.canEdit)&&(this.drawerItems.push(new o.DrawerItem("manage-spotlight-videos",this.resources.SpotlightGroupManageSpotlightVideos,this.manageSpotlightVideos.bind(this),"icon_spotlight")),this.drawerItems.push(new o.DrawerItem("edit-group",this.resources.Edit,this.editGroup.bind(this),"icon_edit"))),(this.isInAdminMode||this.group.userData.permissions.canDelete)&&this.drawerItems.push(new o.DrawerItem("delete-group",this.resources.Delete,this.deleteGroup.bind(this),"icon_delete")))},a.prototype.uploadVideoFiles=function(e){e&&0<e.length&&(this.dataShareService.files=e,this.dataShareService.channel={id:this.group.id},this.dataShareService.group=this.group,this.navigationService.navigate(i.Constants.Routes.Upload))},a.prototype.manageSpotlightVideos=function(){var e=this;this.groupPageActionsMetrics.manageSpotlightButtonClick+=1,this.spotlightDialog.open(this.group).closePromise.then((function(){e.refresh()}))},a.prototype.deleteGroup=function(){var e=this,t=this.$q.defer();return this.groupPageActionsMetrics&&(this.groupPageActionsMetrics.deleteButtonClick+=1),this.deleteConfirmationDialogService.show(this.resources.ResourceType.Group.LowerSingular,this.group.name,this.isOffice365Group).then((function(){e.groupService.delete(e.group.id).then((function(){e.telemetryService.getTracker().succeed(s.FeatureName.GroupDelete);var t={view:s.ScreenName[s.ScreenName.BrowseGroups]};e.groupPageSummaryProperties.exitBy=i.Constants.GroupPageExitBy.groupDeleted,e.navigationService.navigate(i.Constants.Routes.Browse,t)}),(function(t){e.telemetryService.getTracker().fail(s.FeatureName.GroupDelete,s.SubFeatureName.GroupService_Delete,t)}))})).finally((function(){t.resolve()})),t.promise},a.prototype.initGroupDetail=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data,e.isStreamAdmin=e.principalService.getIsStreamAdmin(),e.isTenantAdmin=_.get(t,"data.permissions.canManageTenant",!1),e.transcriptSearchEnabled=e.me.servicePlans.capabilities.transcriptSearch,e.isInAdminMode=e.isStreamAdmin&&e.principalService.getAdminModeStatus(),e.$scope.$watch(e.principalService.getAdminModeStatus,(function(t,n){t!=n&&(e.isInAdminMode=t,e.$window.location.reload())}))})).then((function(){e.getGroupVideos()}))},a.prototype.getGroupVideos=function(){var e=this;return this.groupService.get(this.groupId,this.isInAdminMode).then((function(t){e.showErrorPage=!1,e.group=t.data,t=e.group.metrics&&e.group.metrics.videos?e.group.metrics.videos:0,e.initDrawerItems(),0<t&&t<=10?e.initSpotlightAndOtherVideos((function(t){return e.initGroupVideos(t)})):10<t?(e.groupHomeLoadVideos=!0,e.initSpotlightAndOtherVideos((function(t){return e.initTrendingVideos(t)}))):(e.videosLoaded=!0,e.showDefaultActions=!0)}),(function(t){e.featureTelemetryTracker.fail(s.FeatureName.Group,s.SubFeatureName.GroupService_Get,t),e.showErrorPage=!0,e.errorBoxTitle=e.resources.GroupPageLoadErrorTitle,t.status==i.Constants.HttpStatusCode.Forbidden?e.errorBoxMessage=e.resources.Components.Groups.Forbidden.Message:e.errorBoxMessage=e.resources.GroupPageLoadErrorMsg}))},a.prototype.initLocationWatcher=function(){var e=this;this.$scope.$watch((function(){return window.location.search}),(function(t,n){0<=t.indexOf(i.Constants.GroupView.Videos)?e.selectedTabOption=r.Videos:0<=t.indexOf(i.Constants.GroupView.Channels)?e.selectedTabOption=r.Channels:0<=t.indexOf(i.Constants.GroupView.Members)?e.selectedTabOption=r.Members:e.selectedTabOption=r.GroupHome}))},a.prototype.editGroup=function(){var e=this;if(this.groupPageSummaryMetrics.settingsButtonClick+=1,this.isShareableCRUDEnabled&&this.group.aadGroup){var t=Date.parse(sessionInfo.LokiTokenExpiry);if(!t||isNaN(t))try{(t=Date.parse(JSON.parse(sessionInfo.LokiTokenExpiry)))&&!isNaN(t)||(t=0)}catch(n){t=0}var n=Date.now();!sessionInfo.LokiToken||!sessionInfo.MSGraphToken||t<n?this.dataService.makeWebTierRequest("/ClearAllCookies","POST",null,{}).then((function(){e.$rootScope.$broadcast(i.Constants.Events.SessionExpired)})):this.useO365GroupShareableControl=!0}else n=void 0,n=this.groupEditDialog.open(this.group,this.isInAdminMode),this.privacyMode="false",n.closePromise.then((function(t){e.editCompleteCallback(t)}))},a.prototype.refresh=function(){this.getGroupVideos()},a.prototype.initSpotlightAndOtherVideos=function(e){var t=this;this.spotlightVideos=[],this.trendingVideos=[],this.carouselVideos=[],this.spotlightService.getGroupSpotlightVideos(this.group.id,this.isInAdminMode).then((function(e){e&&e.data&&e.data.value&&0<(e=e.data.value).length&&(e=e.map((function(e){return e.video})),t.spotlightVideos=e.slice(0,t.maxNumberOfCarousel),t.spotlightVideos=t.spotlightVideos.map((function(e){return e.isSpotlight=!0,e}))),t.featureTelemetryTracker.succeed(s.FeatureName.GetGroupSpotlightVideos)}),(function(e){t.featureTelemetryTracker.fail(s.FeatureName.GetGroupSpotlightVideos,s.SubFeatureName.SpotlightService_GetGroupSpotlight,e)})).finally((function(){return e(t.spotlightVideos)}))},a.prototype.groupDeletePostAction=function(){var e=this.navigationService.getPreviousUrl(),t=this.$location.absUrl();e&&t.indexOf(e)<0?this.navigationService.href(e):(e={view:s.ScreenName[s.ScreenName.BrowseGroups]},this.groupPageSummaryProperties.exitBy=i.Constants.GroupPageExitBy.groupDeleted,this.navigationService.navigate(i.Constants.Routes.Browse,e))},Object.defineProperty(a.prototype,"isShareableCRUDEnabled",{get:function(){return this.featureFlagsService.Values.ShareableGroupCRUDControl},enumerable:!0,configurable:!0}),a.prototype.initTrendingVideos=function(e){var t=this;this.groupService.getTrendingVideos(this.group.id,this.trendingVideosTopFetchCount,0,this.isInAdminMode).then((function(n){var r=n.data.value,i=[],o=_.some(e);n=_.some(r);o&&n?i=(i=_.unionBy(t.spotlightVideos,r,"id")).slice(0,t.trendingVideosTopFetchCount):o?i=t.spotlightVideos:n&&(i=r),1===i.length?(t.trendingVideos=i,t.showDefaultActions=!0):2===i.length?(t.carouselVideos=i.slice(0,1),t.trendingVideos=i.slice(1)):2<i.length&&i.length<5?(t.carouselVideos=i.slice(0,i.length-1),t.trendingVideos=i.slice(i.length-1)):5<=i.length?(t.carouselVideos=i.slice(0,4),t.trendingVideos=i.slice(4)):t.showDefaultActions=!0,t.showCarousel=!0,t.featureTelemetryTracker.succeed(s.FeatureName.GroupTrendingVideos)}),(function(e){t.showDefaultActions=!0,t.featureTelemetryTracker.fail(s.FeatureName.GroupTrendingVideos,s.SubFeatureName.GroupService_GetTrendingVideos,e)})).finally((function(){t.videosLoaded=!0}))},a.prototype.initGroupVideos=function(e){var t=this;this.groupService.getVideos(this.group.id,10,0,i.Constants.VideoSortOptions.PublishDate,i.Constants.SortDirection.Descending,void 0,void 0,this.isInAdminMode).then((function(n){var r,i=_.some(e),o=n.data.value,a=[],l=i?(a=t.spotlightVideos,t.showDefaultActions=!1,_.unionBy(t.spotlightVideos,o,"id").filter((function(e){return!e.isSpotlight}))):o;n=a.length,n=t.maxNumberOfCarousel-n;o.length&&o.length<=2?(i||(t.showDefaultActions=!0),t.trendingVideos=o):3==o.length?0==n?t.trendingVideos=o:(t.trendingVideos=o.slice(1),a=a.concat(o.slice(0,1))):3<o.length&&o.length<=6?0==n?t.trendingVideos=o:(r=Math.min(2,n),a=a.concat(l.slice(0,r)),t.trendingVideos=l.slice(r)):6<o.length?(0==n?t.trendingVideos=l.slice(0,4):(r=Math.min(2,n),a=a.concat(l.slice(0,r)),t.trendingVideos=l.slice(r,4)),t.recentVideos=l.slice(4)):t.showDefaultActions=!0,t.carouselVideos=a,t.showCarousel=!0,t.featureTelemetryTracker.succeed(s.FeatureName.GroupTrendingVideos)}),(function(e){t.showDefaultActions=!0,t.featureTelemetryTracker.fail(s.FeatureName.GroupTrendingVideos,s.SubFeatureName.GroupService_GetTrendingVideos,e)})).finally((function(){t.videosLoaded=!0}))},a.prototype.initTabOptions=function(){var e=this.$location.search();this.tabOptions={options:[{value:r.GroupHome,text:this.resources.GroupHome},{value:r.Videos,text:this.resources.Browse.Tabs.Videos},{value:r.Channels,text:this.resources.Browse.Tabs.Channels},{value:r.Members,text:this.resources.ManageGroupMembership}]},this.selectedTabOption=r.GroupHome,e.view&&((e=e.view.toLowerCase())===i.Constants.GroupView.Channels?this.selectedTabOption=r.Channels:e===i.Constants.GroupView.Videos?this.selectedTabOption=r.Videos:e===i.Constants.GroupView.Members&&(this.selectedTabOption=r.Members))},a.prototype.tabSelected=function(e){this.selectedTabOption=e,e=this.typeFilterToGroupView(e),e=_.assign({},this.extraQueryParams,{view:e}),this.$location.search(e)},Object.defineProperty(a.prototype,"groupHomeSelected",{get:function(){return this.selectedTabOption===r.GroupHome},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isUploadDisabled",{get:function(){return!this.group||this.selectedTabOption!==r.Videos&&this.selectedTabOption!==r.GroupHome||!(this.group.userData.permissions.canManageMediaItems||this.isInAdminMode)||!this.me||!this.me.permissions.canCreateVideo||this.isReadOnlyGroup},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isCreateChannelEnabled",{get:function(){return this.groupChannelsSelected&&(this.group.userData.permissions.canManageChannels||this.isInAdminMode)&&!this.isReadOnlyGroup},enumerable:!0,configurable:!0}),a.prototype.sendTelemetryEvents=function(){this.groupPageSummaryProperties&&this.groupPageSummaryMetrics&&(this.telemetryService.getTracker(s.ScreenName.Hub).trackEvent(s.TelemetryEventNames.hubPageEventName,this.groupPageSummaryProperties,this.groupPageSummaryMetrics),this.groupPageSummaryProperties=void 0,this.groupPageSummaryMetrics=void 0)},Object.defineProperty(a.prototype,"groupChannelsSelected",{get:function(){return this.selectedTabOption===r.Channels},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"groupPrincipalsSelected",{get:function(){return this.selectedTabOption===r.Members},enumerable:!0,configurable:!0}),a.prototype.createChannel=function(e){var t=this;this.createChannelDialog.open(null,this.group,this.isCompanyWideChannelCreationEnabled()).closePromise.then((function(e){(e=e.value&&e.value.channel?e.value.channel:null)&&(t.group.metrics.channels++,t.groupChannelsController.channelResultsController.channelSort===i.Constants.ChannelsSortOptions.Created?t.groupChannelsController.channelResultsController.newCreatedChannel=e:t.groupChannelsController.channelResultsController.channelSort=i.Constants.ChannelsSortOptions.Created)})).catch((function(e){})),e.stopPropagation()},a.prototype.addMembers=function(e){var t=this;this.groupMembersAddDialog.open(this.group,this.isInAdminMode).closePromise.then((function(e){e.value.isSaved&&(t.addedMembers=e.value)}))},a.prototype.initGroupChannelsController=function(e){this.groupChannelsController=e},Object.defineProperty(a.prototype,"isSpotlightEnabled",{get:function(){return this.featureFlagsService.Values.GroupSpotlight},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"addMemberButtonEnabled",{get:function(){return this.featureFlagsService.Values.GroupInAdminMode?this.groupPrincipalsSelected&&(this.group.userData.permissions.canManageRoleAssignments||this.isInAdminMode&&this.canMemberEdit)&&!this.isReadOnlyGroup:this.groupPrincipalsSelected&&this.group.userData.permissions.canManageRoleAssignments&&!this.isReadOnlyGroup},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"canMemberEdit",{get:function(){return this.isOffice365Group?this.isTenantAdmin:this.isStreamAdmin},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isOffice365Group",{get:function(){return!this.featureFlagsService.Values.LocalGroups||!(!this.group||!this.group.aadGroup)},enumerable:!0,configurable:!0}),a.prototype.isCompanyWideChannelCreationEnabled=function(){return this.me.permissions.canCreateChannel},Object.defineProperty(a.prototype,"isReadOnlyGroup",{get:function(){return this.group&&this.group.readOnlyMigratedContent},enumerable:!0,configurable:!0}),a.prototype.typeFilterToGroupView=function(e){var t;switch(e){case r.Channels:t=i.Constants.GroupView.Channels;break;case r.GroupHome:t=i.Constants.GroupView.Highlights;break;case r.Members:t=i.Constants.GroupView.Members;break;case r.Videos:t=i.Constants.GroupView.Videos;break;default:t=i.Constants.GroupView.Highlights}return t},a.$inject=["$scope","$rootScope","$q","groupService","resources","$location","groupEditDialog","telemetryService","featureFlagsService","$window","dataShareService","navigationService","principalService","dataService","createChannelDialog","groupMembersAddDialog","spotlightService","spotlightDialog","$attrs","deleteConfirmationDialogService"],n=a,t.GroupPageController=n},"./app/components/Group/GroupPrincipals/GroupPrincipals.html":function(e,t){e.exports='<principal-results load-principal-results="$ctrl.loadPrincipalResults(skip, top)" ng-if=!$ctrl.isReactMemberListEnabled on-init=$ctrl.onInit(principalResultsController) hide-search-and-filter=$ctrl.noPrincipalsInGroup hide-group-name=true , extra-query-params=$ctrl.extraQueryParams> <no-data-message> <div class="group-principals-no-data-info listpage-no-data-info row column"> <div class=text-container> {{::$ctrl.showMessage()}} </div> <div class=sub-text-container> <a ng-click="$ctrl.addMembers({$event: $event})" class="no-data-message-link c-hyperlink" ng-if="!$ctrl.openEditGroupDialog() && ($ctrl.group.userData.permissions.canManageRoleAssignments || $ctrl.isInAdminMode)">{{::$ctrl.getLink()}}</a> <a ng-click="$ctrl.editGroup({$event: $event})" class="no-data-message-link c-hyperlink" ng-if="$ctrl.openEditGroupDialog() && $ctrl.group.userData.permissions.canEdit">{{::$ctrl.getLink()}}</a> </div> </div> </no-data-message> <filters> <search-and-filter> <search-filter action-role=filter target-property=memberType class="column large-3 medium-3 small-6 video-privacy-options" model=$ctrl.memberTypes value=$ctrl.memberType></search-filter> </search-and-filter> </filters> <item> <principal-item member-type=$ctrl.getMemberType() group=$ctrl.group viewer-role-id=$ctrl.viewerRoleId is-tenant-admin=$ctrl.isTenantAdmin></principal-item> </item> <append-item ng-if=$ctrl.shouldShowAppendedItem()> <div class="group-principals-no-data-info listpage-no-data-info row column"> <div class=text-container> {{::$ctrl.showMessage()}} </div> <div class=sub-text-container> <a ng-click="$ctrl.addMembers({$event: $event})" class="no-data-message-link c-hyperlink" ng-if=$ctrl.group.userData.permissions.canManageRoleAssignments>{{::$ctrl.getLink()}}</a> </div> </div> </append-item> </principal-results> <div class=row ng-if=$ctrl.isReactMemberListEnabled> <react-member-list principals=$ctrl.principals on-role-change="$ctrl.onChangePermission(item, newRole)" role-dropdown-options=$ctrl.getRoleDropdownOptions() has-manage-permission=$ctrl.hasManagePermission() load-more-items=$ctrl.loadMoreItems() on-remove-principal=$ctrl.onRemovePrincipal(item) on-item-invoked=$ctrl.goToUserPage(itemId) columns=$ctrl.getColumns() newly-added-principals=$ctrl.newlyAddedPrincipals></react-member-list> </div>'},"./app/components/Group/GroupPrincipals/GroupPrincipals.less":function(e,t){},"./app/components/Group/GroupPrincipals/GroupPrincipals.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Group/GroupPrincipals/GroupPrincipalsController.ts");function o(){this.controller=i.GroupPrincipalsController,this.template=n("./app/components/Group/GroupPrincipals/GroupPrincipals.html"),this.bindings={group:"<",addedMembers:"<",privacyModeChanged:"<",isTenantAdmin:"<"},this.bindtocontroller=!0}n("./app/components/Group/GroupPrincipals/GroupPrincipals.less"),t.GroupPrincipals=o,r.registerComponent("groupPrincipals",o,angular.module("jumper"))},"./app/components/Group/GroupPrincipals/GroupPrincipalsController.ts":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),o=n("./app/utility/ActivityIds.ts"),s=n("./app/utility/string.ts"),a=n("./app/models/TelemetryEventModels.ts");l.prototype.addNewlyAddedMembers=function(){var e=this;this.newlyAddedPrincipals.forEach((function(t){-1===e.principals.findIndex((function(e){return e&&e.id===t.id}))&&e.principals.push(t)}))},l.prototype.onInit=function(e){var t=this;this.principalResultsController=e,this.principalResultsController.telemetryEventName=a.TelemetryEventNames.groupPrincipalsSessionEventName,this.principalResultsController.screenName=a.ScreenName.GroupPrincipals,this.principalResultsController.filterStickyClass="no-sticky-class",this.isOffice365Group?this.memberTypes={label:this.resources.GroupMemberType.Label,options:[{value:i.Constants.GroupMemberType.Owners,text:this.resources.GroupMember.MemberTypeFilter.Options.Owner},{value:i.Constants.GroupMemberType.Viewers,text:this.resources.GroupMember.MemberTypeFilter.Options.Member}]}:this.featureFlagsService.Values.LocalGroups&&(this.memberTypes={label:this.resources.GroupMemberType.Label,options:[{value:i.Constants.GroupMemberType.Owners,text:this.resources.GroupMember.MemberTypeFilter.Options.Owner},{value:i.Constants.GroupMemberType.Contributors,text:this.resources.GroupMember.MemberTypeFilter.Options.Contributor},{value:i.Constants.GroupMemberType.Viewers,text:this.resources.GroupMember.MemberTypeFilter.Options.Viewer}]}),this.memberType=i.Constants.GroupMemberType.Owners,this.principalResultsController.watchGroup=[function(){return t.memberType}],this.$scope.$watch((function(){return t.privacyModeChanged}),(function(e,n){"true"===e&&(t.principalResultsController.refreshData=!0)})),this.featureFlagsService.Values.BrowseBack&&this.$scope.$watch((function(){return t.memberType}),(function(e,n){!e||e===n||t.skipSetQueryParams||t.clearQueryParamsService.diffPathName||(t.featureFlagsService.Values.BrowseBack,t.$location.search(_.assign({},t.extraQueryParams,{sort:e}))),t.skipSetQueryParams=!1,t.clearQueryParamsService.diffPathName=!1}))},l.prototype.loadPrincipalResults=function(e,t){var n=this,r=this.$q.defer();return 0===e||this.nextLink?this.loadViewerRoleId().then((function(){(0===e?n.groupService.getMembers(n.group.id,n.getMemberType(),t):n.groupService.getNextPage(n.nextLink)).then((function(t){n.nextLink=t.data["@odata.nextLink"]||"",n.oneMemberOnly=0===e&&1===t.data.value.length&&!n.nextLink,r.resolve(t)}),(function(e){r.reject(e)}))})):r.resolve({value:[]}),r.promise},Object.defineProperty(l.prototype,"isReactMemberListEnabled",{get:function(){return this.isOffice365Group?this.featureFlagsService.Values.ReactMemberList:this.featureFlagsService.Values.ReactMemberList&&this.featureFlagsService.Values.ReactMemberListForStreamGroups},enumerable:!0,configurable:!0}),l.prototype.getColumns=function(){return[{name:this.resources.GroupMembers.ListHeader.Name,ariaLabel:this.resources.GroupMembers.ListHeader.Name},{name:this.resources.GroupMembers.ListHeader.Email,ariaLabel:this.resources.GroupMembers.ListHeader.Email},{name:this.resources.GroupMembers.ListHeader.Permissions,ariaLabel:this.resources.GroupMembers.ListHeader.Permissions},{name:"Remove",ariaLabel:"Remove"}]},l.prototype.getMemberType=function(){return this.isOffice365Group&&this.memberType!==i.Constants.GroupMemberType.Owners&&this.group.aadGroup&&this.group.aadGroup.membersRoleId!==this.viewerRoleId?i.Constants.GroupMemberType.Contributors:this.memberType},l.prototype.loadViewerRoleId=function(){var e=this,t=this.$q.defer();return this.viewerRoleId||this.memberType===i.Constants.GroupMemberType.Owners||!this.isOffice365Group?t.resolve(this.viewerRoleId):this.roleService.getViewerRoleId().then((function(n){e.viewerRoleId=n,t.resolve(e.viewerRoleId)})),t.promise},l.prototype.addMembers=function(e){var t=this;this.groupMembersAddDialog.open(this.group,!1).closePromise.then((function(e){e.value.isSaved&&(t.addedMembers=e.value)}))},l.prototype.editGroup=function(){var e=this;this.groupPageSummaryMetrics.settingsButtonClick+=1;var t=this.groupEditDialog.open(this.group);this.privacyModeChanged="false",t.closePromise.then((function(t){var n;e.telemetryService.getTracker(e.screenName).tagScreen(),t.value&&(e.privacyModeChanged="true"),t.value&&t.value.group?e.group=t.value.group:(n=e.navigationService.getPreviousUrl(),t=e.$location.absUrl(),n&&t.indexOf(n)<0?e.navigationService.href(n):(n={view:a.ScreenName[a.ScreenName.BrowseGroups]},e.groupPageSummaryProperties.exitBy=i.Constants.GroupPageExitBy.groupDeleted,e.navigationService.navigate(i.Constants.Routes.Browse,n)))}))},l.prototype.shouldShowAppendedItem=function(){return!1},Object.defineProperty(l.prototype,"isOffice365Group",{get:function(){return!this.featureFlagsService.Values.LocalGroups||!(!this.group||!this.group.aadGroup)},enumerable:!0,configurable:!0}),l.prototype.getLink=function(){return this.getMessageandLink(),this.link},l.prototype.showMessage=function(){return this.getMessageandLink(),this.message},l.prototype.openEditGroupDialog=function(){return!this.isOffice365Group&&(this.group.privacyMode===i.Constants.GroupPrivacy.OrganizationAsViewer&&this.memberType===i.Constants.GroupMemberType.Viewers||this.group.privacyMode===i.Constants.GroupPrivacy.OrganizationAsContributor&&this.memberType===i.Constants.GroupMemberType.Viewers||this.group.privacyMode===i.Constants.GroupPrivacy.OrganizationAsContributor&&this.memberType===i.Constants.GroupMemberType.Contributors)},l.prototype.goToUserPage=function(e){e=s.formatString(i.Constants.Routes.User,e),this.navigationService.navigate(e)},l.prototype.hasManagePermission=function(){return this.group&&this.group.userData&&this.group.userData.permissions&&this.group.userData.permissions.canManageRoleAssignments||this.canMemberEdit},l.prototype.getRoleFromGroupMemberType=function(e){switch(e){case i.Constants.GroupMemberType.Owners:return i.Constants.RoleNames.Owner;case i.Constants.GroupMemberType.Contributors:return i.Constants.RoleNames.Contributor}return i.Constants.RoleNames.Viewer},l.prototype.setNextMemberToFetch=function(){var e=this;if(this.isOffice365Group)this.currentMemberType===i.Constants.GroupMemberType.Owners?this.loadViewerRoleId().then((function(){e.group.aadGroup&&e.group.aadGroup.membersRoleId===e.viewerRoleId?e.currentMemberType=i.Constants.GroupMemberType.Viewers:e.currentMemberType=i.Constants.GroupMemberType.Contributors})):this.principals=this.principals.slice(0,this.principals.length-1);else switch(this.currentMemberType){case i.Constants.GroupMemberType.Owners:this.currentMemberType=i.Constants.GroupMemberType.Contributors;break;case i.Constants.GroupMemberType.Contributors:this.currentMemberType=i.Constants.GroupMemberType.Viewers;break;case i.Constants.GroupMemberType.Viewers:this.principals=this.principals.slice(0,this.principals.length-1)}},Object.defineProperty(l.prototype,"canMemberEdit",{get:function(){return this.isInAdminMode=this.inAdminModeService.groupId===this.group.id||this.principalService.getAdminModeStatus(),(!this.isOffice365Group||this.isTenantAdmin)&&this.isInAdminMode},enumerable:!0,configurable:!0}),l.prototype.getGroupMemberTypeFromRole=function(e){switch(e){case i.Constants.RoleNames.Owner:return i.Constants.GroupMemberType.Owners;case i.Constants.RoleNames.Contributor:return i.Constants.GroupMemberType.Contributors}return i.Constants.GroupMemberType.Viewers},l.prototype.isPrincipalsListEmpty=function(){return!this.principals||0===this.principals.length||1===this.principals.length&&null===this.principals[0]},l.prototype.onItemDeleted=function(e){this.principals=this.principals.filter((function(t){return t.id!==e.id}))},l.prototype.is404Error=function(e){return e&&e.status&&404===e.status},l.prototype.logError=function(e,t){this.featureTracker.fail(a.FeatureName.PrincipalItemListGroupMembers,t,e)},l.prototype.getMessageandLink=function(){this.isOffice365Group?(this.message=this.resources.GroupMembers.NoMembersMessage,this.link=this.resources.GroupMembers.AddMembersNow):this.featureFlagsService.Values.LocalGroups&&(this.group.privacyMode===i.Constants.GroupPrivacy.Private&&this.memberType===i.Constants.GroupMemberType.Viewers?(this.message=this.resources.GroupMembers.NoViewersMessage,this.link=this.resources.GroupMembers.AddMembersNow):this.group.privacyMode===i.Constants.GroupPrivacy.Private&&this.memberType===i.Constants.GroupMemberType.Contributors?(this.message=this.resources.GroupMembers.NoContributorMessage,this.link=this.resources.GroupMembers.AddMembersNow):this.group.privacyMode===i.Constants.GroupPrivacy.OrganizationAsViewer&&this.memberType===i.Constants.GroupMemberType.Viewers?(this.message=this.resources.GroupMembers.EveryoneAreViewersMessage,this.link=this.resources.LocalGroupMembers.SeeGroupSettings):this.group.privacyMode===i.Constants.GroupPrivacy.OrganizationAsViewer&&this.memberType===i.Constants.GroupMemberType.Contributors?(this.message=this.resources.GroupMembers.NoContributorMessage,this.link=this.resources.GroupMembers.AddMembersNow):this.group.privacyMode===i.Constants.GroupPrivacy.OrganizationAsContributor&&this.memberType===i.Constants.GroupMemberType.Viewers?(this.message=this.resources.GroupMembers.EveryoneAreViewersMessage,this.link=this.resources.LocalGroupMembers.SeeGroupSettings):this.group.privacyMode===i.Constants.GroupPrivacy.OrganizationAsContributor&&this.memberType===i.Constants.GroupMemberType.Contributors?(this.message=this.resources.GroupMembers.EveryoneAreContributorsMessage,this.link=this.resources.LocalGroupMembers.SeeGroupSettings):this.memberType===i.Constants.GroupMemberType.Owners&&(this.message=this.resources.GroupMembers.NoOwnersMessage))},l.$inject=["groupService","resources","$window","telemetryService","featureFlagsService","$q","$scope","roleService","navigationService","groupEditDialog","$location","groupMembersAddDialog","inAdminModeService","clearQueryParamsService","principalService"],n=l;function l(e,t,n,l,c,d,u,p,m,h,g,f,v,y,b){var S=this;this.groupService=e,this.resources=t,this.$window=n,this.telemetryService=l,this.featureFlagsService=c,this.$q=d,this.$scope=u,this.roleService=p,this.navigationService=m,this.groupEditDialog=h,this.$location=g,this.groupMembersAddDialog=f,this.inAdminModeService=v,this.clearQueryParamsService=y,this.principalService=b,this.screenName=a.ScreenName.GroupPrincipals,this.oneMemberOnly=!1,this.privacyModeChanged="false",this.extraQueryParams={view:i.Constants.GroupView.Members},this.skipSetQueryParams=!1,this.principals=[],this.roleDropDownOptions=[],this.newlyAddedPrincipals=[],this.currentMemberType=i.Constants.GroupMemberType.Owners,this.groupPageSummaryProperties={exitBy:i.Constants.GroupPageExitBy.other},this.groupPageSummaryMetrics={settingsButtonClick:0,o365GroupLinkClick:0},this.loadMoreItems=function(){var e=S.$q.defer();return S.loadViewerRoleId().then((function(){(S.isPrincipalsListEmpty()||!S.reactNextLink?S.groupService.getMembers(S.group.id,S.currentMemberType,30,S.isInAdminMode):S.groupService.getNextPage(S.reactNextLink)).then((function(t){S.reactNextLink=t.data["@odata.nextLink"]||null;var n=S.getRoleFromGroupMemberType(S.currentMemberType),r=0;if(S.principals&&0!==S.principals.length){null===S.principals[S.principals.length-1]&&(S.principals=S.principals.slice(0,S.principals.length-1));for(var i=0,o=t.data.value;i<o.length;i++){var s=o[i];-1===S.principals.findIndex((function(e){return e.id===s.principal.id}))&&(s.principal.role=n,S.principals.push(s.principal),r+=1)}}else S.principals=t.data.value.map((function(e){return(e=e.principal).role=n,e}));S.principals.push(null);var a=S.principals?S.principals.length:0,l=S.featureFlagsService.Values.StreamOnlyGroupEmptyContributor&&!S.isOffice365Group?t.data.value?r:0:t.data.value?t.data.value.length:0;S.isOffice365Group?S.reactNextLink||S.setNextMemberToFetch():S.reactNextLink||0!=l&&1<a&&S.principals[a-2].role!==n||S.setNextMemberToFetch(),e.resolve(S.principals)}),(function(t){e.reject("Error occurred")}))})),e.promise},this.getRoleDropdownOptions=function(){var e,t=S.$q.defer();return S.isOffice365Group?S.loadViewerRoleId().then((function(){e=S.group.aadGroup.membersRoleId===S.viewerRoleId?[{key:i.Constants.RoleNames.Owner,text:S.resources.GroupMember.MemberTypeFilter.Options.Owner},{key:i.Constants.RoleNames.Viewer,text:S.resources.GroupMember.MemberTypeFilter.Options.Member}]:[{key:i.Constants.RoleNames.Owner,text:S.resources.GroupMember.MemberTypeFilter.Options.Owner},{key:i.Constants.RoleNames.Contributor,text:S.resources.GroupMember.MemberTypeFilter.Options.Member}],t.resolve(e)})):(e=[{key:i.Constants.RoleNames.Owner,text:S.resources.GroupMember.MemberTypeFilter.Options.Owner}],S.group.privacyMode===i.Constants.privacyMode.private?(e.push({key:i.Constants.RoleNames.Contributor,text:S.resources.GroupMember.MemberTypeFilter.Options.Contributor}),e.push({key:i.Constants.RoleNames.Viewer,text:S.resources.GroupMember.MemberTypeFilter.Options.Viewer})):S.group.privacyMode===i.Constants.privacyMode.organizationViewer&&e.push({key:i.Constants.RoleNames.Contributor,text:S.resources.GroupMember.MemberTypeFilter.Options.Contributor}),t.resolve(e)),t.promise},this.onRemovePrincipal=function(e){var t,n=S.$q.defer(),r=S.getGroupMemberTypeFromRole(e.role),o=[S.groupService.removeMember(S.group.id,e.id,r,S.isInAdminMode)];return S.isOffice365Group&&r===i.Constants.GroupMemberType.Owners&&(t=S.group.aadGroup.membersRoleId===S.viewerRoleId?i.Constants.GroupMemberType.Viewers:i.Constants.GroupMemberType.Contributors,o.push(S.groupService.removeMember(S.group.id,e.id,t,S.isInAdminMode))),S.isOffice365Group||r!==i.Constants.GroupMemberType.Owners||S.groupService.getMember(S.group.id,i.Constants.GroupMemberType.Contributors,e.id).then((function(){S.groupService.removeMember(S.group.id,e.id,i.Constants.GroupMemberType.Contributors,S.isInAdminMode)})).catch((function(t){S.groupService.getMember(S.group.id,i.Constants.GroupMemberType.Viewers,e.id).then((function(){S.groupService.removeMember(S.group.id,e.id,i.Constants.GroupMemberType.Viewers,S.isInAdminMode)}))})),S.$q.all(o).then((function(){S.onItemDeleted(e),n.resolve(S.principals),S.featureTracker.succeed(a.FeatureName.PrincipalItemListGroupMembers)}),(function(t){S.is404Error(t)?(S.onItemDeleted(e),n.resolve(S.principals),S.featureTracker.succeed(a.FeatureName.PrincipalItemListGroupMembers,{message:"Success on 404 when deleting a member : Member not found"})):S.logError(t,a.SubFeatureName.GroupService_RemoveMember)})),n.promise},this.onChangePermission=function(e,t){var n=S.$q.defer(),r=S.getGroupMemberTypeFromRole(e.role);switch(t){case i.Constants.RoleNames.Owner:S.groupService.addOwners(S.group.id,[e.id],S.isInAdminMode).then((function(){S.modifyPrincipalRole(e,t),n.resolve(S.principals),S.featureTracker.succeed(a.FeatureName.PrincipalItemListGroupMembers)}),(function(e){S.logError(e,a.SubFeatureName.GroupService_AddMembers)}));break;case i.Constants.RoleNames.Viewer:S.groupService.addViewers(S.group.id,[e.id],S.isInAdminMode).then((function(){S.groupService.removeMember(S.group.id,e.id,r,S.isInAdminMode).then((function(){S.modifyPrincipalRole(e,t),n.resolve(S.principals),S.featureTracker.succeed(a.FeatureName.PrincipalItemListGroupMembers)}),(function(e){S.logError(e,a.SubFeatureName.GroupService_RemoveMember)}))}));break;case i.Constants.RoleNames.Contributor:S.groupService.addContributors(S.group.id,[e.id],S.isInAdminMode).then((function(){S.groupService.removeMember(S.group.id,e.id,r,S.isInAdminMode).then((function(){S.modifyPrincipalRole(e,t),n.resolve(S.principals),S.featureTracker.succeed(a.FeatureName.PrincipalItemListGroupMembers)}),(function(e){S.logError(e,a.SubFeatureName.GroupService_RemoveMember)}))}))}return n.promise},this.modifyPrincipalRole=function(e,t){S.principals=S.principals.map((function(n){return n.id===e.id&&(n.role=t),n}))},this.telemetryService.getTracker(this.screenName).tagScreen(),o.ActivityIds.initActivityId(this.screenName),this.isInAdminMode=this.inAdminModeService.groupId&&this.inAdminModeService.groupId===this.group.id||this.principalService.getAdminModeStatus(),this.isReactMemberListEnabled&&(this.featureTracker=this.telemetryService.getTracker(),this.principals.push(null)),this.$scope.$watch((function(){return S.addedMembers}),(function(e,t){var n,o,s;S.isOffice365Group?S.isReactMemberListEnabled?void 0!==e&&e!==t&&(n=[],e.owners&&e.owners.forEach((function(e){n&&0!==n.length?n.push(r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})):n=[r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})]})),o=S.group.aadGroup&&S.group.aadGroup.membersRoleId===S.viewerRoleId?i.Constants.RoleNames.Viewer:i.Constants.RoleNames.Contributor,e.members&&e.members.forEach((function(e){n&&0!==n.length?n.push(r({},e,{role:o})):n=[r({},e,{role:o})]})),S.newlyAddedPrincipals=n,S.addNewlyAddedMembers()):S.memberType===i.Constants.GroupMemberType.Owners&&S.addedMembers&&S.addedMembers.owners.length?S.principalResultsController.newCreatedPrincipal=S.addedMembers.owners:S.memberType!==i.Constants.GroupMemberType.Owners&&S.addedMembers&&S.addedMembers.members.length&&(S.principalResultsController.newCreatedPrincipal=S.addedMembers.members):S.featureFlagsService.Values.LocalGroups&&(S.isReactMemberListEnabled?void 0!==e&&e!==t&&(e.owners&&e.owners.forEach((function(e){s&&0!==s.length?s.push(r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})):s=[r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})]})),e.contributors&&e.contributors.forEach((function(e){s&&0!==s.length?s.push(r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})):s=[r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})]})),e.viewers&&e.viewers.forEach((function(e){s&&0!==s.length?s.push(r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})):s=[r({},e,{role:S.getRoleFromGroupMemberType(e.memberType)})]})),S.newlyAddedPrincipals=s,S.addNewlyAddedMembers()):S.memberType===i.Constants.GroupMemberType.Owners&&S.addedMembers&&S.addedMembers.owners.length?S.principalResultsController.newCreatedPrincipal=S.addedMembers.owners:S.memberType===i.Constants.GroupMemberType.Viewers&&S.addedMembers&&S.addedMembers.viewers.length?S.principalResultsController.newCreatedPrincipal=S.addedMembers.viewers:S.memberType===i.Constants.GroupMemberType.Contributors&&S.addedMembers&&S.addedMembers.contributors.length&&(S.principalResultsController.newCreatedPrincipal=S.addedMembers.contributors))})),this.$window.document.title=s.formatString(this.resources.BrowserTitle.GroupPrincipals,this.group.name,i.Constants.ProductName),u.$on("$destroy",(function(){S.$location.search(i.Constants.QueryStringKeys.Sort,null)})),this.featureFlagsService.Values.BrowseBack&&setTimeout((function(){S.$scope.$watch((function(){return S.$location.search()}),(function(e,t){e[i.Constants.QueryStringKeys.Sort]&&(S.memberType=e[i.Constants.QueryStringKeys.Sort])})),S.$scope.$watch((function(){return S.memberType}),(function(e,t){e&&(S.featureFlagsService.Values.BrowseBack,S.$location.search(_.assign({},{view:i.Constants.GroupView.Members},{sort:e})))}))}),0)}t.GroupPrincipalsController=n},"./app/components/Group/GroupVideoItem/GroupVideoItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Group/GroupVideoItem/GroupVideoItemController.ts");n=n("./app/components/VideoItem/VideoItem.ts"),i(l,o=n.VideoItem),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.GroupVideoItemController,e.bindings={videoItem:"=",onVideoDeleted:"&",hideToolBox:"<",hidePrivacy:"<",videoSource:"<",hideCreator:"<",metrics:"<",videoOwner:"<",isStreamAdmin:"<",group:"<",removeFromGroup:"&",headerRow:"<",sortKey:"<",isInAdminMode:"<",fixedElements:"<"},e}t.GroupVideoItem=i,s.registerComponent("groupVideoItem",i,angular.module("jumper"))},"./app/components/Group/GroupVideoItem/GroupVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./common/Directives/Drawer/Drawer.ts");n=n("./app/components/Browse/BrowseVideoItem/BrowseVideoItemController.ts"),i(a,o=n.BrowseVideoItemController),a.prototype.InitDrawerItems=function(){this.drawerItems=[],o.prototype.InitDrawerItems.call(this),this.group.userData&&this.group.userData.permissions.canManageMediaItems&&this.drawerItems.push(new s.DrawerItem("remove-from-group-button",this.Resources.RemoveFromGroup,this.removeFromGroup.bind(this,{video:this.videoItem}),"icon-remove-from-channel"))},a.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=a;function a(e,t,n,r,i,s,a,l,c,d,u,p,m,h,g,f,v,y,b,S,_){return(v=o.call(this,e,t,n,r,i,s,a,l,c,d,u,p,m,h,g,f,v,y,b,S,_)||this).$scope=e,v.videoService=t,v.deleteConfirmationDialogService=n,v.dataPollingService=r,v.Resources=i,v.$q=s,v.navigationService=a,v.$filter=l,v.addChannelsDialog=c,v.addGroupChannelsDialog=d,v.videoShareDialog=u,v.videoBgUploaderService=p,v.$timeout=m,v.telemetryService=h,v.principalService=y,v.$window=b,v.videoEditorDialog=S,v.replaceVideoService=_,v}t.GroupVideoItemController=i},"./app/components/Group/GroupVideoResults/GroupVideoResults.html":function(e,t){e.exports='<video-results load-video-results="$ctrl.loadGroupVideos(skip, top)" on-init=$ctrl.onInit(videoResultsController) hide-search-and-filter=$ctrl.noVideosInGroup extra-query-params=$ctrl.extraQueryParams> <item> <group-video-item hide-creator=false video-item=item video-source=$ctrl.videoResultsController.videoSource metrics=$ctrl.videoResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.videoResultsController.isStreamAdmin group=$ctrl.group remove-from-group=$ctrl.removeVideoFromGroup(video) is-in-admin-mode=$ctrl.isInAdminMode> <info-message> <video-creator item=item get-creator-message-template=$ctrl.getCreatorMessageTemplate(videoItem)> </video-creator> </info-message> </group-video-item> </item> <no-data-message> <div class="group-videos-no-data-info listpage-no-data-info row column"> <div class=text-container ng-if=$ctrl.videoResultsController.searchString>{{::$ctrl.noResultsString}}</div> <div ng-if="!$ctrl.videoResultsController.searchString && (!$ctrl.group.userData.permissions.canManageMediaItems || $ctrl.uploadDisabled || $ctrl.isReadOnly)"> <div class=text-container>{{::$ctrl.resources.GroupHomeNoDataText}}</div> <p class=sub-text-container>{{::$ctrl.resources.GroupHomeNoDataSubText}}</p> </div> <div ng-if="!$ctrl.videoResultsController.searchString && ($ctrl.group.userData.permissions.canManageMediaItems && !$ctrl.uploadDisabled && !$ctrl.isReadOnly)"> <div class=text-container>{{::$ctrl.resources.NoVideosInGroup}}</div> <div class=sub-text-container> <button class=c-hyperlink ngf-select ngf-change=$ctrl.uploadVideoFiles($files) ngf-multiple=true> {{::$ctrl.resources.UploadMessage}} </button> </div> </div> <upload-permissions hidden-view=true upload-disabled=$ctrl.uploadDisabled></upload-permissions> </div> </no-data-message> </video-results>'},"./app/components/Group/GroupVideoResults/GroupVideoResults.less":function(e,t){},"./app/components/Group/GroupVideoResults/GroupVideoResults.ts":function(e,t,n){function r(){this.controller=o.GroupVideoResultsController,this.template=n("./app/components/Group/GroupVideoResults/GroupVideoResults.html"),this.bindings={searchString:"<",videoSort:"<",group:"<",transcriptSearch:"<",isReadOnly:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Group/GroupVideoResults/GroupVideoResults.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Group/GroupVideoResults/GroupVideoResultsController.ts");t.GroupVideoResults=r,i.registerComponent("groupVideoResults",r,angular.module("jumper"))},"./app/components/Group/GroupVideoResults/GroupVideoResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/components/Creator/CreatorController.ts");a.prototype.onInit=function(e){(this.videoResultsController=e).searchBarText=this.resources.Components.SearchBar.SearchForVideos,e.searchBarLabel=this.resources.Components.SearchBar.SearchForVideosLabel,e.telemetryEventName=r.TelemetryEventNames.groupVideosSessionEventName,e.screenName=this.screenName,e.videoSource={search:this.searchString},e.defaultSort=this.videoSort||o.Constants.VideoSortOptions.Trending,e.filterStickyClass="no-sticky-class",e.videoSortOptions={label:this.resources.Sortby,options:(this.featureFlagsService.Values.SortByName?[{value:o.Constants.VideoSortOptions.Name,text:this.resources.Browse.VideoSort.Name,telemetrySuffix:o.Constants.sortBySuffixOptions.Name}]:[]).concat([{value:o.Constants.VideoSortOptions.Relevance,text:this.resources.Browse.VideoSort.Relevance,telemetrySuffix:o.Constants.sortBySuffixOptions.Relevance},{value:o.Constants.VideoSortOptions.Trending,text:this.resources.Browse.VideoSort.Trending,telemetrySuffix:o.Constants.sortBySuffixOptions.Trending},{value:o.Constants.VideoSortOptions.PublishDate,text:this.resources.Browse.VideoSort.PublishDate,telemetrySuffix:o.Constants.sortBySuffixOptions.PublishDate},{value:o.Constants.VideoSortOptions.Views,text:this.resources.Browse.VideoSort.Views,telemetrySuffix:o.Constants.sortBySuffixOptions.Views},{value:o.Constants.VideoSortOptions.Likes,text:this.resources.Browse.VideoSort.Likes,telemetrySuffix:o.Constants.sortBySuffixOptions.Likes}])}},a.prototype.loadGroupVideos=function(e,t){return this.videoResultsController.videoSource={search:this.videoResultsController.searchString},this.videoResultsController.sortDirection=o.Constants.VideoSortOptionToSortDirection[this.videoResultsController.videoSort]||o.Constants.SortDirection.Descending,this.groupService.getVideos(this.group.id,t,e,this.videoResultsController.videoSort,this.videoResultsController.sortDirection,this.videoResultsController.searchString,this.transcriptSearch,this.videoResultsController.isInAdminMode)},a.prototype.getCreatorMessageTemplate=function(e){var t=new Date(e.publishedDate);return i.formatString(this.resources.UploadedOnDateByCreator,this.$filter("localDate")(t.toISOString(),"l"),s.processNameTemplate(e.creator.name))},a.prototype.uploadVideoFiles=function(e){e&&0<e.length&&(this.dataShareService.files=e,this.dataShareService.channel={id:this.group.id},this.dataShareService.group=this.group,this.navigationService.navigate(o.Constants.Routes.Upload))},Object.defineProperty(a.prototype,"noResultsString",{get:function(){return i.formatString(this.resources.ItemList.NoMatchingResultsMessage,this.resources.ItemList.ResourceName.Videos)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"noVideosInGroup",{get:function(){return this.group&&0===this.group.metrics.videos},enumerable:!0,configurable:!0}),a.prototype.removeVideoFromGroup=function(e){var t=this,n=this.telemetryService.getTracker(r.ScreenName.GroupVideos);this.groupService.removeVideo(this.group.id,e.id,this.videoResultsController.isInAdminMode).then((function(i){t.videoResultsController.removeItem=e,n.succeed(r.FeatureName.RemoveVideoFromGroup)})).catch((function(e){n.fail(r.FeatureName.RemoveVideoFromGroup,r.SubFeatureName.GroupService_RemoveVideo,e)}))},a.$inject=["$window","resources","groupService","$timeout","$scope","$filter","dataShareService","navigationService","telemetryService","featureFlagsService","inAdminModeService"],n=a;function a(e,t,n,s,a,l,c,d,u,p,m){this.$window=e,this.resources=t,this.groupService=n,this.$timeout=s,this.$scope=a,this.$filter=l,this.dataShareService=c,this.navigationService=d,this.telemetryService=u,this.featureFlagsService=p,this.inAdminModeService=m,this.extraQueryParams={view:o.Constants.GroupView.Videos},this.screenName=r.ScreenName.GroupVideos,this.$window.document.title=i.formatString(this.resources.BrowserTitle.GroupVideos,this.group.name,o.Constants.ProductName),this.isInAdminMode=this.inAdminModeService.groupId===this.group.id}t.GroupVideoResultsController=n},"./app/components/GroupList/GroupItem/GroupItem.html":function(e,t){e.exports='<div class="{{$ctrl.itemBaseClass}} {{$ctrl.itemUniqueClass}}" role=presentation> <a ng-href={{::$ctrl.getGroupPage()}} ng-click=$ctrl.onGroupClick($event) aria-label={{$ctrl.getGroupItemAriaLabel}} class=group-page-link> <div class="group-card-upper group-background"> <div class=group-background-content> <div class="row column row-size1 group-thumbnail" aria-hidden=true> <img check-aspect-ratio class=poster-container alt={{::$ctrl.groupItem.name}} ng-src={{::$ctrl.groupItem.imageUrl}} onerror=\'this.src="../../bundles/app/generated/channel-poster-default.png"\' aria-label={{ctrl.groupImageAria}} ng-if=$ctrl.groupItem.imageUrl /> <div class=poster-container aria-label={{$ctrl.groupImageAria}} ng-if=!$ctrl.groupItem.imageUrl> <svg-src svg-name=icon_channel_poster class=channel-poster-default-svg></svg-src> </div> </div> <div class="row column row-size1"> <h1 ng-if=!$ctrl.hasPageTitle class=group-list-item-title custom-title={{$ctrl.groupItem.name}} light-style=true on-ellipsis-only=true> {{$ctrl.groupItem.name}} </h1> <h2 ng-if=$ctrl.hasPageTitle class=group-list-item-title custom-title={{$ctrl.groupItem.name}} light-style=true on-ellipsis-only=true> {{$ctrl.groupItem.name}} </h2> </div> <div class=privacy-container> <span class=group-tag ng-if=$ctrl.isOffice365Group>{{$ctrl.officeGroup}}</span> <span class=public-group-tag ng-if=!$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> <span class=private-group-tag ng-if=$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> </div> </div> </div> </a> <div class=group-toolbox-row> <drawer drawer-items=$ctrl.drawerItems item=$ctrl.groupItem></drawer> </div> <div class="row row-size3 group-description"> <read-less-read-more text-content=$ctrl.groupItem.description default-max-lines=3 use-ellipsis=true telemetry-tracker=$ctrl.featureTelemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> </div> <div class=groupItem-statistics> <div class=channel-count aria-label="{{$ctrl.groupItem.metrics.channels | localNumber | groupChannels}}" custom-title="{{$ctrl.groupItem.metrics.channels | localNumber | groupChannels}}" light-style=true> <span>{{$ctrl.groupItem.metrics.channels | localNumber}}</span> <svg-src role=img aria-label="{{$ctrl.groupItem.metrics.channels | localNumber | groupChannels}}" svg-name=icon_channel_poster inline-with-text=true class=statistics-svg></svg-src> </div> <div class=video-count aria-label="{{$ctrl.groupItem.metrics.videos | localNumber | groupVideos}}" custom-title="{{$ctrl.groupItem.metrics.videos | localNumber | groupVideos}}" light-style=true> <span>{{$ctrl.groupItem.metrics.videos | localNumber}}</span> <svg-src role=img aria-label="{{$ctrl.groupItem.metrics.videos | localNumber | groupVideos}}" svg-name=icon_video_count inline-with-text=true class=statistics-svg></svg-src> </div> </div> </div> <react-group-edit ng-if=$ctrl.useO365GroupShareableControl on-close=::$ctrl.onO365GroupEditClose group-id=$ctrl.groupItem.id group-name=$ctrl.groupItem.name members-role-id=$ctrl.membersRoleId />'},"./app/components/GroupList/GroupItem/GroupItem.less":function(e,t){},"./app/components/GroupList/GroupItem/GroupItem.ts":function(e,t,n){function r(){this.controller=o.GroupItemController,this.template=n("./app/components/GroupList/GroupItem/GroupItem.html"),this.bindings={groupItem:"=",hasPageTitle:"<",isStreamAdmin:"<",groupSort:"<",featureTelemetryTracker:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/GroupList/GroupItem/GroupItem.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/GroupList/GroupItem/GroupItemController.ts");t.GroupItem=r,i.registerComponent("groupItem",r,angular.module("jumper"))},"./app/components/GroupList/GroupItem/GroupItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/GroupList/GroupItem/GroupItem.less");var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/string.ts"),l=n("./app/utility/appUtil.ts"),c=n("./app/models/TelemetryEventModels.ts"),d=n("./app/components/ItemsList/ListBase/ListItemBase.ts"),u=n("./app/services/NavigationService.ts"),p=n("./common/Directives/Drawer/Drawer.ts");i(m,o=d.ListItemBase),m.prototype.getGroupPage=function(){return this.groupItem&&this.groupItem.id?u.generatePathWithQueryStrings(s.Constants.Routes.Group,this.groupItem.id,{}):""},m.prototype.onGroupClick=function(e){this.metrics&&(this.metrics[c.ItemMetricEventNames.ItemClicked]=1+this.metrics[c.ItemMetricEventNames.ItemClicked])},Object.defineProperty(m.prototype,"GroupThumbnailAltTag",{get:function(){return this.groupItem&&this.groupItem.name?l.getResourceThumbnailAltTag(this.groupItem.name,this.resources.Group):""},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"getGroupItemAriaLabel",{get:function(){var e=this.groupItem.aadGroup?this.featureFlagsService.Values.HideM365GroupLabel?s.Constants.O365Name:s.Constants.M365Name:"";if(this.groupItem&&this.groupItem.metrics){if(this.groupItem.name)return this.groupItem.description?a.formatString(this.resources.GroupNameDescrAndStats,this.groupItem.name,e,this.groupPermission,this.groupItem.description,String(this.groupItem.metrics.channels),String(this.groupItem.metrics.videos)):a.formatString(this.resources.GroupNameAndStats,this.groupItem.name,e,this.groupPermission,String(this.groupItem.metrics.channels),String(this.groupItem.metrics.videos));if(this.groupItem.description)return a.formatString(this.resources.GroupDescrAndStats,e,this.groupPermission,this.groupItem.description,String(this.groupItem.metrics.channels),String(this.groupItem.metrics.videos))}return""},enumerable:!0,configurable:!0}),m.prototype.InitDrawerItems=function(){this.editEligible=this.groupItem&&this.groupItem.userData&&this.groupItem.userData.permissions&&this.groupItem.userData.permissions.canEdit,this.deleteEligible=this.groupItem&&this.groupItem.userData&&this.groupItem.userData.permissions&&this.groupItem.userData.permissions.canDelete,this.drawerItems=[],this.editEligible&&this.drawerItems.push(new p.DrawerItem("edit-button",this.resources.Edit,this.onEdit.bind(this),"icon_edit")),this.deleteEligible&&this.drawerItems.push(new p.DrawerItem("delete-button",this.resources.Delete,this.onDelete.bind(this),"icon_delete")),!this.editEligible&&this.isStreamAdmin&&this.featureFlagsService.Values.GroupInAdminMode&&this.drawerItems.push(new p.DrawerItem("admin-mode-button",this.resources.EditAsAdmin,this.onEnterAdminMode.bind(this),"icon_edit"))},m.prototype.onDelete=function(){var e=this,t=this.$q.defer();return this.metrics&&(this.metrics[c.ItemMetricEventNames.ItemDeleteClicked]=1+this.metrics[c.ItemMetricEventNames.ItemDeleteClicked]),this.deleteConfirmationDialogService.show(this.resources.ResourceType.Group.LowerSingular,this.groupItem.name,this.isOffice365Group).then((function(){e.groupService.delete(e.groupItem.id).then((function(){e.onItemDeleted(e.groupItem),e.telemetryTracker.succeed(c.FeatureName.GroupDelete)}),(function(t){e.telemetryTracker.fail(c.FeatureName.GroupDelete,c.SubFeatureName.GroupService_Delete,t)}))})).finally((function(){t.resolve()})),t.promise},Object.defineProperty(m.prototype,"membersRoleId",{get:function(){return this.groupItem&&this.groupItem.aadGroup?this.groupItem.aadGroup.membersRoleId:""},enumerable:!0,configurable:!0}),m.prototype.onEdit=function(e){var t=this;void 0===e&&(e=!1);var n=this.$q.defer(),r=angular.copy(this.groupItem);if(this.isShareableCRUDEnabled&&r.aadGroup){var i=Date.parse(sessionInfo.LokiTokenExpiry);if(!i||isNaN(i))try{(i=Date.parse(JSON.parse(sessionInfo.LokiTokenExpiry)))&&!isNaN(i)||(i=0)}catch(e){i=0}var o=Date.now();return!sessionInfo.LokiToken||!sessionInfo.MSGraphToken||i<o?this.dataService.makeWebTierRequest("/ClearAllCookies","POST",null,{}).then((function(){t.$rootScope.$broadcast(s.Constants.Events.SessionExpired)})):this.useO365GroupShareableControl=!0,n.promise}return this.groupEditDialog.open(r,e).closePromise.then((function(e){e&&e.value&&e.value.group?t.editCompleteCallback(e.value.group):t.onItemDeleted(t.groupItem)})).finally((function(){n.resolve()})),n.promise},m.prototype.onEnterAdminMode=function(){return this.onEdit(!0)},Object.defineProperty(m.prototype,"groupImageAria",{get:function(){return a.formatString(this.resources.GroupImageAria,this.groupItem.name)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isOffice365Group",{get:function(){return!(!this.groupItem||!this.groupItem.aadGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isPrivateGroup",{get:function(){return this.groupItem&&this.groupItem.privacyMode===s.Constants.privacyMode.private?(this.groupPermission=this.resources.GroupPermissionsPrivate,!0):(this.groupPermission=this.resources.GroupPermissionsPublic,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"localGroupEnabled",{get:function(){return this.featureFlagsService.Values.LocalGroups},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isGroupInAdminModeEnabled",{get:function(){return this.featureFlagsService.Values.GroupInAdminMode},enumerable:!0,configurable:!0}),m.prototype.editCompleteCallback=function(e){_.isEqual(e,this.groupItem)||(this.groupItem=e,this.onItemChanged(this.groupItem))},Object.defineProperty(m.prototype,"isShareableCRUDEnabled",{get:function(){return this.featureFlagsService.Values.ShareableGroupCRUDControl},enumerable:!0,configurable:!0}),m.$inject=["$scope","$rootScope","groupService","resources","featureFlagsService","deleteConfirmationDialogService","navigationService","dataService","$timeout","groupEditDialog","$q","$location"],i=m;function m(e,t,n,r,i,a,l,d,u,p,h,g){var f=o.call(this,e,u,m)||this;return f.$scope=e,f.$rootScope=t,f.groupService=n,f.resources=r,f.featureFlagsService=i,f.deleteConfirmationDialogService=a,f.navigationService=l,f.dataService=d,f.groupEditDialog=p,f.$q=h,f.$location=g,f.officeGroup=s.Constants.M365Name,f.useO365GroupShareableControl=!1,f.onO365GroupEditClose=function(e,t){e&&f.groupService.get(e).then((function(e){f.featureTelemetryTracker.succeed(c.FeatureName.O365GroupLoadedAfterUpdate),f.editCompleteCallback(e.data)}),(function(e){f.featureTelemetryTracker.fail(c.FeatureName.O365GroupLoadedAfterUpdate,c.SubFeatureName.GroupService_Get,e)})),f.useO365GroupShareableControl=!1,t&&f.onItemDeleted(f.groupItem)},f.itemBaseClass="group-card",f.groupItem=f.item,f.groupItem.imageUrl=f.groupItem.imageUrl||"",f.tagClickedTelemetryProperties={source:s.Constants.TagClickSource.GroupItem,id:f.groupItem?f.groupItem.id:""},void 0===f.featureTelemetryTracker&&(f.featureTelemetryTracker=f.telemetryTracker),f.featureFlagsService.Values.HideM365GroupLabel&&(f.officeGroup=s.Constants.O365Name),f.InitDrawerItems(),f}t.GroupItemController=i},"./app/components/GroupList/GroupResults/GroupResults.html":function(e,t){e.exports='<div class="row row-size0 sticky-bar"> <div class=search-filter-bar sticky-element=$ctrl.filterStickyClass auto-margin-next=true> <div class="row column page-title" ng-if=$ctrl.pageTitle ng-transclude=pageTitle> <h1 class="c-heading-3 ng-binding page-title">{{::$ctrl.pageTitle}}</h1> </div> <div ng-transclude=filters> <search-and-filter> <search-filter action-role=sort class="column end large-3 medium-4 small-6 group-sort-options" model=$ctrl.groupSortOptions value=$ctrl.groupSort metrics=$ctrl.listEvents.sortEvents telemetry-prefix=$ctrl.sortByPrefix> </search-filter> <search-filter action-role=filter class="column end large-3 medium-4 small-6 group-filter-options" model=$ctrl.groupFilterOptions value=$ctrl.groupFilter ng-if=$ctrl.isFilterEmptyGroupsEnabled()> </search-filter> </search-and-filter> </div> </div> </div> <div class="row row-size1 items-list relativeposition"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" items-per-row-large=$ctrl.itemsPerRow refresh-data=$ctrl.refreshData hide-empty-groups=$ctrl.hideEmptyGroups remove-item=$ctrl.removeItem new-item=$ctrl.newCreatedGroup list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Groups screen-name=$ctrl.screenName class=groups-list has-a-prepended-item=$ctrl.hasAPrependedItem> <item ng-transclude=item> <group-item ng-if=!$ctrl.isItemTranscluded class=group-item group-item=item has-page-title=$ctrl.pageTitle is-stream-admin=$ctrl.isStreamAdmin is-in-admin-mode=$ctrl.isInAdminMode group-sort=$ctrl.groupSort feature-telemetry-tracker=$ctrl.featureTelemetryTracker> </group-item> </item> <no-data-message ng-transclude=noDataMessage> <div class="row column" ng-if=!$ctrl.hasAPrependedItem> <div class="no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.NoDataHeader}}</div> <p class=sub-text-container> {{$ctrl.noDataMessage}} </p> </div> </div> <div ng-if=$ctrl.hasAPrependedItem>{{$ctrl.noDataMessage}}</div> </no-data-message> <prepend-item ng-transclude=prependItem ng-if=$ctrl.hasAPrependedItem> </prepend-item> </items-list> </div> '},"./app/components/GroupList/GroupResults/GroupResults.less":function(e,t){},"./app/components/GroupList/GroupResults/GroupResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/GroupList/GroupResults/GroupResultsController.ts");function o(){this.controller=i.GroupResultsController,this.template=n("./app/components/GroupList/GroupResults/GroupResults.html"),this.bindings={loadGroupResults:"&",onInit:"&",hideOnUnfollow:"<",extraQueryParams:"<?"},this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"?item",filters:"?filters",pageTitle:"?pageTitle"}}n("./app/components/GroupList/GroupResults/GroupResults.less"),t.GroupResults=o,r.registerComponent("groupResults",o,angular.module("jumper"))},"./app/components/GroupList/GroupResults/GroupResultsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/utility/string.ts"),c=n("./app/components/ItemsList/ListBase/ListBase.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=c.ListBase),u.prototype.loadDataPage=function(e,t){return this.loadGroupResults({skip:e,top:t})},u.prototype.isFilterEmptyGroupsEnabled=function(){return this.featureFlagsService.Values.FilterEmptyGroups},u.prototype.onInitInternal=function(){var e=this;this.defaultGroupFilter=s.Constants.GroupsFilterOptions.HideEmptyGroups,this.principalService.getMyPrincipalInfo().then((function(t){e.isFilterEmptyGroupsEnabled()&&(e.groupFilter=null!=t.data.settings.general.hideEmptyGroups?t.data.settings.general.hideEmptyGroups:e.defaultGroupFilter),e.telemetryService.getTracker(e.screenName).succeed(d.FeatureName.GetPrincipalSettings)}),(function(t){e.telemetryService.getTracker(e.screenName).fail(d.FeatureName.GetPrincipalSettings,d.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)})).finally((function(){e.principalEntityFetched=!0})),this.isItemTranscluded=this.$transclude.isSlotFilled("item"),this.itemsPerRow=4,this.groupFilter=null!=this.groupFilter?this.groupFilter:this.defaultGroupFilter,this.groupSort=s.Constants.GroupsSortOptions.Name,this.watchGroupSort=[function(){return e.groupSort}],this.defaultSort=s.Constants.GroupsSortOptions.Name,this.groupSortOptions={label:this.resources.Sortby,options:[{value:s.Constants.GroupsSortOptions.Name,text:this.resources.Browse.GroupSort.Name,telemetrySuffix:s.Constants.sortBySuffixOptions.Name},{value:s.Constants.GroupsSortOptions.CreatedDate,text:this.resources.Browse.GroupSort.CreatedDate,telemetrySuffix:s.Constants.sortBySuffixOptions.CreatedDate},{value:s.Constants.GroupsSortOptions.Videos,text:this.resources.Browse.GroupSort.Videos,telemetrySuffix:s.Constants.sortBySuffixOptions.Videos},{value:s.Constants.GroupsSortOptions.Channels,text:this.resources.Browse.GroupSort.Channels,telemetrySuffix:s.Constants.sortBySuffixOptions.Channels}]},this.isFilterEmptyGroupsEnabled()&&(this.watchGroupFilter=[function(){return e.groupFilter}],this.groupFilterOptions={label:this.resources.Filterby,options:[{value:s.Constants.GroupsFilterOptions.HideEmptyGroups,text:this.resources.Browse.GroupFilter.HideEmptyGroups,telemetrySuffix:s.Constants.filterBySuffixOptions.HideEmptyGroups},{value:s.Constants.GroupsFilterOptions.ShowEmptyGroups,text:this.resources.Browse.GroupFilter.ShowEmptyGroups,telemetrySuffix:s.Constants.filterBySuffixOptions.ShowEmptyGroups}]}),this.searchBarText=this.resources.Components.SearchBar.SearchForGroups,this.searchBarLabel=this.resources.Components.SearchBar.SearchForGroupsLabel,this.sortByPrefix=s.Constants.metricsPrefixes.SortBy,this.sortDirection=s.Constants.SortDirection.Descending,this.noDataMessage=l.formatString(this.resources.ItemList.NoMatchingResultsMessage,this.resources.ItemList.ResourceName.Groups),this.filterStickyClass="show-for-medium",this.featureFlagsService.Values.BrowseBack&&(setTimeout((function(){e.$scope.$watch((function(){return e.$location.search()}),(function(t,n){t[s.Constants.QueryStringKeys.Sort]&&e.isGroupSortType(t[s.Constants.QueryStringKeys.Sort])&&(e.groupSort=t[s.Constants.QueryStringKeys.Sort]),e.clearQueryParamsService.diffPathName||t[s.Constants.QueryStringKeys.Sort]||(e.skipSetQueryParams=!0,e.groupSort=e.defaultSort)}))}),0),setTimeout((function(){e.$scope.$watch((function(){return e.groupSort}),(function(t,n){!t||t===n||e.skipSetQueryParams||e.clearQueryParamsService.diffPathName||(e.featureFlagsService.Values.BrowseBack,e.$location.search(_.assign({},e.extraQueryParams,{sort:t,q:e.searchString}))),e.skipSetQueryParams=!1,e.clearQueryParamsService.diffPathName=!1}))}),100))},u.prototype.isGroupSortType=function(e){return _.includes(_.values(s.Constants.GroupsSortOptions),e)},u.prototype.onInitWatchersInternal=function(){var e=this;this.groupSort=this.defaultSort,this.$scope.$watchGroup(this.watchGroupSort,(function(t,n,r){e.filtersDefaultWatchFired&&n&&!_.some(t.slice(1),(function(e){return void 0===e}))&&(e.refreshData=!0),e.filtersDefaultWatchFired=!0})),this.isFilterEmptyGroupsEnabled()&&this.$scope.$watchGroup(this.watchGroupFilter,(function(t,n,r){e.filtersDefaultWatchFired&&n!=t&&(e.refreshData=!0,t={general:{hideEmptyGroups:t[0]}},e.principalService.patchMySettings(t)),e.filtersDefaultWatchFired=!0}))},u.$inject=["$scope","groupService","resources","telemetryService","featureFlagsService","$window","$transclude","principalService","clearQueryParamsService","$location"],i=u;function u(e,t,n,r,i,s,l,c,d,u){return(i=o.call(this,e,r,i,c,!0)||this).$scope=e,i.groupService=t,i.resources=n,i.telemetryService=r,i.$window=s,i.$transclude=l,i.principalService=c,i.clearQueryParamsService=d,i.$location=u,i.groupSource={},i.filtersDefaultWatchFired=!1,i.hasAPrependedItem=!1,i.principalEntityFetched=!1,i.skipSetQueryParams=!1,i.isItemTranscluded=!1,i.onInitInternal(),i.hasAPrependedItem=l.isSlotFilled("prependItem"),i.onInit({groupResultsController:i}),i.featureTelemetryTracker=i.telemetryService.getTracker(i.screenName),a.ActivityIds.initActivityId(i.screenName),i.onInitWatchersInternal(),i}t.GroupResultsController=i},"./app/components/GroupList/GroupStatistics/GroupStatistics.html":function(e,t){e.exports="<div class=group-statistics ng-if=$ctrl.group> <div class=\"c-caption-1 group-channels channels-count\" ng-class=\"$ctrl.flowVertically?'vertical-List-item':'horizontal-List-item'\"> {{$ctrl.group.metrics.channels | localNumber | groupChannels}} </div> <span class=horizontal-space-16px /> <div class=\"c-caption-1 group-videos video-count\" ng-class=\"$ctrl.flowVertically?'vertical-List-item':'horizontal-List-item'\"> {{::$ctrl.group.metrics.videos | localNumber | groupVideos}} </div> </div>"},"./app/components/GroupList/GroupStatistics/GroupStatistics.less":function(e,t){},"./app/components/GroupList/GroupStatistics/GroupStatistics.ts":function(e,t,n){function r(){this.template=n("./app/components/GroupList/GroupStatistics/GroupStatistics.html"),this.bindings={group:"<",flowVertically:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/GroupList/GroupStatistics/GroupStatistics.less");var i=n("./app/utility/appUtil.ts");t.GroupStatistics=r,i.registerComponent("groupStatistics",r,angular.module("jumper"))},"./app/components/GroupSpotlightVideos/GroupSpotlightVideos.html":function(e,t){e.exports='<div class=spotlight-dialog> <div class=spotlight-videos-settings role=region aria-label={{::$ctrl.resources.AdminSpotlightTitle}}> <custom-error-message ng-if="$ctrl.group.id && $ctrl.failureMessage" error-message=$ctrl.failureMessage is-compact=true></custom-error-message> <h3 class=c-heading-3> <span ng-if=$ctrl.group.name> <span class=group-name>{{::$ctrl.group.name}} </span>{{::$ctrl.resources.AdminSettingsSpotlightTitle | lowercase}} </span> </h3> <spotlight-list load-data=$ctrl.loadData() on-init=$ctrl.onSpotlightListInit(spotlightListController) screen-name=$ctrl.screenName group-id=$ctrl.group.id additional-success-telemetry=$ctrl.loadVideosDataSuccessTelemetry() additional-failure-telemetry=$ctrl.loadVideosDataFailureTelemetry(err)></spotlight-list> <save-discard always-enable-discard=true save-discard-actions=$ctrl.saveDiscardActions></save-discard> </div> </div>'},"./app/components/GroupSpotlightVideos/GroupSpotlightVideosController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./common/Directives/SaveDiscard/SaveDiscard.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=(n=n("./app/components/Administrator/SpotlightVideos/SpotlightVideosController.ts"),i(c,o=n.SpotlightVideosViewModel),c.prototype.loadData=function(){var e=this.groupSpotlightVideosController.group;return this.spotlightService.getGroupSpotlightVideos(e.id)},c.prototype.save=function(){var e=this;return this.saveGroupSpotlight().then((function(){return e.telemetryTracker.succeed(a.FeatureName.UpdateGroupSpotlight),e.groupSpotlightVideosController.$scope.closeThisDialog(),e.$q.resolve()}),(function(t){return e.telemetryTracker.fail(a.FeatureName.UpdateGroupSpotlight,a.SubFeatureName.SpotlightService_GetGroupSpotlight,t),e.$q.reject(t)}))},c.prototype.revert=function(){this.groupSpotlightVideosController.group&&this.groupSpotlightVideosController.group.id&&this.groupSpotlightVideosController.$scope.closeThisDialog()},c.prototype.saveGroupSpotlight=function(){var e=this;if(_.isEqual(this.spotlightVideos,this.original.spotlightVideos)||!this.spotlightVideos)return this.$q.resolve();var t=this.groupSpotlightVideosController.group;return this.spotlightService.postGroupSpotlightVideos(t.id,this.spotlightVideos).then((function(){return e.$q.resolve()}),(function(t){return e.$q.reject(t)}))},c);function c(e,t,n,r,i,s,a,l){return(a=o.call(this,e,t,n,r,i,s,a,l)||this).groupSpotlightVideosController=l,a}t.GroupSpotlightVideosViewModel=l;var d;i(u,d=n.SpotlightVideosController),u.prototype.loadVideosDataSuccessTelemetry=function(){this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.groupSpotlightVideos,null,null)},u.prototype.loadVideosDataFailureTelemetry=function(e){this.featureTelemetryTracker.fail(a.FeatureName.GetVideosForSpotlight,a.SubFeatureName.SpotlightService_GetGroupSpotlight,e)},u.$inject=["$scope","$q","resources","principalService","roleService","roleAssignmentService","tenantService","spotlightService","telemetryService"],i=u;function u(e,t,n,r,i,o,c,u,p){var m=d.call(this,e,t,n,r,i,o,c,u,p)||this;return m.featureTelemetryTracker=m.telemetryService.getTracker(a.ScreenName.AdminSettings),p=m.$scope.ngDialogData,m.group=p?p.group:null,m.isAdmin=!!p&&p.isAdmin,m.viewModel=new l(m.$q,m.principalService,m.roleService,m.roleAssignmentService,m.tenantService,m.spotlightService,m.featureTelemetryTracker,m),m.saveDiscardActions=new s.SaveDiscardActions(m.saveChanges.bind(m,(function(){return m.sendTelemetry()})),m.discardChanges.bind(m),!0,!1),m}t.GroupSpotlightVideosController=i},"./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompact.html":function(e,t){e.exports='<section class="row following-channels-compact" aria-label={{::$ctrl.resources.hubpage.followingchannels}}> <div ng-if="$ctrl.followingChannels.length > 1 || $ctrl.showErrorMessage" class="column xsmall-12"> <div class=section-title-container> <h2 class="c-heading-3 home-section-item-title">{{::$ctrl.resources.hubpage.followingchannels}}</h2> <span class=see-all ng-if=$ctrl.followingChannels.length> <a ng-href={{$ctrl.followedChannelsLink}} ng-click=$ctrl.goToMyFollowingChannelsPage() aria-label={{::$ctrl.resources.FollowedChannelsSeemoreAria}}>{{::$ctrl.resources.SeeAll}}</a> </span> </div> <ul class="row display-flex" ng-if=$ctrl.followingChannels.length> <li class="column large-3 medium-4 small-6 xsmall-12 following-channels-list" ng-repeat="currentChannel in $ctrl.followingChannels track by $index"> <channel-card channel-item=currentChannel show-description=false show-videos=true exit-by-values=$ctrl.exitByValues exit-by-property=$ctrl.exitByProperty screen-name=$ctrl.screenName num-follow-click=$ctrl.metrics.followingChannelsFollow num-unfollow-click=$ctrl.metrics.followingChannelsUnFollow on-update="$ctrl.updateList(channel, action)"/> </li> <li class="column large-3 medium-4 small-6 xsmall-12 action-container following-channels-list" ng-if="$ctrl.followingChannels.length < 4 && !$ctrl.loadingData"> <button class=action-button ng-click=$ctrl.goToBrowsePage()> <div class=action-content> <svg-src svg-name=icon_channel_poster></svg-src> <span class=action-text>{{::$ctrl.resources.HubFollowingFindMore}}</span> </div> </button> </li> </ul> <div class="row column error-message" ng-if=$ctrl.showErrorMessage>{{::$ctrl.resources.hubpage.ErrorText}}</div> </div> </section> '},"./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompact.less":function(e,t){},"./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompact.ts":function(e,t,n){function r(){this.controller=o.FollowingChannelsCompactController,this.template=n("./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompact.html"),this.bindings={exitByProperty:"=",metrics:"=",onInit:"&",onUpdate:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompact.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompactController.ts");t.FollowingChannelsCompact=r,i.registerComponent("followingChannelsCompact",r,angular.module("jumper"))},"./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompactController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/components/HomePage/HomePageController.ts"),o=n("./app/models/TelemetryEventModels.ts");s.prototype.initFollowingChannels=function(){var e=this;this.channelService.getMyFollowingChannels(this.channelFetchCount,r.Constants.ChannelsSortOptions.Name,r.Constants.SortDirection.Ascending,void 0,null,!0,this.isInAdminMode).then((function(t){e.followingChannels=t.data.value,e.featureTelemetryTracker.succeed(o.FeatureName.ChannelsFollowing)}),(function(t){e.showErrorMessage=!0,e.featureTelemetryTracker.fail(o.FeatureName.ChannelsFollowing,o.SubFeatureName.ChannelService_GetMyFollowingChannels,t)}))},s.prototype.goToMyFollowingChannelsPage=function(){this.exitByProperty=i.ExitBy.followingChannelsSeeAllClicked},s.prototype.goToBrowsePage=function(){this.exitByProperty=i.ExitBy.followingChannelFindMoreClicked;var e={view:r.Constants.BrowseView.Channel};this.navigationService.navigate(r.Constants.Routes.Browse,e)},s.prototype.updateList=function(e,t){var n,i=this;t===o.FeatureName.Follow?this.findAndPush(e):t===o.FeatureName.UnFollow&&(n=_.findIndex(this.followingChannels,(function(t){return t.id===e.id})),this.loadingData=!0,-1<n&&(this.followingChannels.splice(n,1),this.channelService.getMyFollowingChannels(this.channelFetchCount,r.Constants.ChannelsSortOptions.Name,r.Constants.SortDirection.Ascending,void 0,this.followingChannels.length,null,this.isInAdminMode).then((function(e){e.data.value.forEach((function(e){i.findAndPush(e)})),i.featureTelemetryTracker.succeed(o.FeatureName.ChannelsFollowing)}),(function(e){i.featureTelemetryTracker.fail(o.FeatureName.ChannelsFollowing,o.SubFeatureName.ChannelService_GetMyFollowingChannels,e)})).finally((function(){i.loadingData=!1}))),this.onUpdate({channel:e,action:t}))},s.prototype.findAndPush=function(e){var t=!1;this.followingChannels.forEach((function(n){n.id===e.id&&(t=!0)})),!t&&this.followingChannels.length<4&&this.followingChannels.push(e)},s.$inject=["channelService","resources","telemetryService","navigationService","principalService"],n=s;function s(e,t,n,s,a){var l=this;this.channelService=e,this.resources=t,this.telemetryService=n,this.navigationService=s,this.principalService=a,this.followingChannels=[],this.showErrorMessage=!1,this.exitByValues={channel:"",channelVideo:""},this.channelFetchCount=4,this.loadingData=!1,this.isInAdminMode=!1,this.screenName=o.ScreenName.Hub,this.featureTelemetryTracker=this.telemetryService.getTracker(this.screenName),this.onInit&&this.onInit({followingChannelsController:this}),this.principalService.getMyPrincipalInfo().then((function(e){l.isInAdminMode=l.principalService.getIsStreamAdmin()&&l.principalService.getAdminModeStatus()})).finally((function(){l.initFollowingChannels()})),this.followedChannelsLink=r.Constants.Routes.FollowingChannels,i.ExitBy&&(this.exitByValues.channel=i.ExitBy.followingchannelClicked,this.exitByValues.channelVideo=i.ExitBy.videoFromFollowingChannelCardClicked)}t.FollowingChannelsCompactController=n},"./app/components/HomePage/HomePage.html":function(e,t){e.exports='<div class=body-grey-background> <section class=carousel-container aria-label={{$ctrl.resources.VideoCarouselLandMarkAria}}> <div class="row column"> <div class="first-run-home-container row column" ng-if="$ctrl.showWelcomeSlide || $ctrl.defaultWelcome"> <div class=container-103> <div class=text-container> <div class=stream-icon-first-run> <svg-src svg-name=stream-icon></svg-src> </div> <h3 class=welcome-heading>{{::$ctrl.resources.hubpage.welcome.title}}</h3> <p class=sub-text ng-if=$ctrl.me.permissions.canCreateVideo>{{::$ctrl.resources.hubpage.welcome.subtext.upload}}</p> <p class=sub-text ng-if=!$ctrl.me.permissions.canCreateVideo>{{$ctrl.inviteToStreamSubText}}</p> <button class="upload-button stream-btn btn-primary" ng-if=$ctrl.me.permissions.canCreateVideo ngf-select ngf-change=$ctrl.uploadVideoFilesFromCarousel($files) ngf-multiple=true> {{::$ctrl.resources.hubpage.welcome.uploadbuttontext}} </button> <button class=firstrun-invite ng-if=!$ctrl.me.permissions.canCreateVideo ng-click=$ctrl.openInvite()> {{::$ctrl.resources.Invite}} </button> </div> </div> </div> <div class=carousel-place-holder ng-hide="$ctrl.showWelcomeSlide || $ctrl.defaultWelcome"> <video-carousel carousel-videos=$ctrl.carouselVideos carousel-exit-by=$ctrl.hubPageSummaryProperties.exitBy createchannelmetric=$ctrl.hubPageSummaryMetrics.carouselCreateChannelClick screen-name=$ctrl.screenName telemetry-tracker=$ctrl.featureTelemetryTracker ng-if="$ctrl.carouselVideos.length || $ctrl.showCarouselDefaultActions"></video-carousel> </div> </div> </section> <invite ng-if="$ctrl.showInviteOthers && ($ctrl.me.permissions.canCreateVideo || (!$ctrl.me.permissions.canCreateVideo && $ctrl.trendingVideos.length > 1))"></invite> <get-started ng-if=$ctrl.showGettingStarted getting-started-dismissed=$ctrl.gettingStartedDismissed() get-started-metrics=$ctrl.hubPageSummaryMetrics class=show-for-small></get-started> <recently-viewed recently-viewed-videos-property=$ctrl.hubPageSummaryProperties ng-if=$ctrl.isRecentlyViewedEnabled></recently-viewed> <pinned-videos pinned-videos-property=$ctrl.hubPageSummaryProperties on-init=$ctrl.onPinnedVideosInit(pinnedVideosController)></pinned-videos> <following-channels-compact exit-by-property=$ctrl.hubPageSummaryProperties.exitBy metrics=$ctrl.hubPageSummaryMetrics on-init=$ctrl.onFollowingChannelsInit(followingChannelsController) on-update="$ctrl.updatePopularChannels(channel, action)"></following-channels-compact> <div class=row> <section ng-if=$ctrl.trendingVideos.length class="column xsmall-12 trending-videos-container" ng-class="$ctrl.popularChannels.length ? [\'medium-8\', \'large-6\'] : [\'medium-12\', \'large-12\']" aria-label={{::$ctrl.resources.HubTrendingVideo}}> <div class=section-title-container> <h2 class="c-heading-3 home-section-item-title button-text">{{::$ctrl.resources.HubTrendingVideo}}</h2> <span class=see-all ng-if="$ctrl.trendingVideos.length >= 2"> <a ng-href={{$ctrl.browseVideosLink}} ng-click=$ctrl.goToBrowseVideos() aria-label={{::$ctrl.resources.TrendingSeemoreAria}}>{{::$ctrl.resources.SeeAll}}</a> </span> </div> <div class="row row-size0"> <div ng-repeat="videoItem in $ctrl.trendingVideos" class="column xsmall-12 trending-videos-list" ng-class="$ctrl.popularChannels.length ? \'medium-12\' : [\'medium-6\', \'large-6\']"> <video-item-with-overlay video-item=videoItem exit-by-property=$ctrl.hubPageSummaryProperties.exitBy exit-by-value=$ctrl.trendingExitByValue share-metrics=$ctrl.hubPageSummaryMetrics.trendingVideoShareClick like-unlike-metrics=$ctrl.hubPageSummaryMetrics.trendingVideoLikeUnlikeClick add-remove-watchlist-metrics=$ctrl.hubPageSummaryMetrics.trendingVideoAddOrRemoveFromWatchListClick on-update=$ctrl.onWatchlistUpdate() screen-name=$ctrl.screenName></video-item-with-overlay> </div> <div class="column show-for-large large-6 trending-videos-list add-more-videos" ng-if="!$ctrl.popularChannels.length && $ctrl.trendingVideos.length === 1"> <div class=stream-container-169-parent> <div class=stream-container-169></div> <div class=stream-container-169-overlay> <div class=tile> <h3 class=c-heading-2 ng-if=$ctrl.me.permissions.canCreateVideo> {{::$ctrl.resources.hubpage.ShareVideo.Title}} </h3> <h2 class=c-heading-2 ng-if=!$ctrl.me.permissions.canCreateVideo> {{$ctrl.inviteToStreamText}} </h2> <p ng-if=$ctrl.me.permissions.canCreateVideo>{{::$ctrl.resources.hubpage.ShareVideo.SubText}}</p> <button class=upload-button ng-if=$ctrl.me.permissions.canCreateVideo ngf-select ngf-change=$ctrl.uploadVideoFilesFromCarousel($files) ngf-multiple=true> {{::$ctrl.resources.hubpage.ShareVideo.UploadVideoLinkText}} </button> <button class=firstrun-invite ng-if=!$ctrl.me.permissions.canCreateVideo ng-click=$ctrl.openInvite()> {{::$ctrl.resources.Invite}} </button> </div> </div> </div> </div> </div> </section> <section ng-if=$ctrl.popularChannels.length class="column xsmall-12 popular-channels-container" ng-class="$ctrl.trendingVideos.length ? [\'medium-4\', \'large-6\'] : [\'medium-12\', \'large-12\']" aria-label={{::$ctrl.resources.hubpage.popularchannels}}> <div class=section-title-container> <h2 class="c-heading-3 home-section-item-title hide-for-medium-only">{{::$ctrl.resources.hubpage.popularchannels}}</h2> <h2 class="c-heading-3 home-section-item-title show-for-medium-only">{{::$ctrl.resources.hubpage.popular}}</h2> <span class=see-all ng-if="$ctrl.popularChannels.length == 4"> <a ng-href={{$ctrl.browseChannelsLink}} ng-click=$ctrl.goBrowseChannelsPage() aria-label={{::$ctrl.resources.PopularChannelsSeemoreAria}}>{{::$ctrl.resources.SeeAll}}</a> </span> </div> <ul class="row row-size0" role=presentation> <li class="column small-6 xsmall-12 popular-channels-list" ng-repeat="currentChannel in $ctrl.popularChannels" ng-class=$ctrl.channelsDisplayClasses> <channel-card channel-item=currentChannel show-description=true show-videos=true exit-by-values=$ctrl.popularChannelExitByValues exit-by-property=$ctrl.hubPageSummaryProperties.exitBy screen-name=$ctrl.screenName num-follow-click=$ctrl.hubPageSummaryMetrics.popularChannelFollow num-unfollow-click=$ctrl.hubPageSummaryMetrics.popularChannelUnfollow on-update="$ctrl.updateFollowingChannels(channel, action)"/> </li> </ul> </section> </div> </div>'},"./app/components/HomePage/HomePage.less":function(e,t){},"./app/components/HomePage/HomePage.ts":function(e,t,n){function r(){this.controller=o.HomePageController,this.template=n("./app/components/HomePage/HomePage.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/HomePage/HomePage.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/HomePage/HomePageController.ts");t.HomePage=r,i.registerComponent("homePage",r,angular.module("jumper"))},"./app/components/HomePage/HomePageController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/string.ts");function s(e,n,o,s,a,l,c,d,u,p,m,h){var g=this;this.$scope=e,this.$window=n,this.principalService=o,this.videoService=s,this.spotlightService=a,this.channelService=l,this.resources=c,this.telemetryService=d,this.featureFlagsService=u,this.navigationService=p,this.dataShareService=m,this.inviteDialog=h,this.hubPageSummaryProperties={exitBy:t.ExitBy.other},this.popularChannelExitByValues={channel:t.ExitBy.popularChannelClicked,channelVideo:t.ExitBy.videoFromPopularChannelCardClicked},this.hubPageSummaryMetrics={carouselCreateChannelClick:0,popularChannelFollow:0,popularChannelUnfollow:0,followingChannelsUnFollow:0,followingChannelsFollow:0,getStartedVideoClick:0,trendingVideoShareClick:0,trendingVideoLikeUnlikeClick:0,trendingVideoAddOrRemoveFromWatchListClick:0},this.userSetting={},this.carouselVideos=[],this.spotlightVideos=[],this.trendingVideos=[],this.trendingVideosTopFetchCount=6,this.maxNumberOfCarousel=4,this.popularChannels=[],this.popularChannelFetchCount=4,this.popularChannelsSkipCount=0,this.showCarousel=!1,this.showWelcomeSlide=!1,this.trendingExitByValue=t.ExitBy.trendingVideosClicked,this.loadVideosComplete=!1,this.showInviteOthers=!1,this.transcriptSearchEnabled=!1,this.isInAdminMode=!1,this.$window.document.title=r.Constants.ProductName,this.screenName=i.ScreenName.Hub,this.featureTelemetryTracker=this.telemetryService.getTracker(this.screenName);var f=this.sendTelemetryEvents.bind(this);this.$window.addEventListener("beforeunload",f),this.$scope.$on("$destroy",(function(e){g.sendTelemetryEvents(),g.$window.removeEventListener("beforeunload",f)})),this.browseVideosLink=r.Constants.Routes.Browse+"?list="+r.Constants.lists.Trending,this.browseChannelsLink=r.Constants.Routes.Browse+"?view="+r.Constants.BrowseView.Channel+"&source="+r.Constants.HubPage.source,this.principalService.getMyPrincipalInfo().then((function(e){g.me=e.data,g.userSetting=g.me.settings,e=g.featureFlagsService.Values.TrialExperience?g.userSetting.general.showHowToVideos:g.userSetting.general.showGettingStarted,g.userSetting.general&&void 0!==e?g.showGettingStarted=e:g.showGettingStarted=!0,g.userSetting.general&&void 0!==g.userSetting.general.showInviteOthers?g.showInviteOthers=g.userSetting.general.showInviteOthers:g.showInviteOthers=!0,g.transcriptSearchEnabled=g.me.servicePlans.capabilities.transcriptSearch,g.isInAdminMode=g.principalService.getIsStreamAdmin()&&g.principalService.getAdminModeStatus()})).finally((function(){g.initSpotlightAndTrendingVideos(),g.initPopularChannels()}))}t.ExitBy={trendingVideosClicked:"HubPageTrendingVideosClicked",trendingVideosSeeAllClicked:"HubPageTrendingSeeAllClicked",followingchannelClicked:"HubPageFollowingChannelClicked",followingChannelFindMoreClicked:"HubPageFollowingChannelFindMoreClicked",videoFromFollowingChannelCardClicked:"HubPageVideoFromFollowingChannelCardClicked",popularChannelClicked:"HubPagePopularChannelClicked",videoFromPopularChannelCardClicked:"HubPageVideoFromPopularChannelCardClicked",popularChannelSeeAllClicked:"HubPagePopularChannelSeeAllClicked",mywatchListVideoClicked:"HubPageMywatchListVideoClicked",myWatchListSeeAllClicked:"HubPageWatchListSeeAllClicked",recentlyViewedVideoClicked:"HubPageRecentlyViewedVideoClicked",recentlyViewedSeeAllClicked:"HubPageRecentlyViewedSeeAllClicked",followingChannelsSeeAllClicked:"followingChannelsSeeAllClicked",myWatchListFindMoreClicked:"HubPageWatchListFindMoreVideosClicked",recentlyViewedFindMoreClicked:"HubPageRecentlyViewedFindMoreVideosClicked",other:"Other"},s.prototype.initSpotlightAndTrendingVideos=function(){var e=this;this.spotlightService.getTenantSpotlightVideos().then((function(t){t&&t.data&&t.data.value&&0<(t=t.data.value).length&&(t=t.map((function(e){return e.video})),e.spotlightVideos=t.slice(0,e.maxNumberOfCarousel)),e.featureTelemetryTracker.succeed(i.FeatureName.GetTenantSpotlightVideos)}),(function(t){e.featureTelemetryTracker.fail(i.FeatureName.GetTenantSpotlightVideos,i.SubFeatureName.SpotlightService_GetTenantSpotlight,t)})).finally((function(){return e.initTrendingVideos()}))},s.prototype.gettingStartedDismissed=function(){this.showGettingStarted=!1},Object.defineProperty(s.prototype,"isRecentlyViewedEnabled",{get:function(){return this.featureFlagsService.Values.RecentlyViewed},enumerable:!0,configurable:!0}),s.prototype.initTrendingVideos=function(){var e=this,t=this.featureFlagsService.Values.LiveEventOptions?r.Constants.VideosBesidesEndedNonRecordedLiveFilter:r.Constants.DataQueryDefaultFilter;this.videoService.getTrendingVideos(this.trendingVideosTopFetchCount,0,void 0,t).then((function(t){var n=t.data.value,r=[],o=e.spotlightVideos&&0<e.spotlightVideos.length;t=n&&0<n.length;o&&t?(e.spotlightVideos=e.spotlightVideos.map((function(e){return e.isSpotlight=!0,e})),r=(r=_.unionBy(e.spotlightVideos,n,"id")).slice(0,e.trendingVideosTopFetchCount)):o?r=e.spotlightVideos:t&&(r=n),1===r.length?e.trendingVideos=r:2===r.length?(e.carouselVideos=r.slice(0,1),e.trendingVideos=r.slice(1)):2<r.length&&r.length<5?(e.carouselVideos=r.slice(0,r.length-1),e.trendingVideos=r.slice(r.length-1)):5<=r.length?(e.carouselVideos=r.slice(0,4),e.trendingVideos=r.slice(4)):e.showWelcomeSlide=!0,e.showCarousel=!0,e.featureTelemetryTracker.succeed(i.FeatureName.TrendingVideos,{featureQueryType:i.FeatureName[i.FeatureName.TrendingVideos]})}),(function(t){e.featureTelemetryTracker.fail(i.FeatureName.TrendingVideos,i.SubFeatureName.VideoService_GetTrendingVideos,t)})).finally((function(){e.loadVideosComplete=!0}))},s.prototype.initPopularChannels=function(){var e=this;this.channelService.query(this.popularChannelFetchCount,this.popularChannelsSkipCount,r.Constants.ChannelsSortOptions.Subscribers,r.Constants.SortDirection.Descending,void 0,!1,!1,!0,this.isInAdminMode).then((function(t){e.popularChannels=t.data.value,e.featureTelemetryTracker.succeed(i.FeatureName.PopularChannels)}),(function(t){e.featureTelemetryTracker.fail(i.FeatureName.PopularChannels,i.SubFeatureName.ChannelService_Query,t)}))},s.prototype.sendTelemetryEvents=function(){this.hubPageSummaryProperties&&this.hubPageSummaryMetrics&&(this.telemetryService.getTracker(i.ScreenName.Hub).trackEvent(i.TelemetryEventNames.hubPageEventName,this.hubPageSummaryProperties,this.hubPageSummaryMetrics),this.hubPageSummaryMetrics=void 0,this.hubPageSummaryProperties=void 0)},s.prototype.onPinnedVideosInit=function(e){this.pinnedVideosController=e},s.prototype.onFollowingChannelsInit=function(e){this.followingChannelsCompactController=e},s.prototype.updateFollowingChannels=function(e,t){this.followingChannelsCompactController.updateList(e,t)},s.prototype.updatePopularChannels=function(e,t){this.popularChannels.forEach((function(n){n.id===e.id&&t===i.FeatureName.UnFollow?n.userData.isFollowed=!1:n.id===e.id&&t===i.FeatureName.Follow&&(n.userData.isFollowed=!0)}))},s.prototype.onWatchlistUpdate=function(){this.pinnedVideosController.populatePinnedVideos()},Object.defineProperty(s.prototype,"channelsDisplayClasses",{get:function(){return this.trendingVideos.length?1===this.trendingVideos.length?["large-6","medium-12","limited"]:["large-6","medium-12"]:["medium- 4","large- 3"]},enumerable:!0,configurable:!0}),s.prototype.goBrowseChannelsPage=function(){this.hubPageSummaryProperties.exitBy=t.ExitBy.popularChannelSeeAllClicked},s.prototype.goToBrowseVideos=function(){this.hubPageSummaryProperties.exitBy=t.ExitBy.trendingVideosSeeAllClicked},Object.defineProperty(s.prototype,"defaultWelcome",{get:function(){var e=!(this.me&&(this.me.permissions.canCreateChannel||this.me.permissions.canCreateVideo));return 1===this.trendingVideos.length&&e||!(0!==this.trendingVideos.length||this.showWelcomeSlide||!e||!this.loadVideosComplete)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showCarouselDefaultActions",{get:function(){var e=this.me&&(this.me.permissions.canCreateChannel||this.me.permissions.canCreateVideo);return!(1!==this.trendingVideos.length||!e)||!(0!==this.trendingVideos.length||this.showWelcomeSlide||!e||!this.loadVideosComplete)},enumerable:!0,configurable:!0}),s.prototype.uploadVideoFilesFromCarousel=function(e){e&&0<e.length&&(this.dataShareService.files=e,this.navigationService.navigate(r.Constants.Routes.Upload))},s.prototype.openInvite=function(){var e=this;this.inviteDialog.open().closePromise.then((function(t){e.telemetryService.getTracker(e.screenName).tagScreen()}))},Object.defineProperty(s.prototype,"inviteToStreamSubText",{get:function(){return o.formatString(this.resources.hubpage.welcome.subtext.invite,r.Constants.ProductName)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"inviteToStreamText",{get:function(){return o.formatString(this.resources.hubpage.sharevideo.invite,r.Constants.ProductName)},enumerable:!0,configurable:!0}),s.$inject=["$scope","$window","principalService","videoService","spotlightService","channelService","resources","telemetryService","featureFlagsService","navigationService","dataShareService","inviteDialog"],n=s,t.HomePageController=n},"./app/components/HomePage/Invite/Invite.html":function(e,t){e.exports='<div class="row inviterow-container show-for-large" ng-if=$ctrl.visible> <div class="column xsmall-12"> <div class="inviterow margin-60"> <div class=invite-icon-container> <svg-src class=invite-icon svg-name=icon_invite_white aria-label={{::$ctrl.resources.InviteYourCoworkers}} /> </div> <button aria-label={{::$ctrl.resources.Components.InviteBanner.LinkText}} type=button class="invite-link invite-header c-hyperlink" ng-click=$ctrl.openInviteDialog();>{{::$ctrl.resources.InviteBannerText}}</button> <button class=invite-close aria-label={{::$ctrl.resources.DontShowThisAgain}} ng-click=$ctrl.closeInviteOthers()> <svg-src svg-name=icon_cancel></svg-src> </button> </div> </div> </div>'},"./app/components/HomePage/Invite/Invite.less":function(e,t){},"./app/components/HomePage/Invite/Invite.ts":function(e,t,n){function r(){this.controller=o.InviteController,this.template=n("./app/components/HomePage/Invite/Invite.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/HomePage/Invite/Invite.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/HomePage/Invite/InviteController.ts");t.Invite=r,i.registerComponent("invite",r,angular.module("jumper"))},"./app/components/HomePage/Invite/InviteController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts");i.prototype.closeInviteOthers=function(){var e=this;this.principalService.patchMySettings({general:{showInviteOthers:!1}}).then((function(t){t.data,e.visible=!1}),(function(t){e.telemetryService.getTracker(r.ScreenName.Hub).fail(r.FeatureName.UpdatePrincipalSettings,r.SubFeatureName.General_ShowInviteOthers,t)}))},i.prototype.openInviteDialog=function(){this.inviteDialog.open()},i.$inject=["resources","inviteDialog","navigationService","telemetryService","$location","principalService"],n=i;function i(e,t,n,r,i,o){this.resources=e,this.inviteDialog=t,this.navigationService=n,this.telemetryService=r,this.$location=i,this.principalService=o,this.visible=!0}t.InviteController=n},"./app/components/HomePage/PinnedVideos/PinnedVideos.html":function(e,t){e.exports='<section ng-if="$ctrl.showErrorMessage || $ctrl.pinnedVideos.length > 1" aria-label={{::$ctrl.resources.hubpage.mywatchlist}}> <div class="row row-size0 pinned-videos-v2"> <div class=column> <div class=section-title-container> <h2 class="c-heading-3 home-section-item-title" tabindex=-1>{{::$ctrl.resources.hubpage.mywatchlist}}</h2> <span class=see-all ng-if=$ctrl.pinnedVideos.length> <a ng-href={{$ctrl.watchListPageLink}} ng-click=$ctrl.goToMyWatchlistPage() aria-label={{::$ctrl.resources.WatchListSeemoreAria}}>{{::$ctrl.resources.SeeAll}}</a> </span> </div> <ul class="row display-flex" ng-if=$ctrl.pinnedVideos.length> <li class="pinned-videos-list-v2 column large-3 medium-4 small-6 xsmall-12" ng-repeat="currentVideo in $ctrl.pinnedVideos"> <responsive-video-item video-item=currentVideo query-param=$ctrl.queryParams item-clicked=$ctrl.videoClicked() hide-likes=$ctrl.hideLikes show-medium=true></responsive-video-item> </li> <li class="pinned-videos-list-v2 column large-3 medium-4 action-container" ng-if="$ctrl.pinnedVideos.length < 4"> <button class=action-button ng-click=$ctrl.goToBrowsePage()> <div class=action-content> <svg-src svg-name=icon_discover></svg-src> <span class=action-text>{{::$ctrl.resources.HubWatchlistFindMore}}</span> </div> </button> </li> </ul> <div class="row column error-message" ng-if=$ctrl.showErrorMessage>{{::$ctrl.resources.hubpage.ErrorText}}</div> </div> </div> </section>'},"./app/components/HomePage/PinnedVideos/PinnedVideos.less":function(e,t){},"./app/components/HomePage/PinnedVideos/PinnedVideos.ts":function(e,t,n){function r(){this.controller=o.PinnedVideosController,this.template=n("./app/components/HomePage/PinnedVideos/PinnedVideos.html"),this.bindings={pinnedVideosProperty:"<",onInit:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/HomePage/PinnedVideos/PinnedVideos.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/HomePage/PinnedVideos/PinnedVideosController.ts");t.PinnedVideos=r,i.registerComponent("pinnedVideos",r,angular.module("jumper"))},"./app/components/HomePage/PinnedVideos/PinnedVideosController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/string.ts"),a=n("./app/utility/appUtil.ts"),l=n("./app/utility/Constants.ts"),c=n("./app/utility/ComponentBase.ts"),d=n("./app/services/NavigationService.ts"),u=n("./app/components/HomePage/HomePageController.ts"),p=n("./app/models/TelemetryEventModels.ts");i(m,o=c.ComponentBase),m.prototype.populatePinnedVideos=function(){var e=this;this.videoService.getPinnedVideos(l.Constants.VideoSortOptions.PinnedDate,l.Constants.SortDirection.Descending,this.skipCount,this.videoFetchCount).then((function(t){e.pinnedVideos=t.data.value,e.featureTelemetryTracker.succeed(p.FeatureName.WatchListVideos)}),(function(t){e.showErrorMessage=!0,e.featureTelemetryTracker.fail(p.FeatureName.WatchListVideos,p.SubFeatureName.VideoService_GetPinnedVideos,t)}))},m.prototype.videoClicked=function(){this.pinnedVideosProperty.exitBy=u.ExitBy.mywatchListVideoClicked,this.navigationService.clearQueryParams()},m.prototype.goToVideoPage=function(e){this.pinnedVideosProperty.exitBy=u.ExitBy.mywatchListVideoClicked,this.navigationService.navigate(this.getVideoPageUrl(e))},m.prototype.getVideoPageUrl=function(e){return d.generatePathWithQueryStrings(l.Constants.Routes.Video,e,this.queryParams)},m.prototype.goToMyWatchlistPage=function(){this.pinnedVideosProperty.exitBy=u.ExitBy.myWatchListSeeAllClicked},m.prototype.getThumbnailAltText=function(e){return s.formatString(this.resources.ThumbnailAccessibilityText,e)},m.prototype.getVideoPosterImageAriaLabel=function(e){return s.formatString(this.resources.VideoPosterImageAriaLabel,e.name,a.getNarratorFriendlyTime(a.formatISODuration(e.media.duration),this.resources.Units.Time))},m.prototype.goToBrowsePage=function(){this.pinnedVideosProperty.exitBy=u.ExitBy.myWatchListFindMoreClicked;var e={view:p.ScreenName[p.ScreenName.BrowseVideos]};this.navigationService.navigate(l.Constants.Routes.Browse,e)},m.$inject=["videoService","resources","navigationService","telemetryService"],i=m;function m(e,t,n,r){var i=o.call(this,m)||this;return i.videoService=e,i.resources=t,i.navigationService=n,i.telemetryService=r,i.queryParams={},i.hideLikes=!0,i.onInit&&i.onInit({pinnedVideosController:i}),i.watchListPageLink=l.Constants.Routes.Watchlist,i.showErrorMessage=!1,i.pinnedVideos=[],i.skipCount=0,i.videoFetchCount=4,i.populatePinnedVideos(),i.queryParams.list=l.Constants.lists.WatchList,i.featureTelemetryTracker=i.telemetryService.getTracker(p.ScreenName.Hub),i}t.PinnedVideosController=i},"./app/components/HomePage/RecentlyViewed/RecentlyViewed.html":function(e,t){e.exports='<section ng-if="$ctrl.showErrorMessage || $ctrl.recentlyViewedVideos.length > 1" aria-label={{::$ctrl.resources.hubpageRecentlyViewed}}> <div class="row row-size0 recently-watched-videos-v2"> <div class=column> <div class=section-title-container> <h2 class="c-heading-3 home-section-item-title">{{::$ctrl.resources.hubpageRecentlyViewed}}</h2> <span class=see-all ng-if=$ctrl.recentlyViewedVideos.length> <a ng-href={{$ctrl.recentlyViewedPageLink}} ng-click=$ctrl.goToRecentlyViewedPage() aria-label={{::$ctrl.resources.WatchListSeemoreAria}}>{{::$ctrl.resources.SeeAll}}</a> </span> </div> <ul class="row display-flex" ng-if=$ctrl.recentlyViewedVideos.length> <li class="recently-watched-videos-list-v2 column large-3 medium-4 small-6 xsmall-12" ng-repeat="currentVideo in $ctrl.recentlyViewedVideos"> <responsive-video-item video-item=currentVideo query-param=$ctrl.queryParams item-clicked=$ctrl.videoClicked() hide-likes=$ctrl.hideLikes show-medium=true></responsive-video-item> </li> <li class="recently-watched-videos-list-v2 column large-3 medium-4 action-container" ng-if="$ctrl.recentlyViewedVideos.length < 4"> <button class=action-button ng-click=$ctrl.goToBrowsePage()> <div class=action-content> <svg-src svg-name=icon_find_videos></svg-src> <span class=action-text>{{::$ctrl.resources.HubWatchlistFindMore}}</span> </div> </button> </li> </ul> <div class="row column error-message" ng-if=$ctrl.showErrorMessage>{{::$ctrl.resources.hubpage.ErrorText}}</div> </div> </div> </section>'},"./app/components/HomePage/RecentlyViewed/RecentlyViewed.less":function(e,t){},"./app/components/HomePage/RecentlyViewed/RecentlyViewed.ts":function(e,t,n){function r(){this.controller=o.RecentlyViewedController,this.template=n("./app/components/HomePage/RecentlyViewed/RecentlyViewed.html"),this.bindings={recentlyViewedVideosProperty:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/HomePage/RecentlyViewed/RecentlyViewed.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/HomePage/RecentlyViewed/RecentlyViewedController.ts");t.RecentlyViewed=r,i.registerComponent("recentlyViewed",r,angular.module("jumper"))},"./app/components/HomePage/RecentlyViewed/RecentlyViewedController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/string.ts"),a=n("./app/utility/appUtil.ts"),l=n("./app/utility/Constants.ts"),c=n("./app/utility/ComponentBase.ts"),d=n("./app/services/NavigationService.ts"),u=n("./app/components/HomePage/HomePageController.ts"),p=n("./app/models/TelemetryEventModels.ts");i(m,o=c.ComponentBase),m.prototype.populateRecentlyViewedVideos=function(){var e=this;this.videoService.getRecentlyViewedVideos(l.Constants.VideoSortOptions.LastViewDate,l.Constants.SortDirection.Descending,this.skipCount,this.videoFetchCount).then((function(t){e.recentlyViewedVideos=t.data.value,e.featureTelemetryTracker.succeed(p.FeatureName.RecentlyViewedVideos)}),(function(t){e.showErrorMessage=!0,e.featureTelemetryTracker.fail(p.FeatureName.RecentlyViewedVideos,p.SubFeatureName.VideoService_GetRecentlyViewedVideos,t)}))},m.prototype.videoClicked=function(){this.recentlyViewedVideosProperty.exitBy=u.ExitBy.recentlyViewedVideoClicked,this.navigationService.clearQueryParams()},m.prototype.goToVideoPage=function(e){this.recentlyViewedVideosProperty.exitBy=u.ExitBy.recentlyViewedVideoClicked,this.navigationService.navigate(this.getVideoPageUrl(e))},m.prototype.getVideoPageUrl=function(e){return d.generatePathWithQueryStrings(l.Constants.Routes.Video,e,this.queryParams)},m.prototype.goToRecentlyViewedPage=function(){this.recentlyViewedVideosProperty.exitBy=u.ExitBy.recentlyViewedSeeAllClicked},m.prototype.getThumbnailAltText=function(e){return s.formatString(this.resources.ThumbnailAccessibilityText,e)},m.prototype.getVideoPosterImageAriaLabel=function(e){return s.formatString(this.resources.VideoPosterImageAriaLabel,e.name,a.getNarratorFriendlyTime(a.formatISODuration(e.media.duration),this.resources.Units.Time))},m.prototype.goToBrowsePage=function(){this.recentlyViewedVideosProperty.exitBy=u.ExitBy.recentlyViewedFindMoreClicked;var e={view:p.ScreenName[p.ScreenName.BrowseVideos]};this.navigationService.navigate(l.Constants.Routes.Browse,e)},m.$inject=["videoService","resources","navigationService","telemetryService"],i=m;function m(e,t,n,r){var i=o.call(this,m)||this;return i.videoService=e,i.resources=t,i.navigationService=n,i.telemetryService=r,i.queryParams={},i.hideLikes=!0,i.recentlyViewedPageLink=l.Constants.Routes.RecentlyViewed,i.showErrorMessage=!1,i.recentlyViewedVideos=[],i.skipCount=0,i.videoFetchCount=4,i.populateRecentlyViewedVideos(),i.queryParams.list=l.Constants.lists.RecentlyViewed,i.featureTelemetryTracker=i.telemetryService.getTracker(p.ScreenName.Hub),i}t.RecentlyViewedController=i},"./app/components/HomePage/VideoCarousel/VideoCarousel.html":function(e,t){e.exports='<div class="row column video-carousel lang-override"> <div class="trending-tiles hidden"> <div class="regular slider" dir={{$ctrl.getTextDirection}}> <div ng-repeat="videoItem in $ctrl.carouselVideos" class=slide-container ng-if=$ctrl.carouselVideos.length role=listitem tabindex=-1> <div class="xsmall-9 float-dir"> <a ng-href={{$ctrl.getVideoPageUrl(videoItem)}} ng-click=$ctrl.videoImageClicked() aria-hidden=true no-tabindex=true tabindex=-1 class=video-link> <div class=image-container ng-if=!$ctrl.isImageUrlsEmpty(videoItem) style=background-image:url({{videoItem.posterImage.large.url}})> <img ng-src={{videoItem.posterImage.large.url}} check-aspect-ratio alt={{$ctrl.getPosterImageAlt(videoItem.name)}} aria-hidden=false /> </div> <div class=image-container ng-if="$ctrl.isImageUrlsEmpty(videoItem) && $ctrl.isLiveVideo(videoItem)"> <svg-src class=live-default-poster svg-name=live_video_poster_default></svg-src> </div> </a> </div> <div class="gradient-overlay home-page" dir={{$ctrl.getTextDirection}} ng-if=!$ctrl.group> <a ng-href={{$ctrl.getVideoPageUrl(videoItem)}} ng-click=$ctrl.onWatchNowClick() class="video-link overlay-link"> <div class=greeting-container> <h1>{{::$ctrl.getGreeting}}</h1> </div> <div class="video-meta-data-container xsmall-9 small-7 medium-5"> <div class=video-type-tags> <p class="stream-pill trending" ng-if=!videoItem.isSpotlight> <svg-src svg-name=icon_trending inline-with-text=true></svg-src> <span class=text>{{::$ctrl.resources.hubpage.carousel.trendingText}}</span> </p> <p class="stream-pill spotlight" ng-if=videoItem.isSpotlight> <svg-src svg-name=icon_spotlight inline-with-text=true></svg-src> <span class=text>{{::$ctrl.resources.hubpage.carousel.spotlightText}}</span> </p> <p class=live-video ng-if=$ctrl.isLiveVideo(videoItem)> <span ng-if=$ctrl.isLiveNow(videoItem) class="stream-pill pill-primary live-now-tag">{{::$ctrl.resources.LiveEventLiveNow}}</span> <span class=live-video-datetime ng-if=!$ctrl.isLiveNow(videoItem)>{{::videoItem | liveEventThumbnailTime}}</span> </p> </div> <p class=video-title>{{::videoItem.name}}</p> <p class=watch-now>{{::$ctrl.resources.WatchNow}}</p> </div> </a> </div> <div class="gradient-overlay group-page" dir={{$ctrl.getTextDirection}} ng-if=$ctrl.group> <div class=group-meta-container> <div class=poster-container style=background-image:url({{$ctrl.group.imageUrl}}) title={{$ctrl.group.name}}></div> <div class=detail-container> <div ng-if=!$ctrl.isSpotlightEnabled class=group-detail-container> <h1 class=group-title>{{$ctrl.group.name}}</h1> <read-less-read-more text-content=$ctrl.group.description default-max-lines=4 use-ellipsis=true class=show-for-large-only telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <read-less-read-more text-content=$ctrl.group.description default-max-lines=3 use-ellipsis=true class=show-for-medium-only telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <div class=privacy-container> <span class=group-tag ng-if=$ctrl.isOffice365Group>{{$ctrl.officeGroup}}</span> <span class=classification-tag ng-if=$ctrl.group.aadGroup.classification>{{$ctrl.group.aadGroup.classification}}</span> <span class=public-group-tag ng-if=!$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> <span class=private-group-tag ng-if=$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> </div> </div> <group-overlay ng-if=$ctrl.isSpotlightEnabled group=$ctrl.group privacy-mode=$ctrl.privacyMode group-permission=$ctrl.groupPermission is-private-group=$ctrl.isPrivateGroup init-videos=$ctrl.initVideos() is-stream-admin=$ctrl.isStreamAdmin is-in-admin-mode=$ctrl.isInAdminMode telemetry-tracker=$ctrl.telemetryTracker></group-overlay> <div class=flex-space-top></div> <div class=meta-container> <a ng-href={{$ctrl.getVideoPageUrl(videoItem)}} class=video-link ng-click=$ctrl.groupVideoClicked() aria-label={{$ctrl.watchNowAriaText(videoItem.name)}}> <div class=video-meta-data-container> <div class=video-type-tags> <p class="stream-pill trending" ng-if=!videoItem.isSpotlight> <svg-src svg-name=icon_trending inline-with-text=true></svg-src> <span class=text>{{::$ctrl.resources.hubpage.carousel.trendingText}}</span> </p> <p class="stream-pill spotlight" ng-if=videoItem.isSpotlight> <svg-src svg-name=icon_spotlight inline-with-text=true></svg-src> <span class=text>{{::$ctrl.resources.hubpage.carousel.spotlightText}}</span> </p> <p class=live-video ng-if=$ctrl.isLiveVideo(videoItem)> <span ng-if=$ctrl.isLiveNow(videoItem) class="stream-pill pill-primary live-now-tag">{{::$ctrl.resources.LiveEventLiveNow}}</span> <span class=live-video-datetime ng-if=!$ctrl.isLiveNow(videoItem)>{{::videoItem | liveEventThumbnailTime}}</span> </p> </div> <p class=video-title>{{::videoItem.name}}</p> <p class=watch-now>{{::$ctrl.resources.WatchNow}}</p> </div> </a> </div> <div class=flex-space-bottom></div> </div> </div> </div> </div> <div ng-if="$ctrl.carouselVideos.length && !$ctrl.group"> <div class=actions-slide-container> <div class=actions-placeholder></div> <div class=actions-slide> <h1 class="text-container show-for-medium">{{$ctrl.getActionsSlideTiltle}}</h1> <button class="action-items upload-videos" ngf-select ngf-change=$ctrl.uploadVideoFilesFromCarousel($files) ngf-multiple=true ng-if=$ctrl.uploadEnabled> <svg-src svg-name=icon_upload></svg-src> {{::$ctrl.resources.hubpage.carousel.uploadVideo}} </button> <a class="action-items find-videos" ng-href={{$ctrl.browseVideosLink}} ng-click=$ctrl.homeActionsButtonClicked()> <svg-src svg-name=icon_discover></svg-src> {{::$ctrl.resources.hubpage.carousel.findVideos}} </a> <a class="action-items find-channels" ng-href={{$ctrl.browseChannelsLink}} ng-click=$ctrl.homeActionsButtonClicked()> <svg-src svg-name=icon_channel_poster></svg-src> {{::$ctrl.resources.hubpage.carousel.findChannels}} </a> <a class="action-items find-groups show-for-medium" ng-href={{$ctrl.browseGroupsLink}} ng-click=$ctrl.homeActionsButtonClicked()> <svg-src svg-name=icon_join_group></svg-src> {{::$ctrl.resources.hubpage.carousel.findgroups}} </a> <button class="action-items invite-others show-for-medium" ng-click=$ctrl.openInvite()> <svg-src svg-name=icon_invite_white></svg-src> {{::$ctrl.resources.Invite}} </button> </div> </div> </div> <div ng-if="$ctrl.carouselVideos.length && $ctrl.group" class=welcome-slide> <div class=actions-slide-container> <div class=actions-placeholder></div> <div class=actions-slide> <h1 class="text-container show-for-medium">{{$ctrl.getActionsSlideTiltle}}</h1> <button class="action-items upload-videos" ngf-select ngf-change=$ctrl.uploadVideoFilesFromCarousel($files) ngf-multiple=true ng-if=$ctrl.uploadEnabled> <svg-src svg-name=icon_upload></svg-src> {{::$ctrl.resources.hubpage.carousel.uploadVideo}} </button> <button class="action-items find-videos" ng-click=$ctrl.gotoVideos()> <svg-src svg-name=icon_find_videos></svg-src> {{::$ctrl.resources.hubpage.carousel.findVideos}} </button> <button class="action-items find-channels" ng-click=$ctrl.gotoChannels()> <svg-src svg-name=icon_channel_poster></svg-src> {{::$ctrl.resources.hubpage.carousel.findChannels}} </button> </div> </div> </div> <div ng-if="!$ctrl.carouselVideos.length && $ctrl.showActionsSlide" class=welcome-slide> <div class=actions-slide-container> <div class=actions-placeholder></div> <div class=actions-slide> <div class=welcome-cont> <h1 class="text-container show-for-medium">{{$ctrl.getActionsSlideTiltle}}</h1> </div> <div> <button ng-click=$ctrl.openChannelCreateDialog() class="action-items create-channel" ng-if=$ctrl.canCreateChannel> <svg-src svg-name=icon_channel_poster></svg-src> {{::$ctrl.resources.CreateChannel}} </button> <button class="action-items upload-videos" ngf-select ngf-change=$ctrl.uploadVideoFilesFromCarousel($files) ngf-multiple=true ng-if=$ctrl.uploadEnabled> <svg-src svg-name=icon_upload></svg-src> {{::$ctrl.resources.hubpage.carousel.uploadVideo}} </button> </div> </div> </div> </div> <div ng-if="!$ctrl.carouselVideos.length && $ctrl.group" class="slide-container actions-slide-container"> <div class=actions-placeholder></div> <div class="gradient-overlay group-page" dir={{$ctrl.getTextDirection}}> <div class=group-meta-container> <div class=poster-container style=background-image:url({{$ctrl.group.imageUrl}}) title={{$ctrl.group.name}}></div> <div class=detail-container> <div class="group-detail-container no-background" ng-if=!$ctrl.isSpotlightEnabled> <h3 class=group-title>{{$ctrl.group.name}}</h3> <read-less-read-more text-content=$ctrl.group.description default-max-lines=4 use-ellipsis=true class=show-for-large-only telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <read-less-read-more text-content=$ctrl.group.description default-max-lines=3 use-ellipsis=true class=show-for-medium-only telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <div class=privacy-container> <span class=group-tag ng-if=$ctrl.isOffice365Group>{{$ctrl.officeGroup}}</span> <span class=classification-tag ng-if=$ctrl.group.aadGroup.classification>{{$ctrl.group.aadGroup.classification}}</span> <span class=public-group-tag ng-if=!$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> <span class=private-group-tag ng-if=$ctrl.isPrivateGroup>{{$ctrl.groupPermission}}</span> </div> </div> <group-overlay group=$ctrl.group privacy-mode=$ctrl.privacyMode group-permission=$ctrl.groupPermission is-private-group=$ctrl.isPrivateGroup init-videos=$ctrl.initVideos ng-if=$ctrl.isSpotlightEnabled is-stream-admin=$ctrl.isStreamAdmin is-in-admin-mode=$ctrl.isInAdminMode telemetry-tracker=$ctrl.telemetryTracker></group-overlay> <div class=flex-space-bottom></div> </div> </div> </div> </div> </div> <div class=play-pause-button-container> <button class="play-pause-button r-l-title" ng-click=$ctrl.handlePlayPause() custom-title="{{$ctrl.pausedByUser ? $ctrl.resources.hubpage.carousel.autoplay.play: $ctrl.resources.hubpage.carousel.autoplay.pause}}" aria-label="{{$ctrl.pausedByUser ? $ctrl.resources.hubpage.carousel.autoplay.play: $ctrl.resources.hubpage.carousel.autoplay.pause}}"> <svg-src svg-name=icon_autoplay_play ng-if=$ctrl.pausedByUser></svg-src> <svg-src svg-name=icon_autoplay_pause ng-if=!$ctrl.pausedByUser></svg-src> </button> </div> </div> </div> '},"./app/components/HomePage/VideoCarousel/VideoCarousel.less":function(e,t){},"./app/components/HomePage/VideoCarousel/VideoCarousel.ts":function(e,t,n){function r(){this.bindings={carouselVideos:"<",carouselExitBy:"=",createChannelMetric:"=",group:"<",privacyMode:"<",selectedTabOption:"=",screenName:"<",initVideos:"&",isStreamAdmin:"<",isInAdminMode:"<",telemetryTracker:"<"},this.controller=o.VideoCarouselController,this.template=n("./app/components/HomePage/VideoCarousel/VideoCarousel.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/HomePage/VideoCarousel/VideoCarousel.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/HomePage/VideoCarousel/VideoCarouselController.ts");t.VideoCarousel=r,i.registerComponent("videoCarousel",r,angular.module("jumper"))},"./app/components/HomePage/VideoCarousel/VideoCarouselController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/services/NavigationService.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/components/Group/GroupPage/GroupPageController.ts");function c(e,t,n,r,o,s,l,c,d,u,p){var m=this;this.resources=e,this.$timeout=t,this.createChannelDialog=n,this.telemetryService=r,this.featureFlagsService=o,this.navigationService=s,this.principalService=l,this.dataShareService=c,this.inviteDialog=d,this.$scope=u,this.$element=p,this.focusInCarousel=!1,this.pausedByUser=!1,this.officeGroup=i.Constants.M365Name,this.screenName||(this.screenName=a.ScreenName.Auto),this.browseVideosLink=i.Constants.Routes.Browse,this.browseChannelsLink=i.Constants.Routes.Browse+"?view="+i.Constants.BrowseView.Channel,this.browseGroupsLink=i.Constants.Routes.Browse+"?view="+i.Constants.BrowseView.Group,this.principalService.getMyPrincipalInfo().then((function(e){m.me=e.data})).finally((function(){m.initiateSlick()})),p.focusin((function(e){$(".regular").slick("slickPause"),m.focusInCarousel=!0})),p.mouseenter((function(e){$(".regular").slick("slickPause"),m.focusInCarousel=!0})),p.focusout((function(e){e=e.originalEvent&&e.originalEvent.relatedTarget?e.originalEvent.relatedTarget:void 0,e=!!p.find(e).length,m.pausedByUser||e||($(".regular").slick("slickPlay"),m.focusInCarousel=!1)})),p.mouseleave((function(e){m.pausedByUser||($(".regular").slick("slickPlay"),m.focusInCarousel=!1)})),this.$scope.$watch((function(){return m.carouselVideos}),(function(){m.initiateSlick()})),this.tagClickedTelemetryProperties={id:this.group?this.group.id:"",source:i.Constants.TagClickSource.GroupOverlay},this.featureFlagsService.Values.HideM365GroupLabel&&(this.officeGroup=i.Constants.O365Name)}t.CarouselExitBy={carouselWatchNowClicked:"CarouselWatchNowClicked",carouselActionButtonClicked:"CarouselActionsClicked",carouselVideoImageClicked:"CarouselVideoImageClicked",carouselGroupWatchNowClicked:"CarouselGroupWatchNowClicked"},c.prototype.initiateSlick=function(){var e=this,t=!1;sessionInfo.IsRightToLeft&&(t=!0),this.$timeout((function(){0<$(".regular.slick-initialized").length&&$(".regular").slick("unslick"),$(".regular").slick({dots:!0,fade:!0,speed:1500,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!1,pauseOnDotsHover:!1,pauseOnFocus:!0,accessibility:!1,rtl:t,waitForAnimate:!1,responsive:[{breakpoint:540,settings:{arrows:!1}}]}).on("init",(function(){(n=$("ul.slick-dots li button")).attr("aria-pressed","false"),$("ul.slick-dots li:first-child button").attr("aria-pressed","true"),n.each((function(t,n){$(n).attr("title",o.formatString(e.resources.SlideTitle,t+1))}));var t=$(".video-carousel .slick-prev"),n=$(".video-carousel .slick-next");t.attr("title",e.resources.Previous),n.attr("title",e.resources.Next)})).on("beforeChange",(function(e,t,n,r){$("ul.slick-dots li:nth-child("+(n+1)+") button").attr("aria-pressed","false"),$("ul.slick-dots li:nth-child("+(r+1)+") button").attr("aria-pressed","true")})).on("afterChange",(function(t,n,r){e.focusInCarousel&&($("[data-slick-index="+r+"]").find(".watch-button").length?$("[data-slick-index="+r+"]").find(".watch-button").focus():$("[data-slick-index="+r+"]").find(".video-link").length?$("[data-slick-index="+r+"]").find(".video-link").focus():$("[data-slick-index="+r+"]").find("button.action-items").length&&$("[data-slick-index="+r+"]").find("button.action-items").get(0).focus())})),$(".trending-tiles").removeClass("hidden").addClass("shown")}),0).then((function(){var t=$(".video-carousel use");if(t&&t.length)for(var n=0;n<t.length;n++){var r=t[n].href.baseVal;r&&(t[n].href.baseVal=r)}$("ul.slick-dots").focusin((function(){e.focusInCarousel=!0})),$("ul.slick-dots").focusout((function(){e.focusInCarousel=!1}))}))},c.prototype.getVideoPageUrl=function(e){var t,n,o={list:"trending"};return this.featureFlagsService.Values.ResumePlayback&&e.id&&e.userData&&e.userData.isViewed&&(t=s.formatISODurationToSeconds(e.media.duration),(n=e.userData&&e.userData.lastViewPosition?s.formatISODurationToSeconds(e.userData.lastViewPosition):null)&&(30<n||n<t-30)&&(o.st=n)),r.generatePathWithQueryStrings(i.Constants.Routes.Video,e.id,o)},c.prototype.isLiveVideo=function(e){return e.contentSource===i.Constants.VideoContentSource.liveStream},c.prototype.isLiveNow=function(e){return e.state===i.Constants.VideoStatus.Live},c.prototype.getParent=function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!n.call(e,t);)e=e.parentElement;return e},Object.defineProperty(c.prototype,"getGreeting",{get:function(){return o.formatString(this.resources.hubpage.carousel.greeting,sessionInfo.UserClaim.UserInfo.GivenName)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"getActionsSlideTiltle",{get:function(){return this.group?o.formatString(this.resources.Components.Groups.carousel.actionsSlideTile,this.group.name):o.formatString(this.resources.hubpage.carousel.actionsSlideTile,i.Constants.ProductName)},enumerable:!0,configurable:!0}),c.prototype.openChannelCreateDialog=function(){var e=this;this.createChannelMetric&&(this.createChannelMetric+=1),this.createChannelDialog.open(null,this.group,this.isCompanyWideChannelCreationEnabled()).closePromise.then((function(t){e.telemetryService.getTracker(e.screenName).tagScreen()})).catch((function(e){}))},c.prototype.onWatchNowClick=function(){this.carouselExitBy&&(this.carouselExitBy=t.CarouselExitBy.carouselWatchNowClicked)},c.prototype.videoImageClicked=function(){this.carouselExitBy&&(this.carouselExitBy=t.CarouselExitBy.carouselVideoImageClicked)},c.prototype.groupVideoClicked=function(){this.carouselExitBy&&(this.carouselExitBy=t.CarouselExitBy.carouselGroupWatchNowClicked)},c.prototype.watchNowAriaText=function(e){return o.formatString(this.resources.hubpage.carousel.watchnow.aria,e)},Object.defineProperty(c.prototype,"getTextDirection",{get:function(){return sessionInfo.IsRightToLeft?"rtl":"ltr"},enumerable:!0,configurable:!0}),c.prototype.gotoVideos=function(){this.group&&_.isFinite(this.selectedTabOption)&&(this.selectedTabOption=l.TypeFilter.Videos)},c.prototype.gotoChannels=function(){this.group&&_.isFinite(this.selectedTabOption)&&(this.selectedTabOption=l.TypeFilter.Channels)},c.prototype.homeActionsButtonClicked=function(){this.carouselExitBy&&(this.carouselExitBy=t.CarouselExitBy.carouselActionButtonClicked)},c.prototype.openInvite=function(){var e=this;this.inviteDialog.open().closePromise.then((function(t){e.telemetryService.getTracker(e.screenName).tagScreen()}))},c.prototype.getPosterImageAlt=function(e){return o.formatString(this.resources.Components.VideoCarousel.Poster.altTextWithName,e)},Object.defineProperty(c.prototype,"isPrivateGroup",{get:function(){return this.group&&this.group.privacyMode===i.Constants.privacyMode.private?(this.groupPermission=this.resources.GroupPermissionsPrivate,!0):(this.groupPermission=this.resources.GroupPermissionsPublic,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isOffice365Group",{get:function(){return!(!this.group||!this.group.aadGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"canCreateChannel",{get:function(){return!(this.group&&(!this.group||!this.group.userData.permissions.canManageChannels||this.group.readOnlyMigratedContent))},enumerable:!0,configurable:!0}),c.prototype.uploadVideoFilesFromCarousel=function(e){e&&0<e.length&&(this.dataShareService.files=e,this.group&&(this.dataShareService.channel={id:this.group.id},this.dataShareService.group=this.group),this.navigationService.navigate(i.Constants.Routes.Upload))},Object.defineProperty(c.prototype,"uploadEnabled",{get:function(){return this.me&&this.me.permissions.canCreateVideo&&(!this.group||this.group.userData.permissions.canManageMediaItems||this.isInAdminMode)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"showActionsSlide",{get:function(){var e=!1;return this.me&&this.me.permissions.canCreateVideo&&(!this.group||this.group&&this.group.userData.permissions.canManageMediaItems&&!this.group.readOnlyMigratedContent)&&(e=!0),!(!e&&!this.canCreateChannel)},enumerable:!0,configurable:!0}),c.prototype.handlePlayPause=function(){this.pausedByUser?($(".regular").slick("slickPlay"),this.pausedByUser=!1):($(".regular").slick("slickPause"),this.pausedByUser=!0)},Object.defineProperty(c.prototype,"localGroupEnabled",{get:function(){return this.featureFlagsService.Values.LocalGroups},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isSpotlightEnabled",{get:function(){return this.featureFlagsService.Values.GroupSpotlight},enumerable:!0,configurable:!0}),c.prototype.isImageUrlsEmpty=function(e){return s.isPosterImageUrlsEmpty(e.posterImage)},c.prototype.isCompanyWideChannelCreationEnabled=function(){return this.me.permissions.canCreateChannel},c.$inject=["resources","$timeout","createChannelDialog","telemetryService","featureFlagsService","navigationService","principalService","dataShareService","inviteDialog","$scope","$element"],n=c,t.VideoCarouselController=n},"./app/components/LiveEventItem/LiveEventItem.html":function(e,t){e.exports='<div class="video-item live-event-video-item"> <list-row ng-if=$ctrl.headerRow class=video-item-header-row header-row=true> <list-header-cell class=name-column-header header-label=$ctrl.Resources.LiveEventVideoColumnHeaderName></list-header-cell> <list-header-cell class=start-time-column-header header-label=$ctrl.Resources.LiveEventStartTimeColumnHeader></list-header-cell> <list-header-cell class=adder-column-header header-label=$ctrl.Resources.LiveEventOwnerColumnHeaderName></list-header-cell> <list-header-cell class=actions-column-header header-label=ActionColumns centered=true></list-header-cell> </list-row> <list-row ng-if=!$ctrl.headerRow class=video-item-row tabindex=-1 role=presentation ng-click=$ctrl.gotoVideo($event) enable-hover=true> <list-cell class=name-column fill-size=true no-fade=true> <div class="draft-poster-container video-list-item-item-thumb"> <a ng-href={{$ctrl.videoPageUrl}} tabindex=-1 role=presentation ng-click=$ctrl.onVideoClick($event) class="c-hyperlink draft-poster-link" aria-label={{$ctrl.videoItemAriaLabel}}> <draft-poster video=$ctrl.videoItem selected-thumbnail={images:$ctrl.videoItem.posterImage} video-state=$ctrl.videoState on-publish=$ctrl.onPublishSuccess($ctrl.videoItem) process-progress=$ctrl.processProgress upload-progress=$ctrl.uploadProgress hide-publish-button=true is-in-edit-mode=false mute-thumbnail=true></draft-poster> </a> <div ng-if=$ctrl.isLiveNow class="stream-pill pill-primary live-now-tag">{{::$ctrl.Resources.LiveEventLiveNow}}</div> </div> <div class=name-description> <a class="c-hyperlink c-caption-1 video-list-item-title no-hover" ng-href={{$ctrl.videoPageUrl}} ng-click=$ctrl.onVideoClick($event) id={{$ctrl.videoItemDOMId}} aria-label={{$ctrl.videoItemAriaLabel}}> <div class=draft-info-message> <span class=draft-message ng-if=$ctrl.showDraftState aria-hidden=true>{{::$ctrl.Resources.VideoItemTitlePrefixDraftString}}</span> <span class=state-info-message ng-if=$ctrl.showInfoState aria-hidden=true>{{$ctrl.videoStateInfoString}}</span> </div> <svg-src ng-if=$ctrl.isLiveVideo svg-name=icon_live_event ng-class="{\'live-icon-completed\' : $ctrl.isLiveVideoCompleted}" class=live-icon aria-label={{$ctrl.liveVideoIconAriaLabel}}></svg-src> <span class=video-title aria-hidden=true custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </a> <read-less-read-more text-content=$ctrl.videoItem.description enable-custom-title=true class="c-caption-1 description" default-max-lines=2 ng-cloak on-time-tag-clicked=$ctrl.onTimeTagClicked() use-ellipsis=true is-time-tag-startup=true telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> </div> </list-cell> <list-cell class=start-live-time-column no-fade=true> <div class=date-time-container> <span>{{::$ctrl.liveEventScheduledDateTime}}</span> </div> </list-cell> <list-cell class=adder-column no-fade=true> <div class=user-container> <a ng-href={{::$ctrl.creatorPageUrl}} ng-click=$ctrl.clickCreator($event) class="c-action-trigger no-hover principal-link" custom-title={{::$ctrl.videoItem.creator.name}} light-style=true> <img ng-if=$ctrl.videoItem.creator.profileImageUrl ng-src={{::$ctrl.videoItem.creator.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}}/ > <img ng-if=!$ctrl.videoItem.creator.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}}/ > </a> </div> </list-cell> <list-cell class=actions-column no-fade=true allow-overflow=true right-aligned=true ng-click=$ctrl.onActionColumnClick($event)> <button class="c-action-trigger edit-button" custom-title={{$ctrl.editButtonText}} aria-label={{$ctrl.editButtonText}} ng-click=$ctrl.onEnterAdminMode()> <svg-src svg-name=icon_edit></svg-src> </button> </list-cell> </list-row> </div>'},"./app/components/LiveEventItem/LiveEventItem.less":function(e,t){},"./app/components/LiveEventItem/LiveEventItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveEventItem/LiveEventItem.less"),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/LiveEventItem/LiveEventItemController.ts"),l=n("./app/components/VideoItem/VideoItem.ts");i(c,o=l.VideoItem),i=c;function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.LiveEventItemController,e.template=n("./app/components/LiveEventItem/LiveEventItem.html"),e.bindings={videoItem:"=",onVideoDeleted:"&",onInit:"&",hideToolBox:"<",hidePrivacy:"<",videoSource:"<",hideCreator:"<",metrics:"<",videoOwner:"<",isStreamAdmin:"<",headerRow:"<",sortKey:"<",fixedElements:"<",isInAdminMode:"<"},e}t.LiveEventItem=i,s.registerComponent("liveEventItem",i,angular.module("jumper"))},"./app/components/LiveEventItem/LiveEventItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/VideoItem/VideoItemController.ts"),a=n("./app/services/NavigationService.ts"),l=n("./app/utility/Constants.ts");i(c,o=s.VideoItemController),c.prototype.onActionColumnClick=function(e){e.stopPropagation()},Object.defineProperty(c.prototype,"editButtonText",{get:function(){return this.Resources.AdminMode.Enter},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"videoPageUrl",{get:function(){return this.videoSource[l.Constants.DataQueryParams.IsInAdminMode]=!0,a.generatePathWithQueryStrings(l.Constants.Routes.Video,this.videoItem.id,this.videoSource)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"liveEventScheduledDateTime",{get:function(){return this.liveEventStartDate+", "+this.liveEventStartTime},enumerable:!0,configurable:!0}),c.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=c;function c(e,t,n,r,i,s,a,c,d,u,p,m,h,g,f,v,y,b,S,_,C){return(_=o.call(this,e,t,n,r,i,s,a,c,d,u,p,m,h,g,f,v,y,b,S,_,C,l.Constants.TagClickSource.LiveEventVideoItem)||this).replaceVideoService=C,_.itemsListController=_.listScope.$ctrl,_}t.LiveEventItemController=i},"./app/components/LiveEventList/LiveEventList.html":function(e,t){e.exports='<div class="row column row-size1 items-list live-event-list"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Videos screen-name=$ctrl.screenName on-more-data-load=$ctrl.onMoreDataLoad(dataLoaded) on-data-change=$ctrl.onDataChange(changedData) on-init=$ctrl.onItemsListInit(itemsListController) full-page-list=false additional-success-telemetry=$ctrl.additionalSuccessTelemetry() additional-failure-telemetry=$ctrl.additionalFailureTelemetry(err)> <header ng-transclude=header> <live-event-item header-row=true> </live-event-item> </header> <item ng-transclude=item> <live-event-item class=video-item hide-creator=false video-item=item video-source=$ctrl.videoSource metrics=$ctrl.listEvents.itemsEvents></live-event-item> </item> <no-data-message ng-transclude=noDataMessage class=no-data-message ng-if=$ctrl.noDataMessage> <div class="row column"> <div class="no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.NoDataHeader}}</div> <p class=sub-text-container> {{$ctrl.noDataMessage}} </p> </div> </div> </no-data-message> </items-list> </div>'},"./app/components/LiveEventList/LiveEventList.less":function(e,t){},"./app/components/LiveEventList/LiveEventList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/LiveEventList/LiveEventListController.ts");function o(){this.controller=i.LiveEventListController,this.template=n("./app/components/LiveEventList/LiveEventList.html"),this.bindings={loadData:"&",onInit:"&",noDataMessage:"<",screenName:"<",groupId:"<",additionalSuccessTelemetry:"&",additionalFailureTelemetry:"&",me:"<",isAdminMode:"<",videoSource:"<"},this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"?item",filters:"?filters",pageTitle:"?pageTitle",header:"?header"}}n("./app/components/LiveEventList/LiveEventList.less"),t.LiveEventList=o,r.registerComponent("liveEventList",o,angular.module("jumper"))},"./app/components/LiveEventList/LiveEventListController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/ActivityIds.ts");n=n("./app/components/ItemsList/ListBase/ListBase.ts"),i(a,o=n.ListBase),a.prototype.loadDataPage=function(e,t){return this.loadData({skip:e,top:t})},a.prototype.onItemsListInit=function(e){this.itemsListController=e},a.prototype.onMoreDataLoad=function(e){this.prepareMessageAndInput(),this.dataLoaded=e,this.changedData=e},a.prototype.onDataChange=function(e){this.changedData=e,this.prepareMessageAndInput()},a.prototype.prepareMessageAndInput=function(){this.changedData&&0!==this.changedData.length?(this.noDataMessage="",this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!1)):(this.noDataMessage=this.resources.NoLiveEventsErrorMessage,this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!0))},a.$inject=["$scope","videoService","resources","telemetryService","$timeout"],i=a;function a(e,t,n,r){var i=o.call(this,e)||this;return i.$scope=e,i.videoService=t,i.resources=n,i.telemetryService=r,i.isVideoSearch=!0,i.invalidUrl=!1,i.isItemAlreadyExist=!1,i.getVideoBackEndError="",i.userClickedAddVideoAlready=!1,i.displayInputBox=!0,i.totalRecordLoaded=0,s.ActivityIds.initActivityId(i.screenName),i.$scope.$watch((function(){return i.dataLoaded}),(function(){return i.prepareMessageAndInput()})),i.$scope.$watch((function(){return i.changedData}),(function(){return i.prepareMessageAndInput()})),i.featureTelemetryTracker=i.telemetryService.getTracker(i.screenName),i}t.LiveEventListController=i},"./app/components/LiveUpdate/EncoderSetup/EncoderSetup.html":function(e,t){e.exports='<div class=encoder-setup-content ng-if=$ctrl.videoIngest> <div class=grey-bg-message-container> <div class=content> <a external-link class=c-hyperlink ng-href={{$ctrl.policyLink}} target=_blank ng-click=$ctrl.encoderNotesViewed()> {{::$ctrl.resources.EncoderSetupNotes}} </a> </div> </div> <div class=select-encoder> <label class="ct-label-compact select-encoder-label" for=encodersetupoptionsdropdown>{{::$ctrl.resources.SelectEncoder}}</label> <drop-down name=encodersetupoptionsdropdown class="select-encoder-dropdown ct-dropdown-compact" options=$ctrl.encoderDropDownOptions value=$ctrl.selectedEncoderOption value-changed=$ctrl.encoderChanged(newValue) aria-label={{::$ctrl.resources.LiveEventSelectEncoderAriaLabel}}></drop-down> </div> <div ng-if=$ctrl.manualEncoder> <div class=data-container> <ol class="bold-number margin-32"> <li class=setup-step-two step-prefix={{::$ctrl.resources.StepLabel}}> <strong class=bold-text>{{$ctrl.resources.EncoderSetupStepOneText}}</strong> </li> <li class=setup-step-two step-prefix={{::$ctrl.resources.StepLabel}}> <span>{{::$ctrl.resources.EncoderSetupManualSetupStepTwo}}</span> </li> <li class=setup-step-two step-prefix={{::$ctrl.resources.StepLabel}}> <strong class=bold-text>{{::$ctrl.resources.EncoderSetupStepThreeText}}</strong> </li> </ol> </div> <div class=secureConnection> <label class=secureConnectionLabel id=toggle-secure-connection> {{::$ctrl.resources.SecureConnection}} </label> <toggle name=toggle-secure-connection value=$ctrl.secureConnectionEnabled on-toggle-click=$ctrl.toggleSecureConnection() disabled=$ctrl.isSmoothSecureOnly /> </div> <div class=server-ingest-urls> <div class=ingest-urls> <div class=label-container> <label class=ct-label-compact for=primaryIngestURL>{{::$ctrl.resources.ServerIngestUrl}}</label> <tooltip message=$ctrl.resources.EncoderSetupPrimaryIngestTooltip button-aria-label={{::$ctrl.resources.EncoderSetupPrimaryIngestTooltipLabel}}></tooltip> </div> <div class=input-container> <input class="ct-textbox-compact server-ingest-url" type=text aria-required=true ng-model=$ctrl.primaryIngestUrl readonly=readonly id=primaryIngestURL /> <div ng-if=$ctrl.clipBoardSupported class=source-setup-copy-button> <div class=copied-overlay> <div class=copied ng-class="{\'hidden\': !$ctrl.isPrimaryButtonCopied}" aria-hidden=!$ctrl.isPrimaryButtonCopied>{{::$ctrl.resources.CopiedLabel}} </div> <button clipboard text=$ctrl.primaryIngestUrl id=primaryCopyButton class="stream-btn btn-secondary" ng-click=$ctrl.onPrimaryCopyClick()>{{::$ctrl.resources.CopyButtonLabel}} </button> </div> </div> </div> </div> <div class=encoder-setup aria-label={{$ctrl.advancedOptionLabel}}> <div ng-click=$ctrl.onAdvancedOptionsClick()> <hr class=c-divider /> <span>{{$ctrl.advancedOptionLabel}}</span> </div> </div> <div class=ingest-urls ng-if=!$ctrl.hideAdvancedOption> <div class=label-container> <label class=ct-label-compact for=secondaryIngestURL>{{::$ctrl.resources.SecondaryServerIngestUrl}}</label> <tooltip message=$ctrl.resources.EncoderSetupsecondaryIngestTooltip button-aria-label={{::$ctrl.resources.EncoderSetupsecondaryIngestTooltipLabel}}></tooltip> </div> <div class=input-container> <input class="ct-textbox-compact server-ingest-url" type=text aria-required=true ng-model=$ctrl.secondaryIngestUrl readonly=readonly id=secondaryIngestURL /> <div ng-if=$ctrl.clipBoardSupported class=source-setup-copy-button> <div class=copied-overlay> <div class=copied ng-class="{\'hidden\': !$ctrl.isSecondaryButtonCopied}" aria-hidden=!$ctrl.isSecondaryButtonCopied>{{::$ctrl.resources.CopiedLabel}} </div> <button clipboard text=$ctrl.secondaryIngestUrl id=secondaryCopyButton class="stream-btn btn-secondary" ng-click=$ctrl.onSecondaryCopyClick()>{{::$ctrl.resources.CopyButtonLabel}} </button> </div> </div> </div> </div> </div> </div> <div ng-if=$ctrl.selectedEncoder class=encoder-display> <div class=encoder-description-container> <span class=encoder-name-container> <svg-src svg-name={{$ctrl.selectedEncoder.logo}} class=encoder-icon inline-with-text=true ng-style="{ \'width\' :$ctrl.selectedEncoder.logoWidth }"></svg-src> <span class=encoder-name ng-if=$ctrl.selectedEncoder.showNameWithLogo>{{$ctrl.selectedEncoder.displayText}}</span> </span> <span> <span> {{$ctrl.selectedEncoder.description}} </span> <span> <a external-link class=c-hyperlink ng-href={{$ctrl.selectedEncoder.learnmore}} target=_blank>{{$ctrl.resources.LearnMore}}</a> </span> </span> </div> <div class=grey-bg-message-container ng-if=$ctrl.selectedEncoder.download> <div class=content> <a external-link class=c-hyperlink ng-href={{$ctrl.selectedEncoder.download}} target=_blank ng-click=$ctrl.encoderDownloaded()> {{::$ctrl.selectedEncoder.downloadMessage}} </a> </div> </div> <div class=grey-bg-message-container ng-if="$ctrl.selectedEncoder.name === $ctrl.wirecastEncoderType"> <div class=content> <button class=c-hyperlink ng-click=$ctrl.switchToWirecastS()>{{$ctrl.resources.EncoderSetupSwitchToWirecastS}}</button> </div> </div> <div class=data-container> <ol class=bold-number> <li class=setup-step-two step-prefix={{::$ctrl.resources.StepLabel}}> <strong class=bold-text>{{$ctrl.resources.EncoderSetupStepOneText}}</strong> </li> <li class=setup-step-two ng-if="$ctrl.selectedEncoder.props.type === $ctrl.softWareEncoder" step-prefix={{::$ctrl.resources.StepLabel}}> <a external-link class=c-hyperlink ng-href={{$ctrl.softwareLauchUrl($ctrl.selectedEncoder.props.launchUrl)}} target=_blank ng-click=$ctrl.softwareEncoderLaunchClicked()>{{$ctrl.resources.EncoderSetupLaunchEncoder}}</a> </li> <li class=setup-step-two ng-if="$ctrl.selectedEncoder.props.type === $ctrl.hardwareEncoder" step-prefix={{::$ctrl.resources.StepLabel}}> <button class=c-hyperlink ng-click=$ctrl.downloadPreset()>{{$ctrl.resources.EncoderSetupDownloadPreset}}</button> </li> <li class=setup-step-two ng-if="$ctrl.selectedEncoder.props.type === $ctrl.onlineEncoder" step-prefix={{::$ctrl.resources.StepLabel}}> <a external-link class=c-hyperlink ng-href={{$ctrl.onlineEncoderLink}} target=_blank ng-if=$ctrl.showLink ng-click=$ctrl.onlineEncoderSiteVisited()>{{$ctrl.selectedEncoder.props.generateString}}</a> </li> <li class=setup-step-two step-prefix={{::$ctrl.resources.StepLabel}}> <strong class=bold-text>{{::$ctrl.resources.EncoderSetupStepThreeText}}</strong> </li> </ol> </div> </div> </div> <div class="encoder-setup-content empty-state" ng-if=!$ctrl.videoIngest> <svg-src class=empty-state-icon svg-name=icon_info_balloon></svg-src> <span class=empty-state-message>{{::$ctrl.resources.EncoderSetupNotReadyMessage}}</span> </div>'},"./app/components/LiveUpdate/EncoderSetup/EncoderSetup.less":function(e,t){},"./app/components/LiveUpdate/EncoderSetup/EncoderSetup.ts":function(e,t,n){function r(){this.controller=o.EncoderSetupController,this.template=n("./app/components/LiveUpdate/EncoderSetup/EncoderSetup.html"),this.bindings={videoName:"<",videoId:"<",videoIngest:"<",commonTelemetryProps:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/EncoderSetup/EncoderSetup.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/EncoderSetup/EncoderSetupController.ts");t.EncoderSetup=r,i.registerComponent("encoderSetup",r,angular.module("jumper"))},"./app/components/LiveUpdate/EncoderSetup/EncoderSetupController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/LiveEventUtils.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.setEnabledEncoders=function(){var e=this,t=(t=(t=this.navigationService.getQueryParams())&&t.encoders?t.encoders:portalConfiguration.EnabledEncoders)?t.split(","):[];_.forEach(t,(function(t){var n=e.availableEncoders[t];n&&e.encoderDropDownOptions.push({text:n.displayText,value:t})}))},a.prototype.encoderChanged=function(e){var t=this;this.showLink=!1,this.secureConnectionEnabled=!1,e===r.Constants.Encoders.ManuallyEncoder.type?(this.selectedEncoderOption=r.Constants.Encoders.ManuallyEncoder.type,this.selectedEncoder=null):this.availableEncoders[e]&&(this.selectedEncoderOption=e,this.selectedEncoder=this.availableEncoders[e],this.encoderChangeTrackingTimeout&&clearTimeout(this.encoderChangeTrackingTimeout),this.encoderChangeTrackingTimeout=window.setTimeout((function(){t.commonTelemetryProps.encoderSelected=e,t.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.producerEncoderSelected,t.commonTelemetryProps)}),this.sendEncoderSelectionTelemetryTimeout)),this.encoderSetupProperties.encodersViewed+=this.selectedEncoderOption+",",setTimeout((function(){t.showLink=!0}))},Object.defineProperty(a.prototype,"policyLink",{get:function(){return r.Constants.LiveEncoderLearnMoreLink},enumerable:!0,configurable:!0}),a.prototype.encoderNotesViewed=function(){this.encoderSetupProperties.setUpNotesViewed=!0},Object.defineProperty(a.prototype,"manualEncoder",{get:function(){return this.selectedEncoderOption===r.Constants.Encoders.ManuallyEncoder.type},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"primaryIngestUrl",{get:function(){return this.getIngestUrl(r.Constants.VideoIngestType.primary)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"secondaryIngestUrl",{get:function(){return this.getIngestUrl(r.Constants.VideoIngestType.secondary)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isPrimaryButtonCopied",{get:function(){var e=this;return this.primaryCopied&&(this.$element.find("#primaryCopyButton").focus(),this.$timeout((function(){e.primaryCopied=!1}),this.copiedStayTime)),this.primaryCopied},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSecondaryButtonCopied",{get:function(){var e=this;return this.secondaryCopied&&(this.$element.find("#secondaryCopyButton").focus(),this.$timeout((function(){e.secondaryCopied=!1}),this.copiedStayTime)),this.secondaryCopied},enumerable:!0,configurable:!0}),a.prototype.toggleSecureConnection=function(){this.secureConnectionEnabled=!this.secureConnectionEnabled,this.encoderSetupProperties.secureIngest=this.secureConnectionEnabled},a.prototype.getIngestUrl=function(e){var t,n=this;return this.videoIngest&&this.videoIngest.ingestUrls&&(t=_.find(this.videoIngest.ingestUrls,(function(t){return n.videoIngest.sourceFormat===r.Constants.IngestRTMP?t.protocol===(n.secureConnectionEnabled||n.selectedEncoder&&n.selectedEncoder.useSecure?r.Constants.VideoIngestProtocol.rtmps:r.Constants.VideoIngestProtocol.rtmp)&&t.type===e:(n.secureConnectionEnabled=!0,t.protocol===r.Constants.VideoIngestProtocol.https&&t.type===e)}))),t?t.url:null},Object.defineProperty(a.prototype,"eventUrl",{get:function(){return i.formatString(this.navigationService.getAbsUrl(),this.videoId)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSmoothSecureOnly",{get:function(){return this.videoIngest.sourceFormat!=r.Constants.IngestRTMP},enumerable:!0,configurable:!0}),a.prototype.downloadPreset=function(){var e,t;this.selectedEncoder.name===r.Constants.Encoders.KBEncoder.type?(e="preset.json",t=new Blob([o.getKBEncoderConfig(this.videoName,this.primaryIngestUrl,this.secondaryIngestUrl)],{type:"application/json"})):this.selectedEncoder.name===r.Constants.Encoders.MakitoX.type&&(e="preset.cfg",t=new Blob([o.getMakitoEncoderConfig(this.videoName,this.primaryIngestUrl,this.secondaryIngestUrl)],{type:"text/plain"})),t&&(this.mediaDownloaderService.saveDataAsFile(t,e),this.encoderSetupProperties.downloadPresetsClicked+=this.selectedEncoder.displayText+",",this.sendEncoderUsedEvent())},a.prototype.softwareLauchUrl=function(e){return i.formatString(e,this.primaryIngestUrl)},Object.defineProperty(a.prototype,"onlineEncoderLink",{get:function(){var e="";return this.selectedEncoder.name===r.Constants.Encoders.SwitcherStudio.type?e=i.formatString(this.selectedEncoder.props.onlineUrl,this.videoName||"Stream live video",this.primaryIngestUrl):this.selectedEncoder.name===r.Constants.Encoders.LiveArenaBroadcastRoom.type?e=i.formatString(this.selectedEncoder.props.onlineUrl,this.primaryIngestUrl,this.videoId,this.eventUrl):this.selectedEncoder.name===r.Constants.Encoders.StreamSRT.type&&(e=i.formatString(this.selectedEncoder.props.onlineUrl,this.serviceRegion,this.primaryIngestUrl,this.secondaryIngestUrl,this.videoId,this.eventUrl)),e},enumerable:!0,configurable:!0}),a.prototype.switchToWirecastS=function(){this.encoderChanged("wirecasts")},a.prototype.onlineEncoderSiteVisited=function(){this.encoderSetupProperties.onlineEncodersVisited+=this.selectedEncoder.displayText+",",this.sendEncoderUsedEvent()},a.prototype.softwareEncoderLaunchClicked=function(){this.encoderSetupProperties.launchEncodersClicked+=this.selectedEncoder.displayText+",",this.sendEncoderUsedEvent()},a.prototype.encoderDownloaded=function(){this.encoderSetupProperties.downloadEncoderClicked=!0,this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.wireCastSDownloaded)},a.prototype.learnAboutEncoderClicked=function(){this.encoderSetupProperties.learnMoreAboutEncodersClicked+=this.selectedEncoder.displayText+","},a.prototype.onAdvancedOptionsClick=function(){var e=this;this.hideAdvancedOption=!this.hideAdvancedOption,this.hideAdvancedOption?this.advancedOptionLabel=this.resources.SetupLiveEventAdvancedOptions:this.advancedOptionLabel=this.resources.SetupLiveEventAdvancedOptionsExpanded,setTimeout((function(){e.$element.find(".advanced-option").focus()}),0)},a.prototype.onPrimaryCopyClick=function(){this.primaryCopied=!0},a.prototype.onSecondaryCopyClick=function(){this.secondaryCopied=!0},a.prototype.sendTelemetryEvents=function(){this.telemetryService.getTracker().trackEvent(s.TelemetryEventNames.EncoderSetupSummary,this.encoderSetupProperties)},a.prototype.sendEncoderUsedEvent=function(){var e=angular.copy(this.telemetryEvent);e.encoderName=this.selectedEncoder.name.toString(),this.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.encoderSetupUsed,e)},a.$inject=["resources","mediaDownloaderService","navigationService","telemetryService","$scope","$timeout","$element","$window"],n=a;function a(e,t,n,i,o,s,a,l){var c=this;this.resources=e,this.mediaDownloaderService=t,this.navigationService=n,this.telemetryService=i,this.$scope=o,this.$timeout=s,this.$element=a,this.$window=l,this.enabledEncoders=[],this.encoderDropDownOptions=[{value:r.Constants.Encoders.ManuallyEncoder.type,text:this.resources.DefaultSelectEncoder}],this.secureConnectionEnabled=!1,this.clipBoardSupported=!0,this.hardwareEncoder=r.Constants.EncodingTypes.hardware,this.softWareEncoder=r.Constants.EncodingTypes.software,this.onlineEncoder=r.Constants.EncodingTypes.online,this.primaryCopied=!1,this.secondaryCopied=!1,this.sendEncoderSelectionTelemetryTimeout=1e4,this.copiedStayTime=3e3,this.showLink=!0,this.wirecastEncoderType=r.Constants.Encoders.Wirecast.type,this.hideAdvancedOption=!0,this.advancedOptionLabel=this.resources.SetupLiveEventAdvancedOptions,this.telemetryEvent={encoderName:null},this.encoderSetupProperties={encodersViewed:"",launchEncodersClicked:"",downloadEncoderClicked:!1,downloadPresetsClicked:"",onlineEncodersVisited:"",setUpNotesViewed:!1,secureIngest:!1,learnMoreAboutEncodersClicked:""},this.availableEncoders={wirecast:{name:r.Constants.Encoders.Wirecast.type,displayText:r.Constants.Encoders.Wirecast.displayText,description:this.resources.EncoderSetupWirecastDescription,logo:"icon_wirecast",logoWidth:"32px",showNameWithLogo:!0,learnmore:"https://go.microsoft.com/fwlink/?linkid=2004488",useSecure:!0,props:{type:r.Constants.Encoders.Wirecast.encodingType,launchUrl:"wirecast://cout?url={0}"}},wirecasts:{name:r.Constants.Encoders.WirecastS.type,displayText:r.Constants.Encoders.WirecastS.displayText,description:this.resources.EncoderSetupWirecastSDescription,logo:"icon_wirecast_s",logoWidth:"32px",showNameWithLogo:!0,learnmore:"https://go.microsoft.com/fwlink/?linkid=2004589",download:"https://go.microsoft.com/fwlink/?linkid=2004487",downloadMessage:this.resources.EncoderSetupWirecastSDownload,useSecure:!0,props:{type:r.Constants.Encoders.WirecastS.encodingType,launchUrl:"wirecasts://cout?url={0}"}},kbencoder:{name:r.Constants.Encoders.KBEncoder.type,displayText:r.Constants.Encoders.KBEncoder.displayText,description:this.resources.EncoderSetupKBEncoderDescription,logo:"icon_kb_encoder",logoWidth:"195px",learnmore:"https://go.microsoft.com/fwlink/?linkid=2005505",useSecure:!1,props:{type:r.Constants.Encoders.KBEncoder.encodingType}},makitox:{name:r.Constants.Encoders.MakitoX.type,displayText:r.Constants.Encoders.MakitoX.displayText,description:this.resources.EncoderSetupMakitoXEncoderDescription,logo:"icon_makito_encoder",logoWidth:"244px",learnmore:"https://go.microsoft.com/fwlink/?linkid=2005505",useSecure:!1,props:{type:r.Constants.Encoders.MakitoX.encodingType}},switcherstudio:{name:r.Constants.Encoders.SwitcherStudio.type,displayText:r.Constants.Encoders.SwitcherStudio.displayText,description:this.resources.EncoderSetupSwitcherStudioDescription,logo:"icon_switcher_studio",logoWidth:"31px",showNameWithLogo:!0,learnmore:"https://go.microsoft.com/fwlink/?linkid=2005506",useSecure:!1,props:{type:r.Constants.Encoders.SwitcherStudio.encodingType,generateString:this.resources.EncoderSetupSwitcherStudioGenerate,onlineUrl:"https://dashboard.switcherstudio.com/providers/5B8A6C1A-3537-4564-98A8-84124B3DED38/channels/add?streamName={0}&streamUrl={1}&streamKey=stream"}},livearenabroadcastroom:{name:r.Constants.Encoders.LiveArenaBroadcastRoom.type,displayText:r.Constants.Encoders.LiveArenaBroadcastRoom.displayText,description:this.resources.EncoderSetupLiveArenaBroadcastRoomDescription,logo:"icon_livearena_encoder",logoWidth:"75px",learnmore:"https://go.microsoft.com/fwlink/?linkid=2005404",useSecure:!1,props:{type:r.Constants.Encoders.LiveArenaBroadcastRoom.encodingType,generateString:this.resources.EncoderSetupLiveArenaBroadcastRoomGenerate,onlineUrl:"http://externaleventpinweb.azurewebsites.net/?rtmp={0}&event_id={1}&event_uri={2}"}},streamsrt:{name:r.Constants.Encoders.StreamSRT.type,displayText:r.Constants.Encoders.StreamSRT.displayText,description:this.resources.EncoderSetupStreamSRTEncoderDescription,logo:"icon_srt_encoder",logoWidth:"213px",learnmore:"https://go.microsoft.com/fwlink/?linkid=2005505",useSecure:!0,props:{type:r.Constants.Encoders.StreamSRT.encodingType,generateString:this.resources.EncoderSetupStreamSRTEncoderGenerate,onlineUrl:"https://www.streamsrt.io/events/create?source=stream&region={0}&primary={1}&secondary={2}&event_id={3}&event_uri={4}"}}},this.setEnabledEncoders(),this.selectedEncoderOption=r.Constants.Encoders.ManuallyEncoder.type,this.clipBoardSupported=document.queryCommandSupported&&document.queryCommandSupported("copy"),this.featureTelemetryTracker=this.telemetryService.getTracker(),l=this.sendTelemetryEvents.bind(this),sessionInfo&&sessionInfo.ServiceRegion&&(this.serviceRegion=sessionInfo.ServiceRegion.replace(/\s/g,"").toLocaleLowerCase()),this.$window.addEventListener("beforeunload",l),this.$scope.$on("$destroy",(function(e){c.sendTelemetryEvents()}))}t.EncoderSetupController=n},"./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartner.html":function(e,t){e.exports='<div class=encoder-setup-content ng-if=$ctrl.videoIngest> {{::$ctrl.resources.EncoderSetupPartnerText}} <a href={{::$ctrl.videoEditUrl}} external-link class=c-hyperlink>{{::$ctrl.resources.EncoderSetupPartnerLink}}</a> </div> <div class="encoder-setup-content empty-state" ng-if=!$ctrl.videoIngest> <svg-src class=empty-state-icon svg-name=icon_info_balloon role=presentation></svg-src> <span class=empty-state-message>{{::$ctrl.resources.EncoderSetupNotReadyMessage}}</span> </div> '},"./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartner.less":function(e,t){},"./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartner.ts":function(e,t,n){function r(){this.controller=o.EncoderSetupPartnerController,this.template=n("./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartner.html"),this.bindings={videoId:"<",videoEditUrl:"<",videoIngest:"<",commonTelemetryProps:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartner.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartnerController.ts");t.EncoderSetupPartner=r,i.registerComponent("encoderSetupPartner",r,angular.module("jumper"))},"./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartnerController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.$inject=["videoService","resources","$scope"],r);function r(e,t,n){var r=this;this.videoService=e,this.resources=t,this.$scope=n,this.videoService.get(this.videoId,!1,!0).then((function(e){e.data&&(e=e.data,r.videoEditUrl=null==e.creatorApplication?null:e.creatorApplication.externalUrl)})),this.videoService.getIngest(this.videoId,!1).then((function(e){r.videoIngest=e.data}))}t.EncoderSetupPartnerController=n},"./app/components/LiveUpdate/LiveCreatePage/LiveCreatePage.html":function(e,t){e.exports="<live-edit video=$ctrl.video ng-if=$ctrl.video ng-show=$ctrl.videoEditorInactive video-created=$ctrl.videoCreated(id) me=$ctrl.me producer-session-id=$ctrl.producerSessionId></live-edit>"},"./app/components/LiveUpdate/LiveCreatePage/LiveCreatePage.less":function(e,t){},"./app/components/LiveUpdate/LiveCreatePage/LiveCreatePage.ts":function(e,t,n){function r(){this.controller=o.LiveCreatePageController,this.template=n("./app/components/LiveUpdate/LiveCreatePage/LiveCreatePage.html"),this.bindings={videoId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/LiveCreatePage/LiveCreatePage.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/LiveCreatePage/LiveCreatePageController.ts");t.LiveCreatePage=r,i.registerComponent("liveCreatePage",r,angular.module("jumper"))},"./app/components/LiveUpdate/LiveCreatePage/LiveCreatePageController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/appUtil.ts");a.prototype.videoCreated=function(e){e&&this.$location.search(r.Constants.QueryStringKeys.vid,e)},a.prototype.CreateNewVideoBody=function(){var e=this;this.video={id:r.Constants.preCreationVideoId,contentType:r.Constants.VideoContentType.generic,contentSource:r.Constants.VideoContentSource.liveStream,privacyMode:this.featureFlagsService.Values.DefaultPrivacyModeTenantSetting&&this.defaultPrivacyMode||r.Constants.privacyMode.organization,options:{allowComments:!0,faceDetection:!0}},this.defaultLanguage?(this.video.language=this.defaultLanguage,this.videoService.getSupportedAutoTranscriptLanguages().then((function(t){-1<t.data.languages.indexOf(e.defaultLanguage)&&(e.video.options.autoGeneratedCaption=!0)})).finally((function(){e.InitializeLiveEvent()}))):this.InitializeLiveEvent()},a.prototype.InitializeLiveEvent=function(){this.video.liveEvent={startTime:"",endTime:""},this.featureFlagsService.Values.LiveEventOptions&&(this.video.liveEvent.liveEventOptions={onDemandOptions:{enablePlayback:!0,enableDownload:!0,endEventMessage:null}})},a.$inject=["$window","$scope","$q","$location","principalService","tenantService","defaultVideoLanguageDialog","companyPolicyDialog","telemetryService","featureFlagsService","navigationService","resources","videoService"],n=a;function a(e,t,n,a,l,c,d,u,p,m,h,g,f){var v=this;this.$window=e,this.$scope=t,this.$q=n,this.$location=a,this.principalService=l,this.tenantService=c,this.defaultVideoLanguageDialog=d,this.companyPolicyDialog=u,this.telemetryService=p,this.featureFlagsService=m,this.navigationService=h,this.resources=g,this.videoService=f,this.videoEditorInactive=!0,this.featureTelemetryTracker=this.telemetryService.getTracker(i.ScreenName.CreateLive),this.featureTelemetryTracker.tagScreen(),this.producerSessionId=s.generateGuid();var y=this.$location.search().vid;y&&setTimeout((function(){v.navigationService.navigate(o.formatString(r.Constants.Routes.Update,y))}),0),this.$scope.$on(r.Constants.Events.videoEditorLoaded,(function(){v.videoEditorInactive=!1})),this.$scope.$on(r.Constants.Events.videoEditorClosed,(function(){v.videoEditorInactive=!0})),g=this.tenantService.getSettings().then((function(e){v.featureTelemetryTracker.succeed(i.FeatureName.GetUploadPermissions),v.defaultPrivacyMode=e&&e.data&&e.data.system.contentManagement.defaultVideoPrivacyMode,v.policyNeeded=_.get(e.data,"system.contentManagement.companyUploadPolicy.acknowledgementRequired",!1),v.policyUrl=o.htmlDecode(_.get(e.data,"system.contentManagement.companyUploadPolicy.url",""))}),(function(e){v.policyNeeded=!1,v.featureTelemetryTracker.fail(i.FeatureName.GetUploadPermissions,i.SubFeatureName.TenantService_GetTenantSettings,e)})),f=this.principalService.getMyPrincipalInfo().then((function(e){v.featureTelemetryTracker.succeed(i.FeatureName.GetPrincipalSettings),v.me=e.data,v.policyAcknowledged=_.get(v.me,"settings.system.contentManagement.companyUploadPolicy.acknowledged",!1)}),(function(e){v.featureTelemetryTracker.fail(i.FeatureName.GetPrincipalSettings,i.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})),this.$q.all([f,g]).then((function(){v.me.settings.general.hideDefaultVideoLanguageDialog?(v.defaultLanguage=v.me.settings.general.defaultVideoLanguage,v.CreateNewVideoBody()):v.defaultVideoLanguageDialog.open().closePromise.then((function(e){v.defaultLanguage=_.get(e,"value.lang",null),v.CreateNewVideoBody()})),v.policyAcknowledgedNeeded=v.policyNeeded&&!v.policyAcknowledged,v.policyAcknowledgedNeeded&&v.companyPolicyDialog.open(v.resources.LiveEventAcceptPolicyHeading,v.policyUrl,null).closePromise.then((function(e){v.policyAcknowledged=!0,v.policyAcknowledgedNeeded=!1}))})),setTimeout((function(){v.$window.document.title=v.resources.BrowserTitle.ProducerCreate}),0)}t.LiveCreatePageController=n},"./app/components/LiveUpdate/LiveEdit/LiveEdit.html":function(e,t){e.exports='<live-preview-bar ng-if=!$ctrl.isLiveGAEnabled></live-preview-bar> <copyright-banner ng-class="{\'lower-copyright-banner\': $ctrl.shouldLowerPageForBanner}" company-policy-address=$ctrl.companyPolicyAddress></copyright-banner> <div class="container video live-edit"> <div class=main-area> <div class=video-player-container dir=ltr> <div class=row> <div class="column xsmall-12 small-12 medium-12 large-8"> <div class=player-container> <div class="header-container live-player-header-container"> <span class=live-player-header ng-if="!$ctrl.liveEventCompleted && $ctrl.onLiveCreatePage">{{::$ctrl.resources.LivePageProducerView}}</span> <div class=live-return-to-page> <a external-link ng-if=$ctrl.liveEventCompleted ng-href={{::$ctrl.audienceViewLink}} target=_blank class=c-hyperlink>&#8592; {{::$ctrl.resources.LiveEventReTurnToVideoPageLabel}}</a> </div> <div id=live-header-audience-toggle class=live-header-audience-toggle ng-if=$ctrl.showAudiencePlayerToggle> <a external-link ng-href={{::$ctrl.audienceViewLink}} target=_blank class=c-hyperlink>{{::$ctrl.resources.LiveEventAudienceViewToggleLabel}}</a> <toggle class=audience-player-toggle name=audience-player-toggle value=$ctrl.showAudiencePlayer on-toggle-click=$ctrl.toggleAudiencePlayer() hide-labels=true toggle-label=audience-player-toggle> </toggle> </div> </div> <div class=player-container-wrapper169> <ended-live-player-overlay video=$ctrl.video message=$ctrl.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage ng-if=$ctrl.shouldShowEndEventMessage> </ended-live-player-overlay> <video-player-view video=$ctrl.savedVideo video-item=$ctrl.video video-ingest=$ctrl.videoIngest video-tokens=$ctrl.videoTokens is-producer-view=true is-partner=$ctrl.isPartner video-edit-state-info=$ctrl.videoEditStateInfo on-init="$ctrl.onInit({ getCurrentTime: getCurrentTime })" producer-session-id=$ctrl.producerSessionId is-completed-on-load=$ctrl.liveEventCompleted is-replacing=$ctrl.isReplacing ng-if=!$ctrl.shouldShowEndEventMessage on-audience-did-reach-end-of-vodless-playback=$ctrl.onAudienceDidReachEndOfVodlessPlayback()> </video-player-view> </div> </div> <div id=live-info-container class=live-info-container ng-class=$ctrl.healthClass> <div class="navigation-bar row column"> <tab-navigation model=$ctrl.tabOptions value=$ctrl.selectedTabOption on-select=$ctrl.tabSelected(value)></tab-navigation> <flex-drawer ng-if=$ctrl.eventSetupSelected class=action-drawer flex-mode=false drawer-items=$ctrl.drawerItems show-label=false></flex-drawer> </div> <section role=region class="section-size3 page-section" aria-label={{$ctrl.resources.LiveEvent.Tabs.SourceSetup}} ng-class="{\'new-list-page-style\' : $ctrl.videosSelected && $ctrl.newVideoListStyleEnabled}" ng-show=$ctrl.sourceSetupSelected aria-hidden="{{$ctrl.sourceSetupSelected ? false : true}}"> <div class="row row-size1 column"> <div class=items-list> <source-setup ng-if=!$ctrl.newEncoderListEnabled video-ingest=$ctrl.videoIngest common-telemetry-props=$ctrl.liveEditTelemetryProperties> </source-setup> <encoder-setup-partner ng-if=$ctrl.isPartner video-id=$ctrl.video.id> </encoder-setup-partner> <encoder-setup ng-if="!$ctrl.isPartner && $ctrl.newEncoderListEnabled" video-name=$ctrl.video.name video-id=$ctrl.video.id service-region=$ctrl.serviceRegion video-ingest=$ctrl.videoIngest common-telemetry-props=$ctrl.liveEditTelemetryProperties> </encoder-setup> </div> </div> </section> <section role=region class="section-size3 page-section" aria-label={{$ctrl.resources.LiveEvent.Tabs.Analytics}} ng-if=$ctrl.analyticsSelected> <div class="row row-size1 column"> <video-analytics video=$ctrl.video video-tokens=$ctrl.videoTokens video-edit-state-info=$ctrl.videoEditStateInfo is-producer=true> </video-analytics> </div> </section> <section role=region class="section-size3 page-section" aria-label={{$ctrl.resources.LiveEventTabsHealth}} ng-if=$ctrl.healthSelected> <div class="row row-size1 column"> <live-health-status health-class=$ctrl.healthClass></live-health-status> </div> </section> <section role=region class="section-size3 page-section" aria-label={{$ctrl.resources.LivePage.EventSetup}} ng-show=$ctrl.eventSetupSelected aria-hidden="{{$ctrl.eventSetupSelected ? false : true}}"> <div id=event-setup-bottom-tab class="row row-size1 column"> </div> </section> </div> </div> <div id=player-right-container class="column xsmall-12 small-12 medium-12 large-4"> <div class="audience-player-preview player-container-wrapper169" ng-if="$ctrl.showAudiencePlayerToggle && $ctrl.showAudiencePlayer"> <ended-live-player-overlay message=$ctrl.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage ng-if=$ctrl.shouldShowEndEventMessage> </ended-live-player-overlay> <video-player-view video=$ctrl.savedVideo video-item=$ctrl.video video-tokens=$ctrl.videoTokens video-edit-state-info=$ctrl.videoEditStateInfo default-muted=true ng-if=!$ctrl.shouldShowEndEventMessage on-audience-did-reach-end-of-vodless-playback=$ctrl.onAudienceDidReachEndOfVodlessPlayback()> </video-player-view> </div> <div class=live-meta-container> <div class="header-container live-meta-header-container"> <span class=live-meta-header>{{$ctrl.displayTitle}}</span> <flex-drawer class=action-drawer flex-mode=false drawer-items=$ctrl.drawerItems show-label=false></flex-drawer> </div> <div id=event-setup-container class=event-setup-container> <div class=edit-in-other-app-container ng-if=$ctrl.shouldEditInOtherApp ng-switch=$ctrl.editInOtherApp> <div ng-switch-when=0 class=edit-in-other-app-label> <span class=edit-in-other-app-title>{{::$ctrl.resources.LiveOtherServiceEvent}}</span> <span class=edit-in-other-app-text> {{::$ctrl.resources.LiveOtherServiceEventText}} </span> <span class=edit-in-other-app-link> <a external-link ng-href={{::$ctrl.editInOtherAppsLink}} class=c-hyperlink ng-click=$ctrl.editInOtherAppLinkClicked() target=_blank>{{::$ctrl.resources.LiveOtherEventLink}}</a> </span> </div> <div ng-switch-when=1 class=edit-in-other-app-label> <span class=edit-in-other-app-title>{{::$ctrl.resources.LiveTeamsEvent}}</span> <span class=edit-in-other-app-text> {{::$ctrl.resources.LiveTeamsEventText}} </span> <span class=edit-in-other-app-link> <a external-link ng-href={{::$ctrl.editInOtherAppsLink}} class=c-hyperlink ng-click=$ctrl.editInOtherAppLinkClicked() target=_blank>{{::$ctrl.resources.LiveTeamsEventLink}}</a> </span> </div> <div ng-switch-when=2 class=edit-in-other-app-label> <span class=edit-in-other-app-title>{{::$ctrl.resources.LiveYammerEvent}}</span> <span class=edit-in-other-app-text> {{::$ctrl.resources.LiveYammerEventText}} </span> <span class=edit-in-other-app-link> <a external-link ng-href={{::$ctrl.editInOtherAppsLink}} class=c-hyperlink ng-click=$ctrl.editInOtherAppLinkClicked() target=_blank>{{::$ctrl.resources.LiveYammerEventLink}}</a> </span> </div> </div> <video-edit video=$ctrl.video creator="$ctrl.video.creator || $ctrl.me" is-in-admin-mode=$ctrl.isInAdminMode video-edit-state-info=$ctrl.videoEditStateInfo form-name={{::$ctrl.formName}} ng-if="$ctrl.video && !$ctrl.shouldEditInOtherApp" summary-metrics=$ctrl.uploadSummaryMetrics summary-properties=$ctrl.uploadSummaryProperties auto-save=false video-created=$ctrl.onVideoCreated(id) failed-message=$ctrl.errorMessage video-saved=$ctrl.onVideoSaved(video)> </video-edit> </div> </div> </div> </div> </div> </div> </div>'},"./app/components/LiveUpdate/LiveEdit/LiveEdit.less":function(e,t){},"./app/components/LiveUpdate/LiveEdit/LiveEdit.ts":function(e,t,n){function r(){this.controller=o.LiveEditController,this.template=n("./app/components/LiveUpdate/LiveEdit/LiveEdit.html"),this.bindings={video:"<",videoCreated:"&",me:"<",producerSessionId:"<",isInAdminMode:"<",displayTitle:"<",isPartner:"<",isReplacing:"<",loadAdminMode:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/LiveEdit/LiveEdit.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/LiveEdit/LiveEditController.ts");t.LiveEdit=r,i.registerComponent("liveEdit",r,angular.module("jumper"))},"./app/components/LiveUpdate/LiveEdit/LiveEditController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/LiveEventUtils.ts"),a=n("./app/utility/string.ts"),l=n("./app/utility/Constants.ts"),c=n("./common/Directives/Drawer/Drawer.ts"),d=n("./app/utility/LiveEventUtils.ts");function u(e,t,n,r,s,a,c,d,u,p,m,h,g,f,v,y,b,S,C,$){var w=this;function M(){w.screenWidth=w.$window.innerWidth,w.screenWidth<l.Constants.ScreenBreakpoints.Large&&!w.isNarrowMode?w.moveDetailsToBottom():w.screenWidth>=l.Constants.ScreenBreakpoints.Large&&w.isNarrowMode&&w.moveDetailsToRight()}this.$scope=e,this.videoService=t,this.resources=n,this.telemetryService=r,this.featureFlagsService=s,this.navigationService=a,this.videoShareDialog=c,this.$window=d,this.$location=u,this.deleteConfirmationDialogService=p,this.principalService=m,this.$timeout=h,this.mediaDownloaderService=g,this.inAdminModeService=f,this.thumbnailService=v,this.$element=y,this.$q=b,this.replaceVideoService=S,this.tenantService=C,this.dataShareService=$,this.playerOptions={playbackUrls:null},this.editInOtherApp=i.other,this.showAudiencePlayer=!1,this.uploadProgress=0,this.processProgress=0,this.audienceDidReachEndOfVodlessPlayback=!1,this.isPartner=!1,this.isReplacing=!1,this.companyPolicyAddress="",this.notificationsPresent=!1,this.isNarrowMode=!1,this.editInOtherTelemetryEventName=o.TelemetryEventNames.editInOtherAppClicked,this.elevatedVideoSessionProperties={titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",error:!1,userViewedVideoAsAdmin:!1,userLikedVideoAsAdmin:!1,userUnlikedVideoAsAdmin:!1,userPinnedVideoAsAdmin:!1,userUnpinnedVideoAsAdmin:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1},this.uploadSummaryProperties={source:l.Constants.videoUploadSource.browser,titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",fileExtension:"",error:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1,contentSource:this.video.contentSource,videoId:this.video?this.video.id:"",isLiveStartNow:!1,producerSessionId:this.producerSessionId},this.liveEditTelemetryProperties={videoId:_.get(this.video,"id",""),state:_.get(this.video,"state",""),producerSessionId:this.producerSessionId,serverIngestUrl:""},this.uploadSummaryMetrics={msUntilThumbnailGenerated:0,msUntilUploadComplete:0,fileSize:0,permissionsTotalPermission:0,permissionsTotalPrivateChannels:0,permissionsTotalPublicChannels:0,permissionsChannelsAdded:0,permissionsGroupsAdded:0,permissionsPrincipalsAdded:0},this.telemetrySummarySent=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.LiveUpdate),this.videoEditStateInfo={videoState:this.video.id===l.Constants.preCreationVideoId?l.Constants.VideoState.creating:this.video.state,collapseAccordion:!1,newlyUploadedItem:this.video.id===l.Constants.preCreationVideoId},this.tenantService.getSettings().then((function(e){w.companyPolicyAddress=_.get(e.data,"system.contentManagement.companyUploadPolicy.url","")}),(function(e){w.featureTelemetryTracker.fail(o.FeatureName.GetUploadPermissions,o.SubFeatureName.TenantService_GetTenantSettings,e)})),this.savedVideo=angular.copy(this.video),this.editInOtherApp=i.other,this.formName="form"+this.video.id.replace(/-/g,""),this.initTabOptions(),this.setupDrawerItems(),this.featureFlagsService.Values.DataUsageNotifications&&this.$scope.$watch((function(){return w.dataShareService.notifications}),(function(){w.notificationsPresent=_.isArray(w.dataShareService.notifications)&&0<w.dataShareService.notifications.length})),this.$scope.$watch((function(){return w.videoEditStateInfo.videoState}),(function(e,t){e&&e!==t&&(w.setupDrawerItems(),w.updateTabOptions())})),this.$scope.$watch((function(){return w.videoEditStateInfo.isVideoHealthy}),(function(){w.updateHealthTabIcon()})),this.$scope.$watch((function(){return w.isReplacing}),(function(e,t){e&&e!==t&&(w.setupDrawerItems(),w.updateTabOptions())})),this.$window.addEventListener("resize",M),this.$scope.$on(l.Constants.Events.videoPublished,(function(e,t){e.targetScope!==w.$scope&&t&&t.id===w.video.id&&w.$scope.$broadcast(l.Constants.Events.videoPublished,{id:w.video.id})})),this.$scope.$on("$destroy",(function(e){w.sendTelemetryEvents(),w.$window.removeEventListener("resize",M),w.$window.removeEventListener("beforeunload",T)})),this.$timeout((function(){var e;"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!0,!0),w.$window.dispatchEvent(e)}));var T=this.sendTelemetryEvents.bind(this);this.$window.addEventListener("beforeunload",T),this.video.liveEvent&&this.video.liveEvent.encoderSource&&!this.me.permissions.canManageStream&&this.$scope.$evalAsync((function(){w.isPartner=w.video.liveEvent.encoderSource==l.Constants.LiveEventEncoderSourceForTeams})),this.$scope.$watch((function(){return w.videoIngest}),(function(){w.videoIngest&&(w.videoEditStateInfo.mainIngestUrl=_.some(w.videoIngest.ingestUrls)?_.first(w.videoIngest.ingestUrls).url:"",w.liveEditTelemetryProperties.serverIngestUrl=w.videoEditStateInfo.mainIngestUrl)})),this.$scope.$watch((function(){return w.video}),(function(){w.video&&(w.liveEditTelemetryProperties.videoId=w.video.id)}),!0),this.$location.search().open==l.Constants.Events.ReplaceVideo&&this.onReplaceClick()}(n=r=t.TypeFilter||(t.TypeFilter={}))[n.SourceSetup=0]="SourceSetup",n[n.Analytics=1]="Analytics",n[n.EventSetup=2]="EventSetup",n[n.Health=3]="Health",(n=i=t.ClientAppType||(t.ClientAppType={}))[n.other=0]="other",n[n.teams=1]="teams",n[n.yammer=2]="yammer",u.prototype.sendTelemetryEvents=function(){this.telemetrySummarySent||(this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.producerSummary,this.uploadSummaryProperties,this.uploadSummaryMetrics),this.telemetrySummarySent=!0)},Object.defineProperty(u.prototype,"sourceSetupSelected",{get:function(){return this.selectedTabOption===r.SourceSetup},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"shouldEditInOtherApp",{get:function(){if(this.video.creatorApplication){var e=this.video.creatorApplication.applicationId;if(this.video.creatorApplication.onBehalfOfApplicationId&&(e=this.video.creatorApplication.onBehalfOfApplicationId),this.video.creatorApplication.accessMode===l.Constants.VideoCreatorAccessMode.exclusive&&e!==sessionInfo.ClientAppId)return e===l.Constants.ClientApplicationId.Teams?(this.editInOtherApp=i.teams,this.editInOtherTelemetryEventName=o.TelemetryEventNames.editInTeamsClicked):e===l.Constants.ClientApplicationId.Yammer&&(this.editInOtherApp=i.yammer,this.editInOtherTelemetryEventName=o.TelemetryEventNames.editInYammerClicked),!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editInOtherAppsLink",{get:function(){return this.shouldEditInOtherApp?this.video.creatorApplication.externalUrl:null},enumerable:!0,configurable:!0}),u.prototype.editInOtherAppLinkClicked=function(){this.featureTelemetryTracker.trackEvent(this.editInOtherTelemetryEventName,this.liveEditTelemetryProperties)},Object.defineProperty(u.prototype,"analyticsSelected",{get:function(){return this.selectedTabOption===r.Analytics},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"eventSetupSelected",{get:function(){return this.selectedTabOption===r.EventSetup},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"healthSelected",{get:function(){return this.selectedTabOption===r.Health},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectedTabText",{get:function(){return this.sourceSetupSelected?this.resources.LiveEvent.Tabs.SourceSetup:this.analyticsSelected?this.resources.LiveEvent.Tabs.Analytics:this.healthSelected?this.resources.LiveEventTabsHealth:""},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"canReplace",{get:function(){return this.video&&this.replaceVideoService.canReplace(this.video)&&!1===this.isReplacing},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"shouldLowerPageForBanner",{get:function(){return this.notificationsPresent&&!this.isReactBannerEnabled},enumerable:!0,configurable:!0}),u.prototype.onVideoCreated=function(e){var t=this;this.$timeout((function(){t.getVideoIngest(),t.getVideoTokens(),t.setupDrawerItems(),t.videoCreated({id:e}),t.videoEditStateInfo.videoState=l.Constants.VideoStatus.Created}),0)},u.prototype.onVideoSaved=function(e){this.savedVideo=e},u.prototype.toggleAudiencePlayer=function(){this.showAudiencePlayer=!this.showAudiencePlayer},u.prototype.onInit=function(e){this.getCurrentTime=e.getCurrentTime},u.prototype.onAudienceDidReachEndOfVodlessPlayback=function(){this.audienceDidReachEndOfVodlessPlayback=!0},Object.defineProperty(u.prototype,"showAudiencePlayerToggle",{get:function(){return!this.isNarrowMode&&this.video.id!==l.Constants.preCreationVideoId&&this.videoEditStateInfo.videoState&&this.videoEditStateInfo.videoState!==l.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"audienceViewLink",{get:function(){return a.formatString(l.Constants.Routes.Video,this.video.id)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"liveEventCompleted",{get:function(){return this.videoEditStateInfo.videoState===l.Constants.VideoState.completed},enumerable:!0,configurable:!0}),u.prototype.initTabOptions=function(){this.tabOptions={options:[{value:r.EventSetup,text:this.resources.LivePage.EventSetup,hide:!0},{value:r.SourceSetup,text:this.resources.LiveEvent.Tabs.SourceSetup,hide:!0},{value:r.Analytics,text:this.resources.LiveEvent.Tabs.Analytics},{value:r.Health,text:this.resources.LiveEventTabsHealth,afterSvgName:"icon_feed_health",className:"health-tab",hide:!0}]},this.updateTabOptions()},u.prototype.updateHealthTabIcon=function(){var e=_.findIndex(this.tabOptions.options,(function(e){return e.value===r.Health}));-1<e&&!_.isNil(this.videoEditStateInfo.isVideoHealthy)?(this.tabOptions.options[e].afterSvgName=this.videoEditStateInfo.isVideoHealthy?"icon_health_green":"icon_health_yellow",this.healthClass=this.videoEditStateInfo.isVideoHealthy?"health-green":"health-yellow"):(this.tabOptions.options[e].afterSvgName="icon_feed_health",this.healthClass="health-grey")},u.prototype.updateTabOptions=function(){var e=this.videoEditStateInfo.videoState===l.Constants.VideoState.completed;this.isNarrowMode?this.setTabHideProperty(r.EventSetup,!1):this.setTabHideProperty(r.EventSetup,!0),e||this.isReplacing?(this.setTabHideProperty(r.SourceSetup,!0),this.setTabHideProperty(r.Health,!0)):(this.setTabHideProperty(r.SourceSetup,!1),this.setTabHideProperty(r.Health,!1)),this.isNarrowMode?this.selectedTabOption=r.EventSetup:e||this.isReplacing?this.selectedTabOption=r.Analytics:this.selectedTabOption=r.SourceSetup},u.prototype.moveDetailsToBottom=function(){this.isNarrowMode=!0,$("#event-setup-container","#event-setup-bottom-tab").length||$("#event-setup-container").appendTo("#event-setup-bottom-tab"),$("#player-right-container").hide(),this.updateTabOptions()},u.prototype.moveDetailsToRight=function(){this.isNarrowMode=!1,$("#event-setup-container","#player-right-container").length||$("#event-setup-container").appendTo("#player-right-container"),$("#player-right-container").show(),this.updateTabOptions()},u.prototype.setTabHideProperty=function(e,t){this.tabOptions.options.forEach((function(n){n.value===e&&(n.hide=t)}))},u.prototype.getVideoIngest=function(){var e=this;this.videoService.getIngest(this.video.id).then((function(t){e.videoIngest=_.get(t,"data"),e.videoEditStateInfo.ingestState=e.videoIngest.state,e.videoEditStateInfo.isVideoHealthy=e.videoIngest.encoderStatus&&e.videoIngest.encoderStatus.isHealthy&&e.videoIngest.encoderStatus.connectionState===l.Constants.EncoderConnectionState.connected,e.videoEditStateInfo.encoderConnectionState=e.videoIngest.encoderStatus&&e.videoIngest.encoderStatus.connectionState}),(function(t){e.featureTelemetryTracker.fail(o.FeatureName.LiveUpdatePage,o.SubFeatureName.VideoService_GetIngest,t)}))},u.prototype.getVideoTokens=function(){var e=this;this.videoService.getTokens(this.video.id).then((function(t){e.videoTokens=_.get(t,"data.value"),e.featureTelemetryTracker.succeed(o.FeatureName.LiveUpdatePage)}),(function(t){e.featureTelemetryTracker.fail(o.FeatureName.LiveUpdatePage,o.SubFeatureName.VideoService_GetTokens,t)}))},u.prototype.setupDrawerItems=function(){var e,t=this;this.drawerItems=[],this.video.id!==l.Constants.preCreationVideoId&&(e=s.isNonRecordedLiveEvent(this.video),this.drawerItems.push(new c.DrawerItem("share-button",this.resources.Share,this.onShareClick.bind(this),"icon_share")),this.video.userData&&this.video.userData.permissions&&this.video.userData.permissions.canDelete&&this.drawerItems.push(new c.DrawerItem("delete-button",this.resources.Delete,this.onDeleteVideo.bind(this),"icon_delete")),this.videoEditStateInfo.videoState===l.Constants.VideoState.completed||this.isReplacing||this.drawerItems.push(new c.DrawerItem("invitation-button",this.resources.SendOutlookInvitation,this.onInvitationClick.bind(this),"icon_calendar")),this.videoEditStateInfo.videoState===l.Constants.VideoState.completed&&this.video.userData&&this.video.userData.permissions&&this.video.userData.permissions.canDownload&&!this.isReplacing&&!e&&this.mediaDownloaderService.getAssetFileUrl(this.video.id,l.Constants.VideoFileType.video,this.featureTelemetryTracker,this.inAdminModeService.videoId===this.video.id).then((function(e){t.videoDownloadUrl=e,t.drawerItems.push(new c.DrawerItem("download-button",t.resources.Download,t.onDownload.bind(t),"icon_download"))})),this.canReplace&&(e=e?this.resources.ReplaceVideo.UploadNewVideo:this.resources.ReplaceVideo.ReplaceVideo,this.drawerItems.push(new c.DrawerItem("replace-button",e,this.onReplaceClick.bind(this),"icon_upload"))))},u.prototype.onShareClick=function(){this.videoShareDialog.open(this.video,this.playerOptions,this.getCurrentTime?this.getCurrentTime():0)},u.prototype.onDeleteVideo=function(){var e=this,t=this.$q.defer();return this.errorMessage="",this.deleteConfirmationDialogService.show(this.resources.ResourceType.Video.LowerSingular,this.video.name,!1,this.video.id,this.isInAdminMode).then((function(){e.featureTelemetryTracker.setResourceId(e.video.id),e.videoService.delete(e.video.id,e.isInAdminMode).then((function(){e.featureTelemetryTracker.succeed(o.FeatureName.DeleteVideo),e.navigationService.navigate(l.Constants.Routes.Studio)}),(function(t){e.errorMessage=e.resources.VideoDeleteFailed,t.status<500&&(e.errorMessage=a.formatString("{0} {1}",e.errorMessage,t.data.error)),e.featureTelemetryTracker.fail(o.FeatureName.DeleteVideo,o.SubFeatureName.VideoService_DeleteVideo,t)}))})).finally((function(){t.resolve()})),t.promise},u.prototype.onInvitationClick=function(){var e=this;this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.createInvitationClicked,this.liveEditTelemetryProperties),s.createInvitationICSFile(this.video,this.mediaDownloaderService,this.$location,this.thumbnailService,this.resources,this.$q,this.$window).then((function(){e.featureTelemetryTracker.succeed(o.FeatureName.LiveCreateInvite)}),(function(t){e.featureTelemetryTracker.fail(o.FeatureName.LiveCreateInvite,o.SubFeatureName.LiveEvent_CreateInvite,t)}))},u.prototype.onReplaceClick=function(){var e=this;this.replaceVideoService.handleReplaceVideoDialog(this.video,this.videoEditStateInfo,!0,this.isInAdminMode,this.companyPolicyAddress).then((function(t){t?(e.isReplacing=t.isReplacingVideo,e.videoEditStateInfo.isReplacingVideo=t.isReplacingVideo,e.isInAdminMode&&e.loadAdminMode(),e.setupDrawerItems(),e.updateTabOptions()):(e.isReplacing=!1,e.videoEditStateInfo.isReplacingVideo=!1)}))},u.prototype.onDownload=function(){return this.mediaDownloaderService.downloadFile(this.videoDownloadUrl),this.$q.resolve()},Object.defineProperty(u.prototype,"newEncoderListEnabled",{get:function(){return this.featureFlagsService.Values.EncoderSetupV2},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isLiveGAEnabled",{get:function(){return this.featureFlagsService.Values.LiveGA},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"shouldShowEndEventMessage",{get:function(){if(d.isVodlessLiveEvent(this.video)){if(s.isEndedNonRecordedLiveEvent(this.video))return!0;if(!this.video.userData||!this.video.userData.permissions||!this.video.userData.permissions.canEdit)return this.audienceDidReachEndOfVodlessPlayback}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReactBannerEnabled",{get:function(){return this.featureFlagsService.Values.ReactBanner},enumerable:!0,configurable:!0}),u.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","navigationService","videoShareDialog","$window","$location","deleteConfirmationDialogService","principalService","$timeout","mediaDownloaderService","inAdminModeService","thumbnailService","$element","$q","replaceVideoService","tenantService","dataShareService"],n=u,t.LiveEditController=n},"./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatus.html":function(e,t){e.exports="<div class=live-health-status-container> <div class=live-health-inner-container> <div ng-if=$ctrl.healthIdle class=health-grey> <svg-src class=svg-container svg-name=icon_feed_health></svg-src> <strong class=title>{{::$ctrl.resources.EncoderHealthStatusNoDataTitle}}</strong> <span>{{::$ctrl.resources.EncoderHealthStatusNoData}}</span> </div> <div ng-if=$ctrl.healthGood class=health-green> <svg-src class=svg-container svg-name=icon_health_green></svg-src> <strong class=title>{{::$ctrl.resources.EncoderHealthStatusGoodTitle}}</strong> <span>{{::$ctrl.resources.EncoderHealthStatusGood}}</span> </div> <div ng-if=$ctrl.healthBad class=health-yellow> <svg-src class=svg-container svg-name=icon_health_yellow></svg-src> <strong class=title>{{::$ctrl.resources.EncoderHealthStatusPoorTitle}}</strong> <span>{{::$ctrl.resources.EncoderHealthStatusPoor}}</span> </div> </div> </div>"},"./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatus.less":function(e,t){},"./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatus.ts":function(e,t,n){function r(){this.controller=o.LiveHealthStatusController,this.template=n("./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatus.html"),this.bindings={healthClass:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatus.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatusController.ts");t.LiveHealthStatus=r,i.registerComponent("liveHealthStatus",r,angular.module("jumper"))},"./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatusController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts");Object.defineProperty(i.prototype,"healthIdle",{get:function(){return this.healthClass===r.Constants.EncoderConnectionHealthStateColor.grey},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"healthGood",{get:function(){return this.healthClass===r.Constants.EncoderConnectionHealthStateColor.green},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"healthBad",{get:function(){return this.healthClass===r.Constants.EncoderConnectionHealthStateColor.yellow},enumerable:!0,configurable:!0}),i.$inject=["resources"],n=i;function i(e){this.resources=e}t.LiveHealthStatusController=n},"./app/components/LiveUpdate/LivePreviewBar/LivePreviewBar.html":function(e,t){e.exports=" <div class=create-preview> <svg-src inline-with-text=true svg-name=icon_exclamtionpoint_pink></svg-src> <div ng-if=!$ctrl.isMicrosoftTenant>{{::$ctrl.resources.LivePreviewBarNonMS}}</div> <a external-link ng-if=$ctrl.isMicrosoftTenant class=c-hyperlink href=https://aka.ms/streamlivedf target=_blank>{{::$ctrl.resources.LivePreviewBarMS}}</a> </div> "},"./app/components/LiveUpdate/LivePreviewBar/LivePreviewBar.less":function(e,t){},"./app/components/LiveUpdate/LivePreviewBar/LivePreviewBar.ts":function(e,t,n){function r(){this.controller=i.LivePreviewBarController,this.template=n("./app/components/LiveUpdate/LivePreviewBar/LivePreviewBar.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/LivePreviewBar/LivePreviewBar.less");var i=n("./app/components/LiveUpdate/LivePreviewBar/LivePreviewBarController.ts"),o=n("./app/utility/appUtil.ts");t.LivePreviewBar=r,o.registerComponent("livePreviewBar",r,angular.module("jumper"))},"./app/components/LiveUpdate/LivePreviewBar/LivePreviewBarController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(r.prototype,"isMicrosoftTenant",{get:function(){return"72f988bf-86f1-41af-91ab-2d7cd011db47"===sessionInfo.UserClaim.TenantId},enumerable:!0,configurable:!0}),r.$inject=["resources"],r);function r(e){this.resources=e}t.LivePreviewBarController=n},"./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPoster.html":function(e,t){e.exports='<div class=live-thumbnail> <div> <label class="ct-label-compact thumbnail-label">{{::$ctrl.resources.VideoThumbnails.SelectThumbnail}}</label> </div> <div class=upload-placeholder-container> <div class=upload-container> <div ng-if=!$ctrl.thumbnailUrl class=upload-image></div> <img ng-if=$ctrl.thumbnailUrl ng-src={{$ctrl.thumbnailUrl}} class=live-poster-image-content alt={{::$ctrl.resources.ChannelPosterImageAlt}} /> <div class=upload-thumnail> <button type=button role=button class="c-hyperlink upload-thumnail-button" ngf-select=$ctrl.uploadIfReady($file) ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'"> {{::$ctrl.resources.LiveEventUploadCustomImage}} </button> </div> </div> </div> </div> '},"./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPoster.less":function(e,t){},"./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPoster.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPosterController.ts");function o(){this.controller=i.LiveThumbnailPosterController,this.template=n("./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPoster.html"),this.bindings={video:"<",resourceId:"<",posterSize:"<",customPosterUploaded:"&",userSelectionChanged:"&",canEdit:"<",videoEditStateInfo:"=",onInit:"&"}}n("./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPoster.less"),t.LiveThumbnailPoster=o,r.registerComponent("liveThumbnailPoster",o,angular.module("jumper"))},"./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPosterController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/Poster/PosterController.ts"),a=n("./app/utility/Constants.ts"),l=n("./app/models/TelemetryEventModels.ts");i(c,o=s.PosterController),Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){if(this.fileToUploadUrl)return this.videoEditStateInfo.localPosterUrl=this.fileToUploadUrl,this.fileToUploadUrl;if(this.selectedThumbnail&&this.selectedThumbnail.images)switch(this.posterSize){case a.Constants.PosterSizeStrings.ExtraSmall:return this.selectedThumbnail.images.extraSmall.url;case a.Constants.PosterSizeStrings.Small:return this.selectedThumbnail.images.small.url;case a.Constants.PosterSizeStrings.Medium:return this.selectedThumbnail.images.medium.url;case a.Constants.PosterSizeStrings.Large:default:return this.selectedThumbnail.images.large.url}},enumerable:!0,configurable:!0}),c.prototype.uploadPoster=function(){var e=this,t=this.$q.defer();return this.fileToUpload?this.doUpload(this.fileToUpload).then((function(){e.fileToUpload=null,e.videoEditStateInfo.localPosterUrl=null,e.video&&(e.video.posterImage=e.selectedThumbnail.images),t.resolve()}),(function(e){t.reject(e)})):(t.resolve(),t.promise)},c.prototype.uploadIfReady=function(e){return e?(this.fileToUpload=e,this.readImageFile(this.fileToUpload)):this.$q.resolve()},Object.defineProperty(c.prototype,"isUpdateEnabled",{get:function(){return!_.isEmpty(this.thumbnailUrl)},enumerable:!0,configurable:!0}),c.prototype.resetPoster=function(){var e=this.$q.defer();return this.fileToUploadUrl?(this.fileToUploadUrl=null,this.fileToUpload=null,this.videoEditStateInfo.localPosterUrl=null,e.resolve()):this.selectedThumbnail?(this.selectedThumbnail=null,e.resolve()):(this.featureTelemetryTracker.fail(this.featureName,l.SubFeatureName.LiveEvent_ResetPosterImage,{}),e.reject()),e.promise},c.prototype.readImageFile=function(e){var t=this,n=this.$q.defer(),r=new FileReader;return r.onload=function(e){t.fileToUploadUrl=e.target.result,t.userSelectionChanged(),t.$scope.$apply(),n.resolve()},r.onerror=function(e){n.reject(e)},r.readAsDataURL(e),n.promise},c.$inject=["$q","$scope","Upload","resources","thumbnailService","mediaUploaderFactory","telemetryService","navigationService","dataPollingService"],i=c;function c(e,t,n,r,i,s,c,d,u){return(d=o.call(this,e,t,n,r,i,s,c,d,a.Constants.ResourceNames.Videos,l.ResourceType.Video,l.FeatureName.UploadLiveVideoCustomThumbnail)||this).dataPollingService=u,d.posterSize=a.Constants.PosterSizeStrings.Medium,d.resourceId!==a.Constants.preCreationVideoId&&d.refreshThumbnails(),d.onInit({doUploadFunction:d.uploadPoster.bind(d),resetPoster:d.resetPoster.bind(d)}),d}t.LiveThumbnailPosterController=i},"./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePage.html":function(e,t){e.exports="<div class=live-update ng-class=\"{'is-live': $ctrl.encoderConnected}\"> <div class=admin-mode ng-if=$ctrl.adminAccessOnly> <div class=message-text>{{$ctrl.adminMessage}}</div> </div> <div ng-if=$ctrl.adminAccessOnly class=error-section> <error-box title-str={{::$ctrl.resources.Controllers.Video.Forbidden.Title}} message={{::$ctrl.resources.Controllers.Video.Forbidden.EditMessage}} no-actions=true full-screen=true /> </div> <div ng-if=$ctrl.videoLoadFailedMessage> <error-box title-str={{::$ctrl.productName}} message={{::$ctrl.videoLoadFailedMessage}} no-actions=true full-screen=true /> </div> <live-edit video=$ctrl.video ng-if=$ctrl.video me=$ctrl.me producer-session-id=$ctrl.producerSessionId is-in-admin-mode=$ctrl.isInAdminMode display-title=$ctrl.displayTitle is-replacing=$ctrl.videoEditStateInfo.isReplacingVideo load-admin-mode=$ctrl.loadAdminMode($ctrl.isInAdminMode)></live-edit> <error-box player-page=true ng-if=$ctrl.isError title-str={{::$ctrl.errorTitle}} message={{::$ctrl.errorMessage}} no-actions=true full-screen=true /> </div>"},"./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePage.less":function(e,t){},"./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePage.ts":function(e,t,n){function r(){this.controller=o.LiveUpdatePageController,this.template=n("./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePage.html"),this.bindings={videoId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePage.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePageController.ts");t.LiveUpdatePage=r,i.registerComponent("liveUpdatePage",r,angular.module("jumper"))},"./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePageController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/ComponentBase.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/models/TelemetryEventModels.ts"),c=n("./app/utility/string.ts"),d=n("./app/utility/Constants.ts"),u=n("./app/services/VideoBgUploaderService.ts"),p=n("./app/utility/appUtil.ts"),m=n("./app/utility/LiveEventUtils.ts"),h="Other";i(g,o=s.ComponentBase),g.prototype.onLoadEvents=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data,e.isStreamAdmin=e.principalService.getIsStreamAdmin(),e.featureTelemetryTracker.succeed(a.FeatureName.GetPrincipalSettings),e.isInAdminMode=e.isStreamAdmin&&e.principalService.getAdminModeStatus(),e.$scope.$watch(e.principalService.getAdminModeStatus,(function(t,n){t!=n&&(e.isInAdminMode=t,e.loadAdminMode(e.isInAdminMode))}))}),(function(t){e.isStreamAdmin=!1,e.featureTelemetryTracker.fail(a.FeatureName.GetPrincipalSettings,a.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)})).finally((function(){var t;e.isInAdminMode&&(t=e.$location.search(),e.elevatedLiveEditProperties.adminEntryComponent=t.entryPoint||l.ElevatedItemEntryPoint.AdminAccessOnlyBar,e.elevatedLiveEditProperties.entryScreen=t.srcScreen||a.ScreenName.VideoUpdate,e.elevatedLiveEditProperties.userViewedVideoAsAdmin=t.hasPlayed||!1,e.adminMessage=e.resources.AdminMode.Video.InAdminModeMessage,e.inAdminModeService.videoId=e.videoId),e.loadVideo(),e.updateProperties.videoId=e.videoId})),this.$scope.$on(d.Constants.Events.Notification_VideoStatus,(function(t,n){e.video&&n.id===e.video.id&&e.pollMedia(!0)})),this.$scope.$on("$destroy",(function(t){e.isInAdminMode&&(e.inAdminModeService.videoId=null)}))},g.prototype.processLoadVideo=function(e,t){void 0===t&&(t=!1),t&&this.featureTelemetryTracker.fail(a.FeatureName.LiveUpdatePage,a.SubFeatureName.VideoService_GetVideo,e),this.isError=!0,this.video=null,403===e.status&&this.isStreamAdmin?(this.isError=!1,this.showAdminAccessOnlyMode()):403===e.status?(this.errorTitle=this.resources.Controllers.Video.Forbidden.Title,this.errorMessage=this.resources.Controllers.Video.Forbidden.Message):404===e.status?(this.errorTitle=this.resources.Controllers.Video.NotAvailable.Title,this.errorMessage=this.resources.Controllers.Video.NotAvailable.Message):(this.errorTitle=this.resources.Controllers.Video.Error.Title,this.errorMessage=this.resources.Controllers.Video.Error.Message)},g.prototype.loadVideo=function(){var e=this;return this.videoService.get(this.videoId,this.isInAdminMode,!0).then((function(t){if(e.canEditVideo=t.data.userData&&t.data.userData.permissions&&t.data.userData.permissions.canEdit,e.canEditVideo){if(e.video=t.data,e.videoEditStateInfo={videoState:e.video.state},e.featureTelemetryTracker.succeed(a.FeatureName.LiveUpdatePage),e.video)return!e.video.liveEvent||!e.video.state||e.isReplacing||e.video.state!==d.Constants.VideoStatus.Live&&e.video.state!==d.Constants.VideoStatus.Processing&&e.video.state!==d.Constants.VideoStatus.Uploading&&e.video.state!==d.Constants.VideoStatus.Created||(e.encoderConnected=!0),t.data;e.processLoadVideo({config:t,status:404})}else e.processLoadVideo({config:t,status:403});return null}),(function(t){e.processLoadVideo(t,!0)})).then((function(t){return t&&e.video&&e.isReplaceVideoEnabled&&(e.videoEditStateInfo.videoState=t.state,t.id&&e.video.state===d.Constants.VideoStatus.Uploading.toLowerCase()&&(e.uploadItem=_.find(e.videoBgUploaderService.mediaUploadList,(function(e){return e.resourceId===t.id})),e.uploadItem?e.uploadWatchCancelHandler=e.$scope.$watchGroup([function(){return e.uploadItem.status},function(){return e.uploadItem.uploadProgress}],(function(n,r){if(!_.isEqual(n,r)){switch(e.uploadItem.status){case u.UploadStatus.uploading:e.videoEditStateInfo.videoState=d.Constants.VideoState.uploading,e.videoEditStateInfo.uploadProgress=e.uploadItem.uploadProgress,e.videoEditStateInfo.isReplacingVideo=e.uploadItem.isReplacing,e.replacementFileName=e.uploadItem.fileName;break;case u.UploadStatus.failed:e.videoEditStateInfo.videoState=d.Constants.VideoState.failedUpload,e.videoEditStateInfo.isReplacingVideo=!1,e.isReplacingFailed=!0,e.uploadWatchCancelHandler();break;default:e.uploadWatchCancelHandler(),e.startPollingVideo(t.id)}e.refreshTitle()}})):e.startPollingVideo(t.id)),t.id&&t.state===d.Constants.VideoStatus.Processing.toLowerCase()&&e.startPollingVideo(t.id),t.id&&t.state===d.Constants.VideoStatus.Completed.toLowerCase()&&(e.videoEditStateInfo.thumbnailsReady=!0)),e.refreshTitle(),t}))},g.prototype.startPollingVideo=function(e){var t=this;this.pollMedia().then((function(){t.checkState(t.video.state)}))},g.prototype.checkState=function(e){this.videoEditStateInfo.videoState=e,(c.isStringEqual(e,d.Constants.VideoStatus.Completed)||c.isStringEqual(e,d.Constants.VideoStatus.Error))&&(!0===this.videoEditStateInfo.isReplacingVideo&&(p.alertScreenReader(c.formatString(this.resources.ReplaceCompleteAlertMessage,this.video.name)),this.videoEditStateInfo.isReplacingVideo=!1,this.replaceVideoService.replaceCompletedRefresh(e,this.video.id)),clearInterval(this.refreshTimerId))},g.prototype.pollMedia=function(e){var t=this;return void 0===e&&(e=!1),this.featureTelemetryTracker.trackEvent(e?l.TelemetryEventNames.StatusCalledBecauseOfNotification:l.TelemetryEventNames.StatusCalledBecauseOfTimer,{id:this.video.id}),this.videoService.getVideoStatus(this.video.id,this.isInAdminMode).then((function(e){t.videoStatus=e.data,t.processPollMedia(),t.checkState(t.videoStatus.state)}),(function(e){t.processPollMedia(e,!0)})).finally((function(){t.refreshStatusAfterNotificationIntervalPromise&&t.$interval.cancel(t.refreshStatusAfterNotificationIntervalPromise),t.videoEditStateInfo.videoState.toLowerCase()===d.Constants.VideoStatus.Processing.toLowerCase()&&(t.refreshStatusAfterNotificationIntervalPromise=t.$interval((function(){t.pollMedia()}),d.Constants.VideoStatusNotificationTimeout,1),t.refreshTitle())}))},g.prototype.processPollMedia=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=!1),this.videoStatus&&this.videoStatus.processingStatus?_.forEach(this.videoStatus.processingStatus,(function(e){if(e&&e.type)switch(e.type.trim().toLowerCase()){case d.Constants.VideoProcessingStatusType.uploading.toLowerCase():e.state.trim().toLowerCase()===d.Constants.VideoStatus.Processing.toLowerCase()&&n.loadVideo();break;case d.Constants.VideoProcessingStatusType.thumbnail.toLowerCase():e.state.trim().toLowerCase()===d.Constants.VideoStatus.Completed.toLowerCase()&&(n.videoEditStateInfo.thumbnailsReady||(p.alertScreenReader(c.formatString(n.resources.ThumbnailsReadyAlertMessage,n.video.name)),n.videoEditStateInfo.thumbnailsReady=!0));break;case d.Constants.VideoProcessingStatusType.replacing.toLowerCase():n.videoEditStateInfo.isReplacingVideo=!0,n.videoEditStateInfo.processProgress=e.progress,e.state.trim().toLowerCase()===d.Constants.VideoStatus.Error.toLowerCase()&&(n.isReplacingFailed=!0,n.videoEditStateInfo.isReplacingVideo=!1,n.featureTelemetryTracker.fail(a.FeatureName.ReplaceVideo,a.SubFeatureName.VideoEvent_ReplaceVideo,e.error||""));break;case d.Constants.VideoProcessingStatusType.encoding.toLowerCase():n.isReplacing||(n.videoEditStateInfo.processProgress=e.progress)}})):t&&this.featureTelemetryTracker.fail(a.FeatureName.GetVideoStatus,a.SubFeatureName.VideoService_GetVideoStatus,e)},g.prototype.refreshTitle=function(){this.$window.document.title=c.formatString(this.resources.BrowserTitle.UpdateLive,d.Constants.ProductName,this.video.name);var e=c.truncateStringAddEllipses(this.video.name||this.resources.LivePage.EventSetup,d.Constants.MaxLengths.VideoTitle);this.isReplacing?this.displayTitle=this.getTitleStringForReplacing(e):this.displayTitle=e},g.prototype.getTitleStringForReplacing=function(e){return this.isReplacingFailed?c.formatString(this.resources.ReplaceVideo.Failed):this.videoEditStateInfo.videoState===d.Constants.VideoState.uploading?(t=c.formatString(this.resources.ReplaceVideo.FileNameProgressPercentage,this.replacementFileName?c.truncateStringAddEllipses(this.replacementFileName,d.Constants.MaxLengths.LiveVideoTitle):c.truncateStringAddEllipses(this.video.name,d.Constants.MaxLengths.LiveVideoTitle),this.uploadProgress.toString()),c.formatString(this.resources.ReplaceVideo.Uploading,t)):this.videoEditStateInfo.videoState===d.Constants.VideoState.processing?(t=c.formatString(this.resources.ReplaceVideo.FileNameProgressPercentage,e,this.processProgress.toString()),c.formatString(this.resources.ReplaceVideo.Replacing,t)):e;var t},Object.defineProperty(g.prototype,"uploadProgress",{get:function(){return this.videoEditStateInfo.uploadProgress||0},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"processProgress",{get:function(){return this.videoEditStateInfo.processProgress||0},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"canDownload",{get:function(){return this.video&&this.video.userData&&this.video.userData.permissions.canDownload&&!m.isNonRecordedLiveEvent(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isReplacing",{get:function(){return this.videoEditStateInfo&&this.replaceVideoService.isReplacing(this.videoEditStateInfo)},enumerable:!0,configurable:!0}),g.prototype.showAdminAccessOnlyMode=function(){this.isStreamAdmin&&(this.adminAccessOnly=!0,this.adminMessage=this.resources.AdminMode.Video.EditOnlyInAdminModeMessage)},g.prototype.loadAdminMode=function(e){this.isInAdminMode=e,this.adminAccessOnly=0==this.canEditVideo&&0==this.isInAdminMode,this.isInAdminMode&&(this.adminMessage=this.resources.AdminMode.Video.InAdminModeMessage,e=this.$location.search(),this.elevatedLiveEditProperties.adminEntryComponent=e.entryPoint||l.ElevatedItemEntryPoint.AdminAccessOnlyBar,this.elevatedLiveEditProperties.entryScreen=e.srcScreen||a.ScreenName.LiveUpdate,this.elevatedLiveEditProperties.userViewedVideoAsAdmin=e.hasPlayed||!1),this.inAdminModeService.videoId=this.isInAdminMode?this.videoId:"",this.loadVideo()},Object.defineProperty(g.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),g.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","$q","$window","videoBgUploaderService","$location","$interval","principalService","inAdminModeService","mediaDownloaderService","replaceVideoService","navigationService"],i=g;function g(e,t,n,r,i,s,l,c,d,u,m,f,v,y,b){var S=o.call(this,g)||this;return S.$scope=e,S.videoService=t,S.resources=n,S.telemetryService=r,S.featureFlagsService=i,S.$q=s,S.$window=l,S.videoBgUploaderService=c,S.$location=d,S.$interval=u,S.principalService=m,S.inAdminModeService=f,S.mediaDownloaderService=v,S.replaceVideoService=y,S.navigationService=b,S.updateProperties={titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",exit:h,error:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1},S.elevatedLiveEditProperties=S.updateProperties,S.encoderConnected=!1,S.isError=!1,S.refreshTimerId=-1,S.featureTelemetryTracker=S.telemetryService.getTracker(a.ScreenName.LiveUpdate),S.featureTelemetryTracker.tagScreen(),S.producerSessionId=p.generateGuid(),S.onLoadEvents(),S.$window.document.title=S.resources.BrowserTitle.ProducerUpdateDefault,S}t.LiveUpdatePageController=i},"./app/components/LiveUpdate/SourceSetup/SourceSetup.html":function(e,t){e.exports='<div class=source-setup-content> <div class=source-setup-note ng-if=$ctrl.isEncoderSetupEnabled> <div class=content> <a external-link class=c-hyperlink ng-href={{$ctrl.policyLink}} target=_blank> {{::$ctrl.resources.EncoderSetupNotes}} </a> </div> </div> <div class=select-encoder ng-if=$ctrl.isEncoderSetupEnabled> <label class="ct-label-compact select-encoder-label" for=encodersetupoptionsdropdown>{{::$ctrl.resources.SelectEncoder}}</label> <drop-down name=encodersetupoptionsdropdown class="select-encoder-dropdown ct-dropdown-compact" options=$ctrl.encoderTypes value=$ctrl.selectedEncoderType aria-label={{::$ctrl.resources.LiveEventSelectEncoderAriaLabel}}></drop-down> </div> <div class=source-setup-note ng-if=!$ctrl.isEncoderSetupEnabled> <div class=contentTitle> {{::$ctrl.resources.ConfigureEncoder}} </div> <div class=content> {{::$ctrl.resources.SourceSetupNotes}} </div> </div> <div class=secureConnection ng-if="$ctrl.ManuallyEncoder || $ctrl.FlashEncoder"> <label class=secureConnectionLabel id=toggle-secure-connection> {{::$ctrl.resources.SecureConnection}} </label> <toggle name=toggle-secure-connection value=$ctrl.secureConnectionEnabled on-toggle-click=$ctrl.onToggleSecureConnectionEnabled() /> </div> <div ng-if=$ctrl.FlashEncoder> <button type=button ng-disabled=false class="stream-btn download-preset-button btn-secondary" aria-label={{::$ctrl.resources.DownloadPresetButtonLabel}} ng-click=$ctrl.downloadPreset()> <span class=no-padding>{{::$ctrl.resources.DownloadPresetButtonLabel}}</span> </button> </div> <div ng-if=$ctrl.WirecastEncoder> <div class=data-container> <div class=wirecast-setup-label>{{::$ctrl.resources.WirecastEncoderSetupLabel}}</div> <ol class=bold-number> <li class=wirecast-setup-step> <a external-link class=c-hyperlink ng-href={{::$ctrl.wirecastDownloadLink}} target=_blank>{{::$ctrl.resources.StepOneForWirecastEncoderSetup}}</a> </li> <li class=wirecast-setup-step> <span>{{::$ctrl.resources.StepTwoForWirecastEncoderSetup}}</span> <span class=bold-text>{{::$ctrl.resources.LiveEventControlBarConnectEncoder}}</span> </li> <li class=wirecast-setup-step> <a external-link class=c-hyperlink ng-href={{::$ctrl.wirecastLaunchLink}} target=_blank>{{::$ctrl.resources.StepThreeForWirecastEncoderSetup}}</a> </li> <li class=wirecast-setup-step> <span>{{::$ctrl.resources.StepTwoForWirecastEncoderSetup}}</span> <span class=bold-text>{{::$ctrl.resources.LiveEventControlBarStartEvent}}</span> <span>{{::$ctrl.resources.StepFourForWirecastEncoderSetup}}</span> </li> </ol> </div> </div> <div class=server-ingest-urls ng-if=$ctrl.ManuallyEncoder> <div class=ingest-urls> <label class="c-label ct-label-compact"> <span class=server-ingest-url-label>{{::$ctrl.resources.ServerIngestUrl}}</span> <input class="ct-textbox-compact server-ingest-url" type=text aria-required=true ng-model=$ctrl.primaryIngestUrl readonly=readonly /> </label> <div ng-if=$ctrl.clipBoardSupported class=source-setup-copy-button> <button clipboard text=$ctrl.primaryIngestUrl class="stream-btn btn-secondary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class=ingest-urls> <label class="c-label ct-label-compact"> <span class=server-ingest-url-label>{{::$ctrl.resources.SecondaryServerIngestUrl}}</span> <input class="ct-textbox-compact server-ingest-url" type=text aria-required=true ng-model=$ctrl.secondaryIngestUrl readonly=readonly /> </label> <div ng-if=$ctrl.clipBoardSupported class=source-setup-copy-button> <button clipboard text=$ctrl.secondaryIngestUrl class="stream-btn btn-secondary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class=serverIngestUrlLabel ng-if=!$ctrl.videoIngest.ingestUrls> {{::$ctrl.resources.ServerIngestUrlNote}} </div> </div> </div>'},"./app/components/LiveUpdate/SourceSetup/SourceSetup.less":function(e,t){},"./app/components/LiveUpdate/SourceSetup/SourceSetup.ts":function(e,t,n){function r(){this.controller=o.SourceSetupController,this.template=n("./app/components/LiveUpdate/SourceSetup/SourceSetup.html"),this.bindings={videoIngest:"<",commonTelemetryProps:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/SourceSetup/SourceSetup.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/SourceSetup/SourceSetupController.ts");t.SourceSetup=r,i.registerComponent("sourceSetup",r,angular.module("jumper"))},"./app/components/LiveUpdate/SourceSetup/SourceSetupController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/LiveEventUtils.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onToggleSecureConnectionEnabled=function(){this.secureConnectionEnabled=!this.secureConnectionEnabled,this.loadIngestUrls()},Object.defineProperty(a.prototype,"ManuallyEncoder",{get:function(){return this.selectedEncoderType===r.Constants.Encoders.ManuallyEncoder.type},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"FlashEncoder",{get:function(){return this.selectedEncoderType===r.Constants.Encoders.FlashEncoder.type},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"WirecastEncoder",{get:function(){return this.selectedEncoderType===r.Constants.Encoders.WirecastEncoder.type},enumerable:!0,configurable:!0}),a.prototype.downloadPreset=function(){i.downloadFlashPreset(this.getIngestUrl(r.Constants.VideoIngestType.primary),this.getIngestUrl(r.Constants.VideoIngestType.secondary),this.mediaDownloaderService)},Object.defineProperty(a.prototype,"isEncoderSetupEnabled",{get:function(){return this.featureFlagsService.Values.EncoderSetup},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"wirecastLaunchLink",{get:function(){return o.formatString(r.Constants.launchWirecastUrl,this.getIngestUrl(r.Constants.VideoIngestType.primary))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"policyLink",{get:function(){return r.Constants.LiveEncoderLearnMoreLink},enumerable:!0,configurable:!0}),a.prototype.loadIngestUrls=function(){this.primaryIngestUrl=this.getIngestUrl(r.Constants.VideoIngestType.primary),this.secondaryIngestUrl=this.getIngestUrl(r.Constants.VideoIngestType.secondary)},a.prototype.getIngestUrl=function(e){var t,n=this;return this.videoIngest&&this.videoIngest.ingestUrls&&(t=_.find(this.videoIngest.ingestUrls,(function(t){return t.protocol===(n.secureConnectionEnabled?r.Constants.VideoIngestProtocol.rtmps:r.Constants.VideoIngestProtocol.rtmp)&&t.type===e}))),t?t.url:null},a.$inject=["$scope","resources","mediaDownloaderService","telemetryService","featureFlagsService"],n=a;function a(e,t,n,i,o){var a,l=this;this.$scope=e,this.resources=t,this.mediaDownloaderService=n,this.telemetryService=i,this.featureFlagsService=o,this.secureConnectionEnabled=!1,this.clipBoardSupported=!1,this.encoderTypes=[],this.sendEncoderSelectionTelemetryTimeout=1e4,this.wirecastDownloadLink="",this.encoderTypes=[{value:r.Constants.Encoders.ManuallyEncoder.type,text:this.resources.DefaultSelectEncoder},{value:r.Constants.Encoders.WirecastEncoder.type,text:r.Constants.Encoders.WirecastEncoder.displayText},{value:r.Constants.Encoders.FlashEncoder.type,text:r.Constants.Encoders.FlashEncoder.displayText}],this.featureTelemetryTracker=this.telemetryService.getTracker(),this.selectedEncoderType=r.Constants.Encoders.ManuallyEncoder.type,this.videoIngest&&this.videoIngest.ingestUrls&&0<this.videoIngest.ingestUrls.length?this.loadIngestUrls():a=this.$scope.$watch((function(){return l.videoIngest}),(function(e){l.videoIngest&&l.videoIngest.ingestUrls&&0<l.videoIngest.ingestUrls.length&&(l.loadIngestUrls(),a())}),!0),this.$scope.$watch((function(){return l.selectedEncoderType}),(function(e,t){e!=t&&(l.encoderChangeTrackingTimeout&&clearTimeout(l.encoderChangeTrackingTimeout),l.encoderChangeTrackingTimeout=window.setTimeout((function(){l.commonTelemetryProps.encoderSelected=e,l.featureTelemetryTracker.trackEvent(s.TelemetryEventNames.producerEncoderSelected,l.commonTelemetryProps)}),l.sendEncoderSelectionTelemetryTimeout))})),this.clipBoardSupported=document.queryCommandSupported&&document.queryCommandSupported("copy"),this.wirecastDownloadLink=r.Constants.wirecastsDownloadURL}t.SourceSetupController=n},"./app/components/LoadingPanel/LoadingPanel.html":function(e,t){e.exports='<div class=loading-panel> <div class=loading-panel-inner> <div class="c-progress f-indeterminate-local f-progress-small" role=progressbar aria-valuetext={{::$ctrl.ariaText}}> <span></span> <span></span> <span></span> <span></span> <span></span> </div> <h5 class=c-heading-4>{{::$ctrl.spinnerMessage}}</h5> </div> </div>'},"./app/components/LoadingPanel/LoadingPanel.less":function(e,t){},"./app/components/LoadingPanel/LoadingPanel.ts":function(e,t,n){function r(){this.controller=o.LoadingPanelController,this.template=n("./app/components/LoadingPanel/LoadingPanel.html"),this.bindings={message:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LoadingPanel/LoadingPanel.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/LoadingPanel/LoadingPanelController.ts");t.LoadingPanel=r,i.registerComponent("loadingPanel",r,angular.module("jumper"))},"./app/components/LoadingPanel/LoadingPanelController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.$inject=["$scope","resources"],r);function r(e,t){this.$scope=e,this.resources=t,this.spinnerMessage=_.isString(this.message)?this.message:this.resources.Loading+"...",this.ariaText=_.isString(this.message)&&this.message.length?this.message:this.resources.Loading}t.LoadingPanelController=n},"./app/components/PersonItem/PersonItem.html":function(e,t){e.exports='<a class=person-card ng-href={{$ctrl.userPageUrl}} ng-click=$ctrl.goToUserPage()> <div class=person-image-container> <div class=image-outer ng-class="{\'image-outer-hover\': hover}" ng-mouseenter="hover=true" ng-mouseleave="hover=false"> <img ng-if=$ctrl.principal.profileImageUrl ng-src={{::$ctrl.principal.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}} /> <img ng-if=!$ctrl.principal.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}} /> </div> </div> <div class=person-info-container> <div class=person-name> <h6 class=c-heading-6>{{$ctrl.principal.name}}</h6> </div> <div class=person-email> <h6 class=c-heading-6>{{$ctrl.principal.mail}}</h6> </div> </div> </a>'},"./app/components/PersonItem/PersonItem.less":function(e,t){},"./app/components/PersonItem/PersonItem.ts":function(e,t,n){function r(){this.controller=o.PersonItemController,this.template=n("./app/components/PersonItem/PersonItem.html"),this.bindings={}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PersonItem/PersonItem.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/PersonItem/PersonItemController.ts");t.PersonItem=r,i.registerComponent("personItem",r,angular.module("jumper"))},"./app/components/PersonItem/PersonItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PersonItem/PersonItem.less");var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/string.ts");n=n("./app/components/ItemsList/ListBase/ListItemBase.ts"),i(l,o=n.ListItemBase),l.prototype.goToUserPage=function(){this.dataShareService.cache[this.principal.id]=this.principal},l.$inject=["$scope","$timeout","navigationService","dataShareService","resources"],i=l;function l(e,t,n,r,i){return(t=o.call(this,e,t,l)||this).$scope=e,t.navigationService=n,t.dataShareService=r,t.resources=i,t.principal=t.item,t.userPageUrl=a.formatString(s.Constants.Routes.User,t.principal.id),t}t.PersonItemController=i},"./app/components/PrincipalGroup/PrincipalGroup.html":function(e,t){e.exports=' <div class="profile-container row row-size1" ng-repeat="suggestion  in $ctrl.principals track by $index"> <div class="column search-col delete-col"> <button type=button class="c-glyph c-action-trigger remove-button" ng-click=$ctrl.onRemove(suggestion) ng-aria-label="{{::$ctrl.resources.Delete}} {{suggestion.name || suggestion.mail}}"></button> </div> <div class="column profile-col"> <div class=profile-image-col> <img class=profile-image ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-image ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=name-col> <div class="row column row-size0 name-line"> {{suggestion.name? suggestion.name : suggestion.mail}} </div> <div class="row column row-size0 email-line"> {{suggestion.mail}} </div> </div> </div> </div> '},"./app/components/PrincipalGroup/PrincipalGroup.less":function(e,t){},"./app/components/PrincipalGroup/PrincipalGroup.ts":function(e,t,n){function r(){this.controller=o.PrincipalGroupController,this.template=n("./app/components/PrincipalGroup/PrincipalGroup.html"),this.bindings={principals:"=",principalsRemoved:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalGroup/PrincipalGroup.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalGroup/PrincipalGroupController.ts");t.PrincipalGroup=r,i.registerComponent("principalGroup",r,angular.module("jumper"))},"./app/components/PrincipalItem/PrincipalItem.html":function(e,t){e.exports='<div class=principal-item> <list-row ng-if=$ctrl.headerRow class=principal-item-header-row header-row=true> <list-header-cell class=name-column-header header-label=$ctrl.resources.GroupMembers.ListHeader.Name fill-size=true></list-header-cell> <list-header-cell class=email-column-header header-label=$ctrl.resources.GroupMembers.ListHeader.Email></list-header-cell> <list-header-cell class=permissions-column-header header-label=$ctrl.resources.GroupMembers.ListHeader.Permissions centered=true></list-header-cell> <list-header-cell class=actions-column-header header-label=$ctrl.resources.GroupMembers.ListHeader.Actions right-aligned=true></list-header-cell> </list-row> <list-row ng-if=!$ctrl.headerRow class=principal-item-row tabindex=-1 role=presentation ng-click=$ctrl.goToUserPage() enable-hover=true> <list-cell class=name-column fill-size=true> <div class=image-outer ng-class="{\'image-outer-hover\': hover}" ng-mouseenter="hover=true" ng-mouseleave="hover=false"> <img ng-if=$ctrl.principal.profileImageUrl ng-src={{::$ctrl.principal.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}} /> <img ng-if=!$ctrl.principal.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}} /> </div> <div class=name>{{$ctrl.principal.name}}</div> </list-cell> <list-cell class=email-column> <span aria-hidden=true>{{$ctrl.principal.mail}}</span> </list-cell> <list-cell class=permissions-column centered=true> <div class=permission-badge ng-if=!$ctrl.localGroupEnabled ng-class="$ctrl.memberType === $ctrl.ownersType ? \'group-owner\' : \'group-member\'">{{$ctrl.memberType === $ctrl.ownersType ?$ctrl.resources.GroupMembers.Permissions.Owner:$ctrl.resources.GroupMembers.Permissions.Member}}</div> <div class=permission-badge ng-if="$ctrl.localGroupEnabled && $ctrl.isOffice365Group && !$ctrl.addedAsOwnerFlag && !$ctrl.alreadyAnOwnerFlag" ng-class="$ctrl.memberType === $ctrl.ownersType ? \'group-owner\' : \'group-member\'">{{$ctrl.memberType === $ctrl.ownersType ?$ctrl.resources.GroupMembers.Permissions.Owner:$ctrl.resources.GroupMembers.Permissions.Member}}</div> <div class=permission-badge ng-if="$ctrl.localGroupEnabled && !$ctrl.isOffice365Group" ng-class="$ctrl.memberType === $ctrl.ownersType ? \'group-owner\' : \'group-member\'">{{$ctrl.getMemberType()}}</div> <div class=name ng-if=$ctrl.addedAsOwnerFlag>{{::$ctrl.resources.GroupMembers.Actions.AddedAsOwner}}</div> <div class=name ng-if=$ctrl.alreadyAnOwnerFlag>{{::$ctrl.resources.GroupMembers.Actions.AlreadyAnOwner}}</div> </list-cell> <list-cell class=actions-column ng-if=!$ctrl.hideToolBox no-fade=true allow-overflow=true right-aligned=true> <div class=flex-drawer-container> <flex-drawer drawer-items=$ctrl.drawerItems item=$ctrl.principalItem flex-mode=true width-percentage=100 light-custom-title=true></flex-drawer> </div> </list-cell> </list-row> </div>'},"./app/components/PrincipalItem/PrincipalItem.less":function(e,t){},"./app/components/PrincipalItem/PrincipalItem.ts":function(e,t,n){function r(){this.controller=o.PrincipalItemController,this.template=n("./app/components/PrincipalItem/PrincipalItem.html"),this.bindings={headerRow:"<",group:"<",memberType:"<",viewerRoleId:"<",isTenantAdmin:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalItem/PrincipalItem.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalItem/PrincipalItemController.ts");t.PrincipalItem=r,i.registerComponent("principalItem",r,angular.module("jumper"))},"./app/components/PrincipalItem/PrincipalItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/string.ts"),l=n("./app/components/ItemsList/ListBase/ListItemBase.ts"),c=n("./common/Directives/Drawer/Drawer.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=l.ListItemBase),u.prototype.is404Error=function(e){return e&&e.status&&404===e.status},u.prototype.logError=function(e,t){this.featureTracker.fail(d.FeatureName.PrincipalItemListGroupMembers,t,e)},u.prototype.onDelete=function(){var e=this,t=[this.groupService.removeMember(this.group.id,this.principal.id,this.memberType)],n=this.memberType===s.Constants.GroupMemberType.Owners?this.group.aadGroup.membersRoleId===this.viewerRoleId?s.Constants.GroupMemberType.Viewers:s.Constants.GroupMemberType.Contributors:s.Constants.GroupMemberType.Owners;t.push(this.groupService.removeMember(this.group.id,this.principal.id,n)),this.$q.all(t).then((function(){e.onItemDeleted(e.item),e.featureTracker.succeed(d.FeatureName.PrincipalItemListGroupMembers)}),(function(t){e.is404Error(t)?(e.onItemDeleted(e.item),e.featureTracker.succeed(d.FeatureName.PrincipalItemListGroupMembers,{message:"Success on 404 when deleting a member : Member not found"})):e.logError(t,d.SubFeatureName.GroupService_RemoveMember)}))},u.prototype.onChangePermission=function(e){var t=this;switch(e){case s.Constants.RoleNames.Owner:this.groupService.getMember(this.group.id,s.Constants.GroupMemberType.Owners,this.principal.id).then((function(){t.addedAsOwnerFlag=!1,t.alreadyAnOwnerFlag=!0,t.featureTracker.succeed(d.FeatureName.PrincipalItemListGroupMembers)}),(function(e){t.is404Error(e)?t.groupService.addOwners(t.group.id,[t.principal.id]).then((function(){t.addedAsOwnerFlag=!0,t.featureTracker.succeed(d.FeatureName.PrincipalItemListGroupMembers,{message:"Success on 404 when member not an Owner"})})):t.logError(e,d.SubFeatureName.GroupService_GetMember)}));break;case s.Constants.RoleNames.Viewer:this.groupService.addViewers(this.group.id,[this.principal.id]).then((function(){t.groupService.removeMember(t.group.id,t.principal.id,t.memberType).then((function(){t.onItemDeleted(t.item),t.featureTracker.succeed(d.FeatureName.PrincipalItemListGroupMembers)}),(function(e){t.logError(e,d.SubFeatureName.GroupService_RemoveMember)}))}));break;case s.Constants.RoleNames.Contributor:this.groupService.addContributors(this.group.id,[this.principal.id]).then((function(){t.groupService.removeMember(t.group.id,t.principal.id,t.memberType).then((function(){t.onItemDeleted(t.item),t.featureTracker.succeed(d.FeatureName.PrincipalItemListGroupMembers)}),(function(e){t.logError(e,d.SubFeatureName.GroupService_RemoveMember)}))}))}},u.prototype.goToUserPage=function(){this.dataShareService.cache[this.principal.id]=this.principal,this.navigationService.navigate(this.userPageUrl)},u.prototype.getMemberType=function(){switch(this.memberType){case this.ownersType:return this.resources.LocalGroup.Permissions.Owner;case this.viewerType:return this.resources.LocalGroup.Permissions.Viewer;case this.contributorType:return this.resources.LocalGroup.Permissions.Contributor;default:return""}},Object.defineProperty(u.prototype,"isOffice365Group",{get:function(){return!this.featureFlagsService.Values.LocalGroups||!(!this.group||!this.group.aadGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"canMemberEdit",{get:function(){return this.isInAdminMode=this.inAdminModeService.groupId===this.group.id,(!this.isOffice365Group||this.isTenantAdmin)&&this.isInAdminMode},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"localGroupEnabled",{get:function(){return this.featureFlagsService.Values.LocalGroups},enumerable:!0,configurable:!0}),u.prototype.loadViewerRoleId=function(){var e=this,t=this.$q.defer();return this.viewerRoleId?t.resolve(this.viewerRoleId):this.roleService.getViewerRoleId().then((function(n){e.viewerRoleId=n,t.resolve(e.viewerRoleId)})),t.promise},u.$inject=["$scope","$timeout","navigationService","dataShareService","groupService","resources","$q","roleService","telemetryService","featureFlagsService","inAdminModeService"],i=u;function u(e,t,n,r,i,l,d,p,m,h,g){var f=o.call(this,e,t,u)||this;return f.$scope=e,f.navigationService=n,f.dataShareService=r,f.groupService=i,f.resources=l,f.$q=d,f.roleService=p,f.telemetryService=m,f.featureFlagsService=h,f.inAdminModeService=g,f.ownersType=s.Constants.GroupMemberType.Owners,f.viewerType=s.Constants.GroupMemberType.Viewers,f.contributorType=s.Constants.GroupMemberType.Contributors,f.featureTracker=f.telemetryService.getTracker(),f.headerRow||(f.principal=f.item.principal||f.item||{},f.userPageUrl=a.formatString(s.Constants.Routes.User,f.principal.id),f.addedAsOwnerFlag=!1,f.alreadyAnOwnerFlag=!1,f.drawerItems=[],(f.group&&f.group.userData&&f.group.userData.permissions&&f.group.userData.permissions.canManageRoleAssignments||f.canMemberEdit)&&(f.drawerItems.push(new c.DrawerItem("delete-button",f.resources.GroupMembers.Actions.Remove,f.onDelete.bind(f),"icon_cancel")),f.isOffice365Group?f.memberType===s.Constants.GroupMemberType.Owners?f.loadViewerRoleId().then((function(){f.group.aadGroup.membersRoleId===f.viewerRoleId?f.drawerItems.push(new c.DrawerItem("make-member",f.resources.GroupMembers.Actions.MakeMember,f.onChangePermission.bind(f,s.Constants.RoleNames.Viewer),"icon_make_member")):f.drawerItems.push(new c.DrawerItem("make-member",f.resources.GroupMembers.Actions.MakeMember,f.onChangePermission.bind(f,s.Constants.RoleNames.Contributor),"icon_make_member"))})):f.drawerItems.push(new c.DrawerItem("make-owner",f.resources.GroupMembers.Actions.MakeOwner,f.onChangePermission.bind(f,s.Constants.RoleNames.Owner),"icon_make_owner")):f.group.privacyMode===s.Constants.privacyMode.private?f.memberType===s.Constants.GroupMemberType.Owners?(f.drawerItems.push(new c.DrawerItem("make-viewer",f.resources.GroupMembers.Actions.MakeViewer,f.onChangePermission.bind(f,s.Constants.RoleNames.Viewer),"icon_make_member")),f.drawerItems.push(new c.DrawerItem("make-contributor",f.resources.GroupMembers.Actions.MakeContributor,f.onChangePermission.bind(f,s.Constants.RoleNames.Contributor),"icon_make_member"))):(f.memberType===s.Constants.GroupMemberType.Viewers?f.drawerItems.push(new c.DrawerItem("make-contributor",f.resources.GroupMembers.Actions.MakeContributor,f.onChangePermission.bind(f,s.Constants.RoleNames.Contributor),"icon_make_member")):f.drawerItems.push(new c.DrawerItem("make-viewer",f.resources.GroupMembers.Actions.MakeViewer,f.onChangePermission.bind(f,s.Constants.RoleNames.Viewer),"icon_make_member")),f.drawerItems.push(new c.DrawerItem("make-owner",f.resources.GroupMembers.Actions.MakeOwner,f.onChangePermission.bind(f,s.Constants.RoleNames.Owner),"icon_make_owner"))):f.group.privacyMode===s.Constants.privacyMode.organizationViewer&&(f.memberType===s.Constants.GroupMemberType.Owners?f.drawerItems.push(new c.DrawerItem("make-contributor",f.resources.GroupMembers.Actions.MakeContributor,f.onChangePermission.bind(f,s.Constants.RoleNames.Contributor),"icon_make_member")):f.drawerItems.push(new c.DrawerItem("make-owner",f.resources.GroupMembers.Actions.MakeOwner,f.onChangePermission.bind(f,s.Constants.RoleNames.Owner),"icon_make_owner"))))),f}t.PrincipalItemController=i},"./app/components/PrincipalItemBase/PrincipalItemBase.html":function(e,t){e.exports='<div class=principal-item-base> <list-row ng-if=$ctrl.headerRow class=principal-item-header-row header-row=true> <list-header-cell class=name-column-header header-label=$ctrl.resources.GroupMembers.ListHeader.Name fill-size=true></list-header-cell> <list-header-cell class=email-column-header header-label=$ctrl.resources.GroupMembers.ListHeader.Email></list-header-cell> <list-header-cell ng-repeat="colName in $ctrl.getAdditionalCols" class="custom-header custom-header-{{$index+1}}" ng-class="{\'action-header\': $ctrl.isActionColumn($index)}" header-label=colName></list-header-cell> </list-row> <list-row ng-if=!$ctrl.headerRow class=principal-item-row tabindex=-1 role=presentation ng-click=$ctrl.goToUserPage() enable-hover=true> <list-cell class=name-column fill-size=true> <div> <img ng-if=$ctrl.principal.profileImageUrl ng-src={{::$ctrl.principal.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}} /> <img ng-if=!$ctrl.principal.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}} /> </div> <div class=name>{{$ctrl.principal.name}}</div> </list-cell> <list-cell class=email-column> <span>{{$ctrl.principal.mail}}</span> </list-cell> <list-cell ng-repeat="colName in $ctrl.getAdditionalCols" class="custom-column custom-column-{{$index+1}}" no-fade=true ng-class="{\'action-column\': $ctrl.isActionColumn($index)}"> <ng-transclude ng-transclude=customColumn{{$index+1}} class=custom-column-{{$index+1}}> </ng-transclude></list-cell> </list-row> </div>'},"./app/components/PrincipalItemBase/PrincipalItemBase.less":function(e,t){},"./app/components/PrincipalItemBase/PrincipalItemBase.ts":function(e,t,n){function r(){this.controller=o.PrincipalItemBaseController,this.template=n("./app/components/PrincipalItemBase/PrincipalItemBase.html"),this.bindings={headerRow:"<",additionalCols:"&"},this.transclude={customColumn1:"?customColumn1",customColumn2:"?customColumn2",customColumn3:"?customColumn3",customColumn4:"?customColumn4",customColumn5:"?customColumn5"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalItemBase/PrincipalItemBase.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalItemBase/PrincipalItemBaseController.ts");t.PrincipalItemBase=r,i.registerComponent("principalItemBase",r,angular.module("jumper"))},"./app/components/PrincipalItemBase/PrincipalItemBaseController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o;n=n("./app/components/ItemsList/ListBase/ListItemBase.ts"),i(s,o=n.ListItemBase),Object.defineProperty(s.prototype,"getAdditionalCols",{get:function(){return this.additionalCols()},enumerable:!0,configurable:!0}),s.prototype.isActionColumn=function(e){var t=this.additionalCols();return!(e<0||!_.some(t)||e>t.length)&&0<=t[e].indexOf("action-column")},s.$inject=["$scope","$timeout","resources"],i=s;function s(e,t,n){return(t=o.call(this,e,t,s)||this).$scope=e,t.resources=n,t.headerRow||(t.principal=t.item.principal||t.item||{}),t}t.PrincipalItemBaseController=i},"./app/components/PrincipalResults/PrincipalResults.html":function(e,t){e.exports='<div class="row row-size0 search-filter-bar"> <div sticky-element=$ctrl.filterStickyClass auto-margin-next=true> <div class="row column page-title" ng-if=$ctrl.pageTitle ng-transclude=pageTitle> <h3 class="c-heading-3 ng-binding page-title">{{::$ctrl.pageTitle}}</h3> </div> <div ng-transclude=filters> <search-and-filter> <search-bar class="column large-3 medium-4 small-6" placeholder=$ctrl.searchBarText label=$ctrl.searchBarLabel default-value=$ctrl.searchString on-search=$ctrl.searchPressed(value) events-list=$ctrl.listEvents.searchEvents></search-bar> <search-filter action-role=sort class="column end large-3 medium-4 small-6 principal-sort-options" model=$ctrl.principalSortOptions value=$ctrl.principalSort metrics=$ctrl.listEvents.sortEvents telemetry-prefix=$ctrl.sortByPrefix></search-filter> </search-and-filter> </div> </div> </div> <div class="row column row-size1 items-list"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem new-item=$ctrl.newCreatedPrincipal list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.GroupMembers screen-name=$ctrl.screenName class=principals-list item-identifier="\'principalId\'" has-a-prepended-item=$ctrl.hasAPrependedItem> <header ng-transclude=header> <principal-item header-row=true> </principal-item> </header> <item ng-transclude=item> <principal-item ng-if=!$ctrl.isItemTranscluded></principal-item> </item> <no-data-message ng-transclude=noDataMessage> {{$ctrl.noDataMessage}} </no-data-message> <prepend-item ng-transclude=prependItem ng-if=$ctrl.hasAPrependedItem> </prepend-item> <append-item ng-transclude=appendItem ng-if=$ctrl.hasAppendedItem> </append-item> </items-list> </div>'},"./app/components/PrincipalResults/PrincipalResults.less":function(e,t){},"./app/components/PrincipalResults/PrincipalResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/PrincipalResults/PrincipalResultsController.ts");function o(){this.controller=i.PrincipalResultsController,this.template=n("./app/components/PrincipalResults/PrincipalResults.html"),this.bindings={loadPrincipalResults:"&",onInit:"&",extraQueryParams:"<?"},this.transclude={prependItem:"?prependItem",appendItem:"?appendItem",noDataMessage:"?noDataMessage",item:"?item",filters:"?filters",header:"?header",pageTitle:"?pageTitle"}}n("./app/components/PrincipalResults/PrincipalResults.less"),t.PrincipalResults=o,r.registerComponent("principalResults",o,angular.module("jumper"))},"./app/components/PrincipalResults/PrincipalResultsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/ActivityIds.ts"),a=n("./app/components/ItemsList/ListBase/ListBase.ts"),l=n("./app/utility/Constants.ts");i(c,o=a.ListBase),c.prototype.loadDataPage=function(e,t){return this.loadPrincipalResults({skip:e,top:t})},c.prototype.onInitInternal=function(){var e=this;this.isItemTranscluded=this.$transclude.isSlotFilled("item"),this.watchGroup=[function(){return e.searchString},function(){return e.principalSort}],this.filterStickyClass="show-for-medium",this.principalSortOptions={label:this.resources.GroupMemberType.Label,options:[{value:l.Constants.GroupMemberType.Owners,text:this.resources.GroupMember.MemberTypeFilter.Options.Owner},{value:l.Constants.GroupMemberType.Viewers,text:this.resources.GroupMember.MemberTypeFilter.Options.Member}]}},c.prototype.onInitWatchersInternal=function(){var e=this;this.$scope.$watchGroup(this.watchGroup,(function(t,n,r){t&&e.filtersDefaultWatchFired&&n&&!_.some(t,(function(e){return void 0===e}))&&(e.refreshData=!0),e.filtersDefaultWatchFired=!0}))},c.$inject=["$scope","resources","telemetryService","featureFlagsService","$window","$transclude","clearQueryParamsService","$location"],i=c;function c(e,t,n,r,i,a,c,d){var u=o.call(this,e,n,r)||this;return u.$scope=e,u.resources=t,u.telemetryService=n,u.$window=i,u.$transclude=a,u.clearQueryParamsService=c,u.$location=d,u.principalSource={},u.filtersDefaultWatchFired=!1,u.hasAPrependedItem=!1,u.hasAppendedItem=!1,u.isStreamAdmin=!1,u.canCreatePrincipal=!0,u.principalEntityFetched=!1,u.skipSetQueryParams=!1,u.isItemTranscluded=!1,u.onInitInternal(),u.hasAPrependedItem=a.isSlotFilled("prependItem"),u.hasAppendedItem=a.isSlotFilled("appendItem"),u.onInit({principalResultsController:u}),u.featureTelemetryTracker=u.telemetryService.getTracker(u.screenName),s.ActivityIds.initActivityId(u.screenName),u.onInitWatchersInternal(),u.featureFlagsService.Values.BrowseBack&&(u.$scope.$watch((function(){return u.searchString}),(function(e,t){e&&(e[l.Constants.QueryStringKeys.Sort]&&(u.principalSort=e[l.Constants.QueryStringKeys.Sort]),e[l.Constants.QueryStringKeys.SearchTerm]&&(u.searchString=e[l.Constants.QueryStringKeys.SearchTerm]),u.clearQueryParamsService.diffPathName||(e[l.Constants.QueryStringKeys.Sort]||(u.principalSort=u.defaultSort,u.skipSetQueryParams=!0),e[l.Constants.QueryStringKeys.SearchTerm]||(u.searchString=null)))})),u.$scope.$watch((function(){return u.searchString}),(function(e,t){e===t||u.clearQueryParamsService.diffPathName||(e?(u.featureFlagsService.Values.BrowseBack,u.$location.search(_.assign({},u.extraQueryParams,{sort:u.principalSort,q:e}))):u.$location.search(l.Constants.QueryStringKeys.SearchTerm,null))})),setTimeout((function(){u.$scope.$watch((function(){return u.principalSort}),(function(e,t){!e||e===t||u.skipSetQueryParams||u.clearQueryParamsService.diffPathName||(e=e===l.Constants.GroupMemberType.Viewers?l.Constants.GroupPrincipalSort.Members:e,u.featureFlagsService.Values.BrowseBack,u.$location.search(_.assign({},u.extraQueryParams,{sort:e,q:u.searchString}))),u.skipSetQueryParams=!1,u.clearQueryParamsService.diffPathName=!1}))}),100)),u}t.PrincipalResultsController=i},"./app/components/PrivacyModeSelector/PrivacyModeSelector.html":function(e,t){e.exports='<div class="form-group row row-size2"> <div class=column> <label for=videoPermissions>{{::$ctrl.resources.VideoUpdate.permissions}}</label> <tooltip message=$ctrl.resources.ToolTip.Privacy button-aria-label={{::$ctrl.resources.VideoUpdate.permissions}}></tooltip> <video-privacy-selector privacy-mode=$ctrl.video.privacyMode confirm-selection-change=$ctrl.updatePrivacyMode(privacyMode)></video-privacy-selector> </div> </div> <div ng-if=$ctrl.showChannelSelector class="form-group row row-size2"> <div class=column> <channel-selector ng-if=$ctrl.video video-id=$ctrl.video.id selected-channels=$ctrl.video.channels channel-created=$ctrl.channelCreated() channel-removed=$ctrl.channelRemoved() channel-added=$ctrl.channelAdded()> </channel-selector> </div> </div> <div ng-if=$ctrl.showUserSearch class="form-group row row-size2"> <div class=column> <span ng-show=$ctrl.searchDisabled> <span class="searchLimit tooltip-validation-container"><svg-src svg-name=icon_library class=tool-tip-icon></svg-src></span> <label class=label-info-message>{{$ctrl.resources.FormValidation.PrivacyMaxShared}}</label> </span> <auto-complete id=principalSearch search-min-input={{$ctrl.minPrincipalSearch}} search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedPrinciple principals-searched=$ctrl.principalsSearched() principals-added=$ctrl.principalsAdded() custom-disabled=$ctrl.searchDisabled hide-label=$ctrl.searchDisabled /> <div class="principal-group column" ng-if="$ctrl.principals && $ctrl.principals.length"> <principal-group-compact ng-show=$ctrl.principals.length principals=$ctrl.principals is-in-admin-mode=$ctrl.isInAdminMode principals-removed=$ctrl.onPrincipalsRemoved() /> </div> </div> </div>'},"./app/components/PrivacyModeSelector/PrivacyModeSelector.less":function(e,t){},"./app/components/PrivacyModeSelector/PrivacyModeSelector.ts":function(e,t,n){function r(){this.restrict="E",this.link=function(e,t,n,r){},this.controller=o.PrivacyModeSelectorController,this.template=n("./app/components/PrivacyModeSelector/PrivacyModeSelector.html"),this.bindings={video:"<",principals:"=",privacyModeChanged:"&",channelAdded:"&",channelCreated:"&",channelRemoved:"&",principalsSearched:"&",principalsRemoved:"&",principalsAdded:"&",isInAdminMode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrivacyModeSelector/PrivacyModeSelector.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/PrivacyModeSelector/PrivacyModeSelectorController.ts");t.PrivacyModeSelector=r,i.registerComponent("privacyModeSelector",r,angular.module("jumper"))},"./app/components/RecycleBinList/RecycleBinList.html":function(e,t){e.exports=' <div class="row row-size0 search-filter-bar-container"> <div class=search-filter-bar ng-class="{ \'search-enabled\': $ctrl.isSearchEnabled }" ng-if=!$ctrl.isAdminMode sticky-element=$ctrl.filterStickyClass auto-margin-next=true> <search-and-filter ng-if=$ctrl.isSearchEnabled> <search-bar class="column large-3 medium-4 small-6" placeholder=$ctrl.searchBarText label=$ctrl.searchBarLabel default-value=$ctrl.searchString on-search=$ctrl.searchPressed(value) events-list=$ctrl.listEvents.searchEvents></search-bar> </search-and-filter> <div class=items-list-info-message> <div class="c-label retention-placeholder">{{::$ctrl.retentionDurationText}}</div> </div> </div> <div class=search-filter-bar ng-class="{ \'search-enabled\': $ctrl.isSearchEnabled }" ng-if=$ctrl.isAdminMode auto-margin-next=true> <search-and-filter ng-if=$ctrl.isSearchEnabled> <search-bar class="column large-3 medium-4 small-6" placeholder=$ctrl.searchBarText label=$ctrl.searchBarLabel default-value=$ctrl.searchString on-search=$ctrl.searchPressed(value) events-list=$ctrl.listEvents.searchEvents></search-bar> </search-and-filter> <div class=items-list-info-message> <div class="c-label retention-placeholder">{{::$ctrl.retentionDurationText}}</div> </div> </div> </div> <div class="row column row-size1 items-list recycle-bin-list relativeposition"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Videos screen-name=$ctrl.screenName on-more-data-load=$ctrl.onMoreDataLoad(dataLoaded) on-data-change=$ctrl.onDataChange(changedData) on-init=$ctrl.onItemsListInit(itemsListController) full-page-list=false> <header ng-transclude=header> <recycle-bin-video-item-header header-row=true> </recycle-bin-video-item-header> </header> <item ng-transclude=item> <recycle-bin-video-item class=video-item video-item=item metrics=$ctrl.listEvents.itemsEvents is-admin-mode=$ctrl.isAdminMode after-video-removed=$ctrl.afterVideoRemoved(index)> </recycle-bin-video-item> </item> <no-data-message ng-transclude=noDataMessage class=no-data-message ng-if=$ctrl.noDataMessage role=alert> <div class="row column"> <div class="no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.NoDataHeader}}</div> <p class=sub-text-container> {{$ctrl.noDataMessage}} </p> </div> </div> </no-data-message> </items-list> </div>'},"./app/components/RecycleBinList/RecycleBinList.less":function(e,t){},"./app/components/RecycleBinList/RecycleBinList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/RecycleBinList/RecycleBinListController.ts");function o(){this.controller=i.RecycleBinListController,this.template=n("./app/components/RecycleBinList/RecycleBinList.html"),this.bindings={loadData:"&",onInit:"&",screenName:"<",isAdminMode:"<"},this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"?item",filters:"?filters",pageTitle:"?pageTitle",header:"?header"}}n("./app/components/RecycleBinList/RecycleBinList.less"),t.RecycleBinList=o,r.registerComponent("recycleBinList",o,angular.module("jumper"))},"./app/components/RecycleBinList/RecycleBinListController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/utility/string.ts"),c=n("./app/components/ItemsList/ListBase/ListBase.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=c.ListBase),u.prototype.loadDataPage=function(e,t){return this.loadData({skip:e,top:t})},u.prototype.onItemsListInit=function(e){this.itemsListController=e},u.prototype.prepareMessages=function(e){e=null!=e?e:s.Constants.RecycleBinRetentionDurationInDays,this.retentionDurationText=l.formatString(this.resources.RecycleBin.RetentionDescription,e.toString()),this.searchBarText=this.resources.Components.SearchBar.SearchForVideos,this.searchBarLabel=this.resources.Components.SearchBar.SearchForVideosLabel},u.prototype.searchPressed=function(e){this.hasSearched=!!e,this.searchString=e},Object.defineProperty(u.prototype,"isSearchEnabled",{get:function(){return!0===this.featureFlagsService.Values.RecycleBinSearch},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"noDataMessage",{get:function(){return this.hasSearched?this.resources.RecycleBin.SearchNoDataMessage:this.resources.RecycleBin.NoDataMessage},enumerable:!0,configurable:!0}),u.prototype.onInitWatchersInternal=function(){var e=this;this.$scope.$watchGroup(this.watchGroup,(function(t,n,r){e.filtersDefaultWatchFired&&n&&!_.some(t.slice(1),(function(e){return void 0===e}))&&(e.refreshData=!0),e.filtersDefaultWatchFired=!0}))},u.prototype.afterVideoRemoved=function(e){this.itemsListController.currentList&&0!==this.itemsListController.currentList.length?((e=e)>=this.itemsListController.currentList.length&&(e=this.itemsListController.currentList.length-1),$("recycle-bin-video-item:eq("+e+") list-cell.deleted-by-column a").first().focus()):$("button.f-active:visible:enabled",$("[ng-viewport]")).first().focus()},u.$inject=["$scope","resources","telemetryService","featureFlagsService","$location","clearQueryParamsService","tenantService"],i=u;function u(e,t,n,r,i,l,c){var u=o.call(this,e,n,r)||this;return u.$scope=e,u.resources=t,u.telemetryService=n,u.$location=i,u.clearQueryParamsService=l,u.tenantService=c,u.filtersDefaultWatchFired=!1,u.filterStickyClass="show-for-medium",u.onInit({recycleBinListController:u}),a.ActivityIds.initActivityId(u.screenName),u.featureTelemetryTracker=u.telemetryService.getTracker(u.screenName),u.tenantService.getSettings().then((function(e){(e=_.get(e,"data.system.contentManagement.recycleBinRetentionDuration"))?(e=moment.duration(e).asDays(),u.prepareMessages(e)):u.prepareMessages()}),(function(e){u.prepareMessages(),u.featureTelemetryTracker.fail(d.FeatureName.RecycleBinList,d.SubFeatureName.TenantService_GetTenantSettings,e)})),u.watchGroup=[function(){return u.searchString}],u.onInitWatchersInternal(),u.$scope.$watch((function(){return u.searchString}),(function(e,t){e===t||u.clearQueryParamsService.diffPathName||(e?(t=u.$location.search(),u.$location.search(_.assign({},t,{q:e}))):u.$location.search(s.Constants.QueryStringKeys.SearchTerm,null))})),u}t.RecycleBinListController=i},"./app/components/RecycleBinVideoItem/RecycleBinVideoItem.html":function(e,t){e.exports='<div class=video-item> <list-row ng-if=$ctrl.headerRow class=video-item-header-row header-row=true> <list-header-cell class=name-column-header header-label=$ctrl.Resources.RecycleBin.ColumnHeaderName></list-header-cell> <list-header-cell class=deleted-by-column-header header-label=$ctrl.Resources.RecycleBin.DeletedByColumnHeaderName centered=true></list-header-cell> <list-header-cell class=adder-column-header header-label=$ctrl.Resources.RecycleBin.AddedByColumnHeaderName centered=true></list-header-cell> <list-header-cell class=actions-column-header header-label=$ctrl.Resources.RecycleBin.ActionsColumnHeaderName centered=true></list-header-cell> </list-row> <list-row ng-if=!$ctrl.headerRow class=video-item-row tabindex=-1 role=presentation enable-hover=true> <list-cell class=name-column fill-size=true no-fade=true> <div class="draft-poster-container video-list-item-item-thumb"> <draft-poster video=$ctrl.videoItem selected-thumbnail={images:$ctrl.videoItem.posterImage} video-state=$ctrl.videoState on-publish=$ctrl.onPublishSuccess($ctrl.videoItem) process-progress=$ctrl.processProgress upload-progress=$ctrl.uploadProgress hide-publish-button=true is-in-edit-mode=false mute-thumbnail=false></draft-poster> <div ng-if="$ctrl.videoItem.state === \'completed\'" class=video-item-thumb-duration role=presentation> <span aria-hidden=true>{{$ctrl.videoItem.media.duration | videoDuration}}</span> </div> </div> <div class=name-description> <div class="title-heading video-list-item-title" aria-label={{$ctrl.videoItemAriaLabel}}> <span class=draft-info-message aria-hidden=true> <span class=draft-message ng-if=$ctrl.showDraftState>{{::$ctrl.Resources.VideoItemTitlePrefixDraftString}}</span> </span> <svg-src ng-if=$ctrl.isLiveVideo svg-name=icon_live_event ng-class="{\'live-icon-completed\' : $ctrl.isVideoCompleted}" class="live-icon live-icon-completed" aria-label={{::$ctrl.Resources.LiveEventLabel}}></svg-src> <span class=video-title aria-hidden=true custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </div> <div class=deleted-date> <span class=date-text ng-if=$ctrl.videoItem.deletedDate custom-title={{::$ctrl.deletedDateLabel}} light-style=true>{{::$ctrl.deletedDateLabel}}</span> </div> <read-less-read-more text-content=$ctrl.videoItem.description enable-custom-title=false class="c-caption-1 description" default-max-lines=2 ng-cloak on-time-tag-clicked=$ctrl.onTimeTagClicked() use-ellipsis=true is-time-tag-startup=true telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties></read-less-read-more> </div> </list-cell> <list-cell class=deleted-by-column no-fade=true> <div class=user-container> <a ng-href={{::$ctrl.getPrincipalUrl($ctrl.videoItem.deletedBy)}} ng-click=$ctrl.clickPrincipal($event) class="c-action-trigger no-hover principal-link" custom-title={{::$ctrl.videoItem.deletedBy.name}} light-style=true> <img ng-if=$ctrl.videoItem.deletedBy.profileImageUrl ng-src={{::$ctrl.videoItem.deletedBy.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{::$ctrl.Resources.UserProfileImage}} /> <img ng-if=!$ctrl.videoItem.deletedBy.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{::$ctrl.Resources.UserProfileImage}} /> <span class=deleted-by-name>{{::$ctrl.videoItem.deletedBy.name}}</span> </a> </div> </list-cell> <list-cell class=adder-column no-fade=true> <div class=user-container> <a ng-href={{::$ctrl.getPrincipalUrl($ctrl.videoItem.creator)}} ng-click=$ctrl.clickPrincipal($event) class="c-action-trigger no-hover principal-link" custom-title={{::$ctrl.videoItem.creator.name}} light-style=true> <img ng-if=$ctrl.videoItem.creator.profileImageUrl ng-src={{::$ctrl.videoItem.creator.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{::$ctrl.Resources.UserProfileImage}} /> <img ng-if=!$ctrl.videoItem.creator.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{::$ctrl.Resources.UserProfileImage}} /> <span class=creator-name>{{::$ctrl.videoItem.creator.name}}</span> </a> </div> </list-cell> <list-cell class=actions-column no-fade=true allow-overflow=true right-aligned=true> <button type=submit class="delete-button c-action-trigger" ng-if=$ctrl.canDelete ng-click=$ctrl.delete($event) aria-label={{::$ctrl.Resources.Delete}} custom-title={{::$ctrl.Resources.Delete}} light-style=true> <svg-src svg-name=icon_delete></svg-src> </button> <button type=submit class="restore-button c-action-trigger" ng-if=$ctrl.canEdit ng-click=$ctrl.restore($event) aria-label={{::$ctrl.Resources.RecycleBin.RestoreVideoAriaLabel}} custom-title={{::$ctrl.Resources.RecycleBin.RestoreVideoAriaLabel}} light-style=true> <svg-src svg-name=icon_restore></svg-src> </button> </list-cell> </list-row> </div>'},"./app/components/RecycleBinVideoItem/RecycleBinVideoItem.ts":function(e,t,n){function r(){this.controller=o.RecycleBinVideoItemController,this.template=n("./app/components/RecycleBinVideoItem/RecycleBinVideoItem.html"),this.bindings={videoItem:"=",onInit:"&",metrics:"<",isAdminMode:"<",headerRow:"<",afterVideoRemoved:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/RecycleBinVideoItem/RecycleBinVideoItemController.ts");t.RecycleBinVideoItem=r,i.registerComponent("recycleBinVideoItem",r,angular.module("jumper"))},"./app/components/RecycleBinVideoItem/RecycleBinVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/components/ItemsList/ListBase/ListItemBase.ts"),l=n("./app/utility/string.ts"),c=n("./app/models/TelemetryEventModels.ts"),d=n("./app/services/NavigationService.ts"),u=n("./app/utility/appUtil.ts");i(p,o=a.ListItemBase),p.prototype.initMetrics=function(){this.metrics&&(this.metrics[c.ItemMetricEventNames.ItemDeleteClicked]||(this.metrics[c.ItemMetricEventNames.ItemDeleteClicked]=0),this.metrics[c.ItemMetricEventNames.ItemRestoreClicked]||(this.metrics[c.ItemMetricEventNames.ItemRestoreClicked]=0))},p.prototype.getPrincipalUrl=function(e){return e?l.formatString(s.Constants.Routes.User,e.id):""},p.prototype.isCreatingUser=function(){return this.videoItem.creator.id===sessionInfo.UserClaim.UserInfo.UniqueId},p.prototype.getExtraTelemetryProperties=function(){return{isCreatingUser:this.isCreatingUser()}},Object.defineProperty(p.prototype,"deletedDate",{get:function(){return this.$filter("localDate")(this.videoItem.deletedDate,"ll")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"deletedDateLabel",{get:function(){return l.formatString(this.Resources.DeletedDateAriaLabelToolTip,this.deletedDate)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"daysToDeletionToolTip",{get:function(){var e=s.Constants.Time.ONE_DAY*s.Constants.RecycleBinRetentionDurationInDays-(Date.now()-Date.parse(this.videoItem.deletedDate));return e>=s.Constants.Time.ONE_DAY?l.formatString(this.Resources.RecycleBin.TimeToDeletionToolTip,Math.floor(e/s.Constants.Time.ONE_DAY).toString()):null},enumerable:!0,configurable:!0}),p.prototype.clickPrincipal=function(e){e.stopPropagation()},Object.defineProperty(p.prototype,"canDelete",{get:function(){return _.get(this.videoItem,"userData.permissions.canDelete")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"canEdit",{get:function(){return _.get(this.videoItem,"userData.permissions.canEdit")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showDraftState",{get:function(){return!this.videoItem.published&&!this.isLiveVideo},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isLiveVideo",{get:function(){return this.videoItem.contentSource===s.Constants.VideoContentSource.liveStream},enumerable:!0,configurable:!0}),p.prototype.delete=function(e){var t=this;e&&e.stopPropagation();var n=this.$q.defer(),r=this.getExtraTelemetryProperties();return this.metrics&&(this.metrics[c.ItemMetricEventNames.ItemDeleteClicked]=1+this.metrics[c.ItemMetricEventNames.ItemDeleteClicked]),this.deleteConfirmationDialogService.show(s.Constants.ResourceNames.DeletedVideo,this.item.name).then((function(){t.telemetryTracker.setResourceId(t.item.id),t.recycleBinService.delete(t.item.id,t.isAdminMode).then((function(){var e=t.onItemDeleted(t.item);t.telemetryTracker.succeed(c.FeatureName.RecycleBinDeleteVideo,r),t.afterVideoRemoved&&t.$timeout((function(){t.afterVideoRemoved({index:e})}),0)}),(function(e){t.telemetryTracker.fail(c.FeatureName.RecycleBinDeleteVideo,c.SubFeatureName.RecycleBinService_DeleteVideo,e,r)}))})).finally((function(){n.resolve()})),n.promise},p.prototype.restore=function(e){var t=this;e&&e.stopPropagation();var n=this.$q.defer(),r=this.getExtraTelemetryProperties(),i=!(!0===this.item.published||this.isCreatingUser());return this.metrics&&(this.metrics[c.ItemMetricEventNames.ItemRestoreClicked]=1+this.metrics[c.ItemMetricEventNames.ItemRestoreClicked]),this.recycleBinService.restore(this.item.id,this.isAdminMode).then((function(){var e=t.onItemDeleted(t.item);t.telemetryTracker.succeed(c.FeatureName.RecycleBinRestoreVideo,r),t.restoreConfirmationDialogService.show(s.Constants.ResourceNames.DeletedVideo,t.item.name,i).then((function(){t.navigationService.navigate(t.getVideoPageUrl(t.item.id))})).catch((function(){t.afterVideoRemoved&&t.$timeout((function(){t.afterVideoRemoved({index:e})}),0)})).finally((function(){n.resolve()}))}),(function(e){t.telemetryTracker.fail(c.FeatureName.RecycleBinRestoreVideo,c.SubFeatureName.RecycleBinService_RestoreVideo,e,r),n.reject(e)})),n.promise},p.prototype.getVideoPageUrl=function(e){var t;return this.isAdminMode&&(t={isInAdminMode:"true"}),d.generatePathWithQueryStrings(s.Constants.Routes.Video,e,t)},Object.defineProperty(p.prototype,"narratedVideoDuration",{get:function(){var e=this.Resources.Components.VideoListItem;return this.videoItem&&this.videoItem.media?l.formatString("{0} {1}",e.duration,u.getNarratorFriendlyTime(u.formatISODuration(this.videoItem.media.duration),this.Resources.Units.Time)):""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"videoItemAriaLabel",{get:function(){var e=this.Resources.Components.VideoListItem;return this.videoItem.published?l.formatString("{0} {1}",this.videoItem.name,e.video):l.formatString("{0} {1} {2} {3}",this.videoItem.name,this.narratedVideoDuration,this.Resources.Draft,e.video)},enumerable:!0,configurable:!0}),p.$inject=["$scope","recycleBinService","deleteConfirmationDialogService","restoreConfirmationDialogService","resources","$q","$filter","$timeout","telemetryService","$window","navigationService"],i=p;function p(e,t,n,r,i,s,a,l,c,d,u){var m=o.call(this,e,l,p)||this;return m.$scope=e,m.recycleBinService=t,m.deleteConfirmationDialogService=n,m.restoreConfirmationDialogService=r,m.Resources=i,m.$q=s,m.$filter=a,m.$timeout=l,m.telemetryService=c,m.$window=d,m.navigationService=u,m.onInit&&m.onInit({recycleBinVideoItemController:m}),m.headerRow||(m.videoItem=m.item,m.videoState=m.videoItem.state,m.videoItem.id&&m.initMetrics()),m}t.RecycleBinVideoItemController=i},"./app/components/RecycleBinVideoItem/RecycleBinVideoItemHeader.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/RecycleBinVideoItem/RecycleBinVideoItem.ts");i(l,o=a.RecycleBinVideoItem),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.template=n("./app/components/RecycleBinVideoItem/RecycleBinVideoItem.html"),e}t.RecycleBinVideoItemHeader=i,s.registerComponent("recycleBinVideoItemHeader",i,angular.module("jumper"))},"./app/components/Search/SearchAndFilter/SearchAndFilter.html":function(e,t){e.exports='<div class=search-and-filter> <div class="collapse-button column"> <button aria-label={{::$ctrl.resources.Components.SearchAndFilter.ToggleArialLabel}} ng-click=$ctrl.toggle() class="c-glyph c-action-trigger" ng-class="$ctrl.active ? \'up-arrow\': \'down-arrow\'"> {{::$ctrl.resources.Components.SearchAndFilter.Filters}} </button> </div> <div class="search-content row row-size0 column"> <ng-transclude></ng-transclude> </div> </div>'},"./app/components/Search/SearchAndFilter/SearchAndFilter.less":function(e,t){},"./app/components/Search/SearchAndFilter/SearchAndFilter.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Search/SearchAndFilter/SearchAndFilterController.ts");function o(){this.restrict="E",this.transclude=!0,this.template=n("./app/components/Search/SearchAndFilter/SearchAndFilter.html"),this.controller=i.SearchAndFilterController,this.controllerAs="$ctrl",this.bindToController=!0,this.scope={},this.link=function(e,t,n,r){r.toggle=function(){r.active=!r.active;var e=t.find("div.search-content");r.active?e.stop(!0,!0).slideDown(600):e.stop(!0,!0).slideUp(600)}}}n("./app/components/Search/SearchAndFilter/SearchAndFilter.less"),t.SearchAndFilter=o,r.registerDirective("searchAndFilter",o,angular.module("jumper"))},"./app/components/Search/SearchAndFilter/SearchAndFilterController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.$inject=["resources"],r);function r(e){this.resources=e,this.active=!1}t.SearchAndFilterController=n},"./app/components/Search/SearchBar/SearchBar.html":function(e,t){e.exports='<form class="c-search search-bar" ng-class="{\'no-label\': !($ctrl.label || $ctrl.placeholder)}" aria-label={{::$ctrl.resources.Form.AriaLabel.SearchBar}}> <label class=c-label for={{::$ctrl.inputId}}>{{::$ctrl.label || $ctrl.placeholder}}</label> <div class=search-bar-container> <input id={{::$ctrl.inputId}} type=search name=search-field class=search-field ng-model=$ctrl.defaultValue placeholder={{$ctrl.placeholder}} ng-keypress=$ctrl.keyPressed($event) maxlength={{::$ctrl.searchStringMaxLength}}> <button ng-show=$ctrl.showClearButton() class="c-glyph clear-button" name=clear-button ng-click=$ctrl.clearInput() aria-label={{::$ctrl.resources.Components.SearchBar.ClearButtonAriaLabel}}></button> <button class="c-glyph search-button" name=search-button tabindex=-1 ng-click="$ctrl.onSearchInternal({value: $ctrl.defaultValue})" aria-label={{::$ctrl.resources.Components.SearchBar.SearchButtonAriaLabel}}> </button> </div> </form> '},"./app/components/Search/SearchBar/SearchBar.less":function(e,t){},"./app/components/Search/SearchBar/SearchBar.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Search/SearchBar/SearchBarController.ts");function o(){this.restrict="E",this.controller=i.SearchBarController,this.template=n("./app/components/Search/SearchBar/SearchBar.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={placeholder:"<",defaultValue:"<",onSearch:"&",eventsList:"=",label:"<"},this.link=function(e,t,n,r){r.keyPressed=function(e){var n,i;13===e.keyCode&&(n=t.find(".search-button"),i=t.find(".search-field"),r.onSearchInternal({value:r.defaultValue}),n.focus(),i.focus(),e.stopPropagation(),e.preventDefault())}}}n("./app/components/Search/SearchBar/SearchBar.less"),t.SearchBar=o,r.registerDirective("searchBar",o,angular.module("jumper"))},"./app/components/Search/SearchBar/SearchBarController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/appUtil.ts");o.prototype.onSearchInternal=function(e){this.eventsList++,this.onSearch(e)},o.prototype.clearInput=function(){this.defaultValue="",$(".search-field").focus()},o.prototype.showClearButton=function(){return this.defaultValue&&0<this.defaultValue.length},o.$inject=["$scope","resources"],n=o;function o(e,t){this.$scope=e,this.resources=t,this.searchStringMaxLength=r.Constants.MaxLengths.SearchInput,this.inputId="search-"+i.generateGuid()}t.SearchBarController=n},"./app/components/Search/SearchFilter/SearchFilter.html":function(e,t){e.exports="<div class=search-filter> <div class=c-label ng-class={{::$ctrl.labelClass}}>{{$ctrl.model.label}}</div> <drop-down ltr-content=$ctrl.ltrContent name=dropdown options=$ctrl.model.options value=$ctrl.value value-changed=$ctrl.ItemChanged(newValue) aria-label={{::$ctrl.model.label}} show-scroll=$ctrl.showScroll class={{$ctrl.dropDownClass}}></drop-down> </div> "},"./app/components/Search/SearchFilter/SearchFilter.less":function(e,t){},"./app/components/Search/SearchFilter/SearchFilter.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Search/SearchFilter/SearchFilterController.ts");function o(){this.controller=i.SearchFilterController,this.template=n("./app/components/Search/SearchFilter/SearchFilter.html"),this.bindings={model:"<",value:"=",metrics:"<",telemetryPrefix:"<",actionRole:"<",targetProperty:"<",showScroll:"<",ltrContent:"<",dropDownClass:"<",labelClass:"<"}}n("./app/components/Search/SearchFilter/SearchFilter.less"),t.SearchFilter=o,r.registerComponent("searchFilter",o,angular.module("jumper"))},"./app/components/Search/SearchFilter/SearchFilterController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.ItemChanged=function(e){var t;this.metrics&&(t=_.find(this.model.options,(function(t){return t.value===e})).telemetrySuffix,t=this.generateMetricKey(t),this.metrics[t]=1+this.metrics[t])},r.prototype.generateMetricKey=function(e){return this.keyCache[e]||(this.keyCache[e]=this.telemetryPrefix+e),this.keyCache[e]},r.$inject=["$scope","$timeout","resources"],r);function r(e,t,n){var r=this;this.$scope=e,this.$timeout=t,this.resources=n,this.showScroll=!1,this.keyCache={},this.$timeout((function(){r.model&&r.metrics&&_.forEach(r.model.options,(function(e){e=r.generateMetricKey(e.telemetrySuffix),r.metrics[e]=0}))}),0)}t.SearchFilterController=n},"./app/components/SpotlightList/SpotlightList.html":function(e,t){e.exports='<div class="row column row-size1 items-list spotlight-list"> <div class=info-container> {{$ctrl.currentSpotlightMessage}} </div> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Videos screen-name=$ctrl.screenName on-more-data-load=$ctrl.onMoreDataLoad(dataLoaded) on-data-change=$ctrl.onDataChange(changedData) on-init=$ctrl.onItemsListInit(itemsListController) full-page-list=false additional-success-telemetry=$ctrl.additionalSuccessTelemetry() additional-failure-telemetry=$ctrl.additionalFailureTelemetry(err)> <header ng-transclude=header> <spotlight-video-item header-row=true> </spotlight-video-item> </header> <item ng-transclude=item> <spotlight-video-item class=video-item hide-creator=false video-item=item metrics=$ctrl.listEvents.itemsEvents on-init=$ctrl.onSpotlightVideoItemInit(spotlightVideoItemController)> </spotlight-video-item> </item> <no-data-message ng-transclude=noDataMessage class=no-data-message ng-if=$ctrl.noDataMessage> {{$ctrl.noDataMessage}} </no-data-message> </items-list> <div class=add-action ng-if="$ctrl.displayAddVideo && !$ctrl.userClickedAddVideoAlready"> <svg-src svg-name=icon_add class=new-video-icon></svg-src> <button class="add-video c-action-trigger" aria-label={{::$ctrl.resources.AddSpotlightVideo}} ng-click=$ctrl.onAddVideoClick($event)> {{$ctrl.resources.AddSpotlightVideo}} </button> </div> <div class="video-input search-container" ng-if="$ctrl.displayInputBox && $ctrl.userClickedAddVideoAlready"> <video-channel-search item-selected=$ctrl.selectVideo(video) is-already-added=$ctrl.isAlreadyAdded(videoId) place-holder-text=$ctrl.placeHolderText is-video-search=$ctrl.isVideoSearch group-id=$ctrl.groupId is-admin-mode=$ctrl.isAdminMode> </video-channel-search> </div> <div class=max-message ng-if="$ctrl.changedData.length === $ctrl.maxAllowedSpotlight"> {{$ctrl.resources.SpotlightMaxLimitMessage}} </div> </div>'},"./app/components/SpotlightList/SpotlightList.less":function(e,t){},"./app/components/SpotlightList/SpotlightList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/SpotlightList/SpotlightListController.ts");function o(){this.controller=i.SpotlightListController,this.template=n("./app/components/SpotlightList/SpotlightList.html"),this.bindings={loadData:"&",onInit:"&",noDataMessage:"<",screenName:"<",groupId:"<",additionalSuccessTelemetry:"&",additionalFailureTelemetry:"&",me:"<",isAdminMode:"<"},this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"?item",filters:"?filters",pageTitle:"?pageTitle",header:"?header"}}n("./app/components/SpotlightList/SpotlightList.less"),t.SpotlightList=o,r.registerComponent("spotlightList",o,angular.module("jumper"))},"./app/components/SpotlightList/SpotlightListController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/utility/string.ts"),c=n("./app/components/ItemsList/ListBase/ListBase.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=c.ListBase),Object.defineProperty(u.prototype,"placeHolderText",{get:function(){return this.resources.SpotlightVideoInputPlaceHolderText},enumerable:!0,configurable:!0}),u.prototype.loadDataPage=function(e,t){return this.loadData({skip:e,top:t})},u.prototype.onItemsListInit=function(e){this.itemsListController=e},u.prototype.refresh=function(){this.itemsListController&&this.itemsListController.loadData(this.maxAllowedSpotlight,this.maxAllowedSpotlight)},u.prototype.onMoreDataLoad=function(e){this.prepareMessageAndInput(),this.dataLoaded=e,this.changedData=e,this.displayAddVideoCheck()},u.prototype.onDataChange=function(e){this.changedData=e,this.prepareMessageAndInput(),this.changedData&&this.changedData.length<this.maxAllowedSpotlight&&!this.userClickedAddVideoAlready?this.displayAddVideo=!0:this.displayAddVideo=!1},u.prototype.onAddVideoClick=function(e){this.userClickedAddVideoAlready=!0,e.preventDefault()},u.prototype.selectVideo=function(e){e&&e.id&&(e.creator=this.me,e.created=(new Date).toISOString(),this.itemsListController&&this.itemsListController.currentList&&(this.itemsListController.currentList.push(e),this.changedData=this.itemsListController.currentList,this.videoUrl="",this.prepareMessageAndInput(),this.featureTelemetryTracker.succeed(d.FeatureName.GetVideoForSpotlight)))},u.prototype.isAlreadyAdded=function(e){return _.some(this.itemsListController.currentList,(function(t){return t.id===e}))},u.prototype.prepareMessageAndInput=function(){this.displayInputBox=!this.changedData||this.changedData.length<this.maxAllowedSpotlight,this.currentSpotlightMessage=l.formatString(this.resources.SpotlightVideosCurrentlyConfigured,this.changedData?this.changedData.length.toString():"0",this.maxAllowedSpotlight.toString()),this.changedData&&0!==this.changedData.length?(this.noDataMessage="",this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!1)):(this.noDataMessage=this.resources.SpotlightVideoNoVideosErrorMessage,this.itemsListController&&(this.itemsListController.showCustomNoDataMessage=!0))},Object.defineProperty(u.prototype,"isStartAsAUrl",{get:function(){return new RegExp(s.Constants.startAsUrlRegEx.source).test(this.videoUrl)},enumerable:!0,configurable:!0}),u.prototype.displayAddVideoCheck=function(){this.displayAddVideo=!this.dataLoaded||this.dataLoaded&&this.dataLoaded.length<this.maxAllowedSpotlight},u.$inject=["$scope","videoService","resources","telemetryService","$timeout"],i=u;function u(e,t,n,r){var i=o.call(this,e)||this;return i.$scope=e,i.videoService=t,i.resources=n,i.telemetryService=r,i.isVideoSearch=!0,i.invalidUrl=!1,i.isItemAlreadyExist=!1,i.getVideoBackEndError="",i.userClickedAddVideoAlready=!1,i.displayInputBox=!0,i.displayAddVideo=!1,i.maxAllowedSpotlight=s.Constants.MaxSpotlightVideos,i.totalRecordLoaded=0,i.onInit({spotlightListController:i}),a.ActivityIds.initActivityId(i.screenName),i.$scope.$watch((function(){return i.dataLoaded}),(function(){return i.prepareMessageAndInput()})),i.$scope.$watch((function(){return i.changedData}),(function(){return i.prepareMessageAndInput()})),i.featureTelemetryTracker=i.telemetryService.getTracker(i.screenName),i.displayAddVideoCheck(),i}t.SpotlightListController=i},"./app/components/SpotlightVideoItem/SpotlightVideoItem.html":function(e,t){e.exports='<div class="video-item spotlight-video-item"> <list-row ng-if=$ctrl.headerRow class=video-item-header-row header-row=true> <list-header-cell class=name-column-header header-label=$ctrl.Resources.SpotlightVideoColumnHeaderName></list-header-cell> <list-header-cell class=added-date-column-header header-label=$ctrl.Resources.SpotlightDateAddedColumnHeaderName centered=true></list-header-cell> <list-header-cell class=adder-column-header header-label=$ctrl.Resources.SpotlightAddedByColumnHeaderName centered=true></list-header-cell> <list-header-cell class=actions-column-header header-label=ActionColumns centered=true></list-header-cell> </list-row> <list-row ng-if=!$ctrl.headerRow class=video-item-row tabindex=-1 role=presentation ng-click=$ctrl.gotoVideo($event) enable-hover=true> <list-cell class=name-column fill-size=true no-fade=true> <div class="draft-poster-container video-list-item-item-thumb"> <a ng-href={{$ctrl.videoPageUrl}} tabindex=-1 role=presentation ng-click=$ctrl.onVideoClick($event) class="c-hyperlink draft-poster-link" aria-label={{$ctrl.videoItemAriaLabel}}> <draft-poster video=$ctrl.videoItem selected-thumbnail={images:$ctrl.videoItem.posterImage} video-state=$ctrl.videoState on-publish=$ctrl.onPublishSuccess($ctrl.videoItem) process-progress=$ctrl.processProgress upload-progress=$ctrl.uploadProgress hide-publish-button=true is-in-edit-mode=false mute-thumbnail=true></draft-poster> </a> <div ng-if="$ctrl.videoItem.state === \'completed\'" class=video-item-thumb-duration role=presentation> <span aria-hidden=true>{{$ctrl.videoItem.media.duration | videoDuration}}</span> </div> </div> <div class=name-description> <a class="c-hyperlink c-caption-1 video-list-item-title no-hover" ng-href={{$ctrl.videoPageUrl}} ng-click=$ctrl.onVideoClick($event) id={{$ctrl.videoItemDOMId}} aria-label={{$ctrl.videoItemAriaLabel}}> <div class=draft-info-message> <span class=draft-message ng-if=$ctrl.showDraftState aria-hidden=true>{{::$ctrl.Resources.VideoItemTitlePrefixDraftString}}</span> <span class=state-info-message ng-if=$ctrl.showInfoState aria-hidden=true>{{$ctrl.videoStateInfoString}}</span> </div> <span class=video-title aria-hidden=true custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </a> <read-less-read-more text-content=$ctrl.videoItem.description enable-custom-title=true class="c-caption-1 description" default-max-lines=2 ng-cloak on-time-tag-clicked=$ctrl.onTimeTagClicked() use-ellipsis=true is-time-tag-startup=true telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties></read-less-read-more> </div> </list-cell> <list-cell class=added-date-column centered=true no-fade=true> <span class=date-text ng-if=$ctrl.videoItem.created>{{::$ctrl.addedDate}}</span> </list-cell> <list-cell class=adder-column no-fade=true> <div class=user-container> <a ng-href={{::$ctrl.creatorPageUrl}} ng-click=$ctrl.clickCreator($event) class="c-action-trigger no-hover principal-link" aria-label={{::$ctrl.videoItem.creator.name}} custom-title={{::$ctrl.videoItem.creator.name}} light-style=true> <img ng-if=$ctrl.videoItem.creator.profileImageUrl ng-src={{::$ctrl.videoItem.creator.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}}/ > <img ng-if=!$ctrl.videoItem.creator.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}}/ > </a> </div> </list-cell> <list-cell class=actions-column no-fade=true allow-overflow=true right-aligned=true ng-click=$ctrl.onActionColumnClick($event)> <button class="move-up c-action-trigger" aria-label={{::$ctrl.resources.SpotlightMoveUp}} ng-click=$ctrl.moveVideoUp() ng-disabled=$ctrl.isFirstItem> <svg-src svg-name=icon_move_up></svg-src> </button> <button class="move-down c-action-trigger" aria-label={{::$ctrl.resources.SpotlightMoveDown}} ng-click=$ctrl.moveVideoDown() ng-disabled=$ctrl.isLastItem> <svg-src svg-name=icon_move_down></svg-src> </button> <button class="remove c-action-trigger" aria-label={{::$ctrl.resources.AdminSettingsSpotlightMoveDelete}} ng-click=$ctrl.removeVideo()> <svg-src svg-name=icon_cancel></svg-src> </button> </list-cell> </list-row> </div>'},"./app/components/SpotlightVideoItem/SpotlightVideoItem.less":function(e,t){},"./app/components/SpotlightVideoItem/SpotlightVideoItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/SpotlightVideoItem/SpotlightVideoItem.less"),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/SpotlightVideoItem/SpotlightVideoItemController.ts"),l=n("./app/components/VideoItem/VideoItem.ts");i(c,o=l.VideoItem),i=c;function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.SpotlightVideoItemController,e.template=n("./app/components/SpotlightVideoItem/SpotlightVideoItem.html"),e.bindings={videoItem:"=",onVideoDeleted:"&",onInit:"&",hideToolBox:"<",hidePrivacy:"<",videoSource:"<",hideCreator:"<",metrics:"<",videoOwner:"<",isStreamAdmin:"<",headerRow:"<",sortKey:"<",fixedElements:"<",isInAdminMode:"<"},e}t.SpotlightVideoItem=i,s.registerComponent("spotlightVideoItem",i,angular.module("jumper"))},"./app/components/SpotlightVideoItem/SpotlightVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/VideoItem/VideoItemController.ts"),a=n("./app/utility/Constants.ts");i(l,o=s.VideoItemController),Object.defineProperty(l.prototype,"addedDate",{get:function(){return this.$filter("localDate")(this.videoItem.created,"ll")},enumerable:!0,configurable:!0}),l.prototype.onActionColumnClick=function(e){e.stopPropagation()},l.prototype.removeVideo=function(){this.itemsListController.onItemDeletedWithoutFetching(this.item)},l.prototype.moveVideoUp=function(){this.itemsListController.onMoveItemUp(this.item)},l.prototype.moveVideoDown=function(){this.itemsListController.onMoveItemDown(this.item)},Object.defineProperty(l.prototype,"isLastItem",{get:function(){return this.itemsListController.isLastItem(this.item)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isFirstItem",{get:function(){return this.itemsListController.isFirstItem(this.item)},enumerable:!0,configurable:!0}),l.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=l;function l(e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C){return(C=o.call(this,e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C,a.Constants.TagClickSource.SpotlightVideoItem)||this).itemsListController=C.listScope.$ctrl,C.onInit&&C.onInit({spotlightVideoItemController:C}),C}t.SpotlightVideoItemController=i},"./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResults.html":function(e,t){e.exports='<channel-results load-channel-results="$ctrl.loadChannelResults(skip, top)" on-init=$ctrl.onInit(channelResultsController) hide-on-unfollow=true> </channel-results>'},"./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResults.less":function(e,t){},"./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResultsController.ts");function o(){this.controller=i.ChannelsFollowingResultsController,this.template=n("./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResults.html")}n("./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResults.less"),t.ChannelsFollowingResults=o,r.registerComponent("channelsFollowingResults",o,angular.module("jumper"))},"./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){this.channelResultsController=e,this.channelResultsController.telemetryEventName=s.TelemetryEventNames.channelsFollowingEventName,this.channelResultsController.screenName=s.ScreenName.ChannelsFollowing,this.channelResultsController.defaultSort=r.Constants.ChannelsSortOptions.Subscribers},a.prototype.loadChannelResults=function(e,t){var n=this.channelResultsController.searchString||"";return this.channelService.getMyFollowingChannels(t,this.channelResultsController.channelSort,this.channelResultsController.sortDirection,n,e,!0,this.channelResultsController.isInAdminMode)},a.$inject=["$scope","channelService","resources","$window","$timeout","telemetryService","$location"],n=a;function a(e,t,n,a,l,c,d){this.$scope=e,this.channelService=t,this.resources=n,this.$window=a,this.$timeout=l,this.telemetryService=c,this.$location=d,this.screenName=s.ScreenName.ChannelsFollowing,this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(this.screenName),this.$window.document.title=o.formatString(this.resources.BrowserTitle.FollowingChannels,r.Constants.ProductName)}t.ChannelsFollowingResultsController=n},"./app/components/Studio/RecentlyViewedVideoItem/RecentlyViewedVideoItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Studio/RecentlyViewedVideoItem/RecentlyViewedVideoItemController.ts");n=n("./app/components/VideoItem/VideoItem.ts"),i(l,o=n.VideoItem),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.RecentlyViewedVideoItemController,e}t.RecentlyViewedVideoItem=i,s.registerComponent("recentlyViewedVideoItem",i,angular.module("jumper"))},"./app/components/Studio/RecentlyViewedVideoItem/RecentlyViewedVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/string.ts"),a=n("./app/utility/Constants.ts");n=n("./app/components/VideoItem/VideoItemController.ts"),i(l,o=n.VideoItemController),Object.defineProperty(l.prototype,"infoMessage",{get:function(){return this.videoItem.userData?s.formatString(this.Resources.Components.Watchlist.PinnedDate,this.$filter("localDate")(this.videoItem.userData.pinnedDate,"l")):""},enumerable:!0,configurable:!0}),l.prototype.InitDrawerItems=function(){this.drawerItems=[],o.prototype.InitDrawerItems.call(this)},l.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=l;function l(e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C){return(y=o.call(this,e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C)||this).$scope=e,y.videoService=t,y.deleteConfirmationDialogService=n,y.dataPollingService=r,y.Resources=i,y.$q=s,y.navigationService=l,y.$filter=c,y.addChannelsDialog=d,y.addGroupChannelsDialog=u,y.videoShareDialog=p,y.videoBgUploaderService=m,y.telemetryService=g,y.principalService=b,y.$window=S,y.videoEditorDialog=_,y.replaceVideoService=C,y.videoSource.list=a.Constants.lists.WatchList,y}t.RecentlyViewedVideoItemController=i},"./app/components/Studio/StudioChannelResults/StudioChannelResults.html":function(e,t){e.exports='<channel-results load-channel-results="$ctrl.loadChannelResults(skip, top)" on-init=$ctrl.onInit(channelResultsController)> <prepend-item ng-if=$ctrl.canCreateChannel> <div class=studio-channel-creation-btn-container ng-click=$ctrl.createChannel($event)> <button type=button class="c-glyph c-action-trigger ng-binding create-channel-card"> {{::$ctrl.resources.Components.Studio.ChannelResult.CreateChannel}} </button> </div> </prepend-item> <item> <channel-card channel-item=item is-list-item=true show-description=true show-videos=false metrics=$ctrl.channelResultsController.listEvents.itemsEvents after-channel-removed=$ctrl.channelResultsController.afterChannelRemoved(index) /> </item> </channel-results>'},"./app/components/Studio/StudioChannelResults/StudioChannelResults.less":function(e,t){},"./app/components/Studio/StudioChannelResults/StudioChannelResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Studio/StudioChannelResults/StudioChannelResultsController.ts");function o(){this.controller=i.StudioChannelResultsController,this.template=n("./app/components/Studio/StudioChannelResults/StudioChannelResults.html"),this.bindtocontroller=!0,this.bindings={canCreateChannel:"<",searchString:"<",channelSort:"<"}}n("./app/components/Studio/StudioChannelResults/StudioChannelResults.less"),t.StudioChannelResults=o,r.registerComponent("studioChannelResults",o,angular.module("jumper"))},"./app/components/Studio/StudioChannelResults/StudioChannelResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/ActivityIds.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){this.channelResultsController=e,this.channelResultsController.telemetryEventName=s.TelemetryEventNames.studioChannelsSessionEventName,this.channelResultsController.screenName=this.screenName,this.channelResultsController.channelSortOptions={label:this.resources.Sortby,options:[{value:r.Constants.ChannelsSortOptions.Created,text:this.resources.Browse.ChannelSort.CreationDate,telemetrySuffix:r.Constants.sortBySuffixOptions.CreatedDate},{value:r.Constants.ChannelsSortOptions.Relevance,text:this.resources.Browse.ChannelSort.Relavance,telemetrySuffix:r.Constants.sortBySuffixOptions.Relevance},{value:r.Constants.ChannelsSortOptions.Subscribers,text:this.resources.Browse.ChannelSort.Subscribers,telemetrySuffix:r.Constants.sortBySuffixOptions.Subscribers},{value:r.Constants.ChannelsSortOptions.Videos,text:this.resources.Browse.ChannelSort.Videos,telemetrySuffix:r.Constants.sortBySuffixOptions.Videos}]},this.channelResultsController.defaultSort=r.Constants.ChannelsSortOptions.Created},a.prototype.loadChannelResults=function(e,t){return this.channelService.getMyChannels(this.channelResultsController.searchString,this.channelResultsController.channelSort,this.channelResultsController.sortDirection,e,t,!0)},a.prototype.createChannel=function(e){var t=this;this.createChannelDialog.open().closePromise.then((function(e){(e=e.value&&e.value.channel?e.value.channel:null)&&(t.channelResultsController.channelSort===r.Constants.ChannelsSortOptions.Created?t.channelResultsController.newCreatedChannel=e:t.channelResultsController.channelSort=r.Constants.ChannelsSortOptions.Created)})).catch((function(e){})),e.stopPropagation()},a.$inject=["$scope","channelService","resources","deleteConfirmationDialogService","navigationService","createChannelDialog","telemetryService","$window","$location"],n=a;function a(e,t,n,a,l,c,d,u,p){this.$scope=e,this.channelService=t,this.resources=n,this.deleteConfirmationDialogService=a,this.navigationService=l,this.createChannelDialog=c,this.telemetryService=d,this.$window=u,this.$location=p,this.screenName=s.ScreenName.MyChannels,this.telemetryService.getTracker(this.screenName).tagScreen(),o.ActivityIds.initActivityId(this.screenName),this.userId=sessionInfo.UserClaim.UserInfo.UniqueId,u.document.title=i.formatString(this.resources.BrowserTitle.ChannelsStudio,r.Constants.ProductName)}t.StudioChannelResultsController=n},"./app/components/Studio/StudioGroupResults/StudioGroupResults.html":function(e,t){e.exports='<group-results load-group-results="$ctrl.loadGroupResults(skip, top)" on-init=$ctrl.onInit(groupResultsController) ng-if=$ctrl.me> <prepend-item ng-if=$ctrl.isCreateGroupEnabled()> <div class=studio-group-creation-btn-container ng-click=$ctrl.createGroup($event) tabindex=-1> <button type=button class="c-glyph c-action-trigger ng-binding create-group-card"> {{::$ctrl.resources.Components.Studio.GroupResult.CreateGroup}} </button> </div> </prepend-item> </group-results> <react-group-create ng-if=$ctrl.useO365GroupShareableControl on-close=::$ctrl.onGroupCreateComplete></react-group-create>'},"./app/components/Studio/StudioGroupResults/StudioGroupResults.less":function(e,t){},"./app/components/Studio/StudioGroupResults/StudioGroupResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Studio/StudioGroupResults/StudioGroupResultsController.ts");function o(){this.controller=i.StudioGroupResultsController,this.template=n("./app/components/Studio/StudioGroupResults/StudioGroupResults.html"),this.bindtocontroller=!0}n("./app/components/Studio/StudioGroupResults/StudioGroupResults.less"),t.StudioGroupResults=o,r.registerComponent("studioGroupResults",o,angular.module("jumper"))},"./app/components/Studio/StudioGroupResults/StudioGroupResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){this.groupResultsController=e,this.groupResultsController.telemetryEventName=s.TelemetryEventNames.studioGroupsSessionEventName,this.groupResultsController.screenName=s.ScreenName.StudioGroups,this.groupResultsController.defaultSort=r.Constants.GroupsSortOptions.Name,this.groupResultsController.defaultGroupFilter=r.Constants.GroupsFilterOptions.HideEmptyGroups},a.prototype.loadGroupResults=function(e,t){return this.groupResultsController.isFilterEmptyGroupsEnabled()?this.groupService.getMyGroups(this.groupResultsController.searchString||"",this.groupResultsController.groupSort,this.groupResultsController.sortDirection,e,t,this.groupResultsController.groupFilter):this.groupService.getMyGroups(this.groupResultsController.searchString||"",this.groupResultsController.groupSort,this.groupResultsController.sortDirection,e,t)},a.prototype.createGroup=function(e){var t=this;if(this.isShareableGroupEnabled){var n=Date.parse(sessionInfo.LokiTokenExpiry);if(!n||isNaN(n))try{(n=Date.parse(JSON.parse(sessionInfo.LokiTokenExpiry)))&&!isNaN(n)||(n=0)}catch(e){n=0}var i=Date.now();!sessionInfo.LokiToken||!sessionInfo.MSGraphToken||n<i?this.dataService.makeWebTierRequest("/ClearAllCookies","POST",null,{}).then((function(){t.$rootScope.$broadcast(r.Constants.Events.SessionExpired)})):this.useO365GroupShareableControl=!0}else this.groupCreateDialog.open().closePromise.then((function(e){e&&e.value&&e.value&&t.postGroupCreationAction(e.value.group)})).catch((function(e){})),e.stopPropagation()},a.prototype.isCreateGroupEnabled=function(){return this.me&&this.me.permissions.canCreateGroup},Object.defineProperty(a.prototype,"isShareableGroupEnabled",{get:function(){return this.featureFlagsService.Values.ShareableGroupCRUDControl},enumerable:!0,configurable:!0}),a.prototype.postGroupCreationAction=function(e){e&&(this.groupResultsController.groupSort===r.Constants.GroupsSortOptions.CreatedDate?this.groupResultsController.newCreatedGroup=e:this.groupResultsController.groupSort=r.Constants.GroupsSortOptions.CreatedDate)},a.$inject=["$scope","$rootScope","groupService","resources","$window","$timeout","telemetryService","featureFlagsService","groupCreateDialog","principalService","dataService","$location"],n=a;function a(e,t,n,a,l,c,d,u,p,m,h,g){var f=this;this.$scope=e,this.$rootScope=t,this.groupService=n,this.resources=a,this.$window=l,this.$timeout=c,this.telemetryService=d,this.featureFlagsService=u,this.groupCreateDialog=p,this.principalService=m,this.dataService=h,this.$location=g,this.screenName=s.ScreenName.StudioGroups,this.useO365GroupShareableControl=!1,this.onGroupCreateComplete=function(e){f.isShareableGroupEnabled&&(f.useO365GroupShareableControl=!1),f.groupService.get(e).then((function(t){f.telemetryTracker.succeed(s.FeatureName.O365Group,{groupId:e}),f.postGroupCreationAction(t)}),(function(e){f.telemetryTracker.fail(s.FeatureName.O365Group,s.SubFeatureName.GroupService_Get,e)}))},this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(this.screenName),this.$window.document.title=o.formatString(this.resources.BrowserTitle.StudioGroups,r.Constants.ProductName),this.telemetryTracker=this.telemetryService.getTracker(s.ScreenName.BrowseGroups),this.principalService.getMyPrincipalInfo().then((function(e){f.me=e.data})),e.$on("$destroy",(function(){f.$location.search(r.Constants.QueryStringKeys.Sort,null)})),u.Values.BrowseBack&&this.$timeout((function(){f.$scope.$watch((function(){return f.$location.search()}),(function(e,t){e[r.Constants.QueryStringKeys.Sort]?f.groupSort=e[r.Constants.QueryStringKeys.Sort]:f.groupSort=r.Constants.GroupsSortOptions.Name}))}),0)}t.StudioGroupResultsController=n},"./app/components/Studio/StudioMeetingsResults/StudioMeetingsResults.ts":function(e,t,n){function r(){this.controller=o.StudioMeetingsResultsController,this.template=n("./app/components/Studio/StudioVideoResults/StudioVideoResults.html"),this.bindings={transcriptSearch:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Studio/StudioVideoResults/StudioVideoResults.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Studio/StudioMeetingsResults/StudioMeetingsResultsController.ts");t.StudioMeetingsResults=r,i.registerComponent("studioMeetingsResults",r,angular.module("jumper"))},"./app/components/Studio/StudioMeetingsResults/StudioMeetingsResultsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/components/Studio/StudioVideoResults/StudioVideoResultsController.ts"),l=n("./app/utility/string.ts");i(c,o=a.StudioVideoResultsController),c.prototype.loadMyVideos=function(e,t){return this.videoResultsController.searchString&&(this.videoResultsController.videoSource=this.videoSource={search:this.videoResultsController.searchString}),this.featureFlagsService.Values.AllMeetings?this.loadMyMeetings(e,t):this.loadMyOwnedMeetings(e,t)},c.prototype.loadMyOwnedMeetings=function(e,t){return this.videoService.getMyVideos(this.videoResultsController.videoSort,this.videoResultsController.sortDirection,e,t,this.videoResultsController.searchString||null,this.videoState,this.videoPrivacy,void 0,s.Constants.VideoContentType.meeting,this.transcriptSearch)},c.prototype.loadMyMeetings=function(e,t){var n="contentType eq '"+s.Constants.VideoContentType.meeting+"'";return this.videoState!==s.Constants.VideoStateOptions.All&&(n+=" and published eq "+this.videoState),this.videoPrivacy&&this.videoPrivacy!==s.Constants.VideoPrivacyOptions.All&&(n=n+" and privacyMode eq '"+this.videoPrivacy+"'"),this.videoResultsScope&&this.videoResultsScope!==s.Constants.VideoResultsScopeOptions.All&&this.videoResultsScope===s.Constants.VideoResultsScopeOptions.Owned&&(n=n+"and creator/id eq '"+sessionInfo.UserClaim.UserInfo.UniqueId+"'"),this.videoService.search(this.videoResultsController.searchString||null,this.videoResultsController.videoSort,this.videoResultsController.sortDirection,e,t,!1,n)},c.prototype.onPublishSuccess=function(e){e.published=!0},c.$inject=["$scope","videoService","resources","deleteConfirmationDialogService","$filter","telemetryService","featureFlagsService","$window","$location","clearQueryParamsService","navigationService"],i=c;function c(e,t,n,r,i,a,c,d,u,p,m){return(m=o.call(this,e,t,n,r,i,a,c,d,u,p,m)||this).showTeamsUpsell=!0,c.Values.AllMeetings&&(m.showVideoScopeStateFilter=!0,m.showPublishedStateFilter=!1),d.document.title=l.formatString(m.resources.BrowserTitle.MeetingsStudio,s.Constants.ProductName),m}t.StudioMeetingsResultsController=i},"./app/components/Studio/StudioPage/StudioPage.html":function(e,t){e.exports='<div class=studio-page-v2 ngf-drop ngf-drop-disabled="!$ctrl.videosSelected || ($ctrl.uploadDisabled && !$ctrl.policyAckNeeded)" ng-model=$ctrl.files ng-show=$ctrl.videoEditorInactive ngf-drag-over-class=studio-dragover ngf-multiple=true> <upload-permissions compact=true files=$ctrl.files upload-disabled=$ctrl.uploadDisabled policy-acknowledged-needed=$ctrl.policyAckNeeded ng-if=$ctrl.videosSelected on-compact-display=$ctrl.onCompactUploadPermissionDisplay()> </upload-permissions> <div class="new-tab-navigation-bar o365-topnav-configuration"> <div class="navigation-bar-wrapper row column row-size1"> <div class=navigation-bar> <tab-navigation model=$ctrl.tabOptions value=$ctrl.selectedTabOption on-select=$ctrl.tabSelected(value) is-v2-style-enabled=true left-allign=true fixed-elements=$ctrl.fixedElements on-init=$ctrl.onTabNavigationInit(tabNavigationController)></tab-navigation> </div> <div class=upload-placeholder ng-hide="($ctrl.uploadDisabled && !$ctrl.policyAckNeeded) || !$ctrl.videosSelected"> <div class=hide-for-medium> <button class=c-hyperlink ngf-select ng-model=$ctrl.files ngf-multiple=true aria-label={{::$ctrl.resources.UploadVideo}}> <svg-src svg-name=icon_upload inline-with-text=true class="upload-icon permissions-container-top" aria-hidden=true /> </button> </div> <div class=show-for-medium> <svg-src svg-name=icon_upload inline-with-text=true class="upload-icon permissions-container-top" aria-hidden=true /> <button class=c-hyperlink ngf-select ng-model=$ctrl.files ngf-multiple=true> {{::$ctrl.compact? $ctrl.resources.UploadMoreMessage: $ctrl.resources.UploadMessage}} </button> </div> </div> </div> </div> <section class="section-size3 page-section o365-page-style" aria-label={{$ctrl.selectedTabText}} ng-class="{\'new-list-page-style\' : $ctrl.videosSelected}"> <div class="row column row-size1" ng-if=$ctrl.videosSelected> <div class=items-list> <studio-video-results transcript-search=$ctrl.transcriptSearchEnabled search-string=$ctrl.searchString video-sort=$ctrl.videoSort video-state=$ctrl.videoState video-privacy=$ctrl.videoPrivacy></studio-video-results> </div> </div> <div class="row column row-size1 studio-items-list channels-result" ng-if=$ctrl.channelsSelected> <div class=items-list> <studio-channel-results can-create-channel=$ctrl.createChannelEnabled search-string=$ctrl.searchString channel-sort=$ctrl.channelSort></studio-channel-results> </div> </div> <div class="row column row-size1 studio-items-list groups-result" ng-if=$ctrl.groupsSelected> <div class=items-list> <studio-group-results></studio-group-results> </div> </div> <div class="row column row-size1 studio-items-list watchlist-result" ng-if=$ctrl.watchlistSelected> <div class=items-list> <studio-watchlist-results></studio-watchlist-results> </div> </div> <div class="row column row-size1 studio-items-list follow-results" ng-if=$ctrl.followedChannelsSelected> <div class=items-list> <channels-following-results></channels-following-results> </div> </div> <div class="row column row-size1 studio-items-list recently-viewed-result" ng-if=$ctrl.recentlyViewedSelected> <div class=items-list> <studio-recently-viewed-results></studio-recently-viewed-results> </div> </div> <div class="row column row-size1" ng-if=$ctrl.meetingsSelected> <div class=items-list> <studio-meetings-results transcript-search=$ctrl.transcriptSearchEnabled search-string=$ctrl.searchString video-sort=$ctrl.videoSort video-state=$ctrl.videoState video-privacy=$ctrl.videoPrivacy></studio-meetings-results> </div> </div> <div class="row column row-size1 studio-items-list recycle-bin-result" ng-if=$ctrl.recycleBinSelected> <div class=items-list> <studio-recycle-bin-results></studio-recycle-bin-results> </div> </div> </section> </div> '},"./app/components/Studio/StudioPage/StudioPage.less":function(e,t){},"./app/components/Studio/StudioPage/StudioPage.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Studio/StudioPage/StudioPageController.ts");function o(){this.controller=i.StudioPageController,this.template=n("./app/components/Studio/StudioPage/StudioPage.html"),this.bindings={routeParams:"<"},this.bindToController=!0}n("./app/components/Studio/StudioPage/StudioPage.less"),t.StudioPage=o,r.registerComponent("studioPage",o,angular.module("jumper"))},"./app/components/Studio/StudioPage/StudioPageController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/ScreenRecorderUtils.ts");function l(e,t,n,r,l,c,d,u,p,m,h,g){var f=this;this.$scope=e,this.resources=t,this.$location=n,this.$timeout=r,this.principalService=l,this.navigationService=d,this.featureFlagsService=u,this.screenRecorderDialog=p,this.tenantService=m,this.companyPolicyDialog=h,this.fixedElements=["header"],this.uploadDisabled=!0,this.policyAckNeeded=!1,this.videoEditorInactive=!0,this.queryStrings=n.search(),this.initTabs(),this.telemetryTracker=g.getTracker(o.ScreenName.MyVideos),this.principalService.getMyPrincipalInfo().then((function(e){f.me=e.data,f.telemetryTracker.succeed(s.FeatureName.GetPrincipalSettings),"true"===f.queryStrings.showScreenRecorder&&a.launchScreenRecorder(f.tenantService,f.me,f.companyPolicyDialog,f.resources,f.screenRecorderDialog)}),(function(e){f.telemetryTracker.fail(s.FeatureName.GetPrincipalSettings,s.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})).finally((function(){f.transcriptSearchEnabled=f.me&&f.me.servicePlans.capabilities.transcriptSearch,f.createChannelEnabled=f.me&&f.me.permissions.canCreateChannel})),this.$scope.$watch((function(){return f.files}),(function(e){e&&0<e.length&&(c.files=e,d.navigate(i.Constants.Routes.Upload))})),this.$scope.$on(i.Constants.Events.videoEditorLoaded,(function(){f.videoEditorInactive=!1})),this.$scope.$on(i.Constants.Events.videoEditorClosed,(function(){f.videoEditorInactive=!0})),e.$on("$destroy",(function(){angular.element(window).off("resize",f.adjustDebounced)}))}(n=r=t.TypeFilter||(t.TypeFilter={}))[n.Videos=0]="Videos",n[n.Channels=1]="Channels",n[n.Groups=2]="Groups",n[n.Watchlist=3]="Watchlist",n[n.FollowingChannels=4]="FollowingChannels",n[n.RecentlyViewed=5]="RecentlyViewed",n[n.Meetings=6]="Meetings",n[n.RecycleBin=7]="RecycleBin",Object.defineProperty(l.prototype,"videosSelected",{get:function(){return this.selectedTabOption===r.Videos},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"meetingsSelected",{get:function(){return this.selectedTabOption===r.Meetings},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"channelsSelected",{get:function(){return this.selectedTabOption===r.Channels},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"groupsSelected",{get:function(){return this.selectedTabOption===r.Groups},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"watchlistSelected",{get:function(){return this.selectedTabOption===r.Watchlist},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"recentlyViewedSelected",{get:function(){return this.selectedTabOption===r.RecentlyViewed},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"followedChannelsSelected",{get:function(){return this.selectedTabOption===r.FollowingChannels},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"recycleBinSelected",{get:function(){return this.selectedTabOption===r.RecycleBin},enumerable:!0,configurable:!0}),l.prototype.onCompactUploadPermissionDisplay=function(){function e(){angular.element("div.page-title").css("padding-top",angular.element(".upload-permissions-container").height()),angular.element(".page-title-value").css("padding-top","22px")}var t=this;this.adjustDebounced=_.debounce(e),setTimeout((function(){t.selectedTabOption===r.Videos&&e()}),0),angular.element(window).resize(this.adjustDebounced)},l.prototype.tabSelected=function(e){this.selectedTabOption=e,this.$location.path("/studio/"+["videos","channels","groups","watchlist","followingchannels","recentlyviewed","meetings","recyclebin"][this.selectedTabOption])},l.prototype.onTabNavigationInit=function(e){this.tabNavigationController=e},l.prototype.initTabs=function(){var e=this;this.tabOptions={options:[{value:r.Videos,text:this.resources.TopbarVideos},{value:r.Groups,text:this.resources.TopbarGroups},{value:r.Channels,text:this.resources.TopbarChannels},{value:r.Meetings,text:this.resources.TopbarMeetings},{value:r.Watchlist,text:this.resources.TopbarWatchlist},{value:r.FollowingChannels,text:this.resources.TopbarFollowed},{value:r.RecentlyViewed,text:this.resources.TopbarRecentlyViewed,hide:!this.featureFlagsService.Values.RecentlyViewed},{value:r.RecycleBin,text:this.resources.TopbarRecycleBin,hide:!this.featureFlagsService.Values.RecycleBin}]},this.$scope.$watch((function(){return window.location.href}),(function(t,n){-1!=t.indexOf("/studio")&&(e.selectedTabOption=r.Videos,["videos","channels","groups","watchlist","followingchannels","recentlyviewed","meetings","recyclebin"].forEach((function(n,r){0<t.indexOf("/studio/"+n)&&(e.selectedTabOption=r)})),setTimeout((function(){e.tabNavigationController&&e.tabNavigationController.focusActiveTab()}),0))}))},l.$inject=["$scope","resources","$location","$timeout","principalService","dataShareService","navigationService","featureFlagsService","screenRecorderDialog","tenantService","companyPolicyDialog","telemetryService"],n=l,t.StudioPageController=n},"./app/components/Studio/StudioRecentlyViewedResults/StudioRecentlyViewedResults.html":function(e,t){e.exports='<video-results ng-if=$ctrl.ready load-video-results="$ctrl.loadVideoResults(skip, top)" on-init=$ctrl.onInit(videoResultsController)> <item> <recently-viewed-video-item hide-creator=true video-item=item video-source=$ctrl.videoSource metrics=$ctrl.videoResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.videoResultsController.isStreamAdmin></recently-viewed-video-item> </item> <no-data-message> <div class="row column"> <div class="no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.NoDataHeader}}</div> <p ng-if=!$ctrl.videoResultsController.searchString> {{::$ctrl.resources.Components.Watchlist.VideoResult.NoDataMessage}} <a ng-click=$ctrl.goToBrowsePage() class="no-data-message-link c-hyperlink">{{::$ctrl.resources.Components.Watchlist.VideoResult.NoDataMessageLinkText}}</a> </p> <p ng-if=$ctrl.videoResultsController.searchString> {{::$ctrl.videoResultsController.noDataMessage}} </p> </div> </div> </no-data-message> </video-results> '},"./app/components/Studio/StudioRecentlyViewedResults/StudioRecentlyViewedResults.ts":function(e,t,n){function r(){this.controller=o.StudioRecentlyViewedResultsController,this.template=n("./app/components/Studio/StudioRecentlyViewedResults/StudioRecentlyViewedResults.html")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Studio/StudioRecentlyViewedResults/StudioRecentlyViewedResultsController.ts");t.StudioRecentlyViewedResults=r,i.registerComponent("studioRecentlyViewedResults",r,angular.module("jumper"))},"./app/components/Studio/StudioRecentlyViewedResults/StudioRecentlyViewedResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/models/TelemetryEventModels.ts");l.prototype.onInit=function(e){(this.videoResultsController=e).searchBarText=this.resources.Components.SearchBar.WatchlistSearchForVideos,e.searchBarLabel=this.resources.Components.SearchBar.WatchlistSearchForVideosLabel,e.searchString="",e.telemetryEventName=s.TelemetryEventNames.myWatchlistVideosSessionEventName,e.screenName=s.ScreenName.RecentlyViewed,e.defaultSort=r.Constants.VideoSortOptions.LastViewDate,e.videoSource.list=r.Constants.lists.RecentlyViewed,this.videoResultsController.listEvents.itemsEvents[s.ItemMetricEventNames.ItemPublished]||(this.videoResultsController.listEvents.itemsEvents[s.ItemMetricEventNames.ItemPublished]=0),e.videoSortOptions={label:this.resources.Sortby,options:[{value:r.Constants.VideoSortOptions.Relevance,text:this.resources.Browse.VideoSort.Relevance},{value:r.Constants.VideoSortOptions.Trending,text:this.resources.Browse.VideoSort.Trending},{value:r.Constants.VideoSortOptions.LastViewDate,text:this.resources.Browse.VideoSort.LastWatchedDate},{value:r.Constants.VideoSortOptions.Views,text:this.resources.Browse.VideoSort.Views},{value:r.Constants.VideoSortOptions.Likes,text:this.resources.Browse.VideoSort.Likes}]},this.initSearchWatcher()},l.prototype.loadVideoResults=function(e,t){return this.videoService.getRecentlyViewedVideos(this.videoResultsController.videoSort,this.videoResultsController.sortDirection,e,t,this.videoResultsController.searchString,this.me&&this.me.servicePlans.capabilities.transcriptSearch)},l.prototype.goToBrowsePage=function(){this.navigationService.navigate(r.Constants.Routes.Browse)},l.prototype.initSearchWatcher=function(){var e=this;this.$scope.$watch((function(){return e.videoResultsController.searchString}),(function(t,n){t!==n&&(!n&&t?e.videoResultsController.videoSortOptions.options.splice(2,1):n&&!t&&e.videoResultsController.videoSortOptions.options.splice(2,0,{value:r.Constants.VideoSortOptions.PinnedDate,text:e.resources.Browse.VideoSort.PinnedDate}))}))},l.$inject=["$scope","videoService","resources","$window","navigationService","telemetryService","principalService"],n=l;function l(e,t,n,l,c,d,u){var p=this;this.$scope=e,this.videoService=t,this.resources=n,this.$window=l,this.navigationService=c,this.telemetryService=d,this.principalService=u,this.videoSource={list:r.Constants.lists.RecentlyViewed},this.screenName=s.ScreenName.RecentlyViewed,i.ActivityIds.initActivityId(s.ScreenName.RecentlyViewed),this.$window.document.title=o.formatString(this.resources.BrowserTitle.RecentlyViewed,r.Constants.ProductName),this.telemetryTracker=this.telemetryService.getTracker(s.ScreenName.RecentlyViewed),this.telemetryTracker.tagScreen(),this.principalService.getMyPrincipalInfo().then((function(e){p.me=e.data,p.telemetryTracker.succeed(a.FeatureName.GetPrincipalSettings)}),(function(e){p.telemetryTracker.fail(a.FeatureName.GetPrincipalSettings,a.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})).finally((function(){p.ready=!0}))}t.StudioRecentlyViewedResultsController=n},"./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResults.html":function(e,t){e.exports='<recycle-bin-list load-data="$ctrl.loadData(skip, top)" on-init=$ctrl.onRecycleBinListInit(recycleBinListController) is-admin-mode=$ctrl.isAdminMode screen-name=$ctrl.screenName></recycle-bin-list>'},"./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResults.less":function(e,t){},"./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResults.ts":function(e,t,n){function r(){this.controller=o.StudioRecycleBinResultsController,this.template=n("./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResults.html"),this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResultsController.ts");t.StudioRecycleBinResults=r,i.registerComponent("studioRecycleBinResults",r,angular.module("jumper"))},"./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResults.less");var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/ActivityIds.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onRecycleBinListInit=function(e){this.recycleBinListController=e,this.recycleBinListController.screenName=this.screenName},a.prototype.loadData=function(e,t){return this.recycleBinService.getDeletedVideos(e,t,this.isAdminMode,this.recycleBinListController.searchString)},Object.defineProperty(a.prototype,"screenName",{get:function(){return s.ScreenName.RecycleBin},enumerable:!0,configurable:!0}),a.$inject=["$scope","recycleBinService","resources","telemetryService","$window"],n=a;function a(e,t,n,s,a){this.$scope=e,this.recycleBinService=t,this.resources=n,this.telemetryService=s,this.$window=a,this.isAdminMode=!1,this.telemetryService.getTracker(this.screenName).tagScreen(),o.ActivityIds.initActivityId(this.screenName),a.document.title=i.formatString(this.resources.BrowserTitle.BrowseRecycleBin,r.Constants.ProductName)}t.StudioRecycleBinResultsController=n},"./app/components/Studio/StudioVideoResults/StudioVideoResults.html":function(e,t){e.exports='<video-results load-video-results="$ctrl.loadMyVideos(skip, top)" on-init=$ctrl.onInit(videoResultsController) extra-query-params=$ctrl.extraQueryParams show-teams-upsell=$ctrl.showTeamsUpsell> <filters> <search-and-filter> <search-bar class="column large-3 medium-3 small-6" placeholder=$ctrl.videoResultsController.searchBarText label=$ctrl.videoResultsController.searchBarLabel default-value=$ctrl.videoResultsController.searchString on-search=$ctrl.videoResultsController.searchPressed(value) events-list=$ctrl.videoResultsController.listEvents.searchEvents></search-bar> <search-filter action-role=sort class="column large-3 medium-3 small-6 video-sort-options" model=$ctrl.videoResultsController.videoSortOptions value=$ctrl.videoResultsController.videoSort metrics=$ctrl.videoResultsController.listEvents.sortEvents telemetry-prefix=$ctrl.videoResultsController.sortByPrefix></search-filter> <search-filter action-role=filter target-property=published class="column large-3 medium-3 small-6 video-state-options" model=$ctrl.videoStateOptions value=$ctrl.videoState metrics=$ctrl.videoResultsController.listEvents.stateFilterEvents telemetry-prefix=$ctrl.stateFilterByPrefix ng-if=$ctrl.showPublishedStateFilter></search-filter> <search-filter action-role=filter target-property=videoResultsScope class="column large-3 medium-3 small-6 video-state-options" model=$ctrl.videoResultsScopeOptions value=$ctrl.videoResultsScope metrics=$ctrl.videoResultsController.listEvents.videoScopeFilterEvents telemetry-prefix=$ctrl.videoScopeFilterByPrefix ng-if=$ctrl.showVideoScopeStateFilter></search-filter> <search-filter action-role=filter target-property=privacyMode class="column large-3 medium-3 small-6 video-privacy-options" model=$ctrl.videoPrivacyOptions value=$ctrl.videoPrivacy metrics=$ctrl.videoResultsController.listEvents.privacyFilterEvents telemetry-prefix=$ctrl.privacyFilterByPrefix></search-filter> </search-and-filter> </filters> <item> <video-item hide-creator=true video-source=$ctrl.videoSource video-item=item on-video-deleted=$ctrl.onDeleteVideo(videoItem) on-format-info-message=$ctrl.onFormatInfoMessage(videoItem) metrics=$ctrl.videoResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.videoResultsController.isStreamAdmin fixed-elements=$ctrl.fixedElements> </video-item> </item> </video-results>'},"./app/components/Studio/StudioVideoResults/StudioVideoResults.less":function(e,t){},"./app/components/Studio/StudioVideoResults/StudioVideoResults.ts":function(e,t,n){function r(){this.controller=o.StudioVideoResultsController,this.template=n("./app/components/Studio/StudioVideoResults/StudioVideoResults.html"),this.bindings={transcriptSearch:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Studio/StudioVideoResults/StudioVideoResults.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Studio/StudioVideoResults/StudioVideoResultsController.ts");t.StudioVideoResults=r,i.registerComponent("studioVideoResults",r,angular.module("jumper"))},"./app/components/Studio/StudioVideoResults/StudioVideoResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Studio/StudioVideoResults/StudioVideoResults.less");var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/ActivityIds.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){var t=this;this.videoResultsController=e,this.videoResultsController.searchBarText=this.resources.Components.SearchBar.SearchMyUploads,this.videoResultsController.searchBarLabel=this.resources.Components.SearchBar.SearchMyUploadsLabel,this.videoResultsController.telemetryEventName=s.TelemetryEventNames.studioVideosSessionEventName,this.videoResultsController.screenName=this.screenName,this.videoResultsController.videoSource=this.videoSource,this.videoResultsController.sortByPrefix=r.Constants.metricsPrefixes.SortBy,this.videoResultsController.listEvents.itemsEvents[s.ItemMetricEventNames.ItemPublished]||(this.videoResultsController.listEvents.itemsEvents[s.ItemMetricEventNames.ItemPublished]=0),this.videoResultsController.videoSortOptions={label:this.resources.Sortby,options:(this.featureFlagsService.Values.SortByName?[{value:r.Constants.VideoSortOptions.Name,text:this.resources.Browse.VideoSort.Name,telemetrySuffix:r.Constants.sortBySuffixOptions.Name}]:[]).concat([{value:r.Constants.VideoSortOptions.Relevance,text:this.resources.Browse.VideoSort.Relevance,telemetrySuffix:r.Constants.sortBySuffixOptions.Relevance},{value:r.Constants.VideoSortOptions.UploadDate,text:this.resources.Browse.VideoSort.CreatedDate,telemetrySuffix:r.Constants.sortBySuffixOptions.CreatedDate},{value:r.Constants.VideoSortOptions.Views,text:this.resources.Browse.VideoSort.Views,telemetrySuffix:r.Constants.sortBySuffixOptions.Views},{value:r.Constants.VideoSortOptions.Likes,text:this.resources.Browse.VideoSort.Likes,telemetrySuffix:r.Constants.sortBySuffixOptions.Likes}])},this.videoResultsController.defaultSort=r.Constants.VideoSortOptions.UploadDate,this.videoResultsController.watchGroup=[function(){return t.videoResultsController.searchString},function(){return t.videoResultsController.videoSort},function(){return t.videoState},function(){return t.videoPrivacy},function(){return t.videoResultsScope}]},a.prototype.loadMyVideos=function(e,t){return this.videoResultsController.searchString&&(this.videoResultsController.videoSource=this.videoSource={search:this.videoResultsController.searchString}),this.videoResultsController.sortDirection=r.Constants.VideoSortOptionToSortDirection[this.videoResultsController.videoSort]||r.Constants.SortDirection.Descending,this.videoService.getMyVideos(this.videoResultsController.videoSort,this.videoResultsController.sortDirection,e,t,this.videoResultsController.searchString||null,this.videoState,this.videoPrivacy,void 0,void 0,this.transcriptSearch,this.featureFlagsService.Values.LiveEventOptions)},a.prototype.onPublishSuccess=function(e){e.published=!0},a.$inject=["$scope","videoService","resources","deleteConfirmationDialogService","$filter","telemetryService","featureFlagsService","$window","$location","clearQueryParamsService","navigationService"],n=a;function a(e,t,n,s,a,l,c,d,u,p,m){var h=this;this.$scope=e,this.videoService=t,this.resources=n,this.deleteConfirmationDialogService=s,this.$filter=a,this.telemetryService=l,this.featureFlagsService=c,this.$window=d,this.$location=u,this.clearQueryParamsService=p,this.videoState=r.Constants.VideoStateOptions.All,this.videoResultsScope=r.Constants.VideoResultsScopeOptions.All,this.videoPrivacy=r.Constants.VideoPrivacyOptions.All,this.videoSource={list:r.Constants.lists.Studio},this.stateFilterByPrefix=r.Constants.metricsPrefixes.StateFilterBy,this.privacyFilterByPrefix=r.Constants.metricsPrefixes.PrivacyFilterBy,this.videoScopeFilterByPrefix=r.Constants.metricsPrefixes.VideoScopeFilterBy,this.fixedElements=[".topbar-v2",".o365-topnav-configuration",".search-filter-bar"],this.showVideoScopeStateFilter=!1,this.showPublishedStateFilter=!0,this.screenName=m.getPageName(),this.telemetryService.getTracker(this.screenName).tagScreen(),o.ActivityIds.initActivityId(this.screenName),this.videoStateOptions={label:this.resources.State,options:[{value:r.Constants.VideoStateOptions.All,text:this.resources.All,telemetrySuffix:r.Constants.filterBySuffixOptions.All},{value:r.Constants.VideoStateOptions.Draft,text:this.resources.Draft,telemetrySuffix:r.Constants.filterBySuffixOptions.Draft},{value:r.Constants.VideoStateOptions.Published,text:this.resources.Published,telemetrySuffix:r.Constants.filterBySuffixOptions.Published}]},this.videoResultsScopeOptions={label:this.resources.VideoResultsScope.FilterTitle,options:[{value:r.Constants.VideoResultsScopeOptions.All,text:this.resources.VideoResultsScope.Anyone,telemetrySuffix:r.Constants.filterBySuffixOptions.All},{value:r.Constants.VideoResultsScopeOptions.Owned,text:this.resources.VideoResultsScope.Me,telemetrySuffix:r.Constants.filterBySuffixOptions.Owned}]},this.videoPrivacyOptions={label:this.resources.Privacy,options:[{value:r.Constants.VideoPrivacyOptions.All,text:this.resources.PrivacyOptions.All,telemetrySuffix:r.Constants.filterBySuffixOptions.All},{value:r.Constants.VideoPrivacyOptions.Company,text:this.resources.PrivacyOptions.Company,telemetrySuffix:r.Constants.filterBySuffixOptions.Company},{value:r.Constants.VideoPrivacyOptions.Limited,text:this.resources.PrivacyOptions.Limited,telemetrySuffix:r.Constants.filterBySuffixOptions.Limited}]},this.extraQueryParams={state:this.$location.search()[r.Constants.QueryStringKeys.State]||this.videoState,privacy:this.$location.search()[r.Constants.QueryStringKeys.Privacy]||this.videoPrivacy,videoResultsScope:this.$location.search()[r.Constants.QueryStringKeys.ResultsScope]||this.videoResultsScope},d.document.title=i.formatString(this.resources.BrowserTitle.VideosStudio,r.Constants.ProductName),this.featureFlagsService.Values.BrowseBack&&(this.$scope.$watch((function(){return h.$location.search()}),(function(e,t){e[r.Constants.QueryStringKeys.State]&&(h.videoState=e[r.Constants.QueryStringKeys.State]),e[r.Constants.QueryStringKeys.Privacy]&&(h.videoPrivacy=e[r.Constants.QueryStringKeys.Privacy]),e[r.Constants.QueryStringKeys.ResultsScope]&&(h.videoResultsScope=e[r.Constants.QueryStringKeys.ResultsScope]),h.clearQueryParamsService.diffPathName||(e[r.Constants.QueryStringKeys.State]||(h.videoState=r.Constants.VideoStateOptions.All),e[r.Constants.QueryStringKeys.Privacy]||(h.videoPrivacy=r.Constants.VideoPrivacyOptions.All),e[r.Constants.QueryStringKeys.ResultsScope]||(h.videoResultsScope=r.Constants.VideoResultsScopeOptions.All))})),this.$scope.$watch((function(){return h.videoState}),(function(e,t){void 0!==e&&e!==t&&(h.extraQueryParams={state:h.videoState,privacy:h.videoPrivacy,videoResultsScope:h.videoResultsScope},h.featureFlagsService.Values.BrowseBack,h.$location.search({q:h.$location.search()[r.Constants.QueryStringKeys.SearchTerm],sort:h.$location.search()[r.Constants.QueryStringKeys.Sort],state:e,privacy:h.videoPrivacy,videoResultsScope:h.videoResultsScope}))})),this.$scope.$watch((function(){return h.videoPrivacy}),(function(e,t){e&&e!==t&&(h.extraQueryParams={state:h.videoState,privacy:h.videoPrivacy,videoResultsScope:h.videoResultsScope},h.featureFlagsService.Values.BrowseBack,h.$location.search({q:h.$location.search()[r.Constants.QueryStringKeys.SearchTerm],sort:h.$location.search()[r.Constants.QueryStringKeys.Sort],state:h.videoState,privacy:e,videoResultsScope:h.videoResultsScope}))})),this.$scope.$watch((function(){return h.videoResultsScope}),(function(e,t){e&&e!==t&&(h.extraQueryParams={state:h.videoState,privacy:h.videoPrivacy,videoResultsScope:h.videoResultsScope},h.featureFlagsService.Values.BrowseBack,h.$location.search({q:h.$location.search()[r.Constants.QueryStringKeys.SearchTerm],sort:h.$location.search()[r.Constants.QueryStringKeys.Sort],state:h.videoState,privacy:h.videoPrivacy,videoResultsScope:e}))})))}t.StudioVideoResultsController=n},"./app/components/Studio/StudioWatchlistResults/StudioWatchlistResults.html":function(e,t){e.exports='<video-results ng-if=$ctrl.ready load-video-results="$ctrl.loadVideoResults(skip, top)" on-init=$ctrl.onInit(videoResultsController)> <item> <watchlist-video-item hide-creator=true video-item=item video-source=$ctrl.videoSource metrics=$ctrl.videoResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.videoResultsController.isStreamAdmin is-in-admin-mode=$ctrl.videoResultsController.isInAdminMode></watchlist-video-item> </item> <no-data-message> <div class="row column"> <div class="no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.NoDataHeader}}</div> <p ng-if=!$ctrl.videoResultsController.searchString> {{::$ctrl.resources.Components.Watchlist.VideoResult.NoDataMessage}} <a ng-click=$ctrl.goToBrowsePage() class="no-data-message-link c-hyperlink">{{::$ctrl.resources.Components.Watchlist.VideoResult.NoDataMessageLinkText}}</a> </p> <p ng-if=$ctrl.videoResultsController.searchString> {{::$ctrl.videoResultsController.noDataMessage}} </p> </div> </div> </no-data-message> </video-results> '},"./app/components/Studio/StudioWatchlistResults/StudioWatchlistResults.ts":function(e,t,n){function r(){this.controller=o.StudioWatchlistResultsController,this.template=n("./app/components/Studio/StudioWatchlistResults/StudioWatchlistResults.html"),this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Studio/StudioWatchlistResults/StudioWatchlistResultsController.ts");t.StudioWatchlistResults=r,i.registerComponent("studioWatchlistResults",r,angular.module("jumper"))},"./app/components/Studio/StudioWatchlistResults/StudioWatchlistResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/models/TelemetryEventModels.ts");l.prototype.onInit=function(e){(this.videoResultsController=e).searchBarText=this.resources.Components.SearchBar.WatchlistSearchForVideos,e.searchBarLabel=this.resources.Components.SearchBar.WatchlistSearchForVideosLabel,e.searchString="",e.telemetryEventName=s.TelemetryEventNames.myWatchlistVideosSessionEventName,e.screenName=s.ScreenName.Watchlist,e.defaultSort=r.Constants.VideoSortOptions.PinnedDate,e.videoSource.list=r.Constants.lists.WatchList,this.videoResultsController.listEvents.itemsEvents[s.ItemMetricEventNames.ItemPublished]||(this.videoResultsController.listEvents.itemsEvents[s.ItemMetricEventNames.ItemPublished]=0),e.videoSortOptions={label:this.resources.Sortby,options:[{value:r.Constants.VideoSortOptions.Relevance,text:this.resources.Browse.VideoSort.Relevance,telemetrySuffix:r.Constants.sortBySuffixOptions.Relevance},{value:r.Constants.VideoSortOptions.Trending,text:this.resources.Browse.VideoSort.Trending,telemetrySuffix:r.Constants.sortBySuffixOptions.Trending},{value:r.Constants.VideoSortOptions.PinnedDate,text:this.resources.Browse.VideoSort.PinnedDate,telemetrySuffix:r.Constants.sortBySuffixOptions.AddedDate},{value:r.Constants.VideoSortOptions.Views,text:this.resources.Browse.VideoSort.Views,telemetrySuffix:r.Constants.sortBySuffixOptions.Views},{value:r.Constants.VideoSortOptions.Likes,text:this.resources.Browse.VideoSort.Likes,telemetrySuffix:r.Constants.sortBySuffixOptions.Likes}]},this.initSearchWatcher()},l.prototype.loadVideoResults=function(e,t){return this.videoService.getPinnedVideos(this.videoResultsController.videoSort,this.videoResultsController.sortDirection,e,t,this.videoResultsController.searchString,this.me&&this.me.servicePlans.capabilities.transcriptSearch)},l.prototype.goToBrowsePage=function(){this.navigationService.navigate(r.Constants.Routes.Browse)},l.prototype.initSearchWatcher=function(){var e=this;this.$scope.$watch((function(){return e.videoResultsController.searchString}),(function(t,n){t!==n&&(!n&&t?e.videoResultsController.videoSortOptions.options.splice(2,1):n&&!t&&e.videoResultsController.videoSortOptions.options.splice(2,0,{value:r.Constants.VideoSortOptions.PinnedDate,text:e.resources.Browse.VideoSort.PinnedDate}))}))},l.$inject=["$scope","videoService","resources","$window","navigationService","telemetryService","principalService"],n=l;function l(e,t,n,l,c,d,u){var p=this;this.$scope=e,this.videoService=t,this.resources=n,this.$window=l,this.navigationService=c,this.telemetryService=d,this.principalService=u,this.videoSource={list:r.Constants.lists.WatchList},this.screenName=s.ScreenName.Watchlist,i.ActivityIds.initActivityId(s.ScreenName.Watchlist),this.$window.document.title=o.formatString(this.resources.BrowserTitle.MyWatchlist,r.Constants.ProductName),this.telemetryTracker=this.telemetryService.getTracker(s.ScreenName.Watchlist),this.telemetryTracker.tagScreen(),this.principalService.getMyPrincipalInfo().then((function(e){p.me=e.data,p.telemetryTracker.succeed(a.FeatureName.GetPrincipalSettings)}),(function(e){p.telemetryTracker.fail(a.FeatureName.GetPrincipalSettings,a.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})).finally((function(){p.ready=!0}))}t.StudioWatchlistResultsController=n},"./app/components/TopNav/TopNav.html":function(e,t){e.exports="<topbar></topbar> "},"./app/components/TopNav/TopNav.less":function(e,t){},"./app/components/TopNav/TopNav.ts":function(e,t,n){function r(){this.controller=i.TopNavController,this.template=n("./app/components/TopNav/TopNav.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/TopNav/TopNav.less");var i=n("./app/components/TopNav/TopNavController.ts"),o=n("./app/utility/appUtil.ts");t.TopNav=r,o.registerComponent("topNav",r,angular.module("jumper"))},"./app/components/TopNav/TopNavController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/models/O365ShellModels.ts");s.prototype.updateNavBarData=function(e){var t=this,n=e&&e.permissions&&e.permissions.canManageStream,i=(i=_.unescape(sessionInfo.OfficeNavBarData)).replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})),s=JSON.parse(i);s&&(this.featureSummary={correlationId:s.CorrelationID,mySettingsLinkClicked:!1,adminSettingsLinkClicked:!1},e=_.findIndex(s.AppsLinks,(function(e){return"ShellMicrosoftStream"===e.Id})),i="https://"+r.urlResolve(window.location.href).hostname,0<=e&&window&&window.location&&window.location.href&&(s.AppsLinks[e].BackgroundColor="#C30052",s.AppsLinks[e].Url=i),s.CurrentWorkloadHelpSubLinks=new Array,e=[],this.featureFlagsService.Values.RemoveHelpLinks||(e=["GettingStarted","Community","GiveFeedback","Blog"]),e.push("AboutStream"),e.forEach((function(e){var n=e+"HelpLink",r="HelpLink"+e;t.helpLinkIds[e]?s.CurrentWorkloadHelpSubLinks.push(new o.NavBarLinkData(n,t.resources[r],"http://go.microsoft.com/fwlink/?LinkID="+t.helpLinkIds[e]+"&clcid="+sessionInfo.LCID,"_blank")):s.CurrentWorkloadHelpSubLinks.push(new o.NavBarLinkData(n,t.resources[r],"#")),t.featureSummary[t.getSummaryKey(n)]=!1})),s.CurrentWorkloadSettingsSubLinks=new Array,s.CurrentWorkloadSettingsSubLinks.push(new o.NavBarLinkData("MySettingsLink",this.resources.MySettings,"/usersettings")),n&&s.CurrentWorkloadSettingsSubLinks.push(new o.NavBarLinkData("AdminSettingsLink",this.resources.AdminSettings,"/admin")),s.CommunityLink=s.FeedbackLink=s.HelpLink=s.LegalLink=s.PrivacyLink=null,s.SignOutLink.Url=i+"/?signout=1",s.SignOutLink.TargetWindow="_self",portalConfiguration.EnableMockApiGateway||O365Shell.OnSignOut((function(){window.localStorage&&window.localStorage.clear(),window.sessionStorage&&window.sessionStorage.clear()})),O365Shell.SetData(s),O365Shell.RenderAsync({top:"stream-office-top-nav",disableDelayLoad:!0,disableHelpSearch:!0,isThinHeader:!0},(function(){return t.handleTopNavRendered()}),(function(){return t.handleTopNavLoaded()})))},s.prototype.handleTopNavRendered=function(){var e=this.aboutStreamDialog,t=this.featureSummary,n=this.getSummaryKey;O365Shell.Navigation.OnLinkClick((function(r){r&&r.Id&&("AboutStreamHelpLink"===r.Id&&e.open(),r=n(r.Id),t[r]=!0)})),this.telemetryTracker.trackEvent(i.TelemetryEventNames.officeTopNavRendered)},s.prototype.handleTopNavLoaded=function(){this.telemetryTracker.trackEvent(i.TelemetryEventNames.officeTopNavLoaded),this.telemetryTracker.succeed(i.FeatureName.OfficeTopNav)},s.prototype.getSummaryKey=function(e){return(e&&2<e.length?""+e.charAt(0).toLowerCase()+e.substr(1):"")+"Clicked"},Object.defineProperty(s.prototype,"isOfficeNavEnabled",{get:function(){return sessionInfo&&!_.isNil(sessionInfo.OfficeNavBarData)&&!_.isNil(O365Shell)},enumerable:!0,configurable:!0}),s.$inject=["$scope","telemetryService","featureFlagsService","principalService","resources","AboutStreamDialog","$location"],n=s;function s(e,t,n,r,o,s,a){var l=this;this.$scope=e,this.telemetryService=t,this.featureFlagsService=n,this.principalService=r,this.resources=o,this.aboutStreamDialog=s,this.$location=a,this.shouldShowTopbar=!_.isNull(sessionInfo.ApiGatewayUri),this.featureSummary=null,this.helpLinkIds={Blog:"809299",Community:"809295",GettingStarted:"809294",GiveFeedback:"809298"},this.telemetryTracker=this.telemetryService.getTracker(i.ScreenName.TopBar),this.isOfficeNavEnabled&&setTimeout((function(){l.principalService.getMyPrincipalInfo().then((function(e){(e=e&&e.data?e.data:null)?l.updateNavBarData(e):l.telemetryTracker.fail(i.FeatureName.OfficeTopNav,i.SubFeatureName.PrincipalService_GetMyPrincipalInfo,"Malformed prinicpal received")}),(function(e){l.telemetryTracker.fail(i.FeatureName.OfficeTopNav,i.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)}))}),0)}t.TopNavController=n},"./app/components/UnhappyFace/UnhappyFace.html":function(e,t){e.exports="<div class=unhappy-face> <div class=face> <div class=left-eye /> <div class=right-eye /> <div class=mouth /> </div> </div>"},"./app/components/UnhappyFace/UnhappyFace.less":function(e,t){},"./app/components/UnhappyFace/UnhappyFace.ts":function(e,t,n){function r(){this.controller=i.UnhappyFaceController,this.template=n("./app/components/UnhappyFace/UnhappyFace.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/UnhappyFace/UnhappyFace.less");var i=n("./app/components/UnhappyFace/UnhappyFaceController.ts"),o=n("./app/utility/appUtil.ts");t.UnhappyFace=r,o.registerComponent("unhappyFace",r,angular.module("jumper"))},"./app/components/UnhappyFace/UnhappyFaceController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UnhappyFaceController=function(){}},"./app/components/Upload/AccessibilityOptions/AccessibilityOptions.html":function(e,t){e.exports='<div class=accessibility-dialog> <div> <div ng-if=$ctrl.errorMessage class=error-message-content> <custom-error-message error-message=$ctrl.errorMessage></custom-error-message> </div> <div class="accessibility-content subtitles-tab" ng-if=$ctrl.isSubtitlesTab ng-cloak ngf-drop-disabled={{$ctrl.subtitleDragDisabled}} ngf-drag-over-class=dragover ngf-drop=$ctrl.uploadSubtitleFiles($file) ngf-multiple=false> <div class=texttrack-info> <div class=texttrack-info-icon> <svg-src svg-name=icon_library inline-with-text=true></svg-src> </div> <span tabindex=0 aria-label={{::$ctrl.resources.AccessibilitySubtitlesDescription}} class=texttrack-description> {{::$ctrl.resources.AccessibilitySubtitlesDescription}} </span> </div> <div class="row header-row"> <div class="column medium-4 small-5 xsmall-6"> <span class=c-label> {{::$ctrl.resources.TextTrackLanguages}} </span> </div> <div class="column medium-8 small-7 xsmall-6"> <span class=c-label> {{::$ctrl.resources.File}} </span> </div> </div> <texttrack-details ng-repeat="subtitle in $ctrl.subtitleTextTracks" track-detail=subtitle track-created=$ctrl.trackCreated(subtitle) track-deleted="$ctrl.trackDeleted(id, type)" track-uploaded="$ctrl.textTrackUploaded=true" is-in-admin-mode=$ctrl.isInAdminMode> </texttrack-details> </div> <div class="accessibility-content captions-tab" ng-if=$ctrl.isCaptionsTab ng-cloak ngf-drop-disabled={{$ctrl.captionsDragDisabled}} ngf-drag-over-class=dragover ngf-drop=$ctrl.uploadCaptionsFiles($file) ngf-multiple=false> <div class=texttrack-info> <div class=texttrack-info-icon> <svg-src svg-name=icon_library inline-with-text=true></svg-src> </div> <span tabindex=0 aria-label={{::$ctrl.resources.AccessibilityCaptionsDescription}} class=texttrack-description> {{::$ctrl.resources.AccessibilityCaptionsDescription}} </span> </div> <div class="row header-row"> <div class="column xsmall-4"> <span class=c-label> {{::$ctrl.resources.TextTrackLanguages}} </span> </div> <div class="column xsmall-8"> <span class=c-label> {{::$ctrl.resources.File}} </span> </div> </div> <texttrack-details track-detail=$ctrl.captionTextTrack track-created=$ctrl.trackCreated($ctrl.captionTextTrack) track-deleted="$ctrl.trackDeleted(id, type)" track-uploaded="$ctrl.textTrackUploaded=true" is-in-admin-mode=$ctrl.isInAdminMode video-language=$ctrl.videoLanguage> </texttrack-details> </div> </div> </div>'},"./app/components/Upload/AccessibilityOptions/AccessibilityOptions.less":function(e,t){},"./app/components/Upload/AccessibilityOptions/AccessibilityOptions.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/AccessibilityOptions/AccessibilityOptionsController.ts");function o(){this.controller=i.AccessibilityOptionsController,this.template=n("./app/components/Upload/AccessibilityOptions/AccessibilityOptions.html"),this.bindings={videoId:"<",isInAdminMode:"<",tracksSaved:"&",okButtonEnabled:"=",selectedTabOption:"<",videoLanguage:"<"}}n("./app/components/Upload/AccessibilityOptions/AccessibilityOptions.less"),t.AccessibilityOptions=o,r.registerComponent("accessibilityOptions",o,angular.module("jumper"))},"./app/components/Upload/AccessibilityOptions/AccessibilityOptionsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/appUtil.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/components/Upload/TextTrackDetails/TextTrackDetailsController.ts");l.prototype.uploadSubtitleFiles=function(e){this.newSubtitleTrack.file=e},l.prototype.uploadCaptionsFiles=function(e){this.captionTextTrack.file=e},Object.defineProperty(l.prototype,"isSubtitlesTab",{get:function(){return this.selectedTabOption===o.Constants.VideoAccessibilityTab.Subtitles},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isCaptionsTab",{get:function(){return this.selectedTabOption===o.Constants.VideoAccessibilityTab.Captions},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"subtitleDragDisabled",{get:function(){return this.newSubtitleTrack&&(!this.newSubtitleTrack.language||null!==this.newSubtitleTrack.track)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"captionsDragDisabled",{get:function(){return this.captionTextTrack&&(!this.captionTextTrack.language||null!==this.captionTextTrack.track)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"errorMessage",{get:function(){var e=_.find(this.subtitleTextTracks,(function(e){return e.errorMessage}));return e?(this.errorTabValue=o.Constants.VideoAccessibilityTab.Subtitles,e.errorMessage):this.captionTextTrack.errorMessage?(this.errorTabValue=o.Constants.VideoAccessibilityTab.Captions,this.captionTextTrack.errorMessage):(this.errorTabValue=null,"")},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"okButtonEnabled",{get:function(){if(this.savingTextTracks)return!1;for(var e=!1,t=this.subtitleTextTracks.length-1;0<=t;t--)if(this.subtitleTextTracks[t].state===a.TrackState.uploading||this.subtitleTextTracks[t].state===a.TrackState.creating){e=!0;break}if(e||this.captionTextTrack.state===a.TrackState.uploading||this.captionTextTrack.state===a.TrackState.creating)return!1;var n=_.some(this.subtitleTextTracks,(function(e){return e.state===a.TrackState.completed||e.track&&e.language&&e.language.code!==e.track.language})),r=this.captionTextTrack.state===a.TrackState.completed||this.captionTextTrack.track&&this.captionTextTrack.language&&this.captionTextTrack.language.code!==this.captionTextTrack.track.language;return n||r||this.textTrackUploaded||this.textTrackDeleted},set:function(e){},enumerable:!0,configurable:!0}),l.prototype.trackCreated=function(e){e.type===o.Constants.TextTrackType.Subtitle&&(this.newSubtitleTrack={videoId:this.videoId,track:null,type:o.Constants.TextTrackType.Subtitle,state:a.TrackState.notCreated},this.subtitleTextTracks.push(this.newSubtitleTrack))},l.prototype.getTextTracks=function(){var e=this;this.textTrackDataService.query().then((function(t){e.textTracks=t.data.value,e.getCaptionTextTrack(),e.getSubtitleTextTracks()}))},l.prototype.getCaptionTextTrack=function(){var e=_.find(this.textTracks,(function(e){return e.type===o.Constants.TextTrackType.Caption&&!e.autoGenerated}));e&&(e.language=this.videoLanguage,this.captionTextTrack={videoId:this.videoId,track:e,type:o.Constants.TextTrackType.Caption,state:e.url?a.TrackState.ready:a.TrackState.failed})},l.prototype.getSubtitleTextTracks=function(){var e=this;this.subtitleTextTracks=_.map(_.filter(this.textTracks,(function(e){return e.type===o.Constants.TextTrackType.Subtitle})),(function(t){return{track:t,type:o.Constants.TextTrackType.Subtitle,state:t.url?a.TrackState.ready:a.TrackState.failed,videoId:e.videoId}})),this.newSubtitleTrack={videoId:this.videoId,track:null,type:o.Constants.TextTrackType.Subtitle,state:a.TrackState.notCreated},this.subtitleTextTracks.push(this.newSubtitleTrack)},l.prototype.onCancel=function(){this.$scope.closeThisDialog()},l.prototype.trackDeleted=function(e,t){e&&(this.textTrackDeleted=!0,t===o.Constants.TextTrackType.Caption&&e===this.captionTextTrack.track.id?this.captionTextTrack={videoId:this.videoId,track:null,type:o.Constants.TextTrackType.Caption,state:a.TrackState.notCreated}:t===o.Constants.TextTrackType.Subtitle&&_.remove(this.subtitleTextTracks,(function(t){return t.track&&t.track.id===e})))},l.prototype.saveTextTracks=function(){var e=this;this.savingTextTracks=!0;var t=[];_.forEach(this.subtitleTextTracks,(function(n){n.track&&n.language&&n.language.code!==n.track.language&&t.push(e.patchTextTrack(n))})),this.captionTextTrack.track&&this.captionTextTrack.language&&this.captionTextTrack.language.code!==this.captionTextTrack.track.language&&t.push(this.patchVideoLanguage(this.captionTextTrack)),this.$q.all(t).then((function(){e.tracksSaved({trackUploaded:e.textTrackUploaded,trackDeleted:e.textTrackDeleted,videoLanguageFromCaption:e.captionTextTrack.language?e.captionTextTrack.language.code:null})})).finally((function(){e.savingTextTracks=!1}))},l.prototype.patchVideoLanguage=function(e){var t=this;return this.videoService.patch(this.videoId,{language:e.language.code}).then((function(e){t.featureTelemetryTracker.succeed(s.FeatureName.UpdateVideo,{resourceId:t.videoId})}),(function(n){e.errorMessage=t.resources.UploadTextTrackUpdateVideoLanguageFailedMessage,t.featureTelemetryTracker.fail(s.FeatureName.UpdateVideo,s.SubFeatureName.VideoService_PatchVideo,n,{resourceId:t.videoId})}))},l.prototype.patchTextTrack=function(e){var t=this;return this.textTrackDataService.patch(e.track.id,{language:e.language.code}).then((function(n){e.track=n.data,t.featureTelemetryTracker.succeed(s.FeatureName.UpdateTextTrack,{resourceId:e.track.id})}),(function(n){e.errorMessage=t.resources.AccessibilityTextTrackSaveFailed,t.featureTelemetryTracker.fail(s.FeatureName.UpdateTextTrack,s.SubFeatureName.TextTrackDataService_Patch,n,{resourceId:e.track.id})}))},l.$inject=["$q","$scope","resources","textTrackDataFactory","mediaUploaderFactory","telemetryService","navigationService","videoService"],n=l;function l(e,t,n,i,s,l,c,d){var u=this;this.$q=e,this.$scope=t,this.resources=n,this.mediaUploaderFactory=s,this.telemetryService=l,this.navigationService=c,this.videoService=d,this.textTrackUploaded=!1,this.textTrackDeleted=!1,this.savingTextTracks=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Auto),this.featureTelemetryTracker.tagScreen(r.ScreenName.AccessibilityOptionsDialog),this.textTrackDataService=i(this.videoId,this.isInAdminMode),this.captionTextTrack={videoId:this.videoId,track:null,type:o.Constants.TextTrackType.Caption,state:a.TrackState.notCreated},this.subtitleTextTracks=[{videoId:this.videoId,track:null,type:o.Constants.TextTrackType.Subtitle,state:a.TrackState.notCreated}],this.getTextTracks(),this.$scope.$on(o.Constants.Events.SaveTextTracks,(function(){u.saveTextTracks()}))}t.AccessibilityOptionsController=n,i.registerController("AccessibilityOptionsController",n,angular.module("jumper.controls"))},"./app/components/Upload/AfterEventAvailability/AfterEventAvailability.html":function(e,t){e.exports="<div class=after-event-availability> <label class=c-label for=dropdown-after-event-availability> {{::$ctrl.dropdownLabelText}} </label> <tooltip message=$ctrl.resources.VideoAvailabilityAfterEventDropdownTooltip button-aria-label={{::$ctrl.resources.VideoAvailabilityAfterEventDropdownTooltip}}></tooltip> <drop-down id=dropdown-after-event-availability class=ct-dropdown-compact options=$ctrl.afterEventAvailabilityOptions value=$ctrl.selectedAvailability is-disabled=$ctrl.isReadOnly value-changed=$ctrl.afterEventAvailabilityChanged(newValue)> </drop-down> </div> "},"./app/components/Upload/AfterEventAvailability/AfterEventAvailability.less":function(e,t){},"./app/components/Upload/AfterEventAvailability/AfterEventAvailability.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/AfterEventAvailability/AfterEventAvailabilityController.ts");function o(){this.controller=i.AfterEventAvailabilityController,this.template=n("./app/components/Upload/AfterEventAvailability/AfterEventAvailability.html"),this.bindings={video:"<",tenantSettings:"<",videoEditStateInfo:"=",liveEventChanged:"&"}}n("./app/components/Upload/AfterEventAvailability/AfterEventAvailability.less"),t.AfterEventAvailability=o,r.registerComponent("afterEventAvailability",o,angular.module("jumper"))},"./app/components/Upload/AfterEventAvailability/AfterEventAvailabilityController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/LiveEventUtils.ts");Object.defineProperty(o.prototype,"isReadOnly",{get:function(){return 1==this.afterEventAvailabilityOptions.length||!this.videoEditStateInfo||(this.videoEditStateInfo.videoState===r.Constants.VideoState.completed?!this.video.modified&&this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback:this.videoEditStateInfo.videoState===r.Constants.VideoState.live)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectedAvailability",{get:function(){return this._selectedAvailability},set:function(e){if(e!=this._selectedAvailability)switch(this._selectedAvailability=e){case r.Constants.VideoAvailability.notRecorded:this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload=!1,this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback=!1;break;case r.Constants.VideoAvailability.availableToOwners:this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload=!0,this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback=!1;break;default:this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload=!0,this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback=!0}},enumerable:!0,configurable:!0}),o.prototype.setupAvailabilityOptions=function(){var e=this;this.video.state===r.Constants.VideoState.completed?this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload?(this.afterEventAvailabilityOptions=this.allAvailabilityOptions.filter((function(e){return e.value!=r.Constants.VideoAvailability.notRecorded})),this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback?this.selectedAvailability=r.Constants.VideoAvailability.availableToViewersWithPermission:this.selectedAvailability=r.Constants.VideoAvailability.availableToOwners):(this.afterEventAvailabilityOptions=this.allAvailabilityOptions.filter((function(e){return e.value===r.Constants.VideoAvailability.notRecorded})),this.selectedAvailability=r.Constants.VideoAvailability.notRecorded):this.tenantSettings.system.contentManagement.isVideoAvailabilityRestrictedToDefault?(this.afterEventAvailabilityOptions=this.allAvailabilityOptions.filter((function(t){return t.value==e.tenantSettings.system.contentManagement.videoAvailabilityDefault})),this.selectedAvailability!==this.tenantSettings.system.contentManagement.videoAvailabilityDefault&&(this.selectedAvailability=this.tenantSettings.system.contentManagement.videoAvailabilityDefault)):(this.afterEventAvailabilityOptions=this.allAvailabilityOptions,this.video.state==r.Constants.VideoState.creating?this.selectedAvailability=this.tenantSettings.system.contentManagement.videoAvailabilityDefault:this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback?this.selectedAvailability=r.Constants.VideoAvailability.availableToViewersWithPermission:this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload?this.selectedAvailability=r.Constants.VideoAvailability.availableToOwners:this.selectedAvailability=r.Constants.VideoAvailability.notRecorded)},Object.defineProperty(o.prototype,"dropdownLabelText",{get:function(){return i.isVideoCompleted(this.video)?this.resources.VideoAfterEventAvailabilityCompletedLabel:this.resources.VideoAfterEventAvailabilityNotCompletedLabel},enumerable:!0,configurable:!0}),o.prototype.afterEventAvailabilityChanged=function(e){var t=this.video.liveEvent.liveEventOptions.onDemandOptions;switch(e){case r.Constants.VideoAvailability.availableToOwners:t.enablePlayback=!1,t.enableDownload=!0;break;case r.Constants.VideoAvailability.notRecorded:t.enablePlayback=!1,t.enableDownload=!1;break;default:t.enablePlayback=!0,t.enableDownload=!0}this.liveEventChanged()},o.$inject=["$scope","resources"],n=o;function o(e,t){var n=this;this.$scope=e,this.resources=t,this.tenantSettings=null,this.isOptionSetupCompleted=!1,this.afterEventAvailabilityOptions=[],this.allAvailabilityOptions=[{text:this.resources.EndedLiveEventViewable,value:r.Constants.VideoAvailability.availableToViewersWithPermission,description:this.resources.EndedLiveEventViewable},{text:this.resources.EndedLiveEventDownloadable,value:r.Constants.VideoAvailability.availableToOwners,description:this.resources.EndedLiveEventDownloadable},{text:this.resources.EndedLiveEventNotRecorded,value:r.Constants.VideoAvailability.notRecorded,description:this.resources.EndedLiveEventNotRecorded}],this.video.liveEvent.liveEventOptions&&this.video.liveEvent.liveEventOptions.onDemandOptions||(this.video.liveEvent.liveEventOptions={onDemandOptions:{enablePlayback:!0,enableDownload:!0,endEventMessage:""}}),e.$watch((function(){return n.tenantSettings}),(function(e,t){!n.isOptionSetupCompleted&&e&&e!==t&&(n.tenantSettings=e,n.setupAvailabilityOptions(),n.isOptionSetupCompleted=!0)}),!0)}t.AfterEventAvailabilityController=n},"./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggle.html":function(e,t){e.exports='<div ng-if=$ctrl.shouldShowToggle() class=audio-enhancement-owner-toggle> <label class="ct-label nowrap label-top-adjust" id=toggle-audio-enhancement-{{::$ctrl.video.id}}> {{::$ctrl.resources.NoiseSuppressionOwnerToggle.Label}} </label> <tooltip message=$ctrl.resources.NoiseSuppressionOwnerToggle.Tooltip button-aria-label={{::$ctrl.resources.NoiseSuppressionOwnerToggle.Label}}></tooltip> <a external-link href="https://go.microsoft.com/fwlink/?linkid=2122793" class="c-hyperlink supported-videos-link" target=_blank>{{::$ctrl.resources.NoiseSuppression.ViewSupportedVideos}}</a> <toggle name=toggle-audio-enhancement-{{::$ctrl.video.id}} value=$ctrl.video.options.audioEnhancementOptions.allowAudioEnhancement on-toggle-click=$ctrl.onToggleAudioEnhancementClicked()></toggle> </div> '},"./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggle.less":function(e,t){},"./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggle.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggleController.ts");function o(){this.controller=i.AudioEnhancementOwnerToggleController,this.template=n("./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggle.html"),this.bindings={video:"<",isUpload:"<",tenantSettings:"<",disabled:"<"}}n("./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggle.less"),t.AudioEnhancementOwnerToggle=o,r.registerComponent("audioEnhancementOwnerToggle",o,angular.module("jumper"))},"./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggleController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts");i.prototype.onToggleAudioEnhancementClicked=function(){this.video.options.audioEnhancementOptions.allowAudioEnhancement=!this.video.options.audioEnhancementOptions.allowAudioEnhancement,this.telemetryService.getTracker().trackEvent(r.TelemetryEventNames.toggleStateChanged,{videoId:this.video.id,contentSource:this.video.contentSource,currentState:this.video.options.audioEnhancementOptions.allowAudioEnhancement,toggleType:"audioEnhancementOwnerToggle"})},i.prototype.shouldShowToggle=function(){return!(null==this.video.options.audioEnhancementOptions||null==this.video.options.audioEnhancementOptions.allowAudioEnhancement)},i.$inject=["$scope","resources","telemetryService"],n=i;function i(e,t,n){this.$scope=e,this.resources=t,this.telemetryService=n}t.AudioEnhancementOwnerToggleController=n},"./app/components/Upload/BgUploadProgress/BgUploadProgress.html":function(e,t){e.exports='<div class=bg-upload-progress> <div role=list ng-repeat="uploadingItem in $ctrl.uploadingList"> <bg-upload-progress-item role=listitem upload-item=uploadingItem></bg-upload-progress-item> </div> <div role=list ng-repeat="otherUploadItem in $ctrl.nonUploadingList"> <bg-upload-progress-item role=listitem upload-item=otherUploadItem video-deleted=$ctrl.videoDeleted()></bg-upload-progress-item> </div> </div>'},"./app/components/Upload/BgUploadProgress/BgUploadProgress.less":function(e,t){},"./app/components/Upload/BgUploadProgress/BgUploadProgress.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/BgUploadProgress/BgUploadProgressController.ts");function o(){this.controller=i.BgUploadProgressController,this.template=n("./app/components/Upload/BgUploadProgress/BgUploadProgress.html")}n("./app/components/Upload/BgUploadProgress/BgUploadProgress.less"),t.BgUploadProgress=o,r.registerComponent("bgUploadProgress",o,angular.module("jumper"))},"./app/components/Upload/BgUploadProgress/BgUploadProgressController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/services/VideoBgUploaderService.ts");n=n("./app/utility/ComponentBase.ts"),i(a,o=n.ComponentBase),Object.defineProperty(a.prototype,"uploadingList",{get:function(){return _.filter(this.bgUploadList,(function(e){return e.status===s.UploadStatus.uploading}))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"nonUploadingList",{get:function(){return _.filter(this.bgUploadList,(function(e){return e.status!==s.UploadStatus.uploading&&!e.isRetriedUpload}))},enumerable:!0,configurable:!0}),a.$inject=["$scope","resources","videoBgUploaderService","overlayService"],i=a;function a(e,t,n,r){var i=o.call(this,a)||this;return i.$scope=e,i.resources=t,i.videoBgUploaderService=n,i.overlayService=r,i.bgUploadList=i.videoBgUploaderService.mediaUploadList,i}t.BgUploadProgressController=i},"./app/components/Upload/BgUploadProgressItem/BgUploadProgressItem.html":function(e,t){e.exports='<div class=bg-upload-item role=region> <h1 class=bg-upload-status-title>{{::$ctrl.getUploadStatusTitle}}</h1> <div class=bg-upload-item-title ng-class="{\'bg-upload-item-title-gray\': !$ctrl.isUploading}">{{$ctrl.getUploadProgressMessage}}</div> <div ng-if=$ctrl.isUploading> <div class=bg-upload-progress-bar> <progress-bar max=100 value=$ctrl.uploadItem.uploadProgress></progress-bar> </div> </div> <div ng-if=$ctrl.isUploadComplete> <button class="bg-upload-item-button bg-upload-item-update-video-details c-hyperlink" ng-click=$ctrl.goToVideoUpdatePage()>{{::$ctrl.resources.BgUploadProgressUpdateVideoDetails}}</button> </div> <div ng-if=$ctrl.isFailed> <button class="bg-upload-item-button bg-upload-item-retry-upload c-hyperlink" ng-click=$ctrl.retryUpload()>{{::$ctrl.resources.BgUploadProgressRetry}}</button> </div> <div ng-if=$ctrl.isFailedRetry> <button class="bg-upload-item-button bg-upload-item-start-new-upload c-hyperlink" ng-click=$ctrl.goToVideoUpdatePage()>{{::$ctrl.resources.BgUploadProgressStartNewUpload}}</button> </div> </div>'},"./app/components/Upload/BgUploadProgressItem/BgUploadProgressItem.less":function(e,t){},"./app/components/Upload/BgUploadProgressItem/BgUploadProgressItem.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/BgUploadProgressItem/BgUploadProgressItemController.ts");function o(){this.controller=i.BgUploadProgressItemController,this.template=n("./app/components/Upload/BgUploadProgressItem/BgUploadProgressItem.html"),this.bindings={uploadItem:"<"}}n("./app/components/Upload/BgUploadProgressItem/BgUploadProgressItem.less"),t.BgUploadProgressItem=o,r.registerComponent("bgUploadProgressItem",o,angular.module("jumper"))},"./app/components/Upload/BgUploadProgressItem/BgUploadProgressItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/services/VideoBgUploaderService.ts"),l=n("./app/utility/string.ts"),c=n("./app/utility/ComponentBase.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=c.ComponentBase),Object.defineProperty(u.prototype,"isUploading",{get:function(){return this.uploadItem.status===a.UploadStatus.uploading||this.uploadItem.status===a.UploadStatus.notStarted},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isFailed",{get:function(){return this.uploadItem.status===a.UploadStatus.failed&&!this.isRetriedUpload},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isUploadComplete",{get:function(){return this.uploadItem.status===a.UploadStatus.completed},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isFailedRetry",{get:function(){return this.isRetriedUpload&&this.uploadItem.status===a.UploadStatus.failed},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"getUploadStatusTitle",{get:function(){return this.isFailed?this.resources.BgUploadProgressFailed:this.isUploadComplete?this.resources.BgUploadProgressUploadComplete:this.isFailedRetry?this.resources.BgUploadProgressRetryFailed:this.resources.BgUploadProgressTitle},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"getUploadProgressMessage",{get:function(){return this.uploadItem.status===a.UploadStatus.notStarted?l.formatString(this.resources.ProgressDetailUploadQueued,this.uploadItem.fileName):this.isUploading&&this.uploadItem.uploadProgress<100?l.formatString(this.resources.ProgressDetailUploading,this.uploadItem.fileName):this.uploadItem.fileName},enumerable:!0,configurable:!0}),u.prototype.goToVideoUpdatePage=function(){this.overlayService.hideAllDropdowns(),this.videoBgUploaderService.removeBgUploadItem(this.uploadItem.resourceId),this.navigationService.redirect(l.formatString(this.uploadItem.isLiveEvent?s.Constants.Routes.Update:s.Constants.Routes.VideoUpdate,this.uploadItem.resourceId))},u.prototype.retryUpload=function(){this.isRetriedUpload=!0,this.startUpload(d.FeatureName.RetryBgUpload)},u.prototype.startUpload=function(e){var t=this;this.videoBgUploaderService.startBgUpload(this.uploadItem.resourceId,this.uploadItem.uploadingFile,this.uploadItem.uploadPriority,this.uploadItem.isInAdminMode,this.uploadItem.isReplacing,this.uploadItem.isLiveEvent,this.isRetriedUpload).then((function(){t.featureTelemetryTracker.succeed(e)}),(function(n){t.featureTelemetryTracker.setResourceId(t.uploadItem.resourceId),t.featureTelemetryTracker.fail(e,d.SubFeatureName.UploadService_StartUpload,n)}))},u.$inject=["resources","telemetryService","navigationService","overlayService","videoBgUploaderService"],i=u;function u(e,t,n,r,i){var s=o.call(this,u)||this;return s.resources=e,s.telemetryService=t,s.navigationService=n,s.overlayService=r,s.videoBgUploaderService=i,s.featureTelemetryTracker=s.telemetryService.getTracker(d.ScreenName.BgUploadProgress),s}t.BgUploadProgressItemController=i},"./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitles.html":function(e,t){e.exports='<div class=captions-and-subtitles> <div class=captions> <div class=header> <label class="c-label ct-checkbox"> {{::$ctrl.resources.AccessibilityCaptions}} </label> <tooltip message=$ctrl.resources.Components.CaptionsAndSubtitles.CaptionTooltip button-aria-label={{::$ctrl.resources.AccessibilityCaptions}}></tooltip> <button type=button class="c-hyperlink download" aria-label={{::$ctrl.resources.DownloadFile}} ng-click=$ctrl.downloadCaption() ng-if=$ctrl.showCaptionDownloadLink> {{::$ctrl.resources.DownloadFile}} </button> </div> <div class="c-checkbox ct-checkbox"> <label class=c-label> <input type=checkbox ng-model=$ctrl.video.options.autoGeneratedCaption ng-change=$ctrl.autoGenereateCaptionChanged() ng-disabled="$ctrl.disableAutoGeneratedCaptionCheckbox || $ctrl.isDisabled"/> <span class=label-autogenerate>{{::$ctrl.resources.Components.CaptionsAndSubtitles.AutoGenerateCaptionLabel}}</span> </label> <tooltip message=$ctrl.resources.Components.CaptionsAndSubtitles.AutoGenerateTooltip button-aria-label={{::$ctrl.resources.Components.CaptionsAndSubtitles.AutoGenerateTooltip}}></tooltip> </div> <div class=content ng-if=!$ctrl.isDisabledForLive> <div ng-if="!$ctrl.captionTextTrack && !$ctrl.video.options.autoGeneratedCaption && $ctrl.autoGeneratedCaptionSyncedWithBE"> <button type=button class="c-hyperlink upload-file upload-caption-link upload-caption-button" ng-click="$ctrl.launchUploadCaption(\'Captions\')"> {{::$ctrl.resources.Components.CaptionsAndSubtitles.UploadCaption}} </button> </div> <div ng-if=$ctrl.captionTextTrack> <div class=item-language> <span class=label-language>{{$ctrl.textTrackLanguageService.getLanguage($ctrl.captionTextTrack.track.language).name}}</span> <button type=button class="c-hyperlink edit-upload-file" ng-click="$ctrl.launchUploadCaption(\'Captions\')"> {{::$ctrl.resources.Edit}} </button> </div> </div> </div> <div class=disabled-note ng-if="$ctrl.isDisabledForLive && !$ctrl.video.options.autoGeneratedCaption">{{::$ctrl.captionDisabledNoteString}}</div> </div> <div ng-class=$ctrl.gutterClass> </div> <div class=subtitles> <label class=c-label> {{::$ctrl.resources.AccessibilitySubtitles}} </label> <tooltip message=$ctrl.resources.AccessibilitySubtitlesDescription button-aria-label={{::$ctrl.resources.AccessibilitySubtitles}}></tooltip> <div class=content ng-if=!$ctrl.isDisabledForLive> <div ng-if=!$ctrl.subtitleTextTracks.length> <button type=button class="c-hyperlink upload-file upload-caption-link upload-caption-button" ng-click="$ctrl.launchUploadCaption(\'Subtitles\')"> {{::$ctrl.resources.Components.CaptionsAndSubtitles.UploadSubtitle}} </button> </div> <div ng-if=$ctrl.subtitleTextTracks.length> <div class=item-language> <span class=label-language>{{$ctrl.subtitlesLabel}}</span> <button type=button class="c-hyperlink edit-upload-file" ng-click="$ctrl.launchUploadCaption(\'Subtitles\')"> {{::$ctrl.resources.Edit}} </button> </div> </div> </div> <div class=disabled-note ng-if=$ctrl.isDisabledForLive>{{::$ctrl.subtitleDisabledNoteString}}</div> </div> <div ng-if=$ctrl.isCaptionVisibilityEnabled() class=caption-visibility-toggle> <label class="ct-label nowrap label-top-adjust" id=toggle-caption-visibility-{{::$ctrl.video.id}}> {{::$ctrl.resources.VisibilityForViewers}} </label> <tooltip message=$ctrl.resources.VisibilityForViewersDescription button-aria-label={{::$ctrl.resources.VisibilityForViewers}}></tooltip> <toggle name=toggle-caption-visibility-{{::$ctrl.video.id}} value="$ctrl.video.options.allowTranscript && $ctrl.enableVisibilityToggle" on-toggle-click=$ctrl.onToggleVisibilityClicked() disabled=!$ctrl.enableVisibilityToggle /> </div> <div class=learn-more> <a href=https://docs.microsoft.com/stream/portal-autogenerate-captions target=_blank external-link class=c-hyperlink> {{::$ctrl.resources.Components.CaptionsAndSubtitles.LearnMore}} </a> </div> </div> '},"./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitles.less":function(e,t){},"./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitles.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitlesController.ts");function o(){this.controller=i.CaptionsAndSubtitlesController,this.template=n("./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitles.html"),this.bindings={isInAdminMode:"<",textTrack:"=",textTrackUploaded:"&",textTrackDeleted:"&",accessibilityOptionsOpened:"&",video:"=",videoEditStateInfo:"=",languageMatch:"&",captionStatus:"=",isDisabled:"<"}}n("./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitles.less"),t.CaptionsAndSubtitles=o,r.registerComponent("captionsAndSubtitles",o,angular.module("jumper"))},"./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInput.html":function(e,t){e.exports='<div class=custom-end-event-message-input> <div> <label class="c-label ct-checkbox"> {{::$ctrl.resources.VideoEndEventMsgInputLabel}} </label> <tooltip message=$ctrl.resources.VideoCustomEndEventMessageTooltip button-aria-label={{::$ctrl.resources.VideoCustomEndEventMessageTooltip}}></tooltip> </div> <div class=message-inputs-container> <div class="c-checkbox ct-checkbox"> <label class=c-label> <input type=checkbox ng-model=$ctrl.checkboxValue ng-change=$ctrl.onCheckboxChecked() ng-disabled=$ctrl.isDisabled /> <span class=label-end-event-msg>&nbsp;</span> </label> </div> <input class=ct-textbox-compact type=text maxlength={{::$ctrl.customEndEventMessageMaxLength}} placeholder={{::$ctrl.resources.VideoDefaultEndLiveEventMessage}} ng-model=$ctrl.textBoxValue ng-change=$ctrl.onTextboxChanged() ng-disabled=$ctrl.isDisabled /> </div> </div> '},"./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInput.less":function(e,t){},"./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInput.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInputController.ts");function o(){this.controller=i.CustomEndEventMessageInputController,this.template=n("./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInput.html"),this.bindings={video:"<",liveEventChanged:"&",videoEditStateInfo:"=",savedVideo:"<"}}n("./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInput.less"),t.CustomEndEventMessageInput=o,r.registerComponent("customEndEventMessageInput",o,angular.module("jumper"))},"./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInputController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts");Object.defineProperty(i.prototype,"textBoxValue",{get:function(){return this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage},set:function(e){this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage=e,this.liveEventChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDisabled",{get:function(){return!this.videoEditStateInfo||[r.Constants.VideoState.created,r.Constants.VideoState.creating].indexOf(this.videoEditStateInfo.videoState)<0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkboxValue",{get:function(){return this.isCheckboxChecked},set:function(e){this.isCheckboxChecked=e,this.liveEventChanged()},enumerable:!0,configurable:!0}),i.prototype.onTextboxChanged=function(){this.isCheckboxChecked=this.hasCustomValue(),this.liveEventChanged()},i.prototype.hasCustomValue=function(){return!!this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage&&0<this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage.length},i.prototype.onCheckboxChecked=function(){this.isCheckboxChecked?this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage=this.messageBuffer||this.resources.VideoDefaultEndLiveEventMessage:(this.messageBuffer=this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage,this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage=null),this.$textbox.focus(),this.liveEventChanged()},Object.defineProperty(i.prototype,"customEndEventMessageMaxLength",{get:function(){return r.Constants.MaxLengths.CustomEndEventMessage},enumerable:!0,configurable:!0}),i.$inject=["resources","$element","$scope"],n=i;function i(e,t,n){this.resources=e,this.isCheckboxChecked=!1,this.video.liveEvent.liveEventOptions&&this.video.liveEvent.liveEventOptions.onDemandOptions||(this.video.liveEvent.liveEventOptions={onDemandOptions:{enablePlayback:!0,enableDownload:!0,endEventMessage:""}}),this.messageBuffer=this.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage,this.isCheckboxChecked=this.hasCustomValue(),this.$textbox=t.find("input[type='text']")}t.CustomEndEventMessageInputController=n},"./app/components/Upload/DraftPoster/DraftPoster.html":function(e,t){e.exports='<div class=draft-thumbnail> <img class=image ng-class="{\'fade-image\': $ctrl.isImageShouldFade}" ng-if="$ctrl.imageUrls && $ctrl.isInEditMode && !$ctrl.isImageUrlsEmpty" set-img-src={{$ctrl.imageUrls}} alt={{$ctrl.thumbnailAltTag}} aria-label={{$ctrl.thumbnailAltTag}} /> <img class=image ng-class="{\'fade-image\': $ctrl.isImageShouldFade}" ng-if="$ctrl.imageUrls && !$ctrl.isInEditMode && !$ctrl.isImageUrlsEmpty" set-img-src={{$ctrl.imageUrls}} aria-hidden={{::$ctrl.muteThumbnail}} alt={{$ctrl.thumbnailAltTag}} aria-label={{$ctrl.thumbnailAltTag}} /> <svg-src ng-if="$ctrl.isImageUrlsEmpty && $ctrl.isLiveContent" svg-name=live_video_poster_default class=svg-poster></svg-src> <div class=thumbnail-overlay ng-class="{\'default-thumbnail\': !$ctrl.imageUrls}"> <div class=error-overlay ng-if="$ctrl.isFailed && !$ctrl.isAudioOnly"> <div class="top-triangle error-triangle"></div> <svg-src svg-name=icon_error_status class=badge-icon></svg-src> <div class=absolute-center> <svg-src svg-name=icon_broken_camera inline-with-text=true class=error-icon></svg-src> </div> </div> <div class=audio-only-overlay ng-if="$ctrl.isAudioOnly && $ctrl.isImageUrlsEmpty" ng-class="{\'audio-only-default\': !$ctrl.imageUrls}"> <div class=absolute-center> <svg-src svg-name=icon_audio_bars inline-with-text=true class=audio-bars-icon style=fill:#fff></svg-src> </div> </div> <div class=other-overlay ng-if=!$ctrl.isFailed> <div class=processing-fade-box ng-if="($ctrl.isProcessing || $ctrl.isReplacing) && ($ctrl.imageUrls && !$ctrl.isAudioOnly)"></div> <div ng-class="{\'white-text\': $ctrl.imageUrls, \'action-message-padding\': !$ctrl.hidePublishButton && !$ctrl.video.published && !$ctrl.isUploading}" class="action-message absolute-center" ng-if="!$ctrl.isFailed && (!$ctrl.isCompleted ||($ctrl.isTrimming &&  $ctrl.video.userData.permissions.canEdit))"> <div class=draft-poster-animation-container> <div class=absolute-center> <div ng-if=$ctrl.isUploading> <div class="draft-poster-uploading absolute-center overlay-text" aria-live="{{$ctrl.alertProgress ? \'assertive\' : \'off\'}}" aria-atomic=true aria-label={{$ctrl.uploadProgressAriaLabel}} ng-if=$ctrl.isUploading> {{$ctrl.resources.UploadingDots}} <div class=progress-perc>{{$ctrl.uploadingString}}</div> </div> </div> <div ng-if=$ctrl.isProcessing> <div class="draft-poster-processing absolute-center overlay-text" aria-live="{{$ctrl.alertProgress ? \'polite\' : \'off\'}}" aria-atomic=true aria-label={{$ctrl.processingProgressAriaLabel}} ng-if=$ctrl.isProcessing> {{$ctrl.resources.ProcessingDots}} <div class=progress-perc>{{$ctrl.processingString}}</div> </div> </div> <div ng-if="$ctrl.isReplacing && !$ctrl.isUploading"> <div class="draft-poster-replacing absolute-center overlay-text" aria-live="{{$ctrl.alertProgress ? \'polite\' : \'off\'}}" aria-atomic=true aria-label={{$ctrl.replacingProgressAriaLabel}} ng-if=$ctrl.isReplacing> {{::$ctrl.resources.ReplacingDots}} <div class=progress-perc>{{$ctrl.processingString}}</div> </div> </div> <div ng-if="$ctrl.isTrimming && $ctrl.video.userData.permissions.canEdit"> <div class="draft-poster-trimming absolute-center overlay-text" aria-live="{{$ctrl.alertProgress ? \'polite\' : \'off\'}}" aria-atomic=true aria-label={{$ctrl.trimmingProgressAriaLabel}} ng-if=$ctrl.isTrimming> {{::$ctrl.resources.TrimmingDots}} </div> </div> </div> </div> </div> <button type=button class="c-button ct-button-compact publish-button absolute-center" ng-class="{\'publish-button-bottom\': !$ctrl.isCompleted}" ng-if="!$ctrl.hidePublishButton && !$ctrl.video.published && !$ctrl.isUploading" ng-click=$ctrl.publish() ng-disabled=$ctrl.isPublishing> {{$ctrl.isPublishing ? $ctrl.resources.VideoPublishingButtonLabel : $ctrl.resources.VideoPublishButtonLabel}} </button> </div> </div> </div>'},"./app/components/Upload/DraftPoster/DraftPoster.less":function(e,t){},"./app/components/Upload/DraftPoster/DraftPoster.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/DraftPoster/DraftPosterController.ts");function o(){this.restrict="E",this.controllerAs="$ctrl",this.bindToController=!0,this.controller=i.DraftPosterController,this.template=n("./app/components/Upload/DraftPoster/DraftPoster.html"),this.scope={video:"<",videoState:"<",isTrimming:"<",isReplacing:"<?",processProgress:"<",uploadProgress:"<",selectedThumbnail:"<",onPublish:"&",hidePublishButton:"<",isInEditMode:"<",posterSize:"<?",muteThumbnail:"<?",alertProgress:"<",isAudio:"<?"},this.link=function(e,t,n,r){var i=1/0,o=1/0;new MutationObserver((function(e){for(var t=0,n=e;t<n.length;t++)for(var r=n[t],s=0;s<r.addedNodes.length;++s){var a,l,c=jQuery(r.addedNodes[s]);i!==1/0&&o!==1/0||0<(l=c.find(".draft-poster-animation-container")).length&&(i=l[0].clientWidth,o=l[0].clientHeight),c.hasClass("overlay-text")&&(a=c[0].clientWidth,l=c[0].clientHeight,(i<a||o<l)&&c.hide())}})).observe(t.get(0),{childList:!0,subtree:!0,attributes:!1,characterData:!1})}}n("./app/components/Upload/DraftPoster/DraftPoster.less"),t.DraftPoster=o,r.registerDirective("draftPoster",o,angular.module("jumper"))},"./app/components/Upload/DraftPoster/DraftPosterController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/LiveEventUtils.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/components/VideoItem/VideoItemController.ts");c.prototype.publish=function(){var e=this,t=this.telemetryService.getTracker();this.isPublishing=!0;var n=s.isVideoLiveContent(this.video)?a.FeatureName.LiveProducerUpdate:a.FeatureName.UpdateVideo;this.videoService.patch(this.video.id,{published:!0}).then((function(i){e.video.published=i.data.published,e.onPublish(),e.isPublishing=!1,e.$rootScope.$broadcast(r.Constants.Events.videoPublished,{id:e.video.id}),t.succeed(n)}),(function(r){throw e.isPublishing=!1,t.fail(n,a.SubFeatureName.VideoService_PatchVideo,r),r}))},Object.defineProperty(c.prototype,"videoItemDOMId",{get:function(){return l.getVideoDOMId(this.video.id)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUploading",{get:function(){return this.video&&this.isUploadingLive||this.isUploadingVideo},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isProcessing",{get:function(){return!this.isReplacing&&this.video&&(this.video.contentSource===r.Constants.VideoContentSource.file||this.video.contentSource===r.Constants.VideoContentSource.screenRecording)&&this.videoState===r.Constants.VideoState.processing},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUploadingLive",{get:function(){return this.isLiveContent&&this.videoState===r.Constants.VideoState.uploading},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUploadingVideo",{get:function(){return this.video.contentSource===r.Constants.VideoContentSource.file&&(this.videoState===r.Constants.VideoState.creating||this.videoState===r.Constants.VideoState.created||this.videoState===r.Constants.VideoState.uploading)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isFailed",{get:function(){return this.videoState===r.Constants.VideoState.failedProcessing||this.videoState===r.Constants.VideoState.failedUpload||this.videoState===r.Constants.VideoState.error},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isCompleted",{get:function(){return this.videoState===r.Constants.VideoState.completed},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isLiveContent",{get:function(){return this.video.contentSource===r.Constants.VideoContentSource.liveStream},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isImageShouldFade",{get:function(){return!this.isLiveContent&&this.videoState!==r.Constants.VideoState.completed||this.isLiveContent&&this.videoState===r.Constants.VideoState.error},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"uploadingString",{get:function(){return isNaN(this.uploadProgress)?"":this.uploadProgress+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"processingString",{get:function(){return isNaN(this.processProgress)?"":this.processProgress+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"processingProgressAriaLabel",{get:function(){return this.processingAriaLabel(this.resources.VideoProcessingProgressAriaLabel)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"replacingProgressAriaLabel",{get:function(){return this.processingAriaLabel(this.resources.VideoReplacingProgressAriaLabel)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"trimmingProgressAriaLabel",{get:function(){return this.processingAriaLabel(this.resources.VideoTrimmingProgressAriaLabel)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"uploadProgressAriaLabel",{get:function(){return this.processingAriaLabel(this.resources.VideoUploadProgressAriaLabel)},enumerable:!0,configurable:!0}),c.prototype.processingAriaLabel=function(e){return _.isNumber(this.processProgress)&&!isNaN(this.processProgress)?i.formatString(e,this.video.name,this.processProgress.toString()):""},Object.defineProperty(c.prototype,"thumbnailAltTag",{get:function(){return o.getResourceThumbnailAltTag(this.video.name,this.resources.Components.Upload.Detail.Thumbnail.altText)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"imageUrls",{get:function(){return this.selectedThumbnail&&this.selectedThumbnail.images?this.selectedThumbnail.images:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isImageUrlsEmpty",{get:function(){var e=this.imageUrls;return!e||!e.extraSmall.url&&!e.small.url&&!e.medium.url&&!e.large.url},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isAudioOnly",{get:function(){return this.video&&this.video.media&&this.video.media.isAudioOnly||this.isAudio},enumerable:!0,configurable:!0}),c.$inject=["$rootScope","resources","videoService","telemetryService","featureFlagsService"],n=c;function c(e,t,n,r,i){this.$rootScope=e,this.resources=t,this.videoService=n,this.telemetryService=r,this.featureFlagsService=i,this.isReplacing=!1,this.isAudio=!1}t.DraftPosterController=n},"./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearch.html":function(e,t){e.exports='<div class=principal-group-search dropdown-action-list> <label ng-if=!$ctrl.hideLabel for={{$ctrl.id}} class="ct-label-compact share-label">{{::$ctrl.label || $ctrl.resources.VideoUpdate.sharedWith}}</label> <tooltip ng-if=!$ctrl.hideLabel class=shareWith message="$ctrl.tooltipText || $ctrl.resources.PrincipalGroupSearchTooltipMessage" button-aria-label="{{::$ctrl.label || $ctrl.resources.VideoUpdate.sharedWithMoreInformationAriaLabel}}"></tooltip> <div class=search-row role=combobox> <drop-down name=dropdown class="search-type-dropdown ct-dropdown-compact" options=$ctrl.searchTypes value=$ctrl.selectedSearchType ng-if=!$ctrl.hideSearchType aria-label={{::$ctrl.dropDownAriaLabel}}></drop-down> <input type=text role=textbox id={{$ctrl.id}} ng-disabled=$ctrl.isDisabled placeholder={{$ctrl.placeHolderText}} ng-model=$ctrl.searchParams ng-model-options="{ debounce: $ctrl.inputTimeInterval}" class="ct-textbox-compact search-box action-list-item principal-group-search-textbox" maxlength={{::$ctrl.pickerInputMaxLength}} ng-class="{ \'error-border\': $ctrl.noPrincipalsFound }" ng-focus=$ctrl.showResults() autocomplete=off ng-show=!$ctrl.isAutoSearchDisabled /> <form class="c-search principal-group-search-form" ng-show=$ctrl.isAutoSearchDisabled> <div class=principal-group-search-container> <input id={{::$ctrl.id}} type=search name=search-field class="search-field action-list-item principal-group-search-field" ng-disabled=$ctrl.isDisabled ng-model=$ctrl.searchParams placeholder={{$ctrl.placeHolderText}} maxlength={{::$ctrl.searchStringMaxLength}} ng-class="{ \'error-border\': $ctrl.noPrincipalsFound }" ng-focus=$ctrl.showResults() autocomplete=off /> <button class="c-glyph principal-group-search-button" name=principal-group-search-button ng-click=$ctrl.doSearch($ctrl.searchParams) aria-label={{::$ctrl.resources.Components.SearchBar.SearchButtonAriaLabel}}> </button> </div> </form> <span id=principalGroupSearchPlaceholderText style=display:none>{{$ctrl.placeHolderText}}</span> </div> <div class=search-results-wrapper> <div ng-if=$ctrl.showResultList class=search-results ng-class="{\'scroll-results\': !$ctrl.principalSuggestions.length}" dropdown-action-list-items infinite-scroll="$ctrl.infiniteScroll({skip: skip, top: top})" infinite-scroll-refresh=$ctrl.infiniteScrollRefresh infinite-scroll-allow-multiple=true> <div role=alert class=loading-row ng-if=$ctrl.loading> <div class="loading-icon spin"> <svg-src svg-name=icon_processing_status></svg-src> </div> <span class=loading-message>{{$ctrl.loadingMessage}}</span> </div> <ul> <li ng-repeat="suggestion in $ctrl.principalSuggestions" class="result-line principal-result-line"> <div class=action-list-item ng-click=$ctrl.selectPrincipal(suggestion) aria-label={{$ctrl.getUserSuggestionAriaLabel(suggestion)}}> <div class=profile-image-col> <img class=profile-image ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-image ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=principal-details> <span class=principal-name> {{$ctrl.displayedName(suggestion)}} </span> <span class=principal-email> {{suggestion.mail}} </span> </div> </div> </li> </ul> <div role=alert class=error-row ng-if=$ctrl.infoMessage> <span class=error-message>{{$ctrl.infoMessage}}</span> </div> <div class="create-new-button action-list-item" ng-click=$ctrl.createGroup() ng-if="$ctrl.isGroupSelected && !$ctrl.loading && $ctrl.canCreateGroup()"> <span>{{::$ctrl.resources.CreateGroup}}</span> </div> <div ng-repeat="groupSuggestion in $ctrl.groupSuggestions" class="result-line group-result-line"> <div class=action-list-item ng-click="$ctrl.selectChannel(null, groupSuggestion)" aria-label={{$ctrl.getGroupSuggestionAriaLabel(groupSuggestion.name)}}> <svg-src svg-name=icon_group_private class=group-icon inline-with-text=true ng-if=$ctrl.isPrivateGroup(groupSuggestion)></svg-src> <svg-src svg-name=icon_group_public class=group-icon inline-with-text=true ng-if="! $ctrl.isPrivateGroup(groupSuggestion)"></svg-src> <span class=group-name>{{::groupSuggestion.name}}</span> </div> <div class="create-new-button action-list-item" ng-click=$ctrl.createChannel(groupSuggestion) ng-if="$ctrl.isGroupSelected && $ctrl.canCreateChannel(groupSuggestion)"> <span>{{::$ctrl.resources.CreateChannel}}</span> </div> <div class=sub-menu-results ng-if=groupSuggestion.channels.length> <div ng-repeat="channel in groupSuggestion.channels" class=result-line ng-if=channel.name> <div class=action-list-item ng-click="$ctrl.selectChannel(channel, groupSuggestion)" aria-label={{$ctrl.getChannelSuggestionAriaLabel(channel.name)}}> <span class=channel-name-row>{{::channel.name}}</span> </div> </div> </div> </div> <div class="create-new-button action-list-item" ng-click=$ctrl.createChannel(null) ng-if="$ctrl.isChannelSelected && !$ctrl.loading && $ctrl.canCreateChannel(null)"> <span>{{::$ctrl.resources.CreateChannel}}</span> </div> <div ng-repeat="channelSuggestion in $ctrl.channelSuggestions" class="result-line channel-result-line"> <div class=action-list-item ng-click="$ctrl.selectChannel(channelSuggestion, channelSuggestion.group)" aria-label={{$ctrl.getChannelSuggestionAriaLabel(channelSuggestion.name)}}> <svg-src svg-name=icon_group_org inline-with-text=true class=group-icon ng-if=!channelSuggestion.group></svg-src> <svg-src svg-name=icon_group_private inline-with-text=true class=group-icon ng-if="channelSuggestion.group && $ctrl.isPrivateGroup(channelSuggestion.group)"></svg-src> <svg-src svg-name=icon_group_public inline-with-text=true class=group-icon ng-if="channelSuggestion.group && !$ctrl.isPrivateGroup(channelSuggestion.group)"></svg-src> <span class=channel-name>{{::channelSuggestion.name}}</span> <span class=group-name>{{channelSuggestion.group.name ? channelSuggestion.group.name : $ctrl.resources.PrincipalGroupSearchChannelMyOrgLabel}}</span> </div> </div> </div> </div> <custom-error-message ng-if=$ctrl.errorMessage error-message=$ctrl.errorMessage is-compact=true></custom-error-message> </div>'},"./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearch.less":function(e,t){},"./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearch.ts":function(e,t,n){function r(){this.controller=o.PrincipalGroupSearchController,this.template=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearch.html"),this.bindings={me:"<",isPrivateVideo:"<",principalSelected:"&",channelSelected:"&",principalSearched:"&",groupSearched:"&",channelSearched:"&",isDisabled:"<",searchTypeList:"<",label:"@",tooltipText:"@",hideCreate:"<",hideLabel:"<",clearSearch:"<",onInit:"&",onSearchChanges:"&",placeHolderTextOverride:"<",idOverride:"<",includeSecurityGroup:"<",labelId:"<?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearch.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts");t.PrincipalGroupSearch=r,i.registerComponent("principalGroupSearch",r,angular.module("jumper"))},"./app/components/Upload/TextTrackDetails/TextTrackDetails.html":function(e,t){e.exports='<div class="texttrack-details row"> <div class="column medium-4 small-5 xsmall-6"> <div class=c-select> <select ng-model=$ctrl.trackDetail.language ng-options="item.name for item in $ctrl.languageMappings" default-option={{::$ctrl.resources.TextTrackSelectedLanguage}} ng-disabled=$ctrl.uploadFailed auto-focus></select> </div> </div> <div class="column medium-8 small-7 xsmall-6 colpadding"> <div class=texttrack-file-row ng-class="{\'texttrack-failed\': $ctrl.uploadFailed}"> <div class=texttrack-delete-column ng-if=$ctrl.trackDetail.track> <button class="c-hyperlink texttrack-delete-button" aria-label={{::$ctrl.resources.CaptionsLabel}} ng-click=$ctrl.onDelete()> <svg-src svg-name=icon_cancel></svg-src> </button> </div> <div class=texttrack-file-column> <div ng-if="!$ctrl.trackDetail.track && $ctrl.trackDetail.language" class=texttrack-drag-message> <button class="c-hyperlink nowrap" ng-model=$ctrl.trackDetail.file ngf-select ngf-multiple=false name=texttrack-file-selector> {{::$ctrl.resources.TextTrackSelectFileOrDragMessage}} </button> </div> <div ng-if=$ctrl.trackDetail.track class=texttrack-filename-row> <div class=texttrack-filename-container> <div class=texttrack-filename> {{$ctrl.trackDetail.track.name}}</div> <div class=texttrack-ready-icon ng-if=$ctrl.uploadComplete> <svg-src svg-name=icon_checkmark inline-with-text=true></svg-src> </div> <div class=texttrack-failed-icon ng-if=$ctrl.uploadFailed> <svg-src svg-name=icon_error_status inline-with-text=true></svg-src> </div> </div> <div class=texttrack-upload-progress-bar ng-if=$ctrl.isUploading> <progress-bar max=100 value=$ctrl.trackDetail.uploadProgress></progress-bar> </div> </div> </div> <div class=texttrack-download-column ng-if="$ctrl.trackDetail.track && $ctrl.trackDetail.track.url"> <button type=button class="c-hyperlink download" aria-label={{::$ctrl.resources.DownloadFile}} ng-click=$ctrl.onDownload()> {{::$ctrl.resources.DownloadFile}} </button> </div> </div> </div> </div>'},"./app/components/Upload/TextTrackDetails/TextTrackDetails.less":function(e,t){},"./app/components/Upload/TextTrackDetails/TextTrackDetails.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/TextTrackDetails/TextTrackDetailsController.ts");function o(){this.controller=i.TextTrackDetailsController,this.template=n("./app/components/Upload/TextTrackDetails/TextTrackDetails.html"),this.bindings={trackDetail:"<",trackCreated:"&",trackUploaded:"&",trackDeleted:"&",isInAdminMode:"<",videoLanguage:"<"}}n("./app/components/Upload/TextTrackDetails/TextTrackDetails.less"),t.TexttrackDetails=o,r.registerComponent("texttrackDetails",o,angular.module("jumper"))},"./app/components/Upload/TextTrackDetails/TextTrackDetailsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/Constants.ts"),a=n("./app/utility/string.ts");function l(e,t,n,r,i,l,c,d,u,p){var m=this;this.$q=e,this.$scope=t,this.resources=n,this.textTrackLanguageService=r,this.mediaUploaderFactory=l,this.telemetryService=c,this.navigationService=d,this.videoService=u,this.mediaDownloaderService=p,this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.Auto),this.textTrackDataService=i(this.trackDetail.videoId,this.isInAdminMode),this.languageMappings=r.getAllLanguages(),this.fileWatchCancelHandler=this.$scope.$watch((function(){return m.trackDetail.file}),(function(e,t){!t&&e&&((t=e.name.split(".").pop())&&"vtt"===t.toLowerCase()?(m.trackDetail.errorMessage="",m.uploadFile(e)):m.trackDetail.errorMessage=m.resources.InvalidTextTrackFile)})),(i=this.trackDetail.track)&&!i.url&&(this.trackDetail.errorMessage=a.formatString(this.resources.AccessibilityTextTrackBadStateMessage,this.trackDetail.type,i.name)),this.$scope.$watch((function(){return m.trackDetail.track}),(function(e){e&&e.language?m.trackDetail.language=r.getLanguage(e.language):m.trackDetail.type===s.Constants.TextTrackType.Caption&&m.videoLanguage&&(m.trackDetail.language=r.getLanguage(m.videoLanguage))}))}(n=r=t.TrackState||(t.TrackState={}))[n.notCreated=0]="notCreated",n[n.creating=1]="creating",n[n.uploading=2]="uploading",n[n.completed=3]="completed",n[n.failed=4]="failed",n[n.ready=5]="ready",Object.defineProperty(l.prototype,"isUploading",{get:function(){return this.trackDetail.state===r.uploading},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"uploadFailed",{get:function(){return this.trackDetail.state===r.failed},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"uploadComplete",{get:function(){return this.trackDetail.state===r.completed},enumerable:!0,configurable:!0}),l.prototype.uploadFile=function(e){var t,n,o,l,c,d=this;e&&(this.trackDetail.file=e,t=function(e){return function(t,n){d.featureTelemetryTracker.setResourceId(n),d.featureTelemetryTracker.fail(i.FeatureName.UploadTextTrack,e,t,d.extraTelemetryProperties),e===i.SubFeatureName.VideoService_PatchVideo?d.trackDetail.errorMessage=a.formatString(d.resources.UploadTextTrackUpdateVideoLanguageFailedMessage,d.trackDetail.type,d.trackDetail.file.name):e===i.SubFeatureName.TextTrackDataService_Create?d.trackDetail.errorMessage=a.formatString(d.resources.UploadTextTrackCreateFailedMessage,d.trackDetail.type,d.trackDetail.file.name):d.trackDetail.errorMessage=a.formatString(d.resources.UploadTextTrackFailedMessage,d.trackDetail.type,d.trackDetail.file.name),(n=t)&&n.data&&n.data.error&&_.isString(n.data.error.message)&&0<n.data.error.message.length&&t.status<500&&(d.trackDetail.errorMessage+=" "+t.data.error.message)}},n=function(){var n=d.$q.defer(),o={name:e.name.substring(0,s.Constants.MaxLengths.VideoTitle-1),type:d.trackDetail.type,language:d.trackDetail.language.code};return d.textTrackDataService.create(o).then((function(e){d.trackDetail.track=e.data,e=a.formatString(s.Constants.ResourceIdStrings.TextTrack,d.trackDetail.videoId,d.trackDetail.track.id),d.trackCreated(),d.fileWatchCancelHandler&&d.fileWatchCancelHandler(),n.resolve(e)}),(function(e){d.trackDetail.state=r.notCreated,t(i.SubFeatureName.TextTrackDataService_Create)(e),n.reject()})),n.promise},o=function(n){d.trackDetail.state=r.uploading;var o=d.$q.defer();return d.uploaderService=d.mediaUploaderFactory(n),d.uploaderService.startUpload([e.name],d.isInAdminMode).then((function(e){o.resolve(e.data)}),(function(e){d.trackDetail.state=r.failed,t(i.SubFeatureName.UploadService_StartUpload)(e,n),o.reject()})),o.promise},l=function(n){return n=[{sasUrl:n.files[0].uploadUrl,file:e}],d.uploaderService.uploadFiles(d.$scope,n,d.isInAdminMode).then((function(){return d.trackDetail.uploadProgress=100,d.$q.resolve()}),(function(e){return t(i.SubFeatureName.UploadService_UploadFiles)(e),d.trackDetail.state=r.failed,d.$q.reject()}),(function(e){d.trackDetail.uploadProgress=e}))},this.trackDetail.state=r.creating,this.trackDetail.uploadProgress=0,this.trackDetail.type==s.Constants.TextTrackType.Caption&&this.trackDetail.language.code!==this.videoLanguage?(c=d.$q.defer(),d.videoService.patch(d.trackDetail.videoId,{language:d.trackDetail.language.code},d.isInAdminMode).then((function(){var e=a.formatString(s.Constants.ResourceIdStrings.Video,d.trackDetail.videoId);c.resolve(e)}),(function(e){t(i.SubFeatureName.VideoService_PatchVideo)(e),c.reject()})),c.promise.then(n).then(o).then(l).then((function(){d.trackDetail.state=r.completed,d.trackUploaded(),d.featureTelemetryTracker.succeed(i.FeatureName.UploadTextTrack,d.extraTelemetryProperties)}))):n().then(o).then(l).then((function(){d.trackDetail.state=r.completed,d.trackUploaded(),d.featureTelemetryTracker.succeed(i.FeatureName.UploadTextTrack,d.extraTelemetryProperties)})))},l.prototype.onDelete=function(){var e=this;return this.trackDetail.track?(this.uploaderService&&this.uploaderService.cancelUpload(),this.textTrackDataService.delete(this.trackDetail.track.id).then((function(){e.featureTelemetryTracker.succeed(i.FeatureName.DeleteTextTrack,e.extraTelemetryProperties),e.trackDeleted({id:e.trackDetail.track.id,type:e.trackDetail.type}),e.trackDetail.file=null}),(function(t){e.trackDetail.errorMessage=e.resources.TextTrackDeleteFailed,e.featureTelemetryTracker.setResourceId(e.trackDetail.track.id),e.featureTelemetryTracker.fail(i.FeatureName.DeleteTextTrack,i.SubFeatureName.TextTrackDataService_Delete,t,e.extraTelemetryProperties)}))):(this.trackDeleted({id:null,type:null}),this.$q.resolve())},Object.defineProperty(l.prototype,"extraTelemetryProperties",{get:function(){return{textTrackType:this.trackDetail.type,resourceId:this.trackDetail.track?this.trackDetail.track.id:"",videoId:this.trackDetail.videoId||""}},enumerable:!0,configurable:!0}),l.prototype.onDownload=function(){this.mediaDownloaderService.downloadFileWithRename(this.trackDetail.track.url,this.trackDetail.track.name)},l.$inject=["$q","$scope","resources","textTrackLanguageService","textTrackDataFactory","mediaUploaderFactory","telemetryService","navigationService","videoService","mediaDownloaderService"],n=l,t.TextTrackDetailsController=n},"./app/components/Upload/UploadCaptionLink/UploadCaptionLink.html":function(e,t){e.exports='<div class=upload-caption-link> <svg-src svg-name=icon_accessibility class=closed-caption-icon inline-with-text=true aria-label={{::$ctrl.resources.CaptionsLabel}}></svg-src> <button type=button class="upload-caption-button c-action-trigger" ng-click=$ctrl.launchUploadCaption()>{{::$ctrl.resources.AccessibilityOptions}}</button> </div>'},"./app/components/Upload/UploadCaptionLink/UploadCaptionLink.less":function(e,t){},"./app/components/Upload/UploadCaptionLink/UploadCaptionLink.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/UploadCaptionLink/UploadCaptionLinkController.ts");function o(){this.controller=i.UploadCaptionLinkController,this.template=n("./app/components/Upload/UploadCaptionLink/UploadCaptionLink.html"),this.bindings={videoId:"<",isInAdminMode:"<",textTrack:"=",textTrackUploaded:"&",textTrackDeleted:"&",accessibilityOptionsOpened:"&"}}n("./app/components/Upload/UploadCaptionLink/UploadCaptionLink.less"),t.UploadCaptionLink=o,r.registerComponent("uploadCaptionLink",o,angular.module("jumper"))},"./app/components/Upload/UploadCaptionLink/UploadCaptionLinkController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.launchUploadCaption=function(){var e=this;this.accessibilityOptionsOpened();var t={template:n("./app/Controls/Dialogs/UploadCaption/UploadCaption.html"),controller:"UploadCaptionController",controllerAs:"UploadCaptionModal",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,className:"dialog-box",data:{videoId:this.videoId,isInAdminMode:this.isInAdminMode}};this.ngDialog.open(t).closePromise.then((function(t){t.value&&(t.value.trackUploaded&&e.textTrackUploaded(),t.value.trackDeleted&&e.textTrackDeleted())})).finally((function(){e.telemetryService.getTracker(e.navigation.getPageName()).tagScreen()}))},i.$inject=["$scope","resources","ngDialog","textTrackDataFactory","telemetryService","navigationService"],i);function i(e,t,n,r,i,o){this.$scope=e,this.resources=t,this.ngDialog=n,this.textTrackDataFactory=r,this.telemetryService=i,this.navigation=o,this.textTrackDataService=this.textTrackDataFactory(this.videoId,this.isInAdminMode)}t.UploadCaptionLinkController=r},"./app/components/Upload/UploadDetail/UploadDetail.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/UploadDetail/UploadDetailController.ts");function o(){this.controller=i.UploadDetailController,this.template=n("./app/components/Upload/UploadDetail/UploadDetailV2.html"),this.bindings={fileInfo:"<",defaultPrivacy:"<",supportedTypes:"=",onRemove:"&",me:"<"}}n("./app/components/Upload/UploadDetail/UploadDetailV2.less"),t.UploadDetail=o,r.registerComponent("uploadDetail",o,angular.module("jumper"))},"./app/components/Upload/UploadDetail/UploadDetailV2.html":function(e,t){e.exports='<section class="section section-size0 media-upload-details media-upload-details-v2" aria-label={{::$ctrl.uploadDetailSectionAriaLabel}}> <div class=upload-detail-card> <div class="row row-size1 column progress-row"> <custom-error-message ng-if=$ctrl.isFailed error-message=$ctrl.failedMessage> </custom-error-message> <div class="progress-overlay upload-progress-overlay"> <div class=progress-message-container> <div role=alert class="progress-message progress-message-string upload-progress-message" ng-if="!$ctrl.fileInfo.editStateInfo.published && !$ctrl.isFailed"> <span>{{$ctrl.uploadProgressMessage}}</span> </div> <div role=alert class="progress-message progress-message-string progress-failed-message" ng-if=$ctrl.isFailed> <div class="status-message progress-failed-message"> <span>{{$ctrl.failedMessageShort}}</span> <button ng-if=$ctrl.isNotSupported class="c-hyperlink supported-formats" ng-click=$ctrl.goToSupportedFormats()>{{::$ctrl.resources.UploadSupportedFormats}}</button> </div> </div> <div role=alert class="progress-message published-message publish-message-string" ng-if="$ctrl.fileInfo.editStateInfo.published && !$ctrl.isFailed"> <div class="status-message publish-message-string"> <span>{{$ctrl.publishedMessage}}</span> <button class="c-hyperlink goto-video-button" ng-click=$ctrl.gotoVideo()>{{::$ctrl.video.name}}</button> </div> </div> </div> <div class=upload-detail-buttons> <button class="action-button delete-button" ng-if=$ctrl.isDeleteButtonEnabled aria-label={{::$ctrl.resources.Delete}} ng-click=$ctrl.deleteVideo()> <svg-src svg-name=icon_delete></svg-src> </button> <button class="action-button cancel-button" ng-if=$ctrl.isCancelButtonEnabled aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelUpload()> <svg-src svg-name=icon_cancel></svg-src> </button> </div> </div> <div class=progress-bar ng-if=!$ctrl.isFailed> <progress-bar max=100 value=$ctrl.fileInfo.editStateInfo.uploadProgress ng-if="$ctrl.isUploading || $ctrl.isUploadNotStarted" class=upload-progress aria-label={{::$ctrl.uploadProgessBarAriaLabel}}></progress-bar> <progress-bar max=100 value=$ctrl.fileInfo.editStateInfo.processProgress ng-if="!$ctrl.isUploading && !$ctrl.isUploadNotStarted" class=process-progress aria-label={{::$ctrl.processProgessBarAriaLabel}}></progress-bar> </div> </div> <video-edit video=$ctrl.video creator=$ctrl.me video-edit-state-info=$ctrl.fileInfo.editStateInfo form-name={{::$ctrl.formName}} ng-if=$ctrl.video summary-metrics=$ctrl.uploadSummaryMetrics summary-properties=$ctrl.uploadSummaryProperties on-publish=$ctrl.onPublishSuccess() permission-list=$ctrl.permissionList auto-save=true is-live-event=false file-name=$ctrl.fileInfo.file.name> </video-edit> </div> </section>'},"./app/components/Upload/UploadDetail/UploadDetailV2.less":function(e,t){},"./app/components/Upload/UploadPermissions/UploadPermissions.html":function(e,t){e.exports='<div class="upload-permissions upload-permissions-v2" ng-class="{\'upload-permissions-compact\':$ctrl.compact}" ng-if=!$ctrl.hiddenView> <div class=upload-permissions-loaded ng-if=$ctrl.permissionsLoaded> <div ng-if="!$ctrl.canUpload && !$ctrl.compact" class=permissions-restricted ng-class="{\'permissions-container\': !$ctrl.compact}"> <div class=upload-permissions-row> <div class=upload-restricted-container> <div class="restricted-title permissions-container-top"> {{::$ctrl.resources.UploadRestrictedTitle}} </div> <div class="restricted-description permissions-container-center"> {{::$ctrl.resources.UploadRestrictedDescription}} </div> <div class="empty-class-for-spacing permissions-container-bottom"></div> </div> </div> </div> <div ng-if=$ctrl.canUpload class=upload-permissions-container> <div class=upload-permissions-row> <div ng-if="!$ctrl.policyNeeded || ($ctrl.policyNeeded && $ctrl.policyAcknowledged)" class=upload-permissions-can-upload-area ng-class="{\'permissions-container\': !$ctrl.compact}"> <svg-src svg-name=icon_upload inline-with-text=true class="upload-icon permissions-container-top" aria-hidden=true /> <div class="upload-draghere-message permissions-container-center" role=heading aria-level="{{$ctrl.compact ? 2 : 1}}"> <button class="c-hyperlink black-outline browse-file-to-upload-btn" ngf-select ng-model=$ctrl.files ngf-multiple=true ng-click=$ctrl.browseFileClicked() aria-label={{::$ctrl.uploadMessageAccessibilty}}> {{::$ctrl.uploadMessage}} </button> </div> <div class=permissions-container-bottom> <div class=upload-read-policy ng-if=$ctrl.policyUrl> <a external-link class="c-hyperlink upload-read-policy-button" ng-href={{$ctrl.policyLink}} target=_blank ng-click=$ctrl.openPolicy()> {{::$ctrl.resources.ReadCompanyPolicyMessage}} </a> </div> </div> </div> <div ng-if="$ctrl.policyNeeded && !$ctrl.policyAcknowledged" class=policy-acknowledge ng-class="$ctrl.compact?\'policy-acknowledge-compact\':\'permissions-container\'"> <div class="policy-ack-title permissions-container-top"> {{$ctrl.ackTitle}} </div> <a external-link class="c-hyperlink policy-ack-link permissions-container-center" ng-if=!$ctrl.policyOpened ng-href={{$ctrl.policyLink}} target=_blank ng-click=$ctrl.openPolicy()> {{::$ctrl.resources.AcceptPolicyLinkText}} </a> <div ng-if=$ctrl.policyOpened class=policy-ack-description> {{::$ctrl.ackDescription}} </div> <div class=permissions-container-bottom> <div ng-if="!$ctrl.policyOpened && !$ctrl.compact" class=policy-ack-subText> {{::$ctrl.resources.AcceptPolicySubText}} </div> <button type=submit class="c-button ct-button-compact policy-ack-button" ng-click=$ctrl.acceptPolicy() ng-disabled=!$ctrl.policyOpened> {{::$ctrl.resources.AcceptPolicyButtonText}} </button> <div ng-if=$ctrl.acknowlegementFailed class=policy-acknowledge-failed>{{::$ctrl.resources.PolicyAcknowledgementFailed}}</div> </div> </div> </div> </div> </div> </div>'},"./app/components/Upload/UploadPermissions/UploadPermissions.less":function(e,t){},"./app/components/Upload/UploadPermissions/UploadPermissions.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/UploadPermissions/UploadPermissionsController.ts");function o(){this.controller=i.UploadPermissionsController,this.template=n("./app/components/Upload/UploadPermissions/UploadPermissions.html"),this.bindings={hiddenView:"<",compact:"<",uploadDisabled:"=?",files:"=?",policyAcknowledgedNeeded:"=?",defaultPrivacy:"=?",onCompactDisplay:"&",onBrowseFile:"&",onLoadCompanyPolicy:"&?"}}n("./app/components/Upload/UploadPermissions/UploadPermissions.less"),t.UploadPermissions=o,r.registerComponent("uploadPermissions",o,angular.module("jumper"))},"./app/components/Upload/UploadPermissions/UploadPermissionsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/string.ts");Object.defineProperty(o.prototype,"ackTitle",{get:function(){return this.policyOpened?this.resources.AcceptPolicyAfterHeading:this.compact?this.resources.AcceptPolicyCompactBeforeHeading:this.resources.AcceptPolicyBeforeHeading},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ackDescription",{get:function(){return this.compact?this.resources.AcceptPolicyCompactAfterDescription:this.resources.AcceptPolicyAfterDescription},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"uploadMessageAccessibilty",{get:function(){var e=this.compact?this.resources.UploadMoreMessage:this.featureFlagsService.Values.AudioOnlyUpload?this.resources.UploadMessageForAudioOnlyFF:this.resources.UploadMessage;return i.replaceStringMarkers(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"uploadMessage",{get:function(){return this.compact?this.resources.UploadMoreMessage:this.featureFlagsService.Values.AudioOnlyUpload?this.resources.UploadMessageForAudioOnlyFF:this.resources.UploadMessage},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"policyLink",{get:function(){var e=(e=this.policyUrl).trim();return _.startsWith(e,"http://")||_.startsWith(e,"https://")||(e="http://"+e),e},enumerable:!0,configurable:!0}),o.prototype.openPolicy=function(){this.policyOpened=!0},o.prototype.browseFileClicked=function(){this.onBrowseFile()},o.prototype.acceptPolicy=function(){var e=this;this.principalService.patchMySettings({system:{contentManagement:{companyUploadPolicy:{acknowledged:!0}}}}).then((function(){e.policyAcknowledged=!0,e.acknowlegementFailed=!1,e.policyAcknowledgedNeeded=!1,e.telemetryTracker.succeed(r.FeatureName.UpdatePrincipalSettings,{subFeature:r.SubFeatureName.System_PolicyAcknowledgement})}),(function(t){e.acknowlegementFailed=!0,e.telemetryTracker.fail(r.FeatureName.UpdatePrincipalSettings,r.SubFeatureName.System_PolicyAcknowledgement,t)}))},o.$inject=["$scope","$q","resources","principalService","tenantService","$window","telemetryService","videoService","featureFlagsService"],n=o;function o(e,t,n,o,s,a,l,c,d){var u=this;this.$scope=e,this.$q=t,this.resources=n,this.principalService=o,this.tenantService=s,this.$window=a,this.telemetryService=l,this.videoService=c,this.featureFlagsService=d,this.policyOpened=!1,this.canUpload=!1,this.policyAcknowledged=!1,this.policyNeeded=!0,this.acknowlegementFailed=!1,this.permissionsLoaded=!1,this.policyAcknowledgedNeeded=!0,this.telemetryTracker=this.telemetryService.getTracker(r.ScreenName.Auto),e.$watchGroup([function(){return u.canUpload},function(){return u.policyNeeded},function(){return u.policyAcknowledged}],(function(){u.uploadDisabled=!u.canUpload||u.policyNeeded&&!u.policyAcknowledged})),d=this.principalService.getMyPrincipalInfo().then((function(e){u.canUpload=e.data.permissions.canCreateVideo,u.policyAcknowledged=e.data.settings.system.contentManagement.companyUploadPolicy.acknowledged}),(function(e){u.canUpload=!0,u.telemetryTracker.fail(r.FeatureName.GetUploadPermissions,r.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})),e=this.tenantService.getSettings().then((function(e){u.defaultPrivacy=e&&e.data&&e.data.system.contentManagement.defaultVideoPrivacyMode,u.policyNeeded=e.data.system.contentManagement.companyUploadPolicy.acknowledgementRequired,u.policyUrl=i.htmlDecode(e.data.system.contentManagement.companyUploadPolicy.url),u.onLoadCompanyPolicy&&u.onLoadCompanyPolicy({policyUrl:u.policyUrl})}),(function(e){u.policyNeeded=!1,u.telemetryTracker.fail(r.FeatureName.GetUploadPermissions,r.SubFeatureName.TenantService_GetTenantSettings,e)})),this.$q.all([d,e]).then((function(){u.telemetryTracker.succeed(r.FeatureName.GetUploadPermissions)})).finally((function(){u.policyAcknowledgedNeeded=u.policyNeeded&&!u.policyAcknowledged,u.permissionsLoaded=!0,u.canUpload&&u.onCompactDisplay()})),this.videoService.getSupportedExtensions()}t.UploadPermissionsController=n},"./app/components/Upload/UploadVideo/UploadVideo.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/UploadVideo/UploadVideoController.ts");function o(){this.controller=i.UploadVideoController,this.template=n("./app/components/Upload/UploadVideo/UploadVideoV2.html"),this.bindings={filesToUpload:"="}}n("./app/components/Upload/UploadVideo/UploadVideoV2.less"),t.UploadVideo=o,r.registerComponent("uploadVideo",o,angular.module("jumper"))},"./app/components/Upload/UploadVideo/UploadVideoV2.html":function(e,t){e.exports='<div class="upload-page upload-page-v2" ngf-drop ng-model=$ctrl.files ngf-drag-over-class=dragover ngf-multiple=true ng-class="{\'upload-page-v2-full\': $ctrl.filesToUpload.length}" ngf-drop-disabled=$ctrl.uploadDisabled> <copyright-banner company-policy-address=$ctrl.companyPolicyAddress ng-if=$ctrl.isCopyrightBannerVisible> </copyright-banner> <div class=upload-container ng-class="{\'default-veiw\': !$ctrl.filesToUpload.length}"> <div class=upload-default-area ng-if=!$ctrl.filesToUpload.length> <div class=upload-message-area> <upload-permissions files=$ctrl.files default-privacy=$ctrl.defaultPrivacy upload-disabled=$ctrl.uploadDisabled policy-acknowledged-needed=$ctrl.policyAcknowledgedNeeded on-browse-file=$ctrl.onBrowseFileClicked() on-load-company-policy=$ctrl.onLoadCompanyPolicy(policyUrl)></upload-permissions> </div> </div> <div class=upload-topbar ng-class="{\'lower-upload-topbar\': $ctrl.shouldLowerPageForBanner, \'lower-upload-topbar-for-banner\': $ctrl.isReactBannerEnabled}" ng-if=$ctrl.filesToUpload.length> <div class="row column summary-row"> <div class=upload-notification-area role=heading> <button class="c-hyperlink upload-more-btn" role=link ngf-select ng-model=$ctrl.files ngf-multiple=true> {{$ctrl.uploadMoreMessage}} </button> </div> <div class=upload-summary-status ng-if=$ctrl.filesCurrentlyInUploadingstate.length>{{$ctrl.overAllUploadSummary}}</div> <div class=upload-summary-completed ng-if="$ctrl.filesNotFailed.length && !$ctrl.anyFilesInUpload"> <button class="c-hyperlink goto-myvideos-button" aria-label={{::$ctrl.resources.UploadOverAllUploadSummaryCompletedAriaLabel}} ng-click=$ctrl.goToMyVideos()> {{::$ctrl.resources.UploadOverAllUploadSummaryCompleted}} </button> </div> </div> </div> <div class="row column upload-list" ng-class="{\'lower-upload-list\': $ctrl.shouldLowerPageForBanner}" ng-if=$ctrl.filesToUpload.length scroll-bar> <div class=upload-list-repeater ng-repeat="file in $ctrl.filesToUpload"> <upload-detail file-info=file default-privacy=$ctrl.defaultPrivacy on-remove=$ctrl.filesToUpload.splice($index,1) supported-types=$ctrl.supportedTypes me=$ctrl.me></upload-detail> </div> </div> </div> <div class=upload-footer ng-if=!$ctrl.filesToUpload.length> <div class=upload-supported-fileformats> <a external-link class=c-action-trigger ng-href={{::$ctrl.supportedFormatsLink}} target=_blank>{{::$ctrl.resources.UploadSupportedFormats}}</a> </div> </div> </div>'},"./app/components/Upload/UploadVideo/UploadVideoV2.less":function(e,t){},"./app/components/Upload/VideoCommentToggle/VideoCommentToggle.html":function(e,t){e.exports='<div class=video-comment-toggle> <label class="ct-label nowrap label-top-adjust" id=toggle-video-comment-{{::$ctrl.video.id}}> {{::$ctrl.resources.VideoCommentToggle.Label}} </label> <tooltip message=$ctrl.resources.VideoCommentToggle.Tooltip button-aria-label={{::$ctrl.resources.VideoCommentToggle.Label}}></tooltip> <toggle ng-if=$ctrl.tenantSettings.system.contentManagement.allowComment name=toggle-video-comment-{{::$ctrl.video.id}} value=$ctrl.video.options.allowComments on-toggle-click=$ctrl.onToggleCommentClicked() disabled=$ctrl.disabled /> <p role=note class=comment-restricted-note ng-if=!$ctrl.tenantSettings.system.contentManagement.allowComment> {{$ctrl.resources.VideoCommentToggle.FeatureDisabledMessage}} </p> </div> '},"./app/components/Upload/VideoCommentToggle/VideoCommentToggle.less":function(e,t){},"./app/components/Upload/VideoCommentToggle/VideoCommentToggle.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/VideoCommentToggle/VideoCommentToggleController.ts");function o(){this.controller=i.VideoCommentToggleController,this.template=n("./app/components/Upload/VideoCommentToggle/VideoCommentToggle.html"),this.bindings={video:"<",tenantSettings:"<",disabled:"<"}}n("./app/components/Upload/VideoCommentToggle/VideoCommentToggle.less"),t.VideoCommentToggle=o,r.registerComponent("videoCommentToggle",o,angular.module("jumper"))},"./app/components/Upload/VideoCommentToggle/VideoCommentToggleController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts");i.prototype.onToggleCommentClicked=function(){this.video.options.allowComments=!this.video.options.allowComments,this.telemetryService.getTracker().trackEvent(r.TelemetryEventNames.toggleStateChanged,{videoId:this.video.id,contentSource:this.video.contentSource,currentState:this.video.options.allowComments,toggleType:"commentToggle"})},i.$inject=["$scope","resources","telemetryService"],n=i;function i(e,t,n){this.$scope=e,this.resources=t,this.telemetryService=n}t.VideoCommentToggleController=n},"./app/components/Upload/VideoEdit/VideoEdit.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/VideoEdit/VideoEditController.ts");function o(){this.controller=i.VideoEditController,this.template=n("./app/components/Upload/VideoEdit/VideoEditV2.html"),this.bindings={video:"=",creator:"<",videoEditStateInfo:"<",permissionList:"=?",formName:"@",summaryMetrics:"<",summaryProperties:"<",getInitialData:"<",isInAdminMode:"<",manualSaveFinished:"&",onPublish:"&",failedMessage:"=",expandedView:"<",autoSave:"<",alertProgress:"<",videoCreated:"&",videoSaved:"&",fileName:"<?"}}n("./app/components/Upload/VideoEdit/VideoEditV2.less"),t.VideoEdit=o,r.registerComponent("videoEdit",o,angular.module("jumper"))},"./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPane.html":function(e,t){e.exports='<div class="video-edit-pane-content details-pane"> <section aria-label={{::$ctrl.resources.UploadNameLabel}}> <label class=ct-label-compact for=uploadtitle ng-class="{\'form-invalid\':{{$ctrl.formName}}.uploadtitle.$invalid && !{{$ctrl.formName}}.uploadtitle.$pristine}"> {{::$ctrl.resources.UploadNameLabel}} <span ng-show={{$ctrl.formName}}.uploadtitle.$error.required>{{::$ctrl.resources.FormValidation.Required}}</span> </label> <input class="ct-textbox-compact upload-title" type=text name=uploadtitle required ng-model=$ctrl.video.name ng-model-options=$ctrl.debounceOptions ng-change="$ctrl.summaryProperties.titleChanged = true" maxlength={{::$ctrl.videoTitleMaxLength}} aria-required=true aria-label={{::$ctrl.resources.UploadNameLabel}} autocomplete=off autofocus=!$ctrl.videoEditStateInfo.isReplacingVideo /> <custom-error-message ng-if=!$ctrl.isTitleValid error-message=$ctrl.titleInvalidErrorMessage is-subtle=true /> </section> <section aria-label={{::$ctrl.resources.UploadDescriptionLabel}}> <label class=ct-label-compact for=uploaddescription>{{::$ctrl.resources.UploadDescriptionLabel}}</label> <textarea class="f-no-resize ct-textarea-compact upload-description" name=uploaddescription rows=3 placeholder={{::$ctrl.resources.Components.Upload.Detail.Description.Placeholder.chapters}} ng-model=$ctrl.video.description ng-model-options=$ctrl.debounceOptions ng-change="$ctrl.summaryProperties.descriptionChanged = true" maxlength={{::$ctrl.videoDescriptionMaxLength}} aria-label={{::$ctrl.resources.UploadDescriptionLabel}}></textarea> </section> <section class=poster-container ng-if=$ctrl.showLivePoster aria-label={{::$ctrl.resources.VideoThumbnails.SelectThumbnail}}> <live-thumbnail-poster video=$ctrl.video can-edit=true on-init="$ctrl.onInit({ doUploadFunction: doUploadFunction, resetPoster: resetPoster })" user-selection-changed=$ctrl.livePosterSelectionChanged() video-edit-state-info=$ctrl.videoEditStateInfo resource-id=$ctrl.video.id></live-thumbnail-poster> </section> <section class=video-language aria-label={{::$ctrl.resources.VideoLanguageLabel}}> <div class=video-language-note ng-if=$ctrl.showVideoLanguageNote> <div class=content> {{::$ctrl.resources.VideoLanguageNote}} <a class=c-hyperlink external-link ng-href=https://docs.microsoft.com/stream/portal-autogenerate-captions target=_blank> {{::$ctrl.resources.LearnMore}} </a> </div> <button class="c-action-trigger c-glyph cancel-button" ng-click=$ctrl.hideVideoLanguageNote() aria-label={{::$ctrl.resources.Hide}} title={{::$ctrl.resources.Hide}}> <svg-src svg-name=icon_cancel inline-with-text=true class=cancel-button-svg></svg-src> </button> </div> <label class="ct-label-compact language-label" for=videolanguage>{{::$ctrl.resources.VideoLanguageLabel}}</label> <tooltip message=$ctrl.resources.VideoLanguageTooltip button-aria-label={{::$ctrl.resources.VideoLanguageLabel}}></tooltip> <div class="ct-select-compact c-select drop-down-height"> <select ng-model=$ctrl.video.language id=videolanguage ng-options="item.code as item.name for item in $ctrl.languageMappings" ng-change=$ctrl.videoLanguageChanged() default-option={{::$ctrl.resources.TextTrackSelectedLanguage}} ng-disabled=$ctrl.uploadFailed></select> </div> <custom-error-message ng-if=$ctrl.languageNotMatch error-message=$ctrl.resources.VideoCaptionLanguageNotMatch></custom-error-message> </section> <section class=event-date-time ng-if=$ctrl.showLiveDateTimeEdit aria-label={{::$ctrl.resources.LiveEventStartOptionsTitleLabel}} ng-class="{ \'invalid\': !$ctrl.isDatePickersValid }"> <div class=event-start-options> <label class=ct-label-compact for=eventstartoptionsdropdown>{{::$ctrl.resources.LiveEventStartOptionsTitleLabel}}</label> <drop-down name=eventstartoptionsdropdown class="start-options-dropdown ct-dropdown-compact" options=$ctrl.eventStartTypes value=$ctrl.selectedEventStartType aria-label={{::$ctrl.resources.LiveEventStartOptionsAriaLabel}}></drop-down> </div> <div class=event-date-time-pickers ng-if=$ctrl.showLiveEventDateTimePickers> <div class=event-start> <div class=event-date-start> <label class=ct-label-compact for=eventdatestart>{{::$ctrl.resources.EventDateStartLabel}}</label> <date-picker label=eventdatestart class=event-date-input name=eventdatestart input-date=$ctrl.liveEventStartDate min-date=$ctrl.liveEventStartMinDate max-date=$ctrl.liveEventStartMaxDate aria-label={{::$ctrl.resources.UploadDescriptionLabel}} /> </div> <div class=start-time> <label class=ct-label-compact for=starttime>{{::$ctrl.resources.StartTimeLabel}}</label> <time-picker class=start-time-input name=starttime time-to-select=$ctrl.video.liveEvent.startTime time-interval=30 show-scroll=true selected-time-changed=$ctrl.onStartTimeChanged(newTime) is-disabled=$ctrl.disableStartTimePicker></time-picker> </div> </div> <div class=event-end> <div class=event-date-end> <label class=ct-label-compact for=eventdateend>{{::$ctrl.resources.EventDateEndLabel}}</label> <date-picker label=eventdateend class=event-date-input name=eventdateend input-date=$ctrl.liveEventEndDate min-date=$ctrl.liveEventEndMinDate max-date=$ctrl.liveEventEndMaxDate aria-label={{::$ctrl.resources.UploadDescriptionLabel}} /> </div> <div class=end-time> <label class=ct-label-compact for=endtime>{{::$ctrl.resources.EndTimeLabel}}</label> <time-picker class=end-time-input name=endtime time-to-select=$ctrl.video.liveEvent.endTime time-interval=30 min-time=$ctrl.liveEventEndMinTime show-scroll=true selected-time-changed=$ctrl.onEndTimeChanged(newTime) is-disabled=$ctrl.disableEndTimePicker></time-picker> </div> </div> </div> </section> <section class=poster-container ng-if=!$ctrl.showLivePoster aria-label={{::$ctrl.resources.VideoThumbnails.SelectThumbnail}}> <video-thumbnail-poster video=$ctrl.video video-state=$ctrl.videoEditStateInfo.videoState selected-thumbnail=$ctrl.selectedThumbnail is-replacing=$ctrl.videoEditStateInfo.isReplacingVideo process-progress=$ctrl.videoEditStateInfo.processProgress upload-progress=$ctrl.videoEditStateInfo.uploadProgress on-publish=$ctrl.onPublish() is-in-admin-mode=$ctrl.isInAdminMode thumbnails-ready=$ctrl.videoEditStateInfo.thumbnailsReady user-selection-changed=$ctrl.thumbnailSelect() custom-poster-uploaded="$ctrl.summaryProperties.customPosterUploaded = true" alert-progress=$ctrl.alertProgress load-initial-thumbnails=$ctrl.isLiveContent file-name=$ctrl.fileName> </video-thumbnail-poster> </section> </div> '},"./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPane.less":function(e,t){},"./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPane.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPaneController.ts");function o(){this.controller=i.VideoEditDetailsPaneController,this.template=n("./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPane.html"),this.bindings={video:"=",videoEditStateInfo:"=",summaryProperties:"=",summaryMetrics:"=",thumbnailSelect:"&",formName:"@",selectedThumbnail:"=",debounceOptions:"=",onPublish:"&",isInAdminMode:"<",languageMappings:"<",languageNotMatch:"<",showVideoLanguageNote:"<",hideVideoLanguageNote:"&",alertProgress:"<",onInit:"&",livePosterSelectionChanged:"&",liveEventChanged:"&",fileName:"<?"}}n("./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPane.less"),t.VideoEditDetailsPane=o,r.registerComponent("videoEditDetailsPane",o,angular.module("jumper"))},"./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPaneController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts");function a(e,t,n,o,s){var a=this;this.$q=e,this.$scope=t,this.resources=n,this.$filter=o,this.videoService=s,this.videoTitleMaxLength=i.Constants.MaxLengths.VideoTitle,this.videoDescriptionMaxLength=i.Constants.MaxLengths.VideoDescription,this.liveEventStartMinDate=moment(),this.liveEventStartMaxDate=moment().add(5,"year"),this.liveEventEndMinDate=moment(),this.liveEventEndMaxDate=moment().add(5,"year"),this.eventStartTypes=[],this.eventStartTypes=[{value:r.SpecificDateTime,text:this.resources.LiveEventStartSpecificOption},{value:r.Now,text:this.resources.LiveEventStartNowOption}],this.selectedEventStartType=r.SpecificDateTime,t.$watch((function(){return a.selectedEventStartType}),(function(e,t){e===r.SpecificDateTime?a.setupLiveEventDateTimePickers():e===r.Now&&a.setLiveEventToNow()}))}(n=r=t.LiveEventStartType||(t.LiveEventStartType={}))[n.SpecificDateTime=0]="SpecificDateTime",n[n.Now=1]="Now",Object.defineProperty(a.prototype,"disableStartTimePicker",{get:function(){return!this.liveEventStartDate},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"disableEndTimePicker",{get:function(){return!this.liveEventEndDate},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isDatePickersValid",{get:function(){return this.video.liveEvent.startTime&&this.video.liveEvent.endTime&&moment(this.video.liveEvent.startTime).isBefore(this.video.liveEvent.endTime)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"showLivePoster",{get:function(){return this.isLiveContent&&this.videoEditStateInfo.videoState!==i.Constants.VideoState.completed},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"showLiveDateTimeEdit",{get:function(){return this.isLiveContent&&(this.videoEditStateInfo.videoState===i.Constants.VideoState.creating&&!this.videoEditStateInfo.ingestState||this.videoEditStateInfo.videoState===i.Constants.VideoState.created&&this.videoEditStateInfo.ingestState===i.Constants.VideoIngestState.stopped)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isTitleValid",{get:function(){return!this.video||this.video.id==i.Constants.preCreationVideoId||this.video.name&&0<this.video.name.length&&this.video.name.length<=i.Constants.MaxLengths.VideoTitle},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"titleInvalidErrorMessage",{get:function(){return s.formatString(this.resources.InvalidVideoTitleMessage,i.Constants.MaxLengths.VideoTitle.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isLiveContent",{get:function(){return this.video.contentSource===i.Constants.VideoContentSource.liveStream},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"showLiveEventDateTimePickers",{get:function(){return this.selectedEventStartType===r.SpecificDateTime},enumerable:!0,configurable:!0}),a.prototype.onEndTimeChanged=function(e){var t=o.getLocalDateFromISODateTime(this.video.liveEvent.endTime);t=o.setTimeOnDate(t,e);this.video.liveEvent.endTime=o.formatISODateTime(t),this.liveEventChanged()},a.prototype.onStartTimeChanged=function(e){var t=moment(this.video.liveEvent.startTime),n=moment(this.video.liveEvent.endTime),r=moment.duration(n.diff(t));n=(t=moment(o.setTimeOnDate(t.toDate(),e))).clone().add(r);this.video.liveEvent.startTime=o.formatISODateTime(t.toDate()),this.video.liveEvent.endTime=o.formatISODateTime(n.toDate()),this.liveEventEndMinTime=t.clone().add(30,"minutes").toDate(),this.liveEventChanged()},a.prototype.setupLiveEventDateTimePickers=function(){var e=this;this.videoEditStateInfo.isLiveEventScheduledToNow=!1,this.video.liveEvent||(this.video.liveEvent={startTime:null,endTime:null}),this.video.liveEvent.startTime&&(this.liveEventStartDate=this.$filter("localDate")(this.video.liveEvent.startTime,"l"),this.liveEventEndMinDate=moment(this.video.liveEvent.startTime)),this.video.liveEvent.endTime&&(this.liveEventEndDate=this.$filter("localDate")(this.video.liveEvent.endTime,"l")),this.$scope.$watch((function(){return e.liveEventStartDate}),(function(t,n){_.isEqual(t,n)||(n=o.parseShortDateStringToDate(t),t=e.video.liveEvent.startTime?o.getLocalDateFromISODateTime(e.video.liveEvent.startTime):e.currentDateTime,t=o.setDateOnDate(t,n),e.video.liveEvent.startTime=o.formatISODateTime(t),e.liveEventEndMinDate=moment(t),e.liveEventChanged(),e.video.liveEvent.endTime||(n=moment(t).add(1,"hour").toDate(),e.video.liveEvent.endTime=o.formatISODateTime(n),e.liveEventEndMinTime=moment(t).add(30,"minutes").toDate()))})),this.$scope.$watch((function(){return e.liveEventEndDate}),(function(t,n){_.isEqual(t,n)||(n=o.parseShortDateStringToDate(t),t=e.video.liveEvent.endTime?o.getLocalDateFromISODateTime(e.video.liveEvent.endTime):e.currentDateTime,t=o.setDateOnDate(t,n),e.video.liveEvent.endTime=o.formatISODateTime(t),e.liveEventChanged(),e.video.liveEvent.startTime||(t=moment(t).subtract(1,"hour").toDate(),e.video.liveEvent.startTime=o.formatISODateTime(t),e.liveEventEndMinTime=moment(t).add(30,"minutes").toDate()))})),this.$scope.$watch((function(){return e.video.liveEvent}),(function(t,n){e.video.liveEvent&&!_.isEqual(t,n)&&(t.startTime&&(e.liveEventStartDate=e.$filter("localDate")(t.startTime,"l")),t.endTime&&(e.liveEventEndDate=e.$filter("localDate")(t.endTime,"l")))}),!0)},a.prototype.setLiveEventToNow=function(){var e=moment().seconds(0).milliseconds(0);this.video.liveEvent.startTime=o.formatISODateTime(e.toDate()),this.video.liveEvent.endTime=o.formatISODateTime(e.add(1,"hour").toDate()),this.videoEditStateInfo.isLiveEventScheduledToNow=!0,this.liveEventChanged()},Object.defineProperty(a.prototype,"currentDateTime",{get:function(){var e=moment().seconds(0).milliseconds(0),t=(60-e.minute())%30;return e.add(t,"minutes"),e.toDate()},enumerable:!0,configurable:!0}),a.$inject=["$q","$scope","resources","$filter","videoService"],n=a,t.VideoEditDetailsPaneController=n},"./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPane.html":function(e,t){e.exports='<div class="video-edit-pane-content more-pane"> <div class=live-video-message-bar ng-if=$ctrl.showLiveVideoMessageBar> <div class=content> {{$ctrl.getLiveVideoMessageBarContent}} </div> </div> <div class=faces-toggle ng-if=$ctrl.isFaceDetectionEnabled> <label class="ct-label nowrap label-top-adjust" id=toggle-video-faces-{{::$ctrl.video.id}}> {{::$ctrl.resources.VideoEditFaceToggleLabel}} </label> <tooltip message=$ctrl.resources.VideoEditFaceToggleTooltipMessage button-aria-label={{::$ctrl.resources.VideoEditFaceToggleLabel}}> </tooltip> <toggle ng-if=$ctrl.tenantSettings.system.contentManagement.allowFaceDetection name=toggle-video-faces-{{::$ctrl.video.id}} value=$ctrl.video.options.faceDetection on-toggle-click=$ctrl.onToggleFacesClicked() disabled=$ctrl.shouldDisableCommonToggles> </toggle> <p role=note class=face-restricted-note ng-if=!$ctrl.tenantSettings.system.contentManagement.allowFaceDetection> {{$ctrl.resources.VideoFaceDetectionFeatureDisabledMessage}} </p> </div> <video-comment-toggle ng-if=$ctrl.tenantSettings video=$ctrl.video tenant-settings=$ctrl.tenantSettings disabled=$ctrl.shouldDisableCommonToggles> </video-comment-toggle> <audio-enhancement-owner-toggle ng-if=$ctrl.tenantSettings video=$ctrl.video is-upload=$ctrl.videoEditStateInfo.newlyUploadedItem tenant-settings=$ctrl.tenantSettings disabled=$ctrl.shouldDisableCommonToggles> </audio-enhancement-owner-toggle> <captions-and-subtitles ng-if=$ctrl.video.id video=$ctrl.video video-edit-state-info=$ctrl.videoEditStateInfo is-in-admin-mode=$ctrl.isInAdminMode class=captions-and-subtitles text-track-uploaded="$ctrl.summaryProperties.textTrackUploaded = true" text-track-deleted="$ctrl.summaryProperties.textTrackDeleted = true" accessibility-options-opened="$ctrl.summaryProperties.accessibilityOptionsOpened = true" language-match="$ctrl.languageMatch({$match: $match})" caption-status=$ctrl.captionStatus is-disabled=$ctrl.shouldDisableCommonToggles> </captions-and-subtitles> <after-event-availability ng-if=::$ctrl.isAvailabilityVisible video=$ctrl.video tenant-settings=$ctrl.tenantSettings video-edit-state-info=$ctrl.videoEditStateInfo live-event-changed=$ctrl.liveEventChanged()> </after-event-availability> <custom-end-event-message-input ng-if=$ctrl.isCustomEndEventMessageVisible ng-disabled=!$ctrl.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback video=$ctrl.video video-edit-state-info=$ctrl.videoEditStateInfo live-event-changed=$ctrl.liveEventChanged()> </custom-end-event-message-input> </div> '},"./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPane.less":function(e,t){},"./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPane.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPaneController.ts");function o(){this.controller=i.VideoEditOptionsPaneController,this.template=n("./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPane.html"),this.bindings={video:"<",savedVideo:"<",videoEditStateInfo:"=",summaryProperties:"=",isInAdminMode:"<",tenantSettings:"<",languageMatch:"&",captionStatus:"=",me:"<",liveEventChanged:"&"}}n("./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPane.less"),t.VideoEditOptionsPane=o,r.registerComponent("videoEditOptionsPane",o,angular.module("jumper"))},"./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPaneController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/LiveEventUtils.ts");s.prototype.onToggleFacesClicked=function(){this.video.options.faceDetection=!this.video.options.faceDetection,this.telemetryService.getTracker().trackEvent(i.TelemetryEventNames.toggleStateChanged,{videoId:this.video.id,contentSource:this.video.contentSource,currentState:this.video.options.faceDetection,toggleType:"faceDetectionToggle"})},Object.defineProperty(s.prototype,"showLiveVideoMessageBar",{get:function(){return null!=this.getLiveVideoMessageBarContent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isAvailabilityVisible",{get:function(){return this.featureFlagsService.Values.LiveEventOptions&&this.isLiveEvent&&(!this.video.state||this.video.state===r.Constants.VideoState.creating||this.video.state===r.Constants.VideoState.created||o.isVodlessLiveEvent(this.video))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isCustomEndEventMessageVisible",{get:function(){return this.isAvailabilityVisible&&o.isVodlessLiveEvent(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showOnDemandOptions",{get:function(){return this.featureFlagsService.Values.LiveEventOptions&&this.isLiveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isFaceDetectionEnabled",{get:function(){return!this.featureFlagsService.Values.DisableFaceDetection},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"getLiveVideoMessageBarContent",{get:function(){if(this.isLiveEvent&&this.video.liveEvent.liveEventOptions){var e=(t=this.video.liveEvent.liveEventOptions.onDemandOptions).enablePlayback,t=t.enableDownload;return this.video.state==r.Constants.VideoState.completed?!e&&t?this.resources.LiveVideoEditOptionsMessageBarDownloadableAfterEnd:e||t?null:this.resources.LiveVideoEditOptionsMessageBarNotRecordedAfterEnd:e||t?this.resources.LiveVideoEditOptionsMessageBarViewable:this.resources.LiveVideoEditOptionsMessageBarNotRecorded}return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isLiveEvent",{get:function(){return this.video.contentSource===r.Constants.VideoContentSource.liveStream},enumerable:!0,configurable:!0}),s.$inject=["resources","featureFlagsService","telemetryService"],n=s;function s(e,t,n){this.resources=e,this.featureFlagsService=t,this.telemetryService=n}t.VideoEditOptionsPaneController=n},"./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPane.html":function(e,t){e.exports='<div class="video-edit-pane-content permissions-pane"> <div class="video-privacy-mode c-checkbox ct-checkbox"> <label class="video-privacy-label ct-label-compact"> <input type=checkbox ng-model=$ctrl.isVideoOrganization ng-change=$ctrl.changeVideoPermissions() aria-checked={{$ctrl.isVideoOrganization}}> <span>{{::$ctrl.resources.VideoPermissionsVideoPrivacyModeCheckboxLabel}}</span> </label> <tooltip message=$ctrl.resources.VideoPermissionsVideoPrivacyModeCheckboxTooltip button-aria-label={{::$ctrl.resources.VideoPermissionsVideoPrivacyModeCheckboxLabel}}> </tooltip> </div> <div class=pubic-anonymous-container ng-if=$ctrl.showPublicAnonymous> <div class="video-privacy-mode c-checkbox ct-checkbox"> <label class="video-privacy-label ct-label-compact"> <input type=checkbox ng-model=$ctrl.isVideoPublicAnonymous ng-change=$ctrl.changePublicAnonymousPermissions() aria-checked={{$ctrl.isVideoPublicAnonymous}}> <span>{{::$ctrl.resources.PublicAnonymous.CheckboxLabel}}</span> </label> <tooltip message=$ctrl.resources.PublicAnonymous.CheckboxTooltip button-aria-label={{::$ctrl.resources.PublicAnonymous.CheckboxLabel}}> </tooltip> <label class="video-privacy-label ct-label-compact"> {{::$ctrl.resources.PublicAnonymous.PreviewText}} </label> </div> <div> <a ng-click=$ctrl.onShareClick() ng-if=$ctrl.showShareDialogLink class=c-hyperlink aria-label={{::$ctrl.resources.PublicAnonymous.CheckboxShareLink}}>{{::$ctrl.resources.PublicAnonymous.CheckboxShareLink}}</a> </div> <div> <span ng-if=$ctrl.showUnpublishedLabel tabindex=0 aria-label="">{{::$ctrl.resources.PublicAnonymous.CheckboxLabelDuringUpload}}</span> </div> </div> <video-permissions video=$ctrl.video creator=$ctrl.creator is-in-admin-mode=$ctrl.isInAdminMode permissions-changed=$ctrl.permissionsChanged() permission-list=$ctrl.permissionList preload-data=!$ctrl.videoEditStateInfo.newlyUploadedItem reload=$ctrl.reloadPermissions summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties> </video-permissions> </div>'},"./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPane.less":function(e,t){},"./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPane.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPaneController.ts");function o(){this.controller=i.VideoEditPermissionsPaneController,this.template=n("./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPane.html"),this.bindings={video:"<",creator:"<",videoEditStateInfo:"=",summaryProperties:"=",summaryMetrics:"=",isInAdminMode:"<",isStreamAdmin:"<",principals:"=",permissionList:"=",permissionsChanged:"&",reloadPermissions:"="}}n("./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPane.less"),t.VideoEditPermissionsPane=o,r.registerComponent("videoEditPermissionsPane",o,angular.module("jumper"))},"./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPaneController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts");s.prototype.changeVideoPermissions=function(){var e,t=this;this.isVideoOrganization?(this.video.privacyMode=o.Constants.privacyMode.organization,this.summaryProperties.privacyChanged=!0):(e={title:i.formatString(this.resources.VideoPermissionsPrivacyModeConfirmationTitle,this.video.name),message:this.resources.VideoPermissionsPrivacyModeConfirmationDescription,confirmButtonLabel:this.resources.Yes,cancelButtonLabel:this.resources.No},this.confirmationDialogService.show(e).then((function(){t.video.privacyMode=o.Constants.privacyMode.private,t.summaryProperties.privacyChanged=!0,_.remove(t.permissionList,(function(e){return!e.showRole})),t.featureFlagsService.Values.RemoveMakeVideoPrivateAutoSave||t.$scope.$emit(o.Constants.Events.MakeVideoPrivate)}),(function(){t.isVideoOrganization=!0})))},s.prototype.changePublicAnonymousPermissions=function(){var e,t=this;this.isVideoPublicAnonymous?(e={title:this.resources.PublicAnonymous.CheckboxCheckDialogHeader,message:this.resources.PublicAnonymous.CheckboxCheckDialogBody,confirmButtonLabel:this.resources.PublicAnonymous.CheckboxConfirmDialog,cancelButtonLabel:this.resources.PublicAnonymous.CheckboxCancelDialog},this.confirmationDialogService.show(e).then((function(){t.video.options.allowPublicPlayback=!0,t.$scope.$emit(o.Constants.Events.ChangeVideoPublicAnonymous,t.isVideoPublicAnonymous),t.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.PublicAnonymousConfirmationDialogClosed,{action:"CheckPublicAnonymousConfirmed",videoId:t.video.id})}),(function(){t.isVideoPublicAnonymous=!1,t.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.PublicAnonymousConfirmationDialogClosed,{action:"CheckPublicAnonymousCancelled",videoId:t.video.id})}))):(e={title:this.resources.PublicAnonymous.CheckboxUncheckDialogHeader,message:this.resources.PublicAnonymous.CheckboxUncheckDialogBody,confirmButtonLabel:this.resources.PublicAnonymous.CheckboxConfirmDialog,cancelButtonLabel:this.resources.PublicAnonymous.CheckboxCancelDialog},this.confirmationDialogService.show(e).then((function(){t.video.options.allowPublicPlayback=!1,t.$scope.$emit(o.Constants.Events.ChangeVideoPublicAnonymous,t.isVideoPublicAnonymous),t.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.PublicAnonymousConfirmationDialogClosed,{action:"UncheckPublicAnonymousConfirmed",videoId:t.video.id})}),(function(){t.isVideoPublicAnonymous=!0,t.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.PublicAnonymousConfirmationDialogClosed,{action:"UncheckPublicAnonymousCancelled",videoId:t.video.id})})))},s.prototype.onShareDialogClosed=function(){this.featureFlagsService.Values.ReactShareDialog&&(this.showShareDialog=!1),this.$scope.$evalAsync(),this.dialogInterruptionHandler.recover(),$(".video-action-share",this.$element).focus()},s.prototype.onShareClick=function(){this.featureFlagsService.Values.ReactShareDialog?this.showShareDialog=!0:this.videoShareDialog.open(this.video)},Object.defineProperty(s.prototype,"showPublicAnonymous",{get:function(){var e=this.isStreamAdmin&&this.isInAdminMode;if(this.isPublicAnonymousLiveEnabled()&&this.isPublicAnonymousVODEnabled())return e;if(this.video.contentSource){if(this.isPublicAnonymousLiveEnabled())return e&&this.video.contentSource===o.Constants.VideoContentSource.liveStream;if(this.isPublicAnonymousVODEnabled())return e&&this.video.contentSource!==o.Constants.VideoContentSource.liveStream}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showUnpublishedLabel",{get:function(){return this.video.options.allowPublicPlayback&&!this.video.published},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showShareDialogLink",{get:function(){return this.video.options.allowPublicPlayback&&this.video.published},enumerable:!0,configurable:!0}),s.prototype.isPublicAnonymousLiveEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousLive},s.prototype.isPublicAnonymousVODEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousVOD},s.$inject=["$scope","resources","featureFlagsService","telemetryService","videoShareDialog","confirmationDialogService","$element"],n=s;function s(e,t,n,r,i,s,a){var l=this;this.$scope=e,this.resources=t,this.featureFlagsService=n,this.telemetryService=r,this.videoShareDialog=i,this.confirmationDialogService=s,this.$element=a,this.isVideoOrganization=this.video.privacyMode===o.Constants.privacyMode.organization,this.isVideoPublicAnonymous=!(!this.video||!this.video.options)&&this.video.options.allowPublicPlayback,this.showShareDialog=!1,this.onShareDialogClosed=this.onShareDialogClosed.bind(this),this.featureTelemetryTracker=this.telemetryService.getTracker(),this.$scope.$on(o.Constants.Events.videoPublished,(function(e,t){l.video.published=!0}))}t.VideoEditPermissionsPaneController=n},"./app/components/Upload/VideoEdit/VideoEditV2.html":function(e,t){e.exports='<section class="video-edit-details video-edit-details-v2" aria-label={{::$ctrl.videoEditSectionAriaLabel}}> <div class=video-edit-accordian-container ng-if=!$ctrl.expandedView> <v-accordion class=stream-accordion control=accordion> <v-pane expanded id={{::$ctrl.video.id}}-details ng-disabled=$ctrl.isAccordionDisabled> <v-pane-header id={{::$ctrl.video.id}}-details-header class=details-tab-header aria-label={{::$ctrl.resources.Details}} ng-click=$ctrl.videoUploadTabToggled($ctrl.detailsTabName)>{{::$ctrl.resources.Details}} </v-pane-header> <v-pane-content id={{::$ctrl.video.id}}-details-content> <video-edit-details-pane video=$ctrl.video video-edit-state-info=$ctrl.videoEditStateInfo summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties form-name={{::$ctrl.formName}} selected-thumbnail=$ctrl.selectedThumbnail debounce-options=$ctrl.debounceOptions on-publish=$ctrl.onPublish thumbnail-select=$ctrl.thumbnailSelect() is-in-admin-mode=$ctrl.isInAdminMode language-mappings=$ctrl.languageMappings language-not-match=$ctrl.languageNotMatch show-video-language-note=$ctrl.showVideoLanguageNote hide-video-language-note=$ctrl.hideVideoLanguageNote() on-init="$ctrl.onInit({ doUploadFunction: doUploadFunction, resetPoster: resetPoster})" live-poster-selection-changed=$ctrl.livePosterSelectionChanged() live-event-changed=$ctrl.liveEventChanged() alert-progress=$ctrl.alertProgress file-name=$ctrl.fileName> </video-edit-details-pane> </v-pane-content> </v-pane> <v-pane id={{::$ctrl.video.id}}-permissions ng-disabled=$ctrl.isAccordionDisabled> <v-pane-header id={{::$ctrl.video.id}}-permissions-header class=permissions-tab-header aria-label={{::$ctrl.resources.Permissions}} ng-click=$ctrl.videoUploadTabToggled($ctrl.permissionsTabName)>{{::$ctrl.resources.Permissions}} </v-pane-header> <v-pane-content id={{::$ctrl.video.id}}-permissions-content> <video-edit-permissions-pane video=$ctrl.video creator=$ctrl.creator video-edit-state-info=$ctrl.videoEditStateInfo summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties is-in-admin-mode=$ctrl.isInAdminMode is-stream-admin=$ctrl.isStreamAdmin principals=$ctrl.principals permission-list=$ctrl.permissionList permissions-changed=$ctrl.permissionsChanged() reload-permissions=$ctrl.reloadPermissions> </video-edit-permissions-pane> </v-pane-content> </v-pane> <v-pane id={{::$ctrl.video.id}}-options ng-disabled=$ctrl.isAccordionDisabled> <v-pane-header id={{::$ctrl.video.id}}-options-header class=options-tab-header aria-label={{::$ctrl.resources.Options}} ng-click=$ctrl.videoUploadTabToggled($ctrl.optionsTabName)>{{::$ctrl.resources.Options}} </v-pane-header> <v-pane-content id={{::$ctrl.video.id}}-options-content> <video-edit-options-pane video=$ctrl.video saved-video=$ctrl.savedVideo video-edit-state-info=$ctrl.videoEditStateInfo summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties is-in-admin-mode=$ctrl.isInAdminMode tenant-settings=$ctrl.tenantSettings language-match=$ctrl.languageMatch($match) caption-status=$ctrl.captionStatus me=$ctrl.me , live-event-changed=$ctrl.liveEventChanged()> </video-edit-options-pane> </v-pane-content> </v-pane> </v-accordion> <div class="accordion-actions on-demand-accordion-actions" ng-if=::!$ctrl.isLiveContent> <button type=button class="stream-btn accordion-action-button share-button" ng-disabled=$ctrl.isFailed aria-label={{::$ctrl.resources.Share}} ng-click=$ctrl.openShare()> <svg-src svg-name=icon_share inline-with-text=true></svg-src> <span>{{::$ctrl.resources.Share}}</span> </button> <button type=button class="stream-btn btn-primary accordion-action-button publish-button" ng-disabled="$ctrl.isUploading || $ctrl.isFailed || $ctrl.isPublishing || $ctrl.video.published" aria-label={{::$ctrl.publishText}} ng-click=$ctrl.publish()> <svg-src svg-name=icon_publish inline-with-text=true ng-if=!$ctrl.video.published></svg-src> <svg-src svg-name=icon_checkmark inline-with-text=true ng-if=$ctrl.video.published></svg-src> <span>{{$ctrl.publishText}}</span> </button> </div> <div class="accordion-actions live-accordion-actions" ng-if=::$ctrl.isLiveContent> <button type=button ng-disabled=!$ctrl.cancelButtonEnabled class="stream-btn accordion-action-button cancel-button" aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancel()> <span class=no-padding>{{::$ctrl.resources.Cancel}}</span> </button> <button type=button ng-disabled=!$ctrl.saveButtonEnabled class="stream-btn accordion-action-button save-button" aria-label={{::$ctrl.resources.Save}} ng-click=$ctrl.createOrSave() ng-class="{\'btn-primary\': $ctrl.video.published}"> <span class=no-padding>{{::$ctrl.resources.Save}}</span> </button> <button type=button ng-if=!$ctrl.video.published class="stream-btn btn-primary accordion-action-button publish-button" ng-disabled=!$ctrl.publishButtonEnabled aria-label={{::$ctrl.publishText}} ng-click=$ctrl.createOrSave(true)> <span class=no-padding>{{$ctrl.publishText}}</span> </button> <div ng-if=$ctrl.video.published class=published-container> <svg-src class=published-checkmark svg-name=icon_checkmark inline-with-text=true></svg-src> <span class=published-text>{{$ctrl.resources.VideoPublishedButtonLabel}}</span> </div> </div> </div> <div class="row video-edit-expanded-container" ng-if=$ctrl.expandedView> <div class="column medium-4 video-edit-expanded-column"> <div class=video-edit-expanded-header>{{::$ctrl.resources.Details}}</div> <video-edit-details-pane video=$ctrl.video file-info=$ctrl.fileInfo video-edit-state-info=$ctrl.videoEditStateInfo summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties form-name={{::$ctrl.formName}} selected-thumbnail=$ctrl.selectedThumbnail debounce-options=$ctrl.debounceOptions on-publish=$ctrl.onPublish thumbnail-select=$ctrl.thumbnailSelect() is-in-admin-mode=$ctrl.isInAdminMode language-mappings=$ctrl.languageMappings language-not-match=$ctrl.languageNotMatch show-video-language-note=$ctrl.showVideoLanguageNote hide-video-language-note=$ctrl.hideVideoLanguageNote() on-init="$ctrl.onInit({ doUploadFunction: doUploadFunction, resetPoster: resetPoster })" custom-poster-uploaded=$ctrl.customPosterUploaded() alert-progress=$ctrl.alertProgress> </video-edit-details-pane> </div> <div class="column medium-4 video-edit-expanded-column"> <div class=video-edit-expanded-header>{{::$ctrl.resources.Permissions}}</div> <video-edit-permissions-pane video=$ctrl.video creator=$ctrl.creator video-edit-state-info=$ctrl.videoEditStateInfo summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties is-in-admin-mode=$ctrl.isInAdminMode is-stream-admin=$ctrl.isStreamAdmin principals=$ctrl.principals permission-list=$ctrl.permissionList permissions-changed=$ctrl.permissionsChanged() reload-permissions=$ctrl.reloadPermissions> </video-edit-permissions-pane> </div> <div class="column medium-4 video-edit-expanded-column"> <div class=video-edit-expanded-header>{{::$ctrl.resources.Options}}</div> <video-edit-options-pane video=$ctrl.video video-edit-state-info=$ctrl.videoEditStateInfo summary-metrics=$ctrl.summaryMetrics summary-properties=$ctrl.summaryProperties is-in-admin-mode=$ctrl.isInAdminMode tenant-settings=$ctrl.tenantSettings language-match=$ctrl.languageMatch($match) caption-status=$ctrl.captionStatus me=$ctrl.me> </video-edit-options-pane> <div class="accordion-actions on-demand-accordion-actions"> <button type=button class="stream-btn accordion-action-button share-button" ng-disabled=$ctrl.isFailed aria-label={{::$ctrl.resources.Share}} ng-click=$ctrl.openShare()> <svg-src svg-name=icon_share inline-with-text=true></svg-src> <span>{{::$ctrl.resources.Share}}</span> </button> <button type=button class="stream-btn btn-primary accordion-action-button publish-button" ng-disabled="$ctrl.isUploading || $ctrl.isFailed || $ctrl.isPublishing || $ctrl.video.published" aria-label={{::$ctrl.publishText}} ng-click=$ctrl.publish()> <svg-src svg-name=icon_publish inline-with-text=true ng-if=!$ctrl.video.published></svg-src> <svg-src svg-name=icon_checkmark inline-with-text=true ng-if=$ctrl.video.published></svg-src> <span>{{$ctrl.publishText}}</span> </button> </div> </div> </div> <div class="row row-size0 autosave-message-row"> <div class="column autosave-message" ng-switch=$ctrl.autosaveStatus aria-live=polite aria-atomic=true> <div ng-switch-when=0 class=upload-autosaved-message>{{::$ctrl.resources.UploadMetadataSaved}}</div> <div ng-switch-when=1 class=upload-autosaving-message>{{::$ctrl.resources.UploadAutosavingMetadata}}</div> <div ng-switch-when=2 class=upload-unsaved-message>{{::$ctrl.resources.UploadUnSavedChanges}}</div> <div ng-switch-when=3 class=upload-autosavefailed-message>{{$ctrl.autoSaveFailedMessage}}</div> <div ng-switch-when=4 class=upload-manualsaving-message>{{$ctrl.resources.UpdateVideoMetadata}}</div> <div ng-switch-when=5></div> </div> <div class="column autosave-notification" ng-if=$ctrl.shouldDisplayAutosaveNotification> <div class=autosave-notification-inner-container> <span class=autosave-notification-text>{{::$ctrl.resources.LiveEventAutosavedNotification}}</span> <button class=action-button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelAutoSavedNotification()> <svg-src svg-name=icon_cancel></svg-src> </button> </div> </div> </div> </section>'},"./app/components/Upload/VideoEdit/VideoEditV2.less":function(e,t){},"./app/components/Upload/VideoPermissions/VideoPermissions.html":function(e,t){e.exports='<div class=video-permissions> <div class=video-permissions-error ng-if=$ctrl.showError> <custom-error-message error-message=$ctrl.errorMessage is-warning=$ctrl.isWarning is-compact=true> </custom-error-message> </div> <div class=video-permissions-container> <principal-group-search me=$ctrl.me principals-added=$ctrl.principalsAdded() principal-selected=$ctrl.selectPrincipal(principal) channel-selected=$ctrl.selectChannel(channel,group) is-disabled=$ctrl.searchDisabled search-type-list=$ctrl.searchTypeList hide-create=$ctrl.hideCreate is-private-video=$ctrl.isPrivateVideo principal-searched="$ctrl.summaryProperties.permissionsPrincipalSearched=true" group-searched="$ctrl.summaryProperties.permissionsGroupSearched=true" channel-searched="$ctrl.summaryProperties.permissionsChannelSearched=true" label-id=$ctrl.resources.VideoUpdate.sharedWith></principal-group-search> <div class="video-permissions-list pgc-table"> <div class=pgc-table-header ng-if=!$ctrl.viewerMode> <div class=pgc-row> <div class=pgc-info-column> <span>{{::$ctrl.resources.VideoPermissionsHeaderViewers}}</span> <tooltip message=$ctrl.resources.VideoPermissionViewersToolTip button-aria-label={{::$ctrl.resources.VideoPermissionsHeaderViewers}}> </tooltip> </div> <div class="pgc-checkbox-column language-config-left-column"> <span>{{::$ctrl.resources.VideoPermissionsHeaderOwner}}</span> <tooltip message=$ctrl.videoPermissionMakeOwnerToolTip button-aria-label={{::$ctrl.resources.VideoPermissionsHeaderOwner}}> </tooltip> </div> <div class="pgc-checkbox-column language-config-right-column"> <span>{{::$ctrl.resources.VideoPermissionsHeaderShow}}</span> <tooltip message=$ctrl.videoPermissionAddGroupLinkToolTip button-aria-label={{::$ctrl.resources.VideoPermissionsHeaderShow}}> </tooltip> </div> </div> </div> <div class=pgc-table-body> <div ng-repeat="flatPermission in $ctrl.permissionList" ng-if=flatPermission.name class=permission-animate-row> <div class="pgc-row video-permissions-column"> <div class=pgc-info-column> <button type=button class="c-action-trigger remove-button" ng-click=$ctrl.deletePermission(flatPermission) ng-disabled=flatPermission.fakedUser aria-label={{::$ctrl.deletePermissionAriaLabel(flatPermission)}} custom-title={{::$ctrl.deletePermissionAriaLabel(flatPermission)}} light-style=true> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> </button> <div class=pgc-image-container> <svg-src svg-name=icon_group_org inline-with-text=true class=group-icon ng-if="!flatPermission.showVideoAdded && flatPermission.isSystemGroup"></svg-src> <svg-src svg-name=icon_group_private inline-with-text=true class=group-icon ng-if="flatPermission.showVideoAdded && !flatPermission.isSystemGroup && flatPermission.isPrivate === true"></svg-src> <svg-src svg-name=icon_group_public inline-with-text=true class=group-icon ng-if="!flatPermission.isSystemGroup && flatPermission.isPrivate === false"></svg-src> <img ng-src={{::flatPermission.profileImageUrl}} ng-if="!flatPermission.showVideoAdded && !flatPermission.isSystemGroup && flatPermission.profileImageUrl" onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt="{{::$ctrl.thumbnailAltTag(flatPermission.name? flatPermission.name : flatPermission.mail)}}"/> <img ng-if="!flatPermission.showVideoAdded && !flatPermission.isSystemGroup && !flatPermission.profileImageUrl" src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=pgc-text-container> <span class=name-line> {{flatPermission.name? flatPermission.name : flatPermission.mail}} </span> <span dir=ltr class=email-line ng-if=flatPermission.mail> ({{flatPermission.mail}}) </span> </div> </div> <div class="pgc-checkbox-column language-config-left-column" ng-if=!$ctrl.viewerMode> <div class="c-checkbox ct-checkbox" ng-if=flatPermission.showRole> <label class=c-label> <input type=checkbox ng-model=flatPermission.isOwner aria-checked={{flatPermission.isOwner}} aria-label={{::$ctrl.isOwnerCheckBoxAriaLabel(flatPermission)}} ng-disabled=flatPermission.fakedUser ng-change=$ctrl.ownershipChanged(flatPermission)> <span></span> </label> </div> </div> <div class="pgc-checkbox-column language-config-right-column" ng-if=!$ctrl.viewerMode> <div class="c-checkbox ct-checkbox" ng-if=flatPermission.showVideoAdded> <label class=c-label> <input type=checkbox ng-checked=flatPermission.videoAdded ng-click=$ctrl.changeVideoAdded($event,flatPermission) aria-label={{::$ctrl.addToGroupCheckBoxAriaLabel(flatPermission)}} ng-disabled=flatPermission.videoAddedDisabled> <span></span> </label> </div> </div> </div> <div class="pgc-row video-permissions-column permission-animate-row" ng-repeat="flatChannel in flatPermission.channels" ng-if=flatChannel.name> <div class=pgc-info-column> <button type=button class="c-action-trigger remove-button" ng-click="$ctrl.deleteChannel(flatPermission, flatChannel)" aria-label={{::$ctrl.deleteChannelAriaLabel(flatChannel.name)}} custom-title={{::$ctrl.deleteChannelAriaLabel(flatChannel.name)}} light-style=true> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> </button> <div class=pgc-text-container> <span class=name-line> {{flatChannel.name}} </span> </div> </div> </div> </div> </div> </div> </div> <div class=permissions-loading ng-if=$ctrl.permissionsLoading> <div class="loading-icon spin"> <svg-src svg-name=icon_processing_status></svg-src> </div> </div> </div>'},"./app/components/Upload/VideoPermissions/VideoPermissions.less":function(e,t){},"./app/components/Upload/VideoPermissions/VideoPermissions.ts":function(e,t,n){function r(){this.controller=o.VideoPermissionsController,this.template=n("./app/components/Upload/VideoPermissions/VideoPermissions.html"),this.bindings={video:"=",creator:"<",isInAdminMode:"<",permissionsChanged:"&",permissionList:"=",viewerMode:"<",preloadData:"<",reload:"=",hideCreate:"<",summaryProperties:"=?",summaryMetrics:"=?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Upload/VideoPermissions/VideoPermissions.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Upload/VideoPermissions/VideoPermissionsController.ts");t.VideoPermissions=r,i.registerComponent("videoPermissions",r,angular.module("jumper"))},"./app/components/Upload/VideoPoster/VideoPoster.ts":function(e,t,n){function r(){this.controller=o.VideoPosterController,this.template=n("./app/components/Upload/VideoPoster/videoPosterV2.html"),this.bindings={resourceId:"<",thumbnailsReady:"<",selectedThumbnail:"=",userSelectionChanged:"&",customPosterUploaded:"&",isInAdminMode:"<",handleUploadResult:"&",loadInitialThumbnails:"<",isAudio:"<?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Upload/VideoPoster/VideoPosterV2.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Upload/VideoPoster/VideoPosterController.ts");t.VideoPoster=r,i.registerComponent("videoPoster",r,angular.module("jumper"))},"./app/components/Upload/VideoPoster/VideoPosterV2.less":function(e,t){},"./app/components/Upload/VideoPoster/videoPosterV2.html":function(e,t){e.exports='<div class=video-poster-v2> <div class=thumbnails> <div class=thumb-container ng-repeat="i in [0, 1, 2]" ng-if=!$ctrl.isAudio> <div class=thumbnail-clickable ng-if=$ctrl.generatedThumbnails[i] ng-click="$ctrl.selectThumbnail($ctrl.generatedThumbnails[i], i)" aria-label={{$ctrl.getThumbnailAriaLabel(i)}}> <div class=image-container> <div class=image-background></div> <img ng-src={{$ctrl.generatedThumbnails[i].images.small.url}} alt={{$ctrl.imageAlt[i]}} /> <div ng-show=$ctrl.isSelected($ctrl.generatedThumbnails[i]) class=selected-overlay></div> </div> </div> <div ng-if=!$ctrl.generatedThumbnails[i]> <div class=image-container> <div class=placeholder> </div> </div> </div> </div> <div class=thumb-container ng-if=!$ctrl.isAudio> <div ng-if=$ctrl.customThumbnail ng-click=$ctrl.selectThumbnail($ctrl.customThumbnail) class="thumbnail-clickable custom-thumbnail-clickable" aria-label={{$ctrl.getThumbnailAriaLabel(-1)}}> <div class=image-container> <div class=image-background></div> <img ng-src={{$ctrl.customThumbnail.images.small.url}} alt={{::$ctrl.resources.VideoThumbnails.ImageAlt.Custom}} /> <div ng-show=$ctrl.isSelected($ctrl.customThumbnail) class=selected-overlay></div> <div class=upload-button-container ngf-select=$ctrl.doUpload($file) name=videoPoster ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" aria-label={{::$ctrl.resources.VideoThumbnails.UploadThumbnail}}> <div class=upload-button> <svg-src svg-name=icon_upload class=icon-upload-svg></svg-src> </div> </div> </div> </div> <div ng-if=!$ctrl.customThumbnail> <div class=upload-placeholder-container> <div class=upload-placeholder> <div class="spinner spinner-white c-progress f-indeterminate-local f-progress-small p-b-xxs" ng-show=$ctrl.uploadStarted> <span></span> <span></span> <span></span> <span></span> <span></span> </div> <button ng-hide=$ctrl.uploadStarted class="upload-icon c-glyph black-outline" type=button name=videoPoster ngf-select=$ctrl.doUpload($file) ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" aria-label={{::$ctrl.resources.VideoThumbnails.UploadThumbnail}}></button> </div> </div> </div> </div> <div class=audio-thumb-container ng-if=$ctrl.isAudio> <div class=audio-upload-thumb> <div class=upload-thumbnail-audio> <button type=button role=button name=videoPoster class="c-hyperlink upload-thumbnail-button" ngf-select=$ctrl.doUpload($file) ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'"> {{::$ctrl.resources.LiveEventUploadCustomImage}} </button> </div> </div> </div> <div class=horizontal-line> </div> </div> </div>'},"./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPoster.html":function(e,t){e.exports='<div class=video-thumbnail-poster> <div> <label class="ct-label-compact thumbnail-label">{{::$ctrl.resources.VideoThumbnails.SelectThumbnail}}</label> <label class="ct-label-compact image-upload-message">{{$ctrl.uploadMessage}}</label> </div> <div class=clearfix></div> <draft-poster class=draft-poster ng-if=$ctrl.video video=$ctrl.video video-state=$ctrl.videoState selected-thumbnail=$ctrl.selectedThumbnail is-replacing=$ctrl.isReplacing process-progress=$ctrl.processProgress upload-progress=$ctrl.uploadProgress on-publish=$ctrl.onPublishSuccess() hide-publish-button=true is-in-edit-mode=true alert-progress=$ctrl.alertProgress is-audio=$ctrl.isAudioCheck> </draft-poster> <video-poster ng-if=$ctrl.video.id is-in-admin-mode=$ctrl.isInAdminMode class=video-poster resource-id=$ctrl.video.id thumbnails-ready=$ctrl.thumbnailsReady selected-thumbnail=$ctrl.selectedThumbnail user-selection-changed=$ctrl.userSelectionChanged() custom-poster-uploaded=$ctrl.customPosterUploaded handle-upload-result=$ctrl.handleUploadResult($result) load-initial-thumbnails=$ctrl.loadInitialThumbnails is-audio=$ctrl.isAudioCheck> </video-poster> </div>'},"./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPoster.less":function(e,t){},"./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPoster.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPosterController.ts");function o(){this.controller=i.VideoThumbnailPosterController,this.template=n("./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPoster.html"),this.bindings={video:"<",videoState:"<",selectedThumbnail:"=",isReplacing:"<",processProgress:"<",uploadProgress:"<",onPublish:"&",isInAdminMode:"<",thumbnailsReady:"<",userSelectionChanged:"&",customPosterUploaded:"&",alertProgress:"<",loadInitialThumbnails:"<",fileName:"<?"}}n("./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPoster.less"),t.VideoThumbnailPoster=o,r.registerComponent("videoThumbnailPoster",o,angular.module("jumper"))},"./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPosterController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.handleUploadResult=function(e){var t=this;e.then((function(){t.uploadMessage=t.resources.Components.VideoThumbnailPoster.ImageUploadSuccessfully,t.uploadSuccessfully=!0}),(function(e){t.uploadMessage=t.resources.Components.VideoThumbnailPoster.ImageUploadFailure,t.uploadSuccessfully=!1})).finally((function(){t.$element.find(".image-upload-message").fadeIn(t.saveMsgFadeInOutTime,(function(){t.$element.find(".image-upload-message").focus()})),t.uploadSuccessfully&&(t.imageUploadMessageTimeout=t.$timeout((function(){t.$element.find(".image-upload-message").fadeOut(t.saveMsgFadeInOutTime)}),t.saveMsgStayTime))}))},Object.defineProperty(r.prototype,"isAudioCheck",{get:function(){var e=this.fileName&&-1!==this.supportedAudioExtensions.indexOf(this.fileName.substring(this.fileName.lastIndexOf(".")+1).toLowerCase());return this.video&&this.video.media&&this.video.media.isAudioOnly||e},enumerable:!0,configurable:!0}),r.$inject=["$scope","resources","$timeout","$element"],r);function r(e,t,n,r){var i=this;this.$scope=e,this.resources=t,this.$timeout=n,this.$element=r,this.saveMsgFadeInOutTime=1e3,this.saveMsgStayTime=3e3,this.supportedAudioExtensions=["aac","m4a","mp3","wav","wma"],e.$on("$destroy",(function(){i.imageUploadMessageTimeout&&i.$timeout.cancel(i.imageUploadMessageTimeout)}))}t.VideoThumbnailPosterController=n},"./app/components/User/UserChannelResults/UserChannelResults.html":function(e,t){e.exports='<channel-results load-channel-results="$ctrl.loadChannelResults(skip, top)" on-init=$ctrl.onInit(channelResultsController) extra-query-params=$ctrl.extraQueryParams> <item> <channel-card channel-item=item is-list-item=true show-description=true show-videos=false metrics=$ctrl.channelResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.channelResultsController.isStreamAdmin is-in-admin-mode=$ctrl.channelResultsController.isInAdminMode /> </item> </channel-results>'},"./app/components/User/UserChannelResults/UserChannelResults.less":function(e,t){},"./app/components/User/UserChannelResults/UserChannelResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/User/UserChannelResults/UserChannelResultsController.ts");function o(){this.controller=i.UserChannelResultsController,this.template=n("./app/components/User/UserChannelResults/UserChannelResults.html"),this.bindings={user:"<"},this.bindtocontroller=!0}n("./app/components/User/UserChannelResults/UserChannelResults.less"),t.UserChannelResults=o,r.registerComponent("userChannelResults",o,angular.module("jumper"))},"./app/components/User/UserChannelResults/UserChannelResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){this.channelResultsController=e,this.channelResultsController.telemetryEventName=s.TelemetryEventNames.userChannelsSessionEventName,this.channelResultsController.screenName=s.ScreenName.UserChannels,this.channelResultsController.defaultSort=r.Constants.ChannelsSortOptions.Subscribers},a.prototype.loadChannelResults=function(e,t){var n=this.channelResultsController.searchString||"";return this.channelService.getUserChannels(this.user.id,n,this.channelResultsController.channelSort,this.channelResultsController.sortDirection,e,t,!0,this.channelResultsController.isInAdminMode)},a.$inject=["$scope","channelService","resources","$window","telemetryService"],n=a;function a(e,t,n,a,l){this.$scope=e,this.channelService=t,this.resources=n,this.$window=a,this.telemetryService=l,this.extraQueryParams={view:s.ScreenName[s.ScreenName.UserChannels]},this.screenName=s.ScreenName.UserChannels,this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(this.screenName),this.$window.document.title=o.formatString(this.resources.BrowserTitle.UserChannels,this.user.name,r.Constants.ProductName)}t.UserChannelResultsController=n},"./app/components/User/UserPage/UserPage.html":function(e,t){e.exports='<section class="section-size0 user-page" ng-if=$ctrl.user> <div class=user-info-section sticky-element=show-for-medium auto-margin-next=true next-element-selector=.list-container auto-assign-top=true> <div class="user-info-bar row column"> <div class=profile-col> <div class=profile-image-col> <img class=profile-image alt="{{$ctrl.user.name? $ctrl.user.name : $ctrl.user.mail}}" ng-src={{::$ctrl.user.profileImageUrl}} ng-if=$ctrl.user.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-image alt="{{$ctrl.user.name? $ctrl.user.name : $ctrl.user.mail}}" ng-if=!$ctrl.user.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=name-col> <div role=heading aria-level=1 class="row column row-size0 name-line"> {{$ctrl.user.name? $ctrl.user.name : $ctrl.user.mail}} </div> <div ng-if=$ctrl.user.mail role=heading aria-level=2 class="row column row-size0 email-line"> {{$ctrl.user.mail}} </div> </div> </div> </div> <div class=user-tab> <div class="row column"> <tab-navigation model=$ctrl.tabOptions value=$ctrl.selectedTabOption on-select=$ctrl.tabSelected(value)></tab-navigation> </div> </div> </div> <div class="list-container new-list-page-style"> <div class="row row-size0 column user-items-list video-result" ng-if=$ctrl.videosSelected> <div class="items-list fixedposition-scroll-under"> <user-video-results user=$ctrl.user transcript-search=$ctrl.transcriptSearchEnabled> </user-video-results> </div> </div> <div class="row row-size1 column user-items-list channels-result" ng-if=$ctrl.channelsSelected> <div class="row column row-size1 items-list"> <user-channel-results user=$ctrl.user> </user-channel-results> </div> </div> </div> </section> <section class="section-size0 user-page user-page-error" ng-if=$ctrl.userLoadErrMsg> <div class=error-page> <error-box title-str={{::$ctrl.productName}} message={{::$ctrl.userLoadErrMsg}} full-screen=true /> </div> </section>'},"./app/components/User/UserPage/UserPage.less":function(e,t){},"./app/components/User/UserPage/UserPage.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/User/UserPage/UserPageController.ts");function o(){this.controller=i.UserPageController,this.template=n("./app/components/User/UserPage/UserPage.html"),this.bindings={userId:"<"}}n("./app/components/User/UserPage/UserPage.less"),t.UserPage=o,r.registerComponent("userPage",o,angular.module("jumper"))},"./app/components/User/UserPage/UserPageController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts");function s(e,t,n,i,o,s,a,l,c,d){var u=this;this.$scope=e,this.$q=t,this.resources=n,this.principalService=i,this.$timeout=o,this.dataShareService=s,this.navigationService=a,this.telemetryService=l,this.featureFlagsService=c,this.$location=d,this.tabOptions={options:[{value:r.Videos,text:this.resources.Browse.Tabs.Videos},{value:r.Channels,text:this.resources.Browse.Tabs.Channels}]},this.featureTracker=this.telemetryService.getTracker(),this.selectedTabOption=r.Videos,this.$q.all([this.getUser(),this.getMyInfo()]).then((function(e){u.user=e[0]||u.user,e=e[1],u.transcriptSearchEnabled=e.servicePlans.capabilities.transcriptSearch})),this.initLocationWatcher()}(n=r=t.TypeFilter||(t.TypeFilter={}))[n.Videos=0]="Videos",n[n.Channels=1]="Channels",s.prototype.initLocationWatcher=function(){var e=this;this.$scope.$watch((function(){return window.location.search}),(function(t,n){0<=t.indexOf(o.ScreenName[o.ScreenName.UserChannels])?e.selectedTabOption=r.Channels:e.selectedTabOption=r.Videos}))},s.prototype.getUser=function(){var e=this;return this.principalService.getPrincipalById(this.userId).then((function(t){return t.data?(e.featureTracker.succeed(o.FeatureName.GetUser),e.$q.resolve(t.data)):(e.navigationService.redirect(i.Constants.Routes.Error),e.$q.reject())}),(function(t){return e.featureTracker.fail(o.FeatureName.GetUser,o.SubFeatureName.NotApplicable,t),t.status.toString()===i.Constants.HttpStatusCode.OperationNotAllowed||t.status.toString()===i.Constants.HttpStatusCode.NotFound?e.navigationService.redirect(i.Constants.Routes.Error):t.status.toString()===i.Constants.HttpStatusCode.Forbidden?e.userLoadErrMsg=e.resources.Components.UserPage.AuthErrorMessage:e.userLoadErrMsg=e.resources.Components.UserPage.ServerError,e.$q.reject()}))},s.prototype.getMyInfo=function(){var e=this;return this.principalService.getMyPrincipalInfo().then((function(t){return e.featureTracker.succeed(o.FeatureName.GetPrincipalSettings),e.$q.resolve(t.data)}),(function(t){return e.featureTracker.fail(o.FeatureName.GetPrincipalSettings,o.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t),e.$q.resolve(null)}))},Object.defineProperty(s.prototype,"videosSelected",{get:function(){return this.selectedTabOption===r.Videos},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"channelsSelected",{get:function(){return this.selectedTabOption===r.Channels},enumerable:!0,configurable:!0}),s.prototype.tabSelected=function(e){(this.selectedTabOption=e)===r.Channels?(this.featureFlagsService.Values.BrowseBack,this.$location.search({view:o.ScreenName[o.ScreenName.UserChannels]})):(this.featureFlagsService.Values.BrowseBack,this.$location.search({view:o.ScreenName[o.ScreenName.UserVideos]}))},Object.defineProperty(s.prototype,"productName",{get:function(){return i.Constants.ProductName},enumerable:!0,configurable:!0}),s.$inject=["$scope","$q","resources","principalService","$timeout","dataShareService","navigationService","telemetryService","featureFlagsService","$location"],n=s,t.UserPageController=n},"./app/components/User/UserVideoResults/UserVideoResults.html":function(e,t){e.exports='<video-results load-video-results="$ctrl.loadVideoResults(skip, top, isInAdminMode)" on-init=$ctrl.onInit(videoResultsController) extra-query-params=$ctrl.extraQueryParams> <item> <video-item hide-creator=true video-source=$ctrl.videoSource video-item=item video-owner=$ctrl.user metrics=$ctrl.videoResultsController.listEvents.itemsEvents is-stream-admin=$ctrl.videoResultsController.isStreamAdmin is-in-admin-mode=$ctrl.videoResultsController.isInAdminMode></video-item> </item></video-results>'},"./app/components/User/UserVideoResults/UserVideoResults.ts":function(e,t,n){function r(){this.controller=o.UserVideoResultsController,this.template=n("./app/components/User/UserVideoResults/UserVideoResults.html"),this.bindings={user:"<",transcriptSearch:"<"},this.bindtocontroller=!0}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),o=n("./app/components/User/UserVideoResults/UserVideoResultsController.ts");t.UserVideoResults=r,i.registerComponent("userVideoResults",r,angular.module("jumper"))},"./app/components/User/UserVideoResults/UserVideoResultsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/ActivityIds.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts");a.prototype.onInit=function(e){(this.videoResultsController=e).searchBarText=this.resources.Components.SearchBar.SearchForVideos,e.searchBarLabel=this.resources.Components.SearchBar.SearchForVideosLabel,e.telemetryEventName=s.TelemetryEventNames.userVideosSessionEventName,e.screenName=s.ScreenName.UserVideos,e.videoSource=this.videoSource,e.defaultSort=r.Constants.VideoSortOptions.Trending,e.videoSort=r.Constants.VideoSortOptions.Relevance,e.videoSortOptions={label:this.resources.Sortby,options:[{value:r.Constants.VideoSortOptions.Relevance,text:this.resources.Browse.VideoSort.Relevance},{value:r.Constants.VideoSortOptions.Trending,text:this.resources.Browse.VideoSort.Trending},{value:r.Constants.VideoSortOptions.PublishDate,text:this.resources.Browse.VideoSort.PublishDate},{value:r.Constants.VideoSortOptions.Views,text:this.resources.Browse.VideoSort.Views},{value:r.Constants.VideoSortOptions.Likes,text:this.resources.Browse.VideoSort.Likes}]}},a.prototype.loadVideoResults=function(e,t,n){return void 0===n&&(n=!1),(n=this.videoService.getUserVideos(this.user.id,this.videoResultsController.searchString,this.videoResultsController.videoSort,this.videoResultsController.sortDirection,e,t,this.transcriptSearch,n)).then((function(){setTimeout((function(){angular.element(window).trigger("resize")}),0)})),n},a.$inject=["$scope","videoService","resources","$window","telemetryService","featureFlagsService"],n=a;function a(e,t,n,a,l,c){this.$scope=e,this.videoService=t,this.resources=n,this.$window=a,this.telemetryService=l,this.featureFlagsService=c,this.extraQueryParams={view:s.ScreenName[s.ScreenName.UserVideos]},this.screenName=s.ScreenName.UserVideos,this.telemetryService.getTracker(this.screenName).tagScreen(),i.ActivityIds.initActivityId(s.ScreenName.UserVideos),this.$window.document.title=o.formatString(this.resources.BrowserTitle.UserVideos,this.user.name,r.Constants.ProductName),this.videoSource={list:r.Constants.lists.User,userId:this.user.id}}t.UserVideoResultsController=n},"./app/components/UserFeedback/UserFeedback.html":function(e,t){e.exports='<div class=context-feedback-component trap-focus> <h2 class="c-heading-4 title-heading">{{::$ctrl.resources.UserFeedbackTitle}}</h2> <form> <p class="c-label ct-label-compact" id=user-feedback-question-1>{{::$ctrl.resources.UserFeedbackQuestion1}}</p> <div role=group> <button type=button class="c-action-trigger smiley-button" ng-click=$ctrl.happyButtonClicked($event) aria-labelledby="user-feedback-question-1 happy-hidden-label" aria-pressed={{$ctrl.happySelected}} custom-title={{::$ctrl.resources.UserFeedbackHappyButtonAriaLabel}} light-style=true> <svg-src svg-name=smiley-happy ng-show=!$ctrl.happySelected></svg-src> <svg-src svg-name=smiley-happy-fill ng-show=$ctrl.happySelected></svg-src> <span class="visuallyhidden for-narrator-only" id=happy-hidden-label>{{::$ctrl.resources.UserFeedbackHappyButtonAriaLabel}}</span> </button> <button type=button class="c-action-trigger sad-button" ng-click=$ctrl.frownButtonClicked($event) aria-labelledby="user-feedback-question-1 sad-hidden-label" aria-pressed={{$ctrl.sadSelected}} custom-title={{::$ctrl.resources.UserFeedbackSadButtonAriaLabel}} light-style=true> <svg-src svg-name=smiley-sad ng-show=!$ctrl.sadSelected></svg-src> <svg-src svg-name=smiley-sad-fill ng-show=$ctrl.sadSelected></svg-src> <span class="visuallyhidden for-narrator-only" id=sad-hidden-label>{{::$ctrl.resources.UserFeedbackSadButtonAriaLabel}}</span> </button> </div> <div class=c-textarea> <label class="c-label ct-label-compact" for=feedback-description>{{::$ctrl.resources.UserFeedbackQuestion2}}</label> <textarea id=feedback-description class="f-no-resize ct-textarea-compact" name=description rows=7 ng-model=$ctrl.moreInfo></textarea> </div> <div class="c-checkbox ct-checkbox"> <label class="c-label ct-label-compact"> <input type=checkbox name=user-consent-to-email-back ng-model=$ctrl.consentToEmail ng-click=$ctrl.checkboxClicked($event) aria-label={{::$ctrl.resources.UserFeedbackEmailConfirmation}} /> <span aria-hidden=true> {{::$ctrl.resources.UserFeedbackEmailConfirmation}} </span> </label> </div> <div class=action-buttons> <button class="c-button ct-button-compact submit-button stream-btn" type=submit ng-click=$ctrl.submitButtonClicked($event)>{{::$ctrl.resources.Submit}}</button> <button class="c-button ct-button-compact cancel-button stream-btn" ng-click=$ctrl.cancelButtonClicked($event)>{{::$ctrl.resources.Cancel}}</button> </div> </form> </div>'},"./app/components/UserFeedback/UserFeedback.less":function(e,t){},"./app/components/UserFeedback/UserFeedback.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/UserFeedback/UserFeedbackController.ts");function o(){this.template=n("./app/components/UserFeedback/UserFeedback.html"),this.controller=i.UserFeedbackController,this.bindings={closeOverlay:"&"}}n("./app/components/UserFeedback/UserFeedback.less"),t.UserFeedback=o,r.registerComponent("userFeedback",o,angular.module("jumper"))},"./app/components/UserFeedback/UserFeedbackController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./node_modules/@msstream/services-one-customer-voice/index.ts");function o(e,n,r,i,o,s,a){this.resources=e,this.telemetryService=n,this.featureFlagsService=r,this.navigationService=i,this.overlayService=o,this.$element=s,this.oneCustomerVoiceDataService=a,this.feedbackType=t.FeedbackType.unSpecified,this.consentToEmail=!1}t.FeedbackType={unSpecified:"UnSpecified",smile:"Smile",frown:"Frown"},Object.defineProperty(o.prototype,"happySelected",{get:function(){return this.feedbackType===t.FeedbackType.smile},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"sadSelected",{get:function(){return this.feedbackType===t.FeedbackType.frown},enumerable:!0,configurable:!0}),o.prototype.happyButtonClicked=function(e){this.feedbackType=t.FeedbackType.smile,e.stopPropagation(),e.preventDefault()},o.prototype.frownButtonClicked=function(e){this.feedbackType=t.FeedbackType.frown,e.stopPropagation(),e.preventDefault()},o.prototype.cancelButtonClicked=function(e){e.preventDefault(),this.overlayService.hideAllDropdowns()},o.prototype.submitButtonClicked=function(e){var n;this.feedbackType===t.FeedbackType.unSpecified&&!this.moreInfo||(n=this.navigationService.getPageName(),this.sendFeedbackViaOcv(n)),this.clearUserFeedbackForm(),e.stopPropagation(),e.preventDefault(),this.overlayService.hideAllDropdowns(),this.closeOverlay()},o.prototype.sendFeedbackViaOcv=function(e){var n,o=this;switch(this.feedbackType){case t.FeedbackType.smile:n=i.UserInitiatedFeedbackType.Smile;break;case t.FeedbackType.frown:n=i.UserInitiatedFeedbackType.Frown;break;default:n=i.UserInitiatedFeedbackType.Suggestion}var s=this.consentToEmail?sessionInfo.UserClaim.UserInfo.DisplayableId:void 0;this.oneCustomerVoiceDataService.postUIF(n,this.moreInfo,s).then((function(){return o.telemetryService.getTracker(e).trackEvent(r.TelemetryEventNames.PetrolSucceeded)}),(function(t){console.log("failed with error: "+t),o.telemetryService.getTracker(e).trackEvent(r.TelemetryEventNames.PetrolFailed)}))},o.prototype.sendFeedbackViaTelemetry=function(e){var t={feedbackType:this.feedbackType,consentToEmail:this.consentToEmail,moreInfo:this.moreInfo};this.consentToEmail&&(t.displayableId=sessionInfo.UserClaim.UserInfo.DisplayableId),this.telemetryService.getTracker(e).trackEvent(r.TelemetryEventNames.userFeedbackReceived,t)},o.prototype.checkboxClicked=function(e){e.stopPropagation()},o.prototype.clearUserFeedbackForm=function(){this.feedbackType="",this.consentToEmail=!1,this.moreInfo=""},o.$inject=["resources","telemetryService","featureFlagsService","navigationService","overlayService","$element","oneCustomerVoiceDataService"],n=o,t.UserFeedbackController=n},"./app/components/UserSettingDetail/UserSettingDetail.html":function(e,t){e.exports='<section class="section-size0 user-setting-detail"> <div class="row row-size0 column xsmall-10"> <div class=setting-item role=region aria-label={{::$ctrl.resources.UserSettingsNotificationTitle}}> <h3 class=c-heading-3> {{::$ctrl.resources.UserSettingsNotificationTitle}} </h3> <label class=info-container> {{::$ctrl.resources.UserSettingsNotificationDesc}} </label> <span class=c-label id=toggle-email-notification> {{::$ctrl.resources.UserSettingsEmailNotificationTitle}} </span> <span ng-click=$ctrl.onToggleEmailClick($event) data-bi-id=usersettings-email-toggle-button> <toggle name=toggle-email-notification value=$ctrl.viewModel.emailNotificationEnabled /> </span> </div> <hr class=c-divider> <div class=setting-item role=region aria-label={{::$ctrl.resources.Components.UserSettings.LanguageSettings.Title}}> <h3 class=c-heading-3> {{::$ctrl.resources.Components.UserSettings.LanguageSettings.Title}} </h3> <div class=info-container> {{::$ctrl.LangSettingsDesc}} </div> <div class=c-label> <search-filter ltr-content=true style=display:block model=$ctrl.supportedLanguagesSet show-scroll=true value=$ctrl.viewModel.displayLanguage drop-down-class="\'search-type-dropdown ct-dropdown-compact\'" label-class="\'ct-label-compact\'"></search-filter> </div> <div class=c-label> <search-filter style=display:block model=$ctrl.supportedRegionsSet value=$ctrl.viewModel.selectedRegion show-scroll=true drop-down-class="\'search-type-dropdown ct-dropdown-compact\'" label-class="\'ct-label-compact\'"></search-filter> </div> <div class=sample-data ng-if=$ctrl.viewModel.selectedRegion>{{$ctrl.sampleDateMessage}}</div> <div class=sample-data ng-if=$ctrl.viewModel.selectedRegion>{{$ctrl.sampleDurationMessage}}</div> </div> <hr class=c-divider> <div class=setting-item role=region aria-label={{::$ctrl.resources.UserSettingsCompanyPolicyTitle}}> <h3 class=c-heading-3> {{::$ctrl.resources.UserSettingsCompanyPolicyTitle}} </h3> <div class=info-container ng-if="$ctrl.tenantSettings && $ctrl.isCompanyPolicyDefined"> <a external-link ng-href={{$ctrl.companyPolicy}} class=c-action-trigger target=_blank aria-label={{::$ctrl.resources.UserSettingsCompanyPolicyLinkAriaLabel}}> {{::$ctrl.resources.UserSettingsCompanyPolicyLink}} </a> </div> <div class=info-container ng-if="$ctrl.tenantSettings && !$ctrl.isCompanyPolicyDefined"> {{::$ctrl.resources.UserSettingsCompanyPolicyNotDefinedText}} </div> </div> </div> </section> <div class=user-setting-action-banner> <div class=left> <button type=button class=stream-btn ng-disabled=!$ctrl.saveBtnEnabled ng-click=$ctrl.discardChanges($event); data-bi-id=usersettings-revert-button> {{::$ctrl.resources.Cancel}} </button> </div> <div class=right> <button type=button class="stream-btn btn-primary" ng-disabled=!$ctrl.saveBtnEnabled ng-click=$ctrl.saveChanges($event); data-bi-id=usersettings-apply-button> {{::$ctrl.resources.ApplyChanges}} </button> </div> </div> <div class=update-status> <section class=section-size0 ng-if="$ctrl.failureMessage || $ctrl.successMessage" ng-class="{\r\n                \'failure-message\': $ctrl.failureMessage,\r\n                \'success-message\': $ctrl.successMessage\r\n            }"> <div class="row row-size0 column xsmall-10"> <h6 class=c-heading-6 tabindex=0 aria-label={{$ctrl.failureMessage}} ng-if=$ctrl.failureMessage> {{$ctrl.failureMessage}} </h6> <h6 class=c-heading-6 tabindex=0 aria-label={{$ctrl.successMessage}} ng-if=$ctrl.successMessage> {{$ctrl.successMessage}} </h6> </div> </section> </div>'},"./app/components/UserSettingDetail/UserSettingDetail.less":function(e,t){},"./app/components/UserSettingDetail/UserSettingDetail.ts":function(e,t,n){function r(){this.controller=o.UserSettingDetailController,this.template=n("./app/components/UserSettingDetail/UserSettingDetail.html"),this.bindings={}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/UserSettingDetail/UserSettingDetail.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/UserSettingDetail/UserSettingDetailController.ts");t.UserSettingDetail=r,i.registerComponent("userSettingDetail",r,angular.module("jumper"))},"./app/components/UserSettingDetail/UserSettingDetailController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/core/esm/index.js"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/string.ts"),l=n("./app/utility/TelemetryUtils.ts"),c=(d.prototype.refresh=function(){var e=this;return this.principalService.getMyPrincipalInfo(!0).then((function(t){e.emailNotificationEnabled=t.data.settings.system.notifications.email.enabled,e.original.emailNotificationEnabled=e.emailNotificationEnabled,e.original.displayLanguage=t.data.settings.system.locale.language,e.original.selectedRegion=t.data.settings.system.locale.region,e.displayLanguage=e.original.displayLanguage,e.selectedRegion=e.original.selectedRegion,e.telemetryTracker.succeed(s.FeatureName.GetPrincipalSettings)}),(function(t){e.telemetryTracker.fail(s.FeatureName.GetPrincipalSettings,s.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)}))},d.prototype.dirty=function(){return!_.isEqual(this.emailNotificationEnabled,this.original.emailNotificationEnabled)||this.displayLanguage&&!_.isEqual(this.displayLanguage,this.original.displayLanguage)||this.selectedRegion&&!_.isEqual(this.selectedRegion,this.original.selectedRegion)},d.prototype.save=function(){var e=this,t={system:{notifications:{email:{enabled:this.emailNotificationEnabled}}}};return this.displayLanguage&&(t.system.locale=t.system.locale||{},t.system.locale.language=this.displayLanguage),this.selectedRegion&&(t.system.locale=t.system.locale||{},t.system.locale.region=this.selectedRegion),this.principalService.patchMySettings(t).then((function(t){return e.telemetryTracker.succeed(s.FeatureName.UpdatePrincipalSettings,{subFeature:s.SubFeatureName.System_EmailNotification}),e.$q.resolve(t)}),(function(t){return e.telemetryTracker.fail(s.FeatureName.UpdatePrincipalSettings,s.SubFeatureName.System_EmailNotification,t),e.$q.reject(t)}))},d.prototype.revert=function(){this.emailNotificationEnabled=this.original.emailNotificationEnabled,this.selectedRegion=this.original.selectedRegion,this.displayLanguage=this.original.displayLanguage},d);function d(e,t,n){this.$q=e,this.principalService=t,this.telemetryTracker=n,this.emailNotificationEnabled=!1,this.original={emailNotificationEnabled:!0,displayLanguage:"",selectedRegion:""}}function u(e,t,n,r,l,d,u,p,m,h){var g=this;this.$scope=e,this.$window=t,this.resources=n,this.$q=r,this.tenantService=l,this.telemetryService=d,this.principalService=u,this.$element=p,this.$timeout=m,this.$location=h,this.saveBtnEnabled=!1,this.saveMsgFadeInOutTime=1e3,this.saveMsgStayTime=3e3,t.document.title=a.formatString(this.resources.BrowserTitle.UserSettings,i.Constants.ProductName),this.featureTelemetryTracker=this.telemetryService.getTracker(s.ScreenName.UserSettings,s.ResourceType.Tenant),this.featureTelemetryTracker.tagScreen(),this.tenantService.getSettings().then((function(e){g.tenantSettings=e.data,g.featureTelemetryTracker.succeed(s.FeatureName.LoadUserSettingsPage)}),(function(e){g.featureTelemetryTracker.fail(s.FeatureName.LoadUserSettingsPage,s.SubFeatureName.TenantService_GetTenantSettings,e)})),this.viewModel=new c(this.$q,this.principalService,this.featureTelemetryTracker),e.$watch((function(){return g.viewModel.dirty()}),(function(e,t){e!==t&&(g.saveBtnEnabled=e)})),e.$watch((function(){return g.viewModel.selectedRegion}),(function(e,t){g.viewModel.selectedRegion&&(g.sampleDateMessage=a.formatString(g.resources.Components.UserSettings.LanguageSettings.SampleDate,o.formatISODateTimeToDate(i.Constants.UserSettingsFormats.SampleDate,g.viewModel.selectedRegion)),g.sampleDurationMessage=a.formatString(g.resources.Components.UserSettings.LanguageSettings.SampleDuration,o.formatISODuration(i.Constants.UserSettingsFormats.SampleDuarion,g.viewModel.selectedRegion)))}));var f,v=[];for(f in this.resources.regionCodes)v.push({value:_.replace(f,/\$/g,"-"),text:this.resources.regionCodes[f]});t=supportedLanguages.filter((function(e){return-1!==_.indexOf(portalConfiguration.SupportedLanguages,e.value.toLowerCase())})),this.supportedLanguagesSet={label:this.resources.Components.UserSettings.LanguageSettings.Label,options:t},this.viewModel.refresh().then((function(){g.viewModel.displayLanguage||g.supportedLanguagesSet.options.unshift({text:g.resources.TextTrackSelectedLanguage,value:null}),g.viewModel.selectedRegion||v.unshift({text:g.resources.Components.UserSettings.RegionSettings.Label,value:null})})),v=_.sortBy(v,(function(e){return e.text})),e.$on("$destroy",(function(){g.updateStatusTimeoutPromise&&g.$timeout.cancel(g.updateStatusTimeoutPromise)})),-1!==this.$window.location.search.indexOf("callback")&&(this.$location.search({}),this.successMessage=this.resources.UserSettingsUpdateSuccessMessage,this.$element.find(".update-status").show(),this.updateStatusTimeoutPromise=this.$timeout((function(){g.$element.find(".update-status").fadeOut(g.saveMsgFadeInOutTime)}),this.saveMsgStayTime)),this.supportedRegionsSet={label:this.resources.Components.UserSettings.RegionSettings.Label,options:v},this.displayLanguage=sessionInfo.UserLanguage,this.viewModel.displayLanguage=sessionInfo.UserLanguage,this.displayLanguage=sessionInfo.UserLanguage,this.viewModel.selectedRegion=sessionInfo.UserRegion}Object.defineProperty(u.prototype,"isCompanyPolicyDefined",{get:function(){try{return 0<this.tenantSettings.system.contentManagement.companyUploadPolicy.url.trim().length}catch(e){return!1}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"companyPolicy",{get:function(){var e;try{e=this.tenantSettings.system.contentManagement.companyUploadPolicy.url.trim(),_.startsWith(e,"http://")||_.startsWith(e,"https://")||(e="http://"+e)}catch(e){}return e},enumerable:!0,configurable:!0}),u.prototype.discardChanges=function(e){this.viewModel.revert(),this.failureMessage="",this.successMessage="",this.$element.find(".update-status").hide(),r.StreamLoggingService.userActionThin("UserSettingsUpdateDiscarded",this.generateUserSettingsUserActionTelemetryPayload(e))},u.prototype.saveChanges=function(e){var t=this;this.viewModel.save().then((function(){t.viewModel.displayLanguage!==t.viewModel.original.displayLanguage&&(t.$location.search({callback:"1"}),t.$window.location.reload(!0)),sessionInfo.UserRegion=t.viewModel.selectedRegion,t.failureMessage="",t.successMessage=t.resources.UserSettingsUpdateSuccessMessage,t.viewModel.refresh(),t.saveBtnEnabled=!1,r.StreamLoggingService.userActionThin("UserSettingsUpdateApplied",t.generateUserSettingsUserActionTelemetryPayload(e))}),(function(e){t.successMessage="";var n=t.resources.UserSettingsUpdateFailMessage;e&&e.data&&e.data.error&&e.data.error.message&&_.isString(e.data.error.message)?t.failureMessage=n+" "+e.data.error.message:e&&e.statusText&&_.isString(e.statusText)?t.failureMessage=n+" "+e.statusText:t.failureMessage=n,e={message:"Failed to update UserSettings with status code: "+e.status,stack:void 0},r.StreamLoggingService.fatalThin("UserSettingsUpdateFailed",e)})).finally((function(){t.$element.find(".update-status").fadeIn(t.saveMsgFadeInOutTime,(function(){t.$element.find(".update-status h6").focus()})),t.successMessage&&(t.updateStatusTimeoutPromise=t.$timeout((function(){t.$element.find(".update-status").fadeOut(t.saveMsgFadeInOutTime)}),t.saveMsgStayTime))}))},u.prototype.onToggleEmailClick=function(e){this.viewModel.emailNotificationEnabled=!this.viewModel.emailNotificationEnabled,r.StreamLoggingService.userActionThin("UserSettingsEmailSwitchToggled",this.generateUserSettingsUserActionTelemetryPayload(e))},u.prototype.LangSettingsDesc=function(){return a.formatString(this.resources.Components.UserSettings.LanguageSettings.Desc,this.resources.Media)},u.prototype.generateUserSettingsUserActionTelemetryPayload=function(e){return{actionType:l.getActionType(e),viewContext:l.currentViewContext,elementId:l.getElementId(e),timeStampMs:e.timeStamp,emailNotificationEnabled:this.viewModel.emailNotificationEnabled,selectedRegion:this.viewModel.selectedRegion,displayLanguage:this.viewModel.displayLanguage}},u.$inject=["$scope","$window","resources","$q","tenantService","telemetryService","principalService","$element","$timeout","$location"],n=u,t.UserSettingDetailController=n},"./app/components/Video/ChannelList/ChannelList.html":function(e,t){e.exports='<div class=channel-list> <div> {{$ctrl.channels.length | localNumber | channelCount}} </div> <ul class="c-group f-wrap-items channel-tag-group"> <li ng-repeat="ch in $ctrl.channels"> <button class="c-choice-summary channel-tag" ng-click=$ctrl.goToChannel(ch.id)> <span class=channel-name ng-class="{\'followedChannel\': ch.userData.isFollowed}"> {{ch.name}} </span> </button> </li> </ul> </div>'},"./app/components/Video/ChannelList/ChannelList.less":function(e,t){},"./app/components/Video/ChannelList/ChannelList.ts":function(e,t,n){function r(){this.controller=i.ChannelListController,this.template=n("./app/components/Video/ChannelList/ChannelList.html"),this.bindings={channels:"<",channelClicked:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/ChannelList/ChannelList.less");var i=n("./app/components/Video/ChannelList/ChannelListController.ts"),o=n("./app/utility/appUtil.ts");t.ChannelList=r,o.registerComponent("channelList",r,angular.module("jumper"))},"./app/components/Video/ChannelList/ChannelListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),i=n("./app/utility/Constants.ts");o.prototype.goToChannel=function(e){this.channelClicked(),this.navigationService.navigate(r.formatString(i.Constants.Routes.Channel,e))},o.$inject=["$scope","resources","navigationService"],n=o;function o(e,t,n){this.$scope=e,this.resources=t,this.navigationService=n}t.ChannelListController=n},"./app/components/Video/Comment/Comment.html":function(e,t){e.exports='<div class=video-comment id=comment-{{$ctrl.commentModel.id}}> <div class=error-banner ng-show="$ctrl.errMsg.length > 0"> <h6 class=c-heading-6>{{$ctrl.errMsg}}</h6> </div> <div class=comment-body ng-class="{\'comment-hovered\': $ctrl.hovered}" ng-mouseenter="$ctrl.hovered = true" ng-mouseleave="$ctrl.hovered = false"> <div class=profile-image> <a ng-href={{$ctrl.userPageUrl}} ng-click=$ctrl.cacheCreator()> <img ng-if=$ctrl.commentModel.creator.profileImageUrl ng-src={{::$ctrl.commentModel.creator.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}} /> <img ng-if=!$ctrl.commentModel.creator.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}} /> </a> </div> <div class=comment-content> <div class=view-area ng-show="$ctrl.isView || $ctrl.isDeleting"> <span class="name c-subheading-6"> <comment-creator item=$ctrl.commentModel></comment-creator> </span> <span class="time c-subheading-7"> {{$ctrl.commentModel.created | commentCreateTime}} </span> <div class=view-area-actions> <button ng-if=$ctrl.commentModel.userData.permissions.canEdit type=button class="c-hyperlink black-link" ng-disabled=$ctrl.isEditing ng-click=$ctrl.onEditClicked()> {{::$ctrl.resources.Components.Comment.Button.Edit}} </button> <button ng-if=$ctrl.commentModel.userData.permissions.canDelete type=button class="c-hyperlink black-link" ng-click=$ctrl.onDeleteClicked()> {{::$ctrl.resources.Components.Comment.Button.Delete}} </button> </div> <read-less-read-more text-content=$ctrl.commentModel.contentOrigin default-max-lines=4 class="comment-text c-caption-1" on-time-tag-clicked=$ctrl.onTimeTagClicked() telemetry-tracker=$ctrl.featureTelemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> </div> <div class=edit-area ng-show="$ctrl.isEditing || $ctrl.isSaving"> <div class=input-arrow> <div ng-class="$ctrl.commentInputFocused ? \'arrow-outer-focused\' : \'arrow-outer\'"></div> </div> <div class=c-textarea> <textarea ng-focus="$ctrl.commentInputFocused = true" ng-blur="$ctrl.commentInputFocused = false" ng-model=$ctrl.commentModel.contentCopy class="f-resize f-scroll" name=textarea-default rows=2 placeholder={{::$ctrl.resources.Components.Comment.Text.UpdateComment}}>\r\n                    </textarea> </div> </div> </div> <div class=actions ng-show=$ctrl.isEditing> <button type=button class=stream-btn ng-click=$ctrl.onCancelClicked()> {{::$ctrl.resources.Components.Comment.Button.Cancel}} </button> <button type=button class="stream-btn btn-primary" ng-disabled="!$ctrl.commentModel.contentCopy || $ctrl.commentModel.contentCopy === $ctrl.commentModel.contentOrigin" ng-click=$ctrl.onSaveClicked()> {{::$ctrl.resources.Components.Comment.Button.Save}} </button> </div> <div class="comment-overlay loading" ng-show="$ctrl.isDeleting || $ctrl.isSaving"> <div class="c-progress f-indeterminate-local f-progress-small" role=progressbar aria-valuetext={{::$ctrl.resources.Loading}}> <span></span> <span></span> <span></span> <span></span> <span></span> </div> </div> <div class="comment-overlay deleted-info" ng-show=$ctrl.isDeleted tabindex=0 aria-label={{::$ctrl.resources.Components.Comment.Text.CommentDeleted}}> <span>{{::$ctrl.resources.Components.Comment.Text.CommentDeleted}}</span> </div> </div> </div> '},"./app/components/Video/Comment/Comment.less":function(e,t){},"./app/components/Video/Comment/Comment.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/components/Video/Comment/CommentController.ts"),i=n("./app/utility/appUtil.ts");function o(){this.controller=r.CommentController,this.template=n("./app/components/Video/Comment/Comment.html"),this.bindings={video:"<",comment:"<",onDeleted:"&",onUpdated:"&",isInAdminMode:"<"}}n("./app/components/Video/Comment/Comment.less"),t.Comment=o,i.registerComponent("comment",o,angular.module("jumper"))},"./app/components/Video/Comment/CommentController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts");function s(e,t){e.attr("aria-label",t),e.attr("tabindex",0),e.focus(),setTimeout((function(){e.removeAttr("aria-label"),e.removeAttr("tabindex")}),2e3)}function a(e,t,n,o,s,a,l){this.$scope=e,this.$element=t,this.$timeout=n,this.resources=o,this.commentService=s,this.telemetryService=a,this.dataShareService=l,this.commentInputFocused=!1,this.errMsg="",this.hovered=!1,this.state={view:"view",editing:"editing",saving:"saving",deleting:"deleting",deleted:"deleted"},this.commentModel=this.mapToCommentUIModel(this.comment,this.state.view),this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Video,r.ResourceType.Comment,this.comment.id),this.tagClickedTelemetryProperties={source:i.Constants.TagClickSource.Comment,id:this.video?this.video.id:""}}t.focusElement=s,a.prototype.mapToCommentUIModel=function(e,t){return{id:e.id,contentOrigin:e.content,contentCopy:angular.copy(e.content),status:t,creator:e.creator,created:e.created,modified:e.modified,userData:e.userData}},a.prototype.afterDeleted=function(){var e=this;this.$timeout((function(){var t=e.$element.find(".video-comment");t?t.slideUp(800,e.onDeleted.bind(e,{comment:e.comment})):e.onDeleted({comment:e.comment})}),1e3)},a.prototype.onEditClicked=function(){this.commentModel.status=this.state.editing},a.prototype.onDeleteClicked=function(){var e=this;this.commentModel.status=this.state.deleting,this.commentService.delete(this.video.id,this.comment.id,this.isInAdminMode).then((function(){e.commentModel.status=e.state.deleted,e.afterDeleted(),e.errMsg="",e.featureTelemetryTracker.succeed(r.FeatureName.DeleteComment),setTimeout((function(){e.$element.find(".deleted-info").focus()}),0)}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.DeleteComment,r.SubFeatureName.CommentService_Delete,t),e.errMsg=t.data.error.message,e.commentModel.status=e.state.view}))},a.prototype.onSaveClicked=function(){var e=this;this.commentModel.status=this.state.saving,this.commentService.update(this.video.id,this.comment.id,{content:this.commentModel.contentCopy},this.isInAdminMode).then((function(t){e.comment.content=t.content,e.comment.modified=t.modified,e.commentModel=e.mapToCommentUIModel(e.comment,e.state.view),e.onUpdated({comment:e.comment}),e.errMsg="",e.featureTelemetryTracker.succeed(r.FeatureName.UpdateComment),setTimeout((function(){s(e.$element.find(".comment-body"),e.resources.Components.Comment.Aria.CommentUpdated)}),0)}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.UpdateComment,r.SubFeatureName.CommentService_Patch,t),e.commentModel.status=e.state.editing,e.errMsg=t.data.error.message}))},a.prototype.onCancelClicked=function(){this.commentModel.contentCopy=angular.copy(this.commentModel.contentOrigin),this.commentModel.status=this.state.view,this.errMsg=""},a.prototype.onTimeTagClicked=function(){this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.timeTagClickedEventName,{source:i.Constants.TagClickSource.Comment,id:this.video.id})},Object.defineProperty(a.prototype,"isView",{get:function(){return this.state.view===this.commentModel.status},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isEditing",{get:function(){return this.state.editing===this.commentModel.status},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.state.saving===this.commentModel.status},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isDeleting",{get:function(){return this.state.deleting===this.commentModel.status},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isDeleted",{get:function(){return this.state.deleted===this.commentModel.status},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"userPageUrl",{get:function(){return o.formatString(i.Constants.Routes.User,this.commentModel.creator.id)},enumerable:!0,configurable:!0}),a.prototype.cacheCreator=function(){this.dataShareService.cache[this.commentModel.creator.id]=this.comment.creator},a.$inject=["$scope","$element","$timeout","resources","commentService","telemetryService","dataShareService"],n=a,t.CommentController=n},"./app/components/Video/Comments/Comments.html":function(e,t){e.exports='<div class="video-comments c-caption-1"> <div class=comments-loading ng-show=$ctrl.initState.loading> <loading-panel></loading-panel> </div> <div class=error-banner ng-show=$ctrl.initState.error> <h6 class=c-heading-6>{{$ctrl.initState.errMsg}}</h6> </div> <div class=comments-ready ng-show=$ctrl.initState.ready> <h2 class="title-heading comments-label c-heading-5"> {{$ctrl.video.metrics.comments | commentCount}} </h2> <div class=error-banner ng-show=$ctrl.postCommentState.error> <h6 class=c-heading-6>{{$ctrl.postCommentState.errMsg}}</h6> </div> <div class=comment-input-box ng-if=$ctrl.video.userData.permissions.canComment> <div class=profile-image> <img ng-if=$ctrl.getProfileImage() ng-src={{$ctrl.getProfileImage()}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}} /> <img ng-if=!$ctrl.getProfileImage() src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}} /> </div> <div class=input-area> <div class=input-arrow> <div ng-class="$ctrl.commentInputFocused ? \'arrow-outer-focused\' : \'arrow-outer\'"></div> </div> <div class=c-textarea> <textarea aria-label={{$ctrl.resources.Components.Comment.Text.PostComment}} id=comment-textarea ng-focus="$ctrl.commentInputFocused = true; $ctrl.focusedBefore = true;" ng-blur="$ctrl.commentInputFocused = false" ng-model=$ctrl.commentInput class="f-no-resize f-scroll" name=textarea-default rows=1 placeholder={{$ctrl.resources.Components.Comment.Text.PostComment}}></textarea> </div> </div> <div class=actions ng-show="$ctrl.focusedBefore && !$ctrl.postCommentState.posting"> <button type=button class=stream-btn ng-disabled=$ctrl.postCommentState.posting ng-click=$ctrl.discardComment() aria-label={{::$ctrl.resources.Components.Comment.Button.Discard}}> <span>{{::$ctrl.resources.Components.Comment.Button.Discard}}</span> </button> <button type=button class="stream-btn right-dialog-button ng-binding btn-primary" ng-disabled="!$ctrl.commentInput || $ctrl.postCommentState.posting" ng-click=$ctrl.postComment() aria-label={{::$ctrl.resources.Components.Comment.Button.Post}}> <span>{{::$ctrl.resources.Components.Comment.Button.Post}}</span> </button> </div> <div class=input-overlay ng-if=$ctrl.postCommentState.posting> <loading-panel message="\'\'"></loading-panel> </div> </div> <div class=comment-disabled-box ng-if=!$ctrl.video.userData.permissions.canComment> <div class=profile-image> </div> <div class=input-area> <div class=input-arrow> <div ng-class="$ctrl.commentInputFocused ? \'arrow-outer-focused\' : \'arrow-outer\'"></div> </div> <div class=c-textarea> <textarea class=f-no-resize rows=2 disabled=disabled ng-model=$ctrl.resources.Components.Comment.Text.CommentDisabled></textarea> </div> </div> </div> <div class=comments-list> <div ng-repeat="c in $ctrl.comments"> <comment is-in-admin-mode=$ctrl.isInAdminMode video=$ctrl.video comment=c on-deleted=$ctrl.onDeleted(comment) on-updated=$ctrl.onUpdated(comment)> </comment> </div> </div> <div class=load-more-status> <div class=error-banner ng-show=$ctrl.loadMoreState.error> <h6 class=c-heading-6>{{$ctrl.loadMoreState.errMsg}}</h6> </div> <div class=reach-end role=note ng-if=$ctrl.reachedEnd aria-label={{::$ctrl.resources.Components.Comment.Text.NoMoreComments}}> </div> <button ng-if=!$ctrl.reachedEnd type=button name=button class=c-action-trigger ng-disabled=$ctrl.loadMoreState.loading ng-click=$ctrl.onLoadMoreClicked()> {{$ctrl.loadMoreButtonText}} </button> </div> </div> </div>'},"./app/components/Video/Comments/Comments.less":function(e,t){},"./app/components/Video/Comments/Comments.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/components/Video/Comments/CommentsController.ts"),i=n("./app/utility/appUtil.ts");function o(){this.controller=r.CommentsController,this.template=n("./app/components/Video/Comments/Comments.html"),this.bindings={video:"<",isInAdminMode:"<"}}n("./app/components/Video/Comments/Comments.less"),t.Comments=o,i.registerComponent("comments",o,angular.module("jumper"))},"./app/components/Video/Comments/CommentsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),i=n("./app/models/TelemetryEventModels.ts"),o=n("./app/components/Video/Comment/CommentController.ts");s.prototype.sendTelemetryEvents=function(){this.telemetrySent||(this.telemetryTracker.trackEvent(i.TelemetryEventNames.commentsSummary,{posted:!1,updated:!1,deleted:!1}),this.telemetrySent=!0)},s.prototype.initPrincipalInfo=function(){var e=this;return this.principalService.getMyPrincipalInfo().then((function(t){return e.me=t.data,e.profileImageUrl=e.me.profileImageUrl,e.telemetryTracker.succeed(i.FeatureName.GetPrincipalSettings),e.$q.resolve()}),(function(t){return e.telemetryTracker.fail(i.FeatureName.GetPrincipalSettings,i.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t),e.$q.reject(t)}))},s.prototype.initComments=function(){var e=this;return this.commentService.query(this.video.id,this.stride,0,this.isInAdminMode).then((function(t){return e.comments=t,e.telemetryTracker.succeed(i.FeatureName.GetComments),e.commentInputAutoResize(),e.$q.resolve()}),(function(t){return e.telemetryTracker.fail(i.FeatureName.GetComments,i.SubFeatureName.CommentService_Query,t),e.$q.reject(t)}))},s.prototype.commentInputAutoResize=function(){var e=document.getElementById("comment-textarea");e&&e.addEventListener("keyup",(function(){var t=e.getAttribute("rows");e.clientHeight<e.scrollHeight&&"1"===t&&e.setAttribute("rows","2")}))},s.prototype.init=function(){var e=this;this.initState.loading=!0,this.$q.all([this.initPrincipalInfo(),this.initComments()]).then((function(){e.initState.ready=!0,e.initState.error=!1,e.reachedEnd=e.comments.length<e.stride||e.comments.length>=e.video.metrics.comments}),(function(t){e.initState.ready=!1,e.initState.error=!0,t&&t.data&&t.data.error&&(e.initState.errMsg=t.data.error.message)})).finally((function(){e.initState.loading=!1}))},s.prototype.discardComment=function(){this.commentInput="",this.postCommentState.error=!1,this.focusedBefore=!1},s.prototype.postComment=function(){var e,t=this;this.commentInput.length&&(e=function(e,n){t.telemetryTracker.fail(i.FeatureName.PostComment,e,n),t.postCommentState.errMsg=n.data.error.message,t.postCommentState.error=!0},this.postCommentState.posting=!0,this.commentService.create(this.video.id,{content:this.commentInput},this.isInAdminMode).then((function(n){return t.commentService.get(t.video.id,n.id,t.isInAdminMode).then((function(e){var n;t.comments.unshift(e),t.commentInput="",t.focusedBefore=!1,t.video.metrics.comments++,t.postCommentState.error=!1,n=e,t.telemetryTracker.succeed(i.FeatureName.PostComment),t.telemetrySent=!0,t.telemetryTracker.trackEvent(i.TelemetryEventNames.commentsSummary,{id:n.id,posted:!0,updated:!1,deleted:!1},{commentLength:n.content.length}),setTimeout((function(){var n="#comment-"+e.id+" .comment-body",r=t.resources.Components.Comment.Aria.CommentPosted;o.focusElement($(n),r)}),0)}),(function(t){e(i.SubFeatureName.CommentService_Get,t)}))}),(function(t){e(i.SubFeatureName.CommentService_Post,t)})).finally((function(){t.postCommentState.posting=!1})))},s.prototype.onLoadMoreClicked=function(){var e=this,t=this.comments.length;this.loadMoreState.loading=!0,this.commentService.query(this.video.id,this.stride,t,this.isInAdminMode).then((function(t){e.reachedEnd=t.length<e.stride||t.length+e.comments.length>=e.video.metrics.comments,e.comments=e.comments.concat(t),e.loadMoreState.error=!1,e.telemetryTracker.succeed(i.FeatureName.GetComments)}),(function(t){e.loadMoreState.error=!0,e.loadMoreState.errMsg=t.data.error.message,e.telemetryTracker.fail(i.FeatureName.GetComments,i.SubFeatureName.CommentService_Query,t)})).finally((function(){e.loadMoreState.loading=!1}))},Object.defineProperty(s.prototype,"loadMoreButtonText",{get:function(){if(this.loadMoreState.loading)return this.resources.Components.Comment.Text.LoadingComment;var e=this.comments?this.comments.length:0;return 1===(e=this.video.metrics.comments-e)?r.formatString(this.resources.Components.Comment.Text.LoadPreviousSingular,e.toString()):r.formatString(this.resources.Components.Comment.Text.LoadPreviousPlural,e.toString())},enumerable:!0,configurable:!0}),s.prototype.onDeleted=function(e){_.remove(this.comments,(function(t){return t.id===e.id})),this.video.metrics.comments--,this.telemetrySent=!0,this.telemetryTracker.trackEvent(i.TelemetryEventNames.commentsSummary,{id:e.id,posted:!1,updated:!1,deleted:!0})},s.prototype.onUpdated=function(e){this.telemetrySent=!0,this.telemetryTracker.trackEvent(i.TelemetryEventNames.commentsSummary,{id:e.id,posted:!1,updated:!0,deleted:!1},{commentLength:e.content.length})},s.prototype.getProfileImage=function(){return portalConfiguration.EnableMockApiGateway?null:this.profileImageUrl},s.$inject=["$scope","$q","resources","commentService","telemetryService","principalService","$window"],n=s;function s(e,t,n,r,o,s,a){var l=this;this.$scope=e,this.$q=t,this.resources=n,this.commentService=r,this.telemetryService=o,this.principalService=s,this.$window=a,this.initState={ready:!1,loading:!1,error:!1,errMsg:""},this.postCommentState={posting:!1,error:!1,errMsg:""},this.loadMoreState={loading:!1,error:!1,errMsg:""},this.reachedEnd=!1,this.commentInputFocused=!1,this.stride=10,this.telemetrySent=!1,this.telemetryTracker=this.telemetryService.getTracker(i.ScreenName.Video,i.ResourceType.Video,this.video?this.video.id:null),this.init();var c=this.sendTelemetryEvents.bind(this);this.$scope.$on("destroy",(function(){l.sendTelemetryEvents(),l.$window.removeEventListener("beforeunload",c)})),this.$window.addEventListener("beforeunload",c)}t.CommentsController=n},"./app/components/Video/Forms/FormPanel/FormPanel.html":function(e,t){e.exports='<div class=form-panel data-id="{{ $ctrl.formEvent.id }}" role=presentation> <div role=row ng-attr-aria-expanded="{{ $ctrl.canEdit ? !!$ctrl.expanded : null }}"> <div class=name-column role=cell> <div role=button ng-click=$ctrl.jumpTo() class=form-title-link ng-class="{\'placeholder\':!$ctrl.formEvent.eventData.title}" title="{{ $ctrl.formTitleOrId }}" ng-if=!$ctrl.formEvent.isNew> <span class=item-icon role=presentation></span> {{ $ctrl.formEvent.eventData.title || $ctrl.resources.InteractivityFormNameFieldPlaceholder }} </div> <div class=form-title-link ng-if=$ctrl.formEvent.isNew ng-class="{\'placeholder\':!$ctrl.formEvent.eventData.title}" title="{{ $ctrl.formTitleOrId }}"> {{ $ctrl.formEvent.eventData.title || $ctrl.resources.InteractivityFormNameFieldPlaceholder }} </div> </div> <div class=viewed-column role=cell ng-class="{\'viewed\':$ctrl.formEvent.eventData.hasBeenShown}" custom-title="{{ $ctrl.formEvent.eventData.hasBeenShown ? $ctrl.resources.Viewed : $ctrl.resources.NotViewed }}" aria-label="{{ $ctrl.formEvent.eventData.hasBeenShown ? $ctrl.resources.Viewed : $ctrl.resources.NotViewed }}"></div> <div class=time-column role=cell aria-label={{$ctrl.narratorTimeCode}}>{{ $ctrl.friendlyTimeCode }}</div> <button ng-if=$ctrl.canEdit ng-disabled=$ctrl.formEvent.isNew class="expand-column expand-button" ng-class="{ \'expanded\': $ctrl.expanded }" ng-click=$ctrl.expandClicked() custom-title="{{ $ctrl.expanded ? $ctrl.resources.Collapse : $ctrl.resources.Expand }}" name="{{ $ctrl.expanded ? $ctrl.resources.Collapse : $ctrl.resources.Expand }}" light-style=true aria-label={{::$ctrl.resources.ExpandButtonAria}}></button> </div> <form ng-if=$ctrl.expanded class=form-panel-entry novalidate> <label class=form-panel-label for={{::$ctrl.uniqueId}}_url>{{::$ctrl.resources.InteractivityFormUrlLabel}}</label> <tooltip message="$ctrl.formEvent.isNew ? $ctrl.resources.InteractivityFormURLTooltip : $ctrl.resources.InteractivityFormURLTooltipView" button-aria-label={{::$ctrl.resources.InteractivityFormURLAria}} tooltip-width=200></tooltip> <custom-error-message ng-if=!$ctrl.isUrlValid error-message=$ctrl.resources.InvalidURLMessage is-subtle=true /> <div class="form-panel-field form-panel-url-button"> <input class=c-text-field type=text name=url ng-model=$ctrl.url ng-readonly=!$ctrl.formEvent.isNew placeholder={{::$ctrl.resources.InteractivityFormUrlLabelPlaceholder}} ng-class="{\'invalid\':!$ctrl.isUrlValid}" ng-blur=$ctrl.validateUrl() required maxlength=2000 id={{::$ctrl.uniqueId}}_url /> <span class=svg-wrapper role=button arial-label={{$ctrl.formsButtonAriaLabel}} ng-click=$ctrl.openFormsLink()> <svg-src svg-name=icon_popout /> </span> </div> <label class=form-panel-label for={{::$ctrl.uniqueId}}_title>{{::$ctrl.resources.InteractivityFormNameLabel}}</label> <tooltip message="$ctrl.formEvent.isNew ? $ctrl.resources.InteractivityFormTitleTooltip : $ctrl.resources.InteractivityFormTitleTooltipView" button-aria-label={{::$ctrl.resources.InteractivityFormTitleAria}} tooltip-width=200></tooltip> <custom-error-message ng-if=!$ctrl.isTitleValid error-message=$ctrl.resources.InvalidTitleMessage is-subtle=true /> <div class=form-panel-field> <input class=c-text-field type=text name=title ng-model=$ctrl.formEvent.eventData.title ng-readonly=!$ctrl.formEvent.isNew placeholder={{::$ctrl.resources.InteractivityFormNameLabelPlaceholder}} ng-class="{\'invalid\':!$ctrl.isTitleValid}" ng-blur=$ctrl.validateTitle() required maxlength=50 id={{::$ctrl.uniqueId}}_title /> </div> <label class=form-panel-label for={{::$ctrl.uniqueId}}_time>{{::$ctrl.resources.InteractivityFormTimeLabel}}</label> <tooltip message="$ctrl.formEvent.isNew ? $ctrl.resources.InteractivityFormTimeTooltip : $ctrl.resources.InteractivityFormTimeTooltipView" button-aria-label={{::$ctrl.resources.InteractivityFormTimeAria}} tooltip-width=180></tooltip> <custom-error-message ng-if="!$ctrl.isTimeValid && $ctrl.formEvent.expanded" error-message=$ctrl.resources.InvalidTimeMessage is-subtle=true /> <div class=form-panel-field> <input readonly=readonly class="c-text-field playback-time" type=text name=time ng-class="{\'invalid\':!$ctrl.isTimeValid}" aria-label="{{ $ctrl.narratorTimeCode }}" value="{{ $ctrl.friendlyTimeCode }}" id={{::$ctrl.uniqueId}}_time /> </div> <div class=form-panel-buttons> <button custom-title={{::$ctrl.resources.InteractivityAddButton}} light-style=true ng-click=$ctrl.add() ng-disabled=!$ctrl.isValid ng-if=$ctrl.formEvent.isNew class="stream-btn btn-primary emphasis-button">{{::$ctrl.resources.InteractivityAddButton}}</button> <button class=default-hidden ng-if=!$ctrl.formEvent.isNew tabindex=-1 role=presentation></button> <button custom-title={{::$ctrl.resources.InteractivityDeleteButton}} light-style=true ng-click=$ctrl.delete() ng-if=!$ctrl.formEvent.isNew class="stream-btn btn-primary emphasis-button">{{::$ctrl.resources.InteractivityDeleteButton}}</button> <span class=spacer></span> <button custom-title={{::$ctrl.resources.Cancel}} light-style=true ng-click=$ctrl.cancel() class="stream-btn cancel-button">{{::$ctrl.resources.Cancel}}</button> </div> </form> </div>'},"./app/components/Video/Forms/FormPanel/FormPanel.less":function(e,t){},"./app/components/Video/Forms/FormPanel/FormPanel.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/components/Video/Forms/FormPanel/FormPanelController.ts"),i=n("./app/utility/appUtil.ts");function o(){this.controller=r.FormPanelController,this.template=n("./app/components/Video/Forms/FormPanel/FormPanel.html"),this.bindings={formEvent:"<",timeCode:"<",onAddForm:"&",onDelete:"&",onExpandChanged:"&",onCancel:"&",onJumpTo:"&",canNavigate:"<",canEdit:"<",canAddAtTimeCode:"<",videoId:"<"},this.bindToController=!0}n("./app/components/Video/Forms/FormPanel/FormPanel.less"),t.FormPanel=o,i.registerComponent("formPanel",o,angular.module("jumper"))},"./app/components/Video/Forms/Forms.html":function(e,t){e.exports='<div class=forms dir={{$ctrl.dir}}> <div ng-if=$ctrl.canEdit class=forms-list-controls> <div class=add-new> <button class=btn-add-new custom-title={{::$ctrl.resources.InteractivityListAddForm}} light-style=true ng-disabled=!$ctrl.isAddFormEnabled ng-click=$ctrl.addFormClicked()>{{::$ctrl.resources.InteractivityListAddForm }}</button> </div> </div> <div ng-if="$ctrl.timedEvents.length !== 0" class=form-list role=table aria-multiselectable=false> <div class=form-list-header role=rowheader> <div class=name-column role=columnheader> {{::$ctrl.resources.InteractivityListName }} </div> <div class=viewed-column role=columnheader> {{::$ctrl.resources.InteractivityListViewed }} </div> <div class=time-column role=columnheader> {{::$ctrl.resources.InteractivityListTime }} </div> <div class=expand-column role=presentation> </div> </div> <form-panel ng-repeat="item in $ctrl.timedEvents" form-event=item time-code=$ctrl.timeCode on-add-form=$ctrl.addForm(formEvent) on-cancel=$ctrl.onCancel(formEvent) on-delete=$ctrl.onDelete(formEvent) on-expand-changed="$ctrl.onExpandChanged(formEvent, isExpanded)" on-jump-to=$ctrl.jumpTo(formEvent) can-edit=$ctrl.canEdit can-add-at-time-code=$ctrl.canAddAtTimeCode role=presentation /> </div> <div ng-if="$ctrl.timedEvents.length === 0 && $ctrl.canEdit" class=no-forms> <div class=no-forms-panel> <div class=no-forms-icon> <svg-src svg-name=icon_no_forms inline-with-text=false aria-hidden=true /> </div> <div class=no-forms-text> {{::$ctrl.resources.InteractivityFirstAdd}} </div> </div> </div> </div>'},"./app/components/Video/Forms/Forms.less":function(e,t){},"./app/components/Video/Forms/Forms.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/components/Video/Forms/FormsController.ts"),i=n("./app/utility/appUtil.ts");function o(){this.controller=r.FormsController,this.template=n("./app/components/Video/Forms/Forms.html"),this.bindings={timedEvents:"<",showControls:"<",onAddForm:"&",onDeleteForm:"&",onFormClicked:"&",player:"<",timeCode:"<",canEdit:"<",canAdd:"<"},this.bindToController=!0}n("./app/components/Video/Forms/Forms.less"),t.Forms=o,i.registerComponent("forms",o,angular.module("jumper"))},"./app/components/Video/Forms/FormsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");i.prototype.addForm=function(e){return this.onAddForm&&this.onAddForm({formEvent:e})||this.$q.reject()},i.prototype.addFormClicked=function(){this.savePlayerState()&&this.player.pause(),this.timedEvents.splice(0,0,{id:r.generateGuid(),startTime:-1,endTime:-1,eventData:{formId:null,leftPosition:.01,topPosition:.01,bottomPosition:.99,rightPosition:.99,title:""},hidden:!1,type:"form",isNew:!0})},i.prototype.onCancel=function(e){e.isNew&&this.timedEvents.splice(this.timedEvents.findIndex((function(t){return t.id===e.id})),1),this.restorePlayerState()},Object.defineProperty(i.prototype,"canAddAtTimeCode",{get:function(){var e=this;return!this.timedEvents.some((function(t){return t.endTime===e.timeCode}))},enumerable:!0,configurable:!0}),i.prototype.onDelete=function(e){return this.onDeleteForm&&this.onDeleteForm({formEvent:e})||this.$q.reject()},i.prototype.onExpandChanged=function(e,t){this.isAddFormEnabled=this.timedEvents.every((function(e){return!e.isNew})),t&&this.timedEvents.filter((function(t){return!t.isNew&&t.id!==e.id})).forEach((function(e){return e.expanded=!1})),this.onExpandFormChanged&&this.onExpandFormChanged({formEvent:e})},i.prototype.jumpTo=function(e){this.onFormClicked&&this.onFormClicked({formEvent:e})},i.prototype.savePlayerState=function(){return!!this.player&&(this.wasPaused=this.player.paused(),!0)},i.prototype.restorePlayerState=function(){this.player&&null!=this.wasPaused&&(this.wasPaused?this.player.pause():this.player.play())},i.$inject=["resources","$q"],n=i;function i(e,t){this.resources=e,this.$q=t,this.isAddFormEnabled=!0,this.wasPaused=null,this.dir=sessionInfo.IsRightToLeft?"rtl":"ltr",this.timedEvents||(this.timedEvents=[])}t.FormsController=n},"./app/components/Video/RelatedChannels/RelatedChannels.html":function(e,t){e.exports='<div class=related-channels ng-if=$ctrl.channels.length> <div class=displayed-in-label>{{::$ctrl.resources.Components.RelatedChannelsDialog.FoundIn}}</div> <div class=related-content> <span ng-repeat="group in $ctrl.groups | limitTo: 2 : 0"> <a ng-if="group.id && group.name && !group.isDefault" ng-href={{::$ctrl.getGroupUrl(group.id)}} class="c-hyperlink group-link" ng-click=$ctrl.groupClicked()> {{group.name}} </a> <span class=punctuation ng-if="group.id && group.name && !group.isDefault && ((group.channels.length && !group.channels[0].isDefault) || !$last)"> {{group.channels.length && !group.channels[0].isDefault?":":$last?"":", "}}</span> <span ng-repeat="channel in group.channels | limitTo: ($ctrl.groups.Length>1?1:2) : 0"> <a ng-if=!channel.isDefault class="c-hyperlink channel-link" ng-href={{::$ctrl.getChannelUrl(channel.id)}} ng-click=$ctrl.channelClicked()> {{channel.name}} </a> </span> <span class=punctuation ng-if="$ctrl.moreMessage || !$last">{{$last?"":", "}}</span> </span> </div> <div ng-if=$ctrl.moreMessage class=more-container> <button class="c-hyperlink more-link" ng-click=$ctrl.openDialog()> {{$ctrl.resources.Components.RelatedChannelsDialog.MoreChannelsNoCount}} </button></div> </div>'},"./app/components/Video/RelatedChannels/RelatedChannels.less":function(e,t){},"./app/components/Video/RelatedChannels/RelatedChannels.ts":function(e,t,n){function r(){this.controller=i.RelatedChannelsController,this.template=n("./app/components/Video/RelatedChannels/RelatedChannels.html"),this.bindings={channels:"<",video:"<",channelClicked:"&",groupClicked:"&",onOpenDialog:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/RelatedChannels/RelatedChannels.less");var i=n("./app/components/Video/RelatedChannels/RelatedChannelsController.ts"),o=n("./app/utility/appUtil.ts");t.RelatedChannels=r,o.registerComponent("relatedChannels",r,angular.module("jumper"))},"./app/components/Video/RelatedChannels/RelatedChannelsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),i=n("./app/utility/Constants.ts");o.prototype.goToChannel=function(e){this.channelClicked(),this.navigationService.navigate(r.formatString(i.Constants.Routes.Channel,e))},o.prototype.getChannelUrl=function(e){return r.formatString(i.Constants.Routes.Channel,e)},o.prototype.goToGroup=function(e){this.groupClicked(),this.navigationService.navigate(r.formatString(i.Constants.Routes.Group,e))},o.prototype.getGroupUrl=function(e){return r.formatString(i.Constants.Routes.Group,e)},o.prototype.openDialog=function(){this.onOpenDialog({dialog:this.relatedChannelsDialog.open(this.groups,this.video,this.goToChannel.bind(this),this.goToGroup.bind(this))})},Object.defineProperty(o.prototype,"moreMessage",{get:function(){return 2<this.channels.length?r.formatString(this.resources.Components.RelatedChannelsDialog.MoreChannelsNoCount):""},enumerable:!0,configurable:!0}),o.prototype.transformChannelsGroups=function(){this.groups=[];var e={};if(this.channels)for(var t in this.channels.forEach((function(t){var n=t.group?t.group.id:"0";void 0===e[n]&&(e[n]=t.group||{isDefault:!0},e[n].channels=[]),e[n].channels.push(t)})),e)this.groups.push(e[t])},o.$inject=["$scope","resources","navigationService","RelatedChannelsDialog"],n=o;function o(e,t,n,r){var i=this;this.$scope=e,this.resources=t,this.navigationService=n,this.relatedChannelsDialog=r,this.groups=[],e.$watch((function(){return i.channels}),(function(e,t){i.transformChannelsGroups()}))}t.RelatedChannelsController=n},"./app/components/Video/RelatedVideos/RelatedVideos.html":function(e,t){e.exports='<div class="related-videos list-style"> <div class=primary-related-videos ng-if="$ctrl.relatedVideos.length && $ctrl.hideRelatedVideoDiv()"> <h2 class="c-heading-5 related-video-label">{{$ctrl.relatedVideoLabel}}</h2> <div class=auto-play-div ng-if=$ctrl.showAutoPlayToggle()> <toggle name=auto-responsive-toggle value=$ctrl.autoPlayDefault on-toggle-click=$ctrl.onAutoPlayResponsiveToggleClick() hide-labels=false auto-play-custom-on-label-text=$ctrl.autoPlayCustomOnLabelText auto-play-custom-off-label-text=$ctrl.autoPlayCustomOffLabelText /> </div> <ul class=row> <li class="related-list-item column xsmall-12" ng-class="{\'end\' : {{$index}} === $ctrl.relatedVideos.length - 1}" ng-repeat="relatedVideoItem in $ctrl.relatedVideos"> <responsive-video-item video-item=relatedVideoItem query-param=$ctrl.queryStrings item-clicked=$ctrl.videoItemClicked() list-style=true auto-play-status=$ctrl.autoPlayDefault related-videos=$ctrl.relatedVideos></responsive-video-item> </li> </ul> </div> <div ng-if=$ctrl.secondaryRelatedVideos.length class=secondary-related-videos> <h2 class="c-heading-5 related-video-label">{{$ctrl.secondaryRelatedVideoLabel}}</h2> <ul class=row> <li class="related-list-item column xsmall-12" ng-class="{\'end\' : {{$index}} === $ctrl.secondaryRelatedVideos.length - 1}" ng-repeat="secondaryRelatedVideoItem in $ctrl.secondaryRelatedVideos"> <responsive-video-item video-item=secondaryRelatedVideoItem item-clicked=$ctrl.secondaryRelatedVideoClicked() list-style=true auto-play-status=$ctrl.autoPlayDefault></responsive-video-item> </li> </ul> </div> </div>'},"./app/components/Video/RelatedVideos/RelatedVideos.less":function(e,t){},"./app/components/Video/RelatedVideos/RelatedVideos.ts":function(e,t,n){function r(){this.controller=i.RelatedVideosController,this.template=n("./app/components/Video/RelatedVideos/RelatedVideos.html"),this.bindings={video:"<",relatedVideoClicked:"&",secondaryRelatedVideoClicked:"&",relatedVideosList:"&",autoPlayToggleStatus:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/RelatedVideos/RelatedVideos.less");var i=n("./app/components/Video/RelatedVideos/RelatedVideosController.ts"),o=n("./app/utility/appUtil.ts");t.RelatedVideos=r,o.registerComponent("relatedVideos",r,angular.module("jumper"))},"./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItem.html":function(e,t){e.exports='<div class=responsive-video-item ng-class="{\'list-style\' : $ctrl.listStyle}"> <a ng-href={{$ctrl.getVideoPageUrl()}} ng-click=$ctrl.videoClicked() aria-label={{$ctrl.getVideoName}} class=video-item-image-link> <div class=video-item-thumb> <div class=video-item-image-link> <div class=video-item-image-container> <img ng-if=!$ctrl.isImageUrlsEmpty set-img-src={{$ctrl.videoItem.posterImage}} alt={{$ctrl.videoItem.name}} aria-hidden=true /> <svg-src ng-if="$ctrl.isImageUrlsEmpty && $ctrl.isLiveVideo" svg-name=live_video_poster_default class=svg-poster></svg-src> <svg-src ng-if="$ctrl.isAudioOnly && $ctrl.isImageUrlsEmpty" svg-name=icon_audio_bars class=audio-only-thumb style=fill:#fff></svg-src> <div ng-if=!$ctrl.isLiveVideo class=video-item-thumb-duration> {{$ctrl.videoItem.media.duration | videoDuration}} </div> </div> </div> <div class=new-tag ng-if="$ctrl.newVideo && !$ctrl.isLiveNow">{{::$ctrl.resources.NewBadgeLabel}}</div> <div ng-if=$ctrl.isLiveNow class="stream-pill pill-primary live-now-tag">{{::$ctrl.resources.LiveEventLiveNow}}</div> <div class=playback-progress-bar ng-if="$ctrl.videoItem.userData.isViewed && $ctrl.playbackProgressPercentage"> <progress-bar max=100 value=$ctrl.playbackProgressPercentage class=playback-progress aria-label=$ctrl.playbackProgessBarAriaLabel></progress-bar> </div> </div> <div class=detail-container> <h3 class=title-heading> <div class=video-item-title> <svg-src ng-if=$ctrl.isLiveVideo svg-name=icon_live_event ng-class="{\'live-icon-completed\' : $ctrl.isLiveVideoCompleted}" class=live-icon aria-label={{$ctrl.liveVideoIconAriaLabel}}></svg-src> <svg-src ng-if=$ctrl.isAudioOnly svg-name=icon_audio_bars class=audio-icon aria-label={{$ctrl.audioOnlyIconAriaLabel}}></svg-src> <span class=video-title-text aria-hidden=true custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </div> </h3> <div class=video-footer> <svg-src ng-if=$ctrl.isLiveVideo svg-name=icon_live_event ng-class="{\'live-icon-completed\' :  $ctrl.isLiveVideoCompleted}" class=live-icon aria-label={{::$ctrl.liveVideoIconAriaLabel}}></svg-src> <span ng-if="$ctrl.isLiveVideo && !$ctrl.isLiveVideoCompleted" class=live-footer-datetime>{{$ctrl.videoItem | liveEventThumbnailTime}}</span> <span class=playing-text ng-if=$ctrl.isVideoBeingPlayed>{{$ctrl.nowPlayingButtonText}}</span> <video-statistics ng-if="(!$ctrl.isLiveVideo || $ctrl.isLiveVideoCompleted) && !$ctrl.isVideoBeingPlayed" video-statistics-data=$ctrl.videoItem.metrics hide-likes=true></video-statistics> </div> </div> </a> </div>'},"./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItem.less":function(e,t){},"./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItem.ts":function(e,t,n){function r(){this.controller=i.ResponsiveVideoItemController,this.template=n("./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItem.html"),this.bindings={videoItem:"=",queryParam:"<",itemClicked:"&",newVideo:"<",showMedium:"<",listStyle:"<",isInAdminMode:"<",autoPlayStatus:"<",relatedVideos:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItem.less");var i=n("./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItemController.ts"),o=n("./app/utility/appUtil.ts");t.ResponsiveVideoItem=r,o.registerComponent("responsiveVideoItem",r,angular.module("jumper"))},"./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItemController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/services/NavigationService.ts");a.prototype.videoClicked=function(){var e,t=this;this.skipTo=this.relatedVideos.findIndex((function(e){return e.id===t.videoItem.id})),this.itemClicked(),this.featureFlagsService.Values.AutoPlay&&"channelId"in this.queryParam&&(e=this.navigationService.getQueryParamValue("skip"),this.queryParam.autoplay=String(this.autoPlayStatus),this.queryParam.skip=this.skipTo+Number(e))},a.prototype.getVideoPageUrl=function(){var e=angular.copy(this.queryParam||{});return this.isInAdminMode&&(e[r.Constants.DataQueryParams.IsInAdminMode]=!0),this.resumePosition&&(e.st=this.resumePosition),s.generatePathWithQueryStrings(r.Constants.Routes.Video,this.videoItem.id,e)},a.prototype.getposterImageAriaLabel=function(){return i.formatString(this.resources.VideoPosterImageAriaLabel,this.videoItem.name,o.getNarratorFriendlyTime(o.formatISODuration(this.videoItem.media.duration),this.resources.Units.Time))},Object.defineProperty(a.prototype,"liveVideoIconAriaLabel",{get:function(){return this.isLiveVideoCompleted?this.resources.LiveCompletedEventLabel:this.resources.LiveEventLabel},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isLiveVideo",{get:function(){return this.videoItem.contentSource===r.Constants.VideoContentSource.liveStream},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isLiveNow",{get:function(){return this.videoItem.state===r.Constants.VideoStatus.Live},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isLiveVideoCompleted",{get:function(){return this.isLiveVideo&&this.videoItem.state===r.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isImageUrlsEmpty",{get:function(){return o.isPosterImageUrlsEmpty(this.videoItem.posterImage)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"getVideoName",{get:function(){return this.videoItem.state===r.Constants.VideoStatus.Live?i.formatString(this.resources.VideoTitleAndViewsAriaLabel,this.videoItem.name,String(this.videoItem.metrics.views)):i.formatString(this.resources.VideoTitleDurationAndViewsAriaLabel,this.videoItem.name,o.getNarratorFriendlyTime(o.formatISODuration(this.videoItem.media.duration),this.resources.Units.Time),String(this.videoItem.metrics.views))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isVideoBeingPlayed",{get:function(){return this.navigationService.getAbsUrl().includes(this.videoItem.id)&&this.featureFlagsService.Values.AutoPlay&&this.$location.search().channelId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isAudioOnly",{get:function(){return this.videoItem.media&&this.videoItem.media.isAudioOnly},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"audioOnlyIconAriaLabel",{get:function(){return this.resources.AudioOnlyLabel},enumerable:!0,configurable:!0}),a.$inject=["resources","navigationService","featureFlagsService","inAdminModeService","$location"],n=a;function a(e,t,n,r,i){this.resources=e,this.navigationService=t,this.featureFlagsService=n,this.inAdminModeService=r,this.$location=i,this.nowPlayingButtonText=this.resources.NowPlayingText,this.$location.search(),this.featureFlagsService.Values.ResumePlayback&&this.videoItem.userData&&this.videoItem.userData.isViewed&&(r=o.formatISODurationToSeconds(this.videoItem.media.duration),(i=this.videoItem.userData&&this.videoItem.userData.lastViewPosition?o.formatISODurationToSeconds(this.videoItem.userData.lastViewPosition):null)&&r&&(this.playbackProgressPercentage=i/r*100,(30<i||i<r-30)&&(this.resumePosition=i)))}t.ResponsiveVideoItemController=n},"./app/components/Video/Transcript/Transcript.html":function(e,t){e.exports='<div class=transcript> <div class=transcript-loading ng-show=$ctrl.isLoadingState> <loading-panel></loading-panel> </div> <div class=error ng-if=$ctrl.isErrorState> <custom-error-message error-message=$ctrl.resources.Components.Transcript.FailureMessage></custom-error-message> </div> <div ng-show="!$ctrl.isLoadingState && !$ctrl.isErrorState" class=transcript-inner ng-class="{\'new\': $ctrl.isTranscriptEditV3Enabled}"> <virtual-list class=transcript-list items=$ctrl.transcriptLines ng-if=$ctrl.transcriptLines.length is-auto-scrolling=$ctrl.isAutoScrollingState force-update-to-index=$ctrl.forceUpdateToIndex force-scroll-to-item=$ctrl.forceScrollToItem user-interacted=$ctrl.enterUserInteractionMode() apply-shadow=true video-id=$ctrl.video.id scrollable-content-aria-label=$ctrl.resources.TranscriptVirtualListAriaLabel> <ul> <li ng-if=line ng-repeat="line in $vs_renderItems track by line.id" ng-class="$ctrl.shouldHighlight(line) ? \'highlight-line\' : \'default-line\'" role=listitem ng-click=$ctrl.onTranscriptClicked(line) aria-label={{$ctrl.lineAriaLabel(line)}} id=transcript-{{line.id}} aria-posinset="{{line.index + 1}}" aria-setsize={{$ctrl.transcriptLines.length}} class="transcript-line c-caption-1" tabindex=0> <div class=transcript-line-wrapper ng-if=$ctrl.areTranscriptNewEditButtonsEnabled> <div class="transcript-timestamp new" tabindex=-1 aria-label={{$ctrl.lineAriaLabel(line)}} ng-click=$ctrl.onTranscriptClicked(line)> {{$ctrl.getTimeStamp(line.start)}} </div> <div class=transcript-text-container> <div class="transcript-text new" ng-class="{editable: $ctrl.isActiveEdit(line)}" contenteditable=$ctrl.isActiveEdit(line) ng-focus="$ctrl.onTranscriptFocused($event, line)" vlist-index={{line.index}} ng-keydown=$ctrl.onTextKeyDown($event) ng-blur=$ctrl.onTranscriptBlur()> {{::line.eventData.text}} </div> <div class=transcript-text-action-bar ng-class="{visible: $ctrl.shouldShowActionBar(line)}" ng-switch on=$ctrl.transcriptSavingStatus> <loading-panel message=$ctrl.resources.Saving ng-switch-when=0></loading-panel> <div class="transcript-text-action-status transcript-text-saved-status" ng-switch-when=1> <svg-src svg-name=icon_checkmark inline-with-text=true class=action-status-icon></svg-src> {{::$ctrl.resources.ChangesSaved}} </div> <div class="transcript-text-action-status transcript-text-failed-status" ng-switch-when=2> <svg-src svg-name=icon_warning inline-with-text=true class=action-status-icon></svg-src> {{::$ctrl.resources.SaveFailed}} </div> <div class="transcript-text-action-status transcript-text-failed-status" ng-switch-when=3> <svg-src svg-name=icon_warning inline-with-text=true class=action-status-icon></svg-src> {{::$ctrl.resources.SaveFailedRefresh}} </div> <div class=transcript-text-action-buttons ng-switch-default> <div class=transcript-text-action-left-buttons> <button class="stream-btn discard-btn" ng-click=$ctrl.discard()> {{::$ctrl.resources.Discard}} </button> <button class="stream-btn save-btn" type=submit ng-class="{\'btn-primary\': $ctrl.isTranscriptModified}" ng-click="$ctrl.save($event, line)"> {{::$ctrl.resources.Save}} </button> </div> <div class=transcript-text-action-divider></div> <div class=transcript-text-action-right-buttons> <button class="stream-btn replay-btn" type=submit ng-click="$ctrl.replay($event, line)" aria-label={{::$ctrl.resources.Components.Transcript.Replay}} ng-mouseover=$ctrl.applyActiveStyleToReplayButton() ng-mouseleave=$ctrl.applyInactiveStyleToReplayButton() ng-focus=$ctrl.applyActiveStyleToReplayButton() ng-blur=$ctrl.applyInactiveStyleToReplayButton() custom-title={{::$ctrl.resources.Components.Transcript.ReplayTooltip}}> <svg-src svg-name=icon_replay inline-with-text=true class=replay-icon></svg-src> </button> </div> </div> </div> </div> </div> <div class=transcript-line-wrapper ng-if=!$ctrl.areTranscriptNewEditButtonsEnabled> <div class=transcript-timestamp aria-label={{$ctrl.lineAriaLabel(line)}} ng-keydown="$ctrl.onTimeKeyDown(line, $event)">{{$ctrl.getTimeStamp(line.start)}}</div> <div class=transcript-text ng-class="{editable: $ctrl.isActiveEdit(line)}" contenteditable=$ctrl.isActiveEdit(line) ng-focus="$ctrl.onTranscriptFocused($event, line)" vlist-index={{line.index}} ng-keydown=$ctrl.onTextKeyDown($event) ng-blur=$ctrl.onTranscriptBlur()> {{::line.eventData.text}} </div> <span class=actions ng-if=$ctrl.isActiveEdit(line)> <button class="c-action-trigger replay" ng-click="$ctrl.replay($event, line)" aria-label={{::$ctrl.resources.Components.Transcript.Replay}} custom-title={{::$ctrl.resources.Components.Transcript.ReplayTooltip}} disabled=disabled> <svg-src svg-name=icon_replay inline-with-text=true class=replay-icon></svg-src> </button> <button class="c-action-trigger resume" ng-click="$ctrl.resume($event, line)" ng-blur="$ctrl.resume($event, line)" aria-label={{::$ctrl.resources.Components.Transcript.Resume}} custom-title={{::$ctrl.resources.Components.Transcript.ResumeTooltip}} disabled=disabled> <svg-src svg-name=icon_resume inline-with-text=true class=resume-icon></svg-src> </button> </span> </div> </li> </ul> </virtual-list> <div class=panel-footer ng-if=!$ctrl.isTranscriptEditV3Enabled ng-class="{\'saving-status-displayed\': $ctrl.transcriptSavingStatus, \'edit-mode\': !$ctrl.displayAutoScroll}"> <div class=actions> <button class="c-action-trigger edit-button" ng-click=$ctrl.actionHandler() ng-if="($ctrl.isUserCanEdit || $ctrl.isAdmin) && $ctrl.isTranscriptEditFlagEnabled"> <span class=svg-cont> <svg-src svg-name=icon_edit></svg-src> </span> <span>{{$ctrl.actionLabel}}</span> </button> <div class=autoscroll> <span ng-if=!$ctrl.shouldDisplayAutoScrollButton class="autoscroll icon-and-disc"> <span class=svg-cont> <svg-src svg-name=icon_auto_scroll></svg-src> </span> <span class=autoscroll-desc ng-if="!$ctrl.isTranscriptEditMode && $ctrl.displayAutoScroll"> {{::$ctrl.resources.Components.Transcript.AutoScrollEnabled}} </span> </span> <button class=c-action-trigger ng-if=$ctrl.shouldDisplayAutoScrollButton ng-click=$ctrl.enableAutoScroll() aria-label={{::$ctrl.resources.Components.Transcript.EnableAutoScroll}}> <span class=svg-cont title={{::$ctrl.resources.Components.Transcript.EnableAutoScroll}}> <svg-src svg-name=icon_auto_scroll></svg-src> </span> </button> </div> </div> <div class=action-status ng-switch on=$ctrl.transcriptSavingStatus ng-if="!$ctrl.displayAutoScroll && !$ctrl.areTranscriptNewEditButtonsEnabled"> <span class="saving icon-and-disc" ng-switch-when=0>{{$ctrl.resources.Saving}}</span> <span class="saved icon-and-disc" ng-switch-when=1> <span class=svg-cont> <svg-src svg-name=icon_checkmark inline-with-text=true class=action-button-svg></svg-src> </span> <span class=action-button-label>{{$ctrl.resources.ChangesSaved}}</span> </span> <span class="error icon-and-disc" ng-switch-when=2> <span class=svg-cont> <svg-src svg-name=icon_warning inline-with-text=true class=action-button-svg></svg-src> </span> <span class=action-button-label>{{$ctrl.resources.SaveFailed}}</span> </span> <span class=default ng-switch-default></span> </div> </div> </div> </div> '},"./app/components/Video/Transcript/Transcript.less":function(e,t){},"./app/components/Video/Transcript/Transcript.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/components/Video/Transcript/TranscriptController.ts"),i=n("./app/utility/appUtil.ts");function o(){this.controller=r.TranscriptController,this.template=n("./app/components/Video/Transcript/Transcript.html"),this.bindings={video:"<",playerTime:"<",isAdmin:"<",onInit:"&",rightDrawerItems:"=",bottomDrawerItems:"="}}n("./app/components/Video/Transcript/Transcript.less"),t.Transcript=o,i.registerComponent("transcript",o,angular.module("jumper"))},"./app/components/Video/VideoMetadata/VideoMetadata.html":function(e,t){e.exports='<section> <div class=video-meta-container> <div class="row row-size1"> <div ng-if=$ctrl.showErrorMessage class="error-message-container column"> <div class="error-message-content c-heading-5"> {{::$ctrl.errorMessage}} </div> </div> </div> <div class="row column main-meta row-size0 remove-margin"> <div class=title-container ng-class="{\'title-with-live\': $ctrl.isLiveNow, \'title-with-completed\': $ctrl.isCompleted, \'title-before-live\': $ctrl.isLiveContent && !$ctrl.isCompleted}"> <span class=live-label-cont> <span ng-if=$ctrl.isLiveNow class="stream-pill pill-primary"> {{::$ctrl.resources.LiveEventLiveNow}} </span> </span> <span class=live-icon ng-if="$ctrl.isLiveContent && !$ctrl.isCompleted && !$ctrl.isLiveNow && !$ctrl.isReplacing && !$ctrl.isTrimming"> <svg-src svg-name=icon_live_event class=live-icon aria-label={{$ctrl.liveVideoIconAriaLabel}}></svg-src> </span> <span class=live-completed-cont ng-if="$ctrl.isLiveContent && $ctrl.isCompleted"> <svg-src svg-name=icon_live_event class=live-icon-completed aria-label={{$ctrl.liveVideoIconAriaLabel}}></svg-src> </span> <h1 class=title> {{$ctrl.video.name}} </h1> </div> <div class=creator-and-privacy> <div class=video-create-message> <video-creator item=$ctrl.video get-creator-message-template=$ctrl.getCreateMessageTemplate()> </video-creator> </div> <div class=privacy-and-statistics> <video-privacy class=video-privacy video-privacy-type=$ctrl.video.privacyMode></video-privacy> <video-statistics ng-if=!$ctrl.isLiveNow video-statistics-data=$ctrl.video.metrics show-icons=true></video-statistics> <video-analytics ng-if=$ctrl.isLiveNow video=$ctrl.video is-producer=false is-small-size=true></video-analytics> </div> </div> <read-less-read-more class=video-description text-content=$ctrl.video.description default-max-lines=2 use-ellipsis=true on-render=$ctrl.videoDescriptionRender(actualLines) toggle-event=$ctrl.seeMore on-time-tag-clicked=$ctrl.onTimeTagClicked() ng-if=$ctrl.video.description telemetry-tracker=$ctrl.featureTelemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> <div class="row column see-more-less-container" ng-if=$ctrl.showSeeMoreSeeLessButton> <div class=space-holder></div> <div> <button class="c-action-trigger see-more-see-less-button" ng-click=$ctrl.onSeeMoreClick(!$ctrl.seeMore) ng-class=$ctrl.seeMoreLessButtonClass> {{$ctrl.seeMoreLessButtonText}} </button> </div> <div class=space-holder></div> </div> </div> <div class="row column divider" ng-if=!$ctrl.showSeeMoreSeeLessButton> <hr class=c-divider> </div> <div class="row row-size0 action-trigger"> <div class="column xsmall-10 small-7 medium-8 large-8 relativeposition"> <div class=video-action-trigger> <button class="c-action-trigger c-glyph action-button video-action-share" ng-click=$ctrl.onShareClick() aria-label={{::$ctrl.resources.Share}} ng-if=$ctrl.video.userData.permissions.canShareUrl> <span class=action-button-svg-container><svg-src svg-name=icon_share inline-with-text=true class=action-button-svg></svg-src></span> <span class=action-button-label>{{::$ctrl.resources.Share}}</span> </button> <button class="c-action-trigger c-glyph action-button video-action-unpin" ng-click=$ctrl.onPinButtonClick() ng-disabled=$ctrl.pinButtonDisabled aria-label={{::$ctrl.resources.RemoveFromWatchList}} ng-if=$ctrl.video.userData.isPinned> <span class=action-button-svg-container><svg-src svg-name=icon-remove-from-watchlist inline-with-text=true class="action-button-svg video-action-unpin"></svg-src></span> <span class=action-button-label>{{::$ctrl.resources.RemoveFromWatchList}}</span> </button> <button class="c-action-trigger c-glyph action-button video-action-pin" ng-click=$ctrl.onPinButtonClick() ng-disabled=$ctrl.pinButtonDisabled aria-label={{::$ctrl.resources.AddToWatchList}} ng-if=!$ctrl.video.userData.isPinned> <span class=action-button-svg-container><svg-src svg-name=icon-add-to-watchlist inline-with-text=true class="action-button-svg video-action-pin"></svg-src></span> <span class=action-button-label>{{::$ctrl.resources.AddToWatchList}}</span> </button> <button class="c-action-trigger c-glyph action-button video-like" ng-click=$ctrl.onLikeClick() ng-disabled=$ctrl.likeButtonDisabled aria-label={{::$ctrl.resources.UnLikeButtonAriaLabel}} ng-if=$ctrl.video.userData.isLiked> <span class=action-button-svg-container><svg-src svg-name=icon_liked_likes inline-with-text=true class="action-button-svg video-action-unlike"></svg-src></span> <span class=action-button-label>{{::$ctrl.resources.Liked}}</span> </button> <button class="c-action-trigger c-glyph action-button video-like" ng-click=$ctrl.onLikeClick() ng-disabled=$ctrl.likeButtonDisabled aria-label={{::$ctrl.resources.LikeButtonAriaLabel}} ng-if=!$ctrl.video.userData.isLiked> <span class=action-button-svg-container><svg-src svg-name=icon_likes inline-with-text=true class="action-button-svg video-action-like"></svg-src></span> <span class=action-button-label>{{::$ctrl.resources.LikeButtonAriaLabel}}</span> </button> <drawer class="action-drawer action-drawer-with-label" drawer-items=$ctrl.drawerItems></drawer> <react-share-dialog start-time=$ctrl.shareStartTime show-dialog=$ctrl.showShareDialog resource-id=$ctrl.video.id share-type=0 is-email-enabled=0 has-manage-permissions=$ctrl.hasManagePermissions manage-permissions-link=$ctrl.editVideoDetailsLink current-video-permissions=$ctrl.currentVideoPermissions is-teams-share-enabled=0 on-close=::$ctrl.onShareDialogClosed ng-if=$ctrl.isReactShareDialogEnabled() update-permissions=$ctrl.updatePermissions(currentPermissions) redirect-to-edit=$ctrl.redirectToEdit() /> </div> </div> <div class="column xsmall-2 small-5 medium-4 large-4 video-action-trigger view-settings-button"> <drawer drawer-items=$ctrl.viewSettings ng-if=$ctrl.viewSettings.length> <transcludebutton> <button class="c-action-trigger drawer-button-stream action-button drawer-button-with-label" aria-label={{::$ctrl.resources.ViewSettings}} aria-expanded=false> <span class=drawer-icon-container><svg-src svg-name=icon_settings inline-with-text=true class="action-button-svg video-action-unpin"></svg-src></span> <span class=drawer-label>{{::$ctrl.resources.ViewSettings}}</span> <span class=drawer-icon-container><svg-src class=drawer-down-arrow svg-name=icon_down_arrow inline-with-text=true></svg-src></span> </button> </transcludebutton> </drawer> </div> </div> </div> </section>'},"./app/components/Video/VideoMetadata/VideoMetadata.less":function(e,t){},"./app/components/Video/VideoMetadata/VideoMetadata.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/components/Video/VideoMetadata/VideoMetadataController.ts"),i=n("./app/utility/appUtil.ts");function o(){this.controller=r.VideoMetadataController,this.template=n("./app/components/Video/VideoMetadata/VideoMetadata.html"),this.bindings={video:"<",isInAdminMode:"<",elevatedVideoSessionProperties:"<",dialogInterruptionHandler:"<",videoPageSessionProperties:"<",playerOptions:"<",getPlayerCurrentTime:"&",drawerItems:"<",viewSettings:"<",videoPageSessionMetrics:"<",isStreamAdmin:"<",isLiveNow:"<",isLiveContent:"<",isCompleted:"<",isReplacing:"<",isTrimming:"<"}}n("./app/components/Video/VideoMetadata/VideoMetadata.less"),t.VideoMetadata=o,i.registerComponent("videoMetadata",o,angular.module("jumper"))},"./app/components/Video/VideoMetadata/VideoMetadataController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),i=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts"),a=n("./common/Directives/Drawer/Drawer.ts"),l=n("./app/components/Creator/CreatorController.ts"),c=n("./app/utility/LiveEventUtils.ts"),d=n("./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts");u.prototype.updatePermissions=function(e){this.currentVideoPermissions=this.video?e:""},u.prototype.redirectToEdit=function(){var e=this.video.liveEvent&&"completed"!==this.video.state?s.Constants.Routes.Update:s.Constants.Routes.VideoUpdate;this.navigationService.redirect(o.formatString(e,this.video.id))},u.prototype.onShareDialogClosed=function(){this.featureFlagsService.Values.ReactShareDialog&&(this.showShareDialog=!1),this.$scope.$apply(),this.dialogInterruptionHandler.recover(),$(".video-action-share",this.$element).focus()},u.prototype.watchListVideosClicked=function(){this.videoPageSessionProperties.ExitBy=s.Constants.ExitBy.watchListVideoClicked},u.prototype.channelClicked=function(){this.videoPageSessionProperties.ExitBy=s.Constants.ExitBy.channelClicked},u.prototype.groupClicked=function(){this.videoPageSessionProperties.ExitBy=s.Constants.ExitBy.groupClicked},u.prototype.onTimeTagClicked=function(){this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.timeTagClickedEventName,{source:s.Constants.TagClickSource.VideoPageDescription,id:this.video.id})},u.prototype.onEdit=function(e){void 0===e&&(e=!1);var t={};return e&&(this.ignoreAdminModeLogging=!0,t[s.Constants.QueryStringKeys.AdminMode]="true",t[s.Constants.QueryStringKeys.entryPoint]=r.ElevatedItemEntryPoint.AdminAccessOnlyBar,t[s.Constants.QueryStringKeys.hasPlayed]=this.isInAdminMode,t[s.Constants.QueryStringKeys.srcScreen]=r.ScreenName.Video,this.dataShareService.cache[s.Constants.CacheKey.ElevatedVideoIdKey+this.video.id]=this.elevatedVideoSessionProperties),this.navigationService.navigate(o.formatString(this.isLiveContent?s.Constants.Routes.Update:s.Constants.Routes.VideoUpdate,this.video.id),t),this.$q.resolve()},u.prototype.onDeleteVideo=function(){var e=this,t=this.$q.defer();return this.showErrorMessage=!1,this.deleteConfirmationDialogService.show(this.resources.ResourceType.Video.LowerSingular,this.video.name,!1,this.video.id,this.isInAdminMode).then((function(){e.featureTelemetryTracker.setResourceId(e.video.id),e.videoService.delete(e.video.id,e.isInAdminMode).then((function(){e.videoPageSessionProperties.deleteClicked=!0,e.featureTelemetryTracker.succeed(r.FeatureName.DeleteVideo),e.navigationService.navigate(s.Constants.Routes.Studio)}),(function(t){e.showErrorMessage=!0,e.errorMessage=e.resources.VideoDeleteFailed,t.status<500&&(e.errorMessage=o.formatString("{0} {1}",e.errorMessage,t.data.error)),e.featureTelemetryTracker.fail(r.FeatureName.DeleteVideo,r.SubFeatureName.VideoService_DeleteVideo,t)}))})).finally((function(){t.resolve()})),t.promise},u.prototype.onDownload=function(){return this.videoDownloadUrl&&this.mediaDownloaderService.downloadFile(this.videoDownloadUrl),this.$q.resolve()},Object.defineProperty(u.prototype,"isVideoEditorEnabled",{get:function(){return this.featureFlagsService.Values.VideoEditor&&!d.isBrowserBlacklisted(navigator&&navigator.userAgent||"")&&!(!this.video.media||!this.video.media.duration)&&"PT0S"!==this.video.media.duration},enumerable:!0,configurable:!0}),u.prototype.onTrim=function(){if(this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.VideoEditorLoaded,{durationInSec:this.video.media&&this.video.media.duration?i.formatISODurationToSeconds(this.video.media.duration):-1,videoType:this.video.contentType,videoContentSource:this.video.contentSource}),!this.video||!this.video.playbackUrls||_.isEmpty(this.video.playbackUrls))return this.$q.resolve();var e=this.video.playbackUrls.filter((function(e){return"application/dash+xml"===e.mimeType}));return!e||_.isEmpty(e)||(this.dialogInterruptionHandler.wasPaused||(this.dialogInterruptionHandler.pauseVideoAndSaveContext(),this.dialogInterruptionHandler.suppressAutoplay()),e=e[0],this.videoEditorDialog.open({source:e.playbackUrl,sourceType:e.mimeType,videoContentSource:this.video.contentSource,videoContentVersion:this.video.contentVersion,videoType:this.video.contentType,videoId:this.video.id,videoName:this.video.name,videoDimensions:this.video.media&&{height:this.video.media.height,width:this.video.media.width},isInAdminMode:this.isInAdminMode})),this.$q.resolve()},u.prototype.addDownloadActionItems=function(){var e=this;this.isLiveNow||c.isNonRecordedLiveEvent(this.video)||this.mediaDownloaderService.getAssetFileUrl(this.video.id,s.Constants.VideoFileType.video,this.featureTelemetryTracker,this.isInAdminMode).then((function(t){e.videoDownloadUrl=t,e.drawerItems.push(new a.DrawerItem("download-button",e.resources.Download,e.onDownload.bind(e),"icon_download"))})),this.video.contentType!==s.Constants.VideoContentType.presentation||c.isNonRecordedLiveEvent(this.video)||this.videoService.getFiles(this.video.id,this.isInAdminMode).then((function(t){t=t.data.value,(t=_.find(t,(function(e){return e.type===s.Constants.VideoFileType.presentation})))&&t.downloadUrl?(e.drawerItems.push(new a.DrawerItem("download-ppt-button",e.resources.DownloadPPT,e.onDownloadPPT.bind(e),"icon_download")),e.pptFileUrl=t.downloadUrl):e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.presentationFileMissing)}))},u.prototype.createActionItems=function(){var e;this.drawerItems.push(new a.DrawerItem("Linked-group-or-channel",this.resources.LinkedGroupOrChannel,this.onLinkedGroupOrChannel.bind(this),"icon_channel_poster")),!this.video.userData.permissions.canEdit&&this.video.privacyMode!==s.Constants.privacyMode.organization||this.drawerItems.push(new a.DrawerItem("add-to-group-channel",this.resources.AddToGroupChannel,this.onAddToGroupChannel.bind(this),"icon-add-to-channel")),(this.isInAdminMode||this.video.userData.permissions.canEdit)&&this.drawerItems.push(new a.DrawerItem("icon-edit",this.resources.UpdateVideoDetails,this.onEdit.bind(this),"icon_edit")),this.video.userData.permissions.canEdit&&this.isVideoEditorEnabled&&!c.isNonRecordedLiveEvent(this.video)&&(this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.VideoEditOptionDisplayedOnVideoPage,{id:this.video.id}),this.drawerItems.push(new a.DrawerItem("icon-trim",this.resources.TrimVideo,this.onTrim.bind(this),"icon_trim",!this.isTrimming&&!this.isReplacing&&this.isCompleted))),this.replaceVideoService.canReplace(this.video)&&(e=c.isNonRecordedLiveEvent(this.video)?this.resources.ReplaceVideo.UploadNewVideo:this.resources.ReplaceVideo.ReplaceVideo,this.drawerItems.push(new a.DrawerItem("replace-button",e,this.onReplace.bind(this),"icon_upload"))),this.video.userData.permissions.canDelete&&this.drawerItems.push(new a.DrawerItem("delete-button",this.resources.Delete,this.onDeleteVideo.bind(this),"icon_delete")),(this.isInAdminMode||this.video.userData.permissions.canDownload)&&this.addDownloadActionItems()},u.prototype.onDownloadPPT=function(){return this.pptFileUrl&&this.mediaDownloaderService.downloadFile(this.pptFileUrl),this.$q.resolve()},u.prototype.onLikeClick=function(){var e=this;this.likeButtonDisabled=!0,this.showErrorMessage=!1,this.videoPageSessionProperties.LikeClicked=!0,(this.video.userData.isLiked?this.videoService.unLike(this.video.id,this.isInAdminMode).then((function(t){e.isInAdminMode&&(e.elevatedVideoSessionProperties.userUnlikedVideoAsAdmin=!0),e.video.userData.isLiked=!1,--e.video.metrics.likes,e.likeButtonDisabled=!1,e.featureTelemetryTracker.succeed(r.FeatureName.UnlikeVideo)}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.UnlikeVideo,r.SubFeatureName.VideoService_Unlike,t),e.handleActionError(e.resources.VideoUnlikeFailed,t),e.likeButtonDisabled=!1})):this.videoService.like(this.video.id,this.isInAdminMode).then((function(t){e.video.userData.isLiked=!0,e.isInAdminMode&&(e.elevatedVideoSessionProperties.userLikedVideoAsAdmin=!0),e.video.metrics.likes+=1,e.likeButtonDisabled=!1,e.featureTelemetryTracker.succeed(r.FeatureName.LikeVideo)}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.LikeVideo,r.SubFeatureName.VideoService_Like,t),e.handleActionError(e.resources.VideoLikeFailed,t),e.likeButtonDisabled=!1}))).finally((function(){setTimeout((function(){$(".video-like",e.$element).focus()}),0)}))},u.prototype.onShareClick=function(){var e=this;this.showErrorMessage=!1,this.dialogInterruptionHandler.pauseVideoAndSaveContext(),this.featureFlagsService.Values.ReactShareDialog?(this.showShareDialog=!0,this.shareStartTime=Math.floor(this.getPlayerCurrentTime())):this.videoShareDialog.open(this.video,this.playerOptions,this.getPlayerCurrentTime()).closePromise.then((function(){e.dialogInterruptionHandler.recover()})).finally((function(){$(".video-action-share",e.$element).focus()}))},u.prototype.isReactShareDialogEnabled=function(){return this.featureFlagsService.Values.ReactShareDialog},u.prototype.onPinButtonClick=function(){var e=this;this.showErrorMessage=!1,this.pinButtonDisabled=!0,this.video.userData.isPinned?this.videoService.unPinVideo(this.video.id,this.isInAdminMode).then((function(t){e.videoPageSessionProperties.RemoveFromWatchlist=!0,e.video.userData.isPinned=!1,e.isInAdminMode&&(e.elevatedVideoSessionProperties.userUnpinnedVideoAsAdmin=!0),e.featureTelemetryTracker.succeed(r.FeatureName.UnpinVideo),e.pinButtonDisabled=!1,setTimeout((function(){e.$element.find(".video-action-pin").focus()}),0)}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.UnpinVideo,r.SubFeatureName.VideoService_UnpinVideo,t),e.handleActionError(e.resources.VideoUnpinFailed,t)})):this.videoService.pinVideo(this.video.id,this.isInAdminMode).then((function(t){e.video.userData.isPinned=!0,e.videoPageSessionProperties.AddToWatchlist=!0,e.isInAdminMode&&(e.elevatedVideoSessionProperties.userPinnedVideoAsAdmin=!0),e.featureTelemetryTracker.succeed(r.FeatureName.PinVideo),e.pinButtonDisabled=!1,setTimeout((function(){e.$element.find(".video-action-unpin").focus()}),0)}),(function(t){e.featureTelemetryTracker.fail(r.FeatureName.PinVideo,r.SubFeatureName.VideoService_PinVideo,t),e.handleActionError(e.resources.VideoPinFailed,t)}))},u.prototype.onSeeMoreClick=function(e){this.seeMore=e},u.prototype.onLinkedGroupOrChannel=function(){var e=this,t=this.$q.defer();return this.getChannels().then((function(){e.transformChannelsGroups(),e.relatedChannelsDialog.open(e.groups,e.video,e.goToChannel.bind(e),e.goToGroup.bind(e)),e.featureTelemetryTracker.succeed(r.FeatureName.GetVideoChannels),t.resolve()}),(function(n){e.featureTelemetryTracker.fail(r.FeatureName.GetVideoChannels,r.SubFeatureName.VideoService_GetVideoChannels,n),e.relatedChannelsDialog.openWithErrorMessage(e.video,e.resources.LinkedGroupOrChannelErrorMessage),t.reject(n)})),t.promise},u.prototype.goToChannel=function(e){this.channelClicked(),this.navigationService.navigate(o.formatString(s.Constants.Routes.Channel,e))},u.prototype.goToGroup=function(e){this.groupClicked(),this.navigationService.navigate(o.formatString(s.Constants.Routes.Group,e))},u.prototype.onAddToGroupChannel=function(){var e=this,t=this.$q.defer();return this.showErrorMessage=!1,this.videoPageSessionProperties.AddToChannelClicked=!0,this.dialogInterruptionHandler.pauseVideoAndSaveContext(),this.addGroupChannelsDialog.open(this.video,this.isInAdminMode).closePromise.then((function(t){var n;t.value&&t.value.addedToChannel&&(n=e.relatedChannels.length,e.getChannels().then((function(t){e.videoPageSessionMetrics.ChannelsAdded=t.length-n}))),e.dialogInterruptionHandler.recover()})).finally((function(){t.resolve()})),t.promise},u.prototype.getChannels=function(){var e=this;return this.videoService.getChannels(this.video.id,this.isInAdminMode,!0).then((function(t){return e.relatedChannels=t||[],t}))},u.prototype.onAddToChannel=function(){var e=this,t=this.$q.defer();return this.showErrorMessage=!1,this.videoPageSessionProperties.AddToChannelClicked=!0,this.dialogInterruptionHandler.pauseVideoAndSaveContext(),this.addChannelsDialog.open(this.video.id,this.relatedChannels).closePromise.then((function(t){var n;t&&(n=e.relatedChannels.length,e.getChannels().then((function(t){e.videoPageSessionMetrics.ChannelsAdded=t.length-n}))),e.dialogInterruptionHandler.recover()})).finally((function(){t.resolve()})),t.promise},u.prototype.getCreateMessageTemplate=function(){if(this.isLiveContent){var e=this.video.liveEvent.startTime,t=moment(e).local().format("LT"),n=this.video.state===s.Constants.VideoState.completed;return this.isLiveNow||n?o.formatString(this.resources.LiveEventStartAtTimeDate,t,i.formatISODateTimeToDate(e),l.processNameTemplate(this.video.creator.name)):o.formatString(this.resources.LiveEventScheduledAtTimeDate,t,i.formatISODateTimeToDate(e),l.processNameTemplate(this.video.creator.name))}return this.video.published?o.formatString(this.resources.Controllers.Video.PublishedMessage,i.formatISODateTimeToDate(this.video.publishedDate),l.processNameTemplate(this.video.creator.name)):o.formatString(this.resources.Controllers.Video.UploadedMessage,i.formatISODateTimeToDate(this.video.created),l.processNameTemplate(this.video.creator.name))},Object.defineProperty(u.prototype,"seeMoreLessButtonText",{get:function(){return this.seeMore?this.resources.SeeLess:this.resources.SeeMore},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"seeMoreLessButtonClass",{get:function(){return this.seeMore?"see-less":"see-more"},enumerable:!0,configurable:!0}),u.prototype.videoDescriptionRender=function(e){this.videoDescActualLines=e},Object.defineProperty(u.prototype,"showSeeMoreSeeLessButton",{get:function(){return 2<this.videoDescActualLines||$(window).width()<=s.Constants.ScreenBreakpoints.Small},enumerable:!0,configurable:!0}),u.prototype.handleActionError=function(e,t){this.showErrorMessage=!0,this.errorMessage=e,t.status<500&&(this.errorMessage=o.formatString("{0} {1}",this.errorMessage,t.data.error))},u.prototype.transformChannelsGroups=function(){this.groups=[];var e={};if(this.relatedChannels)for(var t in this.relatedChannels.forEach((function(t){var n=t.group?t.group.id:"0";void 0===e[n]&&(e[n]=t.group||{isDefault:!0},e[n].channels=[]),e[n].channels.push(t)})),e)this.groups.push(e[t])},u.prototype.onReplace=function(){this.replaceVideoService.openReplaceVideoDialog(this.video.id,this.isLiveContent)},u.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","videoShareDialog","navigationService","$window","addGroupChannelsDialog","addChannelsDialog","$location","deleteConfirmationDialogService","dataShareService","$timeout","mediaDownloaderService","$rootScope","$element","$q","RelatedChannelsDialog","videoEditorDialog","replaceVideoService"],n=u;function u(e,t,n,i,a,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C,$){this.$scope=e,this.videoService=t,this.resources=n,this.telemetryService=i,this.featureFlagsService=a,this.videoShareDialog=l,this.navigationService=c,this.$window=d,this.addGroupChannelsDialog=u,this.addChannelsDialog=p,this.$location=m,this.deleteConfirmationDialogService=h,this.dataShareService=g,this.$timeout=f,this.mediaDownloaderService=v,this.$rootScope=y,this.$element=b,this.$q=S,this.relatedChannelsDialog=_,this.videoEditorDialog=C,this.replaceVideoService=$,this.showErrorMessage=!1,this.pinButtonDisabled=!1,this.errorMessage="",this.seeMore=!1,this.likeButtonDisabled=!1,this.relatedChannels=[],this.groups=[],this.shareStartTime=0,this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Video,r.ResourceType.Video,this.video.id),this.featureTelemetryTracker.tagScreen(),this.createActionItems(),this.tagClickedTelemetryProperties={source:s.Constants.TagClickSource.VideoPageDescription,id:this.video?this.video.id:""},this.showShareDialog=!1,this.onShareDialogClosed=this.onShareDialogClosed.bind(this),this.hasManagePermissions=this.video.userData.permissions.canEdit,this.currentVideoPermissions=this.video?this.video.privacyMode.toString():"",this.editVideoDetailsLink=this.video?o.formatString(this.isLiveContent?s.Constants.Routes.Update:s.Constants.Routes.VideoUpdate,this.video.id):""}t.VideoMetadataController=n},"./app/components/Video/VideoPage/VideoPage.html":function(e,t){e.exports='<div ng-show=$ctrl.videoEditorInactive> <div class=message-bar ng-if=$ctrl.showMessageBar> <div class=warning-icon><svg-src svg-name=icon_warning class=action-button-svg></svg-src></div> <div class=replace-bar ng-if=$ctrl.showReplaceBar role=alert aria-label={{::$ctrl.resources.ReplaceVideo.ReplaceBar}}> <div class=replace-bar-text>{{::$ctrl.resources.ReplaceVideo.ReplaceBar}}</div> </div> <div class=trim-bar ng-if=$ctrl.showTrimBar role=alert aria-label={{::$ctrl.resources.TrimBar}}> <div class=trim-bar-text>{{::$ctrl.resources.TrimBar}}</div> </div> </div> <live-preview-bar ng-if="!$ctrl.isLiveGAEnabled && $ctrl.isLiveContent && !$ctrl.isCompleted"></live-preview-bar> <div class=read-only-mode-banner ng-if=$ctrl.isReadOnlyVideo> {{::$ctrl.resources.ReadonlyVideoPageBanner}} </div> <div class="container video" ng-class="{\'admin-elevated-mode\':$ctrl.isInAdminMode}"> <div class=main-area> <section class=player-area aria-label={{::$ctrl.resources.VideoPage.Player.SectionLabel}}> <div ng-switch on=$ctrl.routingCase> <div ng-class="!$ctrl.showMetadata?\'blank-fill\':\'\'"> <div ng-switch-when=Normal> <div class=video-player-container role=presentation> <div class="row sub-header"> </div> <div class=row> <div id=player-wrapper class="column xsmall-12 medium-8 large-8 small-6" ng-class="{\'medium-12 large-12\': $ctrl.display12Column, \'medium-12\': $ctrl.showRightContainer || $ctrl.isCompletedOnLoad}"> <div class=player-content-wrapper169> <div id=playerContent class=player-content> <ended-live-player-overlay video=$ctrl.video message=$ctrl.video.liveEvent.liveEventOptions.onDemandOptions.endEventMessage ng-if=$ctrl.shouldShowEndEventMessage></ended-live-player-overlay> <video-player-view ng-if="$ctrl.video && !$ctrl.shouldShowEndEventMessage" video=$ctrl.video video-item=$ctrl.video video-edit-state-info=$ctrl.videoEditStateInfo on-viewed=$ctrl.onVideoViewed() enable-theater-mode=true toggle-theater-mode=$ctrl.EnableTheaterMode(enable) is-producer-view=false on-time-update=$ctrl.onTimeUpdate(currentTime) on-init="$ctrl.onInit({ seekFunction: seekFunction, getCurrentTime: getCurrentTime, play: play, pause: pause, toggleTheaterMode: toggleTheaterMode })" preload=true is-in-admin-mode=$ctrl.isInAdminMode on-video-completed=$ctrl.onVideoCompleted() is-yammer-available=$ctrl.isYammerAvailable is-yammer-loaded=$ctrl.isYammerLoaded yammer-events=$ctrl.yammerEvents is-completed-on-load=$ctrl.isCompletedOnLoad on-audience-did-reach-end-of-vodless-playback=$ctrl.onAudienceDidReachEndOfVodlessPlayback() is-replacing=$ctrl.isReplacing reload-updated-video=$ctrl.retry()></video-player-view> </div> </div> </div> <div id=player-right-container-wrapper class="column xsmall-12 small-6 medium-4 large-4" ng-show=$ctrl.showRightContainer role=region aria-label={{::$ctrl.resources.VideoPage.InteractiveContentRegionAriaLabel}}> <div class=sub-header> <tab-navigation class=right-navigation model=$ctrl.playerRightTabOptions value=$ctrl.currentRightTab direction=$ctrl.tabHeaderDirection show-full-in-small=true></tab-navigation> <drawer class=tab-actions-drawer drawer-items=$ctrl.rightTabDrawerItems ng-if=$ctrl.rightTabDrawerItems.length /> </div> <div class=player-right-container-content id=player-right-container-content> <div id=yammer-right-tab-page ng-class="{\'live\':$ctrl.isLiveNow || $ctrl.isLiveContentCreatedState}" ng-show=$ctrl.isRightTabSet(3)></div> <div id=transcript-right-tab-page ng-class="{\'live\':$ctrl.isLiveNow || $ctrl.isLiveContentCreatedState}" ng-show=$ctrl.isRightTabSet(1)></div> <div id=forms-right-tab-page ng-class="{\'live\':$ctrl.isLiveNow || $ctrl.isLiveContentCreatedState}" ng-show=$ctrl.isRightTabSet(5)></div> </div> </div> </div> </div> </div> <div ng-switch-when=NotFound> <div> <error-box player-page=true title-str={{::$ctrl.resources.VideoPlayerErrorCode200194Manifest}} no-actions=true message={{::$ctrl.resources.VideoPlayerErrorCode200194ManifestSubtext}} full-screen=true /> </div> </div> <div ng-switch-when=Forbidden> <div> <error-box player-page=true title-str={{$ctrl.forbiddenDivTitle}} message={{$ctrl.forbiddenDivMsg}} no-actions=true full-screen=true request-access-button-clicked=$ctrl.sendRequest() request-button-enabled=$ctrl.requestAccessEnabled() access-request-sent=$ctrl.doesAccessRequestSent request-succeed=$ctrl.doesRequestSucceed video-exist=$ctrl.doesRequestedVideoExist permission-exist=$ctrl.doesPermissionExist permission-error=true /> </div> </div> <div class=row ng-if="$ctrl.routingCase === \'Uploading\' || $ctrl.routingCase === \'NotReady\' || $ctrl.routingCase === \'Error\'"> <div class=column> <div> <div class=player-content-wrapper169> <div class=loading-error-container> <div ng-switch-when=Uploading class=processing-error-height> <error-box player-page=true title-str={{::$ctrl.UploadingStatusBoxTitle}} message={{::$ctrl.UploadingStatusBoxMessage}} no-actions=true /> </div> <div ng-switch-when=NotReady class=processing-error-height> <error-box player-page=true title-str={{::$ctrl.resources.Controllers.Video.NotReady.Title}} message={{::$ctrl.resources.Controllers.Video.NotReady.Message}} no-actions=true /> </div> <div ng-switch-when=Error class=processing-error-height> <error-box player-page=true title-str={{::$ctrl.resources.Controllers.Video.Error.Title}} /> </div> </div> </div> </div> </div> </div> </div> </div> </section> <section class=other-area ng-if=$ctrl.video aria-label={{::$ctrl.resources.VideoPage.OtherArea.SectionLabel}}> <div class=row> <div class="column video-detail-container" ng-class="{\'medium-12 large-12\': $ctrl.display12Column, \'medium-12 large-8\': $ctrl.showRightContainer || $ctrl.isCompletedOnLoad}"> <div class=bottom-navigation-container> <tab-navigation class=bottom-navigation model=$ctrl.playerBottomTabOptions value=$ctrl.currentBottomTab direction=$ctrl.tabHeaderDirection show-full-in-small=true></tab-navigation> <drawer class=tab-actions-drawer drawer-items=$ctrl.bottomTabDrawerItems ng-if=$ctrl.bottomTabDrawerItems.length /> </div> <div id=under-player-container class="xsmall-12 small-12 medium-12 large-12"> <video-metadata ng-show="$ctrl.isBottomTabSet(0) && $ctrl.showMetadata" video=$ctrl.video is-in-admin-mode=$ctrl.isInAdminMode elevated-video-session-properties=$ctrl.elevatedVideoSessionProperties video-page-session-properties=$ctrl.videoPageSessionProperties player-options=$ctrl.playerOptions dialog-interruption-handler=$ctrl.dialogInterruptionHandler get-player-current-time=$ctrl.getCurrentTime() drawer-items=$ctrl.drawerItems view-settings=$ctrl.viewSettings is-stream-admin=$ctrl.isStreamAdmin is-live-content=$ctrl.isLiveContent video-page-session-metrics=$ctrl.videoPageSessionMetrics is-live-now=$ctrl.isLiveNow is-completed=$ctrl.isCompleted is-replacing=$ctrl.isReplacing is-trimming=$ctrl.isTrimming></video-metadata> <div id=transcript-bottom-tab ng-show=$ctrl.isBottomTabSet(1)> <div id=transcript-container ng-class="{\'no-data\': $ctrl.isNoTranscriptData || $ctrl.captionProcessing}"> <div id=transcript-content class=transcript-content ng-show="$ctrl.isCompletedOnLoad && $ctrl.showTranscript"> <div class="" ng-if="$ctrl.captionProcessing && !$ctrl.captionProcessingPastSLA"> <div class=no-data-message-cont> <div class=transcript-processing-message> <div class=transcript-processing-icon> <svg-src svg-name=icon_transcript_processing inline-with-text=false aria-hidden=true /> </div> <span>{{::$ctrl.resources.VideoPage.ViewSettings.IndexingNotReady}}</span> </div> </div> </div> <div class="" ng-if="$ctrl.captionProcessing && $ctrl.captionProcessingPastSLA"> <div class=no-data-message-cont> <div class=transcript-processing-past-sla-message> <div class=transcript-processing-icon> <svg-src svg-name=icon_transcript_processing inline-with-text=false aria-hidden=true /> </div> <span>{{::$ctrl.resources.VideoPage.ViewSettings.IndexingNotReadyAndPastSLA}}</span> </div> </div> </div> <div class="" ng-if=$ctrl.captionError> <div class=no-data-message-cont> <div class="transcript-error-message no-data-message"> <span class=message-icon-cont> <svg-src svg-name=icon_library inline-with-text=true class=message-icon></svg-src> </span> <span>{{::$ctrl.resources.VideoPage.ViewSettings.IndexingError}}</span> </div> </div> </div> <search-event ng-if="$ctrl.servicePlans.capabilities.transcriptSearch && $ctrl.captionReady" video=$ctrl.video is-admin=$ctrl.isInAdminMode can-edit="$ctrl.isEditorOrInAdminMode && $ctrl.isTranscriptEditV3Enabled" on-edit-click=$ctrl.toggleTranscriptEditMode() is-editable="!$ctrl.showTrimBar && !ctrl.showReplaceBar" edit-event-button-aria-label=$ctrl.resources.TranscriptEditEnter view-event-button-aria-label=$ctrl.resources.TranscriptEditExit event-list-aria-label=$ctrl.resources.TranscriptVirtualListAriaLabel> <transcript video=$ctrl.video player-time=$ctrl.playerTime is-admin=$ctrl.isInAdminMode on-init=$ctrl.onTranscriptInit(transcriptController) right-drawer-items=$ctrl.rightTabDrawerItems bottom-drawer-items=$ctrl.bottomTabDrawerItems> </transcript> </search-event> <transcript ng-if="!$ctrl.servicePlans.capabilities.transcriptSearch && $ctrl.captionReady" video=$ctrl.video player-time=$ctrl.playerTime is-admin=$ctrl.isInAdminMode class=transcript-component on-init=$ctrl.onTranscriptInit(transcriptController) right-drawer-items=$ctrl.rightTabDrawerItems bottom-drawer-items=$ctrl.bottomTabDrawerItems> </transcript> </div> <div class=no-data-message-cont> <div class=no-data-message ng-if=$ctrl.isNoTranscriptData> <span class=message-icon-cont> <svg-src svg-name=icon_library inline-with-text=true class=message-icon></svg-src> </span> <span ng-if="$ctrl.isLiveNow || $ctrl.isCreated">{{::$ctrl.resources.LiveTranscriptNotAvailableMessage}}</span> <span ng-if="$ctrl.isCompleted && !$ctrl.captionProcessingPastSLA">{{::$ctrl.resources.VideoPage.ViewSettings.IndexingNotReady}}</span> <span ng-if="$ctrl.isCompleted && $ctrl.captionProcessingPastSLA">{{::$ctrl.resources.VideoPage.ViewSettings.IndexingNotReadyAndPastSLA}}</span> <span ng-if="$ctrl.isCompleted && $ctrl.captionError">{{::$ctrl.resources.VideoPage.ViewSettings.IndexingError}}</span> </div> </div> </div> </div> <div id=yammer-bottom-tab ng-show=$ctrl.isBottomTabSet(3)> <div id=yammer-container> <div ng-if=$ctrl.yammerHasError class=no-data-message> <span class=message-icon-cont> <svg-src svg-name=icon_library inline-with-text=true class=message-icon></svg-src> </span> <span>{{::$ctrl.resources.LiveYammerErrorMessage}}</span> <a ng-click=$ctrl.retry() class=c-hyperlink>{{::$ctrl.resources.LiverRetryMessage}}</a> </div> <div id=yammer-embed ng-if=!$ctrl.yammerHasError> </div> </div> </div> <div class=video-analytics-container ng-show=$ctrl.isBottomTabSet(4)> <video-analytics video=$ctrl.video is-producer=false is-vod=$ctrl.isVideoVod></video-analytics> </div> <div id=forms-bottom-tab ng-show=$ctrl.isBottomTabSet(5)> <div id=forms-container class=forms-container> <forms timed-events=$ctrl.timedEvents show-controls=$ctrl.showFormControls on-add-form=$ctrl.addForm(formEvent) on-delete-form=$ctrl.deleteForm(formEvent) player=$ctrl.player on-form-clicked=$ctrl.jumpToForm(formEvent) can-edit=$ctrl.isEditorOrInAdminMode time-code=$ctrl.playerTime video-id=$ctrl.videoId player-session-id=$ctrl.playerSessionId> </forms> </div> </div> </div> <div id=faces-container class="faces-container column xsmall-12 small-12 medium-12 large-12" ng-show="$ctrl.isBottomTabSet(2) && ($ctrl.showFaces || $ctrl.isLiveContentButFaceDetectionNotReady) && $ctrl.video.options.faceDetection"> <div id=faces-content class=faces-content> <face-chart video=$ctrl.video player-time=$ctrl.playerTime is-admin=$ctrl.isInAdminMode not-ready=$ctrl.isLiveContentButFaceDetectionNotReady is-live-content=$ctrl.isLiveContent is-created=$ctrl.isCreated is-completed=$ctrl.isCompleted></face-chart> </div> </div> <div id=comments-container class="comments-container column xsmall-12 small-6 medium-6 large-12 vertical-space" ng-if="$ctrl.isCompletedOnLoad && !$ctrl.isVODLess"> <div id=comments> <comments video=$ctrl.video is-in-admin-mode=$ctrl.isInAdminMode></comments> </div> </div> <div id=related-videos-container-for-small-screen class="related-video-container column xsmall-12 small-6 medium-6 large-12" ng-if=$ctrl.showMetadata> <div id=related-videos ng-if=$ctrl.isCompletedOnLoad> <related-videos video=$ctrl.video ng-if="$ctrl.video && !$ctrl.isWatchList" secondary-related-video-clicked=$ctrl.secondaryRelatedVideosClicked() related-video-clicked=$ctrl.relatedVideosClicked(value) related-videos-list=$ctrl.getListOfChannelVideos(value) auto-play-toggle-status=$ctrl.getAutoPlayToggleStatus(status)></related-videos> <watch-list-videos video=$ctrl.video ng-if="$ctrl.video && $ctrl.isWatchList" watch-list-video-clicked=$ctrl.watchListVideosClicked()></watch-list-videos> </div> </div> </div> <div id=related-videos-container-for-big-screen class="column medium-4 large-4"> </div> </div> </section> </div> </div> </div>'},"./app/components/Video/VideoPage/VideoPage.less":function(e,t){},"./app/components/Video/VideoPage/VideoPage.ts":function(e,t,n){function r(){this.controller=o.VideoPageController,this.template=n("./app/components/Video/VideoPage/VideoPage.html"),this.bindings={videoId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/VideoPage/VideoPage.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/Video/VideoPage/VideoPageController.ts");t.VideoPage=r,i.registerComponent("videoPage",r,angular.module("jumper"))},"./app/components/Video/VideoPrivacy/VideoPrivacy.html":function(e,t){e.exports="<p class=screen-reader-text>{{::$ctrl.videoPrivacyType}}</p> <div class=videoprivacy aria-hidden=true custom-title=\"{{$ctrl.hideLabel ? ($ctrl.videoPrivacyType | videoPrivacyText) : ''}}\" light-style=$ctrl.lightCustomTitle> <svg-src class=icon_privacytag aria-label=Privacy inline-with-text=true svg-name={{$ctrl.privacySvgSrc}} ng-class=\"{\r\n            'video-privacy-company' : ($ctrl.videoPrivacyType | isVideoPrivacyCompany),\r\n            'video-privacy-limited' : ($ctrl.videoPrivacyType | isVideoPrivacyLimited)\r\n         }\"/> <span class=\"c-badge privacytext\" ng-if=!$ctrl.hideLabel> {{$ctrl.videoPrivacyType | videoPrivacyText}} </span> </div> "},"./app/components/Video/VideoPrivacy/VideoPrivacy.less":function(e,t){},"./app/components/Video/VideoPrivacy/VideoPrivacy.ts":function(e,t,n){function r(){this.controller=i.VideoPrivacyController,this.template=n("./app/components/Video/VideoPrivacy/VideoPrivacy.html"),this.bindings={videoPrivacyType:"=",hideLabel:"<",lightCustomTitle:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/VideoPrivacy/VideoPrivacy.less");var i=n("./app/components/Video/VideoPrivacy/VideoPrivacyController.ts"),o=n("./app/utility/appUtil.ts");t.VideoPrivacy=r,o.registerComponent("videoPrivacy",r,angular.module("jumper"))},"./app/components/Video/VideoPrivacy/VideoPrivacyController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts");Object.defineProperty(i.prototype,"privacySvgSrc",{get:function(){switch(this.videoPrivacyType){case r.Constants.privacyMode.private:return"icon_privacy_custom";case r.Constants.privacyMode.organization:return"icon_privacy_my_org";default:return""}},enumerable:!0,configurable:!0}),n=i;function i(){}t.VideoPrivacyController=n},"./app/components/Video/WatchListVideos/WatchListVideos.html":function(e,t){e.exports=' <div class=related-videos ng-if=$ctrl.watchListVideos.length> <div class=primary-related-videos> <h2 class="c-heading-5 related-video-label">{{$ctrl.watchListVideosLabel}}</h2> <ul class=row> <li class="related-list-item column xsmall-12" ng-class="{\'end\' : {{$index}} === $ctrl.watchListVideos.length - 1}" ng-repeat="watchListVideoItem in $ctrl.watchListVideos" infinite-scroll=$ctrl.getMoreWatchListVideos() infinite-scroll-container="\'window\'"> <responsive-video-item video-item=watchListVideoItem query-param=$ctrl.queryStrings item-clicked=$ctrl.watchListVideoClicked() list-style=true></responsive-video-item> </li> </ul> </div> </div>'},"./app/components/Video/WatchListVideos/WatchListVideos.ts":function(e,t,n){function r(){this.controller=i.WatchListVideosController,this.template=n("./app/components/Video/WatchListVideos/WatchListVideos.html"),this.bindings={video:"<",watchListVideoClicked:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/RelatedVideos/RelatedVideos.less");var i=n("./app/components/Video/WatchListVideos/WatchListVideosController.ts"),o=n("./app/utility/appUtil.ts");t.WatchListVideos=r,o.registerComponent("watchListVideos",r,angular.module("jumper"))},"./app/components/Video/WatchListVideos/WatchListVideosController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts");i.prototype.getWatchListVideos=function(){var e=this;this.videoService.getPinnedVideos(r.Constants.VideoSortOptions.PinnedDate,r.Constants.SortDirection.Descending,this.videoSkipCount,this.videosFetchCount,"",!1).then((function(t){t.data.value.length<e.videosFetchCount&&(e.canFetchMoreVideos=!1),e.watchListVideos=e.watchListVideos?e.watchListVideos.concat(t.data.value):t.data.value,_.remove(e.watchListVideos,(function(t){return t.id===e.video.id})),e.videoSkipCount+=t.data.value.length}))},i.prototype.getMoreWatchListVideos=function(){this.canFetchMoreVideos&&this.getWatchListVideos()},i.$inject=["$scope","resources","$location","videoService","channelService"],n=i;function i(e,t,n,r){this.$scope=e,this.resources=t,this.$location=n,this.videoService=r,this.queryStrings=n.search(),this.watchListVideosLabel=this.resources.RelatedVideosLabel.FromWatchList,this.videoSkipCount=0,this.videosFetchCount=18,this.canFetchMoreVideos=!0,this.getWatchListVideos()}t.WatchListVideosController=n},"./app/components/VideoItem/VideoItem.html":function(e,t){e.exports='<div class=video-item> <list-row ng-if=!$ctrl.headerRow class=video-item-row aria-label={{$ctrl.videoItemAriaLabel}} tabindex=-1 role=presentation ng-click=$ctrl.gotoVideo($event) enable-hover=true> <list-cell class=name-column fill-size=true> <div class="draft-poster-container video-list-item-item-thumb" aria-hidden=true> <a ng-href={{$ctrl.videoPageUrl}} tabindex=-1 role=presentation ng-click=$ctrl.onVideoClick($event) class="c-hyperlink draft-poster-link" aria-label={{$ctrl.videoItemAriaLabel}}> <draft-poster video=$ctrl.videoItem video-state=$ctrl.videoState is-trimming=$ctrl.isTrimming is-replacing=$ctrl.isReplacing process-progress=$ctrl.processProgress selected-thumbnail={images:$ctrl.videoItem.posterImage} on-publish=$ctrl.onPublishSuccess($ctrl.videoItem) hide-publish-button=true is-in-edit-mode=false mute-thumbnail=true></draft-poster> </a> <div ng-if="$ctrl.videoItem.state === \'completed\'" class=video-item-thumb-duration role=presentation> <span aria-hidden=true>{{$ctrl.videoItem.media.duration | videoDuration}}</span> </div> <div ng-if=$ctrl.isLiveNow ng-class="{\'stream-pill-mini\' : $ctrl.shouldCollapseLiveStatus}" class="stream-pill pill-primary live-now-tag">{{::$ctrl.Resources.LiveEventLiveNow}}</div> <div class=playback-progress-bar ng-if="$ctrl.videoItem.userData.isViewed && $ctrl.playbackProgressPercentage"> <progress-bar max=100 value=$ctrl.playbackProgressPercentage class=playback-progress aria-label=$ctrl.playbackProgessBarAriaLabel></progress-bar> </div> </div> <div class=name-description> <h3 class=title-heading> <a class="c-hyperlink c-caption-1 video-list-item-title no-hover" ng-href={{$ctrl.videoPageUrl}} ng-click=$ctrl.onVideoClick($event) id={{$ctrl.videoItemDOMId}} aria-label={{$ctrl.videoItemAriaLabel}}> <span class=draft-info-message> <span class=draft-message ng-if=$ctrl.showDraftState aria-hidden=true>{{::$ctrl.Resources.VideoItemTitlePrefixDraftString}}</span> <span class=state-info-message ng-if=$ctrl.showInfoState aria-hidden=true>{{$ctrl.videoStateInfoString}}</span> </span> <svg-src ng-if="$ctrl.isLiveVideo && !$ctrl.isReplacing && !$ctrl.isUploading" svg-name=icon_live_event ng-class="{\'live-icon-completed\' : $ctrl.isVideoCompleted || $ctrl.isReplacing || $ctrl.isTrimming}" class=live-icon aria-label={{$ctrl.liveVideoIconAriaLabel}}></svg-src> <svg-src ng-if="$ctrl.videoItem.media.isAudioOnly && !$ctrl.isReplacing && !$ctrl.isUploading" svg-name=icon_audio_bars ng-class="{\'audio-icon-completed\' : $ctrl.isVideoCompleted || $ctrl.isReplacing || $ctrl.isTrimming}" class=audio-icon aria-label={{$ctrl.audioOnlyIconAriaLabel}}></svg-src> <span class=video-title aria-hidden=true custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </a> </h3> <div class=statistics-and-date> <video-statistics ng-if=$ctrl.videoItem.published video-statistics-data=$ctrl.videoItem.metrics show-comments=true show-icons=true class="statistics-column video-list-item-statistics" light-custom-title=true use-short-numbers=true></video-statistics> <span class="uploaded-date-column date-text metric-inline-flex" custom-title={{$ctrl.uploadedDateLabel}} light-style=true aria-label={{$ctrl.uploadedDateLabel}}>{{$ctrl.uploadedDate}}</span> <span class="published-date-column date-text metric-inline-flex" ng-if=$ctrl.videoItem.published custom-title={{$ctrl.publishedDateLabel}} light-style=true aria-label={{$ctrl.publishedDateLabel}}>{{::$ctrl.publishedDate}}</span> </div> <read-less-read-more text-content=$ctrl.videoItem.description enable-custom-title=false class="c-caption-1 description" default-max-lines=1 ng-cloak on-time-tag-clicked=$ctrl.onTimeTagClicked() use-ellipsis=true is-time-tag-startup=true telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties> </read-less-read-more> </div> </list-cell> <list-cell class=uploader-column no-fade=true> <div class=user-container> <a ng-href={{::$ctrl.creatorPageUrl}} ng-click=$ctrl.clickCreator($event) class="c-action-trigger no-hover principal-link" custom-title={{$ctrl.uploaderLabel}} aria-label={{$ctrl.uploaderLabel}} light-style=true> <img ng-if=$ctrl.videoItem.creator.profileImageUrl ng-src={{::$ctrl.videoItem.creator.profileImageUrl}} onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\' alt={{$ctrl.resources.UserProfileImage}} /> <img ng-if=!$ctrl.videoItem.creator.profileImageUrl src=/bundles/app/generated/user-placeholder.svg alt={{$ctrl.resources.UserProfileImage}} /> <span class=creator-name>{{::$ctrl.videoItem.creator.name}}</span> </a> </div> </list-cell> <list-cell class=last-viewed-date-column centered=true no-fade=true> <span class=date-text ng-if=$ctrl.videoItem.userData.lastViewDate>{{::$ctrl.lastViewedDate}}</span> </list-cell> <list-cell class=privacy-column centered=true no-fade=true ng-if=!$ctrl.hidePrivacy> <span class=privacy-title custom-title={{$ctrl.privacyLabel}} light-style=true> <video-privacy video-privacy-type=$ctrl.videoItem.privacyMode hide-label=true light-custom-title=true></video-privacy> </span> </list-cell> <list-cell class=actions-column ng-if=!$ctrl.hideToolBox no-fade=true allow-overflow=true right-aligned=true> <button type=submit class="stream-btn btn-primary publish-button" ng-if=!$ctrl.videoItem.published ng-click=$ctrl.publish($event) ng-disabled="$ctrl.isPublishing || $ctrl.isUploading"> <span class=publish-message> {{$ctrl.isPublishing ? $ctrl.Resources.VideoPublishingButtonLabel : $ctrl.Resources.PublishButton}} </span> </button> <button type=submit class="stream-btn btn-primary publish-button-small" ng-if=!$ctrl.videoItem.published ng-click=$ctrl.publish($event) ng-disabled="$ctrl.isPublishing || $ctrl.isUploading" aria-label="{{$ctrl.isPublishing ? $ctrl.Resources.VideoPublishingButtonLabel : $ctrl.Resources.PublishButton}}" custom-title="{{$ctrl.isPublishing ? $ctrl.Resources.VideoPublishingButtonLabel : $ctrl.Resources.PublishButton}}" light-style=true> <svg-src svg-name=icon_publish></svg-src> </button> <div class=flex-drawer-container> <flex-drawer drawer-items=$ctrl.drawerItems item=$ctrl.videoItem flex-mode=true width-percentage=100 light-custom-title=true fixed-elements=$ctrl.fixedElements></flex-drawer> </div> </list-cell> </list-row> <list-row class=transcript-container ng-if="$ctrl.videoItem.published && $ctrl.videoItem.events && $ctrl.videoItem.events.length"> <ul role=listbox class=transcript-search-list> <li role=listitem class=transcript-item ng-repeat="e in $ctrl.videoItem.events"> <p class="c-action-trigger transcript-text" ng-if=$ctrl.isTranscriptCaption(e)> <a ng-href={{$ctrl.getVideoPageUrl(e)}} aria-label={{$ctrl.transcriptAriaLabel(e)}} ng-click=$ctrl.onTrancriptSearchItemClick(e)> <strong>{{$ctrl.timeStamp(e)}}</strong> "{{e.eventData.text}}" </a> </p> </li> </ul> </list-row> </div>'},"./app/components/VideoItem/VideoItem.less":function(e,t){},"./app/components/VideoItem/VideoItem.ts":function(e,t,n){function r(){this.controller=o.VideoItemController,this.template=n("./app/components/VideoItem/VideoItem.html"),this.bindings={videoItem:"=",onVideoDeleted:"&",hideToolBox:"<",hidePrivacy:"<",videoSource:"<",hideCreator:"<",metrics:"<",videoOwner:"<",isStreamAdmin:"<",headerRow:"<",sortKey:"<",fixedElements:"<?",isInAdminMode:"<"},this.transclude={infoMessage:"?infoMessage"},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/VideoItem/VideoItemController.ts");t.VideoItem=r,i.registerComponent("videoItem",r,angular.module("jumper"))},"./app/components/VideoItem/VideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/utility/string.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/utility/Constants.ts"),l=n("./app/models/TelemetryEventModels.ts"),c=n("./app/components/ItemsList/ListBase/ListItemBase.ts"),d=n("./app/services/NavigationService.ts"),u=n("./common/Directives/Drawer/Drawer.ts"),p=n("./app/services/VideoBgUploaderService.ts"),m=n("./app/utility/appUtil.ts"),h=n("./app/utility/LiveEventUtils.ts"),g=n("./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts");function f(e){return o.formatString(a.Constants.ResourceDOMIds.Video,e)}t.getVideoDOMId=f;var v;i(y,v=c.ListItemBase),Object.defineProperty(y.prototype,"videoItemDOMId",{get:function(){return f(this.videoItem.id)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"stateInfoString",{get:function(){var e=[];return this.videoItem.published||e.push(this.Resources.Draft),this.videoItem.state===a.Constants.VideoStatus.Processing?this.isReplacing?this.userCanEdit&&e.push(this.Resources.Replacing):e.push(this.Resources.Processing):this.videoItem.state===a.Constants.VideoStatus.Uploading?this.videoState===a.Constants.VideoState.failedUpload?e.push(this.Resources.FailedUploading):e.push(this.Resources.Uploading):this.videoItem.state===a.Constants.VideoStatus.Completed&&this.isTrimming&&this.userCanEdit&&e.push(this.Resources.Trimming),"("+e.join(" - ")+")"},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"showStateInfo",{get:function(){return!this.videoItem.published||this.videoItem.state===a.Constants.VideoStatus.Processing||this.videoItem.state===a.Constants.VideoStatus.Uploading},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"showDraftState",{get:function(){return!this.videoItem.published&&this.videoItem.state===a.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"showInfoState",{get:function(){var e=this.isLiveVideo&&(this.isReplacing||this.isTrimming||this.isUploading),t=!this.isLiveVideo&&(this.videoItem.state===a.Constants.VideoStatus.Processing||this.videoItem.state===a.Constants.VideoStatus.Created||this.isReplacing||this.isTrimming||this.isUploading);return e||t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"videoStateInfoString",{get:function(){switch(this.videoItem.state){case a.Constants.VideoStatus.Uploading:return this.Resources.VideoItemTitlePrefixUploadingString;case a.Constants.VideoStatus.Processing:return this.isReplacing?this.userCanEdit?o.formatString(this.Resources.VideoItemTitlePrefixReplacingString,this.processProgress.toString()):"":o.formatString(this.Resources.VideoItemTitlePrefixProcessingString,this.processProgress.toString());case a.Constants.VideoStatus.Created:return this.uploadItem&&this.uploadItem.status===p.UploadStatus.notStarted?this.Resources.VideoItemTitlePrefixUploadQueued:this.Resources.VideoItemTitlePrefixUploadingString;case a.Constants.VideoStatus.Completed:if(this.isTrimming&&this.userCanEdit)return this.Resources.VideoItemTitlePrefixTrimmingString;default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isUploading",{get:function(){return this.videoItem.state===a.Constants.VideoStatus.Uploading},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"videoPageUrl",{get:function(){var e=angular.copy(this.videoSource);return this.resumePosition&&(e.st=this.resumePosition),d.generatePathWithQueryStrings(a.Constants.Routes.Video,this.videoItem.id,e)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"liveEventStartTime",{get:function(){if(!this.isLiveVideo||!this.videoItem.liveEvent)return"";var e=this.videoItem.liveEvent.startTime;return m.formatISODateTimeToLocalTime(e)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"liveEventStartDate",{get:function(){if(!this.isLiveVideo||!this.videoItem.liveEvent)return"";var e=this.videoItem.liveEvent.startTime;return m.formatISODateTimeToTwoDigitDate(e)},enumerable:!0,configurable:!0}),y.prototype.onVideoClick=function(e){this.metrics&&this.metrics[l.ItemMetricEventNames.ItemClicked]++,e.ctrlKey||this.isInAdminMode&&this.navigationService.addQueryParam({isInAdminMode:"true",view:"videos"}),e.stopPropagation()},y.prototype.gotoVideo=function(e){this.metrics&&this.metrics[l.ItemMetricEventNames.ItemClicked]++,this.isInAdminMode&&(this.videoSource[a.Constants.DataQueryParams.IsInAdminMode]="true");var t=angular.copy(this.videoSource);this.resumePosition&&(t.st=this.resumePosition),this.navigationService.navigate(o.formatString(a.Constants.Routes.Video,this.videoItem.id),t)},Object.defineProperty(y.prototype,"narratedVideoDuration",{get:function(){var e=this.Resources.Components.VideoListItem;return this.videoItem&&this.videoItem.media?o.formatString("{0} {1}",e.duration,s.getNarratorFriendlyTime(s.formatISODuration(this.videoItem.media.duration),this.Resources.Units.Time)):""},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"videoItemAriaLabel",{get:function(){var e=this.Resources.Components.VideoListItem,t=this.stateInfoString.substring(1,this.stateInfoString.length-1);return this.showStateInfo?0<=this.stateInfoString.toLocaleLowerCase().indexOf(this.Resources.Draft.toLocaleLowerCase())?o.formatString("{0} {1} {2} {3}",this.videoItem.name,this.narratedVideoDuration,t,e.video):o.formatString("{0} {1} {2}",this.videoItem.name,t,e.video):o.formatString("{0} {1} {2}",this.videoItem.name,this.narratedVideoDuration,e.video)},enumerable:!0,configurable:!0}),y.prototype.publish=function(e){var t=this;e&&e.stopPropagation();var n=this.telemetryService.getTracker();this.isPublishing=!0,this.videoService.patch(this.videoItem.id,{published:!0}).then((function(e){t.videoItem=e.data,t.isPublishing=!1,t.$scope.$emit(a.Constants.Events.videoPublished,{id:t.videoItem.id}),t.metrics&&(t.metrics[l.ItemMetricEventNames.ItemPublished]=1+t.metrics[l.ItemMetricEventNames.ItemPublished]),n.succeed(l.FeatureName.UpdateVideo),$(window).resize()}),(function(e){t.isPublishing=!1,n.fail(l.FeatureName.UpdateVideo,l.SubFeatureName.VideoService_PatchVideo,e)}))},y.prototype.onDeleteVideo=function(){var e=this,t=this.$q.defer();return this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemDeleteClicked]=1+this.metrics[l.ItemMetricEventNames.ItemDeleteClicked]),this.deleteConfirmationDialogService.show(a.Constants.ResourceNames.Video,this.item.name,!1,this.item.id,this.isInAdminMode).then((function(){e.telemetryTracker.setResourceId(e.item.id),e.videoService.delete(e.item.id,e.isInAdminMode).then((function(){e.onItemDeleted(e.item),e.telemetryTracker.succeed(l.FeatureName.DeleteVideo)}),(function(t){e.telemetryTracker.fail(l.FeatureName.DeleteVideo,l.SubFeatureName.VideoService_DeleteVideo,t)}))})).finally((function(){t.resolve()})),t.promise},y.prototype.onReplace=function(e){void 0===e&&(e=!1),e=this.videoItem.contentSource===a.Constants.VideoContentSource.liveStream,this.replaceVideoService.openReplaceVideoDialog(this.videoItem.id,e)},y.prototype.onEdit=function(e){var t=this;void 0===e&&(e=!1),this.isStreamAdmin&&e&&this.principalService.patchMySettings({web:{adminModeActive:e}}).then((function(e){t.isInAdminMode=e.data.web.adminModeActive,t.navigationService.navigate(o.formatString(t.isLiveVideo?a.Constants.Routes.Update:a.Constants.Routes.VideoUpdate,t.videoItem.id),n)})),this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemChanged]=this.metrics[l.ItemMetricEventNames.ItemChanged]?1+this.metrics[l.ItemMetricEventNames.ItemChanged]:1);var n={};return(e||this.isInAdminMode)&&(n[a.Constants.QueryStringKeys.entryPoint]=l.ElevatedItemEntryPoint.DrawerButton,n[a.Constants.QueryStringKeys.hasPlayed]=!1,n[a.Constants.QueryStringKeys.srcScreen]=this.screenName),this.navigationService.navigate(o.formatString(this.isLiveVideo?a.Constants.Routes.Update:a.Constants.Routes.VideoUpdate,this.videoItem.id),n),this.$q.resolve()},y.prototype.onTrim=function(){if(this.telemetryTracker.trackEvent(l.TelemetryEventNames.VideoEditorLoaded,{resourceId:this.videoItem.id,durationInSec:this.videoItem.media&&this.videoItem.media.duration?s.formatISODurationToSeconds(this.videoItem.media.duration):-1,videoType:this.videoItem.contentType,videoContentSource:this.videoItem.contentSource}),this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemChanged]=this.metrics[l.ItemMetricEventNames.ItemChanged]?1+this.metrics[l.ItemMetricEventNames.ItemChanged]:1),!this.videoItem||!this.videoItem.playbackUrls||_.isEmpty(this.videoItem.playbackUrls))return this.$q.resolve();var e=this.videoItem.playbackUrls.filter((function(e){return"application/dash+xml"===e.mimeType}));return!e||_.isEmpty(e)||(e=e[0],this.videoEditorDialog.open({source:e.playbackUrl,sourceType:e.mimeType,videoContentSource:this.videoItem.contentSource,videoContentVersion:this.videoItem.contentVersion,videoType:this.videoItem.contentType,videoId:this.videoItem.id,videoName:this.videoItem.name,videoDimensions:this.videoItem.media&&{height:this.videoItem.media.height,width:this.videoItem.media.width},isInAdminMode:this.isInAdminMode})),this.$q.resolve()},y.prototype.onShare=function(){this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemShared]=1+this.metrics[l.ItemMetricEventNames.ItemShared]);var e=this.$q.defer();return this.videoShareDialog.open(this.videoItem).closePromise.finally((function(){e.resolve()})),e.promise},y.prototype.onDownload=function(){return this.videoDownloadUrl&&(this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemDownloaded]=1+this.metrics[l.ItemMetricEventNames.ItemDownloaded]),this.mediaDownloaderService.downloadFile(this.videoDownloadUrl)),this.$q.resolve()},y.prototype.onDownloadPPT=function(){return this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemPPTDownloaded]=1+this.metrics[l.ItemMetricEventNames.ItemPPTDownloaded]),this.pptFileUrl&&this.mediaDownloaderService.downloadFile(this.pptFileUrl),this.$q.resolve()},y.prototype.pollVideoFromService=function(){if(this.stopPolling){var e=this.$q.defer();return e.resolve({cancel:!0}),e.promise}return this.videoService.getVideoStatus(this.videoItem.id)},y.prototype.pinOrUnPinThisVideo=function(){return this.videoItem.userData.isPinned?this.unPinThisVideo():this.pinThisVideo()},y.prototype.pinThisVideo=function(){var e=this,t=this.$q.defer();return this.metrics[l.ItemMetricEventNames.ItemAddedToWatchlist]=this.metrics[l.ItemMetricEventNames.ItemAddedToWatchlist]+1,this.videoService.pinVideo(this.videoItem.id).then((function(t){e.videoItem.userData.isPinned=!0,e.switchAddOrRemoveFromWatchDrawerItem(),e.telemetryTracker.succeed(l.FeatureName.PinVideo)}),(function(t){e.telemetryTracker.fail(l.FeatureName.PinVideo,l.SubFeatureName.VideoService_PinVideo,t)})).finally((function(){t.resolve()})),t.promise},y.prototype.unPinThisVideo=function(){var e=this,t=this.$q.defer();return this.metrics[l.ItemMetricEventNames.ItemDeletedFromWatchlist]=this.metrics[l.ItemMetricEventNames.ItemDeletedFromWatchlist]+1,this.videoService.unPinVideo(this.videoItem.id).then((function(t){e.videoItem.userData.isPinned=!1,e.switchAddOrRemoveFromWatchDrawerItem(),e.telemetryTracker.succeed(l.FeatureName.UnpinVideo)}),(function(t){e.telemetryTracker.fail(l.FeatureName.UnpinVideo,l.SubFeatureName.VideoService_UnpinVideo,t)})).finally((function(){t.resolve()})),t.promise},y.prototype.onAddToChannel=function(){var e=this,t=this.$q.defer();return this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemAddedToChannel]=1+this.metrics[l.ItemMetricEventNames.ItemAddedToChannel]),this.videoService.getChannels(this.videoItem.id).then((function(n){e.addChannelsDialog.open(e.videoItem.id,n).closePromise.then((function(e){})).finally((function(){t.resolve()}))})),t.promise},y.prototype.onAddToGroupChannel=function(){var e=this.$q.defer();return this.metrics&&(this.metrics[l.ItemMetricEventNames.ItemAddedToGroupChannel]=1+this.metrics[l.ItemMetricEventNames.ItemAddedToGroupChannel]),this.addGroupChannelsDialog.open(this.videoItem,!1).closePromise.then((function(e){})).finally((function(){e.resolve()})),e.promise},Object.defineProperty(y.prototype,"isVideoEditorEnabled",{get:function(){return this.featureFlagsService.Values.VideoEditor&&!g.isBrowserBlacklisted(navigator&&navigator.userAgent||"")&&!(!this.videoItem.media||!this.videoItem.media.duration)&&"PT0S"!==this.videoItem.media.duration},enumerable:!0,configurable:!0}),y.prototype.handleVideoStateChange=function(e){switch(void 0===e&&(e=!1),this.videoState){case a.Constants.VideoStatus.Uploading:this.isLiveVideo&&(this.isReplacing=!0),this.handleUploadingOrCreatedVideoItem();break;case a.Constants.VideoStatus.Created:this.handleUploadingOrCreatedVideoItem();break;case a.Constants.VideoStatus.Processing:case a.Constants.VideoStatus.Completed:this.pollVideo(e)}},y.prototype.handleUploadingOrCreatedVideoItem=function(){var e=this;this.uploadItem=_.find(this.videoBgUploaderService.mediaUploadList,(function(t){return t.resourceId===e.videoItem.id})),this.uploadItem?this.uploadWatchCancelHandler=this.$scope.$watchGroup([function(){return e.uploadItem.status},function(){return e.uploadItem.uploadProgress}],(function(){switch(e.uploadItem.status){case p.UploadStatus.uploading:e.videoState=a.Constants.VideoState.uploading,e.uploadProgress=e.uploadItem.uploadProgress,e.isReplacing=e.isReplaceVideoEnabled&&e.uploadItem.isReplacing;break;case p.UploadStatus.failed:e.videoState=a.Constants.VideoState.failedUpload,e.isReplacing=!1,e.uploadWatchCancelHandler();break;default:e.uploadWatchCancelHandler(),e.pollVideo()}})):this.pollVideo()},y.prototype.switchAddOrRemoveFromWatchDrawerItem=function(){this.videoItem.userData.isPinned?(this.addOrRemoveFromWatch.iconClassName="remove-from-watch",this.addOrRemoveFromWatch.text=this.Resources.RemoveFromWatchList,this.addOrRemoveFromWatch.svgSrc="icon-remove-from-watchlist"):(this.addOrRemoveFromWatch.iconClassName="add-to-watch",this.addOrRemoveFromWatch.text=this.Resources.AddToWatchList,this.addOrRemoveFromWatch.svgSrc="icon-add-to-watchlist")},y.prototype.initAddOrRemoveFromWatchDrawerItem=function(){this.videoItem.userData.isPinned?this.addOrRemoveFromWatch=new u.DrawerItem("remove-from-watch",this.Resources.RemoveFromWatchList,this.pinOrUnPinThisVideo.bind(this),"icon-remove-from-watchlist"):this.addOrRemoveFromWatch=new u.DrawerItem("add-to-watch",this.Resources.AddToWatchList,this.pinOrUnPinThisVideo.bind(this),"icon-add-to-watchlist")},y.prototype.InitDrawerItems=function(){var e,t=this;this.drawerItems=[],this.videoItem.userData&&(this.initAddOrRemoveFromWatchDrawerItem(),this.drawerItems.push(this.addOrRemoveFromWatch),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemDeletedFromWatchlist]&&(this.metrics[l.ItemMetricEventNames.ItemDeletedFromWatchlist]=0),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemAddedToWatchlist]&&(this.metrics[l.ItemMetricEventNames.ItemAddedToWatchlist]=0),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemClicked]&&(this.metrics[l.ItemMetricEventNames.ItemClicked]=0),this.isInAdminMode||!this.userCanEdit&&this.videoItem.privacyMode!==a.Constants.privacyMode.organization||(this.drawerItems.push(new u.DrawerItem("add-to-group-channel",this.Resources.AddToGroupChannel,this.onAddToGroupChannel.bind(this),"icon-add-to-channel")),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemAddedToGroupChannel]&&(this.metrics[l.ItemMetricEventNames.ItemAddedToGroupChannel]=0)),(this.userCanEdit||this.isInAdminMode)&&(this.drawerItems.push(new u.DrawerItem("edit-button",this.Resources.UpdateVideoDetails,this.onEdit.bind(this),"icon_edit")),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemChanged]&&(this.metrics[l.ItemMetricEventNames.ItemChanged]=0)),this.videoItem.userData.permissions.canShareUrl&&(this.drawerItems.push(new u.DrawerItem("share-button",this.Resources.Share,this.onShare.bind(this),"icon_share")),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemShared]&&(this.metrics[l.ItemMetricEventNames.ItemShared]=0)),!this.isInAdminMode&&!this.videoItem.userData.permissions.canDownload||this.isLiveNow||h.isNonRecordedLiveEvent(this.videoItem)||this.mediaDownloaderService.getAssetFileUrl(this.videoItem.id,a.Constants.VideoFileType.video,this.telemetryTracker,this.isInAdminMode).then((function(e){t.videoDownloadUrl=e,t.metrics&&!t.metrics[l.ItemMetricEventNames.ItemDownloaded]&&(t.metrics[l.ItemMetricEventNames.ItemDownloaded]=0),_.some(t.drawerItems,(function(e){return e.text==this.Resources.Download}))||t.drawerItems.push(new u.DrawerItem("download-button",t.Resources.Download,t.onDownload.bind(t),"icon_download"))})),(this.isInAdminMode||this.videoItem.userData.permissions.canDownload)&&this.videoItem.contentType===a.Constants.VideoContentType.presentation&&this.videoService.getFiles(this.videoItem.id,this.isInAdminMode).then((function(e){e=e.data.value,(e=_.find(e,(function(e){return e.type===a.Constants.VideoFileType.presentation})))&&e.downloadUrl?(t.drawerItems.push(new u.DrawerItem("download-ppt-button",t.Resources.DownloadPPT,t.onDownloadPPT.bind(t),"icon_download")),t.pptFileUrl=e.downloadUrl,t.metrics&&!t.metrics[l.ItemMetricEventNames.ItemPPTDownloaded]&&(t.metrics[l.ItemMetricEventNames.ItemPPTDownloaded]=0)):t.telemetryTracker.trackEvent(l.TelemetryEventNames.presentationFileMissing)})),this.replaceVideoService.canReplace(this.videoItem)&&(e=h.isNonRecordedLiveEvent(this.videoItem)?this.Resources.ReplaceVideo.UploadNewVideo:this.Resources.ReplaceVideo.ReplaceVideo,this.drawerItems.push(new u.DrawerItem("replace-button",e,this.onReplace.bind(this),"icon_upload")),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemReplaced]&&(this.metrics[l.ItemMetricEventNames.ItemReplaced]=0)),this.videoItem.userData.permissions.canDelete&&(this.drawerItems.push(new u.DrawerItem("delete-button",this.Resources.Delete,this.onDeleteVideo.bind(this),"icon_delete")),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemDeleteClicked]&&(this.metrics[l.ItemMetricEventNames.ItemDeleteClicked]=0)),this.userCanEdit&&this.isVideoEditorEnabled&&!h.isNonRecordedLiveEvent(this.videoItem)&&(this.telemetryTracker.trackEvent(l.TelemetryEventNames.VideoEditOptionDisplayedOnListView,{id:this.videoItem.id}),this.drawerItems.push(new u.DrawerItem("trim-button",this.Resources.TrimVideo,this.onTrim.bind(this),"icon_trim",this.isEditable)),this.metrics&&!this.metrics[l.ItemMetricEventNames.ItemChanged]&&(this.metrics[l.ItemMetricEventNames.ItemChanged]=0)),!this.isStreamAdmin||this.isInAdminMode||this.userCanEdit||this.drawerItems.push(new u.DrawerItem("admin-mode-button",this.Resources.AdminMode.Enter,this.onEnterAdminMode.bind(this),"icon_edit")))},y.prototype.onEnterAdminMode=function(){this.onEdit(!0)},y.prototype.pollVideo=function(e){var t=this;void 0===e&&(e=!1),this.telemetryTracker.trackEvent(e?l.TelemetryEventNames.StatusCalledBecauseOfNotification:l.TelemetryEventNames.StatusCalledBecauseOfTimer,{id:this.videoItem.id}),this.videoService.getVideoStatus.bind(this.videoService)(this.videoItem.id).then((function(e){t.pollVideoSuccess(e.data)}),(function(e){t.telemetryTracker.fail(l.FeatureName.GetVideoStatus,l.SubFeatureName.VideoService_GetVideoStatus,e)})).finally((function(){t.refreshStatusAfterNotificationIntervalPromise&&t.$interval.cancel(t.refreshStatusAfterNotificationIntervalPromise),t.videoItem.state.toLowerCase()===a.Constants.VideoStatus.Processing.toLowerCase()&&(t.refreshStatusAfterNotificationIntervalPromise=t.$interval((function(){t.pollVideo()}),a.Constants.VideoStatusNotificationTimeout,1))}))},y.prototype.pollVideoSuccess=function(e){var t=this,n=!1;e.state===a.Constants.VideoStatus.Completed?n=this.pollCompletedVideo(e):e.state===a.Constants.VideoStatus.Processing?this.pollProcessingVideo(e):this.isEditable=!1;var r=this.drawerItems.find((function(e){return"trim-button"===e.iconClassName}));r&&(r.isVisible=this.isEditable),(this.videoItem.posterImage&&this.videoItem.posterImage.small&&this.videoItem.posterImage.small.url||!n)&&this.videoState===e.state||this.videoService.get(this.videoItem.id).then((function(e){t.videoItem=e.data})),this.videoItem.state=e.state.toLowerCase(),this.videoState=this.videoItem.state},y.prototype.pollCompletedVideo=function(e){var t=this,n=!1;return _.forEach(e.processingStatus,(function(e){e&&(e.type.trim().toLowerCase()===a.Constants.VideoProcessingStatusType.thumbnail.toLowerCase()?n=e.state.trim().toLowerCase()===a.Constants.VideoStatus.Completed.toLowerCase():e.type.trim().toLowerCase()===a.Constants.VideoProcessingStatusType.trimming.toLowerCase()&&t.isTrimVideoEnabled?(t.isTrimming=e.state===a.Constants.VideoStatus.Processing.toLowerCase(),t.processProgress=e.progress):e.type.trim().toLowerCase()===a.Constants.VideoProcessingStatusType.encoding.toLowerCase()?t.processProgress=e.progress:t.isReplaceVideoEnabled&&e.type.trim().toLowerCase()===a.Constants.VideoProcessingStatusType.replacing.toLowerCase()&&(t.isReplacing=!1,t.processProgress=e.progress))})),this.isEditable=!this.isTrimming&&!this.isReplacing,n},y.prototype.pollProcessingVideo=function(e){var t=this;_.forEach(e.processingStatus,(function(e){e.type.trim().toLowerCase()===a.Constants.VideoProcessingStatusType.replacing.toLowerCase()&&(t.isReplacing=e.state===a.Constants.VideoStatus.Processing.toLowerCase(),t.processProgress=e.progress)})),this.isEditable=!1},Object.defineProperty(y.prototype,"userCanEdit",{get:function(){return this.videoItem.userData&&this.videoItem.userData.permissions.canEdit},enumerable:!0,configurable:!0}),y.prototype.onTimeTagClicked=function(){this.telemetryTracker.trackEvent(l.TelemetryEventNames.timeTagClickedEventName,{source:a.Constants.TagClickSource.ListPageItemDescription,id:this.videoItem.id})},y.prototype.getVideoPageUrl=function(e){var t=angular.copy(this.videoSource);return t.st=s.formatISODurationToSeconds(e.start),d.generatePathWithQueryStrings(a.Constants.Routes.Video,this.videoItem.id,t)},y.prototype.isTranscriptCaption=function(e){return e.type===a.Constants.VideoEventType.transcript&&e.eventData&&e.eventData.type.toLowerCase()===a.Constants.TextTrackType.Caption.toLowerCase()},y.prototype.timeStamp=function(e){return"@"+s.formatISODuration(e.start)},y.prototype.transcriptAriaLabel=function(e){return o.formatString(this.Resources.Components.VideoListItem.TranscriptAriaLabel,s.formatISODurationToSeconds(e.start).toString())},Object.defineProperty(y.prototype,"creatorPageUrl",{get:function(){return this.videoItem.creator?o.formatString(a.Constants.Routes.User,this.videoItem.creator.id):""},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isLiveVideo",{get:function(){return this.videoItem.contentSource===a.Constants.VideoContentSource.liveStream},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isLiveNow",{get:function(){return this.videoItem.state===a.Constants.VideoStatus.Live},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isVideoCompleted",{get:function(){return this.videoItem.state===a.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"shouldCollapseLiveStatus",{get:function(){return this.$window.innerWidth<a.Constants.ScreenBreakpoints.Small},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isTrimVideoEnabled",{get:function(){return this.featureFlagsService.Values.VideoEditor},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"liveVideoIconAriaLabel",{get:function(){return this.isVideoCompleted?this.Resources.LiveCompletedEventLabel:this.Resources.LiveEventLabel},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"audioOnlyIconAriaLabel",{get:function(){return this.Resources.AudioOnlyLabel},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"uploadedDate",{get:function(){return!this.isLiveVideo||this.isVideoCompleted||this.isReplacing||this.isUploading?this.$filter("localDate")(this.videoItem.created,"ll"):this.$filter("liveEventListTime")(this.videoItem)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"publishedDate",{get:function(){return this.isLiveVideo&&!this.isVideoCompleted?this.$filter("liveEventListTime")(this.videoItem):this.$filter("localDate")(this.videoItem.publishedDate,"ll")},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"uploadedDateLabel",{get:function(){return this.isLiveVideo&&!this.isVideoCompleted||this.isUploading||this.isReplacing?this.uploadedDate:o.formatString(this.Resources.UploadDateAriaLabelToolTip,this.uploadedDate)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"privacyLabel",{get:function(){return this.videoItem&&this.videoItem.privacyMode?o.formatString(this.Resources.PrivacyAriaLabelToolTip,this.videoItem.privacyMode):""},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"publishedDateLabel",{get:function(){return this.isLiveVideo&&!this.isVideoCompleted?this.publishedDate:o.formatString(this.Resources.PublishedDateAriaLabelToolTip,this.publishedDate)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"uploaderLabel",{get:function(){return this.videoItem&&this.videoItem.creator&&this.videoItem.creator.name?o.formatString(this.Resources.UploaderAriaLabelToolTip,this.videoItem.creator.name):""},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"lastViewedDate",{get:function(){return this.$filter("localDate")(this.videoItem.userData.lastViewDate,"ll")},enumerable:!0,configurable:!0}),y.prototype.clickCreator=function(e){e.stopPropagation()},y.prototype.onTrancriptSearchItemClick=function(e){this.telemetryTracker.succeed(l.FeatureName.TranscriptSelectedInSearchResult)},y.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=y;function y(e,t,n,r,i,o,l,c,u,p,m,h,g,f,b,S,C,$,w,M,T,k){void 0===k&&(k=a.Constants.TagClickSource.ListPageItemDescription);var P=v.call(this,e,g,y)||this;return P.$scope=e,P.videoService=t,P.deleteConfirmationDialogService=n,P.dataPollingService=r,P.Resources=i,P.$q=o,P.navigationService=l,P.$filter=c,P.addChannelsDialog=u,P.addGroupChannelsDialog=p,P.videoShareDialog=m,P.videoBgUploaderService=h,P.telemetryService=f,P.featureFlagsService=b,P.$interval=S,P.mediaDownloaderService=C,P.principalService=$,P.$window=w,P.videoEditorDialog=M,P.replaceVideoService=T,P.tagClickSource=k,P.processProgress=0,P.uploadProgress=0,P.isTrimming=!1,P.isReplacing=!1,P.isEditable=!0,P.fixedElements=new Array,P.stopPolling=!1,P.itemBaseClass="video-item-details",P.videoSource={},P.headerRow||(P.videoItem=P.item,P.videoState=P.videoItem.state,P.videoItem.id&&P.videoState&&P.handleVideoStateChange(!1),P.featureFlagsService.Values.ResumePlayback&&P.videoItem.id&&P.videoItem.userData&&P.videoItem.userData.isViewed&&(M=s.formatISODurationToSeconds(P.videoItem.media.duration),(T=P.videoItem.userData&&P.videoItem.userData.lastViewPosition?s.formatISODurationToSeconds(P.videoItem.userData.lastViewPosition):null)&&M&&(P.playbackProgressPercentage=T/M*100,(30<T||T<M-30)&&(P.resumePosition=T))),P.InitDrawerItems(),e.$on(a.Constants.Events.Notification_VideoStatus,(function(e,t){P.videoItem&&t.id===P.videoItem.id&&P.handleVideoStateChange(!0)})),P.$scope.$on(a.Constants.Events.TimeStampTagClicked,(function(e,t){e.stopPropagation(),_.isNumber(t.timeInSeconds)&&0<=t.timeInSeconds&&((e=angular.copy(P.videoSource)).st=t.timeInSeconds,P.navigationService.navigate(d.generatePathWithQueryStrings(a.Constants.Routes.Video,P.videoItem.id,e)))})),P.$scope.$on("$destroy",(function(){P.stopPolling=!0,P.refreshStatusAfterNotificationIntervalPromise&&P.$interval.cancel(P.refreshStatusAfterNotificationIntervalPromise)}))),P.principalService.getMyPrincipalInfo().then((function(e){P.isStreamAdmin=P.principalService.getIsStreamAdmin(),P.isInAdminMode=P.isStreamAdmin&&P.principalService.getAdminModeStatus(),P.$scope.$watch(P.principalService.getAdminModeStatus,(function(e,t){e!=t&&(P.isInAdminMode=e)}))})),P.tagClickedTelemetryProperties={source:k,id:P.videoItem?P.videoItem.id:""},P}t.VideoItemController=i},"./app/components/VideoItem/VideoItemHeader.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/VideoItem/VideoItem.ts");i(l,o=a.VideoItem),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.template=n("./app/components/VideoItem/VideoItem.html"),e}t.VideoItemHeader=i,s.registerComponent("videoItemHeader",i,angular.module("jumper"))},"./app/components/VideoItemWithOverlay/VideoItemWithOverlay.html":function(e,t){e.exports='<div class=video-item-with-description> <a class=video-item-link ng-href={{$ctrl.getVideoPageUrl()}} ng-click=$ctrl.videoClicked() aria-label={{$ctrl.getposterImageAriaLabel()}}> <div class=poster-container> <img ng-src={{$ctrl.videoItem.posterImage.large.url}} alt={{$ctrl.getposterImageAriaLabel()}} ng-if=$ctrl.videoItem.posterImage.large.url /> <svg-src class=defaul-live-poster ng-if="$ctrl.isImageUrlsEmpty && $ctrl.isLiveVideo" svg-name=live_video_poster_default /> <video-meta-overlay video-item=$ctrl.videoItem share-metrics=$ctrl.shareMetrics like-unlike-metrics=$ctrl.likeUnlikeMetrics add-remove-watchlist-metrics=$ctrl.addRemoveWatchlistMetrics on-update=$ctrl.onUpdate() screen-name=$ctrl.screenName hide-like-button=true hide-share-button=true enable-hover=true></video-meta-overlay> <div class=video-duration> {{$ctrl.videoItem.media.duration | videoDuration}} </div> </div> </a> <div class=playback-progress-bar ng-if="$ctrl.videoItem.userData.isViewed && $ctrl.playbackProgressPercentage"> <progress-bar max=100 value=$ctrl.playbackProgressPercentage class=playback-progress aria-label=$ctrl.playbackProgessBarAriaLabel></progress-bar> </div> </div>'},"./app/components/VideoItemWithOverlay/VideoItemWithOverlay.less":function(e,t){},"./app/components/VideoItemWithOverlay/VideoItemWithOverlay.ts":function(e,t,n){function r(){this.controller=o.VideoItemWithOverlayController,this.template=n("./app/components/VideoItemWithOverlay/VideoItemWithOverlay.html"),this.bindings={videoItem:"=",exitByProperty:"=",exitByValue:"<",shareMetrics:"=",likeUnlikeMetrics:"=",addRemoveWatchlistMetrics:"=",onUpdate:"&",screenName:"<",isInAdminMode:"<"},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItemWithOverlay/VideoItemWithOverlay.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/VideoItemWithOverlay/VideoItemWithOverlayController.ts");t.VideoItemWithOverlay=r,i.registerComponent("videoItemWithOverlay",r,angular.module("jumper"))},"./app/components/VideoItemWithOverlay/VideoItemWithOverlayController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/services/NavigationService.ts"),i=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/models/TelemetryEventModels.ts");l.prototype.getVideoPageUrl=function(){var e={list:"trending"};return this.isInAdminMode&&(e[i.Constants.DataQueryParams.IsInAdminMode]=!0),this.resumePosition&&(e.st=this.resumePosition),r.generatePathWithQueryStrings(i.Constants.Routes.Video,this.videoItem.id,e)},l.prototype.videoClicked=function(){this.exitByProperty&&this.exitByValue&&(this.exitByProperty=this.exitByValue),this.isInAdminMode&&this.isInAdminMode&&this.navigationService.addQueryParam({isInAdminMode:"true"})},l.prototype.getposterImageAriaLabel=function(){return o.formatString(this.resources.VideoPosterImageAriaLabelExpanded,this.videoItem.name,s.getNarratorFriendlyTime(s.formatISODuration(this.videoItem.media.duration),this.resources.Units.Time),String(this.videoItem.metrics.views),String(this.videoItem.metrics.likes),String(this.videoItem.metrics.comments))},Object.defineProperty(l.prototype,"isImageUrlsEmpty",{get:function(){return s.isPosterImageUrlsEmpty(this.videoItem.posterImage)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isLiveVideo",{get:function(){return this.videoItem.contentSource===i.Constants.VideoContentSource.liveStream},enumerable:!0,configurable:!0}),l.$inject=["resources","$element","featureFlagsService","inAdminModeService","navigationService"],n=l;function l(e,t,n,r,i){var o=this;this.resources=e,this.$element=t,this.inAdminModeService=r,this.navigationService=i,this.screenName||(this.screenName=a.ScreenName.Auto),this.$element.hover((function(){o.$element.find(".animate-button").removeClass("hidden")}),(function(){o.$element.find(".animate-button").addClass("hidden")})),this.$element.focusin((function(){o.$element.find(".animate-button").removeClass("hidden")})),this.$element.focusout((function(){o.$element.find(".animate-button").addClass("hidden")})),n.Values.ResumePlayback&&this.videoItem.userData&&this.videoItem.userData.isViewed&&(i=s.formatISODurationToSeconds(this.videoItem.media.duration),(n=this.videoItem.userData&&this.videoItem.userData.lastViewPosition?s.formatISODurationToSeconds(this.videoItem.userData.lastViewPosition):null)&&i&&(this.playbackProgressPercentage=n/i*100,(30<n||n<i-30)&&(this.resumePosition=n)))}t.VideoItemWithOverlayController=n},"./app/components/VideoList/VideoResults.html":function(e,t){e.exports='<div class="row row-size0"> <div class="search-filter-bar full-vp-width" sticky-element=$ctrl.filterStickyClass auto-margin-next=true> <div class=search-filter-bar-content> <div class="row column page-title" ng-if=$ctrl.pageTitle ng-transclude=pageTitle> <h1 class=page-title-value>{{::$ctrl.pageTitle}}</h1> </div> <div class=row> <div class="column large-10 medium-10 small-10" ng-transclude=filters> <search-and-filter> <search-bar class="column large-5 medium-5 small-5" placeholder=$ctrl.searchBarText label=$ctrl.searchBarLabel default-value=$ctrl.searchString on-search=$ctrl.searchPressed(value) events-list=$ctrl.listEvents.searchEvents></search-bar> <search-filter action-role=sort class="column end large-5 medium-5 small-5 video-sort-options" model=$ctrl.videoSortOptions value=$ctrl.videoSort metrics=$ctrl.listEvents.sortEvents telemetry-prefix=$ctrl.sortByPrefix></search-filter> </search-and-filter> </div> </div> </div> </div> </div> <div class="row column row-size1 items-list relativeposition"> <items-list load-data-page="$ctrl.loadDataPage(skip, top)" refresh-data=$ctrl.refreshData remove-item=$ctrl.removeItem list-events=$ctrl.listEvents resource-name=$ctrl.resources.ItemList.ResourceName.Videos screen-name=$ctrl.screenName on-data-change=$ctrl.getCurrentChannelList(changedData)> <header ng-transclude=header> <video-item-header header-row=true> </video-item-header> </header> <item ng-transclude=item ng-if=$ctrl.principalEntityFetched> <browse-video-item ng-if=!$ctrl.isItemTranscluded class=video-item hide-creator=false video-item=item video-source=$ctrl.videoSource metrics=$ctrl.listEvents.itemsEvents is-stream-admin=$ctrl.isStreamAdmin is-in-admin-mode=$ctrl.isInAdminMode></browse-video-item> </item> <no-data-message ng-transclude=noDataMessage> <div class="row column"> <div class="no-data-info listpage-no-data-info"> <div class=text-container>{{::$ctrl.resources.NoDataHeader}}</div> <p ng-if=!$ctrl.showTeamsUpsell class=sub-text-container> {{$ctrl.noDataMessage}} </p> <p ng-if=$ctrl.showTeamsUpsell class=sub-text-container> {{::$ctrl.resources.TeamsMeetingUpsell.BeforeLink}} <a external-link class=c-hyperlink href="https://go.microsoft.com/fwlink/?linkid=2093236" ng-click=$ctrl.logTeamsUpsellClicked()> {{::$ctrl.resources.TeamsMeetingUpsell.LinkText}} </a> {{::$ctrl.resources.TeamsMeetingUpsell.AfterLink}} </p> </div> </div> </no-data-message> <prepend-item ng-transclude=prependItem> </prepend-item> </items-list> </div> '},"./app/components/VideoList/VideoResults.less":function(e,t){},"./app/components/VideoList/VideoResults.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/components/VideoList/VideoResultsController.ts");function o(){this.controller=i.VideoResultsController,this.template=n("./app/components/VideoList/VideoResults.html"),this.bindings={loadVideoResults:"&",onInit:"&",hideSearchAndFilter:"<",extraQueryParams:"<?",showTeamsUpsell:"<",channelPageList:"&",idOfFirstVideoToPlay:"&"},this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"?item",filters:"?filters",pageTitle:"?pageTitle",header:"?header"}}n("./app/components/VideoList/VideoResults.less"),t.VideoResults=o,r.registerComponent("videoResults",o,angular.module("jumper"))},"./app/components/VideoList/VideoResultsController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/utility/ActivityIds.ts"),l=n("./app/utility/string.ts"),c=n("./app/components/ItemsList/ListBase/ListBase.ts"),d=n("./app/models/TelemetryEventModels.ts");i(u,o=c.ListBase),u.prototype.loadDataPage=function(e,t){return this.loadVideoResults({skip:e,top:t,isInAdminMode:this.isInAdminMode})},u.prototype.getCurrentChannelList=function(e){e&&0<e.length&&e[0].id&&(this.channelPageList({list:e}),this.idOfFirstVideoToPlay({id:e[0].id}))},u.prototype.checkAllTypes=function(){return this.$location.search()[s.Constants.QueryStringKeys.Sort]in s.Constants.VideoSortOptions},u.prototype.searchPressed=function(e){e&&0<e.length&&!this.hasSearched&&this.videoSort===this.defaultSort&&(this.videoSort=s.Constants.VideoSortOptions.Relevance),this.hasSearched=!0,this.searchString=e},u.prototype.logTeamsUpsellClicked=function(){this.telemetryService.getTracker(this.screenName).trackEvent(d.TelemetryEventNames.TeamsUpsellClicked)},u.prototype.onInitInternal=function(){var e=this;this.principalService.getMyPrincipalInfo().finally((function(){e.principalEntityFetched=!0})),this.isItemTranscluded=this.$transclude.isSlotFilled("item"),this.watchGroup=[function(){return e.searchString},function(){return e.videoSort}],this.videoSortOptions={label:this.resources.Sortby,options:(this.featureFlagsService.Values.SortByName?[{value:s.Constants.VideoSortOptions.Name,text:this.resources.Browse.VideoSort.Name,telemetrySuffix:s.Constants.sortBySuffixOptions.Name}]:[]).concat([{value:s.Constants.VideoSortOptions.Relevance,text:this.resources.Browse.VideoSort.Relevance,telemetrySuffix:s.Constants.sortBySuffixOptions.Relevance},{value:s.Constants.VideoSortOptions.Trending,text:this.resources.Browse.VideoSort.Trending,telemetrySuffix:s.Constants.sortBySuffixOptions.Trending},{value:s.Constants.VideoSortOptions.PublishDate,text:this.resources.Browse.VideoSort.PublishDate,telemetrySuffix:s.Constants.sortBySuffixOptions.PublishDate},{value:s.Constants.VideoSortOptions.Views,text:this.resources.Browse.VideoSort.Views,telemetrySuffix:s.Constants.sortBySuffixOptions.Views},{value:s.Constants.VideoSortOptions.Likes,text:this.resources.Browse.VideoSort.Likes,telemetrySuffix:s.Constants.sortBySuffixOptions.Likes}])},this.sortByPrefix=s.Constants.metricsPrefixes.SortBy,this.sortDirection=s.Constants.SortDirection.Descending,this.noDataMessage=l.formatString(this.resources.ItemList.NoMatchingResultsMessage,this.resources.ItemList.ResourceName.Videos),this.filterStickyClass="show-for-medium",this.searchBarText=this.resources.Components.SearchBar.SearchForVideos,this.searchBarLabel=this.resources.Components.SearchBar.SearchForVideosLabel},u.prototype.onInitWatchersInternal=function(){var e=this;this.videoSort=this.defaultSort,this.$scope.$watchGroup(this.watchGroup,(function(t,n,r){e.filtersDefaultWatchFired&&n&&!_.some(t.slice(1),(function(e){return void 0===e}))&&(e.refreshData=!0),e.filtersDefaultWatchFired=!0}))},u.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","$window","$transclude","$timeout","principalService","$location","navigationService","clearQueryParamsService"],i=u;function u(e,t,n,r,i,l,c,d,u,p,m,h){var g=o.call(this,e,r,i,u,!0)||this;return g.$scope=e,g.videoService=t,g.resources=n,g.telemetryService=r,g.featureFlagsService=i,g.$window=l,g.$transclude=c,g.$timeout=d,g.principalService=u,g.$location=p,g.navigationService=m,g.clearQueryParamsService=h,g.videoSource={},g.filtersDefaultWatchFired=!1,g.isFirstRun=!0,g.skipSetQueryParams=!1,g.isItemTranscluded=!1,g.onInitInternal(),g.onInit({videoResultsController:g}),g.defaultSort||(g.defaultSort=s.Constants.VideoSortOptions.Trending),a.ActivityIds.initActivityId(g.screenName),g.onInitWatchersInternal(),g.featureFlagsService.Values.BrowseBack&&(setTimeout((function(){g.$scope.$watch((function(){return g.$location.search()}),(function(e,t){e[s.Constants.QueryStringKeys.Sort]&&(g.videoSort=e[s.Constants.QueryStringKeys.Sort]),e[s.Constants.QueryStringKeys.SearchTerm]&&(g.searchString=e[s.Constants.QueryStringKeys.SearchTerm]),g.clearQueryParamsService.diffPathName||(e[s.Constants.QueryStringKeys.Sort]||(e[s.Constants.QueryStringKeys.SearchTerm]?g.videoSort=s.Constants.VideoSortOptions.Relevance:(g.videoSort=g.defaultSort,g.skipSetQueryParams=!0)),e[s.Constants.QueryStringKeys.SearchTerm]||(g.searchString=null))}))}),0),g.$scope.$watch((function(){return g.searchString}),(function(e,t){e===t||g.clearQueryParamsService.diffPathName||(e?(g.featureFlagsService.Values.BrowseBack,g.$location.search(_.assign({},g.extraQueryParams,{sort:g.videoSort,q:e}))):g.$location.search(s.Constants.QueryStringKeys.SearchTerm,null))})),setTimeout((function(){g.$scope.$watch((function(){return g.videoSort}),(function(e,t){!e||e===t||g.skipSetQueryParams||g.clearQueryParamsService.diffPathName||(g.featureFlagsService.Values.BrowseBack,g.$location.search(_.assign({},g.extraQueryParams,{sort:e,q:g.searchString}))),g.skipSetQueryParams=!1,g.clearQueryParamsService.diffPathName=!1}))}),100)),g}t.VideoResultsController=i},"./app/components/VideoPrivacySelector/VideoPrivacySelector.html":function(e,t){e.exports="<drop-down options=$ctrl.privacyModes aria-label={{::$ctrl.resources.Components.VideoPrivacySelctor.AriaLabel}} value=$ctrl.privacyMode confirm-selection-change=$ctrl.confirmSelectionChange({privacyMode:selectedOption})></drop-down>"},"./app/components/VideoPrivacySelector/VideoPrivacySelector.less":function(e,t){},"./app/components/VideoPrivacySelector/VideoPrivacySelector.ts":function(e,t,n){function r(){this.restrict="E",this.controller=i.VideoPrivacySelectorController,this.template=n("./app/components/VideoPrivacySelector/VideoPrivacySelector.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={privacyMode:"=?",confirmSelectionChange:"&?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoPrivacySelector/VideoPrivacySelector.less");var i=n("./app/components/VideoPrivacySelector/VideoPrivacySelectorController.ts"),o=n("./app/utility/appUtil.ts");t.VideoPrivacySelector=r,o.registerDirective("videoPrivacySelector",r,angular.module("jumper"))},"./app/components/VideoPrivacySelector/VideoPrivacySelectorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/appUtil.ts");o.$inject=["$scope","$element","resources"],n=o;function o(e,t,n,o){this.$scope=e,this.$element=t,this.resources=n,this.$timeout=o,this.selectedIndex=0,this.confirmationEnabled=!1,this.expanded=!1,this.highlightedIndex=-1,this.displayIndex=0,this.optionIdPrefix="privacy-option-",this.id=i.generateGuid(),this.privacyModes=[{value:r.Constants.privacyMode.organization,text:this.resources.PermissionsMyOrg,icon:"icon_privacy_my_org",description:this.resources.PermissionsMyOrg+" ("+this.resources.Components.VideoPrivacySelctor.PermissionDescriptions.MyOrg+")"},{value:r.Constants.privacyMode.custom,text:this.resources.PermissionsCustom,icon:"icon_privacy_custom",description:this.resources.PermissionsCustom+" ("+this.resources.Components.VideoPrivacySelctor.PermissionDescriptions.Custom+")"},{value:r.Constants.privacyMode.private,text:this.resources.PermissionsOnlyMe,icon:"icon_privacy_only_me",description:this.resources.PermissionsOnlyMe+" ("+this.resources.Components.VideoPrivacySelctor.PermissionDescriptions.OnlyMe+")"}]}t.VideoPrivacySelectorController=n},"./app/components/VideoUpdate/VideoUpdate.ts":function(e,t,n){function r(){this.controller=i.VideoUpdateController,this.template=n("./app/components/VideoUpdate/VideoUpdateV2.html"),this.bindings={videoId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoUpdate/VideoUpdateV2.less");var i=n("./app/components/VideoUpdate/VideoUpdateController.ts"),o=n("./app/utility/appUtil.ts");t.VideoUpdate=r,o.registerComponent("videoUpdate",r,angular.module("jumper"))},"./app/components/VideoUpdate/VideoUpdateV2.html":function(e,t){e.exports='<section class="section-size0 updateSection update-section-v2"> <form name=form role=form ng-if=!$ctrl.videoLoadFailedMessage> <div class=edit-banner ng-class="{\'admin-mode-banner\':$ctrl.isStreamAdmin}" ng-if=!$ctrl.isReadOnlyVideo> <div class=message-text ng-if="$ctrl.isStreamAdmin && !$ctrl.isInAdminMode">{{$ctrl.adminMessage}}</div> <div class=buttons-container ng-if=!$ctrl.recorderUploadStatusFailed ng-class="{\'admin-mode\':$ctrl.isStreamAdmin && !$ctrl.isInAdminMode}"> <div class=left> <button class=stream-btn name=btnReload ng-class="{\'admin-mode-button btn-admin-mode\':$ctrl.isInAdminMode}" ng-click=$ctrl.confirmReload(form) ng-if=$ctrl.video.id type=button> {{::$ctrl.resources.Cancel}} </button> </div> <div class=right ng-if=$ctrl.video.id> <button class="stream-btn btn-primary applyChanges" name=btnSave ng-class="{\'admin-mode-button btn-admin-mode\':$ctrl.isInAdminMode}" ng-click=$ctrl.save(form) ng-disabled="$ctrl.applyChangesDisabled || !$ctrl.videoEditStateInfo.unsavedChanges" type=button> {{$ctrl.saveButtonText}} </button> </div> </div> </div> <div class=read-only-mode-banner ng-if=$ctrl.isReadOnlyVideo> {{::$ctrl.resources.ReadonlyVideoEditBanner}} </div> <div class=update-card ng-if=!$ctrl.recorderUploadStatusFailed> <div ng-if=$ctrl.video.id class="row row-size1 edit-content-delete"> <span class=update-title-content>{{$ctrl.title}}</span> <div class=update-action-buttons> <button ng-click=$ctrl.download() type=button class="c-action-trigger update-action-button video-download" ng-class="{\'admin-mode-button\':$ctrl.isInAdminMode}" ng-if=$ctrl.canDownload> <svg-src class=update-action-icon svg-name=icon_download inline-with-text=true></svg-src> <span class=update-action-text>{{::$ctrl.resources.Download}}</span> </button> <button ng-click=$ctrl.downloadPPT() type=button class="c-action-trigger update-action-button video-download-ppt" ng-class="{\'admin-mode-button\':$ctrl.isInAdminMode}" ng-if=$ctrl.canDownloadPPT> <svg-src class=update-action-icon svg-name=icon_download inline-with-text=true></svg-src> <span class=update-action-text>{{::$ctrl.resources.DownloadPPT}}</span> </button> <button id=replaceDialogEntry ng-click=$ctrl.replace() type=button class="c-action-trigger update-action-button video-replace" ng-class="{\'admin-mode-button\':$ctrl.isInAdminMode}" ng-if=$ctrl.canReplace> <svg-src class=update-action-icon svg-name=icon_upload inline-with-text=true></svg-src> <span class=update-action-text>{{::$ctrl.resources.ReplaceVideo.ReplaceVideo}}</span> </button> <button id=deleteVideoButton ng-if=!$ctrl.isReadOnlyVideo ng-click=$ctrl.confirmDelete(form) type=button class="c-action-trigger update-action-button video-delete" ng-class="{\'admin-mode-button\':$ctrl.isInAdminMode}"> <svg-src class=update-action-icon svg-name=icon_delete inline-with-text=true></svg-src> <span class=update-action-text>{{::$ctrl.resources.VideoUpdate.deleteVideo}}</span> </button> </div> </div> <video-edit ng-if=$ctrl.video ng-class="{\'admin-mode\':$ctrl.isInAdminMode}" is-in-admin-mode=$ctrl.isInAdminMode video=$ctrl.video creator=$ctrl.video.creator video-edit-state-info=$ctrl.videoEditStateInfo get-initial-data=true form-name=videoUpdateform manual-save-finished=$ctrl.saveFinished(result) expanded-view=$ctrl.isVideoCardExpanded summary-metrics=$ctrl.updateMetrics summary-properties=$ctrl.updateProperties failed-message=$ctrl.lastErrorMessage auto-save=false alert-progress=true is-live-event=false></video-edit> </div> </form> <div ng-if="$ctrl.showAdminOnlyErrorMessage || $ctrl.adminCannotEditMessage"> <error-box title-str={{::$ctrl.resources.Controllers.Video.Forbidden.Title}} message={{::$ctrl.resources.Controllers.Video.Forbidden.EditMessage}} no-actions=true full-screen=true /> </div> <div ng-if=$ctrl.videoLoadFailedMessage> <error-box title-str={{::$ctrl.productName}} message={{::$ctrl.videoLoadFailedMessage}} no-actions=true full-screen=true /> </div> </section>'},"./app/components/VideoUpdate/VideoUpdateV2.less":function(e,t){},"./app/components/WatchlistPage/WatchlistVideoItem/WatchlistVideoItem.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/WatchlistPage/WatchlistVideoItem/WatchlistVideoItemController.ts");n=n("./app/components/VideoItem/VideoItem.ts"),i(l,o=n.VideoItem),i=l;function l(){var e=null!==o&&o.apply(this,arguments)||this;return e.controller=a.WatchlistVideoItemController,e}t.WatchlistVideoItem=i,s.registerComponent("watchlistVideoItem",i,angular.module("jumper"))},"./app/components/WatchlistPage/WatchlistVideoItem/WatchlistVideoItemController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItem/VideoItem.less");var o,s=n("./app/utility/string.ts"),a=n("./app/utility/Constants.ts");n=n("./app/components/VideoItem/VideoItemController.ts"),i(l,o=n.VideoItemController),Object.defineProperty(l.prototype,"infoMessage",{get:function(){return this.videoItem.userData?s.formatString(this.Resources.Components.Watchlist.PinnedDate,this.$filter("localDate")(this.videoItem.userData.pinnedDate,"l")):""},enumerable:!0,configurable:!0}),l.prototype.unPinThisVideo=function(){var e=o.prototype.unPinThisVideo.call(this);return this.onItemDeleted(this.videoItem),e},l.prototype.InitDrawerItems=function(){this.drawerItems=[],o.prototype.InitDrawerItems.call(this)},l.$inject=["$scope","videoService","deleteConfirmationDialogService","dataPollingService","resources","$q","navigationService","$filter","addChannelsDialog","addGroupChannelsDialog","videoShareDialog","videoBgUploaderService","$timeout","telemetryService","featureFlagsService","$interval","mediaDownloaderService","principalService","$window","videoEditorDialog","replaceVideoService"],i=l;function l(e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C){return(y=o.call(this,e,t,n,r,i,s,l,c,d,u,p,m,h,g,f,v,y,b,S,_,C,a.Constants.TagClickSource.WatchlistVideoItem)||this).$scope=e,y.videoService=t,y.deleteConfirmationDialogService=n,y.dataPollingService=r,y.Resources=i,y.$q=s,y.navigationService=l,y.$filter=c,y.addChannelsDialog=d,y.addGroupChannelsDialog=u,y.videoShareDialog=p,y.videoBgUploaderService=m,y.telemetryService=g,y.principalService=b,y.$window=S,y.videoEditorDialog=_,y.replaceVideoService=C,y.videoSource.list=a.Constants.lists.WatchList,y}t.WatchlistVideoItemController=i},"./app/components/index.ts":function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./app/components/o365ApplicationLauncher/o365ApplicationLauncher.ts")),r(n("./app/components/topbar/topbar.ts")),r(n("./app/components/Footer/Footer.ts")),r(n("./app/components/Upload/UploadVideo/UploadVideo.ts")),r(n("./app/components/Upload/UploadDetail/UploadDetail.ts")),r(n("./app/components/Upload/VideoPoster/VideoPoster.ts")),r(n("./app/components/Upload/DraftPoster/DraftPoster.ts")),r(n("./app/components/Upload/TextTrackDetails/TextTrackDetails.ts")),r(n("./app/components/Upload/BgUploadProgress/BgUploadProgress.ts")),r(n("./app/components/Upload/BgUploadProgressItem/BgUploadProgressItem.ts")),r(n("./app/components/Upload/UploadCaptionLink/UploadCaptionLink.ts")),r(n("./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitles.ts")),r(n("./app/components/Upload/AfterEventAvailability/AfterEventAvailability.ts")),r(n("./app/components/Upload/CustomEndEventMessageInput/CustomEndEventMessageInput.ts")),r(n("./app/components/Upload/VideoEdit/VideoEdit.ts")),r(n("./app/components/Upload/UploadPermissions/UploadPermissions.ts")),r(n("./app/components/Upload/VideoEdit/VideoEditDetailsPane/VideoEditDetailsPane.ts")),r(n("./app/components/Upload/VideoEdit/VideoEditPermissionsPane/VideoEditPermissionsPane.ts")),r(n("./app/components/Upload/VideoEdit/VideoEditOptionsPane/VideoEditOptionsPane.ts")),r(n("./app/components/Upload/AccessibilityOptions/AccessibilityOptions.ts")),r(n("./app/components/Upload/VideoCommentToggle/VideoCommentToggle.ts")),r(n("./app/components/Upload/AudioEnhancementOwnerToggle/AudioEnhancementOwnerToggle.ts")),r(n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearch.ts")),r(n("./app/components/Upload/VideoPermissions/VideoPermissions.ts")),r(n("./app/components/Video/VideoPage/VideoPage.ts")),r(n("./app/components/Video/RelatedChannels/RelatedChannels.ts")),r(n("./app/components/Video/Comments/Comments.ts")),r(n("./app/components/Video/Comment/Comment.ts")),r(n("./app/components/Video/RelatedVideos/RelatedVideos.ts")),r(n("./app/components/Video/WatchListVideos/WatchListVideos.ts")),r(n("./app/components/ChannelSelector/ChannelSelector.ts")),r(n("./app/components/Creator/Comment/CommentCreator.ts")),r(n("./app/components/Creator/Video/VideoCreator.ts")),r(n("./app/components/Video/VideoStatistics/VideoStatistics.ts")),r(n("./app/components/Video/VideoPrivacy/VideoPrivacy.ts")),r(n("./app/components/Video/ChannelList/ChannelList.ts")),r(n("./app/components/ReadLessReadMore/ReadLessReadMore.ts")),r(n("./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItem.ts")),r(n("./app/components/PrincipalGroup/PrincipalGroup.ts")),r(n("./app/components/PrincipalGroupCompact/PrincipalGroupCompact.ts")),r(n("./app/components/Video/ResponsiveVideoItem/ResponsiveVideoItem.ts")),r(n("./app/components/PrivacyModeSelector/PrivacyModeSelector.ts")),r(n("./app/components/AutoComplete/AutoComplete.ts")),r(n("./app/components/UnhappyFace/UnhappyFace.ts")),r(n("./app/components/ErrorBox/ErrorBox.ts")),r(n("./app/components/Studio/StudioPage/StudioPage.ts")),r(n("./app/components/Studio/StudioChannelResults/StudioChannelResults.ts")),r(n("./app/components/Studio/StudioVideoResults/StudioVideoResults.ts")),r(n("./app/components/Studio/StudioMeetingsResults/StudioMeetingsResults.ts")),r(n("./app/components/Studio/ChannelsFollowingResults/ChannelsFollowingResults.ts")),r(n("./app/components/Studio/StudioWatchlistResults/StudioWatchlistResults.ts")),r(n("./app/components/Studio/StudioRecentlyViewedResults/StudioRecentlyViewedResults.ts")),r(n("./app/components/Studio/RecentlyViewedVideoItem/RecentlyViewedVideoItem.ts")),r(n("./app/components/Studio/StudioRecycleBinResults/StudioRecycleBinResults.ts")),r(n("./app/components/ItemsList/ItemsList.ts")),r(n("./app/components/VideoItem/VideoItem.ts")),r(n("./app/components/VideoItem/VideoItemHeader.ts")),r(n("./app/components/VideoItemWithOverlay/VideoItemWithOverlay.ts")),r(n("./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.ts")),r(n("./app/components/PersonItem/PersonItem.ts")),r(n("./app/components/PrincipalItem/PrincipalItem.ts")),r(n("./app/components/PrincipalResults/PrincipalResults.ts")),r(n("./app/components/VideoUpdate/VideoUpdate.ts")),r(n("./app/components/Browse/BrowsePage/BrowsePage.ts")),r(n("./app/components/Browse/BrowseChannelResults/BrowseChannelResults.ts")),r(n("./app/components/Browse/BrowseVideoResults/BrowseVideoResults.ts")),r(n("./app/components/Browse/BrowsePeopleResults/BrowsePeopleResults.ts")),r(n("./app/components/Browse/BrowseVideoItem/BrowseVideoItem.ts")),r(n("./app/components/Search/SearchAndFilter/SearchAndFilter.ts")),r(n("./app/components/Search/SearchFilter/SearchFilter.ts")),r(n("./app/components/Search/SearchBar/SearchBar.ts")),r(n("./app/components/HomePage/PinnedVideos/PinnedVideos.ts")),r(n("./app/components/HomePage/RecentlyViewed/RecentlyViewed.ts")),r(n("./app/components/HomePage/VideoCarousel/VideoCarousel.ts")),r(n("./app/components/HomePage/HomePage.ts")),r(n("./app/components/HomePage/FollowingChannelsCompact/FollowingChannelsCompact.ts")),r(n("./app/components/HomePage/Invite/Invite.ts")),r(n("./app/components/Channel/ChannelDetail/ChannelDetail.ts")),r(n("./app/components/Channel/ChannelVideoList/ChannelVideoList.ts")),r(n("./app/components/Channel/FollowActionTrigger/FollowActionTrigger.ts")),r(n("./app/components/Channel/ChannelStatistics/ChannelStatistics.ts")),r(n("./app/components/Channel/ChannelVideoItem/ChannelVideoItem.ts")),r(n("./app/components/ChannelPosterImage/ChannelPosterImage.ts")),r(n("./app/components/VideoPrivacySelector/VideoPrivacySelector.ts")),r(n("./app/components/ChannelCreateUpdate/ChannelUpdateNameDescription/ChannelUpdateNameDescription.ts")),r(n("./app/components/ChannelCreateUpdate/ChannelUpdateContributorCompact/ChannelUpdateContributorCompact.ts")),r(n("./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributor.ts")),r(n("./app/components/TaggedDescription/TaggedDescription.ts")),r(n("./app/components/GetStarted/GetStarted.ts")),r(n("./app/components/UserFeedback/UserFeedback.ts")),r(n("./app/components/FirstRun/FirstRun.ts")),r(n("./app/components/PrincipalList/PrincipalList.ts")),r(n("./app/components/WatchlistPage/WatchlistVideoItem/WatchlistVideoItem.ts")),r(n("./app/components/VideoList/VideoResults.ts")),r(n("./app/components/ChannelList/ChannelResults.ts")),r(n("./app/components/User/UserPage/UserPage.ts")),r(n("./app/components/User/UserChannelResults/UserChannelResults.ts")),r(n("./app/components/User/UserVideoResults/UserVideoResults.ts")),r(n("./app/components/AdminSettingDetail/AdminSettingDetail.ts")),r(n("./app/components/UserSettingDetail/UserSettingDetail.ts")),r(n("./app/components/Fallback/Fallback.ts")),r(n("./app/components/PrincipalSelector/PrincipalSelector.ts")),r(n("./app/components/Video/Transcript/Transcript.ts")),r(n("./app/components/Video/Forms/Forms.ts")),r(n("./app/components/Video/Forms/FormPanel/FormPanel.ts")),r(n("./app/components/Video/VideoMetadata/VideoMetadata.ts")),r(n("./app/components/Channel/ChannelCard/ChannelCard.ts")),r(n("./app/components/Video/SearchEvent/SearchEvent.ts")),r(n("./app/components/Upload/VideoThumbnailPoster/VideoThumbnailPoster.ts")),r(n("./app/components/Group/GroupPage/GroupPage.ts")),r(n("./app/components/Group/GroupHome/GroupHome.ts")),r(n("./app/components/Group/GroupOverlay/GroupOverlay.ts")),r(n("./app/components/FaceTimeline/FaceTimeline.ts")),r(n("./app/components/FaceChart/FaceChart.ts")),r(n("./app/components/LoadingPanel/LoadingPanel.ts")),r(n("./app/components/StreamLoading/StreamLoading.ts")),r(n("./app/components/Browse/BrowseGroupResults/BrowseGroupResults.ts")),r(n("./app/components/Studio/StudioGroupResults/StudioGroupResults.ts")),r(n("./app/components/GroupList/GroupResults/GroupResults.ts")),r(n("./app/components/GroupList/GroupItem/GroupItem.ts")),r(n("./app/components/GroupList/GroupStatistics/GroupStatistics.ts")),r(n("./app/components/Group/GroupVideoResults/GroupVideoResults.ts")),r(n("./app/components/Group/GroupVideoItem/GroupVideoItem.ts")),r(n("./app/components/Group/GroupVideoResults/GroupVideoResults.ts")),r(n("./app/components/Group/GroupChannels/GroupChannels.ts")),r(n("./app/components/Channel/ChannelStatisticsWithIcon/ChannelStatisticsWithIcon.ts")),r(n("./app/components/Group/GroupPrincipals/GroupPrincipals.ts")),r(n("./app/components/Administrator/UsageDetails/UsageDetails.ts")),r(n("./app/components/Administrator/AssignAdmins/AssignAdmins.ts")),r(n("./app/components/Administrator/CommentsManagement/CommentsManagement.ts")),r(n("./app/components/Administrator/FaceDetection/FaceDetection.ts")),r(n("./app/components/Administrator/CompanyPolicies/CompanyPolicies.ts")),r(n("./app/components/Administrator/ContentCreation/ContentCreation.ts")),r(n("./app/components/Administrator/LiveEvents/LiveEvents.ts")),r(n("./app/components/Administrator/Groups/Groups.ts")),r(n("./app/components/Administrator/GuestUserManagement/GuestUserManagement.ts")),r(n("./app/components/Administrator/SpotlightVideos/SpotlightVideos.ts")),r(n("./app/components/Administrator/StreamAccess/StreamAccess.ts")),r(n("./app/components/Administrator/Support/Support.ts")),r(n("./app/components/Administrator/AdminMessage/AdminMessage.ts")),r(n("./app/components/Administrator/PersonalData/PersonalData.ts")),r(n("./app/components/Administrator/ForgottenUsers/ForgottenUsers.ts")),r(n("./app/components/Administrator/ForgottenUsers/ForgottenUsersList/ForgottenUsersList.ts")),r(n("./app/components/Administrator/ForgottenUsers/ForgottenPrincipalItem/ForgottenPrincipalItem.ts")),r(n("./app/components/Administrator/PersonalData/PersonalData.ts")),r(n("./app/components/Administrator/PersonalData/PersonalDataUsersList/PersonalDataUsersList.ts")),r(n("./app/components/Administrator/PersonalData/PersonalDataPrincipalItem/PersonalDataPrincipalItem.ts")),r(n("./app/components/Administrator/NetworkCaching/NetworkCaching.ts")),r(n("./app/components/Administrator/AdminDownloadVideosPage/AdminDownloadVideosPage.ts")),r(n("./app/components/Administrator/AdminDownloadVideoItem/AdminDownloadVideoItem.ts")),r(n("./app/components/SpotlightList/SpotlightList.ts")),r(n("./app/components/SpotlightVideoItem/SpotlightVideoItem.ts")),r(n("./app/components/LiveEventList/LiveEventList.ts")),r(n("./app/components/LiveEventItem/LiveEventItem.ts")),r(n("./app/components/VideoChannelSearch/VideoChannelSearch.ts")),r(n("./app/components/Banner/Banner.ts")),r(n("./app/components/Banner/CopyrightBanner/CopyrightBanner.ts")),r(n("./app/components/LiveUpdate/LiveEdit/LiveEdit.ts")),r(n("./app/components/LiveUpdate/LiveCreatePage/LiveCreatePage.ts")),r(n("./app/components/LiveUpdate/LiveUpdatePage/LiveUpdatePage.ts")),r(n("./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.ts")),r(n("./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.ts")),r(n("./app/components/LiveUpdate/SourceSetup/SourceSetup.ts")),r(n("./app/components/LiveUpdate/EncoderSetup/EncoderSetup.ts")),r(n("./app/components/LiveUpdate/EncoderSetupPartner/EncoderSetupPartner.ts")),r(n("./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.ts")),r(n("./app/components/LiveUpdate/LiveHealthStatus/LiveHealthStatus.ts")),r(n("./app/components/LiveUpdate/LiveThumbnailPoster/LiveThumbnailPoster.ts")),r(n("./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.ts")),r(n("./app/components/LivePlayerOverlay/LivePlayerOverlay.ts")),r(n("./app/components/LiveUpdate/LivePreviewBar/LivePreviewBar.ts")),r(n("./app/components/PrincipalItemBase/PrincipalItemBase.ts")),r(n("./app/components/TopNav/TopNav.ts")),r(n("./app/components/RecycleBinList/RecycleBinList.ts")),r(n("./app/components/RecycleBinVideoItem/RecycleBinVideoItem.ts")),r(n("./app/components/RecycleBinVideoItem/RecycleBinVideoItemHeader.ts")),r(n("./app/components/Administrator/RecycleBin/RecycleBin.ts")),r(n("./app/components/WaitingRoomOverlay/WaitingRoomOverlay.ts")),r(n("./app/components/AccessRequest/AccessRequestDecision.ts")),r(n("./app/components/Administrator/EnableMigration/EnableMigration.ts")),r(n("./app/components/Administrator/MigrationSettings/MigrationSettings.ts")),r(n("./app/components/Administrator/MigrationReports/MigrationReports.ts")),r(n("./app/components/Administrator/UserMigration/UserMigration.ts"))},"./app/components/o365ApplicationLauncher/OfficeHeaderHelpers.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.O365Shell;function i(e,t,n,i,o){r.SetData(e),r.RenderAsync({top:t,disableHelpSearch:!0},angular.noop,(function(){n&&r.Navigation.OnHamburgerButtonClick(n),i&&i(),r.FlexPane&&r.FlexPane.OnFlexPaneVisibilityChanged&&r.FlexPane.OnFlexPaneVisibilityChanged(o)}))}t.fallbackShellData={ClientData:JSON.stringify({IsRTL:!1,IsFallbackShell:!0,ShowNewAppLauncher:!0,ResponsiveShellEnabled:!0}),CurrentMainLinkElementID:"ShellDocuments",CurrentWorkloadHelpSubLinks:[{Id:"WorkloadHelpSubLinks1",TargetWindow:null,Text:"Workload help sublink 1",Url:"http://www.bing.com/?WorkloadHelpSubLinks1"},{Id:"WorkloadHelpSubLinks2",TargetWindow:null,Text:"Workload help sublink 2",Url:"http://www.bing.com/?WorkloadHelpSubLinks2"}],CurrentWorkloadSettingsLink:{Id:"WorkloadSettingsLink",TargetWindow:null,Text:"Workload settings",Url:"http://www.bing.com/?WorkloadSettingsLink"},CurrentWorkloadSettingsSubLinks:[{Id:"WorkloadSettingsSubLinks1",TargetWindow:null,Text:"Workload settings sublink 1",Url:"http://www.bing.com/?WorkloadSettingsSubLinks1"},{Id:"WorkloadSettingsSubLinks2",TargetWindow:null,Text:"Workload settings sublink 2",Url:"http://www.bing.com/?WorkloadSettingsSubLinks2"}],CurrentWorkloadUserSubLinks:[{Id:"WorkloadUserSubLinks1",TargetWindow:null,Text:"Workload user sublink 1",Url:"http://www.bing.com/?WorkloadUserSubLinks1"},{Id:"WorkloadUserSubLinks2",TargetWindow:null,Text:"Workload user sublink 2",Url:"http://www.bing.com/?WorkloadUserSubLinks2"}],FeedbackLink:{Id:"ShellFeedback",TargetWindow:"_blank",Text:"Feedback",Url:"http://www.bing.com/?Feedback"},HelpLink:{Id:"HelpLink",TargetWindow:"_blank",Text:"Help",Url:"http://www.bing.com/?Help"},IsAuthenticated:!0,LogoNavigationUrl:"http://www.bing.com/?Logo",SignOutLink:{Id:"ShellSignout",TargetWindow:null,Text:"Sign out",Url:"https://www.bing.com/?ShellSignout"},StringsOverride:{l_ShellCore_Affordance_Title_Text:"Open the menu to access notifications, settings, and help",l_ShellCore_AffordanceClose_Title_Text:"Close menu",l_ShellCore_App_Provision_Alt_Text:"This app is still being set up",l_ShellCore_App_Provision_Text:"Setting up...",l_ShellCore_ContextualTitleFormat_Text:"{0} settings",l_ShellCore_Hamburger_Title_Text:"Open the menu to access additional app options",l_ShellCore_Help_Title_Text:"Open the Help menu to access help documentation, and legal and privacy information from Microsoft",l_ShellCore_MeTile_Title_Text:"Open menu",l_ShellCore_NavMenu_MyApps_Text:"My apps",l_ShellCore_NavMenu_ViewAllMyApps_Text:"View all my apps",l_ShellCore_NavMenu_Title_Text:"Open the app launcher to access your Office 365 apps",l_ShellCore_O365_Text:"Office 365",l_ShellCore_O365_Title_Text:"Go to your Office 365 home page",l_ShellCore_Settings_Title_Text:"Open the Settings menu to access personal and app settings",l_ShellCore_ShareButton_Text:"Share"},UserDisplayName:"User Name",WorkloadLinks:[{Id:"ShellNewsfeed",TargetWindow:null,Text:"Newsfeed",Url:"https://www.bing.com/?ShellNewsfeed"},{Id:"ShellDocuments",TargetWindow:null,Text:"OneDrive",Url:"https://www.bing.com/?ShellDocuments"},{Id:"ShellSites",TargetWindow:null,Text:"Sites",Url:"https://www.bing.com/?ShellSites"}]},t.initializeWithRemoteResource=function(e,t,n,r,o,s,a){e=$("<link rel='stylesheet' type='text/css' href='"+e+"'>"),$("head").append(e),$.getScript(t,(function(){i(n,r,o,s,a)}))},t.initialize=i},"./app/components/o365ApplicationLauncher/o365ApplicationLauncher.html":function(e,t){e.exports='<div class=o365Waffle ng-click=$ctrl.click() ng-mousedown=$ctrl.mousedown()> <div class=mediaLogo> <i class="waffle glyphicon pbi-glyph-waffle"></i> </div> <div id=o365AppLauncherContainer class=o365AppLauncherContainer tabindex=-1 ng-blur=$ctrl.blur()> <div class=o365LoadingContainer ng-show=$ctrl.loadingAppLauncher> <div class=loadingspinner> <div class="c-progress f-indeterminate-local f-progress-small" role=progressbar aria-valuetext=Loading... tabindex=0> <span></span> <span></span> <span></span> <span></span> <span></span> </div> </div> <div class=o365AppLauncherLoading>{{$ctrl.resources.Loading}}</div> </div> <div class=o365AppLauncherError ng-show=$ctrl.loadingError></div> <div id=o365AppLauncherContent class=o365AppLauncherContent ng-show=!$ctrl.loadingAppLauncher></div> </div> </div>'},"./app/components/o365ApplicationLauncher/o365ApplicationLauncher.less":function(e,t){},"./app/components/o365ApplicationLauncher/o365ApplicationLauncher.ts":function(e,t,n){function r(){this.controller=o.O365ApplicationLauncherController,this.template=n("./app/components/o365ApplicationLauncher/o365ApplicationLauncher.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/o365ApplicationLauncher/o365ApplicationLauncher.less");var i=n("./app/utility/appUtil.ts"),o=n("./app/components/o365ApplicationLauncher/o365applicationlauncherController.ts");t.O365ApplicationLauncher=r,i.registerComponent("o365ApplicationLauncher",r,angular.module("jumper"))},"./app/components/o365ApplicationLauncher/o365ApplicationLauncherBinding.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.o365ApplicationLauncherBinding=function(){}},"./app/components/o365ApplicationLauncher/o365applicationlauncherController.ts":function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/o365ApplicationLauncher/o365ApplicationLauncherBinding.ts"),a=n("./app/models/TelemetryEventModels.ts"),l=n("./app/components/o365ApplicationLauncher/OfficeHeaderHelpers.ts");i(c,o=s.o365ApplicationLauncherBinding),c.prototype.click=function(){var e=this.element.find(".o365AppLauncherContainer");this.showAppLauncherContainer?(e.removeClass("fadein"),e.addClass("fadeout")):(this.getApplicationLauncher(),e.removeClass("fadeout"),e.addClass("fadein"),e.focus()),this.showAppLauncherContainer?this.telemetryTracker.trackEvent("ShowOfficeWaffleClick"):this.telemetryTracker.trackEvent("HideOfficeWaffleClick"),this.showAppLauncherContainer=!this.showAppLauncherContainer,this.mousedownHappened=!1},c.prototype.mousedown=function(){this.mousedownHappened=!0},c.prototype.blur=function(){var e=this.element.find(".o365AppLauncherContainer");this.mousedownHappened?this.mousedownHappened=!1:(e.removeClass("fadein"),e.addClass("fadeout"),this.showAppLauncherContainer=!1)},c.prototype.getApplicationLauncher=function(){var e,t=this,n="o365AppLauncherContent";portalConfiguration.EnableMockApiGateway||null!=this.o365NavigationBarData||this.loadingAppLauncher||(this.loadingError=!1,this.loadingAppLauncher=!0,e={method:"GET",url:"/OfficeShell/GetResource",headers:{Authorization:"Bearer "+sessionInfo.AccessToken},data:null},this.http(e).then((function(e){var r=JSON.parse(e.data.data);t.o365NavigationBarData=r,l.initializeWithRemoteResource(e.data.css,e.data.js,r,n),t.loadingAppLauncher=!1})).catch((function(){t.loadingAppLauncher=!1,t.loadingError=!0}))),portalConfiguration.EnableMockApiGateway&&l.initialize(l.fallbackShellData,n)},c.$inject=["$element","$http","telemetryService","resources"],i=c;function c(e,t,n,r){var i=o.call(this)||this;return i.telemetry=n,i.resources=r,i.mousedownHappened=!1,i.element=$(e),i.http=t,i.telemetryTracker=n.getTracker(a.ScreenName.Auto),i}t.O365ApplicationLauncherController=i},"./app/components/topbar/topbar.html":function(e,t){e.exports='<div class="c-bapi-header topbar topbar-v2 f-authenticated" ng-if=$ctrl.shouldShowTopbar> <header class=stream-office-top-nav id=stream-office-top-nav> </header> <div class=action-bar-container ng-show=$ctrl.videoEditorInactive> <div action-list class=topbar-container> <button data-bi-id=topbar-hamburger class="c-action-trigger c-glyph hamburger topbar-button hide-for-medium" aria-label={{::$ctrl.resources.Menu}} ng-click=$ctrl.mobileMenuClicked($event)> <svg-src class=topbar-svg svg-name=icon_hamburger></svg-src> </button> <nav role=navigation class="f-closed mobile-menu" ng-attr-aria-hidden=!$ctrl.showMobileMenu ng-show=$ctrl.showMobileMenu> <ul class=c-menu> <li class=c-menu-item> <a data-bi-id=topbar-home-button-mobile href=/ class="home-link action-link" ng-click="$ctrl.logAndSetFocus($event, \'/\')"> <svg-src class=topbar-svg svg-name=icon_home inline-with-text=true></svg-src> {{::$ctrl.resources.TopbarHome}} </a> </li> <li data-bi-id=topbar-discover-menu-button-mobile class="c-menu-item f-sub-menu" ng-keydown="$ctrl.menuKeydown($event, \'discoverMenuExpanded\')"> <button class="discover-navigation ms-mobile-sub-menu" id=topbar-discover-navigation-button-mobile aria-haspopup=true ng-attr-aria-expanded={{$ctrl.discoverMenuExpanded}} aria-label={{$ctrl.resources.DiscoverAria}} ng-click="$ctrl.expandMenu($event,\'discoverMenuExpanded\',$ctrl.discoverMenuExpanded)"> <div class=mobile-submenu-content> <svg-src class=topbar-svg svg-name=icon_discover inline-with-text=true></svg-src> <span class=link-label>{{::$ctrl.resources.TopbarDiscover}}</span> </div> </button> <ul class=c-menu aria-labelledby=topbar-discover-navigation-button-mobile ng-if=$ctrl.discoverMenuExpanded> <li class=c-menu-item ng-repeat="option in $ctrl.menuItems.Browse" ng-if=option.enabled> <a class="{{option.link.styleClass}} action-link" data-bi-id={{option.data.bi.id}} ng-click="$ctrl.logAndSetFocus($event, option.link.href, true)" ng-href={{option.link.href}}> {{option.link.text}} </a> </li> </ul> </li> <li class="c-menu-item f-sub-menu" ng-keydown="$ctrl.menuKeydown($event, \'myContentMenuExpanded\')"> <button class="mycontent-navigation ms-mobile-sub-menu" id=topbar-mycontent-navigation-button-mobile aria-haspopup=true ng-attr-aria-expanded={{$ctrl.myContentMenuExpanded}} aria-label={{$ctrl.resources.MyContentAria}} ng-click="$ctrl.expandMenu($event, \'myContentMenuExpanded\', $ctrl.myContentMenuExpanded)"> <div class=mobile-submenu-content> <svg-src class=topbar-svg svg-name=icon_mycontent inline-with-text=true></svg-src> <span class=link-label>{{::$ctrl.resources.MyContent}}</span> </div> </button> <ul class=c-menu aria-labelledby=topbar-mycontent-navigation-button-mobile ng-if=$ctrl.myContentMenuExpanded> <li class=c-menu-item ng-repeat="option in $ctrl.menuItems.MyContent" ng-if=option.enabled> <a class="{{option.link.styleClass}} action-link" data-bi-id={{option.data.bi.id}} ng-href={{option.link.href}} ng-click="$ctrl.logAndSetFocus(option.link.href, true)"> {{option.link.text}} </a> </li> </ul> </li> <li class="c-menu-item f-sub-menu" ng-keydown="$ctrl.menuKeydown($event, \'createMenuExpanded\')"> <button class="create-navigation ms-mobile-sub-menu" id=topbar-create-navigation-button-mobile aria-haspopup=true ng-attr-aria-expanded={{$ctrl.createMenuExpanded}} aria-label={{$ctrl.resources.TopBarStudioAria}} ng-click="$ctrl.expandMenu($event,\'createMenuExpanded\',$ctrl.createMenuExpanded)"> <div class=mobile-submenu-content> <svg-src class=topbar-svg svg-name=icon_create inline-with-text=true></svg-src> <span class=link-label>{{::$ctrl.resources.TopBarStudioLabel}}</span> </div> </button> <ul class=c-menu aria-labelledby=topbar-create-navigation-button-mobile ng-if=$ctrl.createMenuExpanded> <li class=c-menu-item ng-if=$ctrl.isCreateVideoEnabled()> <a data-bi-id=topbar-create-upload-link-mobile class="upload-link action-link" ng-href=/upload ng-click="$ctrl.logAndSetFocus($event, \'/upload\')">{{::$ctrl.resources.TopbarUploadVideo}}</a> </li> <li class=c-menu-item ng-if="$ctrl.isCreateLiveEventEnabled() && $ctrl.CreateLiveEnabled"> <a data-bi-id=topbar-create-live-link-mobile class="create-live-link action-link" ng-href=/create ng-click="$ctrl.logAndSetFocus(\'$event, /create\')">{{::$ctrl.topBarLiveEventText}}</a> </li> <li class=c-menu-item ng-if=$ctrl.isCreateGroupEnabled()> <a data-bi-id=topbar-create-group-link-mobile external-link class="create-group-link action-link" ng-click=$ctrl.createGroupClicked($event) ng-href=#> {{::$ctrl.resources.TopbarGroup}} </a> </li> <li class=c-menu-item> <a data-bi-id=topbar-create-channel-link-mobile external-link class="create-channel-link action-link" ng-click=$ctrl.createChannelClicked($event) ng-href=#> {{::$ctrl.resources.TopbarChannel}} </a> </li> <li class=c-menu-item ng-if=$ctrl.isRecordVideoEnabled> <button data-bi-id=topbar-create-record-link-mobile class="record-video-link action-link" ng-click=$ctrl.recordVideo($event)> {{::$ctrl.resources.RecordVideo}} </button> </li> <li class=c-menu-item ng-if="$ctrl.isScreenRecorderEnabled && !$ctrl.isWebcamRecordingEnabled"> <a external-link data-bi-id=topbar-create-record-screen-link-mobile class="screen-capture-link action-link" ng-click=$ctrl.recordScreen($event) ng-href=#> {{::$ctrl.resources.RecordScreen}} </a> </li> <li class=c-menu-item ng-if="$ctrl.isScreenRecorderEnabled && $ctrl.isWebcamRecordingEnabled"> <a external-link data-bi-id=topbar-create-record-screen-link-mobile class="screen-capture-link action-link" ng-click=$ctrl.recordScreen($event) ng-href=#> {{::$ctrl.resources.RecordScreenOrVideo}} </a> </li> </ul> </li> <li class="c-menu-item icon-item hide-for-medium"> <button data-bi-id=topbar-invite-button-mobile class="action-link ng-binding ms-mobile-sub-menu" aria-label={{::$ctrl.resources.InviteOthers}} ng-click=$ctrl.inviteClicked($event)> <div class=mobile-submenu-content> <svg-src class=topbar-svg svg-name=icon_invite_white></svg-src> <span class=link-label>{{::$ctrl.resources.InviteOthers}}</span> </div> </button> </li> <li ng-if=$ctrl.isUserFeedbackEnabled() class="feedback-link c-menu-item icon-item hide-for-medium"> <button class="action-link ng-binding ms-mobile-sub-menu mobile-feedback-trigger" aria-label={{::$ctrl.resources.SendFeedback}} child-focus-element=smiley-button ng-click=$ctrl.ocvUifClicked()> <div class=mobile-submenu-content> <svg-src class=topbar-svg svg-name=icon_feedback></svg-src> <span class=link-label>{{::$ctrl.resources.SendFeedback}}</span> </div> </button> </li> </ul> </nav> <div class="menu-container show-for-medium"> <nav class=desktop-menu role=navigation> <ul role=list> <li class="c-menu-item home-menu-item"> <a data-bi-id=topbar-home-button href=/ class=home-link ng-class="{\'current-menu-name\': $ctrl.highlightedTab.home}" ng-click="$ctrl.logAndSetFocus($event, \'/\')"> <svg-src class=topbar-svg ng-class="{\'current-menu-icon\': $ctrl.highlightedTab.home}" svg-name=icon_home inline-with-text=true></svg-src> {{::$ctrl.resources.TopbarHome}} </a> </li> <li> <div data-bi-id=topbar-discover-dropdown-menu class=c-select-menu ng-keydown="$ctrl.menuKeydown($event, \'discoverMenuExpanded\')"> <button class=discover-navigation id=topbar-discover-navigation-button-desktop aria-haspopup=true ng-attr-aria-expanded={{$ctrl.discoverMenuExpanded}} aria-label={{$ctrl.resources.DiscoverAria}} ng-class="{\'current-menu-name\': $ctrl.highlightedTab.discover}" ng-click="$ctrl.expandMenu($event,\'discoverMenuExpanded\',$ctrl.discoverMenuExpanded)"> <div class=button-content> <svg-src class=topbar-svg ng-class="{\'current-menu-icon\': $ctrl.highlightedTab.discover}" svg-name=icon_discover inline-with-text=true></svg-src> <span class=link-label>{{::$ctrl.resources.TopbarDiscover}}</span> <svg-src class="topbar-svg down-arrow-icon" svg-name=icon_down_arrow inline-with-text=true></svg-src> </div> </button> <ul class=c-menu aria-labelledby=topbar-discover-navigation-button-desktop ng-show=$ctrl.discoverMenuExpanded role=presentation> <li class=c-menu-item ng-repeat="option in $ctrl.menuItems.Browse" ng-if=option.enabled> <a role=link data-bi-id={{option.data.bi.id}} class={{option.link.styleClass}} ng-href={{option.link.href}} ng-click="$ctrl.logAndSetFocus($event, option.link.href, true)"> {{option.link.text}} </a> </li> </ul> </div> </li> <li> <div data-bi-id=topbar-mycontent-dropdown-menu class=c-select-menu ng-keydown="$ctrl.menuKeydown($event, \'myContentMenuExpanded\')"> <button class=mycontent-navigation ng-class="{\'current-menu-name\': $ctrl.highlightedTab.studio}" id=topbar-mycontent-navigation-button-desktop aria-haspopup=true ng-attr-aria-expanded={{$ctrl.myContentMenuExpanded}} aria-label={{$ctrl.resources.MyContentAria}} ng-click="$ctrl.expandMenu($event,\'myContentMenuExpanded\',$ctrl.myContentMenuExpanded)"> <div class=button-content> <svg-src class=topbar-svg ng-class="{\'current-menu-icon\': $ctrl.highlightedTab.studio}" svg-name=icon_mycontent inline-with-text=true></svg-src> <span class=link-label>{{::$ctrl.resources.MyContent}}</span> <svg-src class="topbar-svg down-arrow-icon" svg-name=icon_down_arrow inline-with-text=true></svg-src> </div> </button> <ul class=c-menu aria-labelledby=topbar-mycontent-navigation-button-desktop ng-show=$ctrl.myContentMenuExpanded role=presentation> <li class=c-menu-item ng-repeat="option in $ctrl.menuItems.MyContent" ng-if=option.enabled> <a class={{option.link.styleClass}} data-bi-id={{option.data.bi.id}} ng-href={{option.link.href}} ng-click="$ctrl.logAndSetFocus($event, option.link.href, true)"> {{option.link.text}} </a> </li> </ul> </div> </li> <li> <div data-bi-id=topbar-create-dropdown-menu class=c-select-menu ng-keydown="$ctrl.menuKeydown($event, \'createMenuExpanded\')"> <button class=create-navigation id=create-desktop-navigation aria-haspopup=true ng-attr-aria-expanded={{$ctrl.createMenuExpanded}} aria-label={{$ctrl.resources.TopBarStudioAria}} ng-click="$ctrl.expandMenu($event,\'createMenuExpanded\',$ctrl.createMenuExpanded)"> <div class=button-content> <svg-src class=topbar-svg svg-name=icon_create inline-with-text=true></svg-src> <span class=link-label>{{::$ctrl.resources.TopBarStudioLabel}}</span> <svg-src class="topbar-svg down-arrow-icon" svg-name=icon_down_arrow inline-with-text=true></svg-src> </div> </button> <ul class=c-menu aria-labelledby=create-desktop-navigation ng-show=$ctrl.createMenuExpanded role=presentation> <li class=c-menu-item ng-if=$ctrl.isCreateVideoEnabled()> <a role=link id=topbar-create-upload-link class=upload-link ng-href=/upload ng-click="$ctrl.logAndSetFocus($event, \'/upload\')"> {{::$ctrl.resources.TopbarUploadVideo}} </a> </li> <li class=c-menu-item ng-if="$ctrl.isCreateLiveEventEnabled() && $ctrl.CreateLiveEnabled"> <a role=link data-bi-id=topbar-create-live-link class=create-live-link ng-href=/create ng-click="$ctrl.logAndSetFocus($event, \'/create\')"> {{::$ctrl.topBarLiveEventText}} </a> </li> <li class=c-menu-item ng-if=$ctrl.isCreateGroupEnabled()> <a external-link role=link data-bi-id=topbar-create-group-link class=create-group-link ng-click=$ctrl.createGroupClicked($event) ng-href=#> {{::$ctrl.resources.TopbarGroup}} </a> </li> <li class=c-menu-item> <a external-link role=link data-bi-id=topbar-create-channel-link class=create-channel-link ng-click=$ctrl.createChannelClicked($event) ng-href=#> {{::$ctrl.resources.TopbarChannel}} </a> </li> <li data-bi-id=topbar-create-record-video-button class=c-menu-item ng-if=$ctrl.isRecordVideoEnabled ng-click=$ctrl.recordVideo($event)> <button role=link class=record-video-link> {{::$ctrl.resources.RecordVideo}} </button> </li> <li class=c-menu-item ng-if="$ctrl.isScreenRecorderEnabled && !$ctrl.isWebcamRecordingEnabled"> <a external-link data-bi-id=topbar-create-record-screen-link role=link class=screen-capture-link ng-click=$ctrl.recordScreen($event) ng-href=#> {{::$ctrl.resources.RecordScreen}} </a> </li> <li class=c-menu-item ng-if="$ctrl.isScreenRecorderEnabled && $ctrl.isWebcamRecordingEnabled"> <a external-link data-bi-id=topbar-create-record-screen-link role=link class=screen-capture-link ng-click=$ctrl.recordScreen($event) ng-href=#> {{::$ctrl.resources.RecordScreenOrVideo}} </a> </li> </ul> </div> </li> </ul> </nav> </div> <div class=f-search ng-style="{\'width\': $ctrl.searchWidth}"> <form data-bi-id=topbar-search-form role=search class="c-search topbar-search" ng-submit=$ctrl.submitSearch($event) aria-label={{::$ctrl.resources.Form.AriaLabel.TopbarSearch}}> <input aria-label={{::$ctrl.resources.SearchAriaLabel}} type=search class=search-input placeholder={{$ctrl.resources.SearchHintText}} ng-model=$ctrl.searchTerm maxlength={{::$ctrl.searchStringMaxLength}} autocomplete=off /> <button class="c-glyph topbar-search-button"> <span class=x-screen-reader>{{::$ctrl.resources.SearchHintText}}</span> </button> </form> </div> <div class="topbar-right-menu show-for-medium"> <ul role=list> <li ng-show=$ctrl.totalUploadItemCount> <button class="c-action-trigger action-link topbar-button glyph-upload-progress f-bapi" aria-label={{::$ctrl.resources.UploadProgressAriaLabel}} dropdown-overlay-invoke=uploadProgress disable-animation=true always-down=true is-fixed-anchor=false prefer-left=true deduct-body-top=true child-focus-element=bg-upload-item-button position-under-anchor=true custom-title={{::$ctrl.resources.UploadProgressAriaLabel}}> <div ng-if=$ctrl.uploadingCount class=upload-spinner-container> <svg-src class="topbar-svg spin" svg-name=icon_uploading></svg-src> <span class="upload-count absolute-center">{{$ctrl.uploadingCount}}</span> </div> <svg-src class="topbar-svg white-fill green-background upload-complete" svg-name=icon_checkmark ng-if="!$ctrl.anyFailed && !$ctrl.uploadingCount"></svg-src> <svg-src class="topbar-svg white-fill error-background upload-failed" svg-name=icon_error_status ng-if="!$ctrl.uploadingCount && $ctrl.anyFailed"></svg-src> <dropdown-overlay dropdown-overlay-name=uploadProgress dropdown-overlay-class="topbarContextMenu uploadProgressContextMenu" parent-element=glyph-upload-progress next-element=glyph-upload> <bg-upload-progress></bg-upload-progress> </dropdown-overlay> </button> </li> <li ng-if=$ctrl.shouldDisplayAdminModeToggle> <react-action-toggle ng-if=::$ctrl.me class=admin-mode-toggle default-checked=$ctrl.adminModeActive checked=$ctrl.adminModeActive on-text=::$ctrl.resources.On off-text=::$ctrl.resources.Off icon=::$ctrl.adminModeIcon callout=::$ctrl.adminModeToggleCallout on-change=::$ctrl.onAdminModeToggleClicked ng-attr-aria-label=$ctrl.adminModeToggleAriaLabel></react-action-toggle> </li> <li ng-if=$ctrl.isCreateVideoEnabled()> <button data-bi-id=topbar-upload-button class="c-action-trigger action-link topbar-button glyph-upload f-bapi" aria-label={{::$ctrl.resources.TopbarUploadVideo}} ng-click=$ctrl.uploadClicked($event) custom-title={{::$ctrl.resources.TopbarUploadVideo}} light-style=true> <svg-src class=topbar-svg svg-name=icon_upload></svg-src> </button> </li> <li> <button data-bi-id=topbar-invite-button class="c-action-trigger action-link topbar-button glyph-invite f-bapi" aria-label={{::$ctrl.resources.InviteOthers}} ng-click=$ctrl.inviteClicked($event) custom-title={{::$ctrl.resources.InviteOthers}} light-style=true> <svg-src class=topbar-svg svg-name=icon_invite_white></svg-src> </button> </li> <li ng-if=$ctrl.isUserFeedbackEnabled()> <button class="c-action-trigger c-glyph glyph-feedback feedback-trigger f-bapi topbar-button" aria-label={{::$ctrl.resources.SendFeedback}} child-focus-element=smiley-button custom-title={{::$ctrl.resources.SendFeedback}} light-style=true ng-click=$ctrl.ocvUifClicked()> <svg-src class=topbar-svg svg-name=icon_feedback></svg-src> </button> </li> </ul> </div> </div> </div> <banner ng-if="$ctrl.isNewBannerEnabled && !$ctrl.isReactBannerEnabled" ng-show=$ctrl.videoEditorInactive></banner> <react-banner ng-if=$ctrl.isReactBannerEnabled ng-show=$ctrl.videoEditorInactive></react-banner> </div> <react-group-create ng-if=$ctrl.useO365GroupShareableControl on-close=::$ctrl.onGroupCreateComplete></react-group-create> '},"./app/components/topbar/topbar.less":function(e,t){},"./app/components/topbar/topbar.ts":function(e,t,n){function r(){this.controller=i.TopbarController,this.template=n("./app/components/topbar/topbar.html"),this.bindings={licenseCheckMessage:"=?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/topbar/topbar.less");var i=n("./app/components/topbar/topbarController.ts"),o=n("./app/utility/appUtil.ts");t.Topbar=r,o.registerComponent("topbar",r,angular.module("jumper"))},"./app/components/topbar/topbarController.ts":function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),n("./node_modules/core-js/features/set/index.js"),n("./node_modules/core-js/features/map/index.js");var o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=n("./app/utility/ServicePlanUtils.ts"),l=n("./app/models/TelemetryEventModels.ts"),c=n("./app/services/VideoBgUploaderService.ts"),d=n("./pbiux/services/overlayService.ts"),u=n("./app/utility/TelemetryUtils.ts"),p=n("./app/components/topbar/topbarTelemetryBindings.ts"),m=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),h=n("./app/utility/appUtil.ts"),g=n("./node_modules/@msstream/utilities-icons/esm/index.js"),f=n("./app/utility/ScreenRecorderUtils.ts");v.prototype.initializeMenuItems=function(){this.menuItems={Browse:[{enabled:!0,data:{bi:{id:"topbar-discover-video-link"}},link:{text:this.resources.TopbarVideos,href:"/browse",styleClass:"discover-video-link"}},{enabled:!0,data:{bi:{id:"topbar-discover-channel-link"}},link:{text:this.resources.TopbarChannels,href:"/browse?view=channel",styleClass:"discover-channel-link"}},{enabled:!0,data:{bi:{id:"topbar-discover-people-link"}},link:{text:this.resources.TopbarPeople,href:"/browse?view=people",styleClass:"discover-people-link"}},{enabled:!0,data:{bi:{id:"topbar-discover-group-link"}},link:{text:this.resources.TopbarGroups,href:"/browse?view=group",styleClass:"discover-groups-link"}}],MyContent:[{enabled:!0,data:{bi:{id:"topbar-mycontent-videos-link"}},link:{text:this.resources.TopbarVideos,href:"studio/videos",styleClass:"my-video-link"}},{enabled:!0,data:{bi:{id:"topbar-mycontent-groups-link"}},link:{text:this.resources.TopbarGroups,href:"studio/groups",styleClass:"my-groups-link"}},{enabled:!0,data:{bi:{id:"topbar-mycontent-channels-link"}},link:{text:this.resources.TopbarChannels,href:"studio/channels",styleClass:"my-channel-link"}},{enabled:!0,data:{bi:{id:"topbar-mycontent-meetings-link"}},link:{text:this.resources.TopbarMeetings,href:"studio/meetings",styleClass:"my-meetings-link"}},{enabled:!0,data:{bi:{id:"topbar-mycontent-watchlist-link"}},link:{text:this.resources.TopbarWatchlist,href:"studio/watchlist",styleClass:"my-watchlist-link"}},{enabled:!0,data:{bi:{id:"topbar-mycontent-following-channels-link"}},link:{text:this.resources.TopbarFollowed,href:"studio/followingchannels",styleClass:"my-following-channels-link"}},{enabled:this.featureFlagsService.Values.RecentlyViewed,data:{bi:{id:"topbar-mycontent-recently-viewed-link"}},link:{text:this.resources.TopbarRecentlyViewed,href:"studio/recentlyviewed",styleClass:"my-recently-viewed-link"}},{enabled:this.featureFlagsService.Values.RecycleBin,data:{bi:{id:"topbar-mycontent-recycle-bin-link"}},link:{text:this.resources.TopbarRecycleBin,href:"studio/recyclebin",styleClass:"recycle-bin-link"}}]}},v.prototype.setFeedbackFocusToParent=function(){$(".feedback-trigger").focus()},v.prototype.setMobileFeedbackFocusToParent=function(){$(".hamburger.topbar-button").focus()},Object.defineProperty(v.prototype,"uploadingCount",{get:function(){return _.filter(this.videoBgUploaderService.mediaUploadList,(function(e){return e.status===c.UploadStatus.uploading||e.status===c.UploadStatus.notStarted})).length},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"anyFailed",{get:function(){return _.some(this.videoBgUploaderService.mediaUploadList,(function(e){return e.status===c.UploadStatus.failed}))},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"totalUploadItemCount",{get:function(){return this.videoBgUploaderService.mediaUploadList.length},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"searchWidth",{get:function(){var e,t,n=this.searchFieldDefaultSize;return this.isSmallScreen||(e=0,$(".topbar-container").children().each((function(){e+=$(this).outerWidth()})),t=e-angular.element("body").width(),n=$(".c-bapi-header .f-search").width()-t),n+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"CreateLiveEnabled",{get:function(){return this.featureFlagsService.Values.CreateLive},enumerable:!0,configurable:!0}),v.prototype.setMenuSize=function(){var e=this;this.$timeout((function(){angular.element("body").height()<=o.Constants.TopBar.StretchBreakPoint&&(angular.element(".mobile-menu").height(angular.element("body").height()-angular.element(".topbar.topbar-v2").height()),angular.element(".mobile-menu").width(angular.element("body").width())),e.isSmallScreen=angular.element("body").width()<=o.Constants.TopBar.ShowMobileMenuBreakPoint}),0)},v.prototype.signout=function(){this.navigationService.href("/?signout=1"),this.telemetryTracker.trackEvent("SignOutClicked")},v.prototype.bindOrUnbindToDocumentClick=function(){this.showMobileMenu||this.discoverMenuExpanded||this.myContentMenuExpanded||this.createMenuExpanded||this.helpMenuExpanded?this.bindToDocumentClick():this.unbindToDocumentClick()},v.prototype.bindToDocumentClick=function(){this.documentClickBound||(this.documentClickHandlerRef=this.documentClickHandler.bind(this),this.$document.bind("click",this.documentClickHandlerRef),this.documentClickBound=!0)},v.prototype.unbindToDocumentClick=function(){this.documentClickBound&&(this.$document.unbind("click",this.documentClickHandlerRef),this.documentClickBound=!1)},v.prototype.submitSearch=function(e){this.featureFlagsService.Values.BrowseBack,this.navigationService.navigate(""+o.Constants.Routes.Browse,{q:this.searchTerm}),this.searchTerm="",this.showMobileMenu&&(this.showMobileMenu=!1),u.logUserAction(e,{components:[m.AngularComponents.TopBar]},m.ActionType.Submit,"SearchFromTopBar")},v.prototype.mobileMenuClicked=function(e){this.showMobileMenu=!this.showMobileMenu,this.bindOrUnbindToDocumentClick(),e.stopPropagation(),u.logUserAction(e,{features:[m.FeatureNames.Navigation],components:[m.AngularComponents.TopBar]},u.getActionType(e),"OpenTopBarMenu")},v.prototype.isAdminModeToggleVisible=function(){return this.isStreamAdmin&&void 0!==this.adminModeActive&&this.navigationService.getPageName()!==l.ScreenName.AdminSettings},v.prototype.onAdminModeToggleClicked=function(e,t){var n=this;this.setAdminMode(t).then((function(e){e=s.formatString(n.resources.TopbarAdminModeToggled,e?n.resources.On:n.resources.Off),h.alertScreenReader(e)}))},v.prototype.setAdminMode=function(e){var t=this,n=this.$q.defer();return this.principalService.patchMySettings({web:{adminModeActive:e}}).then((function(r){t.adminModeActive=t.isStreamAdmin&&r.data.web.adminModeActive,t.shouldDisplayAdminModeToggle=t.isAdminModeToggleVisible(),t.adminModeToggleAriaLabel=s.formatString(t.resources.TopbarAdminToggleAriaLabel,e?t.resources.On:t.resources.Off),n.resolve(t.adminModeActive)}),(function(e){t.telemetryService.getTracker(l.ScreenName.TopBar).fail(l.FeatureName.GetPrincipalSettings,l.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e),n.reject(e)})),n.promise},v.prototype.onAdminModeCalloutToggle=function(e){e&&h.alertScreenReader(this.resources.TopbarAdminToggleTooltipContent)},v.prototype.menuKeydown=function(e,t){function n(){o.myContentMenuExpanded=!1,o.createMenuExpanded=!1,o.helpMenuExpanded=!1,o.discoverMenuExpanded=!1}var r,i,o=this,s={features:[m.FeatureNames.Navigation],components:[m.AngularComponents.TopBar]};27===e.keyCode?(this.focusActiveMenuItemParent(),n(),i="CollapseNavigationDropDown",u.logUserAction(e,s,m.ActionType.KeyDown,i)):9===e.keyCode?(r=$(e.currentTarget).find(":tabbable"),(_.last(r)==e.target&&!e.shiftKey||_.first(r)==e.target&&e.shiftKey)&&(n(),i="CollapseNavigationDropDown",u.logUserAction(e,s,m.ActionType.KeyDown,i))):(i="SelectNavigationDropDownItem",u.logUserAction(e,s,m.ActionType.KeyDown,i))},v.prototype.escCollapseHelpLinks=function(e){27===e.keyCode&&d.OverlayService.hideDropdown($("[dropdown-overlay-name='helplink']"),!1)},v.prototype.expandMenu=function(e,t,n){this.myContentMenuExpanded=!1,this.helpMenuExpanded=!1,this.createMenuExpanded=!1,this.discoverMenuExpanded=!1,this[t]=!n,this.bindOrUnbindToDocumentClick(),e.stopPropagation(),p.expandMenuActionLogging(e,t,n)},v.prototype.isUserFeedbackEnabled=function(){return this.telemetryService.isUserFeedbackSupported()},v.prototype.ocvUifClicked=function(){var e=this,t=this.oneCustomerVoiceDataService.getManifestForSDK(),n=t.manifest;window.OfficeBrowserFeedback.multiFeedback(n).then((function(){return e.telemetryTracker.trackEvent(l.TelemetryEventNames.OcvAppWideFeedbackSucceeded,{clientFeedbackId:t.id})}),(function(t){return e.telemetryTracker.trackEvent(l.TelemetryEventNames.OcvAppWideFeedbackFailed)}))},v.prototype.inviteClicked=function(e){this.logMenuItemClicked(e,"#Invite"),this.showMobileMenu=!1,this.inviteDialog.open()},v.prototype.uploadClicked=function(e){this.logMenuItemClicked(e,"#Upload"),this.showMobileMenu=!1,this.navigationService.navigate("upload")},v.prototype.createChannelClicked=function(e){var t=this;this.logMenuItemClicked(e,"#CreateChannel"),this.showMobileMenu=!1,this.createChannelDialog.open(null,null,this.isCompanyWideChannelCreationEnabled()).closePromise.then((function(e){e&&e.value&&e.value.channel&&(e=e.value.channel,t.navigationService.navigate(s.formatString(o.Constants.Routes.Channel,e.id)))})).catch((function(e){})).finally((function(){}))},v.prototype.isCreateGroupEnabled=function(){return this.me&&this.me.permissions.canCreateGroup},v.prototype.isCreateVideoEnabled=function(){return this.me&&this.me.permissions.canCreateVideo},v.prototype.isCreateLiveEventEnabled=function(){return this.me&&this.me.permissions.canCreateLiveEvent},v.prototype.createGroupClicked=function(e){return r(this,void 0,void 0,(function(){var t,n,r=this;return i(this,(function(i){if(this.logMenuItemClicked(e,"#CreateGroup"),this.showMobileMenu=!1,this.isShareableGroupEnabled){if(!(t=Date.parse(sessionInfo.LokiTokenExpiry))||isNaN(t))try{(t=Date.parse(JSON.parse(sessionInfo.LokiTokenExpiry)))&&!isNaN(t)||(t=0)}catch(i){t=0}n=Date.now(),!sessionInfo.LokiToken||!sessionInfo.MSGraphToken||t<n?this.dataService.makeWebTierRequest("/ClearAllCookies","POST",null,{}).then((function(){r.$rootScope.$broadcast(o.Constants.Events.SessionExpired)})):this.useO365GroupShareableControl=!0}else this.groupCreateDialog.open().closePromise.then((function(e){e&&e.value&&e.value.group&&(e=e.value.group,r.onGroupCreateComplete(e.id))}));return[2]}))}))},v.prototype.aboutStreamClicked=function(){this.aboutStreamDialog.open()},v.prototype.streamSettingsClicked=function(){this.navigationService.navigate(o.Constants.Routes.UserSettings)},Object.defineProperty(v.prototype,"displayAdminSettings",{get:function(){return this.me&&this.me.permissions.canManageRoleAssignments},enumerable:!0,configurable:!0}),v.prototype.adminSettingsClicked=function(){this.navigationService.navigate(o.Constants.Routes.AdminSettings)},Object.defineProperty(v.prototype,"isTrialExperienceEnabled",{get:function(){return this.featureFlagsService.Values.TrialExperience},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isRecordVideoEnabled",{get:function(){return this.featureFlagsService.Values.RecordVideo&&this.isCreateVideoEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isDataUsageNotificationsEnabled",{get:function(){return this.featureFlagsService.Values.DataUsageNotifications&&this.isTrial},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isNewBannerEnabled",{get:function(){return this.featureFlagsService.Values.EndOfTrialBar||this.featureFlagsService.Values.DataUsageNotifications},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isReactBannerEnabled",{get:function(){return this.featureFlagsService.Values.ReactBanner},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isScreenRecorderEnabled",{get:function(){return this.me&&this.me.permissions.canCreateVideo&&this.featureFlagsService.Values.ScreenRecorder},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isWebcamRecordingEnabled",{get:function(){return this.me&&this.me.permissions.canCreateVideo&&this.featureFlagsService.Values.ScreenRecorder&&this.featureFlagsService.Values.WebcamRecording},enumerable:!0,configurable:!0}),v.prototype.getProfileImage=function(){return portalConfiguration.EnableMockApiGateway?null:this.profileImageUrl},Object.defineProperty(v.prototype,"isShareableGroupEnabled",{get:function(){return this.featureFlagsService.Values.ShareableGroupCRUDControl},enumerable:!0,configurable:!0}),v.prototype.hideMobileMenu=function(){this.showMobileMenu=!1},v.prototype.openNewLink=function(e){this.$window.open(e,"_blank"),this.showMobileMenu=!1},v.prototype.isCompanyWideChannelCreationEnabled=function(){return this.me.permissions.canCreateChannel},v.prototype.logAndSetFocus=function(e,t,n){void 0===n&&(n=!1),this.logMenuItemClicked(e,t),n?this.focusFirstElement("button.f-active:visible:enabled"):this.focusFirstElement()},v.prototype.logMenuItemClicked=function(e,t){this.telemetryTracker.trackEvent(l.TelemetryEventNames.TopBarMenuItemClicked,{menuHref:t}),p.menuItemClickUserActionLogging(e,t)},v.prototype.focusFirstElement=function(e){var t=this,n=this.$scope.$on("$locationChangeSuccess",(function(r,i,s){t.$timeout((function(){e=e||"button:visible:enabled, a:visible:enabled,div[role='listbox']:visible:enabled, :text:visible:enabled,input[type='search']:visible:enabled",$(e,$("[ng-viewport]")).first().focus(),n()}),o.Constants.controllerRedirectionTime)}))},v.prototype.recordVideo=function(e){this.logMenuItemClicked(e,"#RecordVideo"),this.videoRecorderService.initialize()},v.prototype.recordScreen=function(e){this.logMenuItemClicked(e,"#RecordScreen"),f.launchScreenRecorder(this.tenantService,this.me,this.companyPolicyDialog,this.resources,this.screenRecorderDialog)},Object.defineProperty(v.prototype,"topBarLiveEventText",{get:function(){return this.featureFlagsService.Values.LiveGA?this.resources.TopbarLiveEvent:this.resources.TopbarLiveEventPreviewTag},enumerable:!0,configurable:!0}),v.prototype.focusActiveMenuItemParent=function(){var e=document.activeElement;$(".c-select-menu").has(e).children("button").first().focus()},v.$inject=["telemetryService","featureFlagsService","navigationService","principalService","dataService","resources","$document","$scope","$rootScope","$q","$window","inviteDialog","createChannelDialog","AboutStreamDialog","videoBgUploaderService","$timeout","$location","groupCreateDialog","trialDialog","videoRecorderService","screenRecorderDialog","oneCustomerVoiceDataService","tenantService","companyPolicyDialog","$element"],n=v;function v(e,t,n,r,i,c,d,u,p,m,h,f,v,y,b,S,C,$,w,M,T,k,P,D,L){var A=this;this.telemetryService=e,this.featureFlagsService=t,this.navigationService=n,this.principalService=r,this.dataService=i,this.resources=c,this.$document=d,this.$scope=u,this.$rootScope=p,this.$q=m,this.$window=h,this.inviteDialog=f,this.createChannelDialog=v,this.aboutStreamDialog=y,this.videoBgUploaderService=b,this.$timeout=S,this.$location=C,this.groupCreateDialog=$,this.trialDialog=w,this.videoRecorderService=M,this.screenRecorderDialog=T,this.oneCustomerVoiceDataService=k,this.tenantService=P,this.companyPolicyDialog=D,this.$element=L,this.helpLinkGettingStarted="http://go.microsoft.com/fwlink/?LinkID=809294&clcid="+sessionInfo.LCID,this.helpLinkCommunity="http://go.microsoft.com/fwlink/?LinkID=809295&clcid="+sessionInfo.LCID,this.helpLinkGiveFeedback="http://go.microsoft.com/fwlink/?LinkID=809298&clcid="+sessionInfo.LCID,this.helpLinkBlog="http://go.microsoft.com/fwlink/?LinkID=809299&clcid="+sessionInfo.LCID,this.helpLinkAdminMode="http://go.microsoft.com/fwlink/?LinkID=2112938&clcid="+sessionInfo.LCID,this.adminModeIcon=g.StreamIconNames.Admin,this.placeholderText="",this.useO365GroupShareableControl=!1,this.searchTerm="",this.discoverMenuExpanded=!1,this.myContentMenuExpanded=!1,this.helpMenuExpanded=!1,this.createMenuExpanded=!1,this.documentClickBound=!1,this.showMobileMenu=!1,this.isSmallScreen=!1,this.shouldShowTopbar=sessionInfo.ApiGatewayUri,this.videoEditorInactive=!0,this.searchStringMaxLength=o.Constants.MaxLengths.SearchInput,this.searchFieldDefaultSize=235,this.isTrial=!1,this.adminModeToggleCalloutLink={title:this.resources.LearnMore,address:this.helpLinkAdminMode},this.adminModeToggleCallout={title:this.resources.TopbarAdminToggleTooltipTitle,description:this.resources.TopbarAdminToggleTooltipContent,link:this.adminModeToggleCalloutLink,closeButtonAriaLabel:this.resources.TopbarAdminModeToggleCalloutCloseButtonAriaLabel,setInitialFocus:!1,showOnce:!0},this.highlightedTab={home:!1,discover:!1,studio:!1},this.documentClickHandler=function(e){(A.showMobileMenu||A.discoverMenuExpanded||A.myContentMenuExpanded||A.createMenuExpanded||A.helpMenuExpanded)&&(A.createMenuExpanded=A.discoverMenuExpanded=A.myContentMenuExpanded=A.helpMenuExpanded=!1,!A.showMobileMenu||angular.element.contains(angular.element(".mobile-menu").get(0),e.target)&&!angular.element(e.target).hasClass("action-link")||(A.showMobileMenu=!1),A.$scope.$apply()),A.bindOrUnbindToDocumentClick()},this.onGroupCreateComplete=function(e){A.isShareableGroupEnabled&&(A.useO365GroupShareableControl=!1,setTimeout((function(){A.$element.find(".c-select-menu .create-navigation").focus()}),o.Constants.controllerRedirectionTime)),e&&A.navigationService.redirect(s.formatString(o.Constants.Routes.Group,e))},this.initializeMenuItems(),this.telemetryTracker=this.telemetryService.getTracker(l.ScreenName.TopBar),sessionInfo.UserClaim.UserInfo.GivenName?this.displayName=s.formatString(c.UserDisplayName,sessionInfo.UserClaim.UserInfo.GivenName,sessionInfo.UserClaim.UserInfo.FamilyName||""):this.displayName=sessionInfo.UserClaim.UserInfo.FamilyName||sessionInfo.UserClaim.UserInfo.DisplayableId,this.$scope.$watch((function(){return sessionInfo.ApiGatewayUri}),(function(e,t){A.shouldShowTopbar=sessionInfo.ApiGatewayUri}),!0),this.featureFlagsService.Values.AdminSettingsV2&&this.$scope.$on(o.Constants.Events.AdminPrivilegeRevoked,(function(){A.principalService.getMyPrincipalInfo().then((function(e){A.me=e.data}))})),this.$scope.$on(o.Constants.Events.videoEditorLoaded,(function(){A.videoEditorInactive=!1})),this.$scope.$on(o.Constants.Events.videoEditorClosed,(function(){A.videoEditorInactive=!0})),this.$scope.$watch((function(){return A.$location.absUrl()}),(function(e,t){var n=A.navigationService.getPageName();A.highlightedTab.home=n===l.ScreenName.Hub,A.highlightedTab.discover=0<=e.indexOf("browse"),A.highlightedTab.studio=n===l.ScreenName.StudioGroups||n===l.ScreenName.MyVideos||n===l.ScreenName.MyChannels||n===l.ScreenName.Watchlist||n==l.ScreenName.MyMeetings||n===l.ScreenName.ChannelsFollowing||n===l.ScreenName.RecentlyViewed||n===l.ScreenName.RecycleBin})),this.$scope.$on("destroy",this.unbindToDocumentClick),this.discoverMenuExpanded=!1,this.myContentMenuExpanded=!1,this.helpMenuExpanded=!1,this.setMenuSize(),this.$window.addEventListener("resize",(function(){A.setMenuSize(),angular.element("body").width()})),this.principalService.getMyPrincipalInfo().then((function(e){A.me=e.data,A.telemetryTracker.succeed(l.FeatureName.Topbar),A.profileImageUrl=A.me.profileImageUrl,A.isStreamAdmin=A.principalService.getIsStreamAdmin();var t;e=A.navigationService.getQueryParams();A.isStreamAdmin&&void 0!==e.isInAdminMode?A.setAdminMode("true"===e.isInAdminMode).then((function(e){A.shouldDisplayAdminModeToggle=A.isAdminModeToggleVisible()})):A.isStreamAdmin&&(A.adminModeActive=A.isStreamAdmin&&A.principalService.getAdminModeStatus(),A.shouldDisplayAdminModeToggle=A.isAdminModeToggleVisible(),A.adminModeToggleAriaLabel=s.formatString(A.resources.TopbarAdminToggleAriaLabel,A.adminModeActive?A.resources.On:A.resources.Off)),A.$scope.$watch(A.principalService.getAdminModeStatus,(function(e,t){e!=t&&(t=A.adminModeActive!=e,A.adminModeActive=e,t&&(A.shouldDisplayAdminModeToggle=!1,A.$timeout((function(){A.shouldDisplayAdminModeToggle=A.isAdminModeToggleVisible()}),o.Constants.TopbarComponentRenderDelayInMs)))})),A.featureFlagsService.Values.TrialExperience&&(e=a.ServicePlanUtils.getTrialPlanForUser(A.me,!0),A.isTrial=!_.isNull(e),A.isTrial&&(angular.element(".office-scroll-body").addClass("trial-body"),A.me.servicePlans.assignedPlans[0].name,A.trialBarMessage=s.formatString(A.resources.TopBar.TrialBar.Message,o.Constants.ProductName),A.trialBarLink=o.Constants.TrialExperience.BuyNowLink,A.trialBarLinkText=A.resources.TopBar.Trial.LinkText,A.me.settings.general.hideTrialSplash||a.ServicePlanUtils.isSuspendedTrial(e)||(t=function(){A.trialDialog.open().closePromise.then((function(){A.principalService.patchMySettings({general:{hideTrialSplash:!0}})}))},A.navigationService.getPageName()!==l.ScreenName.Welcome?t():A.$scope.$on("$locationChangeSuccess",(function(e,n,r){A.navigationService.getPageName()!==l.ScreenName.Welcome&&t()})))))}),(function(e){A.telemetryTracker.fail(l.FeatureName.Topbar,l.SubFeatureName.PrincipalService_GetMyPrincipalInfo,e)})),this.onAdminModeToggleClicked=this.onAdminModeToggleClicked.bind(this),this.onAdminModeCalloutToggle=this.onAdminModeCalloutToggle.bind(this)}t.TopbarController=n},"./app/components/topbar/topbarTelemetryBindings.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/TelemetryUtils.ts"),i=n("./app/utility/TelemetrySchemas/FeatureId.ts"),o=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),s={"/":{action:"NavigateHome",featureIds:[i.FeatureId.Navigation]},"/browse":{action:"NavigateToVideos",featureIds:[i.FeatureId.Video]},"studio/videos":{action:"NavigateToMyVideos",featureIds:[i.FeatureId.Video]},"/browse?view=channel":{action:"NavigateToChannels",featureIds:[i.FeatureId.Channels]},"studio/channels":{action:"NavigateToMyChannels",featureIds:[i.FeatureId.Channels]},"/browse?view=people":{action:"NavigateToPeople",featureIds:[i.FeatureId.People]},"/browse?view=group":{action:"NavigateToGroups",featureIds:[i.FeatureId.Groups]},"studio/groups":{action:"NavigateToGroups",featureIds:[i.FeatureId.Groups]},"studio/watchlist":{action:"NavigateToWatchlist",featureIds:[i.FeatureId.Video]},"studio/followingchannels":{action:"NavigateToFollowedChannels",featureIds:[i.FeatureId.Channels]},"studio/recentlyviewed":{action:"NavigateToRecentlyViewed",featureIds:[i.FeatureId.Video]},"studio/recyclebin":{action:"NavigateToRecycleBin",featureIds:[i.FeatureId.RecycleBin]},"studio/meetings":{action:"NavigateToMeetings",featureIds:[i.FeatureId.Meetings]},"#RecordVideo":{action:"OpenVideoRecorder",featureIds:[i.FeatureId.RecordVideo]},"#RecordScreen":{action:"OpenScreenRecorder",featureIds:[i.FeatureId.RecordScreen]},"#Invite":{action:"OpenInviteModal",featureIds:[i.FeatureId.Invite]},"#CreateGroup":{action:"OpenCreateGroupDialog",featureIds:[i.FeatureId.Groups]},"#CreateChannel":{action:"OpenCreateChannelModal",featureIds:[i.FeatureId.Channels]},"/upload":{action:"NavigateToUpload",featureIds:[i.FeatureId.Upload]},"#Upload":{action:"NavigateToUpload",featureIds:[i.FeatureId.Upload]}};t.expandMenuActionLogging=function(e,t,n){var i;switch(t){case"myContentMenuExpanded":i=n?"CloseMyContentMenu":"OpenMyContentMenu";break;case"helpMenuExpanded":i=n?"CloseHelpMenu":"OpenHelpMenu";break;case"createMenuExpanded":i=n?"CloseCreateMenu":"OpenCreateMenu";break;case"discoverMenuExpanded":i=n?"CloseDiscoverMenu":"OpenDiscoverMenu";break;default:i="Unknown"}t=r.getActionType(e),r.logUserAction(e,{components:[o.AngularComponents.TopBar]},t,i)},t.menuItemClickUserActionLogging=function(e,t){var n;t in s?(n=s[t].action,s[t].featureIds):n="Unknown",t=r.getActionType(e),r.logUserAction(e,{components:[o.AngularComponents.TopBar]},t,n)}},"./app/models/O365ShellModels.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.NavBarLinkData=function(e,t,n,r){this.Id=e,this.Text=t,this.Url=n,this.TargetWindow=r}},"./app/models/TenantModel.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.dataExportCreateState={created:"created",creating:"creating"}},"./app/models/TextTrackModels.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./app/utility/ScreenRecorderUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts");t.launchScreenRecorder=function(e,t,n,i,o){e.getSettings().then((function(e){var s=e&&e.data&&e.data.system&&e.data.system.contentManagement&&e.data.system.contentManagement.companyUploadPolicy.acknowledgementRequired,a=t&&t.settings&&t.settings.system&&t.settings.system.contentManagement&&t.settings.system.contentManagement.companyUploadPolicy&&t.settings.system.contentManagement.companyUploadPolicy.acknowledged;s&&!a?(e=r.htmlDecode(e.data.system.contentManagement.companyUploadPolicy.url),n.open(i.AcceptPolicyBeforeHeading,e,null).closePromise.then((function(e){o.open({})}))):o.open({})}))}},"./app/utility/TelemetrySchemas/FeatureId.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.FeatureId||(t.FeatureId={})).Channels="Channels",t.Feedback="Feeback",t.Follow="Follow",t.Groups="Groups",t.Invite="Invite",t.Meetings="Meetings",t.Navigation="Navigation",t.People="People",t.RecycleBin="RecycleBin",t.RecordScreen="RecordScreen",t.RecordVideo="RecordVideo",t.Search="Search",t.Unknown="Unknown",t.Upload="Upload",t.Video="Video",t.Watchlist="Watchlist"},"./common/Directives/ActionBar/ActionBar.html":function(e,t){e.exports=" <div class=simple-action-bar> <div class=actions> <div class=action ng-repeat=\"item in $ctrl.actions | orderBy: 'order'\" role=presentation> <button type=button class=stream-btn ng-class=\"{'btn-primary': item.isPrimary}\" aria-label={{item.text}} ng-disabled=$ctrl.isDisabled(item) ng-click=$ctrl.onActionClick(item)> {{item.text}} </button> </div> </div> </div>"},"./common/Directives/ActionBar/ActionBar.less":function(e,t){},"./common/Directives/ActionBar/ActionBar.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/ActionBar/ActionBar.less");var r=n("./app/utility/appUtil.ts"),i=n("./common/Directives/ActionBar/ActionBarController.ts"),o=function(e,t,n,r,i,o){this.order=e,this.text=t,this.onClick=n,this.isDisabled=r,this.alwaysEnabled=i,this.isPrimary=o};t.Action=o,o=function(){this.restrict="E",this.controller=i.ActionBarController,this.template=n("./common/Directives/ActionBar/ActionBar.html"),this.scope={actions:"<"},this.controllerAs="$ctrl",this.bindToController=!0},t.ActionBar=o,r.registerDirective("actionBar",o,angular.module("jumper"))},"./common/Directives/ActionBar/ActionBarController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.onActionClick=function(e,t){(e=e&&e.onClick())&&e.then((function(){t&&t()}))},r.prototype.isDisabled=function(e){return!e.alwaysEnabled&&e.isDisabled},r.$inject=["resources","$timeout","$element"],r);function r(e,t,n){this.resources=e,this.$timeout=t,this.$element=n}t.ActionBarController=n},"./common/Directives/ActionList/ActionList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/Constants.ts");n=function(){this.restrict="A",this.link=function(e,t,n){$(t).keydown((function(e){e.keyCode===i.Constants.KeyCodes.Up?((0==$(":focus").parent().prev("li").length?$(":focus").parent().parent().prev():$(":focus").parent().prev("li").children().first()).focus(),e.preventDefault()):e.keyCode===i.Constants.KeyCodes.Down&&((0<$(":focus").next("ul").length?$(":focus").next("ul").children("li").first():$(":focus").parent().next("li")).children().first().focus(),e.preventDefault())}))}};t.ActionList=n,r.registerDirective("actionList",n,angular.module("jumper"))},"./common/Directives/ActionList/DropdownActionList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/Constants.ts");n=function(){this.restrict="A",this.link=function(e,t,n){var r=[],o=(t.find("[dropdown-action-list-items]"),-1);void 0===e.$ctrl.allSuggestionsLength&&null===e.$ctrl.allSuggestionsLength||e.$watch((function(){return e.$ctrl.allSuggestionsLength}),(function(e){e?setTimeout((function(){r=t.find(".action-list-item"),o=0})):(r=[],o=-1)})),$(t).keydown((function(e){$(":focus").hasClass("action-list-item")&&(e.keyCode===i.Constants.KeyCodes.Up?(o=o<=0?r.length-1:o-1,r[o].focus(),e.preventDefault()):e.keyCode===i.Constants.KeyCodes.Down&&(o=o>=r.length-1?1:o+1,r[o].focus(),e.preventDefault()))}))}};t.DropdownActionList=n,r.registerDirective("dropdownActionList",n,angular.module("jumper"))},"./common/Directives/AriaAlert.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/appUtil.ts");o.$inject=["$timeout"],n=o;function o(e){var t=this;this.$timeout=e,this.restrict="A",this.scope={},this.link=function(e,n,r){t.$timeout((function(){$(n).attr("aria-label")?i.alertScreenReader($(n).attr("aria-label")):i.alertScreenReader($(n).text())}),0)}}t.AriaAlert=n,r.registerDirective("ariaAlert",n,angular.module("jumper"))},"./common/Directives/CardimageOnload.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i={channel:{load:"/bundles/app/generated/channel-poster-transparent.png",error:"/bundles/app/generated/channel-poster-default.png"}};n=function(){this.restrict="A",this.link=function(e,t,n){t&&t.bind("load error",(function(e){var r=e.type;e=n.entity&&i[n.entity]?n.entity:"channel";t.unbind("load"),t.unbind("error"),t.attr("src",i[e][r]),t.addClass("fadeIn")}))}};t.CardimageOnload=n,r.registerDirective("cardimageOnload",n,angular.module("jumper"))},"./common/Directives/EscapeHide/EscapeHide.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./app/utility/Constants.ts");n=function(){this.restrict="A",this.link=function(e,t,n){$(t).keydown((function(e){(void 0===e.which?e.keyCode:e.which)===i.Constants.KeyCodes.Esc&&(t.hide(),e.preventDefault())}))}};t.EscapeHide=n,r.registerDirective("escapeHide",n,angular.module("jumper"))},"./common/Directives/ExpansionPanel/ExpansionPanel.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");n=function(){this.restrict="A",this.link=function(e,t,n){var r=t.attr("aria-controls"),i=$("#"+r);t.on("click",(function(){"true"===t.attr("aria-expanded")?(t.attr("aria-expanded","false"),i.hide()):(t.attr("aria-expanded","true"),i.show())}))}};t.ExpansionPanel=n,r.registerDirective("expansionPanel",n,angular.module("jumper"))},"./common/Directives/SaveDiscard/SaveDiscard.html":function(e,t){e.exports="<action-bar actions=$ctrl.actions></action-bar>"},"./common/Directives/SaveDiscard/SaveDiscard.less":function(e,t){},"./common/Directives/SaveDiscard/SaveDiscard.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/SaveDiscard/SaveDiscard.less");var r=n("./app/utility/appUtil.ts"),i=n("./common/Directives/SaveDiscard/SaveDiscardController.ts"),o=function(e,t,n,r,i,o){this.saveFunction=e,this.discardFunction=t,this.isSaveDisabled=n,this.isDiscardDisabled=r,this.saveButtonLabel=i,this.discardButtonLabel=o};t.SaveDiscardActions=o,o=function(){this.restrict="E",this.controller=i.SaveDiscardController,this.template=n("./common/Directives/SaveDiscard/SaveDiscard.html"),this.scope={saveDiscardActions:"<",alwaysEnableDiscard:"<"},this.controllerAs="$ctrl",this.bindToController=!0},t.SaveDiscard=o,r.registerDirective("saveDiscard",o,angular.module("jumper"))},"./common/Directives/SaveDiscard/SaveDiscardController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./common/Directives/ActionBar/ActionBar.ts");i.prototype.prepareActions=function(){this.saveDiscardActions&&this.saveDiscardActions.discardFunction&&this.saveDiscardActions.saveFunction&&(this.actions.push(new r.Action(0,this.saveDiscardActions.discardButtonLabel||this.resources.ActionBar.Button.Discard,this.saveDiscardActions.discardFunction,this.saveDiscardActions.isDiscardDisabled,this.alwaysEnableDiscard)),this.actions.push(new r.Action(1,this.saveDiscardActions.saveButtonLabel||this.resources.ActionBar.Button.Save,this.saveDiscardActions.saveFunction,this.saveDiscardActions.isSaveDisabled,!1,!0)))},i.$inject=["$scope","resources"],n=i;function i(e,t){var n=this;this.$scope=e,this.resources=t,this.actions=[],this.prepareActions(),this.$scope.$watch("$ctrl.saveDiscardActions.isSaveDisabled",(function(){n.actions&&2===n.actions.length&&(n.alwaysEnableDiscard||(n.actions[0].isDisabled=n.saveDiscardActions.isDiscardDisabled),n.actions[1].isDisabled=n.saveDiscardActions.isSaveDisabled)}))}t.SaveDiscardController=n},"./common/Directives/SelectTagExtension.ts":function(e,t){angular.module("jumper").directive("select",["$interpolate",function(e){return{restrict:"E",require:"ngModel",link:function(t,n,r,i){r.defaultOption&&(t.defaultOptionText=r.defaultOption,n.prepend(e('<option value="" disabled selected style="display: none;">{{defaultOptionText}}</option>')(t)))}}}])},"./common/Directives/StickyElement/StickyElement.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");n=function(){this.restrict="A",this.link=function(e,t,n){var i="testSticky-"+r.generateGuid().split("-")[0],o="#"+i,s=t.attr("next-element-selector"),a=s?$(s):t.parent().next();t.parent().append("<span id='"+i+"' class='"+(_.startsWith(t.attr("sticky-element"),"$")?e.$eval(t.attr("sticky-element")):t.attr("sticky-element"))+"'/>"),a.attr("default-margin-top",a.css("margin-top")),t.attr("original-top",t.position().top),$(window).resize((function(){l()}));var l=function(){"none"!==$(o).css("display")?setTimeout((function(){var e;t.hasClass("full-vp-width")?(e="100%",t.css("left",0)):e=t.parent().innerWidth(),t.css("width",e),t.attr("auto-margin-next")&&(a.css("margin-top",t.outerHeight()),t.parent().addClass("relativeposition"),t.addClass("fixedposition"),t.attr("auto-assign-top")&&t.css("top",t.attr("original-top")))}),0):(t.parent().removeClass("relativeposition"),t.removeClass("fixedposition"),a.attr("default-margin-top")&&a.css("margin-top",a.attr("default-margin-top")),t.css("width",""))};l()}};t.stickyElement=n,r.registerDirective("stickyElement",n,angular.module("jumper"))},"./common/components/Accordion/VPaneHeaderExtended.html":function(e,t){e.exports='<svg-src class="accordion-header-icon pane-opened" svg-name=icon_see_more inline-with-text=true></svg-src> <svg-src class="accordion-header-icon pane-closed" svg-name=icon_right_arrow inline-with-text=true></svg-src> <span ng-transclude></span>'},"./common/components/Accordion/VPaneHeaderExtended.less":function(e,t){},"./common/components/Accordion/VPaneHeaderExtended.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/Accordion/VPaneHeaderExtended.less"),angular.module("jumper").config(["$provide",function(e){e.decorator("vPaneHeaderDirective",["$delegate",function(e){var t=e[0];t.scope.fn="&";var r=t.link;return t.template=n("./common/components/Accordion/VPaneHeaderExtended.html"),t.compile=function(){return function(e,t,n,i){t.bind("click",(function(e){"v-pane-header"===e.target.nodeName.toLowerCase()&&"true"===e.target.getAttribute("aria-expanded")&&(e.preventDefault(),e.stopImmediatePropagation())})),t.bind("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||"v-pane-header"!==e.target.nodeName.toLowerCase()||"true"!==e.target.getAttribute("aria-expanded")||(e.preventDefault(),e.stopImmediatePropagation())})),r.apply(this,arguments)}},e}])}])},"./common/components/DropdownList/DropdownList.html":function(e,t){e.exports='<div class=dropdown-list-outer> <div ng-if=$ctrl.disabled class=disabled-overlay></div> <div class=dropdown-list-container> <div class="selector c-combo"> <input autocomplete=off aria-label={{::$ctrl.ariaText}} type=text placeholder={{::$ctrl.placeholder}} ng-model=$ctrl.userInput ng-model-options="{ debounce: $ctrl.inputTimeInterval}" ng-focus=$ctrl.expandDropdown() ng-change=$ctrl.inputChange() ng-disabled=$ctrl.disabled maxlength={{::$ctrl.pickerInputMaxLength}} /> <button type=button class=c-glyph ng-disabled=$ctrl.disabled ng-click=$ctrl.toggle() aria-label={{::$ctrl.resources.ChannelSelector.SearchButtonAriaLabl}}> </button> </div> <ul role=menu class=dropdown-list scroll scroll-percent=$ctrl.scrollPercent ng-show=$ctrl.isExpanded> <li ng-if=$ctrl.isCreateEnabled role=menuitem ng-mouseover=$ctrl.hoverItem($event) ng-click="$ctrl.createNew(); $ctrl.focusButton()"> <a role=button class="c-glyph c-action-trigger create-new">&#43; {{::$ctrl.createNewText}}</a> </li> <li role=menuitem ng-repeat="item in $ctrl.items track by $index" ng-mouseover=$ctrl.hoverItem($event) ng-click=$ctrl.selectItem(item)> <span ng-bind-html=$ctrl.renderItemName(item.name)> </span> </li> </ul> </div> </div>'},"./common/components/DropdownList/DropdownList.less":function(e,t){},"./common/components/DropdownList/DropdownList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./common/components/DropdownList/DropdownListController.ts"),i=n("./app/utility/appUtil.ts");function o(){this.restrict="E",this.link=function(e,t,n,r){var o,s,a,l,c,d=".dropdownlist-"+i.generateGuid();r.toggle=function(){r.isExpanded?r.collapseDropdown():r.expandDropdown()},r.hoverItem=function(e){"LI"===e.target.tagName&&$(e.target).focus()},r.focusButton=function(){var e=t.find(".dropdown-list-container .selector button");e&&e.length&&e.focus()},o=function(){var e=t.find(".dropdown-list-container .dropdown-list");!e||e.length<=0||e.keydown((function(e){var n=e.keyCode;40===n?((e=$(":focus").next(".dropdown-list li"))&&e.length&&e.focus(),event.stopPropagation(),event.preventDefault()):38===n&&(((n=$(":focus").prev(".dropdown-list li"))&&n.length||(n=t.find(".dropdown-list-container .selector input"))&&n.length)&&n.focus(),event.stopPropagation(),event.preventDefault())}))},s=function(){var n=t.find(".dropdown-list-container");!n||n.length<=0||n.keydown((function(t){27===t.keyCode?(r.collapseDropdown(),e.$apply()):setTimeout((function(){r.isExpanded&&$(":focus").closest(".dropdown-list-container").length<=0&&(r.collapseDropdown(),e.$apply())}),0)}))},a=function(){var n=t.find(".dropdown-list-container .selector"),i=t.find(".dropdown-list-container .selector input");n&&n.keydown((function(e){var n;40!==e.keyCode||(n=t.find(".dropdown-list li").first())&&n.length&&(n.focus(),e.stopPropagation(),e.preventDefault())})),i&&i.keydown((function(t){9===t.keyCode&&(r.collapseDropdown(),e.$apply())}))},l=function(){$("body").on("click"+d,(function(t){t=$(t.target),r.isExpanded&&t.closest(".dropdown-list-container").length<=0&&(r.collapseDropdown(),e.$apply())}))},c=function(){$("body").off(d)},e.$on("$destroy",(function(){c()})),e.$watch((function(){return r.scrollPercent}),(function(e,n,i){e&&70<e&&r.getItems().then((function(e){var n=t.find(".dropdown-list-container .dropdown-list"),i=n[0].scrollTop;r.appendItems(e),n.scrollTop(i)}))})),l(),o(),a(),s()},this.controller=r.DropdownListController,this.template=n("./common/components/DropdownList/DropdownList.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={placeholder:"@",disabled:"<",queryTop:"<",onQuery:"&",onSearch:"&",onSelect:"&",onCreateNew:"&?",createNewText:"@",optionTypeForAria:"@"}}n("./common/components/DropdownList/DropdownList.less"),t.DropdownList=o,i.registerDirective("dropdownList",o,angular.module("jumper.common"))},"./common/components/DropdownList/DropdownListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),i=n("./app/utility/string.ts"),o=(s.prototype.setState=function(e,t){e===this.lastUserInput?this.skip+=t:(this.lastUserInput=e,this.skip=t),this.reachedEnd=t===this.top,this.lastUserInput=e||""},s.prototype.getSate=function(e){return(e=e||"")===this.lastUserInput?{skip:this.skip,reachedEnd:this.reachedEnd}:{skip:0,reachedEnd:!1}},s.prototype.clearState=function(){this.lastUserInput="",this.skip=0,this.reachedEnd=!1},s);function s(e){this.top=e,this.lastUserInput="",this.skip=0,this.reachedEnd=!1}function a(e,t,n,i){var s=this;this.$q=e,this.$scope=t,this.resources=i,this.isExpanded=!1,this.inputTimeInterval=r.Constants.DropdownList.InputTimeInterval,this.pickerInputMaxLength=r.Constants.MaxLengths.PickerSearch,this.queryState=new o(this.queryTop),this.initItems(),t.$watch((function(){return s.disabled}),(function(e){e&&s.isExpanded&&s.collapseDropdown()}))}a.prototype.initItems=function(){var e=this;this.items=[],this.queryState.clearState(),this.getItems().then((function(t){e.items=t}))},a.prototype.getItems=function(){var e=this,t=this.userInput,n=this.queryState.getSate(t);if(!n.reachedEnd)return t?this.onSearch({skip:n.skip,userInput:t}).then((function(n){return e.queryState.setState(t,n.length),n})):this.onQuery({skip:n.skip}).then((function(t){return e.queryState.setState("",t.length),t}))},a.prototype.appendItems=function(e){this.items=this.items.concat(e)},a.prototype.inputChange=function(){var e=this;this.userInput&&this.expandDropdown(),this.getItems().then((function(t){e.items=t}))},a.prototype.collapseDropdown=function(){this.isExpanded&&(this.isExpanded=!1,this.items=[])},a.prototype.expandDropdown=function(){this.isExpanded||(this.isExpanded=!0,this.queryState.clearState(),this.initItems())},a.prototype.createNew=function(){this.onCreateNew({userInput:this.userInput}),this.userInput="",this.collapseDropdown()},a.prototype.selectItem=function(e){this.onSelect({item:e}),this.userInput="",this.collapseDropdown()},a.prototype.renderItemName=function(e){e=i.htmlEncode(e);var t=i.htmlEncode(this.userInput);return t&&_.startsWith(e.toLocaleLowerCase(),t.toLocaleLowerCase())?"<b>"+e.substring(0,t.length)+"</b>"+e.substring(t.length):e},Object.defineProperty(a.prototype,"isCreateEnabled",{get:function(){return angular.isDefined(this.onCreateNew)&&0<this.createNewText.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ariaText",{get:function(){return i.formatString(this.resources.DropDownListAriaLabel,this.optionTypeForAria)},enumerable:!0,configurable:!0}),a.$inject=["$q","$scope","$sanitize","resources"],n=a,t.DropdownListController=n},"./common/components/DropdownOverlay/DropdownOverlay.less":function(e,t){},"./common/components/DropdownOverlay/DropdownOverlay.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/DropdownOverlay/angular-dropdowns.less"),n("./common/components/DropdownOverlay/DropdownOverlay.less");var r=n("./app/utility/appUtil.ts"),i=n("./common/components/DropdownOverlay/DropdownOverlayCtrl.ts");n=function(){this.template="<ng-transclude></ng-transclude>",this.transclude=!0,this.controller=i.DropdownOverlayCtrl};t.DropdownOverlay=n,r.registerComponent("dropdownOverlay",n,angular.module("jumper"))},"./common/components/DropdownOverlay/DropdownOverlayCtrl.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["input","select","textarea","button"];$.expr[":"].tabbable=function(e){return 0<=e.tabIndex&&(r=(t=e).nodeName,!(!new RegExp(n.join("|"),"gi").test(r)||t.disabled)||!(!/a/i.test(r)||!t.href))&&$(e).is(":visible");var t,r};var r=(i.prototype.InitializeKeyboardEvents=function(e){e.on("keyup",(function(e){var t,n;9===e.which&&(n=_.sortBy($(".topbarContextMenu").find(":tabbable"),(function(e){return angular.element(e).attr("tabindex")||0})),t=_.first(n),n=_.last(n),t=e.target===t&&e.shiftKey,n=e.target===n&&!e.shiftKey,(t||n)&&e.preventDefault())}));var t=this.overlayService;e.on("keydown",(function(n){var r=_.sortBy($(".topbarContextMenu").find(":tabbable"),(function(e){return angular.element(e).attr("tabindex")||0}));_.first(r),r=_.last(r);9===n.which&&n.target===r?(n.preventDefault(),e.removeClass("overlayActive"),r=e.attr("next-element")?"."+e.attr("next-element"):$(":tabbable","div[ng-viewport]").first(),t.hideAllDropdowns(),$(r).focus()):27===n.which&&(n.preventDefault(),e.removeClass("overlayActive"),n="."+e.attr("parent-element"),t.hideAllDropdowns(),$(n).focus())}))},i.$inject=["$element","$scope","$attrs","overlayService","$timeout"],i);function i(e,t,n,r,i){var o=this;this.$scope=t,this.overlayService=r,this.$timeout=i,(n=n.dropdownOverlayClass)&&(e.removeClass("dropdownOverlay"),e.addClass(n)),this.overlayService.register(e),t.$on("$destroy",(function(){return o.overlayService.unregister(e)})),this.InitializeKeyboardEvents(e)}t.DropdownOverlayCtrl=r},"./common/components/DropdownOverlay/DropdownOverlayInvoke.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./common/components/DropdownOverlay/DropdownOverlayInvokeTelemetryBindings.ts");o.$inject=["overlayService"],n=o;function o(e){var t=this;this.clickAction="click",this.restrict="A",this.link=function(e,n,r){var o=r.preferLeft,s=r.needBlur,a=r.preferRight,l=r.alwaysDown,c="true"===r.isFixedAnchor,d="true"===r.deductBodyTop,u=r.disableAnimation,p=r.dropdownOverlayInvoke,m=n.siblings('[dropdown-overlay-name="'+p+'"]'),h="."+r.childFocusElement;n.on(t.clickAction,(function(r){0===m.length&&(m=$('[dropdown-overlay-name="'+p+'"]')),e.$applyAsync((function(){t.overlayService.toggleDropdown(m,n,r,"true"===o,a,l,c,d),i.logUserActionForMenuName(r,p)})),setTimeout((function(){var e=$("dropdown-overlay[dropdown-overlay-name='"+p+"']").first();(e?$(h,$(e)):$(h)).first().focus()}),0)})),"true"===s&&n.on("blur",(function(n){e.$applyAsync((function(){t.overlayService.hideAllDropdowns(u)}))}))},this.overlayService=e}t.DropdownOverlayInvoke=n,r.registerDirective("dropdownOverlayInvoke",n,angular.module("jumper"))},"./common/components/DropdownOverlay/DropdownOverlayInvokeTelemetryBindings.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/TelemetrySchemas/FeatureId.ts"),i=n("./app/utility/TelemetryUtils.ts"),o=n("./node_modules/@msstream/utilities-telemetry/esm/index.js");t.logUserActionForMenuName=function(e,t){var n,s,a;"uploadProgress"===t&&(s="OpenFeedbackOverlay",n=[r.FeatureId.Upload],a=[o.AngularComponents.TopBar]),n&&s&&i.logUserAction(e,{components:a},i.getActionType(e),s)}},"./common/components/DropdownOverlay/angular-dropdowns.less":function(e,t){},"./common/components/List/ListCell/ListCell.html":function(e,t){e.exports="<div class=list-cell ng-class=\"{'list-cell-centered': $ctrl.centered, 'list-cell-no-padding' : $ctrl.noPadding, 'allow-overflow': $ctrl.allowOverflow, 'list-cell-right-aligned': $ctrl.rightAligned}\"> <div class=list-cell-fade ng-class=\"{'list-cell-fade-after' : !$ctrl.noFade}\"> <ng-transclude></ng-transclude> </div> </div>"},"./common/components/List/ListCell/ListCell.less":function(e,t){},"./common/components/List/ListCell/ListCell.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");function i(){this.template=n("./common/components/List/ListCell/ListCell.html"),this.bindings={centered:"<",noPadding:"<",noFade:"<",fillSize:"<",allowOverflow:"<",rightAligned:"<"},this.transclude=!0}n("./common/components/List/ListCell/ListCell.less"),t.ListCell=i,r.registerComponent("listCell",i,angular.module("jumper"))},"./common/components/List/ListHeaderCell/ListHeaderCell.html":function(e,t){e.exports='<list-cell class=list-header-cell centered=$ctrl.centered active=$ctrl.active no-padding=true right-aligned=$ctrl.rightAligned ng-class="{\'header-centered\': $ctrl.centered}"> <div class=header-cell> <span class=header-text ng-if="!$ctrl.headerSortKey || ($ctrl.headerSortKey && $ctrl.sortedKey === $ctrl.headerSortKey)">{{$ctrl.headerLabel}}</span> <svg-src class=sorted-icon ng-if="$ctrl.headerSortKey && $ctrl.sortedKey === $ctrl.headerSortKey" aria-hidden=true inline-with-text=true svg-name=icon_see_more></svg-src> <button ng-if="$ctrl.headerSortKey && $ctrl.sortedKey !== $ctrl.headerSortKey" ng-click=listController.changeSort($ctrl.headerKey)> <span class=header-text>{{$ctrl.headerLabel}}</span> </button> </div> </list-cell>'},"./common/components/List/ListHeaderCell/ListHeaderCell.less":function(e,t){},"./common/components/List/ListHeaderCell/ListHeaderCell.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");function i(){this.template=n("./common/components/List/ListHeaderCell/ListHeaderCell.html"),this.bindings={headerLabel:"<",headerSortKey:"<",sortedKey:"=",centered:"<",rightAligned:"<"}}n("./common/components/List/ListHeaderCell/ListHeaderCell.less"),t.ListHeaderCell=i,r.registerComponent("listHeaderCell",i,angular.module("jumper"))},"./common/components/List/ListRow/ListRow.html":function(e,t){e.exports="<ng-transclude ng-class=\"{'enable-hover': $ctrl.enableHover, 'header-row': $ctrl.headerRow}\"></ng-transclude>"},"./common/components/List/ListRow/ListRow.less":function(e,t){},"./common/components/List/ListRow/ListRow.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");function i(){this.template=n("./common/components/List/ListRow/ListRow.html"),this.bindings={enableHover:"<",headerRow:"<"},this.transclude=!0}n("./common/components/List/ListRow/ListRow.less"),t.ListRow=i,r.registerComponent("listRow",i,angular.module("jumper"))},"./common/components/Scroll/Scroll.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./common/components/Scroll/ScrollController.ts"),o=n("./app/utility/Constants.ts");n=function(){this.restrict="AE",this.link=function(e,t,n,r){t.on("scroll",_.debounce((function(){var n=t.scrollTop(),i=(o=t[0]).scrollHeight,o=o.clientHeight;r.scrollPercent=i<=o?0:n/(i-o)*100,e.$apply()}),o.Constants.ScrollBar.ScrollTimeInterval))},this.controller=i.ScrollController,this.controllerAs="$ctrl",this.bindToController=!0,this.scope={scrollPercent:"="}};t.Scroll=n,r.registerDirective("scroll",n,angular.module("jumper"))},"./common/components/Scroll/ScrollController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.$inject=["$scope"],r);function r(e){this.$scope=e,this.scrollPercent=0}t.ScrollController=n},"./common/components/TabNavigation/TabNavigation.html":function(e,t){e.exports="<nav class=tab-navigation ng-class=\"{'tab-navigation-v2': $ctrl.isV2StyleEnabled, 'c-in-page-navigation': !$ctrl.isVertical, 'vertical-navigation': $ctrl.isVertical, 'tab-navigation-minimal': $ctrl.minimalStyle}\"> <ul class=tab-navigation-list role=tablist ng-class=\"{'show-for-medium': !$ctrl.isVertical && !$ctrl.showFullInSmall, 'show-for-small': $ctrl.showFullInSmall}\"> <li class=tab-navigation-item role=presentation ng-repeat=\"option in $ctrl.model.options\" ng-if=!option.hide ng-class=\"[option.className, {'f-active': $ctrl.value === option.value}]\"> <svg-src svg-name={{option.svgName}} inline-with-text=$ctrl.imgInlineWithText(option) ng-if=option.svgName></svg-src> <button class=\"c-action-trigger nav-link nav-link-option-{{option.value}}\" role=tab ng-class=\"{'f-active': $ctrl.value === option.value, 'item-error': option.value === $ctrl.errorTabValue}\" ng-click=$ctrl.onTabClicked(option) ng-disabled=option.disable aria-posinset={{option.displayIndex}} aria-setsize={{$ctrl.numTabsDisplayed}} aria-selected=\"{{ $ctrl.value === option.value}}\"> <svg-src svg-name=icon_error_status class=item-error-icon inline-with-text=true ng-if=\"option.value === $ctrl.errorTabValue\"></svg-src> {{::option.text}} </button> <svg-src class=after-svg svg-name={{option.afterSvgName}} inline-with-text=$ctrl.imgInlineWithText(option) ng-if=option.afterSvgName></svg-src> </li> </ul> <ul class=tab-navigation-list ng-if=!$ctrl.isVertical ng-class=\"{'hide-for-medium': !$ctrl.showFullInSmall, 'hide-for-small': $ctrl.showFullInSmall}\"> <li class=tab-navigation-item> <button class=\"c-action-trigger with-drawer nav-link nav-link-option-{{$ctrl.activeOption.value}}\" ng-class=\"{'f-active': $ctrl.value === $ctrl.activeOption.value, 'item-error': $ctrl.activeOption.value === $ctrl.errorTabValue}\" ng-click=$ctrl.onTabClicked($ctrl.activeOption)> <svg-src svg-name=icon_error_status class=item-error-icon inline-with-text=true ng-if=\"$ctrl.activeOption.value === $ctrl.errorTabValue\"></svg-src> {{$ctrl.activeOption.text}} </button> </li> <li class=tab-navigation-item ng-if=$ctrl.drawerItems> <drawer drawer-items=$ctrl.drawerItems item=$ctrl.model left-allign=$ctrl.leftAllign fixed-elements=$ctrl.fixedElements tab-navigation-drawer=true></drawer> </li> <li aria-label={{::$ctrl.resources.LiveEventTabsHealth}} ng-class=$ctrl.svgClassName> <svg-src class=after-svg svg-name={{$ctrl.afterSvgName}} inline-with-text=$ctrl.imgInlineWithText(option) ng-if=$ctrl.isSvgAfterAvailable></svg-src> </li> </ul> </nav> "},"./common/components/TabNavigation/TabNavigation.less":function(e,t){},"./common/components/TabNavigation/TabNavigation.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./common/components/TabNavigation/TabNavigationController.ts");function o(){this.controller=i.TabNavigationController,this.template=n("./common/components/TabNavigation/TabNavigation.html"),this.bindings={model:"<",onSelect:"&",unSavedChange:"&",value:"=",direction:"<",errorTabValue:"<",initFocus:"<",showFullInSmall:"<",isV2StyleEnabled:"<",leftAllign:"<",fixedElements:"<",onTabChanged:"&",onInit:"&"}}n("./common/components/TabNavigation/TabNavigation.less"),n("./common/components/TabNavigation/TabNavigationV2.less"),t.TabNavigation=o,r.registerComponent("tabNavigation",o,angular.module("jumper"))},"./common/components/TabNavigation/TabNavigationV2.less":function(e,t){},"./common/components/Toggle/Toggle.html":function(e,t){e.exports='<div class="toggle c-toggle ct-toggle-compact settings-toggle"> <button id="{{$ctrl.toggleLabel || $ctrl.name}}" name={{$ctrl.name}} role=button type=button ng-click=$ctrl.onToggleClick() aria-pressed={{$ctrl.value}} aria-label="{{::$ctrl.toggleLabel || $ctrl.name}}" ng-disabled=$ctrl.disabled></button> <span ng-if=!$ctrl.hideLabels>{{$ctrl.label($ctrl.value)}}</span> </div>'},"./common/components/Toggle/Toggle.less":function(e,t){},"./common/components/Toggle/Toggle.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),i=n("./common/components/Toggle/ToggleController.ts");function o(){this.controller=i.ToggleController,this.template=n("./common/components/Toggle/Toggle.html"),this.bindings={name:"@",value:"=",onToggleClick:"&",disabled:"<",hideLabels:"<",autoPlayCustomOnLabelText:"<",autoPlayCustomOffLabelText:"<",toggleLabel:"@?"}}n("./common/components/Toggle/Toggle.less"),t.Toggle=o,r.registerComponent("toggle",o,angular.module("jumper"))},"./common/components/Toggle/ToggleController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.onClick=function(){this.value=!this.value},r.prototype.label=function(e){return this.autoPlayCustomOnLabelText&&this.autoPlayCustomOffLabelText?e?this.autoPlayCustomOnLabelText:this.autoPlayCustomOffLabelText:e?this.resources.On:this.resources.Off},r.$inject=["$scope","resources","$location"],r);function r(e,t,n){this.$scope=e,this.resources=t,this.$location=n,this.disabled=!1}t.ToggleController=n},"./common/components/UsageBar/UsageBar.html":function(e,t){e.exports="<div class=usage-bar> <div class=usage-bar-container> <div class=usage-bar-display> <span class=bar></span> <span class=bar-text ng-if=$ctrl.displayText aria-label={{$ctrl.displayText}}>{{$ctrl.displayText}}</span> </div> <div class=bar-vertical-line ng-if=!$ctrl.showPercentageLabel></div> <div class=bar-percent ng-if=!$ctrl.showPercentageLabel> <span class=bar-percent-value>{{$ctrl.percentText}}</span> <span class=bar-percent-symbol>%</span> </div> <div class=bar-percent-withlabel ng-if=$ctrl.showPercentageLabel> <span class=bar-percent-label>{{$ctrl.percentText}}% {{$ctrl.percentageLabel}}</span> </div> </div> </div>"},"./common/components/UsageBar/UsageBar.less":function(e,t){},"./common/components/UsageBar/UsageBar.ts":function(e,t,n){function r(){this.controller=i.UsageBarController,this.template=n("./common/components/UsageBar/UsageBar.html"),this.bindings={used:"<",limit:"<",textTemplate:"<",showPercentageLabel:"<",percentageLabel:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/UsageBar/UsageBar.less");var i=n("./common/components/UsageBar/UsageBarController.ts"),o=n("./app/utility/appUtil.ts");t.UsageBar=r,o.registerComponent("usageBar",r,angular.module("jumper.common"))},"./common/components/UsageBar/UsageBarController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts");Object.defineProperty(i.prototype,"displayText",{get:function(){return this.textTemplate?r.formatString(this.textTemplate,Math.round(this.used).toString(),Math.round(this.limit).toString()):""},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"percentText",{get:function(){return Math.round(100*this.percentage)},enumerable:!0,configurable:!0}),i.prototype.updateDisplay=function(e,t){var n,r;this.initComplete&&e===t||(n=$(".usage-bar-display",this.$element).css("width"),this.barWidth=this.getCssPxValue(n),this.percentage=0===this.limit?0:this.used/this.limit,1<this.percentage&&(this.percentage=1),r=$(".bar",this.$element),n=Math.round(this.percentage*this.barWidth),n=this.getCssPxString(n),r.css("width",n),$(".bar-vertical-line",this.$element).css("width",n),(r=this.percentage-.03)<0&&(r=0),n=$(".bar-percent",this.$element),r=Math.round(r*this.barWidth),1===this.percentage&&(r-=3*$(".bar-percent-symbol").width()),n.css("margin-left",this.getCssPxString(r)),e&&t&&(this.initComplete=!0))},i.prototype.getCssPxString=function(e){return r.formatString("{0}px",e.toString())},i.prototype.getCssPxValue=function(e){return parseInt(e.substr(0,e.length-2),10)},i.$inject=["$scope","$element"],n=i;function i(e,t){var n=this;this.$scope=e,this.$element=t,this.initComplete=!1,this.updateDisplay(),setTimeout((function(){n.$scope.$watch((function(){return n.used}),(function(e,t){n.updateDisplay(e,t)})),n.$scope.$watch((function(){return n.getCssPxValue($(".usage-bar-display",n.$element).css("width"))}),(function(e,t){n.updateDisplay(e,t)}))}),0)}t.UsageBarController=n},"./common/services/AzureStorageBlobUploader.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./node_modules/core-js/features/promise/index.js"),n("./node_modules/core-js/features/string/virtual/ends-with.js"),n("./node_modules/core-js/features/string/includes.js"),n("./node_modules/core-js/features/string/starts-with.js"),n("./node_modules/core-js/features/string/repeat.js"),n("./node_modules/core-js/features/array/includes.js"),n("./node_modules/core-js/features/object/keys.js");var r=n("./app/utility/Constants.ts"),i=n("./node_modules/@azure/storage-blob/dist-esm/lib/index.browser.js"),o=(s.prototype.startUploadToAzureBlob=function(){var e=this,t=this.$q.defer(),n=i.StorageURL.newPipeline(new i.AnonymousCredential,{}),o=new i.BlobURL(this.sasURL,n);n=i.BlockBlobURL.fromBlobURL(o),o={blockSize:1024*(this.featureFlagsService.Values.MaxChunkSizeInMB||r.Constants.MaxChunkSizeInMB)*1024,parallelism:this.featureFlagsService.Values.MaxParallelChunkUploads||r.Constants.MaxParallelChunkUploads,progress:function(n){n&&n.loadedBytes&&(n=n.loadedBytes/e.browserFile.size*100,t.notify(Math.ceil(n)))}};return i.uploadBrowserDataToBlockBlob(this.aborter,this.browserFile,n,o).then((function(){t.resolve()}),(function(e){t.reject(e)})),t.promise},s.prototype.cancelUpload=function(){this.aborter.aborted||this.aborter.abort()},s.prototype.dispose=function(){this.cancelUpload()},s);function s(e,t,n,r,o){var s=this;this.$scope=e,this.$q=t,this.featureFlagsService=n,this.browserFile=r,this.sasURL=o,this.aborter=i.Aborter.none,e&&e.$on("$destroy",(function(){s.dispose()}))}t.AzureStorageBlobUploader=o,angular.module("jumper.common").factory("azureStorageBlobUploaderService",["$q","featureFlagsService",function(e,t){return function(n,r,i){return new o(n,e,t,r,i)}}])},"./common/services/OverlayService/OverlayService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.register=function(e){this.dropdowns.push(e),e.addClass(r.overlayClass),e.appendTo(this.root)},r.prototype.unregister=function(e){var t=this.dropdowns.map((function(e){return e[0]})).indexOf(e[0]);-1<t&&(this.dropdowns[t].remove(),this.dropdowns.splice(t,1)),e.removeClass(r.overlayClass),e.removeClass(r.overlayActiveClass),e.remove()},r.prototype.mouseClickHideDialog=function(e,t){if(0<this.dropdowns.length)for(var n=0,i=this.dropdowns.length;n<i;n++){var o=this.dropdowns[n];if(o.hasClass(r.overlayActiveClass)&&this.outOfBoundsClickHandler(e,o)){this.hideAllDropdowns();break}}},r.prototype.showOverlay=function(e,t){this.repositionDropdown(e,t,!0),e.addClass(r.overlayActiveClass)},r.prototype.toggleDropdown=function(e,t,n,i,o,s,a,l){for(var c=0,d=this.dropdowns.length;c<d;c++){var u=this.dropdowns[c];u.is(e)||u.removeClass(r.overlayActiveClass)}this.repositionDropdown(e,t,i,o,s,a,l),e.toggleClass(r.overlayActiveClass),n&&n.stopPropagation()},r.prototype.outOfBoundsClickHandler=function(e,t){var n=e.pageX,r=e.pageY,i=(o=t.offset()).left,o=(e=o.top,i+t.width());t=e+t.height();return n<i||o<n||r<e||t<r},r.prototype.repositionDropdown=function(e,t,n,r,i,o,s){void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===s&&(s=!1);var a="rtl"===document.body.getAttribute("dir"),l=t.offset().left,c=e.outerWidth(!0),d=c+l>$(window).width();(l=n||d?l+t.outerWidth(!0)-c:l)<0&&(l=0),o=(o?t.position():t.offset()).top,s&&(o-=$("body").position().top),o+=t.outerHeight(!0),o=(d=(t=e.outerHeight(!0))+o>$(window).height())&&!i?o-t:o,o=Math.max(o,0),r&&!a?e.css({top:o,right:0}):e.css({top:o,left:Math.ceil(l)})},r.prototype.hideAllDropdowns=function(e){for(var t=0,n=this.dropdowns.length;t<n;t++){var i=this.dropdowns[t];i&&i.hasClass(r.overlayActiveClass)&&this.hideDropdown(i,e)}},r.prototype.hideDropdown=function(e,t){t=t?0:r.menuFadeOutAnimationMs,e.animate({opacity:0},t,(function(){e.removeClass(r.overlayActiveClass),e.removeAttr("style")}))},r.overlayActiveClass="overlayActive",r.overlayClass="overlay",r.menuFadeOutAnimationMs=250,r);function r(){var e=this;this.dropdowns=[],$(window).on("click",(function(t){return e.mouseClickHideDialog(t,e.dropdowns)})),this.root=$("body")}t.OverlayService=n,angular.module("jumper.services").service("overlayService",n)},"./common/stream.ts":function(e,t,n){n("angular"),n("../../../../../.BtCxCache/MediaUx.Angular-Sanitize.1.5.3/node_modules/angular-sanitize/index.js"),n("lodash"),angular.module("jumper.common",["ngSanitize","ngResource","moment-picker"]),n("./common/services/AzureBlobUploaderService/AzureBlobUploader.ts"),n("./common/services/OverlayService/OverlayService.ts"),n("./common/services/SDNPlugin/SDNPluginService.ts"),n("./common/services/AzureStorageBlobUploader.ts"),n("./common/Factories/AppNameFactory.ts"),n("./common/components/Scroll/Scroll.ts"),n("./common/components/DatePicker/DatePicker.ts"),n("./common/components/DropdownList/DropdownList.ts"),n("./common/components/DropdownOverlay/DropdownOverlay.ts"),n("./common/components/DropdownOverlay/DropdownOverlayInvoke.ts"),n("./common/components/TabNavigation/TabNavigation.ts"),n("./common/components/Toggle/Toggle.ts"),n("./common/components/DropDown/DropDown.ts"),n("./common/components/MediaPlayer/MediaPlayer.ts"),n("./common/components/Accordion/VPaneHeaderExtended.ts"),n("./common/components/RadioButton/RadioButton.ts"),n("./common/components/RadioButtonGroup/RadioButtonGroup.ts"),n("./common/components/List/ListRow/ListRow.ts"),n("./common/components/List/ListCell/ListCell.ts"),n("./common/components/List/ListHeaderCell/ListHeaderCell.ts"),n("./common/components/UsageBar/UsageBar.ts"),n("./common/components/VirtualList/VirtualList.ts"),n("./common/components/TimePicker/TimePicker.ts"),n("./common/Directives/Tooltip/Tooltip.ts"),n("./common/Directives/InfiniteScroll/InfiniteScroll.ts"),n("./common/Directives/InfiniteScroll/itemSizer.ts"),n("./common/Directives/StickyElement/StickyElement.ts"),n("./common/Directives/Drawer/Drawer.ts"),n("./common/Directives/FlexDrawer/FlexDrawer.ts"),n("./common/Directives/SvgSrc/SvgSrc.ts"),n("./common/Directives/ProgressBar/ProgressBar.ts"),n("./common/Directives/ActionList/ActionList.ts"),n("./common/Directives/ActionList/DropdownActionList.ts"),n("./common/Directives/AutoFocus/AutoFocus.ts"),n("./common/Directives/SelectTagExtension.ts"),n("./common/Directives/BindCompileHtml.ts"),n("./common/Directives/EscapeHide/EscapeHide.ts"),n("./common/Directives/CustomErrorMessage/CustomErrorMessage.ts"),n("./common/Directives/FlexStyle/FlexStyle.ts"),n("./common/Directives/AriaAlert.ts"),n("./common/Directives/CheckAspectRatio.ts"),n("./common/Directives/CustomTitle/CustomTitle.ts"),n("./common/Directives/SetImgSrc.ts"),n("./common/Directives/CardimageOnload.ts"),n("./common/Directives/SaveDiscard/SaveDiscard.ts"),n("./common/Directives/ActionBar/ActionBar.ts"),n("./common/Directives/ResourceMarkupExtension.ts"),n("./common/Directives/ExpansionPanel/ExpansionPanel.ts"),n("./common/Directives/VolumeButton/VolumeButton.ts"),n("./common/Directives/TrapFocus.ts"),n("./common/Directives/CaptionButton/CaptionButton.ts"),n("./common/appStartup.ts")},"./node_modules/@azure/ms-rest-js/es/lib/credentials/apiKeyCredentials.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ApiKeyCredentials",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js"),i=(o.prototype.signRequest=function(e){if(!e)return Promise.reject(new Error('webResource cannot be null or undefined and must be of type "object".'));if(this.inHeader)for(var t in e.headers||(e.headers=new r.HttpHeaders),this.inHeader)e.headers.set(t,this.inHeader[t]);if(this.inQuery){if(!e.url)return Promise.reject(new Error("url cannot be null in the request object."));for(var n in e.url.indexOf("?")<0&&(e.url+="?"),this.inQuery)e.url.endsWith("?")||(e.url+="&"),e.url+=n+"="+this.inQuery[n]}return Promise.resolve(e)},o);function o(e){if(!e||e&&!e.inHeader&&!e.inQuery)throw new Error('options cannot be null or undefined. Either "inHeader" or "inQuery" property of the options object needs to be provided.');this.inHeader=e.inHeader,this.inQuery=e.inQuery}},"./node_modules/@azure/ms-rest-js/es/lib/credentials/basicAuthenticationCredentials.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BasicAuthenticationCredentials",(function(){return s}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/util/base64.browser.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/util/constants.js").Constants.HeaderConstants,s=(a.prototype.signRequest=function(e){var t=this.userName+":"+this.password;t=this.authorizationScheme+" "+i.encodeString(t);return e.headers||(e.headers=new r.HttpHeaders),e.headers.set(o.AUTHORIZATION,t),Promise.resolve(e)},a);function a(e,t,n){if(void 0===n&&(n="Basic"),this.authorizationScheme="Basic",null==e||"string"!=typeof e.valueOf())throw new Error("userName cannot be null or undefined and must be of type string.");if(null==t||"string"!=typeof t.valueOf())throw new Error("password cannot be null or undefined and must be of type string.");this.userName=e,this.password=t,this.authorizationScheme=n}},"./node_modules/@azure/ms-rest-js/es/lib/credentials/tokenCredentials.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TokenCredentials",(function(){return o}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/util/constants.js").Constants.HeaderConstants,o=(s.prototype.signRequest=function(e){return e.headers||(e.headers=new r.HttpHeaders),e.headers.set(i.AUTHORIZATION,this.authorizationScheme+" "+this.token),Promise.resolve(e)},s);function s(e,t){if(void 0===t&&(t="Bearer"),this.authorizationScheme="Bearer",!e)throw new Error("token cannot be null or undefined.");this.token=e,this.authorizationScheme=t}},"./node_modules/@azure/ms-rest-js/es/lib/credentials/topicCredentials.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TopicCredentials",(function(){return i}));t=n("./node_modules/tslib/tslib.es6.js"),n=n("./node_modules/@azure/ms-rest-js/es/lib/credentials/apiKeyCredentials.js");var r,i=(r=n.ApiKeyCredentials,t.__extends(o,r),o);function o(e){if(!e||e&&"string"!=typeof e)throw new Error("topicKey cannot be null or undefined and must be of type string.");return e={inHeader:{"aeg-sas-key":e}},r.call(this,e)||this}},"./node_modules/@azure/ms-rest-js/es/lib/defaultHttpClient.browser.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/ms-rest-js/es/lib/xhrHttpClient.js");n.d(t,"DefaultHttpClient",(function(){return r.XhrHttpClient}))},"./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js":function(e,t,n){"use strict";function r(e){return e.toLowerCase()}n.r(t),n.d(t,"HttpHeaders",(function(){return i}));var i=(o.prototype.set=function(e,t){this._headersMap[r(e)]={name:e,value:t.toString()}},o.prototype.get=function(e){return(e=this._headersMap[r(e)])?e.value:void 0},o.prototype.contains=function(e){return!!this._headersMap[r(e)]},o.prototype.remove=function(e){var t=this.contains(e);return delete this._headersMap[r(e)],t},o.prototype.rawHeaders=function(){var e,t={};for(e in this._headersMap){var n=this._headersMap[e];t[n.name.toLowerCase()]=n.value}return t},o.prototype.headersArray=function(){var e,t=[];for(e in this._headersMap)t.push(this._headersMap[e]);return t},o.prototype.headerNames=function(){for(var e=[],t=this.headersArray(),n=0;n<t.length;++n)e.push(t[n].name);return e},o.prototype.headerValues=function(){for(var e=[],t=this.headersArray(),n=0;n<t.length;++n)e.push(t[n].value);return e},o.prototype.toJson=function(){return this.rawHeaders()},o.prototype.toString=function(){return JSON.stringify(this.toJson())},o.prototype.clone=function(){return new o(this.rawHeaders())},o);function o(e){if(this._headersMap={},e)for(var t in e)this.set(t,e[t])}},"./node_modules/@azure/ms-rest-js/es/lib/httpPipelineLogLevel.js":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"HttpPipelineLogLevel",(function(){return r})),(t=r=r||{})[t.OFF=0]="OFF",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO"},"./node_modules/@azure/ms-rest-js/es/lib/msRest.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/ms-rest-js/es/lib/webResource.js");n.d(t,"WebResource",(function(){return r.WebResource}));var i=n("./node_modules/@azure/ms-rest-js/es/lib/defaultHttpClient.browser.js");n.d(t,"DefaultHttpClient",(function(){return i.DefaultHttpClient}));var o=n("./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js");n.d(t,"HttpHeaders",(function(){return o.HttpHeaders}));var s=n("./node_modules/@azure/ms-rest-js/es/lib/httpPipelineLogLevel.js");n.d(t,"HttpPipelineLogLevel",(function(){return s.HttpPipelineLogLevel}));var a=n("./node_modules/@azure/ms-rest-js/es/lib/restError.js");n.d(t,"RestError",(function(){return a.RestError}));var l=n("./node_modules/@azure/ms-rest-js/es/lib/serviceClient.js");n.d(t,"ServiceClient",(function(){return l.ServiceClient})),n.d(t,"flattenResponse",(function(){return l.flattenResponse}));var c=n("./node_modules/@azure/ms-rest-js/es/lib/queryCollectionFormat.js");n.d(t,"QueryCollectionFormat",(function(){return c.QueryCollectionFormat}));var d=n("./node_modules/@azure/ms-rest-js/es/lib/util/constants.js");n.d(t,"Constants",(function(){return d.Constants}));var u=n("./node_modules/@azure/ms-rest-js/es/lib/policies/logPolicy.js");n.d(t,"logPolicy",(function(){return u.logPolicy}));var p=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");n.d(t,"BaseRequestPolicy",(function(){return p.BaseRequestPolicy})),n.d(t,"RequestPolicyOptions",(function(){return p.RequestPolicyOptions}));var m=n("./node_modules/@azure/ms-rest-js/es/lib/policies/exponentialRetryPolicy.js");n.d(t,"exponentialRetryPolicy",(function(){return m.exponentialRetryPolicy}));var h=n("./node_modules/@azure/ms-rest-js/es/lib/policies/systemErrorRetryPolicy.js");n.d(t,"systemErrorRetryPolicy",(function(){return h.systemErrorRetryPolicy}));var g=n("./node_modules/@azure/ms-rest-js/es/lib/policies/redirectPolicy.js");n.d(t,"redirectPolicy",(function(){return g.redirectPolicy}));var f=n("./node_modules/@azure/ms-rest-js/es/lib/policies/signingPolicy.js");n.d(t,"signingPolicy",(function(){return f.signingPolicy}));var v=n("./node_modules/@azure/ms-rest-js/es/lib/policies/userAgentPolicy.js");n.d(t,"userAgentPolicy",(function(){return v.userAgentPolicy})),n.d(t,"getDefaultUserAgentValue",(function(){return v.getDefaultUserAgentValue}));var y=n("./node_modules/@azure/ms-rest-js/es/lib/policies/deserializationPolicy.js");n.d(t,"deserializationPolicy",(function(){return y.deserializationPolicy})),n.d(t,"deserializeResponseBody",(function(){return y.deserializeResponseBody}));var b=n("./node_modules/@azure/ms-rest-js/es/lib/serializer.js");n.d(t,"MapperType",(function(){return b.MapperType})),n.d(t,"Serializer",(function(){return b.Serializer})),n.d(t,"serializeObject",(function(){return b.serializeObject}));var S=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js");n.d(t,"stripRequest",(function(){return S.stripRequest})),n.d(t,"stripResponse",(function(){return S.stripResponse})),n.d(t,"delay",(function(){return S.delay})),n.d(t,"executePromisesSequentially",(function(){return S.executePromisesSequentially})),n.d(t,"generateUuid",(function(){return S.generateUuid})),n.d(t,"encodeUri",(function(){return S.encodeUri})),n.d(t,"promiseToCallback",(function(){return S.promiseToCallback})),n.d(t,"promiseToServiceCallback",(function(){return S.promiseToServiceCallback})),n.d(t,"isValidUuid",(function(){return S.isValidUuid})),n.d(t,"applyMixins",(function(){return S.applyMixins})),n.d(t,"isNode",(function(){return S.isNode})),n.d(t,"isDuration",(function(){return S.isDuration}));var _=n("./node_modules/@azure/ms-rest-js/es/lib/url.js");n.d(t,"URLBuilder",(function(){return _.URLBuilder})),n.d(t,"URLQuery",(function(){return _.URLQuery}));var C=n("./node_modules/@azure/ms-rest-js/es/lib/credentials/tokenCredentials.js");n.d(t,"TokenCredentials",(function(){return C.TokenCredentials}));var $=n("./node_modules/@azure/ms-rest-js/es/lib/credentials/basicAuthenticationCredentials.js");n.d(t,"BasicAuthenticationCredentials",(function(){return $.BasicAuthenticationCredentials}));var w=n("./node_modules/@azure/ms-rest-js/es/lib/credentials/apiKeyCredentials.js");n.d(t,"ApiKeyCredentials",(function(){return w.ApiKeyCredentials}));var M=n("./node_modules/@azure/ms-rest-js/es/lib/credentials/topicCredentials.js");n.d(t,"TopicCredentials",(function(){return M.TopicCredentials}))},"./node_modules/@azure/ms-rest-js/es/lib/operationParameter.js":function(e,t,n){"use strict";function r(e){return i(e.parameterPath,e.mapper)}function i(e,t){return t="string"==typeof e?e:Array.isArray(e)?e.join("."):t.serializedName}n.r(t),n.d(t,"getPathStringFromParameter",(function(){return r})),n.d(t,"getPathStringFromParameterPath",(function(){return i}))},"./node_modules/@azure/ms-rest-js/es/lib/operationSpec.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isStreamOperation",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/serializer.js");function i(e){var t,n=!1;for(t in e.responses){var i=e.responses[t];if(i.bodyMapper&&i.bodyMapper.type.name===r.MapperType.Stream){n=!0;break}}return n}},"./node_modules/@azure/ms-rest-js/es/lib/policies/deserializationPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"deserializationPolicy",(function(){return d})),n.d(t,"defaultJsonContentTypes",(function(){return p})),n.d(t,"defaultXmlContentTypes",(function(){return m})),n.d(t,"DeserializationPolicy",(function(){return h})),n.d(t,"deserializeResponseBody",(function(){return f}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/operationSpec.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/restError.js"),s=n("./node_modules/@azure/ms-rest-js/es/lib/serializer.js"),a=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js"),l=n("./node_modules/@azure/ms-rest-js/es/lib/util/xml.browser.js");n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return{create:function(t,n){return new h(t,e,n)}}}var u,p=["application/json","text/json"],m=["application/xml","application/atom+xml"],h=(u=n.BaseRequestPolicy,r.__extends(g,u),g.prototype.sendRequest=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(n){return[2,this._nextPolicy.sendRequest(e).then((function(e){return f(t.jsonContentTypes,t.xmlContentTypes,e)}))]}))}))},g);function g(e,t,n){return(n=u.call(this,e,n)||this).jsonContentTypes=t&&t.json||p,n.xmlContentTypes=t&&t.xml||m,n}function f(e,t,n){return function(e,t,n){function r(e){var t='Error "'+e+'" occurred while parsing the response body - '+n.bodyAsText+".";e=e.code||o.RestError.PARSE_ERROR,e=new o.RestError(t,e,n.status,n.request,n,n.bodyAsText);return Promise.reject(e)}if(!n.request.streamResponseBody&&n.bodyAsText){var i,s=n.bodyAsText;if(0===(i=(i=n.headers.get("Content-Type")||"")?i.split(";").map((function(e){return e.toLowerCase()})):[]).length||i.some((function(t){return-1!==e.indexOf(t)})))return new Promise((function(e){n.parsedBody=JSON.parse(s),e(n)})).catch(r);if(i.some((function(e){return-1!==t.indexOf(e)})))return Object(l.parseXML)(s).then((function(e){return n.parsedBody=e,n})).catch(r)}return Promise.resolve(n)}(e,t,n).then((function(e){var t,r,l;if(l=void 0===(t=(l=e).request.shouldDeserialize)||("boolean"==typeof t?t:t(l))){var d=e.request.operationSpec;if(d&&d.responses){var u=e.status,p=Object.keys(d.responses),m=0===p.length||1===p.length&&"default"===p[0],h=((p=(l=(t=e).request).operationSpec)&&(r=(r=l.operationResponseGetter)?r(p,t):p.responses[t.status]),r);if(m?200<=u&&u<300:h){if(h){if(h.bodyMapper){S=e.parsedBody,d.isXML&&h.bodyMapper.type.name===s.MapperType.Sequence&&(S="object"===c(S)?S[h.bodyMapper.xmlElementName]:[]);try{e.parsedBody=d.serializer.deserialize(h.bodyMapper,S,"operationRes.parsedBody")}catch(v){return(f=new o.RestError("Error "+v+" occurred in deserializing the responseBody - "+e.bodyAsText)).request=a.stripRequest(e.request),f.response=a.stripResponse(e),Promise.reject(f)}}else"HEAD"===d.httpMethod&&(e.parsedBody=200<=n.status&&n.status<300);h.headersMapper&&(e.parsedHeaders=d.serializer.deserialize(h.headersMapper,e.headers.rawHeaders(),"operationRes.parsedHeaders"))}}else{var g=d.responses.default;if(g){var f=Object(i.isStreamOperation)(d)?"Unexpected status code: "+u:e.bodyAsText,v=new o.RestError(f);v.statusCode=u,v.request=a.stripRequest(e.request),v.response=a.stripResponse(e);var y,b,S,_=e.parsedBody;try{_&&((y=g.bodyMapper)&&"CloudError"===y.serializedName?(_.error&&(_=_.error),_.code&&(v.code=_.code),_.message&&(v.message=_.message)):((b=_).error&&(b=_.error),v.code=b.code,b.message&&(v.message=b.message)),y&&(S=_,d.isXML&&y.type.name===s.MapperType.Sequence&&(S="object"===c(_)?_[y.xmlElementName]:[]),v.body=d.serializer.deserialize(y,S,"error.body")))}catch(t){v.message='Error "'+t.message+'" occurred in deserializing the responseBody - "'+e.bodyAsText+'" for the default response.'}return Promise.reject(v)}}}}return Promise.resolve(e)}))}},"./node_modules/@azure/ms-rest-js/es/lib/policies/exponentialRetryPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"exponentialRetryPolicy",(function(){return s})),n.d(t,"ExponentialRetryPolicy",(function(){return l}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js"),o=(t=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js"),n("./node_modules/@azure/ms-rest-js/es/lib/restError.js"));function s(e,t,n,r){return{create:function(i,o){return new l(i,o,e,t,n,r)}}}var a,l=(a=t.BaseRequestPolicy,r.__extends(c,a),c.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then((function(n){return d(t,e,n)})).catch((function(n){return d(t,e,n.response,void 0,n)}))},c);function c(e,t,n,r,i,o){function s(e){return"number"==typeof e}return(t=a.call(this,e,t)||this).retryCount=s(n)?n:3,t.retryInterval=s(r)?r:3e4,t.minRetryInterval=s(i)?i:3e3,t.maxRetryInterval=s(o)?o:9e4,t}function d(e,t,n,r,s){var a,l;a=e,c=(c=r)||{retryCount:0,retryInterval:0},(l=s)&&(c.error&&(l.innerError=c.error),c.error=l),c.retryCount++,l=Math.pow(2,c.retryCount)-1,l*=.8*a.retryInterval+Math.floor(Math.random()*(1.2*a.retryInterval-.8*a.retryInterval)),c.retryInterval=Math.min(a.minRetryInterval+l,a.maxRetryInterval),r=c;var c=t.abortSignal&&t.abortSignal.aborted;return!c&&function(e,t,n){if(!(null==t||t<500&&408!==t||501===t||505===t)){if(!n)throw new Error("retryData for the ExponentialRetryPolicyFilter cannot be null.");return(n&&n.retryCount)<e.retryCount}}(e,n&&n.status,r)?i.delay(r.retryInterval).then((function(){return e._nextPolicy.sendRequest(t.clone())})).then((function(n){return d(e,t,n,r,void 0)})).catch((function(i){return d(e,t,n,r,i)})):c||s||!n?(s=r.error||new o.RestError("Failed to send the request.",o.RestError.REQUEST_SEND_ERROR,n&&n.status,n&&n.request,n),Promise.reject(s)):Promise.resolve(n)}},"./node_modules/@azure/ms-rest-js/es/lib/policies/generateClientRequestIdPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"generateClientRequestIdPolicy",(function(){return i})),n.d(t,"GenerateClientRequestIdPolicy",(function(){return s}));t=n("./node_modules/tslib/tslib.es6.js");var r=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js");n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");function i(e){return void 0===e&&(e="x-ms-client-request-id"),{create:function(t,n){return new s(t,n,e)}}}var o,s=(o=n.BaseRequestPolicy,t.__extends(a,o),a.prototype.sendRequest=function(e){return e.headers.contains(this._requestIdHeaderName)||e.headers.set(this._requestIdHeaderName,r.generateUuid()),this._nextPolicy.sendRequest(e)},a);function a(e,t,n){return(t=o.call(this,e,t)||this)._requestIdHeaderName=n,t}},"./node_modules/@azure/ms-rest-js/es/lib/policies/logPolicy.js":function(e,t,n){"use strict";function r(e){return void 0===e&&(e=console.log),{create:function(t,n){return new o(t,n,e)}}}n.r(t),n.d(t,"logPolicy",(function(){return r})),n.d(t,"LogPolicy",(function(){return o})),t=n("./node_modules/tslib/tslib.es6.js"),n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");var i,o=(i=n.BaseRequestPolicy,t.__extends(s,i),s.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e).then((function(e){return function(e,t){e.logger(">> Request: "+JSON.stringify(t.request,void 0,2)),e.logger(">> Response status code: "+t.status);var n=t.bodyAsText;return e.logger(">> Body: "+n),Promise.resolve(t)}(t,e)}))},s);function s(e,t,n){return void 0===n&&(n=console.log),(t=i.call(this,e,t)||this).logger=n,t}},"./node_modules/@azure/ms-rest-js/es/lib/policies/msRestUserAgentPolicy.browser.js":function(e,t,n){"use strict";function r(){return"x-ms-command-name"}function i(){var e=window.navigator;return[{key:"OS",value:(e.oscpu||e.platform).replace(" ","")}]}n.r(t),n.d(t,"getDefaultUserAgentKey",(function(){return r})),n.d(t,"getPlatformSpecificData",(function(){return i}))},"./node_modules/@azure/ms-rest-js/es/lib/policies/redirectPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"redirectPolicy",(function(){return i})),n.d(t,"RedirectPolicy",(function(){return s}));t=n("./node_modules/tslib/tslib.es6.js");var r=n("./node_modules/@azure/ms-rest-js/es/lib/url.js");n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");function i(e){return void 0===e&&(e=20),{create:function(t,n){return new s(t,n,e)}}}var o,s=(o=n.BaseRequestPolicy,t.__extends(a,o),a.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e).then((function(e){return function e(t,n,i){var o=n.request,s=n.status,a=n.headers.get("location");if(a&&(300===s||307===s||303===s&&"POST"===o.method)&&(!t.maxRetries||i<t.maxRetries)){var l=r.URLBuilder.parse(o.url);return l.setPath(a),o.url=l.toString(),303===s&&(o.method="GET"),t._nextPolicy.sendRequest(o).then((function(n){return e(t,n,i+1)}))}return Promise.resolve(n)}(t,e,0)}))},a);function a(e,t,n){return void 0===n&&(n=20),(t=o.call(this,e,t)||this).maxRetries=n,t}},"./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseRequestPolicy",(function(){return i})),n.d(t,"RequestPolicyOptions",(function(){return s}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/httpPipelineLogLevel.js"),i=(o.prototype.shouldLog=function(e){return this._options.shouldLog(e)},o.prototype.log=function(e,t){this._options.log(e,t)},o);function o(e,t){this._nextPolicy=e,this._options=t}var s=(a.prototype.shouldLog=function(e){return!!this._logger&&e!==r.HttpPipelineLogLevel.OFF&&e<=this._logger.minimumLogLevel},a.prototype.log=function(e,t){this._logger&&this.shouldLog(e)&&this._logger.log(e,t)},a);function a(e){this._logger=e}},"./node_modules/@azure/ms-rest-js/es/lib/policies/rpRegistrationPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"rpRegistrationPolicy",(function(){return i})),n.d(t,"RPRegistrationPolicy",(function(){return s}));t=n("./node_modules/tslib/tslib.es6.js");var r=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js");n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");function i(e){return void 0===e&&(e=30),{create:function(t,n){return new s(t,n,e)}}}var o,s=(o=n.BaseRequestPolicy,t.__extends(a,o),a.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then((function(n){return function(e,t,n){if(409===n.status){var i=function(e){var t,n;if(e){try{n=JSON.parse(e)}catch(e){}var r;n&&n.error&&n.error.message&&n.error.code&&"MissingSubscriptionRegistration"===n.error.code&&(r=n.error.message.match(/.*'(.*)'/i))&&(t=r.pop())}return t}(n.bodyAsText);if(i){var o=function(e){var t=e.match(/.*\/subscriptions\/[a-f0-9-]+\//gi);if(!t||!t[0])throw new Error("Unable to extract subscriptionId from the given url - "+e+".");return t=t[0]}(t.url);return function(e,t,n,i){var o=t+"providers/"+n+"/register?api-version=2016-02-01",s=t+"providers/"+n+"?api-version=2016-02-01";return(t=l(i)).method="POST",t.url=o,e._nextPolicy.sendRequest(t).then((function(t){if(200!==t.status)throw new Error("Autoregistration of "+n+" failed. Please try registering manually.");return function e(t,n,i){var o=l(i);return o.url=n,o.method="GET",t._nextPolicy.sendRequest(o).then((function(o){var s=o.parsedBody;return!(!o.parsedBody||!s.registrationState||"Registered"!==s.registrationState)||r.delay(1e3*t._retryTimeout).then((function(){return e(t,n,i)}))}))}(e,s,i)}))}(e,o,i,t).catch((function(){return!1})).then((function(i){return i?(t.headers.set("x-ms-client-request-id",r.generateUuid()),e._nextPolicy.sendRequest(t.clone())):n}))}}return Promise.resolve(n)}(t,e,n)}))},a);function a(e,t,n){return void 0===n&&(n=30),(t=o.call(this,e,t)||this)._retryTimeout=n,t}function l(e,t){void 0===t&&(t=!1);var n,i={headers:{}};for(n in t&&(i.url=e.url),e.headers)i.headers.set(n,e.headers.get(n));return i.headers["x-ms-client-request-id"]=r.generateUuid(),i.headers["Content-Type"]="application/json; charset=utf-8",i}},"./node_modules/@azure/ms-rest-js/es/lib/policies/signingPolicy.js":function(e,t,n){"use strict";function r(e){return{create:function(t,n){return new o(t,n,e)}}}n.r(t),n.d(t,"signingPolicy",(function(){return r})),n.d(t,"SigningPolicy",(function(){return o})),t=n("./node_modules/tslib/tslib.es6.js"),n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");var i,o=(i=n.BaseRequestPolicy,t.__extends(s,i),s.prototype.signRequest=function(e){return this.authenticationProvider.signRequest(e)},s.prototype.sendRequest=function(e){var t=this;return this.signRequest(e).then((function(e){return t._nextPolicy.sendRequest(e)}))},s);function s(e,t,n){return(t=i.call(this,e,t)||this).authenticationProvider=n,t}},"./node_modules/@azure/ms-rest-js/es/lib/policies/systemErrorRetryPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"systemErrorRetryPolicy",(function(){return i})),n.d(t,"SystemErrorRetryPolicy",(function(){return s}));t=n("./node_modules/tslib/tslib.es6.js");var r=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js");n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");function i(e,t,n,r){return{create:function(i,o){return new s(i,o,e,t,n,r)}}}var o,s=(o=n.BaseRequestPolicy,t.__extends(a,o),a.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then((function(n){return function e(t,n,i,o,s){return o=function(e,t,n){return t=t||{retryCount:0,retryInterval:0},n&&(t.error&&(n.innerError=t.error),t.error=n),t.retryCount++,n=Math.pow(2,t.retryCount)-1,n*=.8*e.retryInterval+Math.floor(Math.random()*(1.2*e.retryInterval-.8*e.retryInterval)),t.retryInterval=Math.min(e.minRetryInterval+n,e.maxRetryInterval),t}(t,o,s),s&&s.code&&function(e,t){if(!t)throw new Error("retryData for the SystemErrorRetryPolicyFilter cannot be null.");return(t&&t.retryCount)<e.retryCount}(t,o)&&("ETIMEDOUT"===s.code||"ESOCKETTIMEDOUT"===s.code||"ECONNREFUSED"===s.code||"ECONNRESET"===s.code||"ENOENT"===s.code)?r.delay(o.retryInterval).then((function(){return t._nextPolicy.sendRequest(n.clone())})).then((function(r){return e(t,n,r,o,s)})).catch((function(r){return e(t,n,i,o,r)})):null!=s?(s=o.error,Promise.reject(s)):Promise.resolve(i)}(t,e,n)}))},a);function a(e,t,n,r,i,s){return(t=o.call(this,e,t)||this).DEFAULT_CLIENT_RETRY_INTERVAL=3e4,t.DEFAULT_CLIENT_RETRY_COUNT=3,t.DEFAULT_CLIENT_MAX_RETRY_INTERVAL=9e4,t.DEFAULT_CLIENT_MIN_RETRY_INTERVAL=3e3,t.retryCount="number"==typeof n?n:t.DEFAULT_CLIENT_RETRY_COUNT,t.retryInterval="number"==typeof r?r:t.DEFAULT_CLIENT_RETRY_INTERVAL,t.minRetryInterval="number"==typeof i?i:t.DEFAULT_CLIENT_MIN_RETRY_INTERVAL,t.maxRetryInterval="number"==typeof s?s:t.DEFAULT_CLIENT_MAX_RETRY_INTERVAL,t}},"./node_modules/@azure/ms-rest-js/es/lib/policies/throttlingRetryPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"throttlingRetryPolicy",(function(){return s})),n.d(t,"ThrottlingRetryPolicy",(function(){return l}));var r=n("./node_modules/tslib/tslib.es6.js"),i=(t=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js"),n("./node_modules/@azure/ms-rest-js/es/lib/util/constants.js")),o=i.Constants.HttpConstants.StatusCodes;function s(){return{create:function(e,t){return new l(e,t)}}}var a,l=(a=t.BaseRequestPolicy,r.__extends(c,a),c.prototype.sendRequest=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(n){return[2,this._nextPolicy.sendRequest(e.clone()).then((function(n){return n.status!==o.TooManyRequests?n:t._handleResponse(e,n)}))]}))}))},c.prototype._defaultResponseHandler=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,o,s=this;return r.__generator(this,(function(r){return(n=t.headers.get(i.Constants.HeaderConstants.RETRY_AFTER))&&(o=c.parseRetryAfterHeader(n))?[2,delay(o).then((function(t){return s._nextPolicy.sendRequest(e)}))]:[2,t]}))}))},c.parseRetryAfterHeader=function(e){var t=Number(e);return Number.isNaN(t)?c.parseDateRetryAfterHeader(e):1e3*t},c.parseDateRetryAfterHeader=function(e){try{var t=Date.now();t=Date.parse(e)-t;return Number.isNaN(t)?void 0:t}catch(e){return}},c);function c(e,t,n){return(t=a.call(this,e,t)||this)._handleResponse=n||t._defaultResponseHandler,t}},"./node_modules/@azure/ms-rest-js/es/lib/policies/userAgentPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getDefaultUserAgentValue",(function(){return s})),n.d(t,"userAgentPolicy",(function(){return a})),n.d(t,"UserAgentPolicy",(function(){return c}));t=n("./node_modules/tslib/tslib.es6.js");var r=n("./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/util/constants.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/policies/msRestUserAgentPolicy.browser.js");n=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js");function s(){var e,t,n=[{key:"ms-rest-js",value:i.Constants.msRestVersion}],r=Object(o.getPlatformSpecificData)();return r=n.concat(r),void 0===e&&(e=" "),void 0===t&&(t="/"),r.map((function(e){var n=e.value?""+t+e.value:"";return e.key+n})).join(e)}function a(e){var t=e&&null!=e.key?e.key:Object(o.getDefaultUserAgentKey)(),n=e&&null!=e.value?e.value:s();return{create:function(e,r){return new c(e,r,t,n)}}}var l,c=(l=n.BaseRequestPolicy,t.__extends(d,l),d.prototype.sendRequest=function(e){return this.addUserAgentHeader(e),this._nextPolicy.sendRequest(e)},d.prototype.addUserAgentHeader=function(e){e.headers||(e.headers=new r.HttpHeaders),!e.headers.get(this.headerKey)&&this.headerValue&&e.headers.set(this.headerKey,this.headerValue)},d);function d(e,t,n,r){var i=l.call(this,e,t)||this;return i._nextPolicy=e,i._options=t,i.headerKey=n,i.headerValue=r,i}},"./node_modules/@azure/ms-rest-js/es/lib/queryCollectionFormat.js":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"QueryCollectionFormat",(function(){return r})),(t=r=r||{}).Csv=",",t.Ssv=" ",t.Tsv="\t",t.Pipes="|",t.Multi="Multi"},"./node_modules/@azure/ms-rest-js/es/lib/restError.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RestError",(function(){return i}));n=n("./node_modules/tslib/tslib.es6.js");var r,i=(r=Error,n.__extends(o,r),o.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",o.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",o.PARSE_ERROR="PARSE_ERROR",o);function o(e,t,n,i,s,a){return(e=r.call(this,e)||this).code=t,e.statusCode=n,e.request=i,e.response=s,e.body=a,Object.setPrototypeOf(e,o.prototype),e}},"./node_modules/@azure/ms-rest-js/es/lib/serializer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Serializer",(function(){return s})),n.d(t,"serializeObject",(function(){return m})),n.d(t,"MapperType",(function(){return h}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/util/base64.browser.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=(a.prototype.validateConstraints=function(e,t,n){function r(e,r){throw new Error('"'+n+'" with value "'+t+'" should satisfy the constraint "'+e+'": '+r+".")}var i,o,s,a,l,c,d,u,p,m;e.constraints&&null!=t&&(i=(m=e.constraints).ExclusiveMaximum,o=m.ExclusiveMinimum,s=m.InclusiveMaximum,a=m.InclusiveMinimum,l=m.MaxItems,c=m.MaxLength,d=m.MinItems,u=m.MinLength,p=m.MultipleOf,e=m.Pattern,m=m.UniqueItems,null!=i&&i<=t&&r("ExclusiveMaximum",i),null!=o&&t<=o&&r("ExclusiveMinimum",o),null!=s&&s<t&&r("InclusiveMaximum",s),null!=a&&t<a&&r("InclusiveMinimum",a),null!=l&&t.length>l&&r("MaxItems",l),null!=c&&t.length>c&&r("MaxLength",c),null!=d&&t.length<d&&r("MinItems",d),null!=u&&t.length<u&&r("MinLength",u),null!=p&&t%p!=0&&r("MultipleOf",p),e&&null===t.match(e)&&r("Pattern",e),m&&t.some((function(e,t,n){return n.indexOf(e)!==t}))&&r("UniqueItems",m))},a.prototype.serialize=function(e,t,n){var s={},a=e.type.name;n=n||e.serializedName,null!==a.match(/^Sequence$/gi)&&(s=[]),null!=t||null==e.defaultValue&&!e.isConstant||(t=e.defaultValue);var p=e.required,m=e.nullable;if(p&&m&&void 0===t)throw new Error(n+" cannot be undefined.");if(p&&!m&&null==t)throw new Error(n+" cannot be null or undefined.");if(!p&&!1===m&&null===t)throw new Error(n+" cannot be null.");return null==t?s=t:(this.validateConstraints(e,t,n),null!==a.match(/^any$/gi)?s=t:null!==a.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/gi)?s=function(e,t,n){if(null!=n)if(null!==e.match(/^Number$/gi)){if("number"!=typeof n)throw new Error(t+" with value "+n+" must be of type number.")}else if(null!==e.match(/^String$/gi)){if("string"!=typeof n.valueOf())throw new Error(t+' with value "'+n+'" must be of type string.')}else if(null!==e.match(/^Uuid$/gi)){if("string"!=typeof n.valueOf()||!i.isValidUuid(n))throw new Error(t+' with value "'+n+'" must be of type string and a valid uuid.')}else if(null!==e.match(/^Boolean$/gi)){if("boolean"!=typeof n)throw new Error(t+" with value "+n+" must be of type boolean.")}else if(null!==e.match(/^Stream$/gi)&&!("string"===(e=o(n))||"function"===e||n instanceof ArrayBuffer||ArrayBuffer.isView(n)||"function"==typeof Blob&&n instanceof Blob))throw new Error(t+" must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.");return n}(a,n,t):null!==a.match(/^Enum$/gi)?s=function(e,t,n){if(!t)throw new Error("Please provide a set of allowedValues to validate "+e+" as an Enum Type.");if(t.some((function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===n.toLowerCase():e===n})))return n;throw new Error(n+" is not a valid value for "+e+". The valid values are: "+JSON.stringify(t)+".")}(n,e.type.allowedValues,t):null!==a.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/gi)?s=function(e,t,n){if(null!=t)if(null!==e.match(/^Date$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in ISO8601 format.");t=(t instanceof Date?t:new Date(t)).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in ISO8601 format.");t=(t instanceof Date?t:new Date(t)).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in RFC-1123 format.");t=(t instanceof Date?t:new Date(t)).toUTCString()}else if(null!==e.match(/^UnixTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(n+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");t=function(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/gi)&&!i.isDuration(t))throw new Error(n+' must be a string in ISO 8601 format. Instead was "'+t+'".');return t}(a,t,n):null!==a.match(/^ByteArray$/gi)?s=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=r.encodeByteArray(t)}return t}(n,t):null!==a.match(/^Base64Url$/gi)?s=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=function(e){if(e){if(e instanceof Uint8Array)return function(e,t){for(var n=e.length;0<=n-1&&"="===e[n-1];)--n;return e.substr(0,n)}(r.encodeByteArray(e)).replace(/\+/g,"-").replace(/\//g,"_");throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.")}}(t)}return t}(n,t):null!==a.match(/^Sequence$/gi)?s=function(e,t,n,r){if(!Array.isArray(n))throw new Error(r+" must be of type Array.");var i=t.type.element;if(!i||"object"!==o(i))throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+r+".");for(var s=[],a=0;a<n.length;a++)s[a]=e.serialize(i,n[a],r);return s}(this,e,t,n):null!==a.match(/^Dictionary$/gi)?s=function(e,t,n,r){if("object"!==o(n))throw new Error(r+" must be of type object.");var i=t.type.value;if(!i||"object"!==o(i))throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+r+".");for(var s={},a=0,l=Object.keys(n);a<l.length;a++){var c=l[a];s[c]=e.serialize(i,n[c],r+"."+c)}return s}(this,e,t,n):null!==a.match(/^Composite$/gi)&&(s=function(e,t,n,r){if(u(e,t)&&(t=d(e,t,n,"clientName")),null==n)return n;for(var i={},o=c(e,t,r),s=0,a=Object.keys(o);s<a.length;s++){var p=a[s],m=o[p];if(!m.readOnly){var h,g,f=void 0,v=i;if(e.isXML)f=!m.xmlIsWrapped&&m.xmlElementName||m.xmlName;else{var y=l(m.serializedName);f=y.pop();for(var b=0,S=y;b<S.length;b++){var _=S[b];null==v[_]&&null!=n[p]&&(v[_]={}),v=v[_]}}null!=v&&(h=""!==m.serializedName?r+"."+m.serializedName:r,g=n[p],(y=u(e,t))&&y.clientName===p&&null==g&&(g=t.serializedName),void 0!==(g=e.serialize(m,g,h))&&null!=f&&(m.xmlIsAttribute?(v.$=v.$||{},v.$[f]=g):m.xmlIsWrapped?v[f]=((h={})[m.xmlElementName]=g,h):v[f]=g))}}var C=t.type.additionalProperties;if(C){var $,w=Object.keys(o);for($ in n)!function(t){w.every((function(e){return e!==t}))&&(i[t]=e.serialize(C,n[t],r+'["'+t+'"]'))}($)}return i}(this,e,t,n))),s},a.prototype.deserialize=function(e,t,n){if(null==t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),t;var i,s,a=e.type.name;return n=n||e.serializedName,null!==a.match(/^Composite$/gi)?i=function(e,t,n,r){u(e,t)&&(t=d(e,t,n,"serializedName"));for(var i=c(e,t,r),o={},s=[],a=0,p=Object.keys(i);a<p.length;a++){var m=p[a],h=i[m],g=l(i[m].serializedName);s.push(g[0]);var f=h.serializedName,v=h.xmlName,y=h.xmlElementName,b=r;""!==f&&void 0!==f&&(b=r+"."+f);var S=h.headerCollectionPrefix;if(S){for(var _={},C=0,$=Object.keys(n);C<$.length;C++){var w=$[C];w.startsWith(S)&&(_[w.substring(S.length)]=e.deserialize(h.type.value,n[w],b)),s.push(w)}o[m]=_}else if(e.isXML)h.xmlIsAttribute&&n.$?o[m]=e.deserialize(h,n.$[v],b):(M=n[y||v||f],h.xmlIsWrapped&&void 0===(M=(M=n[v])&&M[y])&&(M=[]),o[m]=e.deserialize(h,M,b));else{for(var M=void 0,T=n,k=0,P=g;k<P.length;k++){var D=P[k];if(!T)break;T=T[D]}M=T,(g=t.type.polymorphicDiscriminator)&&h.serializedName===g.serializedName&&null==M&&(M=t.serializedName),g=void 0,Array.isArray(n[m])&&""===i[m].serializedName?(M=n[m],o=e.deserialize(h,M,b)):void 0!==M&&(g=e.deserialize(h,M,b),o[m]=g)}}var L=t.type.additionalProperties;if(L)for(var A in n)!function(e){for(var t in i)if(l(i[t].serializedName)[0]===e)return!1;return!0}(A)||(o[A]=e.deserialize(L,n[A],r+'["'+A+'"]'));else for(var x=0,E=Object.keys(n);x<E.length;x++)void 0!==o[m=E[x]]||s.includes(m)||["$","_"].includes(m)||(o[m]=n[m]);return o}(this,e,t,n):(this.isXML&&null!=t.$&&null!=t._&&(t=t._),null!==a.match(/^Number$/gi)?(i=parseFloat(t),isNaN(i)&&(i=t)):null!==a.match(/^Boolean$/gi)?i="true"===t||"false"!==t&&t:null!==a.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/gi)?i=t:null!==a.match(/^(Date|DateTime|DateTimeRfc1123)$/gi)?i=new Date(t):null!==a.match(/^UnixTime$/gi)?i=(s=t)?new Date(1e3*s):void 0:null!==a.match(/^ByteArray$/gi)?i=r.decodeString(t):null!==a.match(/^Base64Url$/gi)?i=function(e){if(e){if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return e=e.replace(/\-/g,"+").replace(/\_/g,"/"),r.decodeString(e)}}(t):null!==a.match(/^Sequence$/gi)?i=function(e,t,n,r){var i=t.type.element;if(!i||"object"!==o(i))throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+r);if(n){Array.isArray(n)||(n=[n]);for(var s=[],a=0;a<n.length;a++)s[a]=e.deserialize(i,n[a],r+"["+a+"]");return s}return n}(this,e,t,n):null!==a.match(/^Dictionary$/gi)&&(i=function(e,t,n,r){var i=t.type.value;if(!i||"object"!==o(i))throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+r);if(n){for(var s={},a=0,l=Object.keys(n);a<l.length;a++){var c=l[a];s[c]=e.deserialize(i,n[c],r)}return s}return n}(this,e,t,n))),e.isConstant&&(i=e.defaultValue),i},a);function a(e,t){void 0===e&&(e={}),this.modelMappers=e,this.isXML=t}function l(e){var t=[],n="";if(e)for(var r=0,i=e.split(".");r<i.length;r++){var o=i[r];"\\"===o.charAt(o.length-1)?n+=o.substr(0,o.length-1)+".":(n+=o,t.push(n),n="")}return t}function c(e,t,n){var r=t.type.modelProperties;if(!r){var i=t.type.className;if(!i)throw new Error('Class name for model "'+n+'" is not provided in the mapper "'+JSON.stringify(t,void 0,2)+'".');if(!(e=e.modelMappers[i]))throw new Error('mapper() cannot be null or undefined for model "'+i+'".');if(!(r=e.type.modelProperties))throw new Error('modelProperties cannot be null or undefined in the mapper "'+JSON.stringify(e)+'" of type "'+i+'" for object "'+n+'".')}return r}function d(e,t,n,r){var i=u(e,t);return i&&(null==(r=i[r])||null!=(n=n[r])&&(n=n===(r=t.type.uberParent||t.type.className)?n:r+"."+n,(n=e.modelMappers.discriminators[n])&&(t=n))),t}function u(e,t){return t.type.polymorphicDiscriminator||p(e,t.type.uberParent)||p(e,t.type.className)}function p(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}function m(e){if(null!=e){if(e instanceof Uint8Array)return r.encodeByteArray(e);if(e instanceof Date)return e.toISOString();if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(m(e[n]));return t}if("object"!==o(e))return e;var i,s={};for(i in e)s[i]=m(e[i]);return s}}var h=function(e){for(var t={},n=0,r=["Base64Url","Boolean","ByteArray","Composite","Date","DateTime","DateTimeRfc1123","Dictionary","Enum","Number","Object","Sequence","String","Stream","TimeSpan","UnixTime"];n<r.length;n++){var i=r[n];t[i]=i}return t}()},"./node_modules/@azure/ms-rest-js/es/lib/serviceClient.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ServiceClient",(function(){return w})),n.d(t,"serializeRequestBody",(function(){return T})),n.d(t,"getPropertyParent",(function(){return k})),n.d(t,"getOperationArgumentValueFromParameterPath",(function(){return D})),n.d(t,"flattenResponse",(function(){return A}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/defaultHttpClient.browser.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/operationParameter.js"),s=n("./node_modules/@azure/ms-rest-js/es/lib/operationSpec.js"),a=n("./node_modules/@azure/ms-rest-js/es/lib/policies/deserializationPolicy.js"),l=n("./node_modules/@azure/ms-rest-js/es/lib/policies/exponentialRetryPolicy.js"),c=n("./node_modules/@azure/ms-rest-js/es/lib/policies/generateClientRequestIdPolicy.js"),d=n("./node_modules/@azure/ms-rest-js/es/lib/policies/userAgentPolicy.js"),u=n("./node_modules/@azure/ms-rest-js/es/lib/policies/redirectPolicy.js"),p=n("./node_modules/@azure/ms-rest-js/es/lib/policies/requestPolicy.js"),m=n("./node_modules/@azure/ms-rest-js/es/lib/policies/rpRegistrationPolicy.js"),h=n("./node_modules/@azure/ms-rest-js/es/lib/policies/signingPolicy.js"),g=n("./node_modules/@azure/ms-rest-js/es/lib/policies/systemErrorRetryPolicy.js"),f=n("./node_modules/@azure/ms-rest-js/es/lib/queryCollectionFormat.js"),v=n("./node_modules/@azure/ms-rest-js/es/lib/serializer.js"),y=n("./node_modules/@azure/ms-rest-js/es/lib/url.js"),b=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js"),S=n("./node_modules/@azure/ms-rest-js/es/lib/util/xml.browser.js"),_=n("./node_modules/@azure/ms-rest-js/es/lib/webResource.js"),C=n("./node_modules/@azure/ms-rest-js/es/lib/policies/throttlingRetryPolicy.js");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=(M.prototype.sendRequest=function(e){if(null==e||"object"!==$(e))throw new Error("options cannot be null or undefined and it must be of type object.");var t;try{t=e instanceof _.WebResource?(e.validateRequestProperties(),e):(t=new _.WebResource).prepare(e)}catch(e){return Promise.reject(e)}var n=this._httpClient;if(this._requestPolicyFactories&&0<this._requestPolicyFactories.length)for(var r=this._requestPolicyFactories.length-1;0<=r;--r)n=this._requestPolicyFactories[r].create(n,this._requestPolicyOptions);return n.sendRequest(t)},M.prototype.sendOperationRequest=function(e,t,n){"function"==typeof e.options&&(n=e.options,e.options=void 0);var r,i=new _.WebResource;try{var a=t.baseUrl||this.baseUri;if(!a)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.");i.method=t.httpMethod,i.operationSpec=t;var l=y.URLBuilder.parse(a);if(t.path&&l.appendPath(t.path),t.urlParameters&&0<t.urlParameters.length)for(var c=0,d=t.urlParameters;c<d.length;c++){var u=d[c],p=P(this,e,u,t.serializer);p=t.serializer.serialize(u.mapper,p,Object(o.getPathStringFromParameter)(u));u.skipEncoding||(p=encodeURIComponent(p)),l.replaceAll("{"+(u.mapper.serializedName||Object(o.getPathStringFromParameter)(u))+"}",p)}if(t.queryParameters&&0<t.queryParameters.length)for(var m=0,h=t.queryParameters;m<h.length;m++){var g=h[m],v=P(this,e,g,t.serializer);if(null!=v){if(v=t.serializer.serialize(g.mapper,v,Object(o.getPathStringFromParameter)(g)),null!=g.collectionFormat)if(g.collectionFormat===f.QueryCollectionFormat.Multi)if(0===v.length)v="";else for(var b in v){var S=v[b];v[b]=null==S?"":S.toString()}else v=v.join(g.collectionFormat);if(!g.skipEncoding)if(Array.isArray(v))for(var b in v)v[b]=encodeURIComponent(v[b]);else v=encodeURIComponent(v);l.setQueryParameter(g.mapper.serializedName||Object(o.getPathStringFromParameter)(g),v)}}if(i.url=l.toString(),(a=t.contentType||this.requestContentType)&&i.headers.set("Content-Type",a),t.headerParameters)for(var C=0,$=t.headerParameters;C<$.length;C++){var w=$[C],M=P(this,e,w,t.serializer);if(null!=M){M=t.serializer.serialize(w.mapper,M,Object(o.getPathStringFromParameter)(w));var k=w.mapper.headerCollectionPrefix;if(k)for(var D=0,L=Object.keys(M);D<L.length;D++){var x=L[D];i.headers.set(k+x,M[x])}else i.headers.set(w.mapper.serializedName||Object(o.getPathStringFromParameter)(w),M)}}var E=e.options;if(E){if(E.customHeaders)for(var j in E.customHeaders)i.headers.set(j,E.customHeaders[j]);E.abortSignal&&(i.abortSignal=E.abortSignal),E.timeout&&(i.timeout=E.timeout),E.onUploadProgress&&(i.onUploadProgress=E.onUploadProgress),E.onDownloadProgress&&(i.onDownloadProgress=E.onDownloadProgress)}i.withCredentials=this._withCredentials,T(this,i,e,t),null==i.streamResponseBody&&(i.streamResponseBody=Object(s.isStreamOperation)(t)),r=this.sendRequest(i).then((function(e){return A(e,t.responses[e.status])}))}catch(e){r=Promise.reject(e)}var I=n;return I&&r.then((function(e){return I(null,e._response.parsedBody,e._response.request,e._response)})).catch((function(e){return I(e)})),r},M);function M(e,t){if(t=t||{},e&&!e.signRequest)throw new Error("credentials argument needs to implement signRequest method");this._withCredentials=t.withCredentials||!1,this._httpClient=t.httpClient||new i.DefaultHttpClient,this._requestPolicyOptions=new p.RequestPolicyOptions(t.httpPipelineLogger),this._requestPolicyFactories=t.requestPolicyFactories||function(e,t){var n=[];return t.generateClientRequestIdHeader&&n.push(Object(c.generateClientRequestIdPolicy)(t.clientRequestIdHeaderName)),e&&("function"==typeof e.create?n.push(e):n.push(Object(h.signingPolicy)(e))),n.push(Object(d.userAgentPolicy)({value:t.userAgent})),n.push(Object(u.redirectPolicy)()),n.push(Object(m.rpRegistrationPolicy)(t.rpRegistrationRetryTimeout)),t.noRetryPolicy||(n.push(Object(l.exponentialRetryPolicy)()),n.push(Object(g.systemErrorRetryPolicy)()),n.push(Object(C.throttlingRetryPolicy)())),n.push(Object(a.deserializationPolicy)(t.deserializationContentTypes)),n}(e,t)}function T(e,t,n,r){if(r.requestBody&&r.requestBody.mapper){t.body=P(e,n,r.requestBody,r.serializer);var i,s=r.requestBody.mapper,a=s.required,l=s.xmlName,c=s.xmlElementName,d=s.serializedName,u=s.type.name;try{null==t.body&&!a||(i=Object(o.getPathStringFromParameter)(r.requestBody),t.body=r.serializer.serialize(s,t.body,i),i=u===v.MapperType.Stream,r.isXML?u===v.MapperType.Sequence?t.body=Object(S.stringifyXML)(b.prepareXMLRootList(t.body,c||l||d),{rootName:l||d}):i||(t.body=Object(S.stringifyXML)(t.body,{rootName:l||d})):i||(t.body=JSON.stringify(t.body)))}catch(e){throw new Error('Error "'+e.message+'" occurred in serializing the payload - '+JSON.stringify(d,void 0,"  ")+".")}}else if(r.formDataParameters&&0<r.formDataParameters.length){t.formData={};for(var p=0,m=r.formDataParameters;p<m.length;p++){var h,g=m[p],f=P(e,n,g,r.serializer);null!=f&&(h=g.mapper.serializedName||Object(o.getPathStringFromParameter)(g),t.formData[h]=r.serializer.serialize(g.mapper,f,Object(o.getPathStringFromParameter)(g)))}}}function k(e,t){if(e&&t)for(var n=t.length,r=0;r<n-1;++r){var i=t[r];e[i]||(e[i]={}),e=e[i]}return e}function P(e,t,n,r){return D(e,t,n.parameterPath,n.mapper,r)}function D(e,t,n,r,i){var s,a,l;if("string"==typeof n&&(n=[n]),Array.isArray(n))0<n.length&&(a=r.isConstant?r.defaultValue:((l=L(t,n)).propertyFound||(l=L(e,n)),s=!1,l.propertyFound||(s=r.required||"options"===n[0]&&2===n.length),s?r.defaultValue:l.propertyValue),l=Object(o.getPathStringFromParameterPath)(n,r),i.serialize(r,a,l));else for(var c in n){var d=r.type.modelProperties[c],u=D(e,t,p=n[c],d,i),p=Object(o.getPathStringFromParameterPath)(p,d);i.serialize(d,u,p),void 0!==u&&((a=a||{})[c]=u)}return a}function L(e,t){for(var n={propertyFound:!1},r=0;r<t.length;++r){var i=t[r];if(null==e||!(i in e))break;e=e[i]}return r===t.length&&(n.propertyValue=e,n.propertyFound=!0),n}function A(e,t){function n(t){return Object.defineProperty(t,"_response",{value:e})}var i=e.parsedHeaders,o=t&&t.bodyMapper;if(o){var s=o.type.name;if("Stream"===s)return n(r.__assign({},i,{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody}));var a="Composite"===s&&o.type.modelProperties||{};t=Object.keys(a).some((function(e){return""===a[e].serializedName}));if("Sequence"===s||t){for(var l=(e.parsedBody||[]).slice(),c=0,d=Object.keys(a);c<d.length;c++){var u=d[c];a[u].serializedName&&(l[u]=e.parsedBody[u])}if(i)for(var p=0,m=Object.keys(i);p<m.length;p++)l[u=m[p]]=i[u];return n(l),l}if("Composite"===s||"Dictionary"===s)return n(r.__assign({},i,e.parsedBody))}return o||"HEAD"===e.request.method?n(r.__assign({},i,{body:e.parsedBody})):n(r.__assign({},i,e.parsedBody))}},"./node_modules/@azure/ms-rest-js/es/lib/url.js":function(e,t,n){"use strict";n.r(t),n.d(t,"URLQuery",(function(){return i})),n.d(t,"URLBuilder",(function(){return s})),n.d(t,"URLToken",(function(){return l})),n.d(t,"isAlphaNumericCharacter",(function(){return d})),n.d(t,"URLTokenizer",(function(){return u}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js"),i=(o.prototype.any=function(){return 0<Object.keys(this._rawQuery).length},o.prototype.set=function(e,t){e&&(null!=t?(t=Array.isArray(t)?t:t.toString(),this._rawQuery[e]=t):delete this._rawQuery[e])},o.prototype.get=function(e){return e?this._rawQuery[e]:void 0},o.prototype.toString=function(){var e,t="";for(e in this._rawQuery){t&&(t+="&");var n=this._rawQuery[e];if(Array.isArray(n)){for(var r=[],i=0,o=n;i<o.length;i++){var s=o[i];r.push(e+"="+s)}t+=r.join("&")}else t+=e+"="+n}return t},o.parse=function(e){var t=new o;if(e){e.startsWith("?")&&(e=e.substring(1));for(var n="ParameterName",r="",i="",s=0;s<e.length;++s){var a=e[s];switch(n){case"ParameterName":switch(a){case"=":n="ParameterValue";break;case"&":i=r="";break;default:r+=a}break;case"ParameterValue":switch(a){case"=":i=r="",n="Invalid";break;case"&":t.set(r,i),i=r="",n="ParameterName";break;default:i+=a}break;case"Invalid":"&"===a&&(n="ParameterName");break;default:throw new Error("Unrecognized URLQuery parse state: "+n)}}"ParameterValue"===n&&t.set(r,i)}return t},o);function o(){this._rawQuery={}}var s=(a.prototype.setScheme=function(e){e?this.set(e,"SCHEME"):this._scheme=void 0},a.prototype.getScheme=function(){return this._scheme},a.prototype.setHost=function(e){e?this.set(e,"SCHEME_OR_HOST"):this._host=void 0},a.prototype.getHost=function(){return this._host},a.prototype.setPort=function(e){null==e||""===e?this._port=void 0:this.set(e.toString(),"PORT")},a.prototype.getPort=function(){return this._port},a.prototype.setPath=function(e){e?-1!==e.indexOf("://")?this.set(e,"SCHEME"):this.set(e,"PATH"):this._path=void 0},a.prototype.appendPath=function(e){var t;e&&((t=this.getPath())&&(t.endsWith("/")||(t+="/"),e.startsWith("/")&&(e=e.substring(1)),e=t+e),this.set(e,"PATH"))},a.prototype.getPath=function(){return this._path},a.prototype.setQuery=function(e){this._query=e?i.parse(e):void 0},a.prototype.setQueryParameter=function(e,t){e&&(this._query||(this._query=new i),this._query.set(e,t))},a.prototype.getQueryParameterValue=function(e){return this._query?this._query.get(e):void 0},a.prototype.getQuery=function(){return this._query?this._query.toString():void 0},a.prototype.set=function(e,t){for(var n=new u(e,t);n.next();){var r=n.current();if(r)switch(r.type){case"SCHEME":this._scheme=r.text||void 0;break;case"HOST":this._host=r.text||void 0;break;case"PORT":this._port=r.text||void 0;break;case"PATH":var o=r.text||void 0;this._path&&"/"!==this._path&&"/"===o||(this._path=o);break;case"QUERY":this._query=i.parse(r.text);break;default:throw new Error("Unrecognized URLTokenType: "+r.type)}}},a.prototype.toString=function(){var e="";return this._scheme&&(e+=this._scheme+"://"),this._host&&(e+=this._host),this._port&&(e+=":"+this._port),this._path&&(this._path.startsWith("/")||(e+="/"),e+=this._path),this._query&&this._query.any()&&(e+="?"+this._query.toString()),e},a.prototype.replaceAll=function(e,t){e&&(this.setScheme(Object(r.replaceAll)(this.getScheme(),e,t)),this.setHost(Object(r.replaceAll)(this.getHost(),e,t)),this.setPort(Object(r.replaceAll)(this.getPort(),e,t)),this.setPath(Object(r.replaceAll)(this.getPath(),e,t)),this.setQuery(Object(r.replaceAll)(this.getQuery(),e,t)))},a.parse=function(e){var t=new a;return t.set(e,"SCHEME_OR_HOST"),t},a);function a(){}var l=(c.scheme=function(e){return new c(e,"SCHEME")},c.host=function(e){return new c(e,"HOST")},c.port=function(e){return new c(e,"PORT")},c.path=function(e){return new c(e,"PATH")},c.query=function(e){return new c(e,"QUERY")},c);function c(e,t){this.text=e,this.type=t}function d(e){return 48<=(e=e.charCodeAt(0))&&e<=57||65<=e&&e<=90||97<=e&&e<=122}var u=(p.prototype.current=function(){return this._currentToken},p.prototype.next=function(){if(m(this))switch(this._currentState){case"SCHEME":r=function(e){return v(e,d)}(n=this),n._currentToken=l.scheme(r),m(n)?n._currentState="HOST":n._currentState="DONE";break;case"SCHEME_OR_HOST":t=y(e=this,":","/","?"),m(e)?":"===h(e)?"://"===f(e,3)?(e._currentToken=l.scheme(t),e._currentState="HOST"):(e._currentToken=l.host(t),e._currentState="PORT"):(e._currentToken=l.host(t),"/"===h(e)?e._currentState="PATH":e._currentState="QUERY"):(e._currentToken=l.host(t),e._currentState="DONE");break;case"HOST":!function(e){"://"===f(e,3)&&g(e,3);var t=y(e,":","/","?");e._currentToken=l.host(t),m(e)?":"===h(e)?e._currentState="PORT":"/"===h(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PORT":!function(e){":"===h(e)&&g(e);var t=y(e,"/","?");e._currentToken=l.port(t),m(e)?"/"===h(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PATH":e=y(t=this,"?"),t._currentToken=l.path(e),m(t)?t._currentState="QUERY":t._currentState="DONE";break;case"QUERY":!function(e){"?"===h(e)&&g(e);var t=function(e){var t="";return e._currentIndex<e._textLength&&(t=e._text.substring(e._currentIndex),e._currentIndex=e._textLength),t}(e);e._currentToken=l.query(t),e._currentState="DONE"}(this);break;default:throw new Error("Unrecognized URLTokenizerState: "+this._currentState)}else this._currentToken=void 0;var e,t,n,r;return!!this._currentToken},p);function p(e,t){this._text=e,this._textLength=e?e.length:0,this._currentState=null!=t?t:"SCHEME_OR_HOST",this._currentIndex=0}function m(e){return e._currentIndex<e._textLength}function h(e){return e._text[e._currentIndex]}function g(e,t){m(e)&&(t=t||1,e._currentIndex+=t)}function f(e,t){return t=e._currentIndex+t,e._textLength<t&&(t=e._textLength),e._text.substring(e._currentIndex,t)}function v(e,t){for(var n="";m(e);){var r=h(e);if(!t(r))break;n+=r,g(e)}return n}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return v(e,(function(e){return-1===t.indexOf(e)}))}},"./node_modules/@azure/ms-rest-js/es/lib/util/base64.browser.js":function(e,t,n){"use strict";function r(e){return btoa(e)}function i(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function o(e){for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}n.r(t),n.d(t,"encodeString",(function(){return r})),n.d(t,"encodeByteArray",(function(){return i})),n.d(t,"decodeString",(function(){return o}))},"./node_modules/@azure/ms-rest-js/es/lib/util/constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Constants",(function(){return r}));var r={msRestVersion:"0.1.0",HTTP:"http:",HTTPS:"https:",HTTP_PROXY:"HTTP_PROXY",HTTPS_PROXY:"HTTPS_PROXY",HttpConstants:{HttpVerbs:{PUT:"PUT",GET:"GET",DELETE:"DELETE",POST:"POST",MERGE:"MERGE",HEAD:"HEAD",PATCH:"PATCH"},StatusCodes:{TooManyRequests:429}},HeaderConstants:{AUTHORIZATION:"authorization",AUTHORIZATION_SCHEME:"Bearer",RETRY_AFTER:"Retry-After",USER_AGENT:"User-Agent"}}},"./node_modules/@azure/ms-rest-js/es/lib/util/utils.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"isNode",(function(){return s})),n.d(t,"urlIsHTTPS",(function(){return a})),n.d(t,"encodeUri",(function(){return l})),n.d(t,"stripResponse",(function(){return c})),n.d(t,"stripRequest",(function(){return d})),n.d(t,"isValidUuid",(function(){return u})),n.d(t,"objectValues",(function(){return p})),n.d(t,"generateUuid",(function(){return m})),n.d(t,"executePromisesSequentially",(function(){return h})),n.d(t,"mergeObjects",(function(){return g})),n.d(t,"delay",(function(){return f})),n.d(t,"promiseToCallback",(function(){return v})),n.d(t,"promiseToServiceCallback",(function(){return y})),n.d(t,"prepareXMLRootList",(function(){return b})),n.d(t,"applyMixins",(function(){return S})),n.d(t,"isDuration",(function(){return C})),n.d(t,"replaceAll",(function(){return $}));var r=n("./node_modules/uuid/v4.js"),i=n.n(r),o=n("./node_modules/@azure/ms-rest-js/es/lib/util/constants.js"),s="undefined"==typeof navigator&&void 0!==e;function a(e){return e.protocol.toLowerCase()===o.Constants.HTTPS}function l(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/"/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function c(e){var t={};return t.body=e.bodyAsText,t.headers=e.headers,t.status=e.status,t}function d(e){return(e=e.clone()).headers&&e.headers.remove("authorization"),e}function u(e){return new RegExp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","ig").test(e)}function p(e){var t,n=[];if(!(e&&e instanceof Object))throw new Error("The provided object "+JSON.stringify(e,void 0,2)+" is not a valid object that can be enumerated to provide its values as an array.");for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n}function m(){return i()()}function h(e,t){var n=Promise.resolve(t);return e.forEach((function(e){n=n.then(e)})),n}function g(e,t){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function f(e,t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function v(e){if("function"!=typeof e.then)throw new Error("The provided input is not a Promise.");return function(t){e.then((function(e){t(void 0,e)}),(function(e){t(e)}))}}function y(t){if("function"!=typeof t.then)throw new Error("The provided input is not a Promise.");return function(n){t.then((function(t){e.nextTick(n,void 0,t.parsedBody,t.request,t)}),(function(t){e.nextTick(n,t)}))}}function b(e,t){var n;return Array.isArray(e)||(e=[e]),(n={})[t]=e,n}function S(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype[n]=t.prototype[n]}))}))}var _=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function C(e){return _.test(e)}function $(e,t,n){return e&&t?e.split(t).join(n||""):e}}.call(this,n("./node_modules/process/browser.js"))},"./node_modules/@azure/ms-rest-js/es/lib/util/xml.browser.js":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,"parseXML",(function(){return o})),n.d(t,"stringifyXML",(function(){return c}));var i=new DOMParser;function o(e){try{var t=i.parseFromString(e,"application/xml");return function(e){if(s&&(e=e.getElementsByTagNameNS(s,"parsererror")).length)throw new Error(e.item(0).innerHTML)}(t),t=function e(t){var n={},r=t.childNodes.length,i=(i=t.childNodes[0])&&1===r&&i.nodeType===Node.TEXT_NODE&&i.nodeValue||void 0,o=function(e){return e.attributes&&e.hasAttributes()?e:void 0}(t);if(o){n.$={};for(var s=0;s<o.attributes.length;s++){var a=o.attributes[s];n.$[a.nodeName]=a.nodeValue}i&&(n._=i)}else 0===r?n="":i&&(n=i);if(!i)for(s=0;s<r;s++){var l,c=t.childNodes[s];c.nodeType!==Node.TEXT_NODE&&(l=e(c),n[c.nodeName]?Array.isArray(n[c.nodeName])?n[c.nodeName].push(l):n[c.nodeName]=[n[c.nodeName],l]:n[c.nodeName]=l)}return n}(t.childNodes[0]),Promise.resolve(t)}catch(e){return Promise.reject(e)}}var s="";try{s=i.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}var a=document.implementation.createDocument(null,null,null),l=new XMLSerializer;function c(e,t){return t=function e(t,n){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return(p=a.createElement(n)).textContent=t.toString(),[p];if(Array.isArray(t)){for(var i=[],o=0,s=t;o<s.length;o++)for(var l=0,c=e(s[o],n);l<c.length;l++){var u=c[l];i.push(u)}return i}if("object"!==r(t))throw new Error("Illegal value passed to buildObject: "+t);for(var p=a.createElement(n),m=0,h=Object.keys(t);m<h.length;m++){var g=h[m];if("$"===g)for(var f=0,v=d(t[g]);f<v.length;f++){var y=v[f];p.attributes.setNamedItem(y)}else for(var b=0,S=e(t[g],g);b<S.length;b++){u=S[b];p.appendChild(u)}}return[p]}(e,t&&t.rootName||"root")[0],'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+l.serializeToString(t)}function d(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=a.createAttribute(i);o.value=e[i].toString(),t.push(o)}return t}},"./node_modules/@azure/ms-rest-js/es/lib/webResource.js":function(e,t,n){"use strict";n.r(t),n.d(t,"WebResource",(function(){return a}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/serializer.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/util/utils.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=(l.prototype.validateRequestProperties=function(){if(!this.method)throw new Error("WebResource.method is required.");if(!this.url)throw new Error("WebResource.url is required.")},l.prototype.prepare=function(e){if(!e)throw new Error("options object is required");if(null==e.method||"string"!=typeof e.method.valueOf())throw new Error("options.method must be a string.");if(e.url&&e.pathTemplate)throw new Error("options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.");if(!(null!=e.pathTemplate&&"string"==typeof e.pathTemplate.valueOf()||null!=e.url&&"string"==typeof e.url.valueOf()))throw new Error("Please provide exactly one of options.pathTemplate or options.url.");if(e.url){if("string"!=typeof e.url)throw new Error('options.url must be of type "string".');this.url=e.url}if(e.method&&-1===(r=["GET","PUT","HEAD","DELETE","OPTIONS","POST","PATCH","TRACE"]).indexOf(e.method.toUpperCase()))throw new Error('The provided method "'+e.method+'" is invalid. Supported HTTP methods are: '+JSON.stringify(r));if(this.method=e.method.toUpperCase(),e.pathTemplate){var t=e.pathTemplate,n=e.pathParameters;if("string"!=typeof t)throw new Error('options.pathTemplate must be of type "string".');e.baseUrl||(e.baseUrl="https://management.azure.com");var r,a=(r=e.baseUrl)+(r.endsWith("/")?"":"/")+(t.startsWith("/")?t.slice(1):t);if((r=a.match(/({\w*\s*\w*})/gi))&&r.length){if(!n)throw new Error("pathTemplate: "+t+" has been provided. Hence, options.pathParameters must also be provided.");r.forEach((function(e){var r=e.slice(1,-1),i=n[r];if(null==i||"string"!=typeof i&&"object"!==s(i))throw new Error("pathTemplate: "+t+" contains the path parameter "+r+" however, it is not present in "+n+" - "+JSON.stringify(n,void 0,2)+'.The value of the path parameter can either be a "string" of the form { '+r+': "some sample value" } or it can be an "object" of the form { "'+r+'": { value: "some sample value", skipUrlEncoding: true } }.');if("string"==typeof i.valueOf()&&(a=a.replace(e,encodeURIComponent(i))),"object"===s(i.valueOf())){if(!i.value)throw new Error("options.pathParameters["+r+'] is of type "object" but it does not contain a "value" property.');a=i.skipUrlEncoding?a.replace(e,i.value):a.replace(e,encodeURIComponent(i.value))}}))}this.url=a}if(e.queryParameters){var l=e.queryParameters;if("object"!==s(l))throw new Error('options.queryParameters must be of type object. It should be a JSON object of "query-parameter-name" as the key and the "query-parameter-value" as the value. The "query-parameter-value" may be fo type "string" or an "object" of the form { value: "query-parameter-value", skipUrlEncoding: true }.');this.url&&-1===this.url.indexOf("?")&&(this.url+="?");var c,d=[];for(c in this.query={},l){var u=l[c];if(u)if("string"==typeof u)d.push(c+"="+encodeURIComponent(u)),this.query[c]=encodeURIComponent(u);else if("object"===s(u)){if(!u.value)throw new Error("options.queryParameters["+c+'] is of type "object" but it does not contain a "value" property.');u.skipUrlEncoding?(d.push(c+"="+u.value),this.query[c]=u.value):(d.push(c+"="+encodeURIComponent(u.value)),this.query[c]=encodeURIComponent(u.value))}}this.url+=d.join("&")}if(e.headers)for(var p=e.headers,m=0,h=Object.keys(e.headers);m<h.length;m++){var g=h[m];this.headers.set(g,p[g])}return this.headers.get("accept-language")||this.headers.set("accept-language","en-US"),this.headers.get("x-ms-client-request-id")||e.disableClientRequestId||this.headers.set("x-ms-client-request-id",Object(o.generateUuid)()),this.headers.get("Content-Type")||this.headers.set("Content-Type","application/json; charset=utf-8"),this.body=e.body,null!=e.body&&(e.bodyIsStream?(this.headers.get("Transfer-Encoding")||this.headers.set("Transfer-Encoding","chunked"),"application/octet-stream"!==this.headers.get("Content-Type")&&this.headers.set("Content-Type","application/octet-stream")):(e.serializationMapper&&(this.body=new i.Serializer(e.mappers).serialize(e.serializationMapper,e.body,"requestBody")),e.disableJsonStringifyOnBody||(this.body=JSON.stringify(e.body)))),this.abortSignal=e.abortSignal,this.onDownloadProgress=e.onDownloadProgress,this.onUploadProgress=e.onUploadProgress,this},l.prototype.clone=function(){var e=new l(this.url,this.method,this.body,this.query,this.headers&&this.headers.clone(),this.streamResponseBody,this.withCredentials,this.abortSignal,this.timeout,this.onUploadProgress,this.onDownloadProgress);return this.formData&&(e.formData=this.formData),this.operationSpec&&(e.operationSpec=this.operationSpec),this.shouldDeserialize&&(e.shouldDeserialize=this.shouldDeserialize),this.operationResponseGetter&&(e.operationResponseGetter=this.operationResponseGetter),e},l);function l(e,t,n,i,o,s,a,l,c,d,u){this.streamResponseBody=s,this.url=e||"",this.method=t||"GET",this.headers=o instanceof r.HttpHeaders?o:new r.HttpHeaders(o),this.body=n,this.query=i,this.formData=void 0,this.withCredentials=a||!1,this.abortSignal=l,this.timeout=c||0,this.onUploadProgress=d,this.onDownloadProgress=u}},"./node_modules/@azure/ms-rest-js/es/lib/xhrHttpClient.js":function(e,t,n){"use strict";n.r(t),n.d(t,"XhrHttpClient",(function(){return o})),n.d(t,"parseHeaders",(function(){return l}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/httpHeaders.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/restError.js"),o=(s.prototype.sendRequest=function(e){var t,n=new XMLHttpRequest,r=e.abortSignal;if(r&&(t=function(){n.abort()},r.addEventListener("abort",t),n.addEventListener("readystatechange",(function(){n.readyState===XMLHttpRequest.DONE&&r.removeEventListener("abort",t)}))),a(n.upload,e.onUploadProgress),a(n,e.onDownloadProgress),e.formData){for(var i=e.formData,o=new FormData,s=function(e,t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?o.append(e,t.value,t.options):o.append(e,t)},d=0,u=Object.keys(i);d<u.length;d++){var p=u[d],m=i[p];if(Array.isArray(m))for(var h=0;h<m.length;h++)s(p,m[h]);else s(p,m)}e.body=o,e.formData=void 0;var g=e.headers.get("Content-Type");g&&-1!==g.indexOf("multipart/form-data")&&e.headers.remove("Content-Type")}n.open(e.method,e.url),n.timeout=e.timeout,n.withCredentials=e.withCredentials;for(var f=0,v=e.headers.headersArray();f<v.length;f++){var y=v[f];n.setRequestHeader(y.name,y.value)}return n.responseType=e.streamResponseBody?"blob":"text",n.send(void 0===e.body?null:e.body),e.streamResponseBody?new Promise((function(t,r){n.addEventListener("readystatechange",(function(){var r;n.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(r=new Promise((function(t,r){n.addEventListener("load",(function(){t(n.response)})),c(e,n,r)})),t({request:e,status:n.status,headers:l(n),blobBody:r}))})),c(e,n,r)})):new Promise((function(t,r){n.addEventListener("load",(function(){return t({request:e,status:n.status,headers:l(n),bodyAsText:n.responseText})})),c(e,n,r)}))},s);function s(){}function a(e,t){t&&e.addEventListener("progress",(function(e){return t({loadedBytes:e.loaded})}))}function l(e){for(var t=new r.HttpHeaders,n=0,i=e.getAllResponseHeaders().trim().split(/[\r\n]+/);n<i.length;n++){var o=i[n],s=o.indexOf(":"),a=o.slice(0,s);s=o.slice(s+2);t.set(a,s)}return t}function c(e,t,n){t.addEventListener("error",(function(){return n(new i.RestError("Failed to send request to "+e.url,i.RestError.REQUEST_SEND_ERROR,void 0,e))})),t.addEventListener("abort",(function(){return n(new i.RestError("The request was aborted",i.RestError.REQUEST_ABORTED_ERROR,void 0,e))})),t.addEventListener("timeout",(function(){return n(new i.RestError("timeout of "+t.timeout+"ms exceeded",i.RestError.REQUEST_SEND_ERROR,void 0,e))}))}},"./node_modules/@azure/storage-blob/dist-esm/lib/Aborter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Aborter",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),i=(Object.defineProperty(o.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0}),Object.defineProperty(o,"none",{get:function(){return new o(void 0,0)},enumerable:!0,configurable:!0}),o.timeout=function(e){return new o(void 0,e)},o.prototype.withTimeout=function(e){return e=new o(this,e),this.children.push(e),e},o.prototype.withValue=function(e,t){return t=new o(this,0,e,t),this.children.push(t),t},o.prototype.getValue=function(e){for(var t=this;t;t=t.parent)if(t.key===e)return t.value},o.prototype.abort=function(){var e=this;this.aborted||(this.cancelTimer(),this.onabort&&this.onabort.call(this),this.abortEventListeners.forEach((function(t){t.call(e)})),this.children.forEach((function(e){return e.cancelByParent()})),this._aborted=!0)},o.prototype.addEventListener=function(e,t){this.abortEventListeners.push(t)},o.prototype.removeEventListener=function(e,t){-1<(t=this.abortEventListeners.indexOf(t))&&this.abortEventListeners.splice(t,1)},o.prototype.cancelByParent=function(){this.abort()},o.prototype.cancelTimer=function(){this.timer&&clearTimeout(this.timer)},o);function o(e,t,n,i){void 0===t&&(t=0);var o=this;this._aborted=!1,this.children=[],this.abortEventListeners=[],this.parent=e,this.key=n,this.value=i,0<t&&(this.timer=setTimeout((function(){o.abort.call(o)}),t),this.timer&&r.isNode&&this.timer.unref())}},"./node_modules/@azure/storage-blob/dist-esm/lib/AppendBlobURL.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AppendBlobURL",(function(){return l}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/BlobURL.js"),n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/index.js")),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),l=(r=t.BlobURL,i.__extends(c,r),c.fromContainerURL=function(e,t){return new c(Object(a.appendToURLPath)(e.url,encodeURIComponent(t)),e.pipeline)},c.fromBlobURL=function(e){return new c(e.url,e.pipeline)},c.prototype.withPipeline=function(e){return new c(this.url,e)},c.prototype.withSnapshot=function(e){return new c(Object(a.setURLParameter)(this.url,s.URLConstants.Parameters.SNAPSHOT,0===e.length?void 0:e),this.pipeline)},c.prototype.create=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return t.accessConditions=t.accessConditions||{},[2,this.appendBlobContext.create(0,{abortSignal:e,blobHTTPHeaders:t.blobHTTPHeaders,leaseAccessConditions:t.accessConditions.leaseAccessConditions,metadata:t.metadata,modifiedAccessConditions:t.accessConditions.modifiedAccessConditions})]}))}))},c.prototype.appendBlock=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return r.accessConditions=r.accessConditions||{},[2,this.appendBlobContext.appendBlock(t,n,{abortSignal:e,appendPositionAccessConditions:r.accessConditions.appendPositionAccessConditions,leaseAccessConditions:r.accessConditions.leaseAccessConditions,modifiedAccessConditions:r.accessConditions.modifiedAccessConditions,onUploadProgress:r.progress,transactionalContentMD5:r.transactionalContentMD5})]}))}))},c);function c(e,t){return(t=r.call(this,e,t)||this).appendBlobContext=new o.AppendBlob(t.storageClientContext),t}},"./node_modules/@azure/storage-blob/dist-esm/lib/BlobDownloadResponse.browser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BlobDownloadResponse",(function(){return r}));var r=1},"./node_modules/@azure/storage-blob/dist-esm/lib/BlobURL.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BlobURL",(function(){return u}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/BlobDownloadResponse.browser.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/index.js"),l=n("./node_modules/@azure/storage-blob/dist-esm/lib/IRange.js"),c=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/StorageURL.js"),n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js")),d=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),u=(r=t.StorageURL,i.__extends(p,r),p.fromContainerURL=function(e,t){return new p(Object(d.appendToURLPath)(e.url,encodeURIComponent(t)),e.pipeline)},p.prototype.withPipeline=function(e){return new p(this.url,e)},p.prototype.withSnapshot=function(e){return new p(Object(d.setURLParameter)(this.url,c.URLConstants.Parameters.SNAPSHOT,0===e.length?void 0:e),this.pipeline)},p.prototype.download=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){var a,d=this;return i.__generator(this,(function(u){switch(u.label){case 0:return r.blobAccessConditions=r.blobAccessConditions||{},r.blobAccessConditions.modifiedAccessConditions=r.blobAccessConditions.modifiedAccessConditions||{},[4,this.blobContext.download({abortSignal:e,leaseAccessConditions:r.blobAccessConditions.leaseAccessConditions,modifiedAccessConditions:r.blobAccessConditions.modifiedAccessConditions,onDownloadProgress:o.isNode?void 0:r.progress,range:0!==t||n?Object(l.rangeToString)({offset:t,count:n}):void 0,rangeGetContentMD5:r.rangeGetContentMD5,snapshot:r.snapshot})];case 1:if(a=u.sent(),!o.isNode)return[2,a];if((void 0===r.maxRetryRequests||r.maxRetryRequests<0)&&(r.maxRetryRequests=c.DEFAULT_MAX_DOWNLOAD_RETRY_REQUESTS),void 0===a.contentLength)throw new RangeError("File download response doesn't contain valid content length header");if(!a.eTag)throw new RangeError("File download response doesn't contain valid etag header");return[2,new s.BlobDownloadResponse(e,a,(function(n){return i.__awaiter(d,void 0,void 0,(function(){var o;return i.__generator(this,(function(s){switch(s.label){case 0:return o={leaseAccessConditions:r.blobAccessConditions.leaseAccessConditions,modifiedAccessConditions:{ifMatch:r.blobAccessConditions.modifiedAccessConditions.ifMatch||a.eTag,ifModifiedSince:r.blobAccessConditions.modifiedAccessConditions.ifModifiedSince,ifNoneMatch:r.blobAccessConditions.modifiedAccessConditions.ifNoneMatch,ifUnmodifiedSince:r.blobAccessConditions.modifiedAccessConditions.ifUnmodifiedSince},range:Object(l.rangeToString)({count:t+a.contentLength-n,offset:n}),snapshot:r.snapshot},[4,this.blobContext.download(i.__assign({abortSignal:e},o))];case 1:return[2,s.sent().readableStreamBody]}}))}))}),t,a.contentLength,{maxRetryRequests:r.maxRetryRequests,progress:r.progress})]}}))}))},p.prototype.getProperties=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return t.blobAccessConditions=t.blobAccessConditions||{},[2,this.blobContext.getProperties({abortSignal:e,leaseAccessConditions:t.blobAccessConditions.leaseAccessConditions,modifiedAccessConditions:t.blobAccessConditions.modifiedAccessConditions})]}))}))},p.prototype.delete=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return t.blobAccessConditions=t.blobAccessConditions||{},[2,this.blobContext.deleteMethod({abortSignal:e,deleteSnapshots:t.deleteSnapshots,leaseAccessConditions:t.blobAccessConditions.leaseAccessConditions,modifiedAccessConditions:t.blobAccessConditions.modifiedAccessConditions})]}))}))},p.prototype.undelete=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.blobContext.undelete({abortSignal:e})]}))}))},p.prototype.setHTTPHeaders=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return n.blobAccessConditions=n.blobAccessConditions||{},[2,this.blobContext.setHTTPHeaders({abortSignal:e,blobHTTPHeaders:t,leaseAccessConditions:n.blobAccessConditions.leaseAccessConditions,modifiedAccessConditions:n.blobAccessConditions.modifiedAccessConditions})]}))}))},p.prototype.setMetadata=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return n.blobAccessConditions=n.blobAccessConditions||{},[2,this.blobContext.setMetadata({abortSignal:e,leaseAccessConditions:n.blobAccessConditions.leaseAccessConditions,metadata:t,modifiedAccessConditions:n.blobAccessConditions.modifiedAccessConditions})]}))}))},p.prototype.acquireLease=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return[2,this.blobContext.acquireLease({abortSignal:e,duration:n,modifiedAccessConditions:r.modifiedAccessConditions,proposedLeaseId:t})]}))}))},p.prototype.releaseLease=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.blobContext.releaseLease(t,{abortSignal:e,modifiedAccessConditions:n.modifiedAccessConditions})]}))}))},p.prototype.renewLease=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.blobContext.renewLease(t,{abortSignal:e,modifiedAccessConditions:n.modifiedAccessConditions})]}))}))},p.prototype.changeLease=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return[2,this.blobContext.changeLease(t,n,{abortSignal:e,modifiedAccessConditions:r.modifiedAccessConditions})]}))}))},p.prototype.breakLease=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.blobContext.breakLease({abortSignal:e,breakPeriod:t,modifiedAccessConditions:n.modifiedAccessConditions})]}))}))},p.prototype.createSnapshot=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return t.blobAccessConditions=t.blobAccessConditions||{},[2,this.blobContext.createSnapshot({abortSignal:e,leaseAccessConditions:t.blobAccessConditions.leaseAccessConditions,metadata:t.metadata,modifiedAccessConditions:t.blobAccessConditions.modifiedAccessConditions})]}))}))},p.prototype.startCopyFromURL=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return n.blobAccessConditions=n.blobAccessConditions||{},n.sourceModifiedAccessConditions=n.sourceModifiedAccessConditions||{},[2,this.blobContext.startCopyFromURL(t,{abortSignal:e,leaseAccessConditions:n.blobAccessConditions.leaseAccessConditions,metadata:n.metadata,modifiedAccessConditions:n.blobAccessConditions.modifiedAccessConditions,sourceModifiedAccessConditions:{sourceIfMatch:n.sourceModifiedAccessConditions.ifMatch,sourceIfModifiedSince:n.sourceModifiedAccessConditions.ifModifiedSince,sourceIfNoneMatch:n.sourceModifiedAccessConditions.ifNoneMatch,sourceIfUnmodifiedSince:n.sourceModifiedAccessConditions.ifUnmodifiedSince}})]}))}))},p.prototype.abortCopyFromURL=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.blobContext.abortCopyFromURL(t,{abortSignal:e,leaseAccessConditions:n.leaseAccessConditions})]}))}))},p.prototype.setTier=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.blobContext.setTier(t,{abortSignal:e,leaseAccessConditions:n.leaseAccessConditions})];case 1:return[2,r.sent()]}}))}))},p);function p(e,t){return(t=r.call(this,e,t)||this).blobContext=new a.Blob(t.storageClientContext),t}},"./node_modules/@azure/storage-blob/dist-esm/lib/BlockBlobURL.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BlockBlobURL",(function(){return c}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/BlobURL.js"),n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/index.js")),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/IRange.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),l=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),c=(r=t.BlobURL,i.__extends(d,r),d.fromContainerURL=function(e,t){return new d(Object(l.appendToURLPath)(e.url,encodeURIComponent(t)),e.pipeline)},d.fromBlobURL=function(e){return new d(e.url,e.pipeline)},d.prototype.withPipeline=function(e){return new d(this.url,e)},d.prototype.withSnapshot=function(e){return new d(Object(l.setURLParameter)(this.url,a.URLConstants.Parameters.SNAPSHOT,0===e.length?void 0:e),this.pipeline)},d.prototype.upload=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return r.accessConditions=r.accessConditions||{},[2,this.blockBlobContext.upload(t,n,{abortSignal:e,blobHTTPHeaders:r.blobHTTPHeaders,leaseAccessConditions:r.accessConditions.leaseAccessConditions,metadata:r.metadata,modifiedAccessConditions:r.accessConditions.modifiedAccessConditions,onUploadProgress:r.progress})]}))}))},d.prototype.stageBlock=function(e,t,n,r,o){return void 0===o&&(o={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return[2,this.blockBlobContext.stageBlock(t,r,n,{abortSignal:e,leaseAccessConditions:o.leaseAccessConditions,onUploadProgress:o.progress,transactionalContentMD5:o.transactionalContentMD5})]}))}))},d.prototype.stageBlockFromURL=function(e,t,n,r,o,a){return void 0===a&&(a={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return[2,this.blockBlobContext.stageBlockFromURL(t,0,n,{abortSignal:e,leaseAccessConditions:a.leaseAccessConditions,sourceContentMD5:a.sourceContentMD5,sourceRange:0!==r||o?Object(s.rangeToString)({offset:r,count:o}):void 0})]}))}))},d.prototype.commitBlockList=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return n.accessConditions=n.accessConditions||{},[2,this.blockBlobContext.commitBlockList({latest:t},{abortSignal:e,blobHTTPHeaders:n.blobHTTPHeaders,leaseAccessConditions:n.accessConditions.leaseAccessConditions,metadata:n.metadata,modifiedAccessConditions:n.accessConditions.modifiedAccessConditions})]}))}))},d.prototype.getBlockList=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.blockBlobContext.getBlockList(t,{abortSignal:e,leaseAccessConditions:n.leaseAccessConditions})];case 1:return(r=i.sent()).committedBlocks||(r.committedBlocks=[]),r.uncommittedBlocks||(r.uncommittedBlocks=[]),[2,r]}}))}))},d);function d(e,t){return(t=r.call(this,e,t)||this).blockBlobContext=new o.BlockBlob(t.storageClientContext),t}},"./node_modules/@azure/storage-blob/dist-esm/lib/BrowserPolicyFactory.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserPolicyFactory",(function(){return i}));var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/BrowserPolicy.js"),i=(o.prototype.create=function(e,t){return new r.BrowserPolicy(e,t)},o);function o(){}},"./node_modules/@azure/storage-blob/dist-esm/lib/ContainerURL.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ContainerURL",(function(){return l}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/index.js"),s=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/StorageURL.js"),n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js")),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),l=(r=t.StorageURL,i.__extends(c,r),c.fromServiceURL=function(e,t){return new c(Object(a.appendToURLPath)(e.url,encodeURIComponent(t)),e.pipeline)},c.prototype.withPipeline=function(e){return new c(this.url,e)},c.prototype.create=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return[2,this.containerContext.create(i.__assign({},t,{abortSignal:e}))]}))}))},c.prototype.getProperties=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return t.leaseAccessConditions||(t.leaseAccessConditions={}),[2,this.containerContext.getProperties(i.__assign({abortSignal:e},t.leaseAccessConditions))]}))}))},c.prototype.delete=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){if(t.containerAccessConditions||(t.containerAccessConditions={}),t.containerAccessConditions.modifiedAccessConditions||(t.containerAccessConditions.modifiedAccessConditions={}),t.containerAccessConditions.leaseAccessConditions||(t.containerAccessConditions.leaseAccessConditions={}),t.containerAccessConditions.modifiedAccessConditions.ifMatch&&t.containerAccessConditions.modifiedAccessConditions.ifMatch!==s.ETagNone||t.containerAccessConditions.modifiedAccessConditions.ifNoneMatch&&t.containerAccessConditions.modifiedAccessConditions.ifNoneMatch!==s.ETagNone)throw new RangeError("the IfMatch and IfNoneMatch access conditions must have their default        values because they are ignored by the service");return[2,this.containerContext.deleteMethod({abortSignal:e,leaseAccessConditions:t.containerAccessConditions.leaseAccessConditions,modifiedAccessConditions:t.containerAccessConditions.modifiedAccessConditions})]}))}))},c.prototype.setMetadata=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){if(n.containerAccessConditions||(n.containerAccessConditions={}),n.containerAccessConditions.modifiedAccessConditions||(n.containerAccessConditions.modifiedAccessConditions={}),n.containerAccessConditions.leaseAccessConditions||(n.containerAccessConditions.leaseAccessConditions={}),n.containerAccessConditions.modifiedAccessConditions.ifUnmodifiedSince||n.containerAccessConditions.modifiedAccessConditions.ifMatch&&n.containerAccessConditions.modifiedAccessConditions.ifMatch!==s.ETagNone||n.containerAccessConditions.modifiedAccessConditions.ifNoneMatch&&n.containerAccessConditions.modifiedAccessConditions.ifNoneMatch!==s.ETagNone)throw new RangeError("the IfUnmodifiedSince, IfMatch, and IfNoneMatch must have their default values        because they are ignored by the blob service");return[2,this.containerContext.setMetadata({abortSignal:e,leaseAccessConditions:n.containerAccessConditions.leaseAccessConditions,metadata:t,modifiedAccessConditions:n.containerAccessConditions.modifiedAccessConditions})]}))}))},c.prototype.getAccessPolicy=function(e,t){return void 0===t&&(t={}),i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return t.leaseAccessConditions||(t.leaseAccessConditions={}),[4,this.containerContext.getAccessPolicy({abortSignal:e,leaseAccessConditions:t.leaseAccessConditions})];case 1:for(n=i.sent(),r={_response:n._response,blobPublicAccess:n.blobPublicAccess,date:n.date,eTag:n.eTag,errorCode:n.errorCode,lastModified:n.lastModified,requestId:n.requestId,signedIdentifiers:[],version:n.version},o=0,s=n;o<s.length;o++)a=s[o],r.signedIdentifiers.push({accessPolicy:{expiry:new Date(a.accessPolicy.expiry),permission:a.accessPolicy.permission,start:new Date(a.accessPolicy.start)},id:a.id});return[2,r]}}))}))},c.prototype.setAccessPolicy=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){var o,s,l,c;return i.__generator(this,(function(i){for(r.containerAccessConditions=r.containerAccessConditions||{},o=[],s=0,l=n||[];s<l.length;s++)c=l[s],o.push({accessPolicy:{expiry:Object(a.truncatedISO8061Date)(c.accessPolicy.expiry),permission:c.accessPolicy.permission,start:Object(a.truncatedISO8061Date)(c.accessPolicy.start)},id:c.id});return[2,this.containerContext.setAccessPolicy({abortSignal:e,access:t,containerAcl:o,leaseAccessConditions:r.containerAccessConditions.leaseAccessConditions,modifiedAccessConditions:r.containerAccessConditions.modifiedAccessConditions})]}))}))},c.prototype.acquireLease=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return[2,this.containerContext.acquireLease({abortSignal:e,duration:n,modifiedAccessConditions:r.modifiedAccessConditions,proposedLeaseId:t})]}))}))},c.prototype.releaseLease=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.containerContext.releaseLease(t,{abortSignal:e,modifiedAccessConditions:n.modifiedAccessConditions})]}))}))},c.prototype.renewLease=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.containerContext.renewLease(t,{abortSignal:e,modifiedAccessConditions:n.modifiedAccessConditions})]}))}))},c.prototype.breakLease=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.containerContext.breakLease({abortSignal:e,breakPeriod:t,modifiedAccessConditions:n.modifiedAccessConditions})]}))}))},c.prototype.changeLease=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return[2,this.containerContext.changeLease(t,n,{abortSignal:e,modifiedAccessConditions:r.modifiedAccessConditions})]}))}))},c.prototype.listBlobFlatSegment=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.containerContext.listBlobFlatSegment(i.__assign({abortSignal:e,marker:t},n))]}))}))},c.prototype.listBlobHierarchySegment=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(o){return[2,this.containerContext.listBlobHierarchySegment(t,i.__assign({abortSignal:e,marker:n},r))]}))}))},c);function c(e,t){return(t=r.call(this,e,t)||this).containerContext=new o.Container(t.storageClientContext),t}},"./node_modules/@azure/storage-blob/dist-esm/lib/IRange.js":function(e,t,n){"use strict";function r(e){if(e.offset<0)throw new RangeError("IRange.offset cannot be smaller than 0.");if(e.count&&e.count<=0)throw new RangeError("IRange.count must be larger than 0. Leave it undefined if you want a range from offset to the end.");return e.count?"bytes="+e.offset+"-"+(e.offset+e.count-1):"bytes="+e.offset+"-"}n.r(t),n.d(t,"rangeToString",(function(){return r}))},"./node_modules/@azure/storage-blob/dist-esm/lib/LoggingPolicyFactory.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LoggingPolicyFactory",(function(){return i}));var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/LoggingPolicy.js"),i=(o.prototype.create=function(e,t){return new r.LoggingPolicy(e,t,this.loggingOptions)},o);function o(e){this.loggingOptions=e}},"./node_modules/@azure/storage-blob/dist-esm/lib/PageBlobURL.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PageBlobURL",(function(){return c}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/BlobURL.js"),n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/index.js")),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/IRange.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),l=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),c=(r=t.BlobURL,i.__extends(d,r),d.fromContainerURL=function(e,t){return new d(Object(l.appendToURLPath)(e.url,encodeURIComponent(t)),e.pipeline)},d.fromBlobURL=function(e){return new d(e.url,e.pipeline)},d.prototype.withPipeline=function(e){return new d(this.url,e)},d.prototype.withSnapshot=function(e){return new d(Object(l.setURLParameter)(this.url,a.URLConstants.Parameters.SNAPSHOT,0===e.length?void 0:e),this.pipeline)},d.prototype.create=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return n.accessConditions=n.accessConditions||{},[2,this.pageBlobContext.create(0,t,{abortSignal:e,blobHTTPHeaders:n.blobHTTPHeaders,blobSequenceNumber:n.blobSequenceNumber,leaseAccessConditions:n.accessConditions.leaseAccessConditions,metadata:n.metadata,modifiedAccessConditions:n.accessConditions.modifiedAccessConditions})]}))}))},d.prototype.uploadPages=function(e,t,n,r,o){return void 0===o&&(o={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return o.accessConditions=o.accessConditions||{},[2,this.pageBlobContext.uploadPages(t,r,{abortSignal:e,leaseAccessConditions:o.accessConditions.leaseAccessConditions,modifiedAccessConditions:o.accessConditions.modifiedAccessConditions,onUploadProgress:o.progress,range:Object(s.rangeToString)({offset:n,count:r}),sequenceNumberAccessConditions:o.accessConditions.sequenceNumberAccessConditions,transactionalContentMD5:o.transactionalContentMD5})]}))}))},d.prototype.clearPages=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return r.accessConditions=r.accessConditions||{},[2,this.pageBlobContext.clearPages(0,{abortSignal:e,leaseAccessConditions:r.accessConditions.leaseAccessConditions,modifiedAccessConditions:r.accessConditions.modifiedAccessConditions,range:Object(s.rangeToString)({offset:t,count:n}),sequenceNumberAccessConditions:r.accessConditions.sequenceNumberAccessConditions})]}))}))},d.prototype.getPageRanges=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return r.accessConditions=r.accessConditions||{},[2,this.pageBlobContext.getPageRanges({abortSignal:e,leaseAccessConditions:r.accessConditions.leaseAccessConditions,modifiedAccessConditions:r.accessConditions.modifiedAccessConditions,range:Object(s.rangeToString)({offset:t,count:n})})]}))}))},d.prototype.getPageRangesDiff=function(e,t,n,r,o){return void 0===o&&(o={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return o.accessConditions=o.accessConditions||{},[2,this.pageBlobContext.getPageRangesDiff({abortSignal:e,leaseAccessConditions:o.accessConditions.leaseAccessConditions,modifiedAccessConditions:o.accessConditions.modifiedAccessConditions,prevsnapshot:r,range:Object(s.rangeToString)({offset:t,count:n})})]}))}))},d.prototype.resize=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return n.accessConditions=n.accessConditions||{},[2,this.pageBlobContext.resize(t,{abortSignal:e,leaseAccessConditions:n.accessConditions.leaseAccessConditions,modifiedAccessConditions:n.accessConditions.modifiedAccessConditions})]}))}))},d.prototype.updateSequenceNumber=function(e,t,n,r){return void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(i){return r.accessConditions=r.accessConditions||{},[2,this.pageBlobContext.updateSequenceNumber(t,{abortSignal:e,blobSequenceNumber:n,leaseAccessConditions:r.accessConditions.leaseAccessConditions,modifiedAccessConditions:r.accessConditions.modifiedAccessConditions})]}))}))},d.prototype.startCopyIncremental=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.pageBlobContext.copyIncremental(t,{abortSignal:e,modifiedAccessConditions:n.modifiedAccessConditions})]}))}))},d);function d(e,t){return(t=r.call(this,e,t)||this).pageBlobContext=new o.PageBlob(t.storageClientContext),t}},"./node_modules/@azure/storage-blob/dist-esm/lib/Pipeline.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Pipeline",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js");n.d(t,"HttpHeaders",(function(){return r.HttpHeaders})),n.d(t,"HttpPipelineLogLevel",(function(){return r.HttpPipelineLogLevel})),n.d(t,"WebResource",(function(){return r.WebResource})),n.d(t,"BaseRequestPolicy",(function(){return r.BaseRequestPolicy})),n.d(t,"RequestPolicyOptions",(function(){return r.RequestPolicyOptions}));var i=(o.prototype.toServiceClientOptions=function(){return{httpClient:this.options.HTTPClient,httpPipelineLogger:this.options.logger,requestPolicyFactories:this.factories}},o);function o(e,t){void 0===t&&(t={}),this.factories=e,this.options=t}},"./node_modules/@azure/storage-blob/dist-esm/lib/RetryPolicyFactory.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RetryPolicyFactory",(function(){return i}));var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/RetryPolicy.js"),i=(o.prototype.create=function(e,t){return new r.RetryPolicy(e,t,this.retryOptions)},o);function o(e){this.retryOptions=e}},"./node_modules/@azure/storage-blob/dist-esm/lib/ServiceURL.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ServiceURL",(function(){return s}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/index.js"),s=(n=n("./node_modules/@azure/storage-blob/dist-esm/lib/StorageURL.js"),r=n.StorageURL,i.__extends(a,r),a.prototype.withPipeline=function(e){return new a(this.url,e)},a.prototype.getProperties=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.serviceContext.getProperties({abortSignal:e})]}))}))},a.prototype.setProperties=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return[2,this.serviceContext.setProperties(t,{abortSignal:e})]}))}))},a.prototype.getStatistics=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.serviceContext.getStatistics({abortSignal:e})]}))}))},a.prototype.getAccountInfo=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.serviceContext.getAccountInfo({abortSignal:e})]}))}))},a.prototype.listContainersSegment=function(e,t,n){return void 0===n&&(n={}),i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(r){return[2,this.serviceContext.listContainersSegment(i.__assign({abortSignal:e,marker:t},n))]}))}))},a);function a(e,t){return(t=r.call(this,e,t)||this).serviceContext=new o.Service(t.storageClientContext),t}},"./node_modules/@azure/storage-blob/dist-esm/lib/StorageURL.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StorageURL",(function(){return p}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js");n.d(t,"deserializationPolicy",(function(){return r.deserializationPolicy}));var i=n("./node_modules/@azure/storage-blob/dist-esm/lib/BrowserPolicyFactory.js"),o=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/storageClientContext.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/LoggingPolicyFactory.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/Pipeline.js"),l=n("./node_modules/@azure/storage-blob/dist-esm/lib/RetryPolicyFactory.js"),c=n("./node_modules/@azure/storage-blob/dist-esm/lib/TelemetryPolicyFactory.js"),d=n("./node_modules/@azure/storage-blob/dist-esm/lib/UniqueRequestIDPolicyFactory.js"),u=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),p=(m.newPipeline=function(e,t){return void 0===t&&(t={}),e=[new c.TelemetryPolicyFactory(t.telemetry),new d.UniqueRequestIDPolicyFactory,new i.BrowserPolicyFactory,Object(r.deserializationPolicy)(),new l.RetryPolicyFactory(t.retryOptions),new s.LoggingPolicyFactory,e],new a.Pipeline(e,{HTTPClient:t.httpClient,logger:t.logger})},m);function m(e,t){this.url=Object(u.escapeURLPath)(e),this.pipeline=t,this.storageClientContext=new o.StorageClientContext(this.url,t.toServiceClientOptions()),this.storageClientContext.requestContentType=void 0}},"./node_modules/@azure/storage-blob/dist-esm/lib/TelemetryPolicyFactory.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"TelemetryPolicyFactory",(function(){return a}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),i=n(0),o=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/TelemetryPolicy.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=(l.prototype.create=function(e,t){return new o.TelemetryPolicy(e,t,this.telemetryString)},l);function l(t){var n,o=[];r.isNode&&(!t||0<(n=t.value).length&&-1===o.indexOf(n)&&o.push(n),n="Azure-Storage/"+s.SDK_VERSION,-1===o.indexOf(n)&&o.push(n),n="(NODE-VERSION "+e.version+"; "+i.type()+" "+i.release()+")",-1===o.indexOf(n)&&o.push(n)),this.telemetryString=o.join(" ")}}.call(this,n("./node_modules/process/browser.js"))},"./node_modules/@azure/storage-blob/dist-esm/lib/UniqueRequestIDPolicyFactory.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UniqueRequestIDPolicyFactory",(function(){return i}));var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/UniqueRequestIDPolicy.js"),i=(o.prototype.create=function(e,t){return new r.UniqueRequestIDPolicy(e,t)},o);function o(){}},"./node_modules/@azure/storage-blob/dist-esm/lib/credentials/AnonymousCredential.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AnonymousCredential",(function(){return o}));t=n("./node_modules/tslib/tslib.es6.js");var r,i=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/AnonymousCredentialPolicy.js"),o=(n=n("./node_modules/@azure/storage-blob/dist-esm/lib/credentials/Credential.js"),r=n.Credential,t.__extends(s,r),s.prototype.create=function(e,t){return new i.AnonymousCredentialPolicy(e,t)},s);function s(){return null!==r&&r.apply(this,arguments)||this}},"./node_modules/@azure/storage-blob/dist-esm/lib/credentials/Credential.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Credential",(function(){return r}));var r=(i.prototype.create=function(e,t){throw new Error("Method should be implemented in children classes.")},i);function i(){}},"./node_modules/@azure/storage-blob/dist-esm/lib/credentials/TokenCredential.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TokenCredential",(function(){return s}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/credentials/Credential.js"),n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/TokenCredentialPolicy.js")),s=(r=t.Credential,i.__extends(a,r),a.prototype.create=function(e,t){return new o.TokenCredentialPolicy(e,t,this)},a);function a(e){var t=r.call(this)||this;return t.token=e,t}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/appendBlobMappers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/mappers.js");n.d(t,"AppendBlobCreateHeaders",(function(){return r.AppendBlobCreateHeaders})),n.d(t,"StorageError",(function(){return r.StorageError})),n.d(t,"AppendBlobAppendBlockHeaders",(function(){return r.AppendBlobAppendBlockHeaders}))},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/blobMappers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/mappers.js");n.d(t,"BlobDownloadHeaders",(function(){return r.BlobDownloadHeaders})),n.d(t,"StorageError",(function(){return r.StorageError})),n.d(t,"BlobGetPropertiesHeaders",(function(){return r.BlobGetPropertiesHeaders})),n.d(t,"BlobDeleteHeaders",(function(){return r.BlobDeleteHeaders})),n.d(t,"BlobUndeleteHeaders",(function(){return r.BlobUndeleteHeaders})),n.d(t,"BlobSetHTTPHeadersHeaders",(function(){return r.BlobSetHTTPHeadersHeaders})),n.d(t,"BlobSetMetadataHeaders",(function(){return r.BlobSetMetadataHeaders})),n.d(t,"BlobAcquireLeaseHeaders",(function(){return r.BlobAcquireLeaseHeaders})),n.d(t,"BlobReleaseLeaseHeaders",(function(){return r.BlobReleaseLeaseHeaders})),n.d(t,"BlobRenewLeaseHeaders",(function(){return r.BlobRenewLeaseHeaders})),n.d(t,"BlobChangeLeaseHeaders",(function(){return r.BlobChangeLeaseHeaders})),n.d(t,"BlobBreakLeaseHeaders",(function(){return r.BlobBreakLeaseHeaders})),n.d(t,"BlobCreateSnapshotHeaders",(function(){return r.BlobCreateSnapshotHeaders})),n.d(t,"BlobStartCopyFromURLHeaders",(function(){return r.BlobStartCopyFromURLHeaders})),n.d(t,"BlobAbortCopyFromURLHeaders",(function(){return r.BlobAbortCopyFromURLHeaders})),n.d(t,"BlobSetTierHeaders",(function(){return r.BlobSetTierHeaders})),n.d(t,"BlobGetAccountInfoHeaders",(function(){return r.BlobGetAccountInfoHeaders}))},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/blockBlobMappers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/mappers.js");n.d(t,"BlockBlobUploadHeaders",(function(){return r.BlockBlobUploadHeaders})),n.d(t,"StorageError",(function(){return r.StorageError})),n.d(t,"BlockBlobStageBlockHeaders",(function(){return r.BlockBlobStageBlockHeaders})),n.d(t,"BlockBlobStageBlockFromURLHeaders",(function(){return r.BlockBlobStageBlockFromURLHeaders})),n.d(t,"BlockLookupList",(function(){return r.BlockLookupList})),n.d(t,"BlockBlobCommitBlockListHeaders",(function(){return r.BlockBlobCommitBlockListHeaders})),n.d(t,"BlockList",(function(){return r.BlockList})),n.d(t,"Block",(function(){return r.Block})),n.d(t,"BlockBlobGetBlockListHeaders",(function(){return r.BlockBlobGetBlockListHeaders}))},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/containerMappers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/mappers.js");n.d(t,"ContainerCreateHeaders",(function(){return r.ContainerCreateHeaders})),n.d(t,"StorageError",(function(){return r.StorageError})),n.d(t,"ContainerGetPropertiesHeaders",(function(){return r.ContainerGetPropertiesHeaders})),n.d(t,"ContainerDeleteHeaders",(function(){return r.ContainerDeleteHeaders})),n.d(t,"ContainerSetMetadataHeaders",(function(){return r.ContainerSetMetadataHeaders})),n.d(t,"SignedIdentifier",(function(){return r.SignedIdentifier})),n.d(t,"AccessPolicy",(function(){return r.AccessPolicy})),n.d(t,"ContainerGetAccessPolicyHeaders",(function(){return r.ContainerGetAccessPolicyHeaders})),n.d(t,"ContainerSetAccessPolicyHeaders",(function(){return r.ContainerSetAccessPolicyHeaders})),n.d(t,"ContainerAcquireLeaseHeaders",(function(){return r.ContainerAcquireLeaseHeaders})),n.d(t,"ContainerReleaseLeaseHeaders",(function(){return r.ContainerReleaseLeaseHeaders})),n.d(t,"ContainerRenewLeaseHeaders",(function(){return r.ContainerRenewLeaseHeaders})),n.d(t,"ContainerBreakLeaseHeaders",(function(){return r.ContainerBreakLeaseHeaders})),n.d(t,"ContainerChangeLeaseHeaders",(function(){return r.ContainerChangeLeaseHeaders})),n.d(t,"ListBlobsFlatSegmentResponse",(function(){return r.ListBlobsFlatSegmentResponse})),n.d(t,"BlobFlatListSegment",(function(){return r.BlobFlatListSegment})),n.d(t,"BlobItem",(function(){return r.BlobItem})),n.d(t,"BlobProperties",(function(){return r.BlobProperties})),n.d(t,"ContainerListBlobFlatSegmentHeaders",(function(){return r.ContainerListBlobFlatSegmentHeaders})),n.d(t,"ListBlobsHierarchySegmentResponse",(function(){return r.ListBlobsHierarchySegmentResponse})),n.d(t,"BlobHierarchyListSegment",(function(){return r.BlobHierarchyListSegment})),n.d(t,"BlobPrefix",(function(){return r.BlobPrefix})),n.d(t,"ContainerListBlobHierarchySegmentHeaders",(function(){return r.ContainerListBlobHierarchySegmentHeaders})),n.d(t,"ContainerGetAccountInfoHeaders",(function(){return r.ContainerGetAccountInfoHeaders}))},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/index.js":function(e,t){},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/mappers.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StorageError",(function(){return r})),n.d(t,"AccessPolicy",(function(){return i})),n.d(t,"BlobProperties",(function(){return o})),n.d(t,"BlobItem",(function(){return s})),n.d(t,"BlobFlatListSegment",(function(){return a})),n.d(t,"ListBlobsFlatSegmentResponse",(function(){return l})),n.d(t,"BlobPrefix",(function(){return c})),n.d(t,"BlobHierarchyListSegment",(function(){return d})),n.d(t,"ListBlobsHierarchySegmentResponse",(function(){return u})),n.d(t,"Block",(function(){return p})),n.d(t,"BlockList",(function(){return m})),n.d(t,"BlockLookupList",(function(){return h})),n.d(t,"ContainerProperties",(function(){return g})),n.d(t,"ContainerItem",(function(){return f})),n.d(t,"ListContainersSegmentResponse",(function(){return v})),n.d(t,"CorsRule",(function(){return y})),n.d(t,"GeoReplication",(function(){return b})),n.d(t,"RetentionPolicy",(function(){return S})),n.d(t,"Logging",(function(){return _})),n.d(t,"Metrics",(function(){return C})),n.d(t,"PageRange",(function(){return $})),n.d(t,"ClearRange",(function(){return w})),n.d(t,"PageList",(function(){return M})),n.d(t,"SignedIdentifier",(function(){return T})),n.d(t,"StaticWebsite",(function(){return k})),n.d(t,"StorageServiceProperties",(function(){return P})),n.d(t,"StorageServiceStats",(function(){return D})),n.d(t,"LeaseAccessConditions",(function(){return L})),n.d(t,"ModifiedAccessConditions",(function(){return A})),n.d(t,"BlobHTTPHeaders",(function(){return x})),n.d(t,"SourceModifiedAccessConditions",(function(){return E})),n.d(t,"SequenceNumberAccessConditions",(function(){return j})),n.d(t,"AppendPositionAccessConditions",(function(){return I})),n.d(t,"ServiceSetPropertiesHeaders",(function(){return R})),n.d(t,"ServiceGetPropertiesHeaders",(function(){return N})),n.d(t,"ServiceGetStatisticsHeaders",(function(){return O})),n.d(t,"ServiceListContainersSegmentHeaders",(function(){return V})),n.d(t,"ServiceGetAccountInfoHeaders",(function(){return U})),n.d(t,"ContainerCreateHeaders",(function(){return F})),n.d(t,"ContainerGetPropertiesHeaders",(function(){return B})),n.d(t,"ContainerDeleteHeaders",(function(){return Y})),n.d(t,"ContainerSetMetadataHeaders",(function(){return G})),n.d(t,"ContainerGetAccessPolicyHeaders",(function(){return H})),n.d(t,"ContainerSetAccessPolicyHeaders",(function(){return z})),n.d(t,"ContainerAcquireLeaseHeaders",(function(){return q})),n.d(t,"ContainerReleaseLeaseHeaders",(function(){return W})),n.d(t,"ContainerRenewLeaseHeaders",(function(){return Q})),n.d(t,"ContainerBreakLeaseHeaders",(function(){return K})),n.d(t,"ContainerChangeLeaseHeaders",(function(){return J})),n.d(t,"ContainerListBlobFlatSegmentHeaders",(function(){return X})),n.d(t,"ContainerListBlobHierarchySegmentHeaders",(function(){return Z})),n.d(t,"ContainerGetAccountInfoHeaders",(function(){return ee})),n.d(t,"BlobDownloadHeaders",(function(){return te})),n.d(t,"BlobGetPropertiesHeaders",(function(){return ne})),n.d(t,"BlobDeleteHeaders",(function(){return re})),n.d(t,"PageBlobCreateHeaders",(function(){return ie})),n.d(t,"AppendBlobCreateHeaders",(function(){return oe})),n.d(t,"BlockBlobUploadHeaders",(function(){return se})),n.d(t,"BlobUndeleteHeaders",(function(){return ae})),n.d(t,"BlobSetHTTPHeadersHeaders",(function(){return le})),n.d(t,"BlobSetMetadataHeaders",(function(){return ce})),n.d(t,"BlobAcquireLeaseHeaders",(function(){return de})),n.d(t,"BlobReleaseLeaseHeaders",(function(){return ue})),n.d(t,"BlobRenewLeaseHeaders",(function(){return pe})),n.d(t,"BlobChangeLeaseHeaders",(function(){return me})),n.d(t,"BlobBreakLeaseHeaders",(function(){return he})),n.d(t,"BlobCreateSnapshotHeaders",(function(){return ge})),n.d(t,"BlobStartCopyFromURLHeaders",(function(){return fe})),n.d(t,"BlobAbortCopyFromURLHeaders",(function(){return ve})),n.d(t,"BlobSetTierHeaders",(function(){return ye})),n.d(t,"BlobGetAccountInfoHeaders",(function(){return be})),n.d(t,"BlockBlobStageBlockHeaders",(function(){return Se})),n.d(t,"BlockBlobStageBlockFromURLHeaders",(function(){return _e})),n.d(t,"BlockBlobCommitBlockListHeaders",(function(){return Ce})),n.d(t,"BlockBlobGetBlockListHeaders",(function(){return $e})),n.d(t,"PageBlobUploadPagesHeaders",(function(){return we})),n.d(t,"PageBlobClearPagesHeaders",(function(){return Me})),n.d(t,"PageBlobGetPageRangesHeaders",(function(){return Te})),n.d(t,"PageBlobGetPageRangesDiffHeaders",(function(){return ke})),n.d(t,"PageBlobResizeHeaders",(function(){return Pe})),n.d(t,"PageBlobUpdateSequenceNumberHeaders",(function(){return De})),n.d(t,"PageBlobCopyIncrementalHeaders",(function(){return Le})),n.d(t,"AppendBlobAppendBlockHeaders",(function(){return Ae}));var r={serializedName:"StorageError",type:{name:"Composite",className:"StorageError",modelProperties:{message:{xmlName:"Message",serializedName:"Message",type:{name:"String"}}}}},i={serializedName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy",modelProperties:{start:{xmlName:"Start",required:!0,serializedName:"Start",type:{name:"String"}},expiry:{xmlName:"Expiry",required:!0,serializedName:"Expiry",type:{name:"String"}},permission:{xmlName:"Permission",required:!0,serializedName:"Permission",type:{name:"String"}}}}},o={xmlName:"Properties",serializedName:"BlobProperties",type:{name:"Composite",className:"BlobProperties",modelProperties:{creationTime:{xmlName:"Creation-Time",serializedName:"Creation-Time",type:{name:"DateTimeRfc1123"}},lastModified:{xmlName:"Last-Modified",required:!0,serializedName:"Last-Modified",type:{name:"DateTimeRfc1123"}},etag:{xmlName:"Etag",required:!0,serializedName:"Etag",type:{name:"String"}},contentLength:{xmlName:"Content-Length",serializedName:"Content-Length",type:{name:"Number"}},contentType:{xmlName:"Content-Type",serializedName:"Content-Type",type:{name:"String"}},contentEncoding:{xmlName:"Content-Encoding",serializedName:"Content-Encoding",type:{name:"String"}},contentLanguage:{xmlName:"Content-Language",serializedName:"Content-Language",type:{name:"String"}},contentMD5:{xmlName:"Content-MD5",serializedName:"Content-MD5",type:{name:"ByteArray"}},contentDisposition:{xmlName:"Content-Disposition",serializedName:"Content-Disposition",type:{name:"String"}},cacheControl:{xmlName:"Cache-Control",serializedName:"Cache-Control",type:{name:"String"}},blobSequenceNumber:{xmlName:"x-ms-blob-sequence-number",serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{xmlName:"BlobType",serializedName:"BlobType",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},leaseStatus:{xmlName:"LeaseStatus",serializedName:"LeaseStatus",type:{name:"Enum",allowedValues:["locked","unlocked"]}},leaseState:{xmlName:"LeaseState",serializedName:"LeaseState",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseDuration:{xmlName:"LeaseDuration",serializedName:"LeaseDuration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},copyId:{xmlName:"CopyId",serializedName:"CopyId",type:{name:"String"}},copyStatus:{xmlName:"CopyStatus",serializedName:"CopyStatus",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},copySource:{xmlName:"CopySource",serializedName:"CopySource",type:{name:"String"}},copyProgress:{xmlName:"CopyProgress",serializedName:"CopyProgress",type:{name:"String"}},copyCompletionTime:{xmlName:"CopyCompletionTime",serializedName:"CopyCompletionTime",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{xmlName:"CopyStatusDescription",serializedName:"CopyStatusDescription",type:{name:"String"}},serverEncrypted:{xmlName:"ServerEncrypted",serializedName:"ServerEncrypted",type:{name:"Boolean"}},incrementalCopy:{xmlName:"IncrementalCopy",serializedName:"IncrementalCopy",type:{name:"Boolean"}},destinationSnapshot:{xmlName:"DestinationSnapshot",serializedName:"DestinationSnapshot",type:{name:"String"}},deletedTime:{xmlName:"DeletedTime",serializedName:"DeletedTime",type:{name:"DateTimeRfc1123"}},remainingRetentionDays:{xmlName:"RemainingRetentionDays",serializedName:"RemainingRetentionDays",type:{name:"Number"}},accessTier:{xmlName:"AccessTier",serializedName:"AccessTier",type:{name:"String"}},accessTierInferred:{xmlName:"AccessTierInferred",serializedName:"AccessTierInferred",type:{name:"Boolean"}},archiveStatus:{xmlName:"ArchiveStatus",serializedName:"ArchiveStatus",type:{name:"String"}},accessTierChangeTime:{xmlName:"AccessTierChangeTime",serializedName:"AccessTierChangeTime",type:{name:"DateTimeRfc1123"}}}}},s={xmlName:"Blob",serializedName:"BlobItem",type:{name:"Composite",className:"BlobItem",modelProperties:{name:{xmlName:"Name",required:!0,serializedName:"Name",type:{name:"String"}},deleted:{xmlName:"Deleted",required:!0,serializedName:"Deleted",type:{name:"Boolean"}},snapshot:{xmlName:"Snapshot",required:!0,serializedName:"Snapshot",type:{name:"String"}},properties:{xmlName:"Properties",required:!0,serializedName:"Properties",type:{name:"Composite",className:"BlobProperties"}},metadata:{xmlName:"Metadata",serializedName:"Metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},a={xmlName:"Blobs",serializedName:"BlobFlatListSegment",type:{name:"Composite",className:"BlobFlatListSegment",modelProperties:{blobItems:{xmlName:"BlobItems",xmlElementName:"Blob",required:!0,serializedName:"BlobItems",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobItem"}}}}}}},l={xmlName:"EnumerationResults",serializedName:"ListBlobsFlatSegmentResponse",type:{name:"Composite",className:"ListBlobsFlatSegmentResponse",modelProperties:{serviceEndpoint:{xmlIsAttribute:!0,xmlName:"ServiceEndpoint",required:!0,serializedName:"ServiceEndpoint",type:{name:"String"}},containerName:{xmlIsAttribute:!0,xmlName:"ContainerName",required:!0,serializedName:"ContainerName",type:{name:"String"}},prefix:{xmlName:"Prefix",required:!0,serializedName:"Prefix",type:{name:"String"}},marker:{xmlName:"Marker",required:!0,serializedName:"Marker",type:{name:"String"}},maxResults:{xmlName:"MaxResults",required:!0,serializedName:"MaxResults",type:{name:"Number"}},delimiter:{xmlName:"Delimiter",required:!0,serializedName:"Delimiter",type:{name:"String"}},segment:{xmlName:"Blobs",required:!0,serializedName:"Segment",type:{name:"Composite",className:"BlobFlatListSegment"}},nextMarker:{xmlName:"NextMarker",required:!0,serializedName:"NextMarker",type:{name:"String"}}}}},c={serializedName:"BlobPrefix",type:{name:"Composite",className:"BlobPrefix",modelProperties:{name:{xmlName:"Name",required:!0,serializedName:"Name",type:{name:"String"}}}}},d={xmlName:"Blobs",serializedName:"BlobHierarchyListSegment",type:{name:"Composite",className:"BlobHierarchyListSegment",modelProperties:{blobPrefixes:{xmlName:"BlobPrefixes",xmlElementName:"BlobPrefix",serializedName:"BlobPrefixes",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobPrefix"}}}},blobItems:{xmlName:"BlobItems",xmlElementName:"Blob",required:!0,serializedName:"BlobItems",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobItem"}}}}}}},u={xmlName:"EnumerationResults",serializedName:"ListBlobsHierarchySegmentResponse",type:{name:"Composite",className:"ListBlobsHierarchySegmentResponse",modelProperties:{serviceEndpoint:{xmlIsAttribute:!0,xmlName:"ServiceEndpoint",required:!0,serializedName:"ServiceEndpoint",type:{name:"String"}},containerName:{xmlIsAttribute:!0,xmlName:"ContainerName",required:!0,serializedName:"ContainerName",type:{name:"String"}},prefix:{xmlName:"Prefix",required:!0,serializedName:"Prefix",type:{name:"String"}},marker:{xmlName:"Marker",required:!0,serializedName:"Marker",type:{name:"String"}},maxResults:{xmlName:"MaxResults",required:!0,serializedName:"MaxResults",type:{name:"Number"}},delimiter:{xmlName:"Delimiter",required:!0,serializedName:"Delimiter",type:{name:"String"}},segment:{xmlName:"Blobs",required:!0,serializedName:"Segment",type:{name:"Composite",className:"BlobHierarchyListSegment"}},nextMarker:{xmlName:"NextMarker",required:!0,serializedName:"NextMarker",type:{name:"String"}}}}},p={serializedName:"Block",type:{name:"Composite",className:"Block",modelProperties:{name:{xmlName:"Name",required:!0,serializedName:"Name",type:{name:"String"}},size:{xmlName:"Size",required:!0,serializedName:"Size",type:{name:"Number"}}}}},m={serializedName:"BlockList",type:{name:"Composite",className:"BlockList",modelProperties:{committedBlocks:{xmlIsWrapped:!0,xmlName:"CommittedBlocks",xmlElementName:"Block",serializedName:"CommittedBlocks",type:{name:"Sequence",element:{type:{name:"Composite",className:"Block"}}}},uncommittedBlocks:{xmlIsWrapped:!0,xmlName:"UncommittedBlocks",xmlElementName:"Block",serializedName:"UncommittedBlocks",type:{name:"Sequence",element:{type:{name:"Composite",className:"Block"}}}}}}},h={xmlName:"BlockList",serializedName:"BlockLookupList",type:{name:"Composite",className:"BlockLookupList",modelProperties:{committed:{xmlName:"Committed",xmlElementName:"Committed",serializedName:"Committed",type:{name:"Sequence",element:{type:{name:"String"}}}},uncommitted:{xmlName:"Uncommitted",xmlElementName:"Uncommitted",serializedName:"Uncommitted",type:{name:"Sequence",element:{type:{name:"String"}}}},latest:{xmlName:"Latest",xmlElementName:"Latest",serializedName:"Latest",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},g={serializedName:"ContainerProperties",type:{name:"Composite",className:"ContainerProperties",modelProperties:{lastModified:{xmlName:"Last-Modified",required:!0,serializedName:"Last-Modified",type:{name:"DateTimeRfc1123"}},etag:{xmlName:"Etag",required:!0,serializedName:"Etag",type:{name:"String"}},leaseStatus:{xmlName:"LeaseStatus",serializedName:"LeaseStatus",type:{name:"Enum",allowedValues:["locked","unlocked"]}},leaseState:{xmlName:"LeaseState",serializedName:"LeaseState",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseDuration:{xmlName:"LeaseDuration",serializedName:"LeaseDuration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},publicAccess:{xmlName:"PublicAccess",serializedName:"PublicAccess",type:{name:"String"}},hasImmutabilityPolicy:{xmlName:"HasImmutabilityPolicy",serializedName:"HasImmutabilityPolicy",type:{name:"Boolean"}},hasLegalHold:{xmlName:"HasLegalHold",serializedName:"HasLegalHold",type:{name:"Boolean"}}}}},f={xmlName:"Container",serializedName:"ContainerItem",type:{name:"Composite",className:"ContainerItem",modelProperties:{name:{xmlName:"Name",required:!0,serializedName:"Name",type:{name:"String"}},properties:{xmlName:"Properties",required:!0,serializedName:"Properties",type:{name:"Composite",className:"ContainerProperties"}},metadata:{xmlName:"Metadata",serializedName:"Metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},v={xmlName:"EnumerationResults",serializedName:"ListContainersSegmentResponse",type:{name:"Composite",className:"ListContainersSegmentResponse",modelProperties:{serviceEndpoint:{xmlIsAttribute:!0,xmlName:"ServiceEndpoint",required:!0,serializedName:"ServiceEndpoint",type:{name:"String"}},prefix:{xmlName:"Prefix",required:!0,serializedName:"Prefix",type:{name:"String"}},marker:{xmlName:"Marker",serializedName:"Marker",type:{name:"String"}},maxResults:{xmlName:"MaxResults",required:!0,serializedName:"MaxResults",type:{name:"Number"}},containerItems:{xmlIsWrapped:!0,xmlName:"Containers",xmlElementName:"Container",required:!0,serializedName:"ContainerItems",type:{name:"Sequence",element:{type:{name:"Composite",className:"ContainerItem"}}}},nextMarker:{xmlName:"NextMarker",required:!0,serializedName:"NextMarker",type:{name:"String"}}}}},y={serializedName:"CorsRule",type:{name:"Composite",className:"CorsRule",modelProperties:{allowedOrigins:{xmlName:"AllowedOrigins",required:!0,serializedName:"AllowedOrigins",type:{name:"String"}},allowedMethods:{xmlName:"AllowedMethods",required:!0,serializedName:"AllowedMethods",type:{name:"String"}},allowedHeaders:{xmlName:"AllowedHeaders",required:!0,serializedName:"AllowedHeaders",type:{name:"String"}},exposedHeaders:{xmlName:"ExposedHeaders",required:!0,serializedName:"ExposedHeaders",type:{name:"String"}},maxAgeInSeconds:{xmlName:"MaxAgeInSeconds",required:!0,serializedName:"MaxAgeInSeconds",constraints:{InclusiveMinimum:0},type:{name:"Number"}}}}},b={serializedName:"GeoReplication",type:{name:"Composite",className:"GeoReplication",modelProperties:{status:{xmlName:"Status",required:!0,serializedName:"Status",type:{name:"String"}},lastSyncTime:{xmlName:"LastSyncTime",required:!0,serializedName:"LastSyncTime",type:{name:"DateTimeRfc1123"}}}}},S={serializedName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy",modelProperties:{enabled:{xmlName:"Enabled",required:!0,serializedName:"Enabled",type:{name:"Boolean"}},days:{xmlName:"Days",serializedName:"Days",constraints:{InclusiveMinimum:1},type:{name:"Number"}}}}},_={serializedName:"Logging",type:{name:"Composite",className:"Logging",modelProperties:{version:{xmlName:"Version",required:!0,serializedName:"Version",type:{name:"String"}},deleteProperty:{xmlName:"Delete",required:!0,serializedName:"Delete",type:{name:"Boolean"}},read:{xmlName:"Read",required:!0,serializedName:"Read",type:{name:"Boolean"}},write:{xmlName:"Write",required:!0,serializedName:"Write",type:{name:"Boolean"}},retentionPolicy:{xmlName:"RetentionPolicy",required:!0,serializedName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}}}}},C={serializedName:"Metrics",type:{name:"Composite",className:"Metrics",modelProperties:{version:{xmlName:"Version",serializedName:"Version",type:{name:"String"}},enabled:{xmlName:"Enabled",required:!0,serializedName:"Enabled",type:{name:"Boolean"}},includeAPIs:{xmlName:"IncludeAPIs",serializedName:"IncludeAPIs",type:{name:"Boolean"}},retentionPolicy:{xmlName:"RetentionPolicy",serializedName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}}}}},$={serializedName:"PageRange",type:{name:"Composite",className:"PageRange",modelProperties:{start:{xmlName:"Start",required:!0,serializedName:"Start",type:{name:"Number"}},end:{xmlName:"End",required:!0,serializedName:"End",type:{name:"Number"}}}}},w={serializedName:"ClearRange",type:{name:"Composite",className:"ClearRange",modelProperties:{start:{xmlName:"Start",required:!0,serializedName:"Start",type:{name:"Number"}},end:{xmlName:"End",required:!0,serializedName:"End",type:{name:"Number"}}}}},M={serializedName:"PageList",type:{name:"Composite",className:"PageList",modelProperties:{pageRange:{xmlName:"PageRange",xmlElementName:"PageRange",serializedName:"PageRange",type:{name:"Sequence",element:{type:{name:"Composite",className:"PageRange"}}}},clearRange:{xmlName:"ClearRange",xmlElementName:"ClearRange",serializedName:"ClearRange",type:{name:"Sequence",element:{type:{name:"Composite",className:"ClearRange"}}}}}}},T={serializedName:"SignedIdentifier",type:{name:"Composite",className:"SignedIdentifier",modelProperties:{id:{xmlName:"Id",required:!0,serializedName:"Id",type:{name:"String"}},accessPolicy:{xmlName:"AccessPolicy",required:!0,serializedName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy"}}}}},k={serializedName:"StaticWebsite",type:{name:"Composite",className:"StaticWebsite",modelProperties:{enabled:{xmlName:"Enabled",required:!0,serializedName:"Enabled",type:{name:"Boolean"}},indexDocument:{xmlName:"IndexDocument",serializedName:"IndexDocument",type:{name:"String"}},errorDocument404Path:{xmlName:"ErrorDocument404Path",serializedName:"ErrorDocument404Path",type:{name:"String"}}}}},P={serializedName:"StorageServiceProperties",type:{name:"Composite",className:"StorageServiceProperties",modelProperties:{logging:{xmlName:"Logging",serializedName:"Logging",type:{name:"Composite",className:"Logging"}},hourMetrics:{xmlName:"HourMetrics",serializedName:"HourMetrics",type:{name:"Composite",className:"Metrics"}},minuteMetrics:{xmlName:"MinuteMetrics",serializedName:"MinuteMetrics",type:{name:"Composite",className:"Metrics"}},cors:{xmlIsWrapped:!0,xmlName:"Cors",xmlElementName:"CorsRule",serializedName:"Cors",type:{name:"Sequence",element:{type:{name:"Composite",className:"CorsRule"}}}},defaultServiceVersion:{xmlName:"DefaultServiceVersion",serializedName:"DefaultServiceVersion",type:{name:"String"}},deleteRetentionPolicy:{xmlName:"DeleteRetentionPolicy",serializedName:"DeleteRetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}},staticWebsite:{xmlName:"StaticWebsite",serializedName:"StaticWebsite",type:{name:"Composite",className:"StaticWebsite"}}}}},D={serializedName:"StorageServiceStats",type:{name:"Composite",className:"StorageServiceStats",modelProperties:{geoReplication:{xmlName:"GeoReplication",serializedName:"GeoReplication",type:{name:"Composite",className:"GeoReplication"}}}}},L={xmlName:"lease-access-conditions",type:{name:"Composite",className:"LeaseAccessConditions",modelProperties:{leaseId:{xmlName:"leaseId",type:{name:"String"}}}}},A={xmlName:"modified-access-conditions",type:{name:"Composite",className:"ModifiedAccessConditions",modelProperties:{ifModifiedSince:{xmlName:"ifModifiedSince",type:{name:"DateTimeRfc1123"}},ifUnmodifiedSince:{xmlName:"ifUnmodifiedSince",type:{name:"DateTimeRfc1123"}},ifMatch:{xmlName:"ifMatch",type:{name:"String"}},ifNoneMatch:{xmlName:"ifNoneMatch",type:{name:"String"}}}}},x={xmlName:"blob-HTTP-headers",type:{name:"Composite",className:"BlobHTTPHeaders",modelProperties:{blobCacheControl:{xmlName:"blobCacheControl",type:{name:"String"}},blobContentType:{xmlName:"blobContentType",type:{name:"String"}},blobContentMD5:{xmlName:"blobContentMD5",type:{name:"ByteArray"}},blobContentEncoding:{xmlName:"blobContentEncoding",type:{name:"String"}},blobContentLanguage:{xmlName:"blobContentLanguage",type:{name:"String"}},blobContentDisposition:{xmlName:"blobContentDisposition",type:{name:"String"}}}}},E={xmlName:"source-modified-access-conditions",type:{name:"Composite",className:"SourceModifiedAccessConditions",modelProperties:{sourceIfModifiedSince:{xmlName:"sourceIfModifiedSince",type:{name:"DateTimeRfc1123"}},sourceIfUnmodifiedSince:{xmlName:"sourceIfUnmodifiedSince",type:{name:"DateTimeRfc1123"}},sourceIfMatch:{xmlName:"sourceIfMatch",type:{name:"String"}},sourceIfNoneMatch:{xmlName:"sourceIfNoneMatch",type:{name:"String"}}}}},j={xmlName:"sequence-number-access-conditions",type:{name:"Composite",className:"SequenceNumberAccessConditions",modelProperties:{ifSequenceNumberLessThanOrEqualTo:{xmlName:"ifSequenceNumberLessThanOrEqualTo",type:{name:"Number"}},ifSequenceNumberLessThan:{xmlName:"ifSequenceNumberLessThan",type:{name:"Number"}},ifSequenceNumberEqualTo:{xmlName:"ifSequenceNumberEqualTo",type:{name:"Number"}}}}},I={xmlName:"append-position-access-conditions",type:{name:"Composite",className:"AppendPositionAccessConditions",modelProperties:{maxSize:{xmlName:"maxSize",type:{name:"Number"}},appendPosition:{xmlName:"appendPosition",type:{name:"Number"}}}}},R={serializedName:"service-setproperties-headers",type:{name:"Composite",className:"ServiceSetPropertiesHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},N={serializedName:"service-getproperties-headers",type:{name:"Composite",className:"ServiceGetPropertiesHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},O={serializedName:"service-getstatistics-headers",type:{name:"Composite",className:"ServiceGetStatisticsHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},V={serializedName:"service-listcontainerssegment-headers",type:{name:"Composite",className:"ServiceListContainersSegmentHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},U={serializedName:"service-getaccountinfo-headers",type:{name:"Composite",className:"ServiceGetAccountInfoHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2"]}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},F={serializedName:"container-create-headers",type:{name:"Composite",className:"ContainerCreateHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},B={serializedName:"container-getproperties-headers",type:{name:"Composite",className:"ContainerGetPropertiesHeaders",modelProperties:{metadata:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseDuration:{serializedName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},blobPublicAccess:{serializedName:"x-ms-blob-public-access",type:{name:"String"}},hasImmutabilityPolicy:{serializedName:"x-ms-has-immutability-policy",type:{name:"Boolean"}},hasLegalHold:{serializedName:"x-ms-has-legal-hold",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Y={serializedName:"container-delete-headers",type:{name:"Composite",className:"ContainerDeleteHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},G={serializedName:"container-setmetadata-headers",type:{name:"Composite",className:"ContainerSetMetadataHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},H={serializedName:"container-getaccesspolicy-headers",type:{name:"Composite",className:"ContainerGetAccessPolicyHeaders",modelProperties:{blobPublicAccess:{serializedName:"x-ms-blob-public-access",type:{name:"String"}},eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},z={serializedName:"container-setaccesspolicy-headers",type:{name:"Composite",className:"ContainerSetAccessPolicyHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},q={serializedName:"container-acquirelease-headers",type:{name:"Composite",className:"ContainerAcquireLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},W={serializedName:"container-releaselease-headers",type:{name:"Composite",className:"ContainerReleaseLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Q={serializedName:"container-renewlease-headers",type:{name:"Composite",className:"ContainerRenewLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},K={serializedName:"container-breaklease-headers",type:{name:"Composite",className:"ContainerBreakLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseTime:{serializedName:"x-ms-lease-time",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},J={serializedName:"container-changelease-headers",type:{name:"Composite",className:"ContainerChangeLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},X={serializedName:"container-listblobflatsegment-headers",type:{name:"Composite",className:"ContainerListBlobFlatSegmentHeaders",modelProperties:{contentType:{serializedName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Z={serializedName:"container-listblobhierarchysegment-headers",type:{name:"Composite",className:"ContainerListBlobHierarchySegmentHeaders",modelProperties:{contentType:{serializedName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ee={serializedName:"container-getaccountinfo-headers",type:{name:"Composite",className:"ContainerGetAccountInfoHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2"]}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},te={serializedName:"blob-download-headers",type:{name:"Composite",className:"BlobDownloadHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},contentLength:{serializedName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",type:{name:"String"}},contentRange:{serializedName:"content-range",type:{name:"String"}},eTag:{serializedName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",type:{name:"String"}},cacheControl:{serializedName:"cache-control",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{serializedName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletionTime:{serializedName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},leaseDuration:{serializedName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},acceptRanges:{serializedName:"accept-ranges",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",type:{name:"Boolean"}},blobContentMD5:{serializedName:"x-ms-blob-content-md5",type:{name:"ByteArray"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ne={serializedName:"blob-getproperties-headers",type:{name:"Composite",className:"BlobGetPropertiesHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},creationTime:{serializedName:"x-ms-creation-time",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},blobType:{serializedName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletionTime:{serializedName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},isIncrementalCopy:{serializedName:"x-ms-incremental-copy",type:{name:"Boolean"}},destinationSnapshot:{serializedName:"x-ms-copy-destination-snapshot",type:{name:"String"}},leaseDuration:{serializedName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},contentLength:{serializedName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",type:{name:"String"}},eTag:{serializedName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",type:{name:"String"}},cacheControl:{serializedName:"cache-control",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},acceptRanges:{serializedName:"accept-ranges",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",type:{name:"Boolean"}},accessTier:{serializedName:"x-ms-access-tier",type:{name:"String"}},accessTierInferred:{serializedName:"x-ms-access-tier-inferred",type:{name:"Boolean"}},archiveStatus:{serializedName:"x-ms-archive-status",type:{name:"String"}},accessTierChangeTime:{serializedName:"x-ms-access-tier-change-time",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},re={serializedName:"blob-delete-headers",type:{name:"Composite",className:"BlobDeleteHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ie={serializedName:"pageblob-create-headers",type:{name:"Composite",className:"PageBlobCreateHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},oe={serializedName:"appendblob-create-headers",type:{name:"Composite",className:"AppendBlobCreateHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},se={serializedName:"blockblob-upload-headers",type:{name:"Composite",className:"BlockBlobUploadHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ae={serializedName:"blob-undelete-headers",type:{name:"Composite",className:"BlobUndeleteHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},le={serializedName:"blob-sethttpheaders-headers",type:{name:"Composite",className:"BlobSetHTTPHeadersHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ce={serializedName:"blob-setmetadata-headers",type:{name:"Composite",className:"BlobSetMetadataHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},de={serializedName:"blob-acquirelease-headers",type:{name:"Composite",className:"BlobAcquireLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ue={serializedName:"blob-releaselease-headers",type:{name:"Composite",className:"BlobReleaseLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},pe={serializedName:"blob-renewlease-headers",type:{name:"Composite",className:"BlobRenewLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},me={serializedName:"blob-changelease-headers",type:{name:"Composite",className:"BlobChangeLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},leaseId:{serializedName:"x-ms-lease-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},he={serializedName:"blob-breaklease-headers",type:{name:"Composite",className:"BlobBreakLeaseHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseTime:{serializedName:"x-ms-lease-time",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ge={serializedName:"blob-createsnapshot-headers",type:{name:"Composite",className:"BlobCreateSnapshotHeaders",modelProperties:{snapshot:{serializedName:"x-ms-snapshot",type:{name:"String"}},eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},fe={serializedName:"blob-startcopyfromurl-headers",type:{name:"Composite",className:"BlobStartCopyFromURLHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ve={serializedName:"blob-abortcopyfromurl-headers",type:{name:"Composite",className:"BlobAbortCopyFromURLHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ye={serializedName:"blob-settier-headers",type:{name:"Composite",className:"BlobSetTierHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},be={serializedName:"blob-getaccountinfo-headers",type:{name:"Composite",className:"BlobGetAccountInfoHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2"]}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Se={serializedName:"blockblob-stageblock-headers",type:{name:"Composite",className:"BlockBlobStageBlockHeaders",modelProperties:{contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},_e={serializedName:"blockblob-stageblockfromurl-headers",type:{name:"Composite",className:"BlockBlobStageBlockFromURLHeaders",modelProperties:{contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Ce={serializedName:"blockblob-commitblocklist-headers",type:{name:"Composite",className:"BlockBlobCommitBlockListHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},$e={serializedName:"blockblob-getblocklist-headers",type:{name:"Composite",className:"BlockBlobGetBlockListHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},eTag:{serializedName:"etag",type:{name:"String"}},contentType:{serializedName:"content-type",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},we={serializedName:"pageblob-uploadpages-headers",type:{name:"Composite",className:"PageBlobUploadPagesHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Me={serializedName:"pageblob-clearpages-headers",type:{name:"Composite",className:"PageBlobClearPagesHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Te={serializedName:"pageblob-getpageranges-headers",type:{name:"Composite",className:"PageBlobGetPageRangesHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},eTag:{serializedName:"etag",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ke={serializedName:"pageblob-getpagerangesdiff-headers",type:{name:"Composite",className:"PageBlobGetPageRangesDiffHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},eTag:{serializedName:"etag",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Pe={serializedName:"pageblob-resize-headers",type:{name:"Composite",className:"PageBlobResizeHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},De={serializedName:"pageblob-updatesequencenumber-headers",type:{name:"Composite",className:"PageBlobUpdateSequenceNumberHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Le={serializedName:"pageblob-copyincremental-headers",type:{name:"Composite",className:"PageBlobCopyIncrementalHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Ae={serializedName:"appendblob-appendblock-headers",type:{name:"Composite",className:"AppendBlobAppendBlockHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},blobAppendOffset:{serializedName:"x-ms-blob-append-offset",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",type:{name:"Number"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/pageBlobMappers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/mappers.js");n.d(t,"PageBlobCreateHeaders",(function(){return r.PageBlobCreateHeaders})),n.d(t,"StorageError",(function(){return r.StorageError})),n.d(t,"PageBlobUploadPagesHeaders",(function(){return r.PageBlobUploadPagesHeaders})),n.d(t,"PageBlobClearPagesHeaders",(function(){return r.PageBlobClearPagesHeaders})),n.d(t,"PageList",(function(){return r.PageList})),n.d(t,"PageRange",(function(){return r.PageRange})),n.d(t,"ClearRange",(function(){return r.ClearRange})),n.d(t,"PageBlobGetPageRangesHeaders",(function(){return r.PageBlobGetPageRangesHeaders})),n.d(t,"PageBlobGetPageRangesDiffHeaders",(function(){return r.PageBlobGetPageRangesDiffHeaders})),n.d(t,"PageBlobResizeHeaders",(function(){return r.PageBlobResizeHeaders})),n.d(t,"PageBlobUpdateSequenceNumberHeaders",(function(){return r.PageBlobUpdateSequenceNumberHeaders})),n.d(t,"PageBlobCopyIncrementalHeaders",(function(){return r.PageBlobCopyIncrementalHeaders}))},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/parameters.js":function(e,t,n){"use strict";n.r(t),n.d(t,"access",(function(){return r})),n.d(t,"action0",(function(){return i})),n.d(t,"action1",(function(){return o})),n.d(t,"action2",(function(){return s})),n.d(t,"action3",(function(){return a})),n.d(t,"action4",(function(){return l})),n.d(t,"appendPosition",(function(){return c})),n.d(t,"blobCacheControl",(function(){return d})),n.d(t,"blobContentDisposition",(function(){return u})),n.d(t,"blobContentEncoding",(function(){return p})),n.d(t,"blobContentLanguage",(function(){return m})),n.d(t,"blobContentLength",(function(){return h})),n.d(t,"blobContentMD5",(function(){return g})),n.d(t,"blobContentType",(function(){return f})),n.d(t,"blobSequenceNumber",(function(){return v})),n.d(t,"blobType0",(function(){return y})),n.d(t,"blobType1",(function(){return b})),n.d(t,"blobType2",(function(){return S})),n.d(t,"blockId",(function(){return _})),n.d(t,"breakPeriod",(function(){return C})),n.d(t,"comp0",(function(){return $})),n.d(t,"comp1",(function(){return w})),n.d(t,"comp10",(function(){return M})),n.d(t,"comp11",(function(){return T})),n.d(t,"comp12",(function(){return k})),n.d(t,"comp13",(function(){return P})),n.d(t,"comp14",(function(){return D})),n.d(t,"comp15",(function(){return L})),n.d(t,"comp2",(function(){return A})),n.d(t,"comp3",(function(){return x})),n.d(t,"comp4",(function(){return E})),n.d(t,"comp5",(function(){return j})),n.d(t,"comp6",(function(){return I})),n.d(t,"comp7",(function(){return R})),n.d(t,"comp8",(function(){return N})),n.d(t,"comp9",(function(){return O})),n.d(t,"contentLength",(function(){return V})),n.d(t,"copyActionAbortConstant",(function(){return U})),n.d(t,"copyId",(function(){return F})),n.d(t,"copySource",(function(){return B})),n.d(t,"deleteSnapshots",(function(){return Y})),n.d(t,"delimiter",(function(){return G})),n.d(t,"duration",(function(){return H})),n.d(t,"ifMatch",(function(){return z})),n.d(t,"ifModifiedSince",(function(){return q})),n.d(t,"ifNoneMatch",(function(){return W})),n.d(t,"ifSequenceNumberEqualTo",(function(){return Q})),n.d(t,"ifSequenceNumberLessThan",(function(){return K})),n.d(t,"ifSequenceNumberLessThanOrEqualTo",(function(){return J})),n.d(t,"ifUnmodifiedSince",(function(){return X})),n.d(t,"include0",(function(){return Z})),n.d(t,"include1",(function(){return ee})),n.d(t,"leaseId0",(function(){return te})),n.d(t,"leaseId1",(function(){return ne})),n.d(t,"listType",(function(){return re})),n.d(t,"marker",(function(){return ie})),n.d(t,"maxresults",(function(){return oe})),n.d(t,"maxSize",(function(){return se})),n.d(t,"metadata",(function(){return ae})),n.d(t,"pageWrite0",(function(){return le})),n.d(t,"pageWrite1",(function(){return ce})),n.d(t,"prefix",(function(){return de})),n.d(t,"prevsnapshot",(function(){return ue})),n.d(t,"proposedLeaseId0",(function(){return pe})),n.d(t,"proposedLeaseId1",(function(){return me})),n.d(t,"range",(function(){return he})),n.d(t,"rangeGetContentMD5",(function(){return ge})),n.d(t,"requestId",(function(){return fe})),n.d(t,"restype0",(function(){return ve})),n.d(t,"restype1",(function(){return ye})),n.d(t,"restype2",(function(){return be})),n.d(t,"sequenceNumberAction",(function(){return Se})),n.d(t,"snapshot",(function(){return _e})),n.d(t,"sourceContentMD5",(function(){return Ce})),n.d(t,"sourceIfMatch",(function(){return $e})),n.d(t,"sourceIfModifiedSince",(function(){return we})),n.d(t,"sourceIfNoneMatch",(function(){return Me})),n.d(t,"sourceIfUnmodifiedSince",(function(){return Te})),n.d(t,"sourceRange",(function(){return ke})),n.d(t,"sourceUrl",(function(){return Pe})),n.d(t,"tier",(function(){return De})),n.d(t,"timeout",(function(){return Le})),n.d(t,"transactionalContentMD5",(function(){return Ae})),n.d(t,"url",(function(){return xe})),n.d(t,"version",(function(){return Ee}));n=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js");var r={parameterPath:["options","access"],mapper:{serializedName:"x-ms-blob-public-access",type:{name:"String"}}},i={parameterPath:"action",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-lease-action",defaultValue:"acquire",type:{name:"String"}}},o={parameterPath:"action",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-lease-action",defaultValue:"release",type:{name:"String"}}},s={parameterPath:"action",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-lease-action",defaultValue:"renew",type:{name:"String"}}},a={parameterPath:"action",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-lease-action",defaultValue:"break",type:{name:"String"}}},l={parameterPath:"action",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-lease-action",defaultValue:"change",type:{name:"String"}}},c={parameterPath:["options","appendPositionAccessConditions","appendPosition"],mapper:{serializedName:"x-ms-blob-condition-appendpos",type:{name:"Number"}}},d={parameterPath:["options","blobHTTPHeaders","blobCacheControl"],mapper:{serializedName:"x-ms-blob-cache-control",type:{name:"String"}}},u={parameterPath:["options","blobHTTPHeaders","blobContentDisposition"],mapper:{serializedName:"x-ms-blob-content-disposition",type:{name:"String"}}},p={parameterPath:["options","blobHTTPHeaders","blobContentEncoding"],mapper:{serializedName:"x-ms-blob-content-encoding",type:{name:"String"}}},m={parameterPath:["options","blobHTTPHeaders","blobContentLanguage"],mapper:{serializedName:"x-ms-blob-content-language",type:{name:"String"}}},h={parameterPath:"blobContentLength",mapper:{required:!0,serializedName:"x-ms-blob-content-length",type:{name:"Number"}}},g={parameterPath:["options","blobHTTPHeaders","blobContentMD5"],mapper:{serializedName:"x-ms-blob-content-md5",type:{name:"ByteArray"}}},f={parameterPath:["options","blobHTTPHeaders","blobContentType"],mapper:{serializedName:"x-ms-blob-content-type",type:{name:"String"}}},v={parameterPath:["options","blobSequenceNumber"],mapper:{serializedName:"x-ms-blob-sequence-number",defaultValue:0,type:{name:"Number"}}},y={parameterPath:"blobType",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-blob-type",defaultValue:"PageBlob",type:{name:"String"}}},b={parameterPath:"blobType",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-blob-type",defaultValue:"AppendBlob",type:{name:"String"}}},S={parameterPath:"blobType",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-blob-type",defaultValue:"BlockBlob",type:{name:"String"}}},_={parameterPath:"blockId",mapper:{required:!0,serializedName:"blockid",type:{name:"String"}}},C={parameterPath:["options","breakPeriod"],mapper:{serializedName:"x-ms-lease-break-period",type:{name:"Number"}}},$={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"properties",type:{name:"String"}}},w={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"stats",type:{name:"String"}}},M={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"page",type:{name:"String"}}},T={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"pagelist",type:{name:"String"}}},k={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"incrementalcopy",type:{name:"String"}}},P={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"appendblock",type:{name:"String"}}},D={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"block",type:{name:"String"}}},L={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"blocklist",type:{name:"String"}}},A={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"list",type:{name:"String"}}},x={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"metadata",type:{name:"String"}}},E={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"acl",type:{name:"String"}}},j={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"lease",type:{name:"String"}}},I={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"undelete",type:{name:"String"}}},R={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"snapshot",type:{name:"String"}}},N={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"copy",type:{name:"String"}}},O={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"tier",type:{name:"String"}}},V={parameterPath:"contentLength",mapper:{required:!0,serializedName:"Content-Length",type:{name:"Number"}}},U={parameterPath:"copyActionAbortConstant",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-copy-action",defaultValue:"abort",type:{name:"String"}}},F={parameterPath:"copyId",mapper:{required:!0,serializedName:"copyid",type:{name:"String"}}},B={parameterPath:"copySource",mapper:{required:!0,serializedName:"x-ms-copy-source",type:{name:"String"}}},Y={parameterPath:["options","deleteSnapshots"],mapper:{serializedName:"x-ms-delete-snapshots",type:{name:"Enum",allowedValues:["include","only"]}}},G={parameterPath:"delimiter",mapper:{required:!0,serializedName:"delimiter",type:{name:"String"}}},H={parameterPath:["options","duration"],mapper:{serializedName:"x-ms-lease-duration",type:{name:"Number"}}},z={parameterPath:["options","modifiedAccessConditions","ifMatch"],mapper:{serializedName:"If-Match",type:{name:"String"}}},q={parameterPath:["options","modifiedAccessConditions","ifModifiedSince"],mapper:{serializedName:"If-Modified-Since",type:{name:"DateTimeRfc1123"}}},W={parameterPath:["options","modifiedAccessConditions","ifNoneMatch"],mapper:{serializedName:"If-None-Match",type:{name:"String"}}},Q={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberEqualTo"],mapper:{serializedName:"x-ms-if-sequence-number-eq",type:{name:"Number"}}},K={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberLessThan"],mapper:{serializedName:"x-ms-if-sequence-number-lt",type:{name:"Number"}}},J={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberLessThanOrEqualTo"],mapper:{serializedName:"x-ms-if-sequence-number-le",type:{name:"Number"}}},X={parameterPath:["options","modifiedAccessConditions","ifUnmodifiedSince"],mapper:{serializedName:"If-Unmodified-Since",type:{name:"DateTimeRfc1123"}}},Z={parameterPath:["options","include"],mapper:{serializedName:"include",type:{name:"Enum",allowedValues:["metadata"]}}},ee={parameterPath:["options","include"],mapper:{serializedName:"include",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["snapshots","metadata","uncommittedblobs","copy","deleted"]}}}},collectionFormat:n.QueryCollectionFormat.Csv},te={parameterPath:["options","leaseAccessConditions","leaseId"],mapper:{serializedName:"x-ms-lease-id",type:{name:"String"}}},ne={parameterPath:"leaseId",mapper:{required:!0,serializedName:"x-ms-lease-id",type:{name:"String"}}},re={parameterPath:"listType",mapper:{required:!0,serializedName:"blocklisttype",defaultValue:"committed",type:{name:"Enum",allowedValues:["committed","uncommitted","all"]}}},ie={parameterPath:["options","marker"],mapper:{serializedName:"marker",type:{name:"String"}}},oe={parameterPath:["options","maxresults"],mapper:{serializedName:"maxresults",constraints:{InclusiveMinimum:1},type:{name:"Number"}}},se={parameterPath:["options","appendPositionAccessConditions","maxSize"],mapper:{serializedName:"x-ms-blob-condition-maxsize",type:{name:"Number"}}},ae={parameterPath:["options","metadata"],mapper:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"}},le={parameterPath:"pageWrite",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-page-write",defaultValue:"update",type:{name:"String"}}},ce={parameterPath:"pageWrite",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-page-write",defaultValue:"clear",type:{name:"String"}}},de={parameterPath:["options","prefix"],mapper:{serializedName:"prefix",type:{name:"String"}}},ue={parameterPath:["options","prevsnapshot"],mapper:{serializedName:"prevsnapshot",type:{name:"String"}}},pe={parameterPath:["options","proposedLeaseId"],mapper:{serializedName:"x-ms-proposed-lease-id",type:{name:"String"}}},me={parameterPath:"proposedLeaseId",mapper:{required:!0,serializedName:"x-ms-proposed-lease-id",type:{name:"String"}}},he={parameterPath:["options","range"],mapper:{serializedName:"x-ms-range",type:{name:"String"}}},ge={parameterPath:["options","rangeGetContentMD5"],mapper:{serializedName:"x-ms-range-get-content-md5",type:{name:"Boolean"}}},fe={parameterPath:["options","requestId"],mapper:{serializedName:"x-ms-client-request-id",type:{name:"String"}}},ve={parameterPath:"restype",mapper:{required:!0,isConstant:!0,serializedName:"restype",defaultValue:"service",type:{name:"String"}}},ye={parameterPath:"restype",mapper:{required:!0,isConstant:!0,serializedName:"restype",defaultValue:"account",type:{name:"String"}}},be={parameterPath:"restype",mapper:{required:!0,isConstant:!0,serializedName:"restype",defaultValue:"container",type:{name:"String"}}},Se={parameterPath:"sequenceNumberAction",mapper:{required:!0,serializedName:"x-ms-sequence-number-action",type:{name:"Enum",allowedValues:["max","update","increment"]}}},_e={parameterPath:["options","snapshot"],mapper:{serializedName:"snapshot",type:{name:"String"}}},Ce={parameterPath:["options","sourceContentMD5"],mapper:{serializedName:"x-ms-source-content-md5",type:{name:"ByteArray"}}},$e={parameterPath:["options","sourceModifiedAccessConditions","sourceIfMatch"],mapper:{serializedName:"x-ms-source-if-match",type:{name:"String"}}},we={parameterPath:["options","sourceModifiedAccessConditions","sourceIfModifiedSince"],mapper:{serializedName:"x-ms-source-if-modified-since",type:{name:"DateTimeRfc1123"}}},Me={parameterPath:["options","sourceModifiedAccessConditions","sourceIfNoneMatch"],mapper:{serializedName:"x-ms-source-if-none-match",type:{name:"String"}}},Te={parameterPath:["options","sourceModifiedAccessConditions","sourceIfUnmodifiedSince"],mapper:{serializedName:"x-ms-source-if-unmodified-since",type:{name:"DateTimeRfc1123"}}},ke={parameterPath:["options","sourceRange"],mapper:{serializedName:"x-ms-source-range",type:{name:"String"}}},Pe={parameterPath:"sourceUrl",mapper:{required:!0,serializedName:"x-ms-copy-source",type:{name:"String"}}},De={parameterPath:"tier",mapper:{required:!0,serializedName:"x-ms-access-tier",type:{name:"String"}}},Le={parameterPath:["options","timeout"],mapper:{serializedName:"timeout",constraints:{InclusiveMinimum:0},type:{name:"Number"}}},Ae={parameterPath:["options","transactionalContentMD5"],mapper:{serializedName:"Content-MD5",type:{name:"ByteArray"}}},xe={parameterPath:"url",mapper:{required:!0,serializedName:"url",defaultValue:"",type:{name:"String"}},skipEncoding:!0},Ee={parameterPath:"version",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-version",defaultValue:"2018-03-28",type:{name:"String"}}}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/serviceMappers.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/mappers.js");n.d(t,"StorageServiceProperties",(function(){return r.StorageServiceProperties})),n.d(t,"Logging",(function(){return r.Logging})),n.d(t,"RetentionPolicy",(function(){return r.RetentionPolicy})),n.d(t,"Metrics",(function(){return r.Metrics})),n.d(t,"CorsRule",(function(){return r.CorsRule})),n.d(t,"StaticWebsite",(function(){return r.StaticWebsite})),n.d(t,"ServiceSetPropertiesHeaders",(function(){return r.ServiceSetPropertiesHeaders})),n.d(t,"StorageError",(function(){return r.StorageError})),n.d(t,"ServiceGetPropertiesHeaders",(function(){return r.ServiceGetPropertiesHeaders})),n.d(t,"StorageServiceStats",(function(){return r.StorageServiceStats})),n.d(t,"GeoReplication",(function(){return r.GeoReplication})),n.d(t,"ServiceGetStatisticsHeaders",(function(){return r.ServiceGetStatisticsHeaders})),n.d(t,"ListContainersSegmentResponse",(function(){return r.ListContainersSegmentResponse})),n.d(t,"ContainerItem",(function(){return r.ContainerItem})),n.d(t,"ContainerProperties",(function(){return r.ContainerProperties})),n.d(t,"ServiceListContainersSegmentHeaders",(function(){return r.ServiceListContainersSegmentHeaders})),n.d(t,"ServiceGetAccountInfoHeaders",(function(){return r.ServiceGetAccountInfoHeaders}))},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/appendBlob.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AppendBlob",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),i=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/appendBlobMappers.js"),n=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/parameters.js"),o.prototype.create=function(e,t,n){return this.client.sendOperationRequest({contentLength:e,options:t},s,n)},o.prototype.appendBlock=function(e,t,n,r){return this.client.sendOperationRequest({body:e,contentLength:t,options:n},a,r)},o);function o(e){this.client=e}r=new r.Serializer(t,!0);var s={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout],headerParameters:[n.contentLength,n.metadata,n.version,n.requestId,n.blobType1,n.blobContentType,n.blobContentEncoding,n.blobContentLanguage,n.blobContentMD5,n.blobCacheControl,n.blobContentDisposition,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{201:{headersMapper:t.AppendBlobCreateHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},a={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp13],headerParameters:[n.contentLength,n.transactionalContentMD5,n.version,n.requestId,n.leaseId0,n.maxSize,n.appendPosition,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],requestBody:{parameterPath:"body",mapper:{required:!0,serializedName:"body",type:{name:"Stream"}}},contentType:"application/xml; charset=utf-8",responses:{201:{headersMapper:t.AppendBlobAppendBlockHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/blob.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Blob",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),i=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/blobMappers.js"),n=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/parameters.js"),o.prototype.download=function(e,t){return this.client.sendOperationRequest({options:e},s,t)},o.prototype.getProperties=function(e,t){return this.client.sendOperationRequest({options:e},a,t)},o.prototype.deleteMethod=function(e,t){return this.client.sendOperationRequest({options:e},l,t)},o.prototype.undelete=function(e,t){return this.client.sendOperationRequest({options:e},c,t)},o.prototype.setHTTPHeaders=function(e,t){return this.client.sendOperationRequest({options:e},d,t)},o.prototype.setMetadata=function(e,t){return this.client.sendOperationRequest({options:e},u,t)},o.prototype.acquireLease=function(e,t){return this.client.sendOperationRequest({options:e},p,t)},o.prototype.releaseLease=function(e,t,n){return this.client.sendOperationRequest({leaseId:e,options:t},m,n)},o.prototype.renewLease=function(e,t,n){return this.client.sendOperationRequest({leaseId:e,options:t},h,n)},o.prototype.changeLease=function(e,t,n,r){return this.client.sendOperationRequest({leaseId:e,proposedLeaseId:t,options:n},g,r)},o.prototype.breakLease=function(e,t){return this.client.sendOperationRequest({options:e},f,t)},o.prototype.createSnapshot=function(e,t){return this.client.sendOperationRequest({options:e},v,t)},o.prototype.startCopyFromURL=function(e,t,n){return this.client.sendOperationRequest({copySource:e,options:t},y,n)},o.prototype.abortCopyFromURL=function(e,t,n){return this.client.sendOperationRequest({copyId:e,options:t},b,n)},o.prototype.setTier=function(e,t,n){return this.client.sendOperationRequest({tier:e,options:t},S,n)},o.prototype.getAccountInfo=function(e,t){return this.client.sendOperationRequest({options:e},_,t)},o);function o(e){this.client=e}r=new r.Serializer(t,!0);var s={httpMethod:"GET",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.snapshot,n.timeout],headerParameters:[n.range,n.rangeGetContentMD5,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Stream"}},headersMapper:t.BlobDownloadHeaders},206:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Stream"}},headersMapper:t.BlobDownloadHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},a={httpMethod:"HEAD",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.snapshot,n.timeout],headerParameters:[n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.BlobGetPropertiesHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},l={httpMethod:"DELETE",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.snapshot,n.timeout],headerParameters:[n.deleteSnapshots,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{202:{headersMapper:t.BlobDeleteHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},c={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp6],headerParameters:[n.version,n.requestId],responses:{200:{headersMapper:t.BlobUndeleteHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},d={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp0],headerParameters:[n.version,n.requestId,n.blobCacheControl,n.blobContentType,n.blobContentMD5,n.blobContentEncoding,n.blobContentLanguage,n.blobContentDisposition,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.BlobSetHTTPHeadersHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},u={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp3],headerParameters:[n.metadata,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.BlobSetMetadataHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},p={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5],headerParameters:[n.duration,n.proposedLeaseId0,n.version,n.requestId,n.action0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{201:{headersMapper:t.BlobAcquireLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},m={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5],headerParameters:[n.leaseId1,n.version,n.requestId,n.action1,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.BlobReleaseLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},h={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5],headerParameters:[n.leaseId1,n.version,n.requestId,n.action2,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.BlobRenewLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},g={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5],headerParameters:[n.leaseId1,n.proposedLeaseId1,n.version,n.requestId,n.action4,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.BlobChangeLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},f={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5],headerParameters:[n.breakPeriod,n.version,n.requestId,n.action3,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{202:{headersMapper:t.BlobBreakLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},v={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp7],headerParameters:[n.metadata,n.version,n.requestId,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch,n.leaseId0],responses:{201:{headersMapper:t.BlobCreateSnapshotHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},y={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout],headerParameters:[n.metadata,n.copySource,n.version,n.requestId,n.sourceIfModifiedSince,n.sourceIfUnmodifiedSince,n.sourceIfMatch,n.sourceIfNoneMatch,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch,n.leaseId0],responses:{202:{headersMapper:t.BlobStartCopyFromURLHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},b={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.copyId,n.timeout,n.comp8],headerParameters:[n.version,n.requestId,n.copyActionAbortConstant,n.leaseId0],responses:{204:{headersMapper:t.BlobAbortCopyFromURLHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},S={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp9],headerParameters:[n.tier,n.version,n.requestId,n.leaseId0],responses:{200:{headersMapper:t.BlobSetTierHeaders},202:{headersMapper:t.BlobSetTierHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},_={httpMethod:"GET",path:"{containerName}/{blobName}",urlParameters:[n.url],queryParameters:[n.restype1,n.comp0],headerParameters:[n.version],responses:{200:{headersMapper:t.BlobGetAccountInfoHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/blockBlob.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BlockBlob",(function(){return o}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),o=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/blockBlobMappers.js"),n=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/parameters.js"),s.prototype.upload=function(e,t,n,r){return this.client.sendOperationRequest({body:e,contentLength:t,options:n},a,r)},s.prototype.stageBlock=function(e,t,n,r,i){return this.client.sendOperationRequest({blockId:e,contentLength:t,body:n,options:r},l,i)},s.prototype.stageBlockFromURL=function(e,t,n,r,i){return this.client.sendOperationRequest({blockId:e,contentLength:t,sourceUrl:n,options:r},c,i)},s.prototype.commitBlockList=function(e,t,n){return this.client.sendOperationRequest({blocks:e,options:t},d,n)},s.prototype.getBlockList=function(e,t,n){return this.client.sendOperationRequest({listType:e,options:t},u,n)},s);function s(e){this.client=e}i=new i.Serializer(t,!0);var a={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout],headerParameters:[n.contentLength,n.metadata,n.version,n.requestId,n.blobType2,n.blobContentType,n.blobContentEncoding,n.blobContentLanguage,n.blobContentMD5,n.blobCacheControl,n.blobContentDisposition,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],requestBody:{parameterPath:"body",mapper:{required:!0,serializedName:"body",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{201:{headersMapper:t.BlockBlobUploadHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},l={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.blockId,n.timeout,n.comp14],headerParameters:[n.contentLength,n.transactionalContentMD5,n.version,n.requestId,n.leaseId0],requestBody:{parameterPath:"body",mapper:{required:!0,serializedName:"body",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{201:{headersMapper:t.BlockBlobStageBlockHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},c={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.blockId,n.timeout,n.comp14],headerParameters:[n.contentLength,n.sourceUrl,n.sourceRange,n.sourceContentMD5,n.version,n.requestId,n.leaseId0],responses:{201:{headersMapper:t.BlockBlobStageBlockFromURLHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},d={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp15],headerParameters:[n.metadata,n.version,n.requestId,n.blobCacheControl,n.blobContentType,n.blobContentEncoding,n.blobContentLanguage,n.blobContentMD5,n.blobContentDisposition,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],requestBody:{parameterPath:"blocks",mapper:r.__assign({},t.BlockLookupList,{required:!0})},contentType:"application/xml; charset=utf-8",responses:{201:{headersMapper:t.BlockBlobCommitBlockListHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},u={httpMethod:"GET",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.snapshot,n.listType,n.timeout,n.comp15],headerParameters:[n.version,n.requestId,n.leaseId0],responses:{200:{bodyMapper:t.BlockList,headersMapper:t.BlockBlobGetBlockListHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/container.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Container",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),i=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/containerMappers.js"),n=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/parameters.js"),o.prototype.create=function(e,t){return this.client.sendOperationRequest({options:e},s,t)},o.prototype.getProperties=function(e,t){return this.client.sendOperationRequest({options:e},a,t)},o.prototype.deleteMethod=function(e,t){return this.client.sendOperationRequest({options:e},l,t)},o.prototype.setMetadata=function(e,t){return this.client.sendOperationRequest({options:e},c,t)},o.prototype.getAccessPolicy=function(e,t){return this.client.sendOperationRequest({options:e},d,t)},o.prototype.setAccessPolicy=function(e,t){return this.client.sendOperationRequest({options:e},u,t)},o.prototype.acquireLease=function(e,t){return this.client.sendOperationRequest({options:e},p,t)},o.prototype.releaseLease=function(e,t,n){return this.client.sendOperationRequest({leaseId:e,options:t},m,n)},o.prototype.renewLease=function(e,t,n){return this.client.sendOperationRequest({leaseId:e,options:t},h,n)},o.prototype.breakLease=function(e,t){return this.client.sendOperationRequest({options:e},g,t)},o.prototype.changeLease=function(e,t,n,r){return this.client.sendOperationRequest({leaseId:e,proposedLeaseId:t,options:n},f,r)},o.prototype.listBlobFlatSegment=function(e,t){return this.client.sendOperationRequest({options:e},v,t)},o.prototype.listBlobHierarchySegment=function(e,t,n){return this.client.sendOperationRequest({delimiter:e,options:t},y,n)},o.prototype.getAccountInfo=function(e,t){return this.client.sendOperationRequest({options:e},b,t)},o);function o(e){this.client=e}r=new r.Serializer(t,!0);var s={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.restype2],headerParameters:[n.metadata,n.access,n.version,n.requestId],responses:{201:{headersMapper:t.ContainerCreateHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},a={httpMethod:"GET",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.restype2],headerParameters:[n.version,n.requestId,n.leaseId0],responses:{200:{headersMapper:t.ContainerGetPropertiesHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},l={httpMethod:"DELETE",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.restype2],headerParameters:[n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince],responses:{202:{headersMapper:t.ContainerDeleteHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},c={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.restype2,n.comp3],headerParameters:[n.metadata,n.version,n.requestId,n.leaseId0,n.ifModifiedSince],responses:{200:{headersMapper:t.ContainerSetMetadataHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},d={httpMethod:"GET",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.restype2,n.comp4],headerParameters:[n.version,n.requestId,n.leaseId0],responses:{200:{bodyMapper:{xmlElementName:"SignedIdentifier",serializedName:"parsedResponse",type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}}},headersMapper:t.ContainerGetAccessPolicyHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},u={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.restype2,n.comp4],headerParameters:[n.access,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince],requestBody:{parameterPath:["options","containerAcl"],mapper:{xmlName:"SignedIdentifiers",xmlElementName:"SignedIdentifier",serializedName:"containerAcl",type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}}}},contentType:"application/xml; charset=utf-8",responses:{200:{headersMapper:t.ContainerSetAccessPolicyHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},p={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5,n.restype2],headerParameters:[n.duration,n.proposedLeaseId0,n.version,n.requestId,n.action0,n.ifModifiedSince,n.ifUnmodifiedSince],responses:{201:{headersMapper:t.ContainerAcquireLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},m={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5,n.restype2],headerParameters:[n.leaseId1,n.version,n.requestId,n.action1,n.ifModifiedSince,n.ifUnmodifiedSince],responses:{200:{headersMapper:t.ContainerReleaseLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},h={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5,n.restype2],headerParameters:[n.leaseId1,n.version,n.requestId,n.action2,n.ifModifiedSince,n.ifUnmodifiedSince],responses:{200:{headersMapper:t.ContainerRenewLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},g={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5,n.restype2],headerParameters:[n.breakPeriod,n.version,n.requestId,n.action3,n.ifModifiedSince,n.ifUnmodifiedSince],responses:{202:{headersMapper:t.ContainerBreakLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},f={httpMethod:"PUT",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp5,n.restype2],headerParameters:[n.leaseId1,n.proposedLeaseId1,n.version,n.requestId,n.action4,n.ifModifiedSince,n.ifUnmodifiedSince],responses:{200:{headersMapper:t.ContainerChangeLeaseHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},v={httpMethod:"GET",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.prefix,n.marker,n.maxresults,n.include1,n.timeout,n.restype2,n.comp2],headerParameters:[n.version,n.requestId],responses:{200:{bodyMapper:t.ListBlobsFlatSegmentResponse,headersMapper:t.ContainerListBlobFlatSegmentHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},y={httpMethod:"GET",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.prefix,n.delimiter,n.marker,n.maxresults,n.include1,n.timeout,n.restype2,n.comp2],headerParameters:[n.version,n.requestId],responses:{200:{bodyMapper:t.ListBlobsHierarchySegmentResponse,headersMapper:t.ContainerListBlobHierarchySegmentHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},b={httpMethod:"GET",path:"{containerName}",urlParameters:[n.url],queryParameters:[n.restype1,n.comp0],headerParameters:[n.version],responses:{200:{headersMapper:t.ContainerGetAccountInfoHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/service.js");n.d(t,"Service",(function(){return r.Service}));var i=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/container.js");n.d(t,"Container",(function(){return i.Container}));var o=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/blob.js");n.d(t,"Blob",(function(){return o.Blob}));var s=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/pageBlob.js");n.d(t,"PageBlob",(function(){return s.PageBlob}));var a=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/appendBlob.js");n.d(t,"AppendBlob",(function(){return a.AppendBlob}));var l=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/blockBlob.js");n.d(t,"BlockBlob",(function(){return l.BlockBlob}))},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/pageBlob.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PageBlob",(function(){return i}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),i=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/pageBlobMappers.js"),n=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/parameters.js"),o.prototype.create=function(e,t,n,r){return this.client.sendOperationRequest({contentLength:e,blobContentLength:t,options:n},s,r)},o.prototype.uploadPages=function(e,t,n,r){return this.client.sendOperationRequest({body:e,contentLength:t,options:n},a,r)},o.prototype.clearPages=function(e,t,n){return this.client.sendOperationRequest({contentLength:e,options:t},l,n)},o.prototype.getPageRanges=function(e,t){return this.client.sendOperationRequest({options:e},c,t)},o.prototype.getPageRangesDiff=function(e,t){return this.client.sendOperationRequest({options:e},d,t)},o.prototype.resize=function(e,t,n){return this.client.sendOperationRequest({blobContentLength:e,options:t},u,n)},o.prototype.updateSequenceNumber=function(e,t,n){return this.client.sendOperationRequest({sequenceNumberAction:e,options:t},p,n)},o.prototype.copyIncremental=function(e,t,n){return this.client.sendOperationRequest({copySource:e,options:t},m,n)},o);function o(e){this.client=e}r=new r.Serializer(t,!0);var s={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout],headerParameters:[n.contentLength,n.metadata,n.blobContentLength,n.blobSequenceNumber,n.version,n.requestId,n.blobType0,n.blobContentType,n.blobContentEncoding,n.blobContentLanguage,n.blobContentMD5,n.blobCacheControl,n.blobContentDisposition,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{201:{headersMapper:t.PageBlobCreateHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},a={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp10],headerParameters:[n.contentLength,n.transactionalContentMD5,n.range,n.version,n.requestId,n.pageWrite0,n.leaseId0,n.ifSequenceNumberLessThanOrEqualTo,n.ifSequenceNumberLessThan,n.ifSequenceNumberEqualTo,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],requestBody:{parameterPath:"body",mapper:{required:!0,serializedName:"body",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{201:{headersMapper:t.PageBlobUploadPagesHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},l={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp10],headerParameters:[n.contentLength,n.range,n.version,n.requestId,n.pageWrite1,n.leaseId0,n.ifSequenceNumberLessThanOrEqualTo,n.ifSequenceNumberLessThan,n.ifSequenceNumberEqualTo,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{201:{headersMapper:t.PageBlobClearPagesHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},c={httpMethod:"GET",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.snapshot,n.timeout,n.comp11],headerParameters:[n.range,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{bodyMapper:t.PageList,headersMapper:t.PageBlobGetPageRangesHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},d={httpMethod:"GET",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.snapshot,n.timeout,n.prevsnapshot,n.comp11],headerParameters:[n.range,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{bodyMapper:t.PageList,headersMapper:t.PageBlobGetPageRangesDiffHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},u={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp0],headerParameters:[n.blobContentLength,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.PageBlobResizeHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},p={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp0],headerParameters:[n.sequenceNumberAction,n.blobSequenceNumber,n.version,n.requestId,n.leaseId0,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{200:{headersMapper:t.PageBlobUpdateSequenceNumberHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r},m={httpMethod:"PUT",path:"{containerName}/{blob}",urlParameters:[n.url],queryParameters:[n.timeout,n.comp12],headerParameters:[n.copySource,n.version,n.requestId,n.ifModifiedSince,n.ifUnmodifiedSince,n.ifMatch,n.ifNoneMatch],responses:{202:{headersMapper:t.PageBlobCopyIncrementalHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:r}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/operations/service.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Service",(function(){return o}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),o=(t=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/serviceMappers.js"),n=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/parameters.js"),s.prototype.setProperties=function(e,t,n){return this.client.sendOperationRequest({storageServiceProperties:e,options:t},a,n)},s.prototype.getProperties=function(e,t){return this.client.sendOperationRequest({options:e},l,t)},s.prototype.getStatistics=function(e,t){return this.client.sendOperationRequest({options:e},c,t)},s.prototype.listContainersSegment=function(e,t){return this.client.sendOperationRequest({options:e},d,t)},s.prototype.getAccountInfo=function(e,t){return this.client.sendOperationRequest({options:e},u,t)},s);function s(e){this.client=e}i=new i.Serializer(t,!0);var a={httpMethod:"PUT",urlParameters:[n.url],queryParameters:[n.timeout,n.restype0,n.comp0],headerParameters:[n.version,n.requestId],requestBody:{parameterPath:"storageServiceProperties",mapper:r.__assign({},t.StorageServiceProperties,{required:!0})},contentType:"application/xml; charset=utf-8",responses:{202:{headersMapper:t.ServiceSetPropertiesHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},l={httpMethod:"GET",urlParameters:[n.url],queryParameters:[n.timeout,n.restype0,n.comp0],headerParameters:[n.version,n.requestId],responses:{200:{bodyMapper:t.StorageServiceProperties,headersMapper:t.ServiceGetPropertiesHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},c={httpMethod:"GET",urlParameters:[n.url],queryParameters:[n.timeout,n.restype0,n.comp1],headerParameters:[n.version,n.requestId],responses:{200:{bodyMapper:t.StorageServiceStats,headersMapper:t.ServiceGetStatisticsHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},d={httpMethod:"GET",urlParameters:[n.url],queryParameters:[n.prefix,n.marker,n.maxresults,n.include0,n.timeout,n.comp2],headerParameters:[n.version,n.requestId],responses:{200:{bodyMapper:t.ListContainersSegmentResponse,headersMapper:t.ServiceListContainersSegmentHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i},u={httpMethod:"GET",urlParameters:[n.url],queryParameters:[n.restype1,n.comp0],headerParameters:[n.version],responses:{200:{headersMapper:t.ServiceGetAccountInfoHeaders},default:{bodyMapper:t.StorageError}},isXML:!0,serializer:i}},"./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/storageClientContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StorageClientContext",(function(){return o}));t=n("./node_modules/tslib/tslib.es6.js");var r,i=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),o=(r=i.ServiceClient,t.__extends(s,r),s);function s(e,t){var n,o=this;if(null==e)throw new Error("'url' cannot be null.");return(t=t||{}).userAgent||(n=i.getDefaultUserAgentValue(),t.userAgent="azure-storage-blob/1.0.0 "+n),(o=r.call(this,void 0,t)||this).version="2018-03-28",o.baseUri="{url}",o.requestContentType="application/json; charset=utf-8",o.url=e,o}},"./node_modules/@azure/storage-blob/dist-esm/lib/highlevel.browser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"uploadBrowserDataToBlockBlob",(function(){return l}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),o=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/Batch.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js");function l(e,t,n,l){return r.__awaiter(this,void 0,void 0,(function(){var c;return r.__generator(this,(function(d){return c=new Blob([t]),[2,function(e,t,n,l,c){return void 0===c&&(c={}),r.__awaiter(this,void 0,void 0,(function(){var d,u,p,m,h,g,f,v=this;return r.__generator(this,(function(y){switch(y.label){case 0:if(c.blockSize||(c.blockSize=0),c.blockSize<0||c.blockSize>s.BLOCK_BLOB_MAX_STAGE_BLOCK_BYTES)throw new RangeError("blockSize option must be >= 0 and <= "+s.BLOCK_BLOB_MAX_STAGE_BLOCK_BYTES);if(0===c.maxSingleShotSize||c.maxSingleShotSize||(c.maxSingleShotSize=s.BLOCK_BLOB_MAX_UPLOAD_BLOB_BYTES),c.maxSingleShotSize<0||c.maxSingleShotSize>s.BLOCK_BLOB_MAX_UPLOAD_BLOB_BYTES)throw new RangeError("maxSingleShotSize option must be >= 0 and <= "+s.BLOCK_BLOB_MAX_UPLOAD_BLOB_BYTES);if(0===c.blockSize){if(n>s.BLOCK_BLOB_MAX_STAGE_BLOCK_BYTES*s.BLOCK_BLOB_MAX_BLOCKS)throw new RangeError(n+" is too larger to upload to a block blob.");n>c.maxSingleShotSize&&(c.blockSize=Math.ceil(n/s.BLOCK_BLOB_MAX_BLOCKS),c.blockSize<s.DEFAULT_BLOB_DOWNLOAD_BLOCK_BYTES&&(c.blockSize=s.DEFAULT_BLOB_DOWNLOAD_BLOCK_BYTES))}if(c.blobHTTPHeaders||(c.blobHTTPHeaders={}),c.blobAccessConditions||(c.blobAccessConditions={}),n<=c.maxSingleShotSize)return[2,l.upload(e,t(0,n),n,c)];if((d=Math.floor((n-1)/c.blockSize)+1)>s.BLOCK_BLOB_MAX_BLOCKS)throw new RangeError("The buffer's size is too big or the BlockSize is too small;the number of blocks must be <= "+s.BLOCK_BLOB_MAX_BLOCKS);for(u=[],p=Object(i.generateUuid)(),m=0,h=new o.Batch(c.parallelism),g=function(i){h.addOperation((function(){return r.__awaiter(v,void 0,void 0,(function(){var o,s,h;return r.__generator(this,(function(r){switch(r.label){case 0:return o=Object(a.generateBlockID)(p,i),s=c.blockSize*i,h=i===d-1?n:s+c.blockSize,h-=s,u.push(o),[4,l.stageBlock(e,o,t(s,h),h,{leaseAccessConditions:c.blobAccessConditions.leaseAccessConditions})];case 1:return r.sent(),m+=h,c.progress&&c.progress({loadedBytes:m}),[2]}}))}))}))},f=0;f<d;f++)g(f);return[4,h.do()];case 1:return y.sent(),[2,l.commitBlockList(e,u,c)]}}))}))}(e,(function(e,t){return c.slice(e,e+t)}),c.size,n,l)]}))}))}},"./node_modules/@azure/storage-blob/dist-esm/lib/index.browser.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js");n.d(t,"RestError",(function(){return r.RestError}));var i=n("./node_modules/@azure/storage-blob/dist-esm/lib/generated/lib/models/index.js");n.d(t,"Models",(function(){return i}));var o=n("./node_modules/@azure/storage-blob/dist-esm/lib/Aborter.js");n.d(t,"Aborter",(function(){return o.Aborter}));var s=n("./node_modules/@azure/storage-blob/dist-esm/lib/AppendBlobURL.js");n.d(t,"AppendBlobURL",(function(){return s.AppendBlobURL}));var a=n("./node_modules/@azure/storage-blob/dist-esm/lib/BlobURL.js");n.d(t,"BlobURL",(function(){return a.BlobURL}));var l=n("./node_modules/@azure/storage-blob/dist-esm/lib/BlockBlobURL.js");n.d(t,"BlockBlobURL",(function(){return l.BlockBlobURL}));var c=n("./node_modules/@azure/storage-blob/dist-esm/lib/BrowserPolicyFactory.js");n.d(t,"BrowserPolicyFactory",(function(){return c.BrowserPolicyFactory}));var d=n("./node_modules/@azure/storage-blob/dist-esm/lib/ContainerURL.js");n.d(t,"ContainerURL",(function(){return d.ContainerURL}));var u=n("./node_modules/@azure/storage-blob/dist-esm/lib/credentials/AnonymousCredential.js");n.d(t,"AnonymousCredential",(function(){return u.AnonymousCredential}));var p=n("./node_modules/@azure/storage-blob/dist-esm/lib/credentials/Credential.js");n.d(t,"Credential",(function(){return p.Credential}));var m=n("./node_modules/@azure/storage-blob/dist-esm/lib/credentials/TokenCredential.js");n.d(t,"TokenCredential",(function(){return m.TokenCredential}));var h=n("./node_modules/@azure/storage-blob/dist-esm/lib/highlevel.browser.js");n.d(t,"uploadBrowserDataToBlockBlob",(function(){return h.uploadBrowserDataToBlockBlob}));var g=n("./node_modules/@azure/storage-blob/dist-esm/lib/PageBlobURL.js");n.d(t,"PageBlobURL",(function(){return g.PageBlobURL}));var f=n("./node_modules/@azure/storage-blob/dist-esm/lib/Pipeline.js");n.d(t,"HttpHeaders",(function(){return f.HttpHeaders})),n.d(t,"HttpPipelineLogLevel",(function(){return f.HttpPipelineLogLevel})),n.d(t,"WebResource",(function(){return f.WebResource})),n.d(t,"BaseRequestPolicy",(function(){return f.BaseRequestPolicy})),n.d(t,"RequestPolicyOptions",(function(){return f.RequestPolicyOptions})),n.d(t,"Pipeline",(function(){return f.Pipeline}));var v=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/AnonymousCredentialPolicy.js");n.d(t,"AnonymousCredentialPolicy",(function(){return v.AnonymousCredentialPolicy}));var y=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/CredentialPolicy.js");n.d(t,"CredentialPolicy",(function(){return y.CredentialPolicy}));var b=n("./node_modules/@azure/storage-blob/dist-esm/lib/RetryPolicyFactory.js");n.d(t,"RetryPolicyFactory",(function(){return b.RetryPolicyFactory}));var S=n("./node_modules/@azure/storage-blob/dist-esm/lib/LoggingPolicyFactory.js");n.d(t,"LoggingPolicyFactory",(function(){return S.LoggingPolicyFactory}));var _=n("./node_modules/@azure/storage-blob/dist-esm/lib/TelemetryPolicyFactory.js");n.d(t,"TelemetryPolicyFactory",(function(){return _.TelemetryPolicyFactory}));var C=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/TokenCredentialPolicy.js");n.d(t,"TokenCredentialPolicy",(function(){return C.TokenCredentialPolicy}));var $=n("./node_modules/@azure/storage-blob/dist-esm/lib/UniqueRequestIDPolicyFactory.js");n.d(t,"UniqueRequestIDPolicyFactory",(function(){return $.UniqueRequestIDPolicyFactory}));var w=n("./node_modules/@azure/storage-blob/dist-esm/lib/ServiceURL.js");n.d(t,"ServiceURL",(function(){return w.ServiceURL}));var M=n("./node_modules/@azure/storage-blob/dist-esm/lib/StorageURL.js");n.d(t,"deserializationPolicy",(function(){return M.deserializationPolicy})),n.d(t,"StorageURL",(function(){return M.StorageURL}))},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/AnonymousCredentialPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AnonymousCredentialPolicy",(function(){return i}));t=n("./node_modules/tslib/tslib.es6.js"),n=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/CredentialPolicy.js");var r,i=(r=n.CredentialPolicy,t.__extends(o,r),o);function o(e,t){return r.call(this,e,t)||this}},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/BrowserPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserPolicy",(function(){return l}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),l=(r=o.BaseRequestPolicy,i.__extends(c,r),c.prototype.sendRequest=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return o.isNode||("GET"!==e.method.toUpperCase()&&"HEAD"!==e.method.toUpperCase()||(e.url=Object(a.setURLParameter)(e.url,s.URLConstants.Parameters.FORCE_BROWSER_NO_CACHE,(new Date).getTime().toString())),e.headers.remove(s.HeaderConstants.COOKIE),e.headers.remove(s.HeaderConstants.CONTENT_LENGTH)),[2,this._nextPolicy.sendRequest(e)]}))}))},c);function c(e,t){return r.call(this,e,t)||this}},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/CredentialPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CredentialPolicy",(function(){return i}));t=n("./node_modules/tslib/tslib.es6.js"),n=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js");var r,i=(r=n.BaseRequestPolicy,t.__extends(o,r),o.prototype.sendRequest=function(e){return this._nextPolicy.sendRequest(this.signRequest(e))},o.prototype.signRequest=function(e){return e},o);function o(){return null!==r&&r.apply(this,arguments)||this}},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/LoggingPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LoggingPolicy",(function(){return c}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js"),l={logWarningIfTryOverThreshold:3e3},c=(r=o.BaseRequestPolicy,i.__extends(d,r),d.prototype.sendRequest=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,l,c,d;return i.__generator(this,(function(i){switch(i.label){case 0:this.tryCount++,this.requestStartTime=new Date,1===this.tryCount&&(this.operationStartTime=this.requestStartTime),r=e.url,Object(a.getURLParameter)(r,s.URLConstants.Parameters.SIGNATURE)&&(r=Object(a.setURLParameter)(r,s.URLConstants.Parameters.SIGNATURE,"*****")),this.log(o.HttpPipelineLogLevel.INFO,"'"+r+"'==> OUTGOING REQUEST (Try number="+this.tryCount+")."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._nextPolicy.sendRequest(e)];case 2:return d=i.sent(),l=new Date,t=l.getTime()-this.requestStartTime.getTime(),c=l.getTime()-this.operationStartTime.getTime(),n=o.HttpPipelineLogLevel.INFO,r="",this.shouldLog(o.HttpPipelineLogLevel.INFO)&&(r="Successfully Received Response. "),t>=this.loggingOptions.logWarningIfTryOverThreshold&&this.shouldLog(o.HttpPipelineLogLevel.WARNING)&&(n=o.HttpPipelineLogLevel.WARNING,r="SLOW OPERATION. Duration > "+this.loggingOptions.logWarningIfTryOverThreshold+" ms. "),(400<=d.status&&d.status<=499&&d.status!==s.HTTPURLConnection.HTTP_NOT_FOUND&&d.status!==s.HTTPURLConnection.HTTP_CONFLICT&&d.status!==s.HTTPURLConnection.HTTP_PRECON_FAILED&&d.status!==s.HTTPURLConnection.HTTP_RANGE_NOT_SATISFIABLE||500<=d.status&&d.status<=509)&&(l="REQUEST ERROR: HTTP request failed with status code: "+d.status+". ",r=l,n=o.HttpPipelineLogLevel.ERROR),c="Request try:"+this.tryCount+", status:"+d.status+" request duration:"+t+" ms, operation duration:"+c+" ms\n",this.log(n,r+c),[2,d];case 3:throw d=i.sent(),this.log(o.HttpPipelineLogLevel.ERROR,"Unexpected failure attempting to make request. Error message: "+d.message),d;case 4:return[2]}}))}))},d);function d(e,t,n){return void 0===n&&(n=l),(t=r.call(this,e,t)||this).tryCount=0,t.operationStartTime=new Date,t.requestStartTime=new Date,t.loggingOptions=n,t}},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/RetryPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"NewRetryPolicyFactory",(function(){return l})),n.d(t,"RetryPolicyType",(function(){return r})),n.d(t,"RetryPolicy",(function(){return u}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js");function l(e){return{create:function(t,n){return new u(t,n,e)}}}(n=r=r||{})[n.EXPONENTIAL=0]="EXPONENTIAL",n[n.FIXED=1]="FIXED";var c,d={maxRetryDelayInMs:12e4,maxTries:4,retryDelayInMs:4e3,retryPolicyType:r.EXPONENTIAL,secondaryHost:"",tryTimeoutInMs:void 0},u=(c=o.BaseRequestPolicy,i.__extends(p,c),p.prototype.sendRequest=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.attemptSendRequest(e,!1,1)]}))}))},p.prototype.attemptSendRequest=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,l,c;return i.__generator(this,(function(i){switch(i.label){case 0:c=e.clone(),(r=t||!this.retryOptions.secondaryHost||!("GET"===e.method||"HEAD"===e.method||"OPTIONS"===e.method)||n%2==1)||(c.url=Object(a.setURLHost)(c.url,this.retryOptions.secondaryHost)),this.retryOptions.tryTimeoutInMs&&(c.url=Object(a.setURLParameter)(c.url,s.URLConstants.Parameters.TIMEOUT,Math.floor(this.retryOptions.tryTimeoutInMs/1e3).toString())),i.label=1;case 1:return i.trys.push([1,3,,4]),this.logf(o.HttpPipelineLogLevel.INFO,"RetryPolicy: =====> Try="+n+" "+(r?"Primary":"Secondary")),[4,this._nextPolicy.sendRequest(c)];case 2:return l=i.sent(),this.shouldRetry(r,n,l)?(t=t||!r&&404===l.status,[3,4]):[2,l];case 3:if(c=i.sent(),this.logf(o.HttpPipelineLogLevel.ERROR,"RetryPolicy: Caught error, message: "+c.message+", code: "+c.code),!this.shouldRetry(r,n,l,c))throw c;return[3,4];case 4:return[4,this.delay(r,n)];case 5:return i.sent(),[4,this.attemptSendRequest(e,t,++n)];case 6:return[2,i.sent()]}}))}))},p.prototype.shouldRetry=function(e,t,n,r){if(t>=this.retryOptions.maxTries)return this.logf(o.HttpPipelineLogLevel.INFO,"RetryPolicy: Attempt(s) "+t+" >= maxTries "+this.retryOptions.maxTries+", no further try."),!1;if(r)for(var i=0,s=["ETIMEDOUT","ESOCKETTIMEDOUT","ECONNREFUSED","ECONNRESET","ENOENT","ENOTFOUND","TIMEOUT","REQUEST_SEND_ERROR"];i<s.length;i++){var a=s[i];if(r.name.toUpperCase().includes(a)||r.message.toUpperCase().includes(a)||r.code&&r.code.toUpperCase().includes(a))return this.logf(o.HttpPipelineLogLevel.INFO,"RetryPolicy: Network error "+a+" found, will retry."),!0}if(n||r){if(n=n?n.status:r?r.statusCode:0,!e&&404===n)return this.logf(o.HttpPipelineLogLevel.INFO,"RetryPolicy: Secondary access with 404, will retry."),!0;if(503===n||500===n)return this.logf(o.HttpPipelineLogLevel.INFO,"RetryPolicy: Will retry for status code "+n+"."),!0}return!1},p.prototype.logf=function(e,t){},p.prototype.delay=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(i){if(n=0,e)switch(this.retryOptions.retryPolicyType){case r.EXPONENTIAL:n=Math.min((Math.pow(2,t-1)-1)*this.retryOptions.retryDelayInMs,this.retryOptions.maxRetryDelayInMs);break;case r.FIXED:n=this.retryOptions.retryDelayInMs}else n=1e3*Math.random();return this.logf(o.HttpPipelineLogLevel.INFO,"RetryPolicy: Delay for "+n+"ms"),[2,Object(o.delay)(n)]}))}))},p);function p(e,t,n){return void 0===n&&(n=d),(t=c.call(this,e,t)||this).retryOptions={retryPolicyType:n.retryPolicyType||d.retryPolicyType,maxTries:n.maxTries&&1<=n.maxTries?Math.floor(n.maxTries):d.maxTries,tryTimeoutInMs:(n.tryTimeoutInMs&&0<=n.tryTimeoutInMs?n:d).tryTimeoutInMs,retryDelayInMs:n.retryDelayInMs&&0<=n.retryDelayInMs?Math.min(n.retryDelayInMs,n.maxRetryDelayInMs||d.maxRetryDelayInMs):d.retryDelayInMs,maxRetryDelayInMs:(n.maxRetryDelayInMs&&0<=n.maxRetryDelayInMs?n:d).maxRetryDelayInMs,secondaryHost:n.secondaryHost||d.secondaryHost},t}},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/TelemetryPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TelemetryPolicy",(function(){return a}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=(r=o.BaseRequestPolicy,i.__extends(l,r),l.prototype.sendRequest=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return o.isNode&&(e.headers||(e.headers=new o.HttpHeaders),e.headers.get(s.HeaderConstants.USER_AGENT)||e.headers.set(s.HeaderConstants.USER_AGENT,this.telemetry)),[2,this._nextPolicy.sendRequest(e)]}))}))},l);function l(e,t,n){return(t=r.call(this,e,t)||this).telemetry=n,t}},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/TokenCredentialPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TokenCredentialPolicy",(function(){return s}));t=n("./node_modules/tslib/tslib.es6.js");var r,i=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),o=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),s=(n=n("./node_modules/@azure/storage-blob/dist-esm/lib/policies/CredentialPolicy.js"),r=n.CredentialPolicy,t.__extends(a,r),a.prototype.signRequest=function(e){return e.headers||(e.headers=new i.HttpHeaders),e.headers.set(o.HeaderConstants.AUTHORIZATION,this.authorizationScheme+" "+this.tokenCredential.token),e},a);function a(e,t,n){return(t=r.call(this,e,t)||this).tokenCredential=n,t.authorizationScheme=o.HeaderConstants.AUTHORIZATION_SCHEME,t}},"./node_modules/@azure/storage-blob/dist-esm/lib/policies/UniqueRequestIDPolicy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UniqueRequestIDPolicy",(function(){return a}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js"),s=n("./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js"),a=(r=o.BaseRequestPolicy,i.__extends(l,r),l.prototype.sendRequest=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.headers.contains(s.HeaderConstants.X_MS_CLIENT_REQUEST_ID)||e.headers.set(s.HeaderConstants.X_MS_CLIENT_REQUEST_ID,Object(o.generateUuid)()),[2,this._nextPolicy.sendRequest(e)]}))}))},l);function l(e,t){return r.call(this,e,t)||this}},"./node_modules/@azure/storage-blob/dist-esm/lib/utils/Batch.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Batch",(function(){return s}));var r,i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/node-libs-browser/node_modules/events/events.js");(n=r=r||{})[n.Good=0]="Good",n[n.Error=1]="Error";var s=(a.prototype.addOperation=function(e){var t=this;this.operations.push((function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.actives++,[4,e()];case 1:return n.sent(),this.actives--,this.completed++,this.parallelExecute(),[3,3];case 2:return t=n.sent(),this.emitter.emit("error",t),[3,3];case 3:return[2]}}))}))}))},a.prototype.do=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){return this.parallelExecute(),[2,new Promise((function(t,n){e.emitter.on("finish",t),e.emitter.on("error",(function(t){e.state=r.Error,n(t)}))}))]}))}))},a.prototype.nextOperation=function(){return this.offset<this.operations.length?this.operations[this.offset++]:null},a.prototype.parallelExecute=function(){if(this.state!==r.Error)if(this.completed>=this.operations.length)this.emitter.emit("finish");else for(;this.actives<this.concurrency;){var e=this.nextOperation();if(!e)return;e()}},a);function a(e){if(void 0===e&&(e=5),this.actives=0,this.completed=0,this.offset=0,this.operations=[],this.state=r.Good,e<1)throw new RangeError("concurrency must be larger than 0");this.concurrency=e,this.emitter=new o.EventEmitter}},"./node_modules/@azure/storage-blob/dist-esm/lib/utils/constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return r})),n.d(t,"SERVICE_VERSION",(function(){return i})),n.d(t,"BLOCK_BLOB_MAX_UPLOAD_BLOB_BYTES",(function(){return o})),n.d(t,"BLOCK_BLOB_MAX_STAGE_BLOCK_BYTES",(function(){return s})),n.d(t,"BLOCK_BLOB_MAX_BLOCKS",(function(){return a})),n.d(t,"DEFAULT_BLOB_DOWNLOAD_BLOCK_BYTES",(function(){return l})),n.d(t,"DEFAULT_MAX_DOWNLOAD_RETRY_REQUESTS",(function(){return c})),n.d(t,"URLConstants",(function(){return d})),n.d(t,"HTTPURLConnection",(function(){return u})),n.d(t,"HeaderConstants",(function(){return p})),n.d(t,"ETagNone",(function(){return m})),n.d(t,"ETagAny",(function(){return h}));var r="10.3.0",i="2018-03-28",o=268435456,s=104857600,a=5e4,l=4194304,c=5,d={Parameters:{FORCE_BROWSER_NO_CACHE:"_",SIGNATURE:"sig",SNAPSHOT:"snapshot",TIMEOUT:"timeout"}},u={HTTP_CONFLICT:409,HTTP_NOT_FOUND:404,HTTP_PRECON_FAILED:412,HTTP_RANGE_NOT_SATISFIABLE:416},p={AUTHORIZATION:"authorization",AUTHORIZATION_SCHEME:"Bearer",CONTENT_ENCODING:"content-encoding",CONTENT_LANGUAGE:"content-language",CONTENT_LENGTH:"content-length",CONTENT_MD5:"content-md5",CONTENT_TYPE:"content-type",COOKIE:"Cookie",DATE:"date",IF_MATCH:"if-match",IF_MODIFIED_SINCE:"if-modified-since",IF_NONE_MATCH:"if-none-match",IF_UNMODIFIED_SINCE:"if-unmodified-since",PREFIX_FOR_STORAGE:"x-ms-",RANGE:"Range",USER_AGENT:"User-Agent",X_MS_CLIENT_REQUEST_ID:"x-ms-client-request-id",X_MS_DATE:"x-ms-date"},m="",h="*"},"./node_modules/@azure/storage-blob/dist-esm/lib/utils/utils.common.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"escapeURLPath",(function(){return i})),n.d(t,"appendToURLPath",(function(){return o})),n.d(t,"setURLParameter",(function(){return s})),n.d(t,"getURLParameter",(function(){return a})),n.d(t,"setURLHost",(function(){return l})),n.d(t,"getURLPath",(function(){return c})),n.d(t,"getURLQueries",(function(){return d})),n.d(t,"truncatedISO8061Date",(function(){return u})),n.d(t,"base64encode",(function(){return p})),n.d(t,"base64decode",(function(){return m})),n.d(t,"generateBlockID",(function(){return h})),n.d(t,"padStart",(function(){return g}));var r=n("./node_modules/@azure/ms-rest-js/es/lib/msRest.js");function i(e){var t=r.URLBuilder.parse(e);e=(e=t.getPath())||"/";return e=encodeURIComponent(e).replace(/%2F/g,"/").replace(/'/g,"%27").replace(/\+/g,"%20").replace(/%25/g,"%"),t.setPath(e),t.toString()}function o(e,t){var n=r.URLBuilder.parse(e);e=(e=n.getPath())?e.endsWith("/")?""+e+t:e+"/"+t:t;return n.setPath(e),n.toString()}function s(e,t,n){return(e=r.URLBuilder.parse(e)).setQueryParameter(t,n),e.toString()}function a(e,t){return r.URLBuilder.parse(e).getQueryParameterValue(t)}function l(e,t){return(e=r.URLBuilder.parse(e)).setHost(t),e.toString()}function c(e){return r.URLBuilder.parse(e).getPath()}function d(e){if(!(e=r.URLBuilder.parse(e).getQuery()))return{};for(var t={},n=0,i=(e=(e=e.trim()).startsWith("?")?e.substr(1):e).split("&").filter((function(e){var t=e.indexOf("="),n=e.lastIndexOf("=");return 0<t&&t===n&&n<e.length-1}));n<i.length;n++){var o=(s=i[n].split("="))[0],s=s[1];t[o]=s}return t}function u(e,t){return void 0===t&&(t=!0),e=e.toISOString(),t?e.substring(0,e.length-1)+"0000Z":e.substring(0,e.length-5)+"Z"}function p(t){return r.isNode?e.from(t).toString("base64"):btoa(t)}function m(t){return r.isNode?e.from(t,"base64").toString():atob(t)}function h(e,t){return 42<e.length&&(e=e.slice(0,42)),p(e+g(t.toString(),48-e.length,"0"))}function g(e,t,n){return void 0===n&&(n=" "),String.prototype.padStart?e.padStart(t,n):(n=n||" ",e.length>t?e:((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+e))}}.call(this,n("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/@msstream/utilities-browser/index.ts":function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@msstream/utilities-browser/src/BrowserUtils.ts")),r(n("./node_modules/@msstream/utilities-browser/src/BrowserTiming.td.ts")),r(n("./node_modules/@msstream/utilities-browser/src/StorageLock.ts"))},"./node_modules/@msstream/utilities-browser/src/BrowserTiming.td.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.BrowserTimingMethod||(t.BrowserTimingMethod={})).PerformanceNavigationTiming="PerformanceNavigationTiming",t.NavigationTiming="NavigationTiming",t.Estimated="Estimated"},"./node_modules/@msstream/utilities-browser/src/BrowserUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/utilities-browser/src/BrowserTiming.td.ts"),i=n("./node_modules/@msstream/utilities-browser/src/Constants/index.ts");function o(e,t){for(var n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length),o=0;o<i;o++){var s=parseInt(n[o],10)||0,a=parseInt(r[o],10)||0;if(a<s)return!0;if(s<a)return!1}return!0}function s(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext)}t.isLocalStorageSupported=function(){try{var e=window.localStorage;return void 0!==e&&(e.setItem("key","value"),e.removeItem("key"),!0)}catch(e){return!1}},t.generateSmallId=function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz",t="A",n=0;n<10;n++)t+=e[Math.floor(Math.random()*e.length)];return t},t.isCookiesSupported=function(){try{var e,t="__cookie_test_key__",n="secure; samesite=none";return document.cookie=t+"=1; "+n,document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t),document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT; "+n,document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},t.isIOS=function(e){if(window.MSStream)return!1;if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)return!1;if(e){var t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return!!t&&o([parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||"0",10)].join("."),e)}return!0},t.isIphone=function(){return/iPhone/.test(navigator.userAgent)&&!window.MSStream},t.isEmbedded=function(){try{return window.top!==window.self}catch(e){return!0}},t.isMinimumVersionInstalled=o,t.isIE=s,t.isUnsupportedFlashVersionInstalled=function(e){return!(!e||!0!==o(e,"30")||!1!==o(e,"30.0.0.154"))},t.getLocationOrigin=function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},window.estimatedNavigationStartTime||(window.estimatedNavigationStartTime=new Date),t.getBrowserTiming=function(){if(window.performance&&window.performance.measure){window.performance.measure("MsSinceNavigationStart");var e=window.performance.getEntriesByName("MsSinceNavigationStart","measure");if(1===e.length)return window.performance.clearMeasures("MsSinceNavigationStart"),{Method:r.BrowserTimingMethod.PerformanceNavigationTiming,MsSinceNavigationStart:e[0].duration}}return window.performance&&window.performance.timing?{Method:r.BrowserTimingMethod.NavigationTiming,MsSinceNavigationStart:Date.now()-window.performance.timing.navigationStart}:window.estimatedNavigationStartTime?{Method:r.BrowserTimingMethod.Estimated,MsSinceNavigationStart:Date.now()-window.estimatedNavigationStartTime.getTime()}:void 0},t.ensureLocalStorageIsSynced=function(){var e=window.localStorage;void 0!==e&&s()&&e.setItem("bugfix_forceSync",Date.now().toString())},t.trapFocusInElement=function(e,t){var n;"Tab"===t.code&&(n=e.querySelectorAll(i.focusableElements.join(", ")),e=document.activeElement,t.shiftKey&&e===n[0]?(t.preventDefault(),n[n.length-1].focus()):t.shiftKey||e!==n[n.length-1]||(t.preventDefault(),n[0].focus()))},t.getBrowserLanguages=function(){return navigator.languages||[navigator.language]},t.createEventTarget=function(){try{return new EventTarget}catch(e){return document.createElement("div")}}},"./node_modules/@msstream/utilities-browser/src/Constants/browserConstants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.focusableElements=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},"./node_modules/@msstream/utilities-browser/src/Constants/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./node_modules/@msstream/utilities-browser/src/Constants/browserConstants.ts"))},"./node_modules/@msstream/utilities-browser/src/StorageLock.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/utilities-browser/src/BrowserUtils.ts");function i(e){this.lockId=e,this.keepAliveTimerId=void 0}t.keepAliveMs=2500,i.prototype.lock=function(){return!r.isLocalStorageSupported()||!this.isHeld()&&this.touchLock()},i.prototype.released=function(){var e=this;return r.isLocalStorageSupported()?Promise.resolve():new Promise((function(t){var n=setInterval((function(){e.isHeld()||(clearInterval(n),t())}),500)}))},i.prototype.isMine=function(){return void 0!==this.keepAliveTimerId},i.prototype.unlock=function(){r.isLocalStorageSupported()&&this.keepAliveTimerId&&(this.cancelKeepAliveTimer(),i.storage.removeItem(this.itemName))},Object.defineProperty(i.prototype,"itemName",{get:function(){return"_lslock::"+this.lockId},enumerable:!0,configurable:!0}),i.prototype.touchLock=function(){try{i.storage.setItem(this.itemName,Date.now().toString())}catch(e){return!1}return this.scheduleNextTouchLock(),!0},i.prototype.isHeld=function(){r.ensureLocalStorageIsSynced();var e=i.storage.getItem(this.itemName);return!!e&&(e=Number(e),!isNaN(e)&&Date.now()-e<=t.keepAliveMs)},i.prototype.scheduleNextTouchLock=function(){var e=this;this.cancelKeepAliveTimer(),this.keepAliveTimerId=window.setTimeout((function(){e.touchLock()}),t.keepAliveMs/2)},i.prototype.cancelKeepAliveTimer=function(){this.keepAliveTimerId&&(clearTimeout(this.keepAliveTimerId),this.keepAliveTimerId=void 0)},i.storage=r.isLocalStorageSupported()?window.localStorage:null,n=i,t.LocalStorageLock=n},"./node_modules/base64-js/index.js":function(e,t,n){"use strict";t.byteLength=function(e){var t;return 3*((e=(t=c(e))[0])+(t=t[1]))/4-t},t.toByteArray=function(e){var t,n,r=(s=c(e))[0],s=s[1],a=new o(function(e,t){return 3*(e+t)/4-t}(r,s)),l=0,d=0<s?r-4:r;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,a[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t),a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(function(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}(i));return o.join("")}(e,s,a<s+16383?a:s+16383));return 1==i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2==i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return-1===(e=e.indexOf("="))&&(e=t),[e,e===t?0:4-e%4]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/core-js/es/array/includes.js":function(e,t,n){n("./node_modules/core-js/modules/es.array.includes.js"),e.exports=n("./node_modules/core-js/internals/entry-unbind.js")("Array","includes")},"./node_modules/core-js/es/map/index.js":function(e,t,n){n("./node_modules/core-js/modules/es.map.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),e.exports=n("./node_modules/core-js/internals/path.js").Map},"./node_modules/core-js/es/object/keys.js":function(e,t,n){n("./node_modules/core-js/modules/es.object.keys.js"),e.exports=n("./node_modules/core-js/internals/path.js").Object.keys},"./node_modules/core-js/es/promise/index.js":function(e,t,n){n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.promise.finally.js"),e.exports=n("./node_modules/core-js/internals/path.js").Promise},"./node_modules/core-js/es/set/index.js":function(e,t,n){n("./node_modules/core-js/modules/es.set.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),e.exports=n("./node_modules/core-js/internals/path.js").Set},"./node_modules/core-js/es/string/includes.js":function(e,t,n){n("./node_modules/core-js/modules/es.string.includes.js"),e.exports=n("./node_modules/core-js/internals/entry-unbind.js")("String","includes")},"./node_modules/core-js/es/string/repeat.js":function(e,t,n){n("./node_modules/core-js/modules/es.string.repeat.js"),e.exports=n("./node_modules/core-js/internals/entry-unbind.js")("String","repeat")},"./node_modules/core-js/es/string/starts-with.js":function(e,t,n){n("./node_modules/core-js/modules/es.string.starts-with.js"),e.exports=n("./node_modules/core-js/internals/entry-unbind.js")("String","startsWith")},"./node_modules/core-js/es/string/virtual/ends-with.js":function(e,t,n){n("./node_modules/core-js/modules/es.string.ends-with.js"),e.exports=n("./node_modules/core-js/internals/entry-virtual.js")("String").endsWith},"./node_modules/core-js/es/symbol/index.js":function(e,t,n){n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.async-iterator.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.has-instance.js"),n("./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.symbol.match.js"),n("./node_modules/core-js/modules/es.symbol.replace.js"),n("./node_modules/core-js/modules/es.symbol.search.js"),n("./node_modules/core-js/modules/es.symbol.species.js"),n("./node_modules/core-js/modules/es.symbol.split.js"),n("./node_modules/core-js/modules/es.symbol.to-primitive.js"),n("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),n("./node_modules/core-js/modules/es.symbol.unscopables.js"),n("./node_modules/core-js/modules/es.math.to-string-tag.js"),n("./node_modules/core-js/modules/es.json.to-string-tag.js"),e.exports=n("./node_modules/core-js/internals/path.js").Symbol},"./node_modules/core-js/features/array/includes.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/array/includes.js")},"./node_modules/core-js/features/map/index.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/map/index.js"),n("./node_modules/core-js/modules/esnext.map.from.js"),n("./node_modules/core-js/modules/esnext.map.of.js"),n("./node_modules/core-js/modules/esnext.map.delete-all.js"),n("./node_modules/core-js/modules/esnext.map.every.js"),n("./node_modules/core-js/modules/esnext.map.filter.js"),n("./node_modules/core-js/modules/esnext.map.find.js"),n("./node_modules/core-js/modules/esnext.map.find-key.js"),n("./node_modules/core-js/modules/esnext.map.group-by.js"),n("./node_modules/core-js/modules/esnext.map.includes.js"),n("./node_modules/core-js/modules/esnext.map.key-by.js"),n("./node_modules/core-js/modules/esnext.map.key-of.js"),n("./node_modules/core-js/modules/esnext.map.map-keys.js"),n("./node_modules/core-js/modules/esnext.map.map-values.js"),n("./node_modules/core-js/modules/esnext.map.merge.js"),n("./node_modules/core-js/modules/esnext.map.reduce.js"),n("./node_modules/core-js/modules/esnext.map.some.js"),n("./node_modules/core-js/modules/esnext.map.update.js")},"./node_modules/core-js/features/object/keys.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/object/keys.js")},"./node_modules/core-js/features/promise/index.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/promise/index.js"),n("./node_modules/core-js/modules/esnext.aggregate-error.js"),n("./node_modules/core-js/modules/esnext.promise.all-settled.js"),n("./node_modules/core-js/modules/esnext.promise.try.js"),n("./node_modules/core-js/modules/esnext.promise.any.js")},"./node_modules/core-js/features/set/index.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/set/index.js"),n("./node_modules/core-js/modules/esnext.set.from.js"),n("./node_modules/core-js/modules/esnext.set.of.js"),n("./node_modules/core-js/modules/esnext.set.add-all.js"),n("./node_modules/core-js/modules/esnext.set.delete-all.js"),n("./node_modules/core-js/modules/esnext.set.every.js"),n("./node_modules/core-js/modules/esnext.set.difference.js"),n("./node_modules/core-js/modules/esnext.set.filter.js"),n("./node_modules/core-js/modules/esnext.set.find.js"),n("./node_modules/core-js/modules/esnext.set.intersection.js"),n("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("./node_modules/core-js/modules/esnext.set.join.js"),n("./node_modules/core-js/modules/esnext.set.map.js"),n("./node_modules/core-js/modules/esnext.set.reduce.js"),n("./node_modules/core-js/modules/esnext.set.some.js"),n("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("./node_modules/core-js/modules/esnext.set.union.js")},"./node_modules/core-js/features/string/includes.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/string/includes.js")},"./node_modules/core-js/features/string/repeat.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/string/repeat.js")},"./node_modules/core-js/features/string/starts-with.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/string/starts-with.js")},"./node_modules/core-js/features/string/virtual/ends-with.js":function(e,t,n){e.exports=n("./node_modules/core-js/es/string/virtual/ends-with.js")},"./node_modules/core-js/internals/a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"./node_modules/core-js/internals/add-to-unscopables.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js")("unscopables"),i=n("./node_modules/core-js/internals/object-create.js"),o=(n=n("./node_modules/core-js/internals/hide.js"),Array.prototype);null==o[r]&&n(o,r,i(null)),e.exports=function(e){o[r][e]=!0}},"./node_modules/core-js/internals/an-instance.js":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"./node_modules/core-js/internals/an-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"./node_modules/core-js/internals/array-includes.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/to-length.js"),o=n("./node_modules/core-js/internals/to-absolute-index.js");e.exports=function(e){return function(t,n,s){var a,l=r(t),c=i(l.length),d=o(s,c);if(e&&n!=n){for(;d<c;)if((a=l[d++])!=a)return!0}else for(;d<c;d++)if((e||d in l)&&l[d]===n)return e||d||0;return!e&&-1}}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e){return!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"./node_modules/core-js/internals/array-species-create.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/is-array.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var n;return i(e)&&("function"==typeof(n=e.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[o]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"./node_modules/core-js/internals/bind-context.js":function(e,t,n){var r=n("./node_modules/core-js/internals/a-function.js");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},"./node_modules/core-js/internals/classof-raw.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?e:o?r(t):"Object"==(e=r(t))&&"function"==typeof t.callee?"Arguments":e}},"./node_modules/core-js/internals/collection-add-all.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js");e.exports=function(){for(var e=r(this),t=i(e.add),n=0,o=arguments.length;n<o;n++)t.call(e,arguments[n]);return e}},"./node_modules/core-js/internals/collection-delete-all.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js");e.exports=function(){for(var e=r(this),t=i(e.delete),n=!0,o=0,s=arguments.length;o<s;o++)n=n&&t.call(e,arguments[o]);return!!n}},"./node_modules/core-js/internals/collection-from.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/a-function.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/iterate.js");e.exports=function(e,t,n){var s,a,l,c=t;return r(this),(t=void 0!==c)&&r(c),null==e?new this:(s=[],t?(a=0,l=i(c,n,2),o(e,(function(e){s.push(l(e,a++))}))):o(e,s.push,s),new this(s))}},"./node_modules/core-js/internals/collection-of.js":function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},"./node_modules/core-js/internals/collection-strong.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/object-define-property.js").f,i=n("./node_modules/core-js/internals/object-create.js"),o=n("./node_modules/core-js/internals/redefine-all.js"),s=n("./node_modules/core-js/internals/bind-context.js"),a=n("./node_modules/core-js/internals/an-instance.js"),l=n("./node_modules/core-js/internals/iterate.js"),c=n("./node_modules/core-js/internals/define-iterator.js"),d=n("./node_modules/core-js/internals/set-species.js"),u=n("./node_modules/core-js/internals/descriptors.js"),p=n("./node_modules/core-js/internals/internal-metadata.js").fastKey,m=(n=n("./node_modules/core-js/internals/internal-state.js")).set,h=n.getterFor;e.exports={getConstructor:function(e,t,n,c){function d(e,t,n){var r,i=f(e),o=v(e,t);return o?o.value=n:(i.last=o={index:r=p(t,!0),key:t,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),u?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}var g=e((function(e,r){a(e,g,t),m(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),u||(e.size=0),null!=r&&l(r,e[c],e,n)})),f=h(t),v=function(e,t){var n,r=f(e);if("F"!==(e=p(t)))return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(g.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,u?e.size=0:this.size=0},delete:function(e){var t,n=f(this),r=v(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),u?n.size--:this.size--),!!r},forEach:function(e,t){for(var n,r=f(this),i=s(e,1<arguments.length?t:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(e){return!!v(this,e)}}),o(g.prototype,n?{get:function(e){return(e=v(this,e))&&e.value},set:function(e,t){return d(this,0===e?0:e,t)}}:{add:function(e){return d(this,e=0===e?0:e,e)}}),u&&r(g.prototype,"size",{get:function(){return f(this).size}}),g},setStrong:function(e,t,n){var r=t+" Iterator",i=h(t),o=h(r);c(e,t,(function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),d(t)}}},"./node_modules/core-js/internals/collection.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/is-forced.js"),o=n("./node_modules/core-js/internals/export.js"),s=n("./node_modules/core-js/internals/redefine.js"),a=n("./node_modules/core-js/internals/internal-metadata.js"),l=n("./node_modules/core-js/internals/iterate.js"),c=n("./node_modules/core-js/internals/an-instance.js"),d=n("./node_modules/core-js/internals/is-object.js"),u=n("./node_modules/core-js/internals/fails.js"),p=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),m=n("./node_modules/core-js/internals/set-to-string-tag.js"),h=n("./node_modules/core-js/internals/inherit-if-required.js");e.exports=function(e,t,n,g,f){function v(e){var t=w[e];s(w,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(f&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return f&&!d(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(f&&!d(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})}var y,b,S,_,C,$=r[e],w=$&&$.prototype,M=$,T=g?"set":"add",k={};return i(e,"function"!=typeof $||!(f||w.forEach&&!u((function(){(new $).entries().next()}))))?(M=n.getConstructor(t,e,g,T),a.REQUIRED=!0):i(e,!0)&&(b=(y=new M)[T](f?{}:-0,1)!=y,S=u((function(){y.has(1)})),_=p((function(e){new $(e)})),C=!f&&u((function(){for(var e=new $,t=5;t--;)e[T](t,t);return!e.has(-0)})),_||(((M=t((function(t,n){return c(t,M,e),t=h(new $,t,M),null!=n&&l(n,t[T],t,g),t}))).prototype=w).constructor=M),(S||C)&&(v("delete"),v("has"),g&&v("get")),(C||b)&&v(T),f&&w.clear&&delete w.clear),k[e]=M,o({global:!0,forced:M!=$},k),m(M,e),f||n.setStrong(M,e,g),M}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/own-keys.js"),o=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),s=n("./node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t){for(var n=i(t),a=s.f,l=o.f,c=0;c<n.length;c++){var d=n[c];r(e,d)||a(e,d,l(t,d))}}},"./node_modules/core-js/internals/correct-is-regexp-logic.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,n){e.exports=!n("./node_modules/core-js/internals/fails.js")((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"./node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,n){"use strict";function r(){return this}var i=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,o=n("./node_modules/core-js/internals/object-create.js"),s=n("./node_modules/core-js/internals/create-property-descriptor.js"),a=n("./node_modules/core-js/internals/set-to-string-tag.js"),l=n("./node_modules/core-js/internals/iterators.js");e.exports=function(e,t,n){return t+=" Iterator",e.prototype=o(i,{next:s(1,n)}),a(e,t,!1,!0),l[t]=r,e}},"./node_modules/core-js/internals/create-property-descriptor.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/internals/create-property.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-primitive.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),o=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,n){(t=r(t))in e?i.f(e,t,o(0,n)):e[t]=n}},"./node_modules/core-js/internals/define-iterator.js":function(e,t,n){"use strict";function r(){return this}var i=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-iterator-constructor.js"),s=n("./node_modules/core-js/internals/object-get-prototype-of.js"),a=n("./node_modules/core-js/internals/object-set-prototype-of.js"),l=n("./node_modules/core-js/internals/set-to-string-tag.js"),c=n("./node_modules/core-js/internals/hide.js"),d=n("./node_modules/core-js/internals/redefine.js"),u=n("./node_modules/core-js/internals/is-pure.js"),p=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),m=n("./node_modules/core-js/internals/iterators.js"),h=(n=n("./node_modules/core-js/internals/iterators-core.js")).IteratorPrototype,g=n.BUGGY_SAFARI_ITERATORS,f="values";e.exports=function(e,t,n,v,y,b,S){function _(e){if(e===y&&P)return P;if(!g&&e in T)return T[e];switch(e){case"keys":case f:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}o(n,t,v);var C,$,w=t+" Iterator",M=!1,T=e.prototype,k=T[p]||T["@@iterator"]||y&&T[y],P=!g&&k||_(y);if((v="Array"==t&&T.entries||k)&&(e=s(v.call(new e)),h!==Object.prototype&&e.next&&(u||s(e)===h||(a?a(e,h):"function"!=typeof e[p]&&c(e,p,r)),l(e,w,!0,!0),u&&(m[w]=r))),y==f&&k&&k.name!==f&&(M=!0,P=function(){return k.call(this)}),u&&!S||T[p]===P||c(T,p,P),m[t]=P,y)if(C={values:_(f),keys:b?P:_("keys"),entries:_("entries")},S)for($ in C)!g&&!M&&$ in T||d(T,$,C[$]);else i({target:t,proto:!0,forced:g||M},C);return C}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/path.js"),i=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/wrapped-well-known-symbol.js"),s=n("./node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},"./node_modules/core-js/internals/descriptors.js":function(e,t,n){e.exports=!n("./node_modules/core-js/internals/fails.js")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/document-create-element.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/global.js").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/entry-unbind.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=Function.call;e.exports=function(e,t,n){return i(o,r[e].prototype[t],n)}},"./node_modules/core-js/internals/entry-virtual.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js");e.exports=function(e){return r[e].prototype}},"./node_modules/core-js/internals/enum-bug-keys.js":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/enum-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys.js"),i=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),o=n("./node_modules/core-js/internals/object-property-is-enumerable.js");e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),l=o.f,c=0;a.length>c;)l.call(e,s=a[c++])&&t.push(s);return t}},"./node_modules/core-js/internals/export.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,o=n("./node_modules/core-js/internals/hide.js"),s=n("./node_modules/core-js/internals/redefine.js"),a=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/copy-constructor-properties.js"),c=n("./node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var n,d,u,p=e.target,m=e.global,h=e.stat,g=m?r:h?r[p]||a(p,{}):(r[p]||{}).prototype;if(g)for(n in t){if(d=t[n],u=e.noTargetGet?(u=i(g,n))&&u.value:g[n],!c(m?n:p+(h?".":"#")+n,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;l(d,u)}(e.sham||u&&u.sham)&&o(d,"sham",!0),s(g,n,d,e)}}},"./node_modules/core-js/internals/fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/internals/freezing.js":function(e,t,n){e.exports=!n("./node_modules/core-js/internals/fails.js")((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"./node_modules/core-js/internals/function-to-string.js":function(e,t,n){e.exports=n("./node_modules/core-js/internals/shared.js")("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-built-in.js":function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var i=n("./node_modules/core-js/internals/path.js"),o=n("./node_modules/core-js/internals/global.js");e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},"./node_modules/core-js/internals/get-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),o=n("./node_modules/core-js/internals/iterators.js");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"./node_modules/core-js/internals/get-iterator.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/get-iterator-method.js");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"./node_modules/core-js/internals/get-map-iterator.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-pure.js");n=n("./node_modules/core-js/internals/get-iterator.js");e.exports=r?n:function(e){return Map.prototype.entries.call(e)}},"./node_modules/core-js/internals/get-set-iterator.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-pure.js");n=n("./node_modules/core-js/internals/get-iterator.js");e.exports=r?n:function(e){return Set.prototype.values.call(e)}},"./node_modules/core-js/internals/global.js":function(e,t){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},"./node_modules/core-js/internals/has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js/internals/hidden-keys.js":function(e,t){e.exports={}},"./node_modules/core-js/internals/hide.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-define-property.js"),i=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=n("./node_modules/core-js/internals/descriptors.js")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/internals/host-report-errors.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"./node_modules/core-js/internals/html.js":function(e,t,n){n=n("./node_modules/core-js/internals/global.js").document,e.exports=n&&n.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(e,t,n){e.exports=!n("./node_modules/core-js/internals/descriptors.js")&&!n("./node_modules/core-js/internals/fails.js")((function(){return 7!=Object.defineProperty(n("./node_modules/core-js/internals/document-create-element.js")("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/object-set-prototype-of.js");e.exports=function(e,t,n){var o;return(t=t.constructor)!==n&&"function"==typeof t&&(o=t.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},"./node_modules/core-js/internals/internal-metadata.js":function(e,t,n){function r(e){l(e,i,{value:{objectID:"O"+ ++c,weakData:{}}})}var i=n("./node_modules/core-js/internals/uid.js")("meta"),o=n("./node_modules/core-js/internals/freezing.js"),s=n("./node_modules/core-js/internals/is-object.js"),a=n("./node_modules/core-js/internals/has.js"),l=n("./node_modules/core-js/internals/object-define-property.js").f,c=0,d=Object.isExtensible||function(){return!0},u=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!d(e))return"F";if(!t)return"E";r(e)}return e[i].objectID},getWeakData:function(e,t){if(!a(e,i)){if(!d(e))return!0;if(!t)return!1;r(e)}return e[i].weakData},onFreeze:function(e){return o&&u.REQUIRED&&d(e)&&!a(e,i)&&r(e),e}};n("./node_modules/core-js/internals/hidden-keys.js")[i]=!0},"./node_modules/core-js/internals/internal-state.js":function(e,t,n){var r,i,o,s,a,l,c,d,u=n("./node_modules/core-js/internals/native-weak-map.js"),p=n("./node_modules/core-js/internals/is-object.js"),m=n("./node_modules/core-js/internals/hide.js"),h=n("./node_modules/core-js/internals/has.js"),g=n("./node_modules/core-js/internals/shared-key.js"),f=n("./node_modules/core-js/internals/hidden-keys.js");n=n("./node_modules/core-js/internals/global.js").WeakMap;c=u?(r=new n,i=r.get,o=r.has,s=r.set,a=function(e,t){return s.call(r,e,t),t},l=function(e){return i.call(r,e)||{}},function(e){return o.call(r,e)}):(f[d=g("state")]=!0,a=function(e,t){return m(e,d,t),t},l=function(e){return h(e,d)?e[d]:{}},function(e){return h(e,d)}),e.exports={set:a,get:l,has:c,enforce:function(e){return c(e)?l(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!p(t)||(n=l(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/iterators.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},"./node_modules/core-js/internals/is-array.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"./node_modules/core-js/internals/is-forced.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),i=/#|\.prototype\./,o=(n=function(e,t){return(e=s[o(e)])==l||e!=a&&("function"==typeof t?r(t):!!t)}).normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",l=n.POLYFILL="P";e.exports=n},"./node_modules/core-js/internals/is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/internals/is-pure.js":function(e,t){e.exports=!1},"./node_modules/core-js/internals/is-regexp.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},"./node_modules/core-js/internals/iterate.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/is-array-iterator-method.js"),o=n("./node_modules/core-js/internals/to-length.js"),s=n("./node_modules/core-js/internals/bind-context.js"),a=n("./node_modules/core-js/internals/get-iterator-method.js"),l=n("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),c={};(e.exports=function(e,t,n,d,u){var p,m,h,g,f=s(t,n,d?2:1);if(u)p=e;else{if("function"!=typeof(u=a(e)))throw TypeError("Target is not iterable");if(i(u)){for(m=0,h=o(e.length);m<h;m++)if((d?f(r(g=e[m])[0],g[1]):f(e[m]))===c)return c;return}p=u.call(e)}for(;!(g=p.next()).done;)if(l(p,f,g.value,d)===c)return c}).BREAK=c},"./node_modules/core-js/internals/iterators-core.js":function(e,t,n){"use strict";var r,i=n("./node_modules/core-js/internals/object-get-prototype-of.js"),o=n("./node_modules/core-js/internals/hide.js"),s=n("./node_modules/core-js/internals/has.js"),a=n("./node_modules/core-js/internals/is-pure.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),c=!1;[].keys&&("next"in(n=[].keys())?(n=i(i(n)))!==Object.prototype&&(r=n):c=!0),null==r&&(r={}),a||s(r,l)||o(r,l,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:c}},"./node_modules/core-js/internals/iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/internals/microtask.js":function(e,t,n){var r,i,o,s,a,l,c,d=n("./node_modules/core-js/internals/global.js"),u=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=n("./node_modules/core-js/internals/classof-raw.js"),m=n("./node_modules/core-js/internals/task.js").set,h=n("./node_modules/core-js/internals/user-agent.js"),g=d.MutationObserver||d.WebKitMutationObserver,f=d.process,v=(n=d.Promise,"process"==p(f));(u=(u=u(d,"queueMicrotask"))&&u.value)||(r=function(){var e,t;for(v&&(e=f.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},s=v?function(){f.nextTick(r)}:g&&!/(iPhone|iPod|iPad).*AppleWebKit/i.test(h)?(a=!0,l=document.createTextNode(""),new g(r).observe(l,{characterData:!0}),function(){l.data=a=!a}):n&&n.resolve?(c=n.resolve(void 0),function(){c.then(r)}):function(){m.call(d,r)}),e.exports=u||function(e){e={fn:e,next:void 0},o&&(o.next=e),i||(i=e,s()),o=e}},"./node_modules/core-js/internals/native-symbol.js":function(e,t,n){e.exports=!n("./node_modules/core-js/internals/fails.js")((function(){return!String(Symbol())}))},"./node_modules/core-js/internals/native-weak-map.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-to-string.js");n=n("./node_modules/core-js/internals/global.js").WeakMap;e.exports="function"==typeof n&&/native code/.test(r.call(n))},"./node_modules/core-js/internals/new-promise-capability.js":function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=i(t),this.reject=i(n)}var i=n("./node_modules/core-js/internals/a-function.js");e.exports.f=function(e){return new r(e)}},"./node_modules/core-js/internals/object-create.js":function(e,t,n){function r(){}var i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/object-define-properties.js"),s=n("./node_modules/core-js/internals/enum-bug-keys.js"),a=n("./node_modules/core-js/internals/html.js"),l=n("./node_modules/core-js/internals/document-create-element.js"),c=n("./node_modules/core-js/internals/shared-key.js")("IE_PROTO"),d="prototype",u=function(){var e=l("iframe"),t=s.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;t--;)delete u[d][s[t]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(r[d]=i(e),n=new r,r[d]=null,n[c]=e):n=u(),void 0===t?n:o(n,t)},n("./node_modules/core-js/internals/hidden-keys.js")[c]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),o=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/object-keys.js");e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,l=0;l<a;)i.f(e,n=r[l++],t[n]);return e}},"./node_modules/core-js/internals/object-define-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/ie8-dom-define.js"),o=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/to-primitive.js"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),o=n("./node_modules/core-js/internals/create-property-descriptor.js"),s=n("./node_modules/core-js/internals/to-indexed-object.js"),a=n("./node_modules/core-js/internals/to-primitive.js"),l=n("./node_modules/core-js/internals/has.js"),c=n("./node_modules/core-js/internals/ie8-dom-define.js"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=a(t,!0),c)try{return d(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/object-get-own-property-names.js").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/to-object.js"),o=n("./node_modules/core-js/internals/shared-key.js")("IE_PROTO"),s=(n=n("./node_modules/core-js/internals/correct-prototype-getter.js"),Object.prototype);e.exports=n?Object.getPrototypeOf:function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has.js"),i=n("./node_modules/core-js/internals/to-indexed-object.js"),o=n("./node_modules/core-js/internals/array-includes.js")(!1),s=n("./node_modules/core-js/internals/hidden-keys.js");e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},"./node_modules/core-js/internals/object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,i)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){return!!(e=i(this,e))&&e.enumerable}:r},"./node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,i){return r(n,i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/classof.js"),i={};i[n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},"./node_modules/core-js/internals/own-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-get-own-property-names.js"),i=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),o=n("./node_modules/core-js/internals/an-object.js");n=n("./node_modules/core-js/internals/global.js").Reflect;e.exports=n&&n.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},"./node_modules/core-js/internals/path.js":function(e,t,n){e.exports=n("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/perform.js":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"./node_modules/core-js/internals/promise-resolve.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/is-object.js"),o=n("./node_modules/core-js/internals/new-promise-capability.js");e.exports=function(e,t){return r(e),i(t)&&t.constructor===e?t:((0,(e=o.f(e)).resolve)(t),e.promise)}},"./node_modules/core-js/internals/redefine-all.js":function(e,t,n){var r=n("./node_modules/core-js/internals/redefine.js");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},"./node_modules/core-js/internals/redefine.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/hide.js"),o=n("./node_modules/core-js/internals/has.js"),s=n("./node_modules/core-js/internals/set-global.js"),a=n("./node_modules/core-js/internals/function-to-string.js"),l=n("./node_modules/core-js/internals/internal-state.js"),c=l.get,d=l.enforce,u=String(a).split("toString");n("./node_modules/core-js/internals/shared.js")("inspectSource",(function(e){return a.call(e)})),(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable;a=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),d(n).source=u.join("string"==typeof t?t:"")),e!==r?(l?!a&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a.call(this)}))},"./node_modules/core-js/internals/require-object-coercible.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"./node_modules/core-js/internals/same-value-zero.js":function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"./node_modules/core-js/internals/set-global.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/hide.js");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},"./node_modules/core-js/internals/set-species.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),o=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e){var t=r(e);e=i.f;o&&t&&!t[s]&&e(t,s,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/internals/set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-define-property.js").f,i=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},"./node_modules/core-js/internals/shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js")("keys"),i=n("./node_modules/core-js/internals/uid.js");e.exports=function(e){return r[e]||(r[e]=i(e))}},"./node_modules/core-js/internals/shared.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/set-global.js"),o="__core-js_shared__",s=r[o]||i(o,{});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.0.1",mode:n("./node_modules/core-js/internals/is-pure.js")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/species-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var n;return void 0===(e=r(e).constructor)||null==(n=r(e)[o])?t:i(n)}},"./node_modules/core-js/internals/string-at.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e,t,n){var o,s=String(i(e)),a=r(t);e=s.length;return a<0||e<=a?n?"":void 0:(t=s.charCodeAt(a))<55296||56319<t||a+1===e||(o=s.charCodeAt(a+1))<56320||57343<o?n?s.charAt(a):t:n?s.slice(a,a+2):o-56320+(t-55296<<10)+65536}},"./node_modules/core-js/internals/string-repeat.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-integer.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;0<o;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"./node_modules/core-js/internals/task.js":function(e,t,n){function r(){var e,t=+this;f.hasOwnProperty(t)&&(e=f[t],delete f[t],e())}var i,o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/classof-raw.js"),a=n("./node_modules/core-js/internals/bind-context.js"),l=n("./node_modules/core-js/internals/html.js"),c=n("./node_modules/core-js/internals/document-create-element.js"),d=o.setImmediate,u=o.clearImmediate,p=o.process,m=o.MessageChannel,h=o.Dispatch,g=0,f={},v="onreadystatechange";n=function(e){r.call(e.data)};d&&u||(d=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return f[++g]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(g),g},u=function(e){delete f[e]},"process"==s(p)?i=function(e){p.nextTick(a(r,e,1))}:h&&h.now?i=function(e){h.now(a(r,e,1))}:m?(m=(s=new m).port2,s.port1.onmessage=n,i=a(m.postMessage,m,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts?(i=function(e){o.postMessage(e+"","*")},o.addEventListener("message",n,!1)):i=v in c("script")?function(e){l.appendChild(c("script"))[v]=function(){l.removeChild(this),r.call(e)}}:function(e){setTimeout(a(r,e,1),0)}),e.exports={set:d,clear:u}},"./node_modules/core-js/internals/to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},"./node_modules/core-js/internals/to-indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/indexed-object.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return r(i(e))}},"./node_modules/core-js/internals/to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},"./node_modules/core-js/internals/to-length.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer.js"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return Object(r(e))}},"./node_modules/core-js/internals/to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"./node_modules/core-js/internals/user-agent.js":function(e,t,n){n=n("./node_modules/core-js/internals/global.js").navigator,e.exports=n&&n.userAgent||""},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/an-object.js");e.exports=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}},"./node_modules/core-js/internals/validate-string-method-arguments.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-regexp.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e,t,n){if(r(t))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(e))}},"./node_modules/core-js/internals/well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js")("wks"),i=n("./node_modules/core-js/internals/uid.js"),o=n("./node_modules/core-js/internals/global.js").Symbol,s=n("./node_modules/core-js/internals/native-symbol.js");e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}},"./node_modules/core-js/internals/wrapped-well-known-symbol.js":function(e,t,n){t.f=n("./node_modules/core-js/internals/well-known-symbol.js")},"./node_modules/core-js/modules/es.array.concat.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/is-array.js"),i=n("./node_modules/core-js/internals/is-object.js"),o=n("./node_modules/core-js/internals/to-object.js"),s=n("./node_modules/core-js/internals/to-length.js"),a=n("./node_modules/core-js/internals/create-property.js"),l=n("./node_modules/core-js/internals/array-species-create.js"),c=n("./node_modules/core-js/internals/well-known-symbol.js")("isConcatSpreadable"),d=9007199254740991,u="Maximum allowed index exceeded",p=!n("./node_modules/core-js/internals/fails.js")((function(){var e=[];return e[c]=!1,e.concat()[0]!==e})),m=n("./node_modules/core-js/internals/array-method-has-species-support.js")("concat");m=!p||!m;n("./node_modules/core-js/internals/export.js")({target:"Array",proto:!0,forced:m},{concat:function(){for(var e,t,n,p=o(this),m=l(p,0),h=0,g=-1,f=arguments.length;g<f;g++)if(function(e){if(!i(e))return!1;var t=e[c];return void 0!==t?!!t:r(e)}(n=-1===g?p:arguments[g])){if(t=s(n.length),d<h+t)throw TypeError(u);for(e=0;e<t;e++,h++)e in n&&a(m,h,n[e])}else{if(d<=h)throw TypeError(u);a(m,h++,n)}return m.length=h,m}})},"./node_modules/core-js/modules/es.array.includes.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/array-includes.js")(!0);n("./node_modules/core-js/internals/export.js")({target:"Array",proto:!0},{includes:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),n("./node_modules/core-js/internals/add-to-unscopables.js")("includes")},"./node_modules/core-js/modules/es.array.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/add-to-unscopables.js"),o=n("./node_modules/core-js/internals/iterators.js"),s=n("./node_modules/core-js/internals/internal-state.js"),a=(n=n("./node_modules/core-js/internals/define-iterator.js"),"Array Iterator"),l=s.set,c=s.getterFor(a);e.exports=n(Array,"Array",(function(e,t){l(this,{type:a,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"./node_modules/core-js/modules/es.json.to-string-tag.js":function(e,t,n){n("./node_modules/core-js/internals/set-to-string-tag.js")(n("./node_modules/core-js/internals/global.js").JSON,"JSON",!0)},"./node_modules/core-js/modules/es.map.js":function(e,t,n){"use strict";e.exports=n("./node_modules/core-js/internals/collection.js")("Map",(function(e){return function(t){return e(this,0<arguments.length?t:void 0)}}),n("./node_modules/core-js/internals/collection-strong.js"),!0)},"./node_modules/core-js/modules/es.math.to-string-tag.js":function(e,t,n){n("./node_modules/core-js/internals/set-to-string-tag.js")(Math,"Math",!0)},"./node_modules/core-js/modules/es.object.keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-object.js"),i=n("./node_modules/core-js/internals/object-keys.js"),o=n("./node_modules/core-js/internals/fails.js")((function(){i(1)}));n("./node_modules/core-js/internals/export.js")({target:"Object",stat:!0,forced:o},{keys:function(e){return i(r(e))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-to-string.js"),i=Object.prototype;r!==i.toString&&n("./node_modules/core-js/internals/redefine.js")(i,"toString",r,{unsafe:!0})},"./node_modules/core-js/modules/es.promise.finally.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/species-constructor.js"),o=n("./node_modules/core-js/internals/promise-resolve.js");n("./node_modules/core-js/internals/export.js")({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=i(this,r("Promise")),n="function"==typeof e;return this.then(n?function(n){return o(t,e()).then((function(){return n}))}:e,n?function(n){return o(t,e()).then((function(){throw n}))}:e)}})},"./node_modules/core-js/modules/es.promise.js":function(e,t,n){"use strict";function r(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t}function i(e,t,n){var i;t.notified||(t.notified=!0,i=t.reactions,$((function(){for(var o=t.value,s=1==t.state,a=0;i.length>a;)!function(n){var i,a,l,c=s?n.ok:n.fail,d=n.resolve,u=n.reject,p=n.domain;try{c?(s||(2===t.rejection&&W(e,t),t.rejection=1),!0===c?i=o:(p&&p.enter(),i=c(o),p&&(p.exit(),l=!0)),i===n.promise?u(R("Promise-chain cycle")):(a=r(i))?a.call(i,d,u):d(i)):u(o)}catch(n){p&&!l&&p.exit(),u(n)}}(i[a++]);t.reactions=[],t.notified=!1,n&&!t.rejection&&z(e,t)})))}function o(e,t,n){var r;G?((r=N.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),m.dispatchEvent(r)):r={promise:t,reason:n},(t=m["on"+e])?t(r):e===H&&M("Unhandled promise rejection",n)}function s(e,t,n,r){return function(i){e(t,n,i,r)}}function a(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,i(e,t,!0))}var l,c,d,u="Promise",p=n("./node_modules/core-js/internals/is-pure.js"),m=n("./node_modules/core-js/internals/global.js"),h=n("./node_modules/core-js/internals/export.js"),g=n("./node_modules/core-js/internals/is-object.js"),f=n("./node_modules/core-js/internals/a-function.js"),v=n("./node_modules/core-js/internals/an-instance.js"),y=n("./node_modules/core-js/internals/classof-raw.js"),b=n("./node_modules/core-js/internals/iterate.js"),S=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),_=n("./node_modules/core-js/internals/species-constructor.js"),C=n("./node_modules/core-js/internals/task.js").set,$=n("./node_modules/core-js/internals/microtask.js"),w=n("./node_modules/core-js/internals/promise-resolve.js"),M=n("./node_modules/core-js/internals/host-report-errors.js"),T=n("./node_modules/core-js/internals/new-promise-capability.js"),k=n("./node_modules/core-js/internals/perform.js"),P=n("./node_modules/core-js/internals/user-agent.js"),D=n("./node_modules/core-js/internals/well-known-symbol.js")("species"),L=n("./node_modules/core-js/internals/internal-state.js"),A=n("./node_modules/core-js/internals/is-forced.js"),x=L.get,E=L.set,j=L.getterFor(u),I=m[u],R=m.TypeError,N=m.document,O=m.process,V=m.fetch,U=(L=O&&O.versions)&&L.v8||"",F=T.f,B=F,Y="process"==y(O),G=!!(N&&N.createEvent&&m.dispatchEvent),H="unhandledrejection",z=(S=(A=A(u,(function(){function e(){}var t=I.resolve(1),n=(t.constructor={})[D]=function(t){t(e,e)};return!((Y||"function"==typeof PromiseRejectionEvent)&&(!p||t.finally)&&t.then(e)instanceof n&&0!==U.indexOf("6.6")&&-1===P.indexOf("Chrome/66"))})))||!S((function(e){I.all(e).catch((function(){}))})),function(e,t){C.call(m,(function(){var n,r=t.value;if(q(t)&&(n=k((function(){Y?O.emit("unhandledRejection",r,e):o(H,e,r)})),t.rejection=Y||q(t)?2:1,n.error))throw n.value}))}),q=function(e){return 1!==e.rejection&&!e.parent},W=function(e,t){C.call(m,(function(){Y?O.emit("rejectionHandled",e):o("rejectionhandled",e,t.value)}))},Q=function(e,t,n,o){if(!t.done){t.done=!0,o&&(t=o);try{if(e===n)throw R("Promise can't be resolved itself");var l=r(n);l?$((function(){var r={done:!1};try{l.call(n,s(Q,e,r,t),s(a,e,r,t))}catch(n){a(e,r,n,t)}})):(t.value=n,t.state=1,i(e,t,!1))}catch(n){a(e,{done:!1},n,t)}}};A&&(I=function(e){v(this,I,u),f(e),l.call(this);var t=x(this);try{e(s(Q,this,t),s(a,this,t))}catch(e){a(this,t,e)}},(l=function(){E(this,{type:u,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=n("./node_modules/core-js/internals/redefine-all.js")(I.prototype,{then:function(e,t){var n=j(this),r=F(_(this,I));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Y?O.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&i(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),c=function(){var e=new l,t=x(e);this.promise=e,this.resolve=s(Q,e,t),this.reject=s(a,e,t)},T.f=F=function(e){return e===I||e===d?new c:B(e)},p||"function"!=typeof V||h({global:!0,enumerable:!0,forced:!0},{fetch:function(){return w(I,V.apply(m,arguments))}})),h({global:!0,wrap:!0,forced:A},{Promise:I}),n("./node_modules/core-js/internals/set-to-string-tag.js")(I,u,!1,!0),n("./node_modules/core-js/internals/set-species.js")(u),d=n("./node_modules/core-js/internals/path.js")[u],h({target:u,stat:!0,forced:A},{reject:function(e){var t=F(this);return t.reject.call(void 0,e),t.promise}}),h({target:u,stat:!0,forced:p||A},{resolve:function(e){return w(p&&this===d?I:this,e)}}),h({target:u,stat:!0,forced:S},{all:function(e){var t=this,n=F(t),r=n.resolve,i=n.reject,o=k((function(){var n=[],o=0,s=1;b(e,(function(e){var a=o++,l=!1;n.push(void 0),s++,t.resolve(e).then((function(e){l||(l=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=F(t),r=n.reject,i=k((function(){b(e,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},"./node_modules/core-js/modules/es.set.js":function(e,t,n){"use strict";e.exports=n("./node_modules/core-js/internals/collection.js")("Set",(function(e){return function(t){return e(this,0<arguments.length?t:void 0)}}),n("./node_modules/core-js/internals/collection-strong.js"))},"./node_modules/core-js/modules/es.string.ends-with.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-length.js"),i=n("./node_modules/core-js/internals/validate-string-method-arguments.js"),o="endsWith",s=""[o],a=Math.min,l=n("./node_modules/core-js/internals/correct-is-regexp-logic.js")(o);n("./node_modules/core-js/internals/export.js")({target:"String",proto:!0,forced:!l},{endsWith:function(e,t){var n=i(this,e,o),l=1<arguments.length?t:void 0;t=r(n.length),t=void 0===l?t:a(r(l),t),e=String(e);return s?s.call(n,e,t):n.slice(t-e.length,t)===e}})},"./node_modules/core-js/modules/es.string.includes.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/validate-string-method-arguments.js"),i=n("./node_modules/core-js/internals/correct-is-regexp-logic.js")("includes");n("./node_modules/core-js/internals/export.js")({target:"String",proto:!0,forced:!i},{includes:function(e,t){return!!~r(this,e,"includes").indexOf(e,1<arguments.length?t:void 0)}})},"./node_modules/core-js/modules/es.string.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/string-at.js"),i=n("./node_modules/core-js/internals/internal-state.js"),o=(n=n("./node_modules/core-js/internals/define-iterator.js"),"String Iterator"),s=i.set,a=i.getterFor(o);n(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e=a(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=r(t,n,!0),e.index+=n.length,{value:n,done:!1})}))},"./node_modules/core-js/modules/es.string.repeat.js":function(e,t,n){n("./node_modules/core-js/internals/export.js")({target:"String",proto:!0},{repeat:n("./node_modules/core-js/internals/string-repeat.js")})},"./node_modules/core-js/modules/es.string.starts-with.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-length.js"),i=n("./node_modules/core-js/internals/validate-string-method-arguments.js"),o="startsWith",s=n("./node_modules/core-js/internals/correct-is-regexp-logic.js")(o),a=""[o];n("./node_modules/core-js/internals/export.js")({target:"String",proto:!0,forced:!s},{startsWith:function(e,t){var n=i(this,e,o);t=r(Math.min(1<arguments.length?t:void 0,n.length)),e=String(e);return a?a.call(n,e,t):n.slice(t,t+e.length)===e}})},"./node_modules/core-js/modules/es.symbol.async-iterator.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("asyncIterator")},"./node_modules/core-js/modules/es.symbol.description.js":function(e,t,n){"use strict";var r,i,o,s,a,l=n("./node_modules/core-js/internals/descriptors.js"),c=n("./node_modules/core-js/internals/has.js"),d=n("./node_modules/core-js/internals/is-object.js"),u=n("./node_modules/core-js/internals/object-define-property.js").f,p=n("./node_modules/core-js/internals/copy-constructor-properties.js"),m=n("./node_modules/core-js/internals/global.js").Symbol;!l||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(r={},p(i=function(e){var t=arguments.length<1||void 0===e?void 0:String(e);e=this instanceof i?new m(t):void 0===t?m():m(t);return""===t&&(r[e]=!0),e},m),(p=i.prototype=m.prototype).constructor=i,o=p.toString,s="Symbol(test)"==String(m("test")),a=/^Symbol\((.*)\)[^)]+$/,u(p,"description",{configurable:!0,get:function(){var e=d(this)?this.valueOf():this,t=o.call(e);return c(r,e)?"":""===(t=s?t.slice(7,-1):t.replace(a,"$1"))?void 0:t}}),n("./node_modules/core-js/internals/export.js")({global:!0,forced:!0},{Symbol:i}))},"./node_modules/core-js/modules/es.symbol.has-instance.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("hasInstance")},"./node_modules/core-js/modules/es.symbol.is-concat-spreadable.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("isConcatSpreadable")},"./node_modules/core-js/modules/es.symbol.iterator.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(e,t,n){"use strict";function r(e,t){var n=W[e]=T(F[G]);return R(n,{type:I,tag:e,description:t}),a||(n.description=t),n}function i(e,t){_(e);for(var n,r=b(t=$(t)),i=0,o=r.length;i<o;)re(e,n=r[i++],t[n]);return e}var o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/has.js"),a=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/is-pure.js"),c=n("./node_modules/core-js/internals/export.js"),d=n("./node_modules/core-js/internals/redefine.js"),u=n("./node_modules/core-js/internals/hidden-keys.js"),p=n("./node_modules/core-js/internals/fails.js"),m=n("./node_modules/core-js/internals/shared.js"),h=n("./node_modules/core-js/internals/set-to-string-tag.js"),g=n("./node_modules/core-js/internals/uid.js"),f=n("./node_modules/core-js/internals/well-known-symbol.js"),v=n("./node_modules/core-js/internals/wrapped-well-known-symbol.js"),y=n("./node_modules/core-js/internals/define-well-known-symbol.js"),b=n("./node_modules/core-js/internals/enum-keys.js"),S=n("./node_modules/core-js/internals/is-array.js"),_=n("./node_modules/core-js/internals/an-object.js"),C=n("./node_modules/core-js/internals/is-object.js"),$=n("./node_modules/core-js/internals/to-indexed-object.js"),w=n("./node_modules/core-js/internals/to-primitive.js"),M=n("./node_modules/core-js/internals/create-property-descriptor.js"),T=n("./node_modules/core-js/internals/object-create.js"),k=n("./node_modules/core-js/internals/object-get-own-property-names-external.js"),P=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),D=n("./node_modules/core-js/internals/object-define-property.js"),L=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),A=n("./node_modules/core-js/internals/hide.js"),x=n("./node_modules/core-js/internals/object-keys.js"),E=n("./node_modules/core-js/internals/shared-key.js")("hidden"),j=n("./node_modules/core-js/internals/internal-state.js"),I="Symbol",R=j.set,N=j.getterFor(I),O=P.f,V=D.f,U=k.f,F=o.Symbol,B=o.JSON,Y=B&&B.stringify,G="prototype",H=f("toPrimitive"),z=L.f,q=m("symbol-registry"),W=m("symbols"),Q=m("op-symbols"),K=m("wks"),J=Object[G],X=o.QObject,Z=n("./node_modules/core-js/internals/native-symbol.js"),ee=!X||!X[G]||!X[G].findChild,te=a&&p((function(){return 7!=T(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=O(J,t);r&&delete J[t],V(e,t,n),r&&e!==J&&V(J,t,r)}:V,ne=Z&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof F},re=function(e,t,n){return e===J&&re(Q,t,n),_(e),t=w(t,!0),_(n),s(W,t)?(n.enumerable?(s(e,E)&&e[E][t]&&(e[E][t]=!1),n=T(n,{enumerable:M(0,!1)})):(s(e,E)||V(e,E,M(1,{})),e[E][t]=!0),te(e,t,n)):V(e,t,n)};j=function(e){var t=z.call(this,e=w(e,!0));return!(this===J&&s(W,e)&&!s(Q,e))&&(!(t||!s(this,e)||!s(W,e)||s(this,E)&&this[E][e])||t)},m=function(e,t){if(e=$(e),t=w(t,!0),e!==J||!s(W,t)||s(Q,t)){var n=O(e,t);return!n||!s(W,t)||s(e,E)&&e[E][t]||(n.enumerable=!0),n}},o=function(e){for(var t,n=U($(e)),r=[],i=0;n.length>i;)s(W,t=n[i++])||s(u,t)||r.push(t);return r},X=function(e){for(var t,n=e===J,r=U(n?Q:$(e)),i=[],o=0;r.length>o;)!s(W,t=r[o++])||n&&!s(J,t)||i.push(W[t]);return i};Z||(d((F=function(e){if(this instanceof F)throw TypeError("Symbol is not a constructor");e=void 0===e?void 0:String(e);var t=g(e),n=function(e){this===J&&n.call(Q,e),s(this,E)&&s(this[E],t)&&(this[E][t]=!1),te(this,t,M(1,e))};return a&&ee&&te(J,t,{configurable:!0,set:n}),r(t,e)})[G],"toString",(function(){return N(this).tag})),L.f=j,D.f=re,P.f=m,n("./node_modules/core-js/internals/object-get-own-property-names.js").f=k.f=o,n("./node_modules/core-js/internals/object-get-own-property-symbols.js").f=X,a&&(V(F[G],"description",{configurable:!0,get:function(){return N(this).description}}),l||d(J,"propertyIsEnumerable",j,{unsafe:!0})),v.f=function(e){return r(f(e),e)}),c({global:!0,wrap:!0,forced:!Z,sham:!Z},{Symbol:F});for(var ie=x(K),oe=0;ie.length>oe;)y(ie[oe++]);c({target:I,stat:!0,forced:!Z},{for:function(e){return s(q,e+="")?q[e]:q[e]=F(e)},keyFor:function(e){if(!ne(e))throw TypeError(e+" is not a symbol");for(var t in q)if(q[t]===e)return t},useSetter:function(){ee=!0},useSimple:function(){ee=!1}}),c({target:"Object",stat:!0,forced:!Z,sham:!a},{create:function(e,t){return void 0===t?T(e):i(T(e),t)},defineProperty:re,defineProperties:i,getOwnPropertyDescriptor:m}),c({target:"Object",stat:!0,forced:!Z},{getOwnPropertyNames:o,getOwnPropertySymbols:X}),B&&c({target:"JSON",stat:!0,forced:!Z||p((function(){var e=F();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))}))},{stringify:function(e){for(var t,n,r=[e],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=t=r[1],(C(t)||void 0!==e)&&!ne(e))return S(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ne(t))return t}),r[1]=t,Y.apply(B,r)}}),F[G][H]||A(F[G],H,F[G].valueOf),h(F,I),u[E]=!0},"./node_modules/core-js/modules/es.symbol.match.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("match")},"./node_modules/core-js/modules/es.symbol.replace.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("replace")},"./node_modules/core-js/modules/es.symbol.search.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("search")},"./node_modules/core-js/modules/es.symbol.species.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("species")},"./node_modules/core-js/modules/es.symbol.split.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("split")},"./node_modules/core-js/modules/es.symbol.to-primitive.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("toPrimitive")},"./node_modules/core-js/modules/es.symbol.to-string-tag.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("toStringTag")},"./node_modules/core-js/modules/es.symbol.unscopables.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("unscopables")},"./node_modules/core-js/modules/esnext.aggregate-error.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-get-prototype-of.js"),i=n("./node_modules/core-js/internals/object-set-prototype-of.js"),o=n("./node_modules/core-js/internals/object-create.js"),s=n("./node_modules/core-js/internals/iterate.js"),a=n("./node_modules/core-js/internals/hide.js"),l=function(e,t){var n=this;if(!(n instanceof l))return new l(e,t);i&&(n=i(new Error(t),r(n)));var o=[];return s(e,o.push,o),n.errors=o,void 0!==t&&a(n,"message",String(t)),n};l.prototype=o(Error.prototype,{constructor:{value:l,configurable:!0,writable:!0},name:{value:"AggregateError",configurable:!0,writable:!0}}),n("./node_modules/core-js/internals/export.js")({global:!0},{AggregateError:l})},"./node_modules/core-js/modules/esnext.map.delete-all.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/collection-delete-all.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{deleteAll:function(){return r.apply(this,arguments)}})},"./node_modules/core-js/modules/esnext.map.every.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{every:function(e,t){for(var n,s=r(this),a=o(s),l=i(e,1<arguments.length?t:void 0,3);!(n=a.next()).done;)if(!l((n=n.value)[1],n[0],s))return!1;return!0}})},"./node_modules/core-js/modules/esnext.map.filter.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/bind-context.js"),a=n("./node_modules/core-js/internals/species-constructor.js"),l=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{filter:function(e,t){for(var n,c,d=i(this),u=l(d),p=s(e,1<arguments.length?t:void 0,3),m=new(a(d,r("Map"))),h=o(m.set);!(c=u.next()).done;)p(c=(n=c.value)[1],n=n[0],d)&&h.call(m,n,c);return m}})},"./node_modules/core-js/modules/esnext.map.find-key.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{findKey:function(e,t){for(var n,s=r(this),a=o(s),l=i(e,1<arguments.length?t:void 0,3);!(n=a.next()).done;)if(l((n=n.value)[1],n=n[0],s))return n}})},"./node_modules/core-js/modules/esnext.map.find.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{find:function(e,t){for(var n,s,a=r(this),l=o(a),c=i(e,1<arguments.length?t:void 0,3);!(s=l.next()).done;)if(c(s=(n=s.value)[1],n[0],a))return s}})},"./node_modules/core-js/modules/esnext.map.from.js":function(e,t,n){n("./node_modules/core-js/internals/export.js")({target:"Map",stat:!0},{from:n("./node_modules/core-js/internals/collection-from.js")})},"./node_modules/core-js/modules/esnext.map.group-by.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/iterate.js"),i=n("./node_modules/core-js/internals/a-function.js");n("./node_modules/core-js/internals/export.js")({target:"Map",stat:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{groupBy:function(e,t){var n=new this;i(t);var o=i(n.has),s=i(n.get),a=i(n.set);return r(e,(function(e){var r=t(e);o.call(n,r)?s.call(n,r).push(e):a.call(n,r,[e])})),n}})},"./node_modules/core-js/modules/esnext.map.includes.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/get-map-iterator.js"),o=n("./node_modules/core-js/internals/same-value-zero.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{includes:function(e){for(var t,n=r(this),s=i(n);!(t=s.next()).done;)if(o(t.value[1],e))return!0;return!1}})},"./node_modules/core-js/modules/esnext.map.key-by.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/iterate.js"),i=n("./node_modules/core-js/internals/a-function.js");n("./node_modules/core-js/internals/export.js")({target:"Map",stat:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{keyBy:function(e,t){var n=new this;i(t);var o=i(n.set);return r(e,(function(e){o.call(n,t(e),e)})),n}})},"./node_modules/core-js/modules/esnext.map.key-of.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{keyOf:function(e){for(var t,n=r(this),o=i(n);!(t=o.next()).done;)if((t=t.value)[1]===e)return t[0]}})},"./node_modules/core-js/modules/esnext.map.map-keys.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/bind-context.js"),a=n("./node_modules/core-js/internals/species-constructor.js"),l=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{mapKeys:function(e,t){for(var n,c,d=i(this),u=l(d),p=s(e,1<arguments.length?t:void 0,3),m=new(a(d,r("Map"))),h=o(m.set);!(c=u.next()).done;)n=c.value,h.call(m,p(c=n[1],n[0],d),c);return m}})},"./node_modules/core-js/modules/esnext.map.map-values.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/bind-context.js"),a=n("./node_modules/core-js/internals/species-constructor.js"),l=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{mapValues:function(e,t){for(var n,c,d=i(this),u=l(d),p=s(e,1<arguments.length?t:void 0,3),m=new(a(d,r("Map"))),h=o(m.set);!(c=u.next()).done;)n=c.value,h.call(m,c=n[0],p(n[1],c,d));return m}})},"./node_modules/core-js/modules/esnext.map.merge.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js"),o=n("./node_modules/core-js/internals/iterate.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{merge:function(){for(var e=r(this),t=i(e.set),n=0;n<arguments.length;)o(arguments[n++],t,e,!0);return e}})},"./node_modules/core-js/modules/esnext.map.of.js":function(e,t,n){n("./node_modules/core-js/internals/export.js")({target:"Map",stat:!0},{of:n("./node_modules/core-js/internals/collection-of.js")})},"./node_modules/core-js/modules/esnext.map.reduce.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js"),o=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{reduce:function(e,t){var n,s,a,l=r(this),c=o(l);if(i(e),1<arguments.length)n=t;else{if((s=c.next()).done)throw TypeError("Reduce of empty map with no initial value");n=s.value[1]}for(;!(s=c.next()).done;)n=e(n,(a=s.value)[1],a[0],l);return n}})},"./node_modules/core-js/modules/esnext.map.some.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/get-map-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{some:function(e,t){for(var n,s=r(this),a=o(s),l=i(e,1<arguments.length?t:void 0,3);!(n=a.next()).done;)if(l((n=n.value)[1],n[0],s))return!0;return!1}})},"./node_modules/core-js/modules/esnext.map.update.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js");n("./node_modules/core-js/internals/export.js")({target:"Map",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{update:function(e,t,n){var o=r(this);i(t);var s=o.has(e);if(!s&&arguments.length<3)throw TypeError("Updating absent value");return n=s?o.get(e):i(n)(e,o),o.set(e,t(n,e,o)),o}})},"./node_modules/core-js/modules/esnext.promise.all-settled.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/new-promise-capability.js"),i=n("./node_modules/core-js/internals/perform.js"),o=n("./node_modules/core-js/internals/iterate.js");n("./node_modules/core-js/internals/export.js")({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=r.f(t),s=n.resolve,a=n.reject,l=i((function(){var n=[],r=0,i=1;o(e,(function(e){var o=r++,a=!1;n.push(void 0),i++,t.resolve(e).then((function(e){a||(a=!0,n[o]={status:"fulfilled",value:e},--i||s(n))}),(function(e){a||(a=!0,n[o]={status:"rejected",reason:e},--i||s(n))}))})),--i||s(n)}));return l.error&&a(l.value),n.promise}})},"./node_modules/core-js/modules/esnext.promise.any.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/new-promise-capability.js"),o=n("./node_modules/core-js/internals/perform.js"),s=n("./node_modules/core-js/internals/iterate.js"),a="No one promise resolved";n("./node_modules/core-js/internals/export.js")({target:"Promise",stat:!0},{any:function(e){var t=this,n=i.f(t),l=n.resolve,c=n.reject,d=o((function(){var n=[],i=0,o=1,d=!1;s(e,(function(e){var s=i++,u=!1;n.push(void 0),o++,t.resolve(e).then((function(e){u||d||(d=!0,l(e))}),(function(e){u||d||(u=!0,n[s]=e,--o||c(new(r("AggregateError"))(n,a)))}))})),--o||c(new(r("AggregateError"))(n,a))}));return d.error&&c(d.value),n.promise}})},"./node_modules/core-js/modules/esnext.promise.try.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/new-promise-capability.js"),i=n("./node_modules/core-js/internals/perform.js");n("./node_modules/core-js/internals/export.js")({target:"Promise",stat:!0},{try:function(e){var t=r.f(this);return((e=i(e)).error?t.reject:t.resolve)(e.value),t.promise}})},"./node_modules/core-js/modules/esnext.set.add-all.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/collection-add-all.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{addAll:function(){return r.apply(this,arguments)}})},"./node_modules/core-js/modules/esnext.set.delete-all.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/collection-delete-all.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{deleteAll:function(){return r.apply(this,arguments)}})},"./node_modules/core-js/modules/esnext.set.difference.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/species-constructor.js"),a=n("./node_modules/core-js/internals/iterate.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{difference:function(e){var t=i(this),n=new(s(t,r("Set")))(t),l=o(n.delete);return a(e,(function(e){l.call(n,e)})),n}})},"./node_modules/core-js/modules/esnext.set.every.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/get-set-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{every:function(e,t){for(var n,s=r(this),a=o(s),l=i(e,1<arguments.length?t:void 0,3);!(n=a.next()).done;)if(!l(n=n.value,n,s))return!1;return!0}})},"./node_modules/core-js/modules/esnext.set.filter.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/bind-context.js"),a=n("./node_modules/core-js/internals/species-constructor.js"),l=n("./node_modules/core-js/internals/get-set-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{filter:function(e,t){for(var n,c=i(this),d=l(c),u=s(e,1<arguments.length?t:void 0,3),p=new(a(c,r("Set"))),m=o(p.add);!(n=d.next()).done;)u(n=n.value,n,c)&&m.call(p,n);return p}})},"./node_modules/core-js/modules/esnext.set.find.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/get-set-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{find:function(e,t){for(var n,s=r(this),a=o(s),l=i(e,1<arguments.length?t:void 0,3);!(n=a.next()).done;)if(l(n=n.value,n,s))return n}})},"./node_modules/core-js/modules/esnext.set.from.js":function(e,t,n){n("./node_modules/core-js/internals/export.js")({target:"Set",stat:!0},{from:n("./node_modules/core-js/internals/collection-from.js")})},"./node_modules/core-js/modules/esnext.set.intersection.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/species-constructor.js"),a=n("./node_modules/core-js/internals/iterate.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{intersection:function(e){var t=i(this),n=new(s(t,r("Set"))),l=o(t.has),c=o(n.add);return a(e,(function(e){l.call(t,e)&&c.call(n,e)})),n}})},"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js"),o=n("./node_modules/core-js/internals/iterate.js"),s=o.BREAK;n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{isDisjointFrom:function(e){var t=r(this),n=i(t.has);return o(e,(function(e){if(!0===n.call(t,e))return s}))!==s}})},"./node_modules/core-js/modules/esnext.set.is-subset-of.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/get-iterator.js"),a=n("./node_modules/core-js/internals/iterate.js"),l=a.BREAK;n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{isSubsetOf:function(e){var t=s(this),n=i(e),c=n.has;return"function"!=typeof c&&(n=new(r("Set"))(e),c=o(n.has)),a(t,(function(e){if(!1===c.call(n,e))return l}),void 0,!1,!0)!==l}})},"./node_modules/core-js/modules/esnext.set.is-superset-of.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js"),o=n("./node_modules/core-js/internals/iterate.js"),s=o.BREAK;n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{isSupersetOf:function(e){var t=r(this),n=i(t.has);return o(e,(function(e){if(!1===n.call(t,e))return s}))!==s}})},"./node_modules/core-js/modules/esnext.set.join.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/get-set-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{join:function(e){for(var t,n=r(this),o=i(n),s=(e=void 0===e?",":String(e),[]);!(t=o.next()).done;)s.push(t.value);return s.join(e)}})},"./node_modules/core-js/modules/esnext.set.map.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/bind-context.js"),a=n("./node_modules/core-js/internals/species-constructor.js"),l=n("./node_modules/core-js/internals/get-set-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{map:function(e,t){for(var n,c=i(this),d=l(c),u=s(e,1<arguments.length?t:void 0,3),p=new(a(c,r("Set"))),m=o(p.add);!(n=d.next()).done;)m.call(p,u(n=n.value,n,c));return p}})},"./node_modules/core-js/modules/esnext.set.of.js":function(e,t,n){n("./node_modules/core-js/internals/export.js")({target:"Set",stat:!0},{of:n("./node_modules/core-js/internals/collection-of.js")})},"./node_modules/core-js/modules/esnext.set.reduce.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-function.js"),o=n("./node_modules/core-js/internals/get-set-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{reduce:function(e,t){var n,s,a,l=r(this),c=o(l);if(i(e),1<arguments.length)n=t;else{if((s=c.next()).done)throw TypeError("Reduce of empty set with no initial value");n=s.value}for(;!(s=c.next()).done;)n=e(n,a=s.value,a,l);return n}})},"./node_modules/core-js/modules/esnext.set.some.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/get-set-iterator.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{some:function(e,t){for(var n,s=r(this),a=o(s),l=i(e,1<arguments.length?t:void 0,3);!(n=a.next()).done;)if(l(n=n.value,n,s))return!0;return!1}})},"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/species-constructor.js"),a=n("./node_modules/core-js/internals/iterate.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{symmetricDifference:function(e){var t=i(this),n=new(s(t,r("Set")))(t),l=o(n.delete),c=o(n.add);return a(e,(function(e){l.call(n,e)||c.call(n,e)})),n}})},"./node_modules/core-js/modules/esnext.set.union.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-function.js"),s=n("./node_modules/core-js/internals/species-constructor.js"),a=n("./node_modules/core-js/internals/iterate.js");n("./node_modules/core-js/internals/export.js")({target:"Set",proto:!0,real:!0,forced:n("./node_modules/core-js/internals/is-pure.js")},{union:function(e){var t=i(this);t=new(s(t,r("Set")))(t);return a(e,o(t.add),t),t}})},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(e,t,n){var r,i=n("./node_modules/core-js/internals/dom-iterables.js"),o=n("./node_modules/core-js/modules/es.array.iterator.js"),s=n("./node_modules/core-js/internals/global.js"),a=n("./node_modules/core-js/internals/hide.js"),l=(n=n("./node_modules/core-js/internals/well-known-symbol.js"))("iterator"),c=n("toStringTag"),d=o.values;for(r in i){var u=s[r],p=u&&u.prototype;if(p){if(p[l]!==d)try{a(p,l,d)}catch(e){p[l]=d}if(p[c]||a(p,c,r),i[r])for(var m in o)if(p[m]!==o[m])try{a(p,m,o[m])}catch(e){p[m]=o[m]}}}},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,d=-7,u=n?i-1:0,p=n?-1:1;n=e[t+u];for(u+=p,o=n&(1<<-d)-1,n>>=-d,d+=a;0<d;o=256*o+e[t+u],u+=p,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;0<d;s=256*s+e[t+u],u+=p,d-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(n?-1:1);s+=Math.pow(2,r),o-=c}return(n?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l=8*o-i-1,c=(1<<l)-1,d=c>>1,u=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1;o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-s))<1&&(s--,r*=2),2<=(t+=1<=s+d?u/r:u*Math.pow(2,1-d))*r&&(s++,r/=2),c<=s+d?(a=0,s=c):1<=s+d?(a=(t*r-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));8<=i;e[n+p]=255&a,p+=m,a/=256,i-=8);for(s=s<<i|a,l+=i;0<l;e[n+p]=255&s,p+=m,s/=256,l-=8);e[n+p-m]|=128*o}},"./node_modules/isarray/index.js":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"./node_modules/node-libs-browser/node_modules/buffer/index.js":function(e,t,n){"use strict";(function(e){var r=n("./node_modules/base64-js/index.js"),i=n("./node_modules/ieee754/index.js"),o=n("./node_modules/isarray/index.js");function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"!=typeof e)return c(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n);return(n=(e=a(e,r)).write(t,n))!==r&&(e=e.slice(0,n)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|m(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(d(t),e=a(e,t<0?0:0|m(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|m(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function m(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return x(e).length;default:if(r)return A(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var i,o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[o]);return i}(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,s=n,0===(o=t)&&s===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o=1,s=e.length,a=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=o=2,a/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var c=-1,d=n;d<s;d++)if(l(e,d)===l(t,-1===c?0:d-c)){if(-1===c&&(c=d),d-c+1===a)return c*o}else-1!==c&&(d-=d-c),c=-1;else for(s<n+a&&(n=s-a),d=n;0<=d;d--){for(var u=!0,p=0;p<a;p++)if(l(e,d+p)!==l(t,p)){u=!1;break}if(u)return d}return-1}function b(e,t,n,r){return E(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return E(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,r%=256,i.push(r),i.push(n);return i}(t,e.length-n),e,n,r)}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,c=e[i],d=null,u=239<c?4:223<c?3:191<c?2:1;if(i+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(o=e[i+1]))&&127<(l=(31&c)<<6|63&o)&&(d=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&2047<(l=(15&c)<<12|(63&o)<<6|63&s)&&(l<55296||57343<l)&&(d=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)&&l<1114112&&(d=l)}null===d?(d=65533,u=1):65535<d&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=u}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return r=null,t=t,n=n,d(e=e),e<=0||void 0===t?a(r,e):"string"==typeof n?a(r,e).fill(t,n):a(r,e).fill(t);var r},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=l.allocUnsafe(t),r=0,i=0;i<e.length;++i){var s=e[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?_(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),d=e.slice(t,n),u=0;u<a;++u)if(c[u]!==d[u]){o=c[u],s=d[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,s,a,l=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;if((!r||i<(r=Number(r)))&&(r=i),(i=t.length)%2!=0)throw new TypeError("Invalid hex string");i/2<r&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}(this,e,t,n);case"utf8":case"utf-8":return s=t,a=n,E(A(e,(o=this).length-s),o,s,a);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return o=this,s=t,a=n,E(x(e),o,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function $(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function T(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function k(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,o){return o||k(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||k(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else for(var r=t-e,i=new l(r,void 0),o=0;o<r;++o)i[o]=this[o+e];return i},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||$(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||$(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||$(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||$(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||$(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){return t||$(e,2,this.length),32768&(e=this[e]|this[e+1]<<8)?4294901760|e:e},l.prototype.readInt16BE=function(e,t){return t||$(e,2,this.length),32768&(e=this[e+1]|this[e]<<8)?4294901760|e:e},l.prototype.readInt32LE=function(e,t){return t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):T(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=n-1,o=1,s=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):T(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){var i;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==e.length||(i=e.charCodeAt(0))<256&&(e=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(a=t;a<n;++a)this[a]=e;else for(var o=l.isBuffer(e)?e:A(new l(e,r).toString()),s=o.length,a=0;a<n-t;++a)this[a+t]=o[a%s];return this};var L=/[^+\/0-9A-Za-z-_]/g;function A(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=e.charCodeAt(s))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function x(e){return r.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function E(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n("./node_modules/webpack-stream/node_modules/webpack/buildin/global.js"))},"./node_modules/node-libs-browser/node_modules/events/events.js":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o="object"===("undefined"==typeof Reflect?"undefined":r(Reflect))?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}e.exports=l,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},(l.EventEmitter=l).prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function d(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+r(e))}function u(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var i,o;return d(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener||n),i=e._events),o=i[t]),void 0===o?(o=i[t]=n,++e._eventsCount):("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(n=u(e))&&o.length>n&&!o.warned&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,n=n,console&&console.warn&&console.warn(n))),e}function m(e,t,n){return(t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n})).listener=n,e.wrapFn=t}function h(e,t,n){return void 0===(e=e._events)||void 0===(t=e[t])?[]:"function"==typeof t?n?[t.listener||t]:[t]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):f(t,t.length)}function g(e){var t=this._events;if(void 0!==t){if("function"==typeof(e=t[e]))return 1;if(void 0!==e)return e.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return u(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r,i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(0<t.length&&(r=t[0]),r instanceof Error)throw r;throw(i=new Error("Unhandled error."+(r?" ("+r.message+")":""))).context=r,i}if(void 0===(e=o[e]))return!1;if("function"==typeof e)s(e,this,t);else{var a=e.length,l=f(e,a);for(n=0;n<a;++n)s(l[n],this,t)}return!0},l.prototype.addListener=function(e,t){return p(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return p(this,e,t,!0)},l.prototype.once=function(e,t){return d(t),this.on(e,m(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return d(t),this.prependListener(e,m(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,i,o,s;if(d(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n=this._events;if(void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},l.prototype.listeners=function(e){return h(this,e,!0)},l.prototype.rawListeners=function(e){return h(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return 0<this._eventsCount?i(this._events):[]}},"./node_modules/process/browser.js":function(e,t){var n,r;e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,l=[],c=!1,d=-1;function u(){c&&a&&(c=!1,a.length?l=a.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=s(u);c=!0;for(var t=l.length;t;){for(a=l,l=[];++d<t;)a&&a[d].run();d=-1,t=l.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.prependListener=h,e.prependOnceListener=h,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./pbiux/services/overlayService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.register=function(e){this.dropdowns.push(e),e.addClass(r.overlayClass),e.appendTo(this.root)},r.prototype.unregister=function(e){var t=this.dropdowns.map((function(e){return e[0]})).indexOf(e[0]);-1<t&&(this.dropdowns[t].remove(),this.dropdowns.splice(t,1)),e.removeClass(r.overlayClass),e.removeClass(r.overlayActiveClass),e.remove()},r.prototype.mouseClickHideDialog=function(e,t){if(0<this.dropdowns.length)for(var n=0,i=this.dropdowns.length;n<i;n++){var o=this.dropdowns[n];if(o.hasClass(r.overlayActiveClass)&&this.outOfBoundsClickHandler(e,o)){this.hideAllDropdowns();break}}},r.prototype.showOverlay=function(e,t){this.repositionDropdown(e,t,!0),e.addClass(r.overlayActiveClass)},r.prototype.toggleDropdown=function(e,t,n,i){for(var o=0,s=this.dropdowns.length;o<s;o++){var a=this.dropdowns[o];a.is(e)||a.removeClass(r.overlayActiveClass)}this.repositionDropdown(e,t,i),e.toggleClass(r.overlayActiveClass),n&&n.stopPropagation()},r.prototype.outOfBoundsClickHandler=function(e,t){var n=e.pageX,r=e.pageY,i=(o=t.offset()).left,o=(e=o.top,i+t.width());t=e+t.height();return n<i||o<n||r<e||t<r},r.prototype.repositionDropdown=function(e,t,n){var r=t.offset().left,i=(o=e.outerWidth(!0))+r>$(window).width(),o=n||i?r+t.outerWidth(!0)-o:r;r=t.offset().top+t.outerHeight(!0),r=(i=(t=e.outerHeight(!0))+r>$(window).height())?r-t:r;e.css({top:r,left:Math.ceil(o)})},r.prototype.hideAllDropdowns=function(e){for(var t=0,n=this.dropdowns.length;t<n;t++){var i=this.dropdowns[t];i&&i.hasClass(r.overlayActiveClass)&&r.hideDropdown(i,e)}},r.hideDropdown=function(e,t){t=t?0:r.menuFadeOutAnimationMs,e.animate({opacity:0},t,(function(){e.removeClass(r.overlayActiveClass),e.removeAttr("style")}))},r.overlayActiveClass="overlayActive",r.overlayClass="overlay",r.menuFadeOutAnimationMs=250,r);function r(){var e=this;this.dropdowns=[],$(window).on("click",(function(t){return e.mouseClickHideDialog(t,e.dropdowns)})),$(window).on("resize",(function(){e.hideAllDropdowns()})),this.root=$("body")}t.OverlayService=n},0:function(e,t){},angular:function(t,n){t.exports=e},lodash:function(e,n){e.exports=t},moment:function(e,t){e.exports=n}})},e.exports=r(n(121),n(125),n(0))},function(e,t,n){(function(e,r){var i;(function(){var o,s,a=32,l=128,c=256,d=200,u="Expected a function",p="__lodash_hash_undefined__",m=1/0,h=9007199254740991,g=4294967295,f="__lodash_placeholder__",v="[object Arguments]",y="[object Array]",b="[object Boolean]",S="[object Date]",_="[object Error]",C="[object Function]",$="[object GeneratorFunction]",w="[object Map]",M="[object Number]",T="[object Object]",k="[object RegExp]",P="[object Set]",D="[object String]",L="[object Symbol]",A="[object WeakMap]",x="[object ArrayBuffer]",E="[object Float32Array]",j="[object Float64Array]",I="[object Int8Array]",R="[object Int16Array]",N="[object Int32Array]",O="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",F="[object Uint32Array]",B=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39|#96);/g,z=/[&<>"'`]/g,q=RegExp(H.source),W=RegExp(z.source),Q=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+|\s+$/g,ie=/^\s+/,oe=/\s+$/,se=/\\(\\)?/g,ae=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,ce=/^0x/i,de=/^[-+]0x[0-9a-f]+$/i,ue=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,he=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,fe=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,ye="\\ud800-\\udfff",be="\\u0300-\\u036f\\ufe20-\\ufe23",Se="\\u20d0-\\u20f0",_e="\\ufe0e\\ufe0f",Ce="["+ye+"]",$e="["+(Ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000")+"]",we="["+be+Se+"]",Me="["+(Ae="\\u2700-\\u27bf")+"]",Te="["+(xe="a-z\\xdf-\\xf6\\xf8-\\xff")+"]",ke="\\ud83c[\\udffb-\\udfff]",Pe="[^"+ye+"]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="(?:"+Te+"|"+(s="[^"+ye+Ke+(Xe="\\d+")+Ae+xe+(Ee="A-Z\\xc0-\\xd6\\xd8-\\xde")+"]")+")",xe="(?:"+(Ke="["+Ee+"]")+"|"+s+")",Ee=(s="["+_e+"]?")+(Ee="(?:"+we+"|"+ke+")?")+"(?:\\u200d(?:"+[Pe,De,Le].join("|")+")"+s+Ee+")*",je=(Me="(?:"+[Me,De,Le].join("|")+")"+Ee,Ce="(?:"+[Pe+we+"?",we,De,Le,Ce].join("|")+")",RegExp(we,"g")),Ie=RegExp(ke+"(?="+ke+")|"+Ce+Ee,"g"),Re=RegExp("[\\u200d"+ye+be+Se+_e+"]"),Ne=/[a-zA-Z0-9]+/g,Oe=RegExp([Ke+"?"+Te+"+(?="+[$e,Ke,"$"].join("|")+")",xe+"+(?="+[$e,Ke+Ae,"$"].join("|")+")",Ke+"?"+Ae+"+",Ke+"+",Xe,Me].join("|"),"g"),Ve=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ue=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Be={};Be[E]=Be[j]=Be[I]=Be[R]=Be[N]=Be[O]=Be[V]=Be[U]=Be[F]=!0,Be[v]=Be[y]=Be[x]=Be[b]=Be[S]=Be[_]=Be[C]=Be[w]=Be[M]=Be[T]=Be[k]=Be[P]=Be[D]=Be[A]=!1;var Ye={};Ye[v]=Ye[y]=Ye[x]=Ye[b]=Ye[S]=Ye[E]=Ye[j]=Ye[I]=Ye[R]=Ye[N]=Ye[w]=Ye[M]=Ye[T]=Ye[k]=Ye[P]=Ye[D]=Ye[L]=Ye[O]=Ye[V]=Ye[U]=Ye[F]=!0,Ye[_]=Ye[C]=Ye[A]=!1;var Ge={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},ze={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},qe=(Ae={function:!0,object:!0},{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),We=parseFloat,Qe=parseInt,Ke=Ae[typeof t]&&t&&!t.nodeType?t:o,Je=(Xe=Ae[typeof e]&&e&&!e.nodeType?e:o)&&Xe.exports===Ke?Ke:o,Xe=(Me=Tt(Ke&&Xe&&"object"==typeof r&&r),Ke=Tt(Ae[typeof self]&&self),Tt(Ae[typeof window]&&window)),Ze=(Ae=Tt(Ae[typeof this]&&this),Me||Xe!==(Ae&&Ae.window)&&Xe||Ke||Ae||Function("return this")());function et(e,t){return e.set(t[0],t[1]),e}function tt(e,t){return e.add(t),e}function nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rt(e,t,n,r){for(var i=-1,o=e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function it(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[++i]=s)}return o}function at(e,t){return!!e.length&&-1<vt(e,t,0)}function lt(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ct(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ut(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function pt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function mt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t,n){for(var r=-1,i=e.length;++r<i;){var s,a,l=e[r],c=t(l);null!=c&&(s===o?c==c:n(c,s))&&(s=c,a=l)}return a}function gt(e,t,n,r){var i;return n(e,(function(e,n,o){if(t(e,n,o))return i=r?n:e,!1})),i}function ft(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function vt(e,t,n){if(t!=t)return At(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function yt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function bt(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function St(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function _t(e,t){return ct(t,(function(t){return[t,e[t]]}))}function Ct(e){return function(t){return e(t)}}function $t(e,t){return ct(t,(function(t){return e[t]}))}function wt(e,t){for(var n=-1,r=e.length;++n<r&&-1<vt(t,e[n],0););return n}function Mt(e,t){for(var n=e.length;n--&&-1<vt(t,e[n],0););return n}function Tt(e){return e&&e.Object===Object?e:null}function kt(e,t){if(e!==t){var n=null===e,r=e===o,i=e==e,s=null===t,a=t===o,l=t==t;if(t<e&&!s||!i||n&&!a&&l||r&&l)return 1;if(e<t&&!n||!l||s&&!r&&i||a&&i)return-1}return 0}function Pt(e){return Ge[e]}function Dt(e){return He[e]}function Lt(e){return"\\"+qe[e]}function At(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!=o)return i}return-1}function xt(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Et(e,t){return e="number"==typeof e||he.test(e)?+e:-1,t=null==t?h:t,-1<e&&e%1==0&&e<t}function jt(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function It(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Rt(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];s!==t&&s!==f||(e[n]=f,o[++i]=n)}return o}function Nt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Ot(e){if(!e||!Re.test(e))return e.length;for(var t=Ie.lastIndex=0;Ie.test(e);)t++;return t}function Vt(e){return e.match(Ie)}function Ut(e){return ze[e]}var Ft=function e(t){var n=(t=t?Ft.defaults({},t,Ft.pick(Ze,Ue)):Ze).Date,r=t.Error,i=t.Math,s=t.RegExp,he=t.TypeError,ye=t.Array.prototype,be=t.Object.prototype,Se=t.Function.prototype.toString,_e=be.hasOwnProperty,Ce=0,$e=Se.call(Object),we=be.toString,Me=Ze._,Te=s("^"+Se.call(_e).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=Je?t.Buffer:o,Pe=t.Reflect,De=t.Symbol,Le=t.Uint8Array,Ae=t.clearTimeout,xe=Pe?Pe.enumerate:o,Ee=Object.getPrototypeOf,Ie=Object.getOwnPropertySymbols,Ge="symbol"==typeof(Ge=De&&De.iterator)?Ge:o,He=Object.create,ze=be.propertyIsEnumerable,qe=t.setTimeout,Ke=ye.splice,Xe=i.ceil,Tt=i.floor,Bt=t.isFinite,Yt=ye.join,Gt=Object.keys,Ht=i.max,zt=i.min,qt=t.parseInt,Wt=i.random,Qt=ye.reverse,Kt=ti(t,"Map"),Jt=ti(t,"Set"),Xt=ti(t,"WeakMap"),Zt=ti(Object,"create"),en=Xt&&new Xt,tn=Kt?Se.call(Kt):"",nn=Jt?Se.call(Jt):"",rn=Xt?Se.call(Xt):"",on=De?De.prototype:o,sn=De?on.valueOf:o,an=De?on.toString:o,ln={};function cn(e){if(Ao(e)&&!Co(e)&&!(e instanceof pn)){if(e instanceof un)return e;if(_e.call(e,"__wrapped__"))return yi(e)}return new un(e)}function dn(){}function un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function pn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function mn(){}function hn(e,t){return Zt?e[t]!==o:_e.call(e,t)}function gn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fn(e){var t=-1,n=e?e.length:0;for(this.__data__=new gn;++t<n;)this.push(e[t])}function vn(e,t){var n=e.__data__;return ci(t)?(e=n.__data__,("string"==typeof t?e.string:e.hash)[t]===p):n.has(t)}function yn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function bn(e,t){return!((t=Cn(e,t))<0||(t==e.length-1?e.pop():Ke.call(e,t,1),0))}function Sn(e,t){return(t=Cn(e,t))<0?o:e[t][1]}function _n(e,t){return-1<Cn(e,t)}function Cn(e,t){for(var n=e.length;n--;)if(bo(e[n][0],t))return n;return-1}function $n(e,t,n){var r=Cn(e,t);r<0?e.push([t,n]):e[r][1]=n}function wn(e,t,n,r){return e===o||bo(e,be[n])&&!_e.call(r,n)?t:e}function Mn(e,t,n){(n===o||bo(e[t],n))&&("number"!=typeof t||n!==o||t in e)||(e[t]=n)}function Tn(e,t,n){var r=e[t];_e.call(e,t)&&bo(r,n)&&(n!==o||t in e)||(e[t]=n)}function kn(e,t,n,r){return On(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Pn(e,t){return e&&Lr(t,os(t),e)}function Dn(e,t){for(var n=-1,r=null==e,i=t.length,s=Array(i);++n<i;)s[n]=r?o:Zo(e,t[n]);return s}function Ln(e){return wo(e)?e:[]}function An(e){return"function"==typeof e?e:Ls}function xn(e){return Co(e)?e:vi(e)}function En(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=t<=e?e:t)),e}function jn(e,t,n,r,i,s){var a;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!Lo(e))return e;var l=Co(e);if(l){if(a=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&_e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return Dr(e,a)}else{var c=ii(e);r=c==C||c==$;if(Mo(e))return function(e,t){return t?e.slice():(t=new e.constructor(e.length),e.copy(t),t)}(e,t);if(c==T||c==v||r&&!i){if(xt(e))return i?e:{};if(a=ko((r=r?{}:e).constructor)&&!ui(r)?In(Ee(r)):{},!t)return xr(e,Pn(a,e))}else{if(!Ye[c])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case x:return Tr(e);case b:case S:return new r(+e);case E:case j:case I:case R:case N:case O:case V:case U:case F:return function(e,t){var n=e.buffer;n=t?Tr(n):n;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case w:return function(e){var t=e.constructor;return ut(It(e),et,new t)}(e);case M:case D:return new r(e);case k:return function(e){var t=new e.constructor(e.source,le.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return function(e){var t=e.constructor;return ut(Nt(e),tt,new t)}(e);case L:return function(e){return De?Object(sn.call(e)):{}}(e)}}(e,c,t)}}return(c=(s=s||new yn).get(e))||(s.set(e,a),(l?it:Hn)(e,(function(r,i){Tn(a,i,jn(r,t,n,i,e,s))})),l?a:xr(e,a))}function In(e){return Lo(e)?He(e):{}}function Rn(e,t,n){if("function"!=typeof e)throw new he(u);return qe((function(){e.apply(o,n)}),t)}function Nn(e,t,n,r){var i=-1,o=at,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=ct(t,Ct(n))),r?(o=lt,s=!1):t.length>=d&&(o=vn,s=!1,t=new fn(t));e:for(;++i<a;){var u=e[i],p=n?n(u):u;if(s&&p==p){for(var m=c;m--;)if(t[m]===p)continue e;l.push(u)}else o(t,p,r)||l.push(u)}return l}cn.templateSettings={escape:Q,evaluate:K,interpolate:J,variable:"",imports:{_:cn}};var On=Ir(Hn),Vn=Ir(zn,!0);function Un(e,t){var n=!0;return On(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Fn(e,t){var n=[];return On(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Bn(e,t,n,r){r=r||[];for(var i=-1,o=e.length;++i<o;){var s=e[i];0<t&&wo(s)&&(n||Co(s)||_o(s))?1<t?Bn(s,t-1,n,r):dt(r,s):n||(r[r.length]=s)}return r}var Yn=Rr(),Gn=Rr(!0);function Hn(e,t){return e&&Yn(e,t,os)}function zn(e,t){return e&&Gn(e,t,os)}function qn(e,t){return st(t,(function(t){return ko(e[t])}))}function Wn(e,t){for(var n=0,r=(t=li(t,e)?[t+""]:xn(t)).length;null!=e&&n<r;)e=e[t[n++]];return n&&n==r?e:o}function Qn(e,t){return _e.call(e,t)||"object"==typeof e&&t in e&&null===Ee(e)}function Kn(e,t){return t in Object(e)}function Jn(e,t,n){for(var r=n?lt:at,i=e.length,s=i,a=Array(i),l=[];s--;){var c=e[s];s&&t&&(c=ct(c,Ct(t))),a[s]=!n&&(t||120<=c.length)?new fn(s&&c):o}var d=-1,u=(c=e[0]).length,p=a[0];e:for(;++d<u;){var m=c[d],h=t?t(m):m;if(!(p?vn(p,h):r(l,h,n))){for(s=i;--s;){var g=a[s];if(!(g?vn(g,h):r(e[s],h,n)))continue e}p&&p.push(h),l.push(m)}}return l}function Xn(e,t,n){return li(t,e)||(e=mi(e,t=xn(t)),t=Di(t)),null==(t=null==e?e:e[t])?o:nt(t,e,n)}function Zn(e,t,n,r,i){return e===t||(null==e||null==t||!Lo(e)&&!Ao(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var a=Co(e),l=Co(t),c=y,d=y;a||((c=ii(e))==v?c=T:c!=T&&(a=Oo(e))),l||((d=ii(t))==v?d=T:d!=T&&(l=Oo(t)));var u=c==T&&!xt(e);l=d==T&&!xt(t);return!(d=c==d)||a||u?2&i||(u=u&&_e.call(e,"__wrapped__"),l=l&&_e.call(t,"__wrapped__"),!u&&!l)?d&&(a?function(e,t,n,r,i,s){var a=-1,l=2&i,c=1&i,d=e.length,u=t.length;if(d!=u&&!(l&&d<u))return!1;if(u=s.get(e))return u==t;var p=!0;for(s.set(e,t);++a<d;){var m,h=e[a],g=t[a];if(r&&(m=l?r(g,h,a,t,e,s):r(h,g,a,e,t,s)),m!==o){if(m)continue;p=!1;break}if(c){if(!mt(t,(function(e){return h===e||n(h,e,r,i,s)}))){p=!1;break}}else if(h!==g&&!n(h,g,r,i,s)){p=!1;break}}return s.delete(e),p}:function(e,t,n,r,i,s){var a=2&i,l=os(e),c=l.length,d=os(t).length;if(c!=d&&!a)return!1;for(var u=c;u--;){var p=l[u];if(!(a?p in t:Qn(t,p)))return!1}var m=s.get(e);if(m)return m==t;var h=!0;s.set(e,t);for(var g=a;++u<c;){var f,v=e[p=l[u]],y=t[p];if(r&&(f=a?r(y,v,p,t,e,s):r(v,y,p,e,t,s)),!(f===o?v===y||n(v,y,r,i,s):f)){h=!1;break}g=g||"constructor"==p}return h&&!g&&((d=e.constructor)!=(m=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof m&&m instanceof m)&&(h=!1)),s.delete(e),h})(e,t,n,r,i,s=s||new yn):n(u?e.value():e,l?t.value():t,r,i,s):function(e,t,n,r,i,o){switch(n){case x:return!(e.byteLength!=t.byteLength||!r(new Le(e),new Le(t)));case b:case S:return+e==+t;case _:return e.name==t.name&&e.message==t.message;case M:return e!=+e?t!=+t:e==+t;case k:case D:return e==t+"";case w:var s=It;case P:return s=s||Nt,(2&o||e.size==t.size)&&r(s(e),s(t),i,1|o);case L:return!!De&&sn.call(e)==sn.call(t)}return!1}(e,t,c,n,r,i)}(e,t,Zn,n,r,i))}function er(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=Object(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var c=e[u=(l=n[i])[0]],d=l[1];if(a&&l[2]){if(c===o&&!(u in e))return!1}else{var u,p=new yn;if(!((u=r?r(c,d,u,e,t,p):o)===o?Zn(d,c,r,3,p):u))return!1}}return!0}function tr(e){var t=typeof e;return"function"==t?e:null==e?Ls:"object"==t?Co(e)?or(e[0],e[1]):ir(e):Os(e)}function nr(e){var t,n=[];for(t in e=null==e?e:Object(e))n.push(t);return n}function rr(e,t){var n=-1,r=$o(e)?Array(e.length):[];return On(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function ir(e){var t=ei(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&e[n]===r&&(r!==o||n in Object(e))}}return function(n){return n===e||er(n,e,t)}}function or(e,t){return function(n){var r=Zo(n,e);return r===o&&r===t?ts(n,e):Zn(t,r,o,3)}}function sr(e,t,n,r,i){var s;e!==t&&it((s=Co(t)||Oo(t)?o:ss(t))||t,(function(a,l){var c;s&&(a=t[l=a]),Lo(a)?(i=i||new yn,function(e,t,n,r,i,s,a){var l=e[n],c=t[n],d=a.get(c);if(d)return Mn(e,n,d);(t=(d=s?s(l,c,n+"",e,t,a):o)===o)&&(Co(d=c)||Oo(c)?d=Co(l)?l:wo(l)?Dr(l):jn(c,!(t=!1)):jo(c)||_o(c)?d=_o(l)?Go(l):!Lo(l)||r&&ko(l)?jn(c,!(t=!1)):l:t=!1),a.set(c,d),t&&i(d,c,r,s,a),Mn(e,n,d)}(e,t,l,n,sr,r,i)):((c=r?r(e[l],a,l+"",e,t,i):o)===o&&(c=a),Mn(e,l,c))}))}function ar(e,t,n){var r=-1,i=Xr();return t=ct(t.length?t:Array(1),(function(e){return i(e)})),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(rr(e,(function(e,n,i){return{criteria:ct(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=kt(i[r],o[r]);if(l)return a<=r?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function lr(e,t){return e=Object(e),ut(t,(function(t,n){return n in e&&(t[n]=e[n]),t}),{})}function cr(e,t){var n={};return null==e||Yn(e,(function(e,r){t(e,r)&&(n[r]=e)}),ss),n}function dr(e){return function(t){return null==t?o:t[e]}}function ur(e,t,n){var r=-1,i=t.length,o=e;for(n&&(o=ct(e,(function(e){return n(e)})));++r<i;)for(var s=0,a=t[r],l=n?n(a):a;-1<(s=vt(o,l,s));)o!==e&&Ke.call(o,s,1),Ke.call(e,s,1);return e}function pr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i,o,s=t[n];r!=n&&s==i||(Et(i=s)?Ke.call(e,s,1):li(s,e)?delete e[s]:null!=(s=mi(e,o=xn(s)))&&delete s[Di(o)])}return e}function mr(e,t){return e+Tt(Wt()*(t-e+1))}function hr(e,t,n,r){for(var i=-1,s=(t=li(t,e)?[t+""]:xn(t)).length,a=s-1,l=e;null!=l&&++i<s;){var c,d,u=t[i];Lo(l)&&(d=n,i!=a&&(c=l[u],(d=r?r(c,u,l):o)===o&&(d=null==c?Et(t[i+1])?[]:{}:c)),Tn(l,u,d)),l=l[u]}return e}xe&&!ze.call({valueOf:1},"valueOf")&&(nr=function(e){return jt(xe(e))});var gr=en?function(e,t){return en.set(e,t),e}:Ls;function fr(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function vr(e,t){var n;return On(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function yr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];(n?s<=t:s<t)&&null!==s?r=1+o:i=o}return i}return br(e,t,Ls,n)}function br(e,t,n,r){t=n(t);for(var i=0,s=e?e.length:0,a=t!=t,l=null===t,c=t===o;i<s;){var d,u=Tt((i+s)/2),p=(d=n(e[u]))!==o,m=d==d;(d=a?m||r:l?m&&p&&(r||null!=d):c?m&&(r||p):null!=d&&(r?d<=t:d<t))?i=u+1:s=u}return zt(s,4294967294)}function Sr(e,t){for(var n=0,r=e.length,i=e[0],o=t?t(i):i,s=o,a=0,l=[i];++n<r;)i=e[n],bo(o=t?t(i):i,s)||(s=o,l[++a]=i);return l}function _r(e,t,n){var r=-1,i=at,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=lt;else if(d<=o){var c=t?null:Wr(e);if(c)return Nt(c);s=!1,i=vn,l=new fn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],p=t?t(u):u;if(s&&p==p){for(var m=l.length;m--;)if(l[m]===p)continue e;t&&l.push(p),a.push(u)}else i(l,p,n)||(l!==a&&l.push(p),a.push(u))}return a}function Cr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?fr(e,r?0:o,r?o+1:i):fr(e,r?o+1:0,r?i:o)}function $r(e,t){return e instanceof pn&&(e=e.value()),ut(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),e)}function wr(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?dt(Nn(o,e[r],t,n),Nn(e[r],o,t,n)):e[r];return o&&o.length?_r(o,t,n):[]}function Mr(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;)n(a,e[r],r<s?t[r]:o);return a}function Tr(e){var t=new e.constructor(e.byteLength);return new Le(t).set(new Le(e)),t}function kr(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,l=t.length,c=Ht(o-s,0),d=Array(l+c),u=!r;++a<l;)d[a]=t[a];for(;++i<s;)(u||i<o)&&(d[n[i]]=e[i]);for(;c--;)d[a++]=e[i++];return d}function Pr(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,l=-1,c=t.length,d=Ht(o-a,0),u=Array(d+c),p=!r;++i<d;)u[i]=e[i];for(var m=i;++l<c;)u[m+l]=t[l];for(;++s<a;)(p||i<o)&&(u[m+n[s]]=e[i++]);return u}function Dr(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}function Lr(e,t,n){return Ar(e,t,n)}function Ar(e,t,n,r){n=n||{};for(var i=-1,o=t.length;++i<o;){var s=t[i];Tn(n,s,r?r(n[s],e[s],s,n,e):e[s])}return n}function xr(e,t){return Lr(e,ri(e),t)}function Er(e,t){return function(n,r){var i=Co(n)?rt:kn,o=t?t():{};return i(n,e,Xr(r),o)}}function jr(e){return yo((function(t,n){var r=-1,i=n.length,s=1<i?n[i-1]:o,a=2<i?n[2]:o;s="function"==typeof s?(i--,s):o;for(a&&ai(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,s)}return t}))}function Ir(e,t){return function(n,r){if(null==n)return n;if(!$o(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Rr(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Nr(e){return function(t){t=Ho(t);var n=Re.test(t)?Vt(t):o,r=n?n[0]:t.charAt(0);t=n?n.slice(1).join(""):t.slice(1);return r[e]()+t}}function Or(e){return function(t){return ut(ws(gs(t)),e,"")}}function Vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=In(e.prototype),r=e.apply(n,t);return Lo(r)?r:n}}function Ur(e){return yo((function(t){var n=(t=Bn(t,1)).length,r=n,i=un.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new he(u);i&&!c&&"wrapper"==Jr(s)&&(c=new un([],!0))}for(r=c?r:n;++r<n;)var a=Jr(s=t[r]),l="wrapper"==a?Kr(s):o,c=l&&di(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[Jr(l[0])].apply(c,l[3]):1==s.length&&di(s)?c[a]():c.thru(s);return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Co(r)&&r.length>=d)return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Fr(e,t,n,r,i,s,a,c,d,u){var p=t&l,m=1&t,h=2&t,g=24&t,f=512&t,v=h?o:Vr(e);return function l(){for(var y,b=$=arguments.length,S=Array($);b--;)S[b]=arguments[b];if(g&&(y=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}(S,C=ni(l))),r&&(S=kr(S,r,i,g)),s&&(S=Pr(S,s,a,g)),$-=y,g&&$<u){var _=Rt(S,C);return zr(e,t,Fr,l.placeholder,n,S,_,c,d,u-$)}var C=m?n:this,$=(_=h?C[e]:e,S.length);return c?S=function(e,t){for(var n=e.length,r=zt(t.length,n),i=Dr(e);r--;){var s=t[r];e[r]=Et(s,n)?i[s]:o}return e}(S,c):f&&1<$&&S.reverse(),p&&d<$&&(S.length=d),this&&this!==Ze&&this instanceof l&&(_=v||Vr(_)),_.apply(C,S)}}function Br(e,t){return function(n,r){return i=e,o=t(r),s={},Hn(n,(function(e,t,n){i(s,o(e),t,n)})),s;var i,o,s}}function Yr(e){return yo((function(t){return t=ct(Bn(t,1),Xr()),yo((function(n){var r=this;return e(t,(function(e){return nt(e,r,n)}))}))}))}function Gr(e,t,n){return t=Fo(t),e=Ot(e),!t||t<=e?"":(e=Ss(n=n===o?" ":n+"",Xe((t-=e)/Ot(n))),Re.test(n)?Vt(e).slice(0,t).join(""):e.slice(0,t))}function Hr(e){return function(t,n,r){return r&&"number"!=typeof r&&ai(t,n,r)&&(n=r=o),t=(t=Yo(t))==t?t:0,n===o?(n=t,t=0):n=Yo(n)||0,function(e,t,n,r){for(var i=-1,o=Ht(Xe((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}(t,n,r=r===o?t<n?1:-1:Yo(r)||0,e)}}function zr(e,t,n,r,i,s,l,c,d,u){var p=8&t;c=c?Dr(c):o;return t|=p?a:64,4&(t&=~(p?64:a))||(t&=-4),u=[e,t,i,p?s:o,p?l:o,p?o:s,p?o:l,c,d,u],n=n.apply(o,u),di(e)&&fi(n,u),n.placeholder=r,n}function qr(e){var t=i[e];return function(e,n){if(e=Yo(e),n=Fo(n)){var r=(Ho(e)+"e").split("e");return+((r=(Ho(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Wr=Jt&&2===new Jt([1,2]).size?function(e){return new Jt(e)}:Is;function Qr(e,t,n,r,i,s,d,p){var m=2&t;if(!m&&"function"!=typeof e)throw new he(u);var h,g,v=r?r.length:0;v||(t&=-97,r=i=o),d=d===o?d:Ht(Fo(d),0),p=p===o?p:Fo(p),v-=i?i.length:0,64&t&&(h=r,g=i,r=i=o);var y,b,S,_,C=m?o:Kr(e);d=[e,t,n,r,i,h,g,s,d,p];return C&&function(e,t){var n,r=e[1],i=t[1],o=r|i,s=o<131,a=i==l&&8==r||i==l&&r==c&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==r;(s||a)&&(1&i&&(e[2]=t[2],o|=1&r?0:4),(r=t[3])&&(n=e[3],e[3]=n?kr(n,r,t[4]):Dr(r),e[4]=n?Rt(e[3],f):Dr(t[4])),(r=t[5])&&(n=e[5],e[5]=n?Pr(n,r,t[6]):Dr(r),e[6]=n?Rt(e[5],f):Dr(t[6])),(r=t[7])&&(e[7]=Dr(r)),i&l&&(e[8]=null==e[8]?t[8]:zt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o)}(d,C),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(p=d[9]=null==d[9]?m?0:e.length:Ht(d[9]-v,0))&&24&t&&(t&=-25),e=t&&1!=t?8==t||16==t?function(e,t,n){var r=Vr(e);return function i(){for(var s=arguments.length,a=Array(s),l=s,c=ni(i);l--;)a[l]=arguments[l];return(s-=(c=s<3&&a[0]!==c&&a[s-1]!==c?[]:Rt(a,c)).length)<n?zr(e,t,Fr,i.placeholder,o,a,c,o,o,n-s):nt(this&&this!==Ze&&this instanceof i?r:e,this,a)}}(e,t,p):t!=a&&33!=t||i.length?Fr.apply(o,d):function(e,t,n,r){var i=1&t,o=Vr(e);return function t(){for(var s=-1,a=arguments.length,l=-1,c=r.length,d=Array(c+a),u=this&&this!==Ze&&this instanceof t?o:e;++l<c;)d[l]=r[l];for(;a--;)d[l++]=arguments[++s];return nt(u,i?n:this,d)}}(e,t,n,r):(b=n,S=1&t,_=Vr(y=e),function e(){return(this&&this!==Ze&&this instanceof e?_:y).apply(S?b:this,arguments)}),(C?gr:fi)(e,d)}var Kr=en?function(e){return en.get(e)}:Is;function Jr(e){for(var t=e.name+"",n=ln[t],r=_e.call(ln,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Xr(){var e=(e=cn.iteratee||As)===As?tr:e;return arguments.length?e(arguments[0],arguments[1]):e}var Zr=dr("length");function ei(e){for(var t,n=us(e),r=n.length;r--;)n[r][2]=(t=n[r][1])==t&&!Lo(t);return n}function ti(e,t){return xo(t=null==e?o:e[t])?t:o}function ni(e){return(_e.call(cn,"placeholder")?cn:e).placeholder}var ri=Ie||function(){return[]};function ii(e){return we.call(e)}function oi(e,t,n){if(null==e)return!1;var r=n(e,t);return r||li(t)||null!=(e=mi(e,t=xn(t)))&&(r=n(e,t=Di(t))),n=e?e.length:o,r||!!n&&Do(n)&&Et(t,n)&&(Co(e)||Ro(e)||_o(e))}function si(e){var t=e?e.length:o;return Do(t)&&(Co(e)||Ro(e)||_o(e))?St(t,String):null}function ai(e,t,n){if(Lo(n)){var r=typeof t;return("number"==r?$o(n)&&Et(t,n.length):"string"==r&&t in n)&&bo(n[t],e)}}function li(e,t){return"number"==typeof e||!Co(e)&&(Z.test(e)||!X.test(e)||null!=t&&e in Object(t))}function ci(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function di(e){var t=Jr(e),n=cn[t];if("function"==typeof n&&t in pn.prototype)return e===n?1:(n=Kr(n))&&e===n[0]}function ui(e){var t=e&&e.constructor;return e===(ko(t)&&t.prototype||be)}function pi(e,t,n,r,i,s){return Lo(e)&&Lo(t)&&(s.set(t,e),sr(e,t,o,pi,s)),e}function mi(e,t){return 1==t.length?e:Zo(e,fr(t,0,-1))}(Kt&&ii(new Kt)!=w||Jt&&ii(new Jt)!=P||Xt&&ii(new Xt)!=A)&&(ii=function(e){var t=we.call(e);if(e="function"==typeof(e=t==T?e.constructor:null)?Se.call(e):"")switch(e){case tn:return w;case nn:return P;case rn:return A}return t});var hi,gi,fi=(gi=hi=0,function(e,t){var n=io(),r=16-(n-gi);if(gi=n,0<r){if(++hi>=150)return e}else hi=0;return gr(e,t)});function vi(e){var t=[];return Ho(e).replace(ee,(function(e,n,r,i){t.push(r?i.replace(se,"$1"):n||e)})),t}function yi(e){if(e instanceof pn)return e.clone();var t=new un(e.__wrapped__,e.__chain__);return t.__actions__=Dr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var bi=yo((function(e,t){return Co(e)||(e=null==e?[]:[Object(e)]),function(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,s=Array(r+o);++n<r;)s[n]=e[n];for(;++i<o;)s[n++]=t[i];return s}(e,t=Bn(t,1))})),Si=yo((function(e,t){return wo(e)?Nn(e,Bn(t,1,!0)):[]})),_i=yo((function(e,t){var n=Di(t);return wo(n)&&(n=o),wo(e)?Nn(e,Bn(t,1,!0),Xr(n)):[]})),Ci=yo((function(e,t){var n=Di(t);return wo(n)&&(n=o),wo(e)?Nn(e,Bn(t,1,!0),o,n):[]}));function $i(e,t,n){var r=e?e.length:0;return r?fr(e,(t=n||t===o?1:Fo(t))<0?0:t,r):[]}function wi(e,t,n){var r=e?e.length:0;return r?fr(e,0,(t=r-(n||t===o?1:Fo(t)))<0?0:t):[]}function Mi(e){return e?e[0]:o}var Ti=yo((function(e){var t=ct(e,Ln);return t.length&&t[0]===e[0]?Jn(t):[]})),ki=yo((function(e){var t=Di(e),n=ct(e,Ln);return t===Di(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Jn(n,Xr(t)):[]})),Pi=yo((function(e){var t=Di(e),n=ct(e,Ln);return t===Di(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Jn(n,o,t):[]}));function Di(e){var t=e?e.length:0;return t?e[t-1]:o}var Li=yo(Ai);function Ai(e,t){return e&&e.length&&t&&t.length?ur(e,t):e}var xi=yo((function(e,t){var n=Dn(e,t=ct(Bn(t,1),String));return pr(e,t.sort(kt)),n}));function Ei(e){return e&&Qt.call(e)}var ji=yo((function(e){return _r(Bn(e,1,!0))})),Ii=yo((function(e){var t=Di(e);return wo(t)&&(t=o),_r(Bn(e,1,!0),Xr(t))})),Ri=yo((function(e){var t=Di(e);return wo(t)&&(t=o),_r(Bn(e,1,!0),o,t)}));function Ni(e){if(!e||!e.length)return[];var t=0;return e=st(e,(function(e){return wo(e)&&(t=Ht(e.length,t),1)})),St(t,(function(t){return ct(e,dr(t))}))}function Oi(e,t){return e&&e.length?(e=Ni(e),null==t?e:ct(e,(function(e){return nt(t,o,e)}))):[]}var Vi=yo((function(e,t){return wo(e)?Nn(e,t):[]})),Ui=yo((function(e){return wr(st(e,wo))})),Fi=yo((function(e){var t=Di(e);return wo(t)&&(t=o),wr(st(e,wo),Xr(t))})),Bi=yo((function(e){var t=Di(e);return wo(t)&&(t=o),wr(st(e,wo),o,t)})),Yi=yo(Ni),Gi=yo((function(e){var t="function"==typeof(t=1<(t=e.length)?e[t-1]:o)?(e.pop(),t):o;return Oi(e,t)}));function Hi(e){return(e=cn(e)).__chain__=!0,e}function zi(e,t){return t(e)}var qi=yo((function(e){function t(t){return Dn(t,e)}var n=(e=Bn(e,1)).length,r=n?e[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof pn&&Et(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:zi,args:[t],thisArg:o}),new un(i,this.__chain__).thru((function(e){return n&&!e.length&&e.push(o),e}))):this.thru(t)})),Wi=Er((function(e,t,n){_e.call(e,n)?++e[n]:e[n]=1}));function Qi(e,t){return"function"==typeof t&&Co(e)?it(e,t):On(e,An(t))}function Ki(e,t){return"function"==typeof t&&Co(e)?function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e}(e,t):Vn(e,An(t))}var Ji=Er((function(e,t,n){_e.call(e,n)?e[n].push(t):e[n]=[t]})),Xi=yo((function(e,t,n){var r=-1,i="function"==typeof t,s=li(t),a=$o(e)?Array(e.length):[];return On(e,(function(e){var l=i?t:s&&null!=e?e[t]:o;a[++r]=l?nt(l,e,n):Xn(e,t,n)})),a})),Zi=Er((function(e,t,n){e[n]=t}));function eo(e,t){return(Co(e)?ct:rr)(e,Xr(t,3))}var to=Er((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));function no(e,t){var n=-1,r=Uo(e),i=(e=r.length)-1;for(t=En(Fo(t),0,e);++n<t;){var o=mr(n,i),s=r[o];r[o]=r[n],r[n]=s}return r.length=t,r}var ro=yo((function(e,t){if(null==e)return[];var n=t.length;return 1<n&&ai(e,t[0],t[1])?t=[]:2<n&&ai(t[0],t[1],t[2])&&(t.length=1),ar(e,Bn(t,1),[])})),io=n.now;function oo(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qr(e,l,o,o,o,o,t)}function so(e,t){var n;if("function"!=typeof t)throw new he(u);return e=Fo(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ao=yo((function(e,t,n){var r,i=1;return n.length&&(r=Rt(n,ni(ao)),i|=a),Qr(e,i,t,n,r)})),lo=yo((function(e,t,n){var r,i=3;return n.length&&(r=Rt(n,ni(lo)),i|=a),Qr(t,i,e,n,r)}));function co(e,t,n){var r,i,s,a,l,c,d,p=0,m=!1,h=!1,g=!0;if("function"!=typeof e)throw new he(u);function f(){c&&Ae(c),i&&Ae(i),p=0,r=i=l=c=d=o}function v(t,n){n&&Ae(n),i=c=d=o,t&&(p=io(),s=e.apply(l,r),c||i||(r=l=o))}function y(){var e=t-(io()-a);e<=0||t<e?v(d,i):c=qe(y,e)}function b(){v(g,c)}function S(){var n,u,f;return r=arguments,a=io(),l=this,d=g&&(c||!m),!1===h?n=m&&!c:(p||i||m||(p=a),(f=((u=h-(a-p))<=0||h<u)&&(m||i))?(i=i&&Ae(i),p=a,s=e.apply(l,r)):i=i||qe(b,u)),f&&c?c=Ae(c):c||t===h||(c=qe(y,t)),n&&(f=!0,s=e.apply(l,r)),!f||c||i||(r=l=o),s}return t=Yo(t)||0,Lo(n)&&(m=!!n.leading,h="maxWait"in n&&Ht(Yo(n.maxWait)||0,t),g="trailing"in n?!!n.trailing:g),S.cancel=f,S.flush=function(){return(c&&d||i&&g)&&(s=e.apply(l,r)),f(),s},S}var uo=yo((function(e,t){return Rn(e,1,t)})),po=yo((function(e,t,n){return Rn(e,Yo(t)||0,n)}));function mo(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new he(u);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=e.apply(this,r),n.cache=o.set(i,r),r)};return n.cache=new mo.Cache,n}var ho=yo((function(e,t){var n=(t=ct(Bn(t,1),Xr())).length;return yo((function(r){for(var i=-1,o=zt(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return nt(e,this,r)}))})),go=yo((function(e,t){var n=Rt(t,ni(go));return Qr(e,a,o,t,n)})),fo=yo((function(e,t){var n=Rt(t,ni(fo));return Qr(e,64,o,t,n)})),vo=yo((function(e,t){return Qr(e,c,o,o,o,Bn(t,1))}));function yo(e,t){if("function"!=typeof e)throw new he(u);return t=Ht(t===o?e.length-1:Fo(t),0),function(){for(var n=arguments,r=-1,i=Ht(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=o,nt(e,this,s)}}function bo(e,t){return e===t||e!=e&&t!=t}function So(e,t){return t<e}function _o(e){return wo(e)&&_e.call(e,"callee")&&(!ze.call(e,"callee")||we.call(e)==v)}var Co=Array.isArray;function $o(e){return null!=e&&!("function"==typeof e&&ko(e))&&Do(Zr(e))}function wo(e){return Ao(e)&&$o(e)}var Mo=ke?function(e){return e instanceof ke}:ks(!1);function To(e){return!!Ao(e)&&(we.call(e)==_||"string"==typeof e.message&&"string"==typeof e.name)}function ko(e){return(e=Lo(e)?we.call(e):"")==C||e==$}function Po(e){return"number"==typeof e&&e==Fo(e)}function Do(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=h}function Lo(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ao(e){return!!e&&"object"==typeof e}function xo(e){return null!=e&&(ko(e)?Te.test(Se.call(e)):Ao(e)&&(xt(e)?Te:pe).test(e))}function Eo(e){return"number"==typeof e||Ao(e)&&we.call(e)==M}function jo(e){return!(!Ao(e)||we.call(e)!=T||xt(e))&&(null===(e=Ee(e))||"function"==typeof(e=e.constructor)&&e instanceof e&&Se.call(e)==$e)}function Io(e){return Lo(e)&&we.call(e)==k}function Ro(e){return"string"==typeof e||!Co(e)&&Ao(e)&&we.call(e)==D}function No(e){return"symbol"==typeof e||Ao(e)&&we.call(e)==L}function Oo(e){return Ao(e)&&Do(e.length)&&!!Be[we.call(e)]}function Vo(e,t){return e<t}function Uo(e){if(!e)return[];if($o(e))return(Ro(e)?Vt:Dr)(e);if(Ge&&e[Ge])return jt(e[Ge]());var t=ii(e);return(t==w?It:t==P?Nt:ps)(e)}function Fo(e){if(!e)return 0===e?e:0;if((e=Yo(e))===m||e===-m)return 17976931348623157e292*(e<0?-1:1);var t=e%1;return e==e?t?e-t:e:0}function Bo(e){return e?En(Fo(e),0,g):0}function Yo(e){if(Lo(e)&&(e=Lo(t=ko(e.valueOf)?e.valueOf():e)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=e.replace(re,"");var t=ue.test(e);return t||me.test(e)?Qe(e.slice(2),t?2:8):de.test(e)?NaN:+e}function Go(e){return Lr(e,ss(e))}function Ho(e){if("string"==typeof e)return e;if(null==e)return"";if(No(e))return De?an.call(e):"";var t=e+"";return"0"==t&&1/e==-m?"-0":t}var zo=jr((function(e,t){Lr(t,os(t),e)})),qo=jr((function(e,t){Lr(t,ss(t),e)})),Wo=jr((function(e,t,n,r){Ar(t,ss(t),e,r)})),Qo=jr((function(e,t,n,r){Ar(t,os(t),e,r)})),Ko=yo((function(e,t){return Dn(e,Bn(t,1))})),Jo=yo((function(e){return e.push(o,wn),nt(Wo,o,e)})),Xo=yo((function(e){return e.push(o,pi),nt(ls,o,e)}));function Zo(e,t,n){return(t=null==e?o:Wn(e,t))===o?n:t}function es(e,t){return oi(e,t,Qn)}function ts(e,t){return oi(e,t,Kn)}var ns=Br((function(e,t,n){e[t]=n}),ks(Ls)),rs=Br((function(e,t,n){_e.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),is=yo(Xn);function os(e){var t=ui(e);if(!t&&!$o(e))return Gt(Object(e));var n,r=si(e),i=!!r,o=r||[],s=o.length;for(n in e)!Qn(e,n)||i&&("length"==n||Et(n,s))||t&&"constructor"==n||o.push(n);return o}function ss(e){for(var t=-1,n=ui(e),r=nr(e),i=r.length,o=si(e),s=!!o,a=o||[],l=a.length;++t<i;){var c=r[t];s&&("length"==c||Et(c,l))||"constructor"==c&&(n||!_e.call(e,c))||a.push(c)}return a}var as=jr((function(e,t,n){sr(e,t,n)})),ls=jr((function(e,t,n,r){sr(e,t,n,r)})),cs=yo((function(e,t){return null==e?{}:(t=ct(Bn(t,1),String),lr(e,Nn(ss(e),t)))})),ds=yo((function(e,t){return null==e?{}:lr(e,Bn(t,1))}));function us(e){return _t(e,os(e))}function ps(e){return e?$t(e,os(e)):[]}var ms=Or((function(e,t,n){return t=t.toLowerCase(),e+(n?hs(t):t)}));function hs(e){return bs(Ho(e).toLowerCase())}function gs(e){return(e=Ho(e))&&e.replace(ge,Pt).replace(je,"")}var fs=Or((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),vs=Or((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ys=Nr("toLowerCase"),bs=Nr("toUpperCase");function Ss(e,t){e=Ho(e),t=Fo(t);var n="";if(!e||t<1||h<t)return n;for(;t%2&&(n+=e),e+=e,t=Tt(t/2););return n}var _s=Or((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Cs=Or((function(e,t,n){return e+(n?" ":"")+hs(t)})),$s=Or((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));function ws(e,t,n){return e=Ho(e),(t=n?o:t)===o&&(t=Ve.test(e)?Oe:Ne),e.match(t)||[]}var Ms=yo((function(e,t){try{return nt(e,o,t)}catch(e){return To(e)?e:new r(e)}})),Ts=yo((function(e,t){return it(Bn(t,1),(function(t){e[t]=ao(e[t],e)})),e}));function ks(e){return function(){return e}}var Ps=Ur(),Ds=Ur(!0);function Ls(e){return e}function As(e){return tr("function"==typeof e?e:jn(e,!0))}var xs=yo((function(e,t){return function(n){return Xn(n,e,t)}})),Es=yo((function(e,t){return function(n){return Xn(e,n,t)}}));function js(e,t,n){var r=os(t),i=qn(t,r);null!=n||Lo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=qn(t,os(t)));var o=!(Lo(n)&&"chain"in n)||n.chain,s=ko(e);return it(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Dr(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function Is(){}var Rs=Yr(ct),Ns=Yr(ot);Pe=Yr(mt);function Os(e){return li(e)?dr(e):(t=e,function(e){return Wn(e,t)});var t}t=Hr(),on=Hr(!0),Ie=qr("ceil"),Xt=qr("floor");var Vs;n=qr("round");function Us(e){return e&&e.length?bt(e,Ls):0}return cn.prototype=dn.prototype,(un.prototype=In(dn.prototype)).constructor=un,(pn.prototype=In(dn.prototype)).constructor=pn,mn.prototype=Zt?Zt(null):be,gn.prototype.clear=function(){this.__data__={hash:new mn,map:Kt?new Kt:[],string:new mn}},gn.prototype.delete=function(e){var t,n,r=this.__data__;return ci(e)?hn(t="string"==typeof e?r.string:r.hash,n=e)&&delete t[n]:Kt?r.map.delete(e):bn(r.map,e)},gn.prototype.get=function(e){var t=this.__data__;return ci(e)?function(e,t){if(Zt){var n=e[t];return n===p?o:n}return _e.call(e,t)?e[t]:o}("string"==typeof e?t.string:t.hash,e):Kt?t.map.get(e):Sn(t.map,e)},gn.prototype.has=function(e){var t=this.__data__;return ci(e)?hn("string"==typeof e?t.string:t.hash,e):Kt?t.map.has(e):_n(t.map,e)},gn.prototype.set=function(e,t){var n,r=this.__data__;return ci(e)?(n=t,("string"==typeof e?r.string:r.hash)[e]=Zt&&n===o?p:n):Kt?r.map.set(e,t):$n(r.map,e,t),this},fn.prototype.push=function(e){var t,n=this.__data__;ci(e)?(t=n.__data__,("string"==typeof e?t.string:t.hash)[e]=p):n.set(e,p)},yn.prototype.clear=function(){this.__data__={array:[],map:null}},yn.prototype.delete=function(e){var t=this.__data__,n=t.array;return n?bn(n,e):t.map.delete(e)},yn.prototype.get=function(e){var t=this.__data__,n=t.array;return n?Sn(n,e):t.map.get(e)},yn.prototype.has=function(e){var t=this.__data__,n=t.array;return n?_n(n,e):t.map.has(e)},yn.prototype.set=function(e,t){var n=this.__data__,r=n.array;return r&&(r.length<199?$n(r,e,t):(n.array=null,n.map=new gn(r))),(n=n.map)&&n.set(e,t),this},mo.Cache=gn,cn.after=function(e,t){if("function"!=typeof t)throw new he(u);return e=Fo(e),function(){if(--e<1)return t.apply(this,arguments)}},cn.ary=oo,cn.assign=zo,cn.assignIn=qo,cn.assignInWith=Wo,cn.assignWith=Qo,cn.at=Ko,cn.before=so,cn.bind=ao,cn.bindAll=Ts,cn.bindKey=lo,cn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Co(e)?e:[e]},cn.chain=Hi,cn.chunk=function(e,t){t=Ht(Fo(t),0);var n=e?e.length:0;if(!n||t<1)return[];for(var r=0,i=-1,o=Array(Xe(n/t));r<n;)o[++i]=fr(e,r,r+=t);return o},cn.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i},cn.concat=bi,cn.cond=function(e){var t=e?e.length:0,n=Xr();return e=t?ct(e,(function(e){if("function"!=typeof e[1])throw new he(u);return[n(e[0]),e[1]]})):[],yo((function(n){for(var r=-1;++r<t;){var i=e[r];if(nt(i[0],this,n))return nt(i[1],this,n)}}))},cn.conforms=function(e){return t=jn(e,!0),n=os(t),r=n.length,function(e){if(null==e)return!r;for(var i=r;i--;){var s=n[i],a=t[s],l=e[s];if(l===o&&!(s in Object(e))||!a(l))return!1}return!0};var t,n,r},cn.constant=ks,cn.countBy=Wi,cn.create=function(e,t){return e=In(e),t?Pn(e,t):e},cn.curry=function e(t,n,r){return(n=Qr(t,8,o,o,o,o,o,n=r?o:n)).placeholder=e.placeholder,n},cn.curryRight=function e(t,n,r){return(n=Qr(t,16,o,o,o,o,o,n=r?o:n)).placeholder=e.placeholder,n},cn.debounce=co,cn.defaults=Jo,cn.defaultsDeep=Xo,cn.defer=uo,cn.delay=po,cn.difference=Si,cn.differenceBy=_i,cn.differenceWith=Ci,cn.drop=$i,cn.dropRight=wi,cn.dropRightWhile=function(e,t){return e&&e.length?Cr(e,Xr(t,3),!0,!0):[]},cn.dropWhile=function(e,t){return e&&e.length?Cr(e,Xr(t,3),!0):[]},cn.fill=function(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&ai(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Fo(n))<0&&(n=i<-n?0:i+n),(r=r===o||i<r?i:Fo(r))<0&&(r+=i),r=r<n?0:Bo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},cn.filter=function(e,t){return(Co(e)?st:Fn)(e,Xr(t,3))},cn.flatMap=function(e,t){return Bn(eo(e,t),1)},cn.flatten=function(e){return e&&e.length?Bn(e,1):[]},cn.flattenDeep=function(e){return e&&e.length?Bn(e,m):[]},cn.flattenDepth=function(e,t){return e&&e.length?Bn(e,t=t===o?1:Fo(t)):[]},cn.flip=function(e){return Qr(e,512)},cn.flow=Ps,cn.flowRight=Ds,cn.fromPairs=function(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},cn.functions=function(e){return null==e?[]:qn(e,os(e))},cn.functionsIn=function(e){return null==e?[]:qn(e,ss(e))},cn.groupBy=Ji,cn.initial=function(e){return wi(e,1)},cn.intersection=Ti,cn.intersectionBy=ki,cn.intersectionWith=Pi,cn.invert=ns,cn.invertBy=rs,cn.invokeMap=Xi,cn.iteratee=As,cn.keyBy=Zi,cn.keys=os,cn.keysIn=ss,cn.map=eo,cn.mapKeys=function(e,t){var n={};return t=Xr(t,3),Hn(e,(function(e,r,i){n[t(e,r,i)]=e})),n},cn.mapValues=function(e,t){var n={};return t=Xr(t,3),Hn(e,(function(e,r,i){n[r]=t(e,r,i)})),n},cn.matches=function(e){return ir(jn(e,!0))},cn.matchesProperty=function(e,t){return or(e,jn(t,!0))},cn.memoize=mo,cn.merge=as,cn.mergeWith=ls,cn.method=xs,cn.methodOf=Es,cn.mixin=js,cn.negate=function(e){if("function"!=typeof e)throw new he(u);return function(){return!e.apply(this,arguments)}},cn.nthArg=function(e){return e=Fo(e),function(){return arguments[e]}},cn.omit=cs,cn.omitBy=function(e,t){return t=Xr(t),cr(e,(function(e,n){return!t(e,n)}))},cn.once=function(e){return so(2,e)},cn.orderBy=function(e,t,n,r){return null==e?[]:(Co(t)||(t=null==t?[]:[t]),Co(n=r?o:n)||(n=null==n?[]:[n]),ar(e,t,n))},cn.over=Rs,cn.overArgs=ho,cn.overEvery=Ns,cn.overSome=Pe,cn.partial=go,cn.partialRight=fo,cn.partition=to,cn.pick=ds,cn.pickBy=function(e,t){return null==e?{}:cr(e,Xr(t))},cn.property=Os,cn.propertyOf=function(e){return function(t){return null==e?o:Wn(e,t)}},cn.pull=Li,cn.pullAll=Ai,cn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ur(e,t,Xr(n)):e},cn.pullAt=xi,cn.range=t,cn.rangeRight=on,cn.rearg=vo,cn.reject=function(e,t){var n=Co(e)?st:Fn;return t=Xr(t,3),n(e,(function(e,n,r){return!t(e,n,r)}))},cn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Xr(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return pr(e,i),n},cn.rest=yo,cn.reverse=Ei,cn.sampleSize=no,cn.set=function(e,t,n){return null==e?e:hr(e,t,n)},cn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:hr(e,t,n,r)},cn.shuffle=function(e){return no(e,g)},cn.slice=function(e,t,n){var r=e?e.length:0;return r?(n=n&&"number"!=typeof n&&ai(e,t,n)?(t=0,r):(t=null==t?0:Fo(t),n===o?r:Fo(n)),fr(e,t,n)):[]},cn.sortBy=ro,cn.sortedUniq=function(e){return e&&e.length?Sr(e):[]},cn.sortedUniqBy=function(e,t){return e&&e.length?Sr(e,Xr(t)):[]},cn.split=function(e,t,n){return Ho(e).split(t,n)},cn.spread=function(e,t){if("function"!=typeof e)throw new he(u);return t=t===o?0:Ht(Fo(t),0),yo((function(n){var r=n[t];n=n.slice(0,t);return r&&dt(n,r),nt(e,this,n)}))},cn.tail=function(e){return $i(e,1)},cn.take=function(e,t,n){return e&&e.length?fr(e,0,(t=n||t===o?1:Fo(t))<0?0:t):[]},cn.takeRight=function(e,t,n){var r=e?e.length:0;return r?fr(e,(t=r-(n||t===o?1:Fo(t)))<0?0:t,r):[]},cn.takeRightWhile=function(e,t){return e&&e.length?Cr(e,Xr(t,3),!1,!0):[]},cn.takeWhile=function(e,t){return e&&e.length?Cr(e,Xr(t,3)):[]},cn.tap=function(e,t){return t(e),e},cn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new he(u);return Lo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),co(e,t,{leading:r,maxWait:t,trailing:i})},cn.thru=zi,cn.toArray=Uo,cn.toPairs=us,cn.toPairsIn=function(e){return _t(e,ss(e))},cn.toPath=function(e){return Co(e)?ct(e,String):vi(e)},cn.toPlainObject=Go,cn.transform=function(e,t,n){var r,i=Co(e)||Oo(e);return t=Xr(t,4),null==n&&(n=i||Lo(e)?(r=e.constructor,i?Co(e)?new r:[]:ko(r)?In(Ee(e)):{}):{}),(i?it:Hn)(e,(function(e,r,i){return t(n,e,r,i)})),n},cn.unary=function(e){return oo(e,1)},cn.union=ji,cn.unionBy=Ii,cn.unionWith=Ri,cn.uniq=function(e){return e&&e.length?_r(e):[]},cn.uniqBy=function(e,t){return e&&e.length?_r(e,Xr(t)):[]},cn.uniqWith=function(e,t){return e&&e.length?_r(e,o,t):[]},cn.unset=function(e,t){return null==e||(e=mi(e,t=li(t,e)?[t+""]:xn(t)),t=Di(t),null==e||!es(e,t)||delete e[t])},cn.unzip=Ni,cn.unzipWith=Oi,cn.values=ps,cn.valuesIn=function(e){return null==e?[]:$t(e,ss(e))},cn.without=Vi,cn.words=ws,cn.wrap=function(e,t){return go(t=null==t?Ls:t,e)},cn.xor=Ui,cn.xorBy=Fi,cn.xorWith=Bi,cn.zip=Yi,cn.zipObject=function(e,t){return Mr(e||[],t||[],Tn)},cn.zipObjectDeep=function(e,t){return Mr(e||[],t||[],hr)},cn.zipWith=Gi,cn.extend=qo,cn.extendWith=Wo,js(cn,cn),cn.add=function(e,t){var n;return e===o&&t===o?0:(e!==o&&(n=e),t!==o&&(n=n===o?t:n+t),n)},cn.attempt=Ms,cn.camelCase=ms,cn.capitalize=hs,cn.ceil=Ie,cn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Yo(n))==n?n:0),t!==o&&(t=(t=Yo(t))==t?t:0),En(Yo(e),t,n)},cn.clone=function(e){return jn(e)},cn.cloneDeep=function(e){return jn(e,!0)},cn.cloneDeepWith=function(e,t){return jn(e,!0,t)},cn.cloneWith=function(e,t){return jn(e,!1,t)},cn.deburr=gs,cn.endsWith=function(e,t,n){t="string"==typeof t?t:t+"";var r=(e=Ho(e)).length;return n=n===o?r:En(Fo(n),0,r),0<=(n-=t.length)&&e.indexOf(t,n)==n},cn.eq=bo,cn.escape=function(e){return(e=Ho(e))&&W.test(e)?e.replace(z,Dt):e},cn.escapeRegExp=function(e){return(e=Ho(e))&&ne.test(e)?e.replace(te,"\\$&"):e},cn.every=function(e,t,n){var r=Co(e)?ot:Un;return n&&ai(e,t,n)&&(t=o),r(e,Xr(t,3))},cn.find=function(e,t){if(t=Xr(t,3),Co(e)){var n=ft(e,t);return-1<n?e[n]:o}return gt(e,t,On)},cn.findIndex=function(e,t){return e&&e.length?ft(e,Xr(t,3)):-1},cn.findKey=function(e,t){return gt(e,Xr(t,3),Hn,!0)},cn.findLast=function(e,t){if(t=Xr(t,3),Co(e)){var n=ft(e,t,!0);return-1<n?e[n]:o}return gt(e,t,Vn)},cn.findLastIndex=function(e,t){return e&&e.length?ft(e,Xr(t,3),!0):-1},cn.findLastKey=function(e,t){return gt(e,Xr(t,3),zn,!0)},cn.floor=Xt,cn.forEach=Qi,cn.forEachRight=Ki,cn.forIn=function(e,t){return null==e?e:Yn(e,An(t),ss)},cn.forInRight=function(e,t){return null==e?e:Gn(e,An(t),ss)},cn.forOwn=function(e,t){return e&&Hn(e,An(t))},cn.forOwnRight=function(e,t){return e&&zn(e,An(t))},cn.get=Zo,cn.gt=So,cn.gte=function(e,t){return t<=e},cn.has=es,cn.hasIn=ts,cn.head=Mi,cn.identity=Ls,cn.includes=function(e,t,n,r){return e=$o(e)?e:ps(e),n=n&&!r?Fo(n):0,r=e.length,n<0&&(n=Ht(r+n,0)),Ro(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<vt(e,t,n)},cn.indexOf=function(e,t,n){var r=e?e.length:0;return r?((n=Fo(n))<0&&(n=Ht(r+n,0)),vt(e,t,n)):-1},cn.inRange=function(e,t,n){return t=Yo(t)||0,n===o?(n=t,t=0):n=Yo(n)||0,(e=Yo(e))>=zt(t,n)&&e<Ht(t,n)},cn.invoke=is,cn.isArguments=_o,cn.isArray=Co,cn.isArrayBuffer=function(e){return Ao(e)&&we.call(e)==x},cn.isArrayLike=$o,cn.isArrayLikeObject=wo,cn.isBoolean=function(e){return!0===e||!1===e||Ao(e)&&we.call(e)==b},cn.isBuffer=Mo,cn.isDate=function(e){return Ao(e)&&we.call(e)==S},cn.isElement=function(e){return!!e&&1===e.nodeType&&Ao(e)&&!jo(e)},cn.isEmpty=function(e){if($o(e)&&(Co(e)||Ro(e)||ko(e.splice)||_o(e)))return!e.length;for(var t in e)if(_e.call(e,t))return!1;return!0},cn.isEqual=function(e,t){return Zn(e,t)},cn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Zn(e,t,n):!!r},cn.isError=To,cn.isFinite=function(e){return"number"==typeof e&&Bt(e)},cn.isFunction=ko,cn.isInteger=Po,cn.isLength=Do,cn.isMap=function(e){return Ao(e)&&ii(e)==w},cn.isMatch=function(e,t){return e===t||er(e,t,ei(t))},cn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,er(e,t,ei(t),n)},cn.isNaN=function(e){return Eo(e)&&e!=+e},cn.isNative=xo,cn.isNil=function(e){return null==e},cn.isNull=function(e){return null===e},cn.isNumber=Eo,cn.isObject=Lo,cn.isObjectLike=Ao,cn.isPlainObject=jo,cn.isRegExp=Io,cn.isSafeInteger=function(e){return Po(e)&&-h<=e&&e<=h},cn.isSet=function(e){return Ao(e)&&ii(e)==P},cn.isString=Ro,cn.isSymbol=No,cn.isTypedArray=Oo,cn.isUndefined=function(e){return e===o},cn.isWeakMap=function(e){return Ao(e)&&ii(e)==A},cn.isWeakSet=function(e){return Ao(e)&&"[object WeakSet]"==we.call(e)},cn.join=function(e,t){return e?Yt.call(e,t):""},cn.kebabCase=fs,cn.last=Di,cn.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==o&&(i=((i=Fo(n))<0?Ht(r+i,0):zt(i,r-1))+1),t!=t)return At(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},cn.lowerCase=vs,cn.lowerFirst=ys,cn.lt=Vo,cn.lte=function(e,t){return e<=t},cn.max=function(e){return e&&e.length?ht(e,Ls,So):o},cn.maxBy=function(e,t){return e&&e.length?ht(e,Xr(t),So):o},cn.mean=function(e){return Us(e)/(e?e.length:0)},cn.min=function(e){return e&&e.length?ht(e,Ls,Vo):o},cn.minBy=function(e,t){return e&&e.length?ht(e,Xr(t),Vo):o},cn.noConflict=function(){return Ze._===this&&(Ze._=Me),this},cn.noop=Is,cn.now=io,cn.pad=function(e,t,n){e=Ho(e),t=Fo(t);var r=Ot(e);return!t||t<=r?e:(r=Tt(t=(t-r)/2),t=Xe(t),Gr("",r,n)+e+Gr("",t,n))},cn.padEnd=function(e,t,n){return(e=Ho(e))+Gr(e,t,n)},cn.padStart=function(e,t,n){return Gr(e=Ho(e),t,n)+e},cn.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,e=Ho(e).replace(re,""),qt(e,t||(ce.test(e)?16:10))},cn.random=function(e,t,n){var r;return n&&"boolean"!=typeof n&&ai(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Yo(e)||0,t===o?(t=e,e=0):t=Yo(t)||0),t<e&&(r=e,e=t,t=r),n||e%1||t%1?(n=Wt(),zt(e+n*(t-e+We("1e-"+((n+"").length-1))),t)):mr(e,t)},cn.reduce=function(e,t,n){var r=Co(e)?ut:yt,i=arguments.length<3;return r(e,Xr(t,4),n,i,On)},cn.reduceRight=function(e,t,n){var r=Co(e)?pt:yt,i=arguments.length<3;return r(e,Xr(t,4),n,i,Vn)},cn.repeat=Ss,cn.replace=function(){var e=arguments,t=Ho(e[0]);return e.length<3?t:t.replace(e[1],e[2])},cn.result=function(e,t,n){var r;return li(t,e)?r=null==e?o:e[t]:(r=Zo(e,t=xn(t)),e=mi(e,t)),r===o&&(r=n),ko(r)?r.call(e):r},cn.round=n,cn.runInContext=e,cn.sample=function(e){var t=$o(e)?e:ps(e);return 0<(e=t.length)?t[mr(0,e-1)]:o},cn.size=function(e){if(null==e)return 0;if($o(e)){var t=e.length;return t&&Ro(e)?Ot(e):t}return os(e).length},cn.snakeCase=_s,cn.some=function(e,t,n){var r=Co(e)?mt:vr;return n&&ai(e,t,n)&&(t=o),r(e,Xr(t,3))},cn.sortedIndex=function(e,t){return yr(e,t)},cn.sortedIndexBy=function(e,t,n){return br(e,t,Xr(n))},cn.sortedIndexOf=function(e,t){var n=e?e.length:0;if(n){var r=yr(e,t);if(r<n&&bo(e[r],t))return r}return-1},cn.sortedLastIndex=function(e,t){return yr(e,t,!0)},cn.sortedLastIndexBy=function(e,t,n){return br(e,t,Xr(n),!0)},cn.sortedLastIndexOf=function(e,t){if(e&&e.length){var n=yr(e,t,!0)-1;if(bo(e[n],t))return n}return-1},cn.startCase=Cs,cn.startsWith=function(e,t,n){return e=Ho(e),n=En(Fo(n),0,e.length),e.lastIndexOf(t,n)==n},cn.subtract=function(e,t){var n;return e===o&&t===o?0:(e!==o&&(n=e),t!==o&&(n=n===o?t:n-t),n)},cn.sum=Us,cn.sumBy=function(e,t){return e&&e.length?bt(e,Xr(t)):0},cn.template=function(e,t,n){var r=cn.templateSettings;n&&ai(e,t,n)&&(t=o),e=Ho(e),t=Wo({},t,r,wn);var i,a,l=os(r=Wo({},t.imports,r.imports,wn)),c=$t(r,l),d=0,u=(r=t.interpolate||fe,"__p += '"),p=(r=s((t.escape||fe).source+"|"+r.source+"|"+(r===J?ae:fe).source+"|"+(t.evaluate||fe).source+"|$","g"),"//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Fe+"]")+"\n");if(e.replace(r,(function(t,n,r,o,s,l){return r=r||o,u+=e.slice(d,l).replace(ve,Lt),n&&(i=!0,u+="' +\n__e("+n+") +\n'"),s&&(a=!0,u+="';\n"+s+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t})),u+="';\n",(t=t.variable)||(u="with (obj) {\n"+u+"\n}\n"),u=(a?u.replace(B,""):u).replace(Y,"$1").replace(G,"$1;"),u="function("+(t||"obj")+") {\n"+(t?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}",(t=Ms((function(){return Function(l,p+"return "+u).apply(o,c)}))).source=u,To(t))throw t;return t},cn.times=function(e,t){if((e=Fo(e))<1||h<e)return[];var n=g,r=zt(e,g);for(t=An(t),e-=g,r=St(r,t);++n<e;)t(n);return r},cn.toInteger=Fo,cn.toLength=Bo,cn.toLower=function(e){return Ho(e).toLowerCase()},cn.toNumber=Yo,cn.toSafeInteger=function(e){return En(Fo(e),-h,h)},cn.toString=Ho,cn.toUpper=function(e){return Ho(e).toUpperCase()},cn.trim=function(e,t,n){return(e=Ho(e))?n||t===o?e.replace(re,""):(t+="")?(e=Vt(e),t=Vt(t),e.slice(wt(e,t),Mt(e,t)+1).join("")):e:e},cn.trimEnd=function(e,t,n){return(e=Ho(e))?n||t===o?e.replace(oe,""):(t+="")?(e=Vt(e)).slice(0,Mt(e,Vt(t))+1).join(""):e:e},cn.trimStart=function(e,t,n){return(e=Ho(e))?n||t===o?e.replace(ie,""):(t+="")?(e=Vt(e)).slice(wt(e,Vt(t))).join(""):e:e},cn.truncate=function(e,t){var n,r=30,i="...";Lo(t)&&(n="separator"in t?t.separator:n,r="length"in t?Fo(t.length):r,i="omission"in t?Ho(t.omission):i);var a;t=(e=Ho(e)).length;if(Re.test(e)&&(t=(a=Vt(e)).length),t<=r)return e;if((t=r-Ot(i))<1)return i;if(r=a?a.slice(0,t).join(""):e.slice(0,t),n===o)return r+i;if(a&&(t+=r.length-t),Io(n)){if(e.slice(t).search(n)){var l,c=r;for(n.global||(n=s(n.source,Ho(le.exec(n))+"g")),n.lastIndex=0;l=n.exec(c);)var d=l.index;r=r.slice(0,d===o?t:d)}}else e.indexOf(n,t)==t||-1<(t=r.lastIndexOf(n))&&(r=r.slice(0,t));return r+i},cn.unescape=function(e){return(e=Ho(e))&&q.test(e)?e.replace(H,Ut):e},cn.uniqueId=function(e){var t=++Ce;return Ho(e)+t},cn.upperCase=$s,cn.upperFirst=bs,cn.each=Qi,cn.eachRight=Ki,cn.first=Mi,js(cn,(Vs={},Hn(cn,(function(e,t){_e.call(cn.prototype,t)||(Vs[t]=e)})),Vs),{chain:!1}),cn.VERSION="4.5.1",it(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){cn[e].placeholder=cn})),it(["drop","take"],(function(e,t){pn.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new pn(this);n=n===o?1:Ht(Fo(n),0);var i=this.clone();return r?i.__takeCount__=zt(n,i.__takeCount__):i.__views__.push({size:zt(n,g),type:e+(i.__dir__<0?"Right":"")}),i},pn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),it(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;pn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),it(["head","last"],(function(e,t){var n="take"+(t?"Right":"");pn.prototype[e]=function(){return this[n](1).value()[0]}})),it(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");pn.prototype[e]=function(){return this.__filtered__?new pn(this):this[n](1)}})),pn.prototype.compact=function(){return this.filter(Ls)},pn.prototype.find=function(e){return this.filter(e).head()},pn.prototype.findLast=function(e){return this.reverse().find(e)},pn.prototype.invokeMap=yo((function(e,t){return"function"==typeof e?new pn(this):this.map((function(n){return Xn(n,e,t)}))})),pn.prototype.reject=function(e){return e=Xr(e,3),this.filter((function(t){return!e(t)}))},pn.prototype.slice=function(e,t){e=Fo(e);var n=this;return n.__filtered__&&(0<e||t<0)?new pn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Fo(t))<0?n.dropRight(-t):n.take(t-e)),n)},pn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},pn.prototype.toArray=function(){return this.take(g)},Hn(pn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=cn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(cn.prototype[t]=function(){function t(e){return e=i.apply(cn,dt([e],l)),r&&p?e[0]:e}var a=this.__wrapped__,l=r?[1]:arguments,c=a instanceof pn,d=l[0],u=c||Co(a);u&&n&&"function"==typeof d&&1!=d.length&&(c=u=!1);var p=this.__chain__,m=!!this.__actions__.length;d=s&&!p,m=c&&!m;if(s||!u)return d&&m?e.apply(this,l):(h=this.thru(t),d?r?h.value()[0]:h.value():h);a=m?a:new pn(this);var h=e.apply(a,l);return h.__actions__.push({func:zi,args:[t],thisArg:o}),new un(h,p)})})),it(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);cn.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n]((function(n){return t.apply(n,e)}))}})),Hn(pn.prototype,(function(e,t){var n,r=cn[t];r&&(n=r.name+"",(ln[n]||(ln[n]=[])).push({name:t,func:r}))})),ln[Fr(o,2).name]=[{name:"wrapper",func:o}],pn.prototype.clone=function(){var e=new pn(this.__wrapped__);return e.__actions__=Dr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Dr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Dr(this.__views__),e},pn.prototype.reverse=function(){var e;return this.__filtered__?((e=new pn(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},pn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Co(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=zt(t,e+s);break;case"takeRight":e=Ht(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=(o=o.end)-s,l=r?o:s-1,c=this.__iteratees__,u=c.length,p=0,m=zt(a,this.__takeCount__);if(!n||i<d||i==a&&m==a)return $r(e,this.__actions__);var h=[];e:for(;a--&&p<m;){for(var g=-1,f=e[l+=t];++g<u;){var v=(y=c[g]).iteratee,y=y.type;v=v(f);if(2==y)f=v;else if(!v){if(1==y)continue e;break e}}h[p++]=f}return h},cn.prototype.at=qi,cn.prototype.chain=function(){return Hi(this)},cn.prototype.commit=function(){return new un(this.value(),this.__chain__)},cn.prototype.flatMap=function(e){return this.map(e).flatten()},cn.prototype.next=function(){this.__values__===o&&(this.__values__=Uo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},cn.prototype.plant=function(e){for(var t,n=this;n instanceof dn;){var r=yi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},cn.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof pn?(this.__actions__.length&&(e=new pn(this)),(e=e.reverse()).__actions__.push({func:zi,args:[Ei],thisArg:o}),new un(e,this.__chain__)):this.thru(Ei)},cn.prototype.toJSON=cn.prototype.valueOf=cn.prototype.value=function(){return $r(this.__wrapped__,this.__actions__)},Ge&&(cn.prototype[Ge]=function(){return this}),cn}();(Xe||Ke||{})._=Ft,(i=function(){return Ft}.call(t,n,t,e))===o||(e.exports=i)}).call(this)}).call(this,n(120)(e),n(126))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}],e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",Object.defineProperty(e,"p",{get:function(){try{if("string"!=typeof streamFullStaticPath)throw new Error("WebpackRequireFrom: 'streamFullStaticPath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return streamFullStaticPath}catch(e){return""}}}),e(e.s=124);function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t,n}));